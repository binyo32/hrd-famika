var rm=Object.defineProperty;var nm=(et,tt,rt)=>tt in et?rm(et,tt,{enumerable:!0,configurable:!0,writable:!0,value:rt}):et[tt]=rt;var tn=(et,tt,rt)=>(nm(et,typeof tt!="symbol"?tt+"":tt,rt),rt),Bo=(et,tt,rt)=>{if(!tt.has(et))throw TypeError("Cannot "+rt)};var zt=(et,tt,rt)=>(Bo(et,tt,"read from private field"),rt?rt.call(et):tt.get(et)),mr=(et,tt,rt)=>{if(tt.has(et))throw TypeError("Cannot add the same private member more than once");tt instanceof WeakSet?tt.add(et):tt.set(et,rt)},jr=(et,tt,rt,nt)=>(Bo(et,tt,"write to private field"),nt?nt.call(et,rt):tt.set(et,rt),rt);var ks=(et,tt,rt,nt)=>({set _(at){jr(et,tt,at,rt)},get _(){return zt(et,tt,nt)}}),Er=(et,tt,rt)=>(Bo(et,tt,"access private method"),rt);function _mergeNamespaces(et,tt){for(var rt=0;rt<tt.length;rt++){const nt=tt[rt];if(typeof nt!="string"&&!Array.isArray(nt)){for(const at in nt)if(at!=="default"&&!(at in et)){const it=Object.getOwnPropertyDescriptor(nt,at);it&&Object.defineProperty(et,at,it.get?it:{enumerable:!0,get:()=>nt[at]})}}}return Object.freeze(Object.defineProperty(et,Symbol.toStringTag,{value:"Module"}))}(function(){const tt=document.createElement("link").relList;if(tt&&tt.supports&&tt.supports("modulepreload"))return;for(const at of document.querySelectorAll('link[rel="modulepreload"]'))nt(at);new MutationObserver(at=>{for(const it of at)if(it.type==="childList")for(const st of it.addedNodes)st.tagName==="LINK"&&st.rel==="modulepreload"&&nt(st)}).observe(document,{childList:!0,subtree:!0});function rt(at){const it={};return at.integrity&&(it.integrity=at.integrity),at.referrerPolicy&&(it.referrerPolicy=at.referrerPolicy),at.crossOrigin==="use-credentials"?it.credentials="include":at.crossOrigin==="anonymous"?it.credentials="omit":it.credentials="same-origin",it}function nt(at){if(at.ep)return;at.ep=!0;const it=rt(at);fetch(at.href,it)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(et){return et&&et.__esModule&&Object.prototype.hasOwnProperty.call(et,"default")?et.default:et}function getAugmentedNamespace(et){if(et.__esModule)return et;var tt=et.default;if(typeof tt=="function"){var rt=function nt(){return this instanceof nt?Reflect.construct(tt,arguments,this.constructor):tt.apply(this,arguments)};rt.prototype=tt.prototype}else rt={};return Object.defineProperty(rt,"__esModule",{value:!0}),Object.keys(et).forEach(function(nt){var at=Object.getOwnPropertyDescriptor(et,nt);Object.defineProperty(rt,nt,at.get?at:{enumerable:!0,get:function(){return et[nt]}})}),rt}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$5=Symbol.for("react.fragment"),q$4=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$3=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$3(et){return et===null||typeof et!="object"?null:(et=z$2&&et[z$2]||et["@@iterator"],typeof et=="function"?et:null)}var B$4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$4={};function E$2(et,tt,rt){this.props=et,this.context=tt,this.refs=D$4,this.updater=rt||B$4}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(et,tt){if(typeof et!="object"&&typeof et!="function"&&et!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,et,tt,"setState")};E$2.prototype.forceUpdate=function(et){this.updater.enqueueForceUpdate(this,et,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$3(et,tt,rt){this.props=et,this.context=tt,this.refs=D$4,this.updater=rt||B$4}var H$3=G$3.prototype=new F$1;H$3.constructor=G$3;C$2(H$3,E$2.prototype);H$3.isPureReactComponent=!0;var I$2=Array.isArray,J$3=Object.prototype.hasOwnProperty,K$3={current:null},L$5={key:!0,ref:!0,__self:!0,__source:!0};function M$2(et,tt,rt){var nt,at={},it=null,st=null;if(tt!=null)for(nt in tt.ref!==void 0&&(st=tt.ref),tt.key!==void 0&&(it=""+tt.key),tt)J$3.call(tt,nt)&&!L$5.hasOwnProperty(nt)&&(at[nt]=tt[nt]);var ot=arguments.length-2;if(ot===1)at.children=rt;else if(1<ot){for(var lt=Array(ot),ct=0;ct<ot;ct++)lt[ct]=arguments[ct+2];at.children=lt}if(et&&et.defaultProps)for(nt in ot=et.defaultProps,ot)at[nt]===void 0&&(at[nt]=ot[nt]);return{$$typeof:l$3,type:et,key:it,ref:st,props:at,_owner:K$3.current}}function N$2(et,tt){return{$$typeof:l$3,type:et.type,key:tt,ref:et.ref,props:et.props,_owner:et._owner}}function O$3(et){return typeof et=="object"&&et!==null&&et.$$typeof===l$3}function escape$1(et){var tt={"=":"=0",":":"=2"};return"$"+et.replace(/[=:]/g,function(rt){return tt[rt]})}var P$3=/\/+/g;function Q$1(et,tt){return typeof et=="object"&&et!==null&&et.key!=null?escape$1(""+et.key):tt.toString(36)}function R$2(et,tt,rt,nt,at){var it=typeof et;(it==="undefined"||it==="boolean")&&(et=null);var st=!1;if(et===null)st=!0;else switch(it){case"string":case"number":st=!0;break;case"object":switch(et.$$typeof){case l$3:case n$3:st=!0}}if(st)return st=et,at=at(st),et=nt===""?"."+Q$1(st,0):nt,I$2(at)?(rt="",et!=null&&(rt=et.replace(P$3,"$&/")+"/"),R$2(at,tt,rt,"",function(ct){return ct})):at!=null&&(O$3(at)&&(at=N$2(at,rt+(!at.key||st&&st.key===at.key?"":(""+at.key).replace(P$3,"$&/")+"/")+et)),tt.push(at)),1;if(st=0,nt=nt===""?".":nt+":",I$2(et))for(var ot=0;ot<et.length;ot++){it=et[ot];var lt=nt+Q$1(it,ot);st+=R$2(it,tt,rt,lt,at)}else if(lt=A$3(et),typeof lt=="function")for(et=lt.call(et),ot=0;!(it=et.next()).done;)it=it.value,lt=nt+Q$1(it,ot++),st+=R$2(it,tt,rt,lt,at);else if(it==="object")throw tt=String(et),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.");return st}function S$3(et,tt,rt){if(et==null)return et;var nt=[],at=0;return R$2(et,nt,"","",function(it){return tt.call(rt,it,at++)}),nt}function T$2(et){if(et._status===-1){var tt=et._result;tt=tt(),tt.then(function(rt){(et._status===0||et._status===-1)&&(et._status=1,et._result=rt)},function(rt){(et._status===0||et._status===-1)&&(et._status=2,et._result=rt)}),et._status===-1&&(et._status=0,et._result=tt)}if(et._status===1)return et._result.default;throw et._result}var U$4={current:null},V$2={transition:null},W$4={ReactCurrentDispatcher:U$4,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$3};react_production_min.Children={map:S$3,forEach:function(et,tt,rt){S$3(et,function(){tt.apply(this,arguments)},rt)},count:function(et){var tt=0;return S$3(et,function(){tt++}),tt},toArray:function(et){return S$3(et,function(tt){return tt})||[]},only:function(et){if(!O$3(et))throw Error("React.Children.only expected to receive a single React element child.");return et}};react_production_min.Component=E$2;react_production_min.Fragment=p$5;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$4;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$4;react_production_min.cloneElement=function(et,tt,rt){if(et==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+et+".");var nt=C$2({},et.props),at=et.key,it=et.ref,st=et._owner;if(tt!=null){if(tt.ref!==void 0&&(it=tt.ref,st=K$3.current),tt.key!==void 0&&(at=""+tt.key),et.type&&et.type.defaultProps)var ot=et.type.defaultProps;for(lt in tt)J$3.call(tt,lt)&&!L$5.hasOwnProperty(lt)&&(nt[lt]=tt[lt]===void 0&&ot!==void 0?ot[lt]:tt[lt])}var lt=arguments.length-2;if(lt===1)nt.children=rt;else if(1<lt){ot=Array(lt);for(var ct=0;ct<lt;ct++)ot[ct]=arguments[ct+2];nt.children=ot}return{$$typeof:l$3,type:et.type,key:at,ref:it,props:nt,_owner:st}};react_production_min.createContext=function(et){return et={$$typeof:u$3,_currentValue:et,_currentValue2:et,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},et.Provider={$$typeof:t$2,_context:et},et.Consumer=et};react_production_min.createElement=M$2;react_production_min.createFactory=function(et){var tt=M$2.bind(null,et);return tt.type=et,tt};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(et){return{$$typeof:v$3,render:et}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(et){return{$$typeof:y$2,_payload:{_status:-1,_result:et},_init:T$2}};react_production_min.memo=function(et,tt){return{$$typeof:x$2,type:et,compare:tt===void 0?null:tt}};react_production_min.startTransition=function(et){var tt=V$2.transition;V$2.transition={};try{et()}finally{V$2.transition=tt}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(et,tt){return U$4.current.useCallback(et,tt)};react_production_min.useContext=function(et){return U$4.current.useContext(et)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(et){return U$4.current.useDeferredValue(et)};react_production_min.useEffect=function(et,tt){return U$4.current.useEffect(et,tt)};react_production_min.useId=function(){return U$4.current.useId()};react_production_min.useImperativeHandle=function(et,tt,rt){return U$4.current.useImperativeHandle(et,tt,rt)};react_production_min.useInsertionEffect=function(et,tt){return U$4.current.useInsertionEffect(et,tt)};react_production_min.useLayoutEffect=function(et,tt){return U$4.current.useLayoutEffect(et,tt)};react_production_min.useMemo=function(et,tt){return U$4.current.useMemo(et,tt)};react_production_min.useReducer=function(et,tt,rt){return U$4.current.useReducer(et,tt,rt)};react_production_min.useRef=function(et){return U$4.current.useRef(et)};react_production_min.useState=function(et){return U$4.current.useState(et)};react_production_min.useSyncExternalStore=function(et,tt,rt){return U$4.current.useSyncExternalStore(et,tt,rt)};react_production_min.useTransition=function(){return U$4.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React$1=getDefaultExportFromCjs(reactExports),$2AODx$react=_mergeNamespaces({__proto__:null,default:React$1},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$4=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$4=Object.prototype.hasOwnProperty,n$2=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$4={key:!0,ref:!0,__self:!0,__source:!0};function q$3(et,tt,rt){var nt,at={},it=null,st=null;rt!==void 0&&(it=""+rt),tt.key!==void 0&&(it=""+tt.key),tt.ref!==void 0&&(st=tt.ref);for(nt in tt)m$4.call(tt,nt)&&!p$4.hasOwnProperty(nt)&&(at[nt]=tt[nt]);if(et&&et.defaultProps)for(nt in tt=et.defaultProps,tt)at[nt]===void 0&&(at[nt]=tt[nt]);return{$$typeof:k$4,type:et,key:it,ref:st,props:at,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$3;reactJsxRuntime_production_min.jsxs=q$3;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(et){function tt(Ut,Ht){var Qt=Ut.length;Ut.push(Ht);e:for(;0<Qt;){var ir=Qt-1>>>1,Xt=Ut[ir];if(0<at(Xt,Ht))Ut[ir]=Ht,Ut[Qt]=Xt,Qt=ir;else break e}}function rt(Ut){return Ut.length===0?null:Ut[0]}function nt(Ut){if(Ut.length===0)return null;var Ht=Ut[0],Qt=Ut.pop();if(Qt!==Ht){Ut[0]=Qt;e:for(var ir=0,Xt=Ut.length,Lt=Xt>>>1;ir<Lt;){var jt=2*(ir+1)-1,Nt=Ut[jt],Mt=jt+1,Vt=Ut[Mt];if(0>at(Nt,Qt))Mt<Xt&&0>at(Vt,Nt)?(Ut[ir]=Vt,Ut[Mt]=Qt,ir=Mt):(Ut[ir]=Nt,Ut[jt]=Qt,ir=jt);else if(Mt<Xt&&0>at(Vt,Qt))Ut[ir]=Vt,Ut[Mt]=Qt,ir=Mt;else break e}}return Ht}function at(Ut,Ht){var Qt=Ut.sortIndex-Ht.sortIndex;return Qt!==0?Qt:Ut.id-Ht.id}if(typeof performance=="object"&&typeof performance.now=="function"){var it=performance;et.unstable_now=function(){return it.now()}}else{var st=Date,ot=st.now();et.unstable_now=function(){return st.now()-ot}}var lt=[],ct=[],ut=1,dt=null,ft=3,ht=!1,gt=!1,mt=!1,xt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function yt(Ut){for(var Ht=rt(ct);Ht!==null;){if(Ht.callback===null)nt(ct);else if(Ht.startTime<=Ut)nt(ct),Ht.sortIndex=Ht.expirationTime,tt(lt,Ht);else break;Ht=rt(ct)}}function St(Ut){if(mt=!1,yt(Ut),!gt)if(rt(lt)!==null)gt=!0,Bt(bt);else{var Ht=rt(ct);Ht!==null&&qt(St,Ht.startTime-Ut)}}function bt(Ut,Ht){gt=!1,mt&&(mt=!1,vt(At),At=-1),ht=!0;var Qt=ft;try{for(yt(Ht),dt=rt(lt);dt!==null&&(!(dt.expirationTime>Ht)||Ut&&!Pt());){var ir=dt.callback;if(typeof ir=="function"){dt.callback=null,ft=dt.priorityLevel;var Xt=ir(dt.expirationTime<=Ht);Ht=et.unstable_now(),typeof Xt=="function"?dt.callback=Xt:dt===rt(lt)&&nt(lt),yt(Ht)}else nt(lt);dt=rt(lt)}if(dt!==null)var Lt=!0;else{var jt=rt(ct);jt!==null&&qt(St,jt.startTime-Ht),Lt=!1}return Lt}finally{dt=null,ft=Qt,ht=!1}}var Et=!1,Tt=null,At=-1,Ct=5,kt=-1;function Pt(){return!(et.unstable_now()-kt<Ct)}function Dt(){if(Tt!==null){var Ut=et.unstable_now();kt=Ut;var Ht=!0;try{Ht=Tt(!0,Ut)}finally{Ht?Ft():(Et=!1,Tt=null)}}else Et=!1}var Ft;if(typeof _t=="function")Ft=function(){_t(Dt)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,It=Ot.port2;Ot.port1.onmessage=Dt,Ft=function(){It.postMessage(null)}}else Ft=function(){xt(Dt,0)};function Bt(Ut){Tt=Ut,Et||(Et=!0,Ft())}function qt(Ut,Ht){At=xt(function(){Ut(et.unstable_now())},Ht)}et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(Ut){Ut.callback=null},et.unstable_continueExecution=function(){gt||ht||(gt=!0,Bt(bt))},et.unstable_forceFrameRate=function(Ut){0>Ut||125<Ut?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ct=0<Ut?Math.floor(1e3/Ut):5},et.unstable_getCurrentPriorityLevel=function(){return ft},et.unstable_getFirstCallbackNode=function(){return rt(lt)},et.unstable_next=function(Ut){switch(ft){case 1:case 2:case 3:var Ht=3;break;default:Ht=ft}var Qt=ft;ft=Ht;try{return Ut()}finally{ft=Qt}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=function(){},et.unstable_runWithPriority=function(Ut,Ht){switch(Ut){case 1:case 2:case 3:case 4:case 5:break;default:Ut=3}var Qt=ft;ft=Ut;try{return Ht()}finally{ft=Qt}},et.unstable_scheduleCallback=function(Ut,Ht,Qt){var ir=et.unstable_now();switch(typeof Qt=="object"&&Qt!==null?(Qt=Qt.delay,Qt=typeof Qt=="number"&&0<Qt?ir+Qt:ir):Qt=ir,Ut){case 1:var Xt=-1;break;case 2:Xt=250;break;case 5:Xt=1073741823;break;case 4:Xt=1e4;break;default:Xt=5e3}return Xt=Qt+Xt,Ut={id:ut++,callback:Ht,priorityLevel:Ut,startTime:Qt,expirationTime:Xt,sortIndex:-1},Qt>ir?(Ut.sortIndex=Qt,tt(ct,Ut),rt(lt)===null&&Ut===rt(ct)&&(mt?(vt(At),At=-1):mt=!0,qt(St,Qt-ir))):(Ut.sortIndex=Xt,tt(lt,Ut),gt||ht||(gt=!0,Bt(bt))),Ut},et.unstable_shouldYield=Pt,et.unstable_wrapCallback=function(Ut){var Ht=ft;return function(){var Qt=ft;ft=Ht;try{return Ut.apply(this,arguments)}finally{ft=Qt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$3(et){for(var tt="https://reactjs.org/docs/error-decoder.html?invariant="+et,rt=1;rt<arguments.length;rt++)tt+="&args[]="+encodeURIComponent(arguments[rt]);return"Minified React error #"+et+"; visit "+tt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(et,tt){ha(et,tt),ha(et+"Capture",tt)}function ha(et,tt){for(ea[et]=tt,et=0;et<tt.length;et++)da.add(tt[et])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(et){return ja.call(ma,et)?!0:ja.call(la,et)?!1:ka$1.test(et)?ma[et]=!0:(la[et]=!0,!1)}function pa(et,tt,rt,nt){if(rt!==null&&rt.type===0)return!1;switch(typeof tt){case"function":case"symbol":return!0;case"boolean":return nt?!1:rt!==null?!rt.acceptsBooleans:(et=et.toLowerCase().slice(0,5),et!=="data-"&&et!=="aria-");default:return!1}}function qa(et,tt,rt,nt){if(tt===null||typeof tt>"u"||pa(et,tt,rt,nt))return!0;if(nt)return!1;if(rt!==null)switch(rt.type){case 3:return!tt;case 4:return tt===!1;case 5:return isNaN(tt);case 6:return isNaN(tt)||1>tt}return!1}function v$2(et,tt,rt,nt,at,it,st){this.acceptsBooleans=tt===2||tt===3||tt===4,this.attributeName=nt,this.attributeNamespace=at,this.mustUseProperty=rt,this.propertyName=et,this.type=tt,this.sanitizeURL=it,this.removeEmptyString=st}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(et){z$1[et]=new v$2(et,0,!1,et,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(et){var tt=et[0];z$1[tt]=new v$2(tt,1,!1,et[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(et){z$1[et]=new v$2(et,2,!1,et.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(et){z$1[et]=new v$2(et,2,!1,et,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(et){z$1[et]=new v$2(et,3,!1,et.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(et){z$1[et]=new v$2(et,3,!0,et,null,!1,!1)});["capture","download"].forEach(function(et){z$1[et]=new v$2(et,4,!1,et,null,!1,!1)});["cols","rows","size","span"].forEach(function(et){z$1[et]=new v$2(et,6,!1,et,null,!1,!1)});["rowSpan","start"].forEach(function(et){z$1[et]=new v$2(et,5,!1,et.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(et){return et[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(et){var tt=et.replace(ra,sa);z$1[tt]=new v$2(tt,1,!1,et,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(et){var tt=et.replace(ra,sa);z$1[tt]=new v$2(tt,1,!1,et,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(et){var tt=et.replace(ra,sa);z$1[tt]=new v$2(tt,1,!1,et,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(et){z$1[et]=new v$2(et,1,!1,et.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(et){z$1[et]=new v$2(et,1,!1,et.toLowerCase(),null,!0,!0)});function ta(et,tt,rt,nt){var at=z$1.hasOwnProperty(tt)?z$1[tt]:null;(at!==null?at.type!==0:nt||!(2<tt.length)||tt[0]!=="o"&&tt[0]!=="O"||tt[1]!=="n"&&tt[1]!=="N")&&(qa(tt,rt,at,nt)&&(rt=null),nt||at===null?oa(tt)&&(rt===null?et.removeAttribute(tt):et.setAttribute(tt,""+rt)):at.mustUseProperty?et[at.propertyName]=rt===null?at.type===3?!1:"":rt:(tt=at.attributeName,nt=at.attributeNamespace,rt===null?et.removeAttribute(tt):(at=at.type,rt=at===3||at===4&&rt===!0?"":""+rt,nt?et.setAttributeNS(nt,tt,rt):et.setAttribute(tt,rt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(et){return et===null||typeof et!="object"?null:(et=Ja&&et[Ja]||et["@@iterator"],typeof et=="function"?et:null)}var A$2=Object.assign,La;function Ma(et){if(La===void 0)try{throw Error()}catch(rt){var tt=rt.stack.trim().match(/\n( *(at )?)/);La=tt&&tt[1]||""}return`
`+La+et}var Na=!1;function Oa(et,tt){if(!et||Na)return"";Na=!0;var rt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(tt)if(tt=function(){throw Error()},Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(ct){var nt=ct}Reflect.construct(et,[],tt)}else{try{tt.call()}catch(ct){nt=ct}et.call(tt.prototype)}else{try{throw Error()}catch(ct){nt=ct}et()}}catch(ct){if(ct&&nt&&typeof ct.stack=="string"){for(var at=ct.stack.split(`
`),it=nt.stack.split(`
`),st=at.length-1,ot=it.length-1;1<=st&&0<=ot&&at[st]!==it[ot];)ot--;for(;1<=st&&0<=ot;st--,ot--)if(at[st]!==it[ot]){if(st!==1||ot!==1)do if(st--,ot--,0>ot||at[st]!==it[ot]){var lt=`
`+at[st].replace(" at new "," at ");return et.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",et.displayName)),lt}while(1<=st&&0<=ot);break}}}finally{Na=!1,Error.prepareStackTrace=rt}return(et=et?et.displayName||et.name:"")?Ma(et):""}function Pa(et){switch(et.tag){case 5:return Ma(et.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return et=Oa(et.type,!1),et;case 11:return et=Oa(et.type.render,!1),et;case 1:return et=Oa(et.type,!0),et;default:return""}}function Qa(et){if(et==null)return null;if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et;switch(et){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof et=="object")switch(et.$$typeof){case Ca:return(et.displayName||"Context")+".Consumer";case Ba:return(et._context.displayName||"Context")+".Provider";case Da:var tt=et.render;return et=et.displayName,et||(et=tt.displayName||tt.name||"",et=et!==""?"ForwardRef("+et+")":"ForwardRef"),et;case Ga:return tt=et.displayName||null,tt!==null?tt:Qa(et.type)||"Memo";case Ha:tt=et._payload,et=et._init;try{return Qa(et(tt))}catch{}}return null}function Ra(et){var tt=et.type;switch(et.tag){case 24:return"Cache";case 9:return(tt.displayName||"Context")+".Consumer";case 10:return(tt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return et=tt.render,et=et.displayName||et.name||"",tt.displayName||(et!==""?"ForwardRef("+et+")":"ForwardRef");case 7:return"Fragment";case 5:return tt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(tt);case 8:return tt===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof tt=="function")return tt.displayName||tt.name||null;if(typeof tt=="string")return tt}return null}function Sa(et){switch(typeof et){case"boolean":case"number":case"string":case"undefined":return et;case"object":return et;default:return""}}function Ta(et){var tt=et.type;return(et=et.nodeName)&&et.toLowerCase()==="input"&&(tt==="checkbox"||tt==="radio")}function Ua(et){var tt=Ta(et)?"checked":"value",rt=Object.getOwnPropertyDescriptor(et.constructor.prototype,tt),nt=""+et[tt];if(!et.hasOwnProperty(tt)&&typeof rt<"u"&&typeof rt.get=="function"&&typeof rt.set=="function"){var at=rt.get,it=rt.set;return Object.defineProperty(et,tt,{configurable:!0,get:function(){return at.call(this)},set:function(st){nt=""+st,it.call(this,st)}}),Object.defineProperty(et,tt,{enumerable:rt.enumerable}),{getValue:function(){return nt},setValue:function(st){nt=""+st},stopTracking:function(){et._valueTracker=null,delete et[tt]}}}}function Va(et){et._valueTracker||(et._valueTracker=Ua(et))}function Wa(et){if(!et)return!1;var tt=et._valueTracker;if(!tt)return!0;var rt=tt.getValue(),nt="";return et&&(nt=Ta(et)?et.checked?"true":"false":et.value),et=nt,et!==rt?(tt.setValue(et),!0):!1}function Xa(et){if(et=et||(typeof document<"u"?document:void 0),typeof et>"u")return null;try{return et.activeElement||et.body}catch{return et.body}}function Ya(et,tt){var rt=tt.checked;return A$2({},tt,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:rt??et._wrapperState.initialChecked})}function Za(et,tt){var rt=tt.defaultValue==null?"":tt.defaultValue,nt=tt.checked!=null?tt.checked:tt.defaultChecked;rt=Sa(tt.value!=null?tt.value:rt),et._wrapperState={initialChecked:nt,initialValue:rt,controlled:tt.type==="checkbox"||tt.type==="radio"?tt.checked!=null:tt.value!=null}}function ab(et,tt){tt=tt.checked,tt!=null&&ta(et,"checked",tt,!1)}function bb(et,tt){ab(et,tt);var rt=Sa(tt.value),nt=tt.type;if(rt!=null)nt==="number"?(rt===0&&et.value===""||et.value!=rt)&&(et.value=""+rt):et.value!==""+rt&&(et.value=""+rt);else if(nt==="submit"||nt==="reset"){et.removeAttribute("value");return}tt.hasOwnProperty("value")?cb(et,tt.type,rt):tt.hasOwnProperty("defaultValue")&&cb(et,tt.type,Sa(tt.defaultValue)),tt.checked==null&&tt.defaultChecked!=null&&(et.defaultChecked=!!tt.defaultChecked)}function db(et,tt,rt){if(tt.hasOwnProperty("value")||tt.hasOwnProperty("defaultValue")){var nt=tt.type;if(!(nt!=="submit"&&nt!=="reset"||tt.value!==void 0&&tt.value!==null))return;tt=""+et._wrapperState.initialValue,rt||tt===et.value||(et.value=tt),et.defaultValue=tt}rt=et.name,rt!==""&&(et.name=""),et.defaultChecked=!!et._wrapperState.initialChecked,rt!==""&&(et.name=rt)}function cb(et,tt,rt){(tt!=="number"||Xa(et.ownerDocument)!==et)&&(rt==null?et.defaultValue=""+et._wrapperState.initialValue:et.defaultValue!==""+rt&&(et.defaultValue=""+rt))}var eb=Array.isArray;function fb(et,tt,rt,nt){if(et=et.options,tt){tt={};for(var at=0;at<rt.length;at++)tt["$"+rt[at]]=!0;for(rt=0;rt<et.length;rt++)at=tt.hasOwnProperty("$"+et[rt].value),et[rt].selected!==at&&(et[rt].selected=at),at&&nt&&(et[rt].defaultSelected=!0)}else{for(rt=""+Sa(rt),tt=null,at=0;at<et.length;at++){if(et[at].value===rt){et[at].selected=!0,nt&&(et[at].defaultSelected=!0);return}tt!==null||et[at].disabled||(tt=et[at])}tt!==null&&(tt.selected=!0)}}function gb(et,tt){if(tt.dangerouslySetInnerHTML!=null)throw Error(p$3(91));return A$2({},tt,{value:void 0,defaultValue:void 0,children:""+et._wrapperState.initialValue})}function hb(et,tt){var rt=tt.value;if(rt==null){if(rt=tt.children,tt=tt.defaultValue,rt!=null){if(tt!=null)throw Error(p$3(92));if(eb(rt)){if(1<rt.length)throw Error(p$3(93));rt=rt[0]}tt=rt}tt==null&&(tt=""),rt=tt}et._wrapperState={initialValue:Sa(rt)}}function ib(et,tt){var rt=Sa(tt.value),nt=Sa(tt.defaultValue);rt!=null&&(rt=""+rt,rt!==et.value&&(et.value=rt),tt.defaultValue==null&&et.defaultValue!==rt&&(et.defaultValue=rt)),nt!=null&&(et.defaultValue=""+nt)}function jb(et){var tt=et.textContent;tt===et._wrapperState.initialValue&&tt!==""&&tt!==null&&(et.value=tt)}function kb(et){switch(et){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(et,tt){return et==null||et==="http://www.w3.org/1999/xhtml"?kb(tt):et==="http://www.w3.org/2000/svg"&&tt==="foreignObject"?"http://www.w3.org/1999/xhtml":et}var mb,nb=function(et){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(tt,rt,nt,at){MSApp.execUnsafeLocalFunction(function(){return et(tt,rt,nt,at)})}:et}(function(et,tt){if(et.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in et)et.innerHTML=tt;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+tt.valueOf().toString()+"</svg>",tt=mb.firstChild;et.firstChild;)et.removeChild(et.firstChild);for(;tt.firstChild;)et.appendChild(tt.firstChild)}});function ob(et,tt){if(tt){var rt=et.firstChild;if(rt&&rt===et.lastChild&&rt.nodeType===3){rt.nodeValue=tt;return}}et.textContent=tt}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(et){qb.forEach(function(tt){tt=tt+et.charAt(0).toUpperCase()+et.substring(1),pb[tt]=pb[et]})});function rb(et,tt,rt){return tt==null||typeof tt=="boolean"||tt===""?"":rt||typeof tt!="number"||tt===0||pb.hasOwnProperty(et)&&pb[et]?(""+tt).trim():tt+"px"}function sb(et,tt){et=et.style;for(var rt in tt)if(tt.hasOwnProperty(rt)){var nt=rt.indexOf("--")===0,at=rb(rt,tt[rt],nt);rt==="float"&&(rt="cssFloat"),nt?et.setProperty(rt,at):et[rt]=at}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(et,tt){if(tt){if(tb[et]&&(tt.children!=null||tt.dangerouslySetInnerHTML!=null))throw Error(p$3(137,et));if(tt.dangerouslySetInnerHTML!=null){if(tt.children!=null)throw Error(p$3(60));if(typeof tt.dangerouslySetInnerHTML!="object"||!("__html"in tt.dangerouslySetInnerHTML))throw Error(p$3(61))}if(tt.style!=null&&typeof tt.style!="object")throw Error(p$3(62))}}function vb(et,tt){if(et.indexOf("-")===-1)return typeof tt.is=="string";switch(et){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(et){return et=et.target||et.srcElement||window,et.correspondingUseElement&&(et=et.correspondingUseElement),et.nodeType===3?et.parentNode:et}var yb=null,zb=null,Ab=null;function Bb(et){if(et=Cb(et)){if(typeof yb!="function")throw Error(p$3(280));var tt=et.stateNode;tt&&(tt=Db(tt),yb(et.stateNode,et.type,tt))}}function Eb(et){zb?Ab?Ab.push(et):Ab=[et]:zb=et}function Fb(){if(zb){var et=zb,tt=Ab;if(Ab=zb=null,Bb(et),tt)for(et=0;et<tt.length;et++)Bb(tt[et])}}function Gb(et,tt){return et(tt)}function Hb(){}var Ib=!1;function Jb(et,tt,rt){if(Ib)return et(tt,rt);Ib=!0;try{return Gb(et,tt,rt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(et,tt){var rt=et.stateNode;if(rt===null)return null;var nt=Db(rt);if(nt===null)return null;rt=nt[tt];e:switch(tt){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(nt=!nt.disabled)||(et=et.type,nt=!(et==="button"||et==="input"||et==="select"||et==="textarea")),et=!nt;break e;default:et=!1}if(et)return null;if(rt&&typeof rt!="function")throw Error(p$3(231,tt,typeof rt));return rt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(et,tt,rt,nt,at,it,st,ot,lt){var ct=Array.prototype.slice.call(arguments,3);try{tt.apply(rt,ct)}catch(ut){this.onError(ut)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(et){Ob=!0,Pb=et}};function Tb(et,tt,rt,nt,at,it,st,ot,lt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(et,tt,rt,nt,at,it,st,ot,lt){if(Tb.apply(this,arguments),Ob){if(Ob){var ct=Pb;Ob=!1,Pb=null}else throw Error(p$3(198));Qb||(Qb=!0,Rb=ct)}}function Vb(et){var tt=et,rt=et;if(et.alternate)for(;tt.return;)tt=tt.return;else{et=tt;do tt=et,tt.flags&4098&&(rt=tt.return),et=tt.return;while(et)}return tt.tag===3?rt:null}function Wb(et){if(et.tag===13){var tt=et.memoizedState;if(tt===null&&(et=et.alternate,et!==null&&(tt=et.memoizedState)),tt!==null)return tt.dehydrated}return null}function Xb(et){if(Vb(et)!==et)throw Error(p$3(188))}function Yb(et){var tt=et.alternate;if(!tt){if(tt=Vb(et),tt===null)throw Error(p$3(188));return tt!==et?null:et}for(var rt=et,nt=tt;;){var at=rt.return;if(at===null)break;var it=at.alternate;if(it===null){if(nt=at.return,nt!==null){rt=nt;continue}break}if(at.child===it.child){for(it=at.child;it;){if(it===rt)return Xb(at),et;if(it===nt)return Xb(at),tt;it=it.sibling}throw Error(p$3(188))}if(rt.return!==nt.return)rt=at,nt=it;else{for(var st=!1,ot=at.child;ot;){if(ot===rt){st=!0,rt=at,nt=it;break}if(ot===nt){st=!0,nt=at,rt=it;break}ot=ot.sibling}if(!st){for(ot=it.child;ot;){if(ot===rt){st=!0,rt=it,nt=at;break}if(ot===nt){st=!0,nt=it,rt=at;break}ot=ot.sibling}if(!st)throw Error(p$3(189))}}if(rt.alternate!==nt)throw Error(p$3(190))}if(rt.tag!==3)throw Error(p$3(188));return rt.stateNode.current===rt?et:tt}function Zb(et){return et=Yb(et),et!==null?$b(et):null}function $b(et){if(et.tag===5||et.tag===6)return et;for(et=et.child;et!==null;){var tt=$b(et);if(tt!==null)return tt;et=et.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$3=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(et){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,et,void 0,(et.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(et){return et>>>=0,et===0?32:31-(pc(et)/qc|0)|0}var rc=64,sc=4194304;function tc(et){switch(et&-et){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return et&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return et}}function uc(et,tt){var rt=et.pendingLanes;if(rt===0)return 0;var nt=0,at=et.suspendedLanes,it=et.pingedLanes,st=rt&268435455;if(st!==0){var ot=st&~at;ot!==0?nt=tc(ot):(it&=st,it!==0&&(nt=tc(it)))}else st=rt&~at,st!==0?nt=tc(st):it!==0&&(nt=tc(it));if(nt===0)return 0;if(tt!==0&&tt!==nt&&!(tt&at)&&(at=nt&-nt,it=tt&-tt,at>=it||at===16&&(it&4194240)!==0))return tt;if(nt&4&&(nt|=rt&16),tt=et.entangledLanes,tt!==0)for(et=et.entanglements,tt&=nt;0<tt;)rt=31-oc(tt),at=1<<rt,nt|=et[rt],tt&=~at;return nt}function vc(et,tt){switch(et){case 1:case 2:case 4:return tt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return tt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(et,tt){for(var rt=et.suspendedLanes,nt=et.pingedLanes,at=et.expirationTimes,it=et.pendingLanes;0<it;){var st=31-oc(it),ot=1<<st,lt=at[st];lt===-1?(!(ot&rt)||ot&nt)&&(at[st]=vc(ot,tt)):lt<=tt&&(et.expiredLanes|=ot),it&=~ot}}function xc(et){return et=et.pendingLanes&-1073741825,et!==0?et:et&1073741824?1073741824:0}function yc(){var et=rc;return rc<<=1,!(rc&4194240)&&(rc=64),et}function zc(et){for(var tt=[],rt=0;31>rt;rt++)tt.push(et);return tt}function Ac(et,tt,rt){et.pendingLanes|=tt,tt!==536870912&&(et.suspendedLanes=0,et.pingedLanes=0),et=et.eventTimes,tt=31-oc(tt),et[tt]=rt}function Bc(et,tt){var rt=et.pendingLanes&~tt;et.pendingLanes=tt,et.suspendedLanes=0,et.pingedLanes=0,et.expiredLanes&=tt,et.mutableReadLanes&=tt,et.entangledLanes&=tt,tt=et.entanglements;var nt=et.eventTimes;for(et=et.expirationTimes;0<rt;){var at=31-oc(rt),it=1<<at;tt[at]=0,nt[at]=-1,et[at]=-1,rt&=~it}}function Cc(et,tt){var rt=et.entangledLanes|=tt;for(et=et.entanglements;rt;){var nt=31-oc(rt),at=1<<nt;at&tt|et[nt]&tt&&(et[nt]|=tt),rt&=~at}}var C$1=0;function Dc(et){return et&=-et,1<et?4<et?et&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(et,tt){switch(et){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(tt.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(tt.pointerId)}}function Tc(et,tt,rt,nt,at,it){return et===null||et.nativeEvent!==it?(et={blockedOn:tt,domEventName:rt,eventSystemFlags:nt,nativeEvent:it,targetContainers:[at]},tt!==null&&(tt=Cb(tt),tt!==null&&Fc(tt)),et):(et.eventSystemFlags|=nt,tt=et.targetContainers,at!==null&&tt.indexOf(at)===-1&&tt.push(at),et)}function Uc(et,tt,rt,nt,at){switch(tt){case"focusin":return Lc=Tc(Lc,et,tt,rt,nt,at),!0;case"dragenter":return Mc=Tc(Mc,et,tt,rt,nt,at),!0;case"mouseover":return Nc=Tc(Nc,et,tt,rt,nt,at),!0;case"pointerover":var it=at.pointerId;return Oc.set(it,Tc(Oc.get(it)||null,et,tt,rt,nt,at)),!0;case"gotpointercapture":return it=at.pointerId,Pc.set(it,Tc(Pc.get(it)||null,et,tt,rt,nt,at)),!0}return!1}function Vc(et){var tt=Wc(et.target);if(tt!==null){var rt=Vb(tt);if(rt!==null){if(tt=rt.tag,tt===13){if(tt=Wb(rt),tt!==null){et.blockedOn=tt,Ic(et.priority,function(){Gc(rt)});return}}else if(tt===3&&rt.stateNode.current.memoizedState.isDehydrated){et.blockedOn=rt.tag===3?rt.stateNode.containerInfo:null;return}}}et.blockedOn=null}function Xc(et){if(et.blockedOn!==null)return!1;for(var tt=et.targetContainers;0<tt.length;){var rt=Yc(et.domEventName,et.eventSystemFlags,tt[0],et.nativeEvent);if(rt===null){rt=et.nativeEvent;var nt=new rt.constructor(rt.type,rt);wb=nt,rt.target.dispatchEvent(nt),wb=null}else return tt=Cb(rt),tt!==null&&Fc(tt),et.blockedOn=rt,!1;tt.shift()}return!0}function Zc(et,tt,rt){Xc(et)&&rt.delete(tt)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(et,tt){et.blockedOn===tt&&(et.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(et){function tt(at){return ad(at,et)}if(0<Kc.length){ad(Kc[0],et);for(var rt=1;rt<Kc.length;rt++){var nt=Kc[rt];nt.blockedOn===et&&(nt.blockedOn=null)}}for(Lc!==null&&ad(Lc,et),Mc!==null&&ad(Mc,et),Nc!==null&&ad(Nc,et),Oc.forEach(tt),Pc.forEach(tt),rt=0;rt<Qc.length;rt++)nt=Qc[rt],nt.blockedOn===et&&(nt.blockedOn=null);for(;0<Qc.length&&(rt=Qc[0],rt.blockedOn===null);)Vc(rt),rt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(et,tt,rt,nt){var at=C$1,it=cd.transition;cd.transition=null;try{C$1=1,fd(et,tt,rt,nt)}finally{C$1=at,cd.transition=it}}function gd(et,tt,rt,nt){var at=C$1,it=cd.transition;cd.transition=null;try{C$1=4,fd(et,tt,rt,nt)}finally{C$1=at,cd.transition=it}}function fd(et,tt,rt,nt){if(dd){var at=Yc(et,tt,rt,nt);if(at===null)hd(et,tt,nt,id$3,rt),Sc(et,nt);else if(Uc(at,et,tt,rt,nt))nt.stopPropagation();else if(Sc(et,nt),tt&4&&-1<Rc.indexOf(et)){for(;at!==null;){var it=Cb(at);if(it!==null&&Ec(it),it=Yc(et,tt,rt,nt),it===null&&hd(et,tt,nt,id$3,rt),it===at)break;at=it}at!==null&&nt.stopPropagation()}else hd(et,tt,nt,null,rt)}}var id$3=null;function Yc(et,tt,rt,nt){if(id$3=null,et=xb(nt),et=Wc(et),et!==null)if(tt=Vb(et),tt===null)et=null;else if(rt=tt.tag,rt===13){if(et=Wb(tt),et!==null)return et;et=null}else if(rt===3){if(tt.stateNode.current.memoizedState.isDehydrated)return tt.tag===3?tt.stateNode.containerInfo:null;et=null}else tt!==et&&(et=null);return id$3=et,null}function jd(et){switch(et){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var et,tt=ld,rt=tt.length,nt,at="value"in kd?kd.value:kd.textContent,it=at.length;for(et=0;et<rt&&tt[et]===at[et];et++);var st=rt-et;for(nt=1;nt<=st&&tt[rt-nt]===at[it-nt];nt++);return md=at.slice(et,1<nt?1-nt:void 0)}function od(et){var tt=et.keyCode;return"charCode"in et?(et=et.charCode,et===0&&tt===13&&(et=13)):et=tt,et===10&&(et=13),32<=et||et===13?et:0}function pd(){return!0}function qd(){return!1}function rd(et){function tt(rt,nt,at,it,st){this._reactName=rt,this._targetInst=at,this.type=nt,this.nativeEvent=it,this.target=st,this.currentTarget=null;for(var ot in et)et.hasOwnProperty(ot)&&(rt=et[ot],this[ot]=rt?rt(it):it[ot]);return this.isDefaultPrevented=(it.defaultPrevented!=null?it.defaultPrevented:it.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(tt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var rt=this.nativeEvent;rt&&(rt.preventDefault?rt.preventDefault():typeof rt.returnValue!="unknown"&&(rt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var rt=this.nativeEvent;rt&&(rt.stopPropagation?rt.stopPropagation():typeof rt.cancelBubble!="unknown"&&(rt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),tt}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(et){return et.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(et){return et.relatedTarget===void 0?et.fromElement===et.srcElement?et.toElement:et.fromElement:et.relatedTarget},movementX:function(et){return"movementX"in et?et.movementX:(et!==yd&&(yd&&et.type==="mousemove"?(wd=et.screenX-yd.screenX,xd=et.screenY-yd.screenY):xd=wd=0,yd=et),wd)},movementY:function(et){return"movementY"in et?et.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(et){return"clipboardData"in et?et.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(et){var tt=this.nativeEvent;return tt.getModifierState?tt.getModifierState(et):(et=Od[et])?!!tt[et]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(et){if(et.key){var tt=Md[et.key]||et.key;if(tt!=="Unidentified")return tt}return et.type==="keypress"?(et=od(et),et===13?"Enter":String.fromCharCode(et)):et.type==="keydown"||et.type==="keyup"?Nd[et.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(et){return et.type==="keypress"?od(et):0},keyCode:function(et){return et.type==="keydown"||et.type==="keyup"?et.keyCode:0},which:function(et){return et.type==="keypress"?od(et):et.type==="keydown"||et.type==="keyup"?et.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(et){return"deltaX"in et?et.deltaX:"wheelDeltaX"in et?-et.wheelDeltaX:0},deltaY:function(et){return"deltaY"in et?et.deltaY:"wheelDeltaY"in et?-et.wheelDeltaY:"wheelDelta"in et?-et.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$2=ia&&"CompositionEvent"in window,be$2=null;ia&&"documentMode"in document&&(be$2=document.documentMode);var ce$2=ia&&"TextEvent"in window&&!be$2,de$1=ia&&(!ae$2||be$2&&8<be$2&&11>=be$2),ee=String.fromCharCode(32),fe$1=!1;function ge$2(et,tt){switch(et){case"keyup":return $d.indexOf(tt.keyCode)!==-1;case"keydown":return tt.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(et){return et=et.detail,typeof et=="object"&&"data"in et?et.data:null}var ie$2=!1;function je$1(et,tt){switch(et){case"compositionend":return he$1(tt);case"keypress":return tt.which!==32?null:(fe$1=!0,ee);case"textInput":return et=tt.data,et===ee&&fe$1?null:et;default:return null}}function ke$1(et,tt){if(ie$2)return et==="compositionend"||!ae$2&&ge$2(et,tt)?(et=nd(),md=ld=kd=null,ie$2=!1,et):null;switch(et){case"paste":return null;case"keypress":if(!(tt.ctrlKey||tt.altKey||tt.metaKey)||tt.ctrlKey&&tt.altKey){if(tt.char&&1<tt.char.length)return tt.char;if(tt.which)return String.fromCharCode(tt.which)}return null;case"compositionend":return de$1&&tt.locale!=="ko"?null:tt.data;default:return null}}var le$2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$2(et){var tt=et&&et.nodeName&&et.nodeName.toLowerCase();return tt==="input"?!!le$2[et.type]:tt==="textarea"}function ne$1(et,tt,rt,nt){Eb(nt),tt=oe$1(tt,"onChange"),0<tt.length&&(rt=new td("onChange","change",null,rt,nt),et.push({event:rt,listeners:tt}))}var pe$1=null,qe$1=null;function re$2(et){se$2(et,0)}function te(et){var tt=ue$1(et);if(Wa(tt))return et}function ve$1(et,tt){if(et==="change")return tt}var we$2=!1;if(ia){var xe$2;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$2=ye$1}else xe$2=!1;we$2=xe$2&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe$1=pe$1=null)}function Be(et){if(et.propertyName==="value"&&te(qe$1)){var tt=[];ne$1(tt,qe$1,et,xb(et)),Jb(re$2,tt)}}function Ce$2(et,tt,rt){et==="focusin"?(Ae$1(),pe$1=tt,qe$1=rt,pe$1.attachEvent("onpropertychange",Be)):et==="focusout"&&Ae$1()}function De$1(et){if(et==="selectionchange"||et==="keyup"||et==="keydown")return te(qe$1)}function Ee$2(et,tt){if(et==="click")return te(tt)}function Fe(et,tt){if(et==="input"||et==="change")return te(tt)}function Ge$1(et,tt){return et===tt&&(et!==0||1/et===1/tt)||et!==et&&tt!==tt}var He=typeof Object.is=="function"?Object.is:Ge$1;function Ie$1(et,tt){if(He(et,tt))return!0;if(typeof et!="object"||et===null||typeof tt!="object"||tt===null)return!1;var rt=Object.keys(et),nt=Object.keys(tt);if(rt.length!==nt.length)return!1;for(nt=0;nt<rt.length;nt++){var at=rt[nt];if(!ja.call(tt,at)||!He(et[at],tt[at]))return!1}return!0}function Je(et){for(;et&&et.firstChild;)et=et.firstChild;return et}function Ke(et,tt){var rt=Je(et);et=0;for(var nt;rt;){if(rt.nodeType===3){if(nt=et+rt.textContent.length,et<=tt&&nt>=tt)return{node:rt,offset:tt-et};et=nt}e:{for(;rt;){if(rt.nextSibling){rt=rt.nextSibling;break e}rt=rt.parentNode}rt=void 0}rt=Je(rt)}}function Le$1(et,tt){return et&&tt?et===tt?!0:et&&et.nodeType===3?!1:tt&&tt.nodeType===3?Le$1(et,tt.parentNode):"contains"in et?et.contains(tt):et.compareDocumentPosition?!!(et.compareDocumentPosition(tt)&16):!1:!1}function Me(){for(var et=window,tt=Xa();tt instanceof et.HTMLIFrameElement;){try{var rt=typeof tt.contentWindow.location.href=="string"}catch{rt=!1}if(rt)et=tt.contentWindow;else break;tt=Xa(et.document)}return tt}function Ne$1(et){var tt=et&&et.nodeName&&et.nodeName.toLowerCase();return tt&&(tt==="input"&&(et.type==="text"||et.type==="search"||et.type==="tel"||et.type==="url"||et.type==="password")||tt==="textarea"||et.contentEditable==="true")}function Oe$1(et){var tt=Me(),rt=et.focusedElem,nt=et.selectionRange;if(tt!==rt&&rt&&rt.ownerDocument&&Le$1(rt.ownerDocument.documentElement,rt)){if(nt!==null&&Ne$1(rt)){if(tt=nt.start,et=nt.end,et===void 0&&(et=tt),"selectionStart"in rt)rt.selectionStart=tt,rt.selectionEnd=Math.min(et,rt.value.length);else if(et=(tt=rt.ownerDocument||document)&&tt.defaultView||window,et.getSelection){et=et.getSelection();var at=rt.textContent.length,it=Math.min(nt.start,at);nt=nt.end===void 0?it:Math.min(nt.end,at),!et.extend&&it>nt&&(at=nt,nt=it,it=at),at=Ke(rt,it);var st=Ke(rt,nt);at&&st&&(et.rangeCount!==1||et.anchorNode!==at.node||et.anchorOffset!==at.offset||et.focusNode!==st.node||et.focusOffset!==st.offset)&&(tt=tt.createRange(),tt.setStart(at.node,at.offset),et.removeAllRanges(),it>nt?(et.addRange(tt),et.extend(st.node,st.offset)):(tt.setEnd(st.node,st.offset),et.addRange(tt)))}}for(tt=[],et=rt;et=et.parentNode;)et.nodeType===1&&tt.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof rt.focus=="function"&&rt.focus(),rt=0;rt<tt.length;rt++)et=tt[rt],et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$2=null,Se$2=null,Te$2=!1;function Ue(et,tt,rt){var nt=rt.window===rt?rt.document:rt.nodeType===9?rt:rt.ownerDocument;Te$2||Qe==null||Qe!==Xa(nt)||(nt=Qe,"selectionStart"in nt&&Ne$1(nt)?nt={start:nt.selectionStart,end:nt.selectionEnd}:(nt=(nt.ownerDocument&&nt.ownerDocument.defaultView||window).getSelection(),nt={anchorNode:nt.anchorNode,anchorOffset:nt.anchorOffset,focusNode:nt.focusNode,focusOffset:nt.focusOffset}),Se$2&&Ie$1(Se$2,nt)||(Se$2=nt,nt=oe$1(Re$2,"onSelect"),0<nt.length&&(tt=new td("onSelect","select",null,tt,rt),et.push({event:tt,listeners:nt}),tt.target=Qe)))}function Ve$1(et,tt){var rt={};return rt[et.toLowerCase()]=tt.toLowerCase(),rt["Webkit"+et]="webkit"+tt,rt["Moz"+et]="moz"+tt,rt}var We={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(et){if(Xe[et])return Xe[et];if(!We[et])return et;var tt=We[et],rt;for(rt in tt)if(tt.hasOwnProperty(rt)&&rt in Ye)return Xe[et]=tt[rt];return et}var $e$1=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(et,tt){df.set(et,tt),fa(tt,[et])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(et,tt,rt){var nt=et.type||"unknown-event";et.currentTarget=rt,Ub(nt,tt,void 0,et),et.currentTarget=null}function se$2(et,tt){tt=(tt&4)!==0;for(var rt=0;rt<et.length;rt++){var nt=et[rt],at=nt.event;nt=nt.listeners;e:{var it=void 0;if(tt)for(var st=nt.length-1;0<=st;st--){var ot=nt[st],lt=ot.instance,ct=ot.currentTarget;if(ot=ot.listener,lt!==it&&at.isPropagationStopped())break e;nf(at,ot,ct),it=lt}else for(st=0;st<nt.length;st++){if(ot=nt[st],lt=ot.instance,ct=ot.currentTarget,ot=ot.listener,lt!==it&&at.isPropagationStopped())break e;nf(at,ot,ct),it=lt}}}if(Qb)throw et=Rb,Qb=!1,Rb=null,et}function D$3(et,tt){var rt=tt[of];rt===void 0&&(rt=tt[of]=new Set);var nt=et+"__bubble";rt.has(nt)||(pf(tt,et,2,!1),rt.add(nt))}function qf(et,tt,rt){var nt=0;tt&&(nt|=4),pf(rt,et,nt,tt)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(et){if(!et[rf]){et[rf]=!0,da.forEach(function(rt){rt!=="selectionchange"&&(mf.has(rt)||qf(rt,!1,et),qf(rt,!0,et))});var tt=et.nodeType===9?et:et.ownerDocument;tt===null||tt[rf]||(tt[rf]=!0,qf("selectionchange",!1,tt))}}function pf(et,tt,rt,nt){switch(jd(tt)){case 1:var at=ed;break;case 4:at=gd;break;default:at=fd}rt=at.bind(null,tt,rt,et),at=void 0,!Lb||tt!=="touchstart"&&tt!=="touchmove"&&tt!=="wheel"||(at=!0),nt?at!==void 0?et.addEventListener(tt,rt,{capture:!0,passive:at}):et.addEventListener(tt,rt,!0):at!==void 0?et.addEventListener(tt,rt,{passive:at}):et.addEventListener(tt,rt,!1)}function hd(et,tt,rt,nt,at){var it=nt;if(!(tt&1)&&!(tt&2)&&nt!==null)e:for(;;){if(nt===null)return;var st=nt.tag;if(st===3||st===4){var ot=nt.stateNode.containerInfo;if(ot===at||ot.nodeType===8&&ot.parentNode===at)break;if(st===4)for(st=nt.return;st!==null;){var lt=st.tag;if((lt===3||lt===4)&&(lt=st.stateNode.containerInfo,lt===at||lt.nodeType===8&&lt.parentNode===at))return;st=st.return}for(;ot!==null;){if(st=Wc(ot),st===null)return;if(lt=st.tag,lt===5||lt===6){nt=it=st;continue e}ot=ot.parentNode}}nt=nt.return}Jb(function(){var ct=it,ut=xb(rt),dt=[];e:{var ft=df.get(et);if(ft!==void 0){var ht=td,gt=et;switch(et){case"keypress":if(od(rt)===0)break e;case"keydown":case"keyup":ht=Rd;break;case"focusin":gt="focus",ht=Fd;break;case"focusout":gt="blur",ht=Fd;break;case"beforeblur":case"afterblur":ht=Fd;break;case"click":if(rt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=Vd;break;case $e$1:case af:case bf:ht=Hd;break;case cf:ht=Xd;break;case"scroll":ht=vd;break;case"wheel":ht=Zd;break;case"copy":case"cut":case"paste":ht=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=Td}var mt=(tt&4)!==0,xt=!mt&&et==="scroll",vt=mt?ft!==null?ft+"Capture":null:ft;mt=[];for(var _t=ct,yt;_t!==null;){yt=_t;var St=yt.stateNode;if(yt.tag===5&&St!==null&&(yt=St,vt!==null&&(St=Kb(_t,vt),St!=null&&mt.push(tf(_t,St,yt)))),xt)break;_t=_t.return}0<mt.length&&(ft=new ht(ft,gt,null,rt,ut),dt.push({event:ft,listeners:mt}))}}if(!(tt&7)){e:{if(ft=et==="mouseover"||et==="pointerover",ht=et==="mouseout"||et==="pointerout",ft&&rt!==wb&&(gt=rt.relatedTarget||rt.fromElement)&&(Wc(gt)||gt[uf]))break e;if((ht||ft)&&(ft=ut.window===ut?ut:(ft=ut.ownerDocument)?ft.defaultView||ft.parentWindow:window,ht?(gt=rt.relatedTarget||rt.toElement,ht=ct,gt=gt?Wc(gt):null,gt!==null&&(xt=Vb(gt),gt!==xt||gt.tag!==5&&gt.tag!==6)&&(gt=null)):(ht=null,gt=ct),ht!==gt)){if(mt=Bd,St="onMouseLeave",vt="onMouseEnter",_t="mouse",(et==="pointerout"||et==="pointerover")&&(mt=Td,St="onPointerLeave",vt="onPointerEnter",_t="pointer"),xt=ht==null?ft:ue$1(ht),yt=gt==null?ft:ue$1(gt),ft=new mt(St,_t+"leave",ht,rt,ut),ft.target=xt,ft.relatedTarget=yt,St=null,Wc(ut)===ct&&(mt=new mt(vt,_t+"enter",gt,rt,ut),mt.target=yt,mt.relatedTarget=xt,St=mt),xt=St,ht&&gt)t:{for(mt=ht,vt=gt,_t=0,yt=mt;yt;yt=vf(yt))_t++;for(yt=0,St=vt;St;St=vf(St))yt++;for(;0<_t-yt;)mt=vf(mt),_t--;for(;0<yt-_t;)vt=vf(vt),yt--;for(;_t--;){if(mt===vt||vt!==null&&mt===vt.alternate)break t;mt=vf(mt),vt=vf(vt)}mt=null}else mt=null;ht!==null&&wf(dt,ft,ht,mt,!1),gt!==null&&xt!==null&&wf(dt,xt,gt,mt,!0)}}e:{if(ft=ct?ue$1(ct):window,ht=ft.nodeName&&ft.nodeName.toLowerCase(),ht==="select"||ht==="input"&&ft.type==="file")var bt=ve$1;else if(me$2(ft))if(we$2)bt=Fe;else{bt=De$1;var Et=Ce$2}else(ht=ft.nodeName)&&ht.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&(bt=Ee$2);if(bt&&(bt=bt(et,ct))){ne$1(dt,bt,rt,ut);break e}Et&&Et(et,ft,ct),et==="focusout"&&(Et=ft._wrapperState)&&Et.controlled&&ft.type==="number"&&cb(ft,"number",ft.value)}switch(Et=ct?ue$1(ct):window,et){case"focusin":(me$2(Et)||Et.contentEditable==="true")&&(Qe=Et,Re$2=ct,Se$2=null);break;case"focusout":Se$2=Re$2=Qe=null;break;case"mousedown":Te$2=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$2=!1,Ue(dt,rt,ut);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue(dt,rt,ut)}var Tt;if(ae$2)e:{switch(et){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else ie$2?ge$2(et,rt)&&(At="onCompositionEnd"):et==="keydown"&&rt.keyCode===229&&(At="onCompositionStart");At&&(de$1&&rt.locale!=="ko"&&(ie$2||At!=="onCompositionStart"?At==="onCompositionEnd"&&ie$2&&(Tt=nd()):(kd=ut,ld="value"in kd?kd.value:kd.textContent,ie$2=!0)),Et=oe$1(ct,At),0<Et.length&&(At=new Ld(At,et,null,rt,ut),dt.push({event:At,listeners:Et}),Tt?At.data=Tt:(Tt=he$1(rt),Tt!==null&&(At.data=Tt)))),(Tt=ce$2?je$1(et,rt):ke$1(et,rt))&&(ct=oe$1(ct,"onBeforeInput"),0<ct.length&&(ut=new Ld("onBeforeInput","beforeinput",null,rt,ut),dt.push({event:ut,listeners:ct}),ut.data=Tt))}se$2(dt,tt)})}function tf(et,tt,rt){return{instance:et,listener:tt,currentTarget:rt}}function oe$1(et,tt){for(var rt=tt+"Capture",nt=[];et!==null;){var at=et,it=at.stateNode;at.tag===5&&it!==null&&(at=it,it=Kb(et,rt),it!=null&&nt.unshift(tf(et,it,at)),it=Kb(et,tt),it!=null&&nt.push(tf(et,it,at))),et=et.return}return nt}function vf(et){if(et===null)return null;do et=et.return;while(et&&et.tag!==5);return et||null}function wf(et,tt,rt,nt,at){for(var it=tt._reactName,st=[];rt!==null&&rt!==nt;){var ot=rt,lt=ot.alternate,ct=ot.stateNode;if(lt!==null&&lt===nt)break;ot.tag===5&&ct!==null&&(ot=ct,at?(lt=Kb(rt,it),lt!=null&&st.unshift(tf(rt,lt,ot))):at||(lt=Kb(rt,it),lt!=null&&st.push(tf(rt,lt,ot)))),rt=rt.return}st.length!==0&&et.push({event:tt,listeners:st})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(et){return(typeof et=="string"?et:""+et).replace(xf,`
`).replace(yf,"")}function Af(et,tt,rt){if(tt=zf(tt),zf(et)!==tt&&rt)throw Error(p$3(425))}function Bf(){}var Cf=null,Df=null;function Ef(et,tt){return et==="textarea"||et==="noscript"||typeof tt.children=="string"||typeof tt.children=="number"||typeof tt.dangerouslySetInnerHTML=="object"&&tt.dangerouslySetInnerHTML!==null&&tt.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(et){return Hf.resolve(null).then(et).catch(If)}:Ff;function If(et){setTimeout(function(){throw et})}function Kf(et,tt){var rt=tt,nt=0;do{var at=rt.nextSibling;if(et.removeChild(rt),at&&at.nodeType===8)if(rt=at.data,rt==="/$"){if(nt===0){et.removeChild(at),bd(tt);return}nt--}else rt!=="$"&&rt!=="$?"&&rt!=="$!"||nt++;rt=at}while(rt);bd(tt)}function Lf(et){for(;et!=null;et=et.nextSibling){var tt=et.nodeType;if(tt===1||tt===3)break;if(tt===8){if(tt=et.data,tt==="$"||tt==="$!"||tt==="$?")break;if(tt==="/$")return null}}return et}function Mf(et){et=et.previousSibling;for(var tt=0;et;){if(et.nodeType===8){var rt=et.data;if(rt==="$"||rt==="$!"||rt==="$?"){if(tt===0)return et;tt--}else rt==="/$"&&tt++}et=et.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(et){var tt=et[Of];if(tt)return tt;for(var rt=et.parentNode;rt;){if(tt=rt[uf]||rt[Of]){if(rt=tt.alternate,tt.child!==null||rt!==null&&rt.child!==null)for(et=Mf(et);et!==null;){if(rt=et[Of])return rt;et=Mf(et)}return tt}et=rt,rt=et.parentNode}return null}function Cb(et){return et=et[Of]||et[uf],!et||et.tag!==5&&et.tag!==6&&et.tag!==13&&et.tag!==3?null:et}function ue$1(et){if(et.tag===5||et.tag===6)return et.stateNode;throw Error(p$3(33))}function Db(et){return et[Pf]||null}var Sf=[],Tf=-1;function Uf(et){return{current:et}}function E$1(et){0>Tf||(et.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(et,tt){Tf++,Sf[Tf]=et.current,et.current=tt}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(et,tt){var rt=et.type.contextTypes;if(!rt)return Vf;var nt=et.stateNode;if(nt&&nt.__reactInternalMemoizedUnmaskedChildContext===tt)return nt.__reactInternalMemoizedMaskedChildContext;var at={},it;for(it in rt)at[it]=tt[it];return nt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=tt,et.__reactInternalMemoizedMaskedChildContext=at),at}function Zf(et){return et=et.childContextTypes,et!=null}function $f(){E$1(Wf),E$1(H$2)}function ag(et,tt,rt){if(H$2.current!==Vf)throw Error(p$3(168));G$2(H$2,tt),G$2(Wf,rt)}function bg(et,tt,rt){var nt=et.stateNode;if(tt=tt.childContextTypes,typeof nt.getChildContext!="function")return rt;nt=nt.getChildContext();for(var at in nt)if(!(at in tt))throw Error(p$3(108,Ra(et)||"Unknown",at));return A$2({},rt,nt)}function cg(et){return et=(et=et.stateNode)&&et.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$2(H$2,et),G$2(Wf,Wf.current),!0}function dg(et,tt,rt){var nt=et.stateNode;if(!nt)throw Error(p$3(169));rt?(et=bg(et,tt,Xf),nt.__reactInternalMemoizedMergedChildContext=et,E$1(Wf),E$1(H$2),G$2(H$2,et)):E$1(Wf),G$2(Wf,rt)}var eg=null,fg=!1,gg=!1;function hg(et){eg===null?eg=[et]:eg.push(et)}function ig(et){fg=!0,hg(et)}function jg(){if(!gg&&eg!==null){gg=!0;var et=0,tt=C$1;try{var rt=eg;for(C$1=1;et<rt.length;et++){var nt=rt[et];do nt=nt(!0);while(nt!==null)}eg=null,fg=!1}catch(at){throw eg!==null&&(eg=eg.slice(et+1)),ac(fc,jg),at}finally{C$1=tt,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(et,tt){kg[lg++]=ng,kg[lg++]=mg,mg=et,ng=tt}function ug(et,tt,rt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=et;var nt=rg;et=sg;var at=32-oc(nt)-1;nt&=~(1<<at),rt+=1;var it=32-oc(tt)+at;if(30<it){var st=at-at%5;it=(nt&(1<<st)-1).toString(32),nt>>=st,at-=st,rg=1<<32-oc(tt)+at|rt<<at|nt,sg=it+et}else rg=1<<it|rt<<at|nt,sg=et}function vg(et){et.return!==null&&(tg(et,1),ug(et,1,0))}function wg(et){for(;et===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;et===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(et,tt){var rt=Bg(5,null,null,0);rt.elementType="DELETED",rt.stateNode=tt,rt.return=et,tt=et.deletions,tt===null?(et.deletions=[rt],et.flags|=16):tt.push(rt)}function Cg(et,tt){switch(et.tag){case 5:var rt=et.type;return tt=tt.nodeType!==1||rt.toLowerCase()!==tt.nodeName.toLowerCase()?null:tt,tt!==null?(et.stateNode=tt,xg=et,yg=Lf(tt.firstChild),!0):!1;case 6:return tt=et.pendingProps===""||tt.nodeType!==3?null:tt,tt!==null?(et.stateNode=tt,xg=et,yg=null,!0):!1;case 13:return tt=tt.nodeType!==8?null:tt,tt!==null?(rt=qg!==null?{id:rg,overflow:sg}:null,et.memoizedState={dehydrated:tt,treeContext:rt,retryLane:1073741824},rt=Bg(18,null,null,0),rt.stateNode=tt,rt.return=et,et.child=rt,xg=et,yg=null,!0):!1;default:return!1}}function Dg(et){return(et.mode&1)!==0&&(et.flags&128)===0}function Eg(et){if(I$1){var tt=yg;if(tt){var rt=tt;if(!Cg(et,tt)){if(Dg(et))throw Error(p$3(418));tt=Lf(rt.nextSibling);var nt=xg;tt&&Cg(et,tt)?Ag(nt,rt):(et.flags=et.flags&-4097|2,I$1=!1,xg=et)}}else{if(Dg(et))throw Error(p$3(418));et.flags=et.flags&-4097|2,I$1=!1,xg=et}}}function Fg(et){for(et=et.return;et!==null&&et.tag!==5&&et.tag!==3&&et.tag!==13;)et=et.return;xg=et}function Gg(et){if(et!==xg)return!1;if(!I$1)return Fg(et),I$1=!0,!1;var tt;if((tt=et.tag!==3)&&!(tt=et.tag!==5)&&(tt=et.type,tt=tt!=="head"&&tt!=="body"&&!Ef(et.type,et.memoizedProps)),tt&&(tt=yg)){if(Dg(et))throw Hg(),Error(p$3(418));for(;tt;)Ag(et,tt),tt=Lf(tt.nextSibling)}if(Fg(et),et.tag===13){if(et=et.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$3(317));e:{for(et=et.nextSibling,tt=0;et;){if(et.nodeType===8){var rt=et.data;if(rt==="/$"){if(tt===0){yg=Lf(et.nextSibling);break e}tt--}else rt!=="$"&&rt!=="$!"&&rt!=="$?"||tt++}et=et.nextSibling}yg=null}}else yg=xg?Lf(et.stateNode.nextSibling):null;return!0}function Hg(){for(var et=yg;et;)et=Lf(et.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(et){zg===null?zg=[et]:zg.push(et)}var Kg=ua.ReactCurrentBatchConfig;function Lg(et,tt){if(et&&et.defaultProps){tt=A$2({},tt),et=et.defaultProps;for(var rt in et)tt[rt]===void 0&&(tt[rt]=et[rt]);return tt}return tt}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(et){var tt=Mg.current;E$1(Mg),et._currentValue=tt}function Sg(et,tt,rt){for(;et!==null;){var nt=et.alternate;if((et.childLanes&tt)!==tt?(et.childLanes|=tt,nt!==null&&(nt.childLanes|=tt)):nt!==null&&(nt.childLanes&tt)!==tt&&(nt.childLanes|=tt),et===rt)break;et=et.return}}function Tg(et,tt){Ng=et,Pg=Og=null,et=et.dependencies,et!==null&&et.firstContext!==null&&(et.lanes&tt&&(Ug=!0),et.firstContext=null)}function Vg(et){var tt=et._currentValue;if(Pg!==et)if(et={context:et,memoizedValue:tt,next:null},Og===null){if(Ng===null)throw Error(p$3(308));Og=et,Ng.dependencies={lanes:0,firstContext:et}}else Og=Og.next=et;return tt}var Wg=null;function Xg(et){Wg===null?Wg=[et]:Wg.push(et)}function Yg(et,tt,rt,nt){var at=tt.interleaved;return at===null?(rt.next=rt,Xg(tt)):(rt.next=at.next,at.next=rt),tt.interleaved=rt,Zg(et,nt)}function Zg(et,tt){et.lanes|=tt;var rt=et.alternate;for(rt!==null&&(rt.lanes|=tt),rt=et,et=et.return;et!==null;)et.childLanes|=tt,rt=et.alternate,rt!==null&&(rt.childLanes|=tt),rt=et,et=et.return;return rt.tag===3?rt.stateNode:null}var $g=!1;function ah(et){et.updateQueue={baseState:et.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(et,tt){et=et.updateQueue,tt.updateQueue===et&&(tt.updateQueue={baseState:et.baseState,firstBaseUpdate:et.firstBaseUpdate,lastBaseUpdate:et.lastBaseUpdate,shared:et.shared,effects:et.effects})}function ch(et,tt){return{eventTime:et,lane:tt,tag:0,payload:null,callback:null,next:null}}function dh(et,tt,rt){var nt=et.updateQueue;if(nt===null)return null;if(nt=nt.shared,K$2&2){var at=nt.pending;return at===null?tt.next=tt:(tt.next=at.next,at.next=tt),nt.pending=tt,Zg(et,rt)}return at=nt.interleaved,at===null?(tt.next=tt,Xg(nt)):(tt.next=at.next,at.next=tt),nt.interleaved=tt,Zg(et,rt)}function eh(et,tt,rt){if(tt=tt.updateQueue,tt!==null&&(tt=tt.shared,(rt&4194240)!==0)){var nt=tt.lanes;nt&=et.pendingLanes,rt|=nt,tt.lanes=rt,Cc(et,rt)}}function fh(et,tt){var rt=et.updateQueue,nt=et.alternate;if(nt!==null&&(nt=nt.updateQueue,rt===nt)){var at=null,it=null;if(rt=rt.firstBaseUpdate,rt!==null){do{var st={eventTime:rt.eventTime,lane:rt.lane,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null};it===null?at=it=st:it=it.next=st,rt=rt.next}while(rt!==null);it===null?at=it=tt:it=it.next=tt}else at=it=tt;rt={baseState:nt.baseState,firstBaseUpdate:at,lastBaseUpdate:it,shared:nt.shared,effects:nt.effects},et.updateQueue=rt;return}et=rt.lastBaseUpdate,et===null?rt.firstBaseUpdate=tt:et.next=tt,rt.lastBaseUpdate=tt}function gh(et,tt,rt,nt){var at=et.updateQueue;$g=!1;var it=at.firstBaseUpdate,st=at.lastBaseUpdate,ot=at.shared.pending;if(ot!==null){at.shared.pending=null;var lt=ot,ct=lt.next;lt.next=null,st===null?it=ct:st.next=ct,st=lt;var ut=et.alternate;ut!==null&&(ut=ut.updateQueue,ot=ut.lastBaseUpdate,ot!==st&&(ot===null?ut.firstBaseUpdate=ct:ot.next=ct,ut.lastBaseUpdate=lt))}if(it!==null){var dt=at.baseState;st=0,ut=ct=lt=null,ot=it;do{var ft=ot.lane,ht=ot.eventTime;if((nt&ft)===ft){ut!==null&&(ut=ut.next={eventTime:ht,lane:0,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null});e:{var gt=et,mt=ot;switch(ft=tt,ht=rt,mt.tag){case 1:if(gt=mt.payload,typeof gt=="function"){dt=gt.call(ht,dt,ft);break e}dt=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=mt.payload,ft=typeof gt=="function"?gt.call(ht,dt,ft):gt,ft==null)break e;dt=A$2({},dt,ft);break e;case 2:$g=!0}}ot.callback!==null&&ot.lane!==0&&(et.flags|=64,ft=at.effects,ft===null?at.effects=[ot]:ft.push(ot))}else ht={eventTime:ht,lane:ft,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null},ut===null?(ct=ut=ht,lt=dt):ut=ut.next=ht,st|=ft;if(ot=ot.next,ot===null){if(ot=at.shared.pending,ot===null)break;ft=ot,ot=ft.next,ft.next=null,at.lastBaseUpdate=ft,at.shared.pending=null}}while(1);if(ut===null&&(lt=dt),at.baseState=lt,at.firstBaseUpdate=ct,at.lastBaseUpdate=ut,tt=at.shared.interleaved,tt!==null){at=tt;do st|=at.lane,at=at.next;while(at!==tt)}else it===null&&(at.shared.lanes=0);hh|=st,et.lanes=st,et.memoizedState=dt}}function ih(et,tt,rt){if(et=tt.effects,tt.effects=null,et!==null)for(tt=0;tt<et.length;tt++){var nt=et[tt],at=nt.callback;if(at!==null){if(nt.callback=null,nt=rt,typeof at!="function")throw Error(p$3(191,at));at.call(nt)}}}var jh=new aa.Component().refs;function kh(et,tt,rt,nt){tt=et.memoizedState,rt=rt(nt,tt),rt=rt==null?tt:A$2({},tt,rt),et.memoizedState=rt,et.lanes===0&&(et.updateQueue.baseState=rt)}var nh={isMounted:function(et){return(et=et._reactInternals)?Vb(et)===et:!1},enqueueSetState:function(et,tt,rt){et=et._reactInternals;var nt=L$4(),at=lh(et),it=ch(nt,at);it.payload=tt,rt!=null&&(it.callback=rt),tt=dh(et,it,at),tt!==null&&(mh(tt,et,at,nt),eh(tt,et,at))},enqueueReplaceState:function(et,tt,rt){et=et._reactInternals;var nt=L$4(),at=lh(et),it=ch(nt,at);it.tag=1,it.payload=tt,rt!=null&&(it.callback=rt),tt=dh(et,it,at),tt!==null&&(mh(tt,et,at,nt),eh(tt,et,at))},enqueueForceUpdate:function(et,tt){et=et._reactInternals;var rt=L$4(),nt=lh(et),at=ch(rt,nt);at.tag=2,tt!=null&&(at.callback=tt),tt=dh(et,at,nt),tt!==null&&(mh(tt,et,nt,rt),eh(tt,et,nt))}};function oh(et,tt,rt,nt,at,it,st){return et=et.stateNode,typeof et.shouldComponentUpdate=="function"?et.shouldComponentUpdate(nt,it,st):tt.prototype&&tt.prototype.isPureReactComponent?!Ie$1(rt,nt)||!Ie$1(at,it):!0}function ph(et,tt,rt){var nt=!1,at=Vf,it=tt.contextType;return typeof it=="object"&&it!==null?it=Vg(it):(at=Zf(tt)?Xf:H$2.current,nt=tt.contextTypes,it=(nt=nt!=null)?Yf(et,at):Vf),tt=new tt(rt,it),et.memoizedState=tt.state!==null&&tt.state!==void 0?tt.state:null,tt.updater=nh,et.stateNode=tt,tt._reactInternals=et,nt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=at,et.__reactInternalMemoizedMaskedChildContext=it),tt}function qh(et,tt,rt,nt){et=tt.state,typeof tt.componentWillReceiveProps=="function"&&tt.componentWillReceiveProps(rt,nt),typeof tt.UNSAFE_componentWillReceiveProps=="function"&&tt.UNSAFE_componentWillReceiveProps(rt,nt),tt.state!==et&&nh.enqueueReplaceState(tt,tt.state,null)}function rh(et,tt,rt,nt){var at=et.stateNode;at.props=rt,at.state=et.memoizedState,at.refs=jh,ah(et);var it=tt.contextType;typeof it=="object"&&it!==null?at.context=Vg(it):(it=Zf(tt)?Xf:H$2.current,at.context=Yf(et,it)),at.state=et.memoizedState,it=tt.getDerivedStateFromProps,typeof it=="function"&&(kh(et,tt,it,rt),at.state=et.memoizedState),typeof tt.getDerivedStateFromProps=="function"||typeof at.getSnapshotBeforeUpdate=="function"||typeof at.UNSAFE_componentWillMount!="function"&&typeof at.componentWillMount!="function"||(tt=at.state,typeof at.componentWillMount=="function"&&at.componentWillMount(),typeof at.UNSAFE_componentWillMount=="function"&&at.UNSAFE_componentWillMount(),tt!==at.state&&nh.enqueueReplaceState(at,at.state,null),gh(et,rt,at,nt),at.state=et.memoizedState),typeof at.componentDidMount=="function"&&(et.flags|=4194308)}function sh(et,tt,rt){if(et=rt.ref,et!==null&&typeof et!="function"&&typeof et!="object"){if(rt._owner){if(rt=rt._owner,rt){if(rt.tag!==1)throw Error(p$3(309));var nt=rt.stateNode}if(!nt)throw Error(p$3(147,et));var at=nt,it=""+et;return tt!==null&&tt.ref!==null&&typeof tt.ref=="function"&&tt.ref._stringRef===it?tt.ref:(tt=function(st){var ot=at.refs;ot===jh&&(ot=at.refs={}),st===null?delete ot[it]:ot[it]=st},tt._stringRef=it,tt)}if(typeof et!="string")throw Error(p$3(284));if(!rt._owner)throw Error(p$3(290,et))}return et}function th(et,tt){throw et=Object.prototype.toString.call(tt),Error(p$3(31,et==="[object Object]"?"object with keys {"+Object.keys(tt).join(", ")+"}":et))}function uh(et){var tt=et._init;return tt(et._payload)}function vh$1(et){function tt(vt,_t){if(et){var yt=vt.deletions;yt===null?(vt.deletions=[_t],vt.flags|=16):yt.push(_t)}}function rt(vt,_t){if(!et)return null;for(;_t!==null;)tt(vt,_t),_t=_t.sibling;return null}function nt(vt,_t){for(vt=new Map;_t!==null;)_t.key!==null?vt.set(_t.key,_t):vt.set(_t.index,_t),_t=_t.sibling;return vt}function at(vt,_t){return vt=wh(vt,_t),vt.index=0,vt.sibling=null,vt}function it(vt,_t,yt){return vt.index=yt,et?(yt=vt.alternate,yt!==null?(yt=yt.index,yt<_t?(vt.flags|=2,_t):yt):(vt.flags|=2,_t)):(vt.flags|=1048576,_t)}function st(vt){return et&&vt.alternate===null&&(vt.flags|=2),vt}function ot(vt,_t,yt,St){return _t===null||_t.tag!==6?(_t=xh(yt,vt.mode,St),_t.return=vt,_t):(_t=at(_t,yt),_t.return=vt,_t)}function lt(vt,_t,yt,St){var bt=yt.type;return bt===ya?ut(vt,_t,yt.props.children,St,yt.key):_t!==null&&(_t.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Ha&&uh(bt)===_t.type)?(St=at(_t,yt.props),St.ref=sh(vt,_t,yt),St.return=vt,St):(St=yh(yt.type,yt.key,yt.props,null,vt.mode,St),St.ref=sh(vt,_t,yt),St.return=vt,St)}function ct(vt,_t,yt,St){return _t===null||_t.tag!==4||_t.stateNode.containerInfo!==yt.containerInfo||_t.stateNode.implementation!==yt.implementation?(_t=zh(yt,vt.mode,St),_t.return=vt,_t):(_t=at(_t,yt.children||[]),_t.return=vt,_t)}function ut(vt,_t,yt,St,bt){return _t===null||_t.tag!==7?(_t=Ah(yt,vt.mode,St,bt),_t.return=vt,_t):(_t=at(_t,yt),_t.return=vt,_t)}function dt(vt,_t,yt){if(typeof _t=="string"&&_t!==""||typeof _t=="number")return _t=xh(""+_t,vt.mode,yt),_t.return=vt,_t;if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case va:return yt=yh(_t.type,_t.key,_t.props,null,vt.mode,yt),yt.ref=sh(vt,null,_t),yt.return=vt,yt;case wa:return _t=zh(_t,vt.mode,yt),_t.return=vt,_t;case Ha:var St=_t._init;return dt(vt,St(_t._payload),yt)}if(eb(_t)||Ka(_t))return _t=Ah(_t,vt.mode,yt,null),_t.return=vt,_t;th(vt,_t)}return null}function ft(vt,_t,yt,St){var bt=_t!==null?_t.key:null;if(typeof yt=="string"&&yt!==""||typeof yt=="number")return bt!==null?null:ot(vt,_t,""+yt,St);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:return yt.key===bt?lt(vt,_t,yt,St):null;case wa:return yt.key===bt?ct(vt,_t,yt,St):null;case Ha:return bt=yt._init,ft(vt,_t,bt(yt._payload),St)}if(eb(yt)||Ka(yt))return bt!==null?null:ut(vt,_t,yt,St,null);th(vt,yt)}return null}function ht(vt,_t,yt,St,bt){if(typeof St=="string"&&St!==""||typeof St=="number")return vt=vt.get(yt)||null,ot(_t,vt,""+St,bt);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case va:return vt=vt.get(St.key===null?yt:St.key)||null,lt(_t,vt,St,bt);case wa:return vt=vt.get(St.key===null?yt:St.key)||null,ct(_t,vt,St,bt);case Ha:var Et=St._init;return ht(vt,_t,yt,Et(St._payload),bt)}if(eb(St)||Ka(St))return vt=vt.get(yt)||null,ut(_t,vt,St,bt,null);th(_t,St)}return null}function gt(vt,_t,yt,St){for(var bt=null,Et=null,Tt=_t,At=_t=0,Ct=null;Tt!==null&&At<yt.length;At++){Tt.index>At?(Ct=Tt,Tt=null):Ct=Tt.sibling;var kt=ft(vt,Tt,yt[At],St);if(kt===null){Tt===null&&(Tt=Ct);break}et&&Tt&&kt.alternate===null&&tt(vt,Tt),_t=it(kt,_t,At),Et===null?bt=kt:Et.sibling=kt,Et=kt,Tt=Ct}if(At===yt.length)return rt(vt,Tt),I$1&&tg(vt,At),bt;if(Tt===null){for(;At<yt.length;At++)Tt=dt(vt,yt[At],St),Tt!==null&&(_t=it(Tt,_t,At),Et===null?bt=Tt:Et.sibling=Tt,Et=Tt);return I$1&&tg(vt,At),bt}for(Tt=nt(vt,Tt);At<yt.length;At++)Ct=ht(Tt,vt,At,yt[At],St),Ct!==null&&(et&&Ct.alternate!==null&&Tt.delete(Ct.key===null?At:Ct.key),_t=it(Ct,_t,At),Et===null?bt=Ct:Et.sibling=Ct,Et=Ct);return et&&Tt.forEach(function(Pt){return tt(vt,Pt)}),I$1&&tg(vt,At),bt}function mt(vt,_t,yt,St){var bt=Ka(yt);if(typeof bt!="function")throw Error(p$3(150));if(yt=bt.call(yt),yt==null)throw Error(p$3(151));for(var Et=bt=null,Tt=_t,At=_t=0,Ct=null,kt=yt.next();Tt!==null&&!kt.done;At++,kt=yt.next()){Tt.index>At?(Ct=Tt,Tt=null):Ct=Tt.sibling;var Pt=ft(vt,Tt,kt.value,St);if(Pt===null){Tt===null&&(Tt=Ct);break}et&&Tt&&Pt.alternate===null&&tt(vt,Tt),_t=it(Pt,_t,At),Et===null?bt=Pt:Et.sibling=Pt,Et=Pt,Tt=Ct}if(kt.done)return rt(vt,Tt),I$1&&tg(vt,At),bt;if(Tt===null){for(;!kt.done;At++,kt=yt.next())kt=dt(vt,kt.value,St),kt!==null&&(_t=it(kt,_t,At),Et===null?bt=kt:Et.sibling=kt,Et=kt);return I$1&&tg(vt,At),bt}for(Tt=nt(vt,Tt);!kt.done;At++,kt=yt.next())kt=ht(Tt,vt,At,kt.value,St),kt!==null&&(et&&kt.alternate!==null&&Tt.delete(kt.key===null?At:kt.key),_t=it(kt,_t,At),Et===null?bt=kt:Et.sibling=kt,Et=kt);return et&&Tt.forEach(function(Dt){return tt(vt,Dt)}),I$1&&tg(vt,At),bt}function xt(vt,_t,yt,St){if(typeof yt=="object"&&yt!==null&&yt.type===ya&&yt.key===null&&(yt=yt.props.children),typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:e:{for(var bt=yt.key,Et=_t;Et!==null;){if(Et.key===bt){if(bt=yt.type,bt===ya){if(Et.tag===7){rt(vt,Et.sibling),_t=at(Et,yt.props.children),_t.return=vt,vt=_t;break e}}else if(Et.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Ha&&uh(bt)===Et.type){rt(vt,Et.sibling),_t=at(Et,yt.props),_t.ref=sh(vt,Et,yt),_t.return=vt,vt=_t;break e}rt(vt,Et);break}else tt(vt,Et);Et=Et.sibling}yt.type===ya?(_t=Ah(yt.props.children,vt.mode,St,yt.key),_t.return=vt,vt=_t):(St=yh(yt.type,yt.key,yt.props,null,vt.mode,St),St.ref=sh(vt,_t,yt),St.return=vt,vt=St)}return st(vt);case wa:e:{for(Et=yt.key;_t!==null;){if(_t.key===Et)if(_t.tag===4&&_t.stateNode.containerInfo===yt.containerInfo&&_t.stateNode.implementation===yt.implementation){rt(vt,_t.sibling),_t=at(_t,yt.children||[]),_t.return=vt,vt=_t;break e}else{rt(vt,_t);break}else tt(vt,_t);_t=_t.sibling}_t=zh(yt,vt.mode,St),_t.return=vt,vt=_t}return st(vt);case Ha:return Et=yt._init,xt(vt,_t,Et(yt._payload),St)}if(eb(yt))return gt(vt,_t,yt,St);if(Ka(yt))return mt(vt,_t,yt,St);th(vt,yt)}return typeof yt=="string"&&yt!==""||typeof yt=="number"?(yt=""+yt,_t!==null&&_t.tag===6?(rt(vt,_t.sibling),_t=at(_t,yt),_t.return=vt,vt=_t):(rt(vt,_t),_t=xh(yt,vt.mode,St),_t.return=vt,vt=_t),st(vt)):rt(vt,_t)}return xt}var Bh=vh$1(!0),Ch=vh$1(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(et){if(et===Dh)throw Error(p$3(174));return et}function Ih(et,tt){switch(G$2(Gh,tt),G$2(Fh,et),G$2(Eh,Dh),et=tt.nodeType,et){case 9:case 11:tt=(tt=tt.documentElement)?tt.namespaceURI:lb(null,"");break;default:et=et===8?tt.parentNode:tt,tt=et.namespaceURI||null,et=et.tagName,tt=lb(tt,et)}E$1(Eh),G$2(Eh,tt)}function Jh(){E$1(Eh),E$1(Fh),E$1(Gh)}function Kh(et){Hh(Gh.current);var tt=Hh(Eh.current),rt=lb(tt,et.type);tt!==rt&&(G$2(Fh,et),G$2(Eh,rt))}function Lh(et){Fh.current===et&&(E$1(Eh),E$1(Fh))}var M$1=Uf(0);function Mh(et){for(var tt=et;tt!==null;){if(tt.tag===13){var rt=tt.memoizedState;if(rt!==null&&(rt=rt.dehydrated,rt===null||rt.data==="$?"||rt.data==="$!"))return tt}else if(tt.tag===19&&tt.memoizedProps.revealOrder!==void 0){if(tt.flags&128)return tt}else if(tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===et)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===et)return null;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}return null}var Nh=[];function Oh(){for(var et=0;et<Nh.length;et++)Nh[et]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$1=null,O$2=null,P$2=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$3(321))}function Wh(et,tt){if(tt===null)return!1;for(var rt=0;rt<tt.length&&rt<et.length;rt++)if(!He(et[rt],tt[rt]))return!1;return!0}function Xh(et,tt,rt,nt,at,it){if(Rh=it,N$1=tt,tt.memoizedState=null,tt.updateQueue=null,tt.lanes=0,Ph.current=et===null||et.memoizedState===null?Yh:Zh,et=rt(nt,at),Th){it=0;do{if(Th=!1,Uh=0,25<=it)throw Error(p$3(301));it+=1,P$2=O$2=null,tt.updateQueue=null,Ph.current=$h,et=rt(nt,at)}while(Th)}if(Ph.current=ai,tt=O$2!==null&&O$2.next!==null,Rh=0,P$2=O$2=N$1=null,Sh=!1,tt)throw Error(p$3(300));return et}function bi(){var et=Uh!==0;return Uh=0,et}function ci(){var et={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$2===null?N$1.memoizedState=P$2=et:P$2=P$2.next=et,P$2}function di(){if(O$2===null){var et=N$1.alternate;et=et!==null?et.memoizedState:null}else et=O$2.next;var tt=P$2===null?N$1.memoizedState:P$2.next;if(tt!==null)P$2=tt,O$2=et;else{if(et===null)throw Error(p$3(310));O$2=et,et={memoizedState:O$2.memoizedState,baseState:O$2.baseState,baseQueue:O$2.baseQueue,queue:O$2.queue,next:null},P$2===null?N$1.memoizedState=P$2=et:P$2=P$2.next=et}return P$2}function ei(et,tt){return typeof tt=="function"?tt(et):tt}function fi(et){var tt=di(),rt=tt.queue;if(rt===null)throw Error(p$3(311));rt.lastRenderedReducer=et;var nt=O$2,at=nt.baseQueue,it=rt.pending;if(it!==null){if(at!==null){var st=at.next;at.next=it.next,it.next=st}nt.baseQueue=at=it,rt.pending=null}if(at!==null){it=at.next,nt=nt.baseState;var ot=st=null,lt=null,ct=it;do{var ut=ct.lane;if((Rh&ut)===ut)lt!==null&&(lt=lt.next={lane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),nt=ct.hasEagerState?ct.eagerState:et(nt,ct.action);else{var dt={lane:ut,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null};lt===null?(ot=lt=dt,st=nt):lt=lt.next=dt,N$1.lanes|=ut,hh|=ut}ct=ct.next}while(ct!==null&&ct!==it);lt===null?st=nt:lt.next=ot,He(nt,tt.memoizedState)||(Ug=!0),tt.memoizedState=nt,tt.baseState=st,tt.baseQueue=lt,rt.lastRenderedState=nt}if(et=rt.interleaved,et!==null){at=et;do it=at.lane,N$1.lanes|=it,hh|=it,at=at.next;while(at!==et)}else at===null&&(rt.lanes=0);return[tt.memoizedState,rt.dispatch]}function gi(et){var tt=di(),rt=tt.queue;if(rt===null)throw Error(p$3(311));rt.lastRenderedReducer=et;var nt=rt.dispatch,at=rt.pending,it=tt.memoizedState;if(at!==null){rt.pending=null;var st=at=at.next;do it=et(it,st.action),st=st.next;while(st!==at);He(it,tt.memoizedState)||(Ug=!0),tt.memoizedState=it,tt.baseQueue===null&&(tt.baseState=it),rt.lastRenderedState=it}return[it,nt]}function hi(){}function ii(et,tt){var rt=N$1,nt=di(),at=tt(),it=!He(nt.memoizedState,at);if(it&&(nt.memoizedState=at,Ug=!0),nt=nt.queue,ji(ki.bind(null,rt,nt,et),[et]),nt.getSnapshot!==tt||it||P$2!==null&&P$2.memoizedState.tag&1){if(rt.flags|=2048,li(9,mi.bind(null,rt,nt,at,tt),void 0,null),R$1===null)throw Error(p$3(349));Rh&30||ni(rt,tt,at)}return at}function ni(et,tt,rt){et.flags|=16384,et={getSnapshot:tt,value:rt},tt=N$1.updateQueue,tt===null?(tt={lastEffect:null,stores:null},N$1.updateQueue=tt,tt.stores=[et]):(rt=tt.stores,rt===null?tt.stores=[et]:rt.push(et))}function mi(et,tt,rt,nt){tt.value=rt,tt.getSnapshot=nt,oi(tt)&&pi$2(et)}function ki(et,tt,rt){return rt(function(){oi(tt)&&pi$2(et)})}function oi(et){var tt=et.getSnapshot;et=et.value;try{var rt=tt();return!He(et,rt)}catch{return!0}}function pi$2(et){var tt=Zg(et,1);tt!==null&&mh(tt,et,1,-1)}function qi(et){var tt=ci();return typeof et=="function"&&(et=et()),tt.memoizedState=tt.baseState=et,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:et},tt.queue=et,et=et.dispatch=ri.bind(null,N$1,et),[tt.memoizedState,et]}function li(et,tt,rt,nt){return et={tag:et,create:tt,destroy:rt,deps:nt,next:null},tt=N$1.updateQueue,tt===null?(tt={lastEffect:null,stores:null},N$1.updateQueue=tt,tt.lastEffect=et.next=et):(rt=tt.lastEffect,rt===null?tt.lastEffect=et.next=et:(nt=rt.next,rt.next=et,et.next=nt,tt.lastEffect=et)),et}function si(){return di().memoizedState}function ti(et,tt,rt,nt){var at=ci();N$1.flags|=et,at.memoizedState=li(1|tt,rt,void 0,nt===void 0?null:nt)}function ui(et,tt,rt,nt){var at=di();nt=nt===void 0?null:nt;var it=void 0;if(O$2!==null){var st=O$2.memoizedState;if(it=st.destroy,nt!==null&&Wh(nt,st.deps)){at.memoizedState=li(tt,rt,it,nt);return}}N$1.flags|=et,at.memoizedState=li(1|tt,rt,it,nt)}function vi(et,tt){return ti(8390656,8,et,tt)}function ji(et,tt){return ui(2048,8,et,tt)}function wi(et,tt){return ui(4,2,et,tt)}function xi(et,tt){return ui(4,4,et,tt)}function yi(et,tt){if(typeof tt=="function")return et=et(),tt(et),function(){tt(null)};if(tt!=null)return et=et(),tt.current=et,function(){tt.current=null}}function zi(et,tt,rt){return rt=rt!=null?rt.concat([et]):null,ui(4,4,yi.bind(null,tt,et),rt)}function Ai(){}function Bi(et,tt){var rt=di();tt=tt===void 0?null:tt;var nt=rt.memoizedState;return nt!==null&&tt!==null&&Wh(tt,nt[1])?nt[0]:(rt.memoizedState=[et,tt],et)}function Ci(et,tt){var rt=di();tt=tt===void 0?null:tt;var nt=rt.memoizedState;return nt!==null&&tt!==null&&Wh(tt,nt[1])?nt[0]:(et=et(),rt.memoizedState=[et,tt],et)}function Di(et,tt,rt){return Rh&21?(He(rt,tt)||(rt=yc(),N$1.lanes|=rt,hh|=rt,et.baseState=!0),tt):(et.baseState&&(et.baseState=!1,Ug=!0),et.memoizedState=rt)}function Ei(et,tt){var rt=C$1;C$1=rt!==0&&4>rt?rt:4,et(!0);var nt=Qh.transition;Qh.transition={};try{et(!1),tt()}finally{C$1=rt,Qh.transition=nt}}function Fi(){return di().memoizedState}function Gi(et,tt,rt){var nt=lh(et);if(rt={lane:nt,action:rt,hasEagerState:!1,eagerState:null,next:null},Hi(et))Ii(tt,rt);else if(rt=Yg(et,tt,rt,nt),rt!==null){var at=L$4();mh(rt,et,nt,at),Ji(rt,tt,nt)}}function ri(et,tt,rt){var nt=lh(et),at={lane:nt,action:rt,hasEagerState:!1,eagerState:null,next:null};if(Hi(et))Ii(tt,at);else{var it=et.alternate;if(et.lanes===0&&(it===null||it.lanes===0)&&(it=tt.lastRenderedReducer,it!==null))try{var st=tt.lastRenderedState,ot=it(st,rt);if(at.hasEagerState=!0,at.eagerState=ot,He(ot,st)){var lt=tt.interleaved;lt===null?(at.next=at,Xg(tt)):(at.next=lt.next,lt.next=at),tt.interleaved=at;return}}catch{}finally{}rt=Yg(et,tt,at,nt),rt!==null&&(at=L$4(),mh(rt,et,nt,at),Ji(rt,tt,nt))}}function Hi(et){var tt=et.alternate;return et===N$1||tt!==null&&tt===N$1}function Ii(et,tt){Th=Sh=!0;var rt=et.pending;rt===null?tt.next=tt:(tt.next=rt.next,rt.next=tt),et.pending=tt}function Ji(et,tt,rt){if(rt&4194240){var nt=tt.lanes;nt&=et.pendingLanes,rt|=nt,tt.lanes=rt,Cc(et,rt)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(et,tt){return ci().memoizedState=[et,tt===void 0?null:tt],et},useContext:Vg,useEffect:vi,useImperativeHandle:function(et,tt,rt){return rt=rt!=null?rt.concat([et]):null,ti(4194308,4,yi.bind(null,tt,et),rt)},useLayoutEffect:function(et,tt){return ti(4194308,4,et,tt)},useInsertionEffect:function(et,tt){return ti(4,2,et,tt)},useMemo:function(et,tt){var rt=ci();return tt=tt===void 0?null:tt,et=et(),rt.memoizedState=[et,tt],et},useReducer:function(et,tt,rt){var nt=ci();return tt=rt!==void 0?rt(tt):tt,nt.memoizedState=nt.baseState=tt,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:et,lastRenderedState:tt},nt.queue=et,et=et.dispatch=Gi.bind(null,N$1,et),[nt.memoizedState,et]},useRef:function(et){var tt=ci();return et={current:et},tt.memoizedState=et},useState:qi,useDebugValue:Ai,useDeferredValue:function(et){return ci().memoizedState=et},useTransition:function(){var et=qi(!1),tt=et[0];return et=Ei.bind(null,et[1]),ci().memoizedState=et,[tt,et]},useMutableSource:function(){},useSyncExternalStore:function(et,tt,rt){var nt=N$1,at=ci();if(I$1){if(rt===void 0)throw Error(p$3(407));rt=rt()}else{if(rt=tt(),R$1===null)throw Error(p$3(349));Rh&30||ni(nt,tt,rt)}at.memoizedState=rt;var it={value:rt,getSnapshot:tt};return at.queue=it,vi(ki.bind(null,nt,it,et),[et]),nt.flags|=2048,li(9,mi.bind(null,nt,it,rt,tt),void 0,null),rt},useId:function(){var et=ci(),tt=R$1.identifierPrefix;if(I$1){var rt=sg,nt=rg;rt=(nt&~(1<<32-oc(nt)-1)).toString(32)+rt,tt=":"+tt+"R"+rt,rt=Uh++,0<rt&&(tt+="H"+rt.toString(32)),tt+=":"}else rt=Vh++,tt=":"+tt+"r"+rt.toString(32)+":";return et.memoizedState=tt},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(et){var tt=di();return Di(tt,O$2.memoizedState,et)},useTransition:function(){var et=fi(ei)[0],tt=di().memoizedState;return[et,tt]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(et){var tt=di();return O$2===null?tt.memoizedState=et:Di(tt,O$2.memoizedState,et)},useTransition:function(){var et=gi(ei)[0],tt=di().memoizedState;return[et,tt]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(et,tt){try{var rt="",nt=tt;do rt+=Pa(nt),nt=nt.return;while(nt);var at=rt}catch(it){at=`
Error generating stack: `+it.message+`
`+it.stack}return{value:et,source:tt,stack:at,digest:null}}function Li(et,tt,rt){return{value:et,source:null,stack:rt??null,digest:tt??null}}function Mi(et,tt){try{console.error(tt.value)}catch(rt){setTimeout(function(){throw rt})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(et,tt,rt){rt=ch(-1,rt),rt.tag=3,rt.payload={element:null};var nt=tt.value;return rt.callback=function(){Pi||(Pi=!0,Qi=nt),Mi(et,tt)},rt}function Ri(et,tt,rt){rt=ch(-1,rt),rt.tag=3;var nt=et.type.getDerivedStateFromError;if(typeof nt=="function"){var at=tt.value;rt.payload=function(){return nt(at)},rt.callback=function(){Mi(et,tt)}}var it=et.stateNode;return it!==null&&typeof it.componentDidCatch=="function"&&(rt.callback=function(){Mi(et,tt),typeof nt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var st=tt.stack;this.componentDidCatch(tt.value,{componentStack:st!==null?st:""})}),rt}function Ti(et,tt,rt){var nt=et.pingCache;if(nt===null){nt=et.pingCache=new Ni;var at=new Set;nt.set(tt,at)}else at=nt.get(tt),at===void 0&&(at=new Set,nt.set(tt,at));at.has(rt)||(at.add(rt),et=Ui.bind(null,et,tt,rt),tt.then(et,et))}function Vi(et){do{var tt;if((tt=et.tag===13)&&(tt=et.memoizedState,tt=tt!==null?tt.dehydrated!==null:!0),tt)return et;et=et.return}while(et!==null);return null}function Wi(et,tt,rt,nt,at){return et.mode&1?(et.flags|=65536,et.lanes=at,et):(et===tt?et.flags|=65536:(et.flags|=128,rt.flags|=131072,rt.flags&=-52805,rt.tag===1&&(rt.alternate===null?rt.tag=17:(tt=ch(-1,1),tt.tag=2,dh(rt,tt,1))),rt.lanes|=1),et)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(et,tt,rt,nt){tt.child=et===null?Ch(tt,null,rt,nt):Bh(tt,et.child,rt,nt)}function Zi(et,tt,rt,nt,at){rt=rt.render;var it=tt.ref;return Tg(tt,at),nt=Xh(et,tt,rt,nt,it,at),rt=bi(),et!==null&&!Ug?(tt.updateQueue=et.updateQueue,tt.flags&=-2053,et.lanes&=~at,$i(et,tt,at)):(I$1&&rt&&vg(tt),tt.flags|=1,Yi(et,tt,nt,at),tt.child)}function aj(et,tt,rt,nt,at){if(et===null){var it=rt.type;return typeof it=="function"&&!bj(it)&&it.defaultProps===void 0&&rt.compare===null&&rt.defaultProps===void 0?(tt.tag=15,tt.type=it,cj(et,tt,it,nt,at)):(et=yh(rt.type,null,nt,tt,tt.mode,at),et.ref=tt.ref,et.return=tt,tt.child=et)}if(it=et.child,!(et.lanes&at)){var st=it.memoizedProps;if(rt=rt.compare,rt=rt!==null?rt:Ie$1,rt(st,nt)&&et.ref===tt.ref)return $i(et,tt,at)}return tt.flags|=1,et=wh(it,nt),et.ref=tt.ref,et.return=tt,tt.child=et}function cj(et,tt,rt,nt,at){if(et!==null){var it=et.memoizedProps;if(Ie$1(it,nt)&&et.ref===tt.ref)if(Ug=!1,tt.pendingProps=nt=it,(et.lanes&at)!==0)et.flags&131072&&(Ug=!0);else return tt.lanes=et.lanes,$i(et,tt,at)}return dj(et,tt,rt,nt,at)}function ej(et,tt,rt){var nt=tt.pendingProps,at=nt.children,it=et!==null?et.memoizedState:null;if(nt.mode==="hidden")if(!(tt.mode&1))tt.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(fj,gj),gj|=rt;else{if(!(rt&1073741824))return et=it!==null?it.baseLanes|rt:rt,tt.lanes=tt.childLanes=1073741824,tt.memoizedState={baseLanes:et,cachePool:null,transitions:null},tt.updateQueue=null,G$2(fj,gj),gj|=et,null;tt.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt=it!==null?it.baseLanes:rt,G$2(fj,gj),gj|=nt}else it!==null?(nt=it.baseLanes|rt,tt.memoizedState=null):nt=rt,G$2(fj,gj),gj|=nt;return Yi(et,tt,at,rt),tt.child}function hj(et,tt){var rt=tt.ref;(et===null&&rt!==null||et!==null&&et.ref!==rt)&&(tt.flags|=512,tt.flags|=2097152)}function dj(et,tt,rt,nt,at){var it=Zf(rt)?Xf:H$2.current;return it=Yf(tt,it),Tg(tt,at),rt=Xh(et,tt,rt,nt,it,at),nt=bi(),et!==null&&!Ug?(tt.updateQueue=et.updateQueue,tt.flags&=-2053,et.lanes&=~at,$i(et,tt,at)):(I$1&&nt&&vg(tt),tt.flags|=1,Yi(et,tt,rt,at),tt.child)}function ij(et,tt,rt,nt,at){if(Zf(rt)){var it=!0;cg(tt)}else it=!1;if(Tg(tt,at),tt.stateNode===null)jj(et,tt),ph(tt,rt,nt),rh(tt,rt,nt,at),nt=!0;else if(et===null){var st=tt.stateNode,ot=tt.memoizedProps;st.props=ot;var lt=st.context,ct=rt.contextType;typeof ct=="object"&&ct!==null?ct=Vg(ct):(ct=Zf(rt)?Xf:H$2.current,ct=Yf(tt,ct));var ut=rt.getDerivedStateFromProps,dt=typeof ut=="function"||typeof st.getSnapshotBeforeUpdate=="function";dt||typeof st.UNSAFE_componentWillReceiveProps!="function"&&typeof st.componentWillReceiveProps!="function"||(ot!==nt||lt!==ct)&&qh(tt,st,nt,ct),$g=!1;var ft=tt.memoizedState;st.state=ft,gh(tt,nt,st,at),lt=tt.memoizedState,ot!==nt||ft!==lt||Wf.current||$g?(typeof ut=="function"&&(kh(tt,rt,ut,nt),lt=tt.memoizedState),(ot=$g||oh(tt,rt,ot,nt,ft,lt,ct))?(dt||typeof st.UNSAFE_componentWillMount!="function"&&typeof st.componentWillMount!="function"||(typeof st.componentWillMount=="function"&&st.componentWillMount(),typeof st.UNSAFE_componentWillMount=="function"&&st.UNSAFE_componentWillMount()),typeof st.componentDidMount=="function"&&(tt.flags|=4194308)):(typeof st.componentDidMount=="function"&&(tt.flags|=4194308),tt.memoizedProps=nt,tt.memoizedState=lt),st.props=nt,st.state=lt,st.context=ct,nt=ot):(typeof st.componentDidMount=="function"&&(tt.flags|=4194308),nt=!1)}else{st=tt.stateNode,bh(et,tt),ot=tt.memoizedProps,ct=tt.type===tt.elementType?ot:Lg(tt.type,ot),st.props=ct,dt=tt.pendingProps,ft=st.context,lt=rt.contextType,typeof lt=="object"&&lt!==null?lt=Vg(lt):(lt=Zf(rt)?Xf:H$2.current,lt=Yf(tt,lt));var ht=rt.getDerivedStateFromProps;(ut=typeof ht=="function"||typeof st.getSnapshotBeforeUpdate=="function")||typeof st.UNSAFE_componentWillReceiveProps!="function"&&typeof st.componentWillReceiveProps!="function"||(ot!==dt||ft!==lt)&&qh(tt,st,nt,lt),$g=!1,ft=tt.memoizedState,st.state=ft,gh(tt,nt,st,at);var gt=tt.memoizedState;ot!==dt||ft!==gt||Wf.current||$g?(typeof ht=="function"&&(kh(tt,rt,ht,nt),gt=tt.memoizedState),(ct=$g||oh(tt,rt,ct,nt,ft,gt,lt)||!1)?(ut||typeof st.UNSAFE_componentWillUpdate!="function"&&typeof st.componentWillUpdate!="function"||(typeof st.componentWillUpdate=="function"&&st.componentWillUpdate(nt,gt,lt),typeof st.UNSAFE_componentWillUpdate=="function"&&st.UNSAFE_componentWillUpdate(nt,gt,lt)),typeof st.componentDidUpdate=="function"&&(tt.flags|=4),typeof st.getSnapshotBeforeUpdate=="function"&&(tt.flags|=1024)):(typeof st.componentDidUpdate!="function"||ot===et.memoizedProps&&ft===et.memoizedState||(tt.flags|=4),typeof st.getSnapshotBeforeUpdate!="function"||ot===et.memoizedProps&&ft===et.memoizedState||(tt.flags|=1024),tt.memoizedProps=nt,tt.memoizedState=gt),st.props=nt,st.state=gt,st.context=lt,nt=ct):(typeof st.componentDidUpdate!="function"||ot===et.memoizedProps&&ft===et.memoizedState||(tt.flags|=4),typeof st.getSnapshotBeforeUpdate!="function"||ot===et.memoizedProps&&ft===et.memoizedState||(tt.flags|=1024),nt=!1)}return kj(et,tt,rt,nt,it,at)}function kj(et,tt,rt,nt,at,it){hj(et,tt);var st=(tt.flags&128)!==0;if(!nt&&!st)return at&&dg(tt,rt,!1),$i(et,tt,it);nt=tt.stateNode,Xi.current=tt;var ot=st&&typeof rt.getDerivedStateFromError!="function"?null:nt.render();return tt.flags|=1,et!==null&&st?(tt.child=Bh(tt,et.child,null,it),tt.child=Bh(tt,null,ot,it)):Yi(et,tt,ot,it),tt.memoizedState=nt.state,at&&dg(tt,rt,!0),tt.child}function lj(et){var tt=et.stateNode;tt.pendingContext?ag(et,tt.pendingContext,tt.pendingContext!==tt.context):tt.context&&ag(et,tt.context,!1),Ih(et,tt.containerInfo)}function mj(et,tt,rt,nt,at){return Ig(),Jg(at),tt.flags|=256,Yi(et,tt,rt,nt),tt.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(et){return{baseLanes:et,cachePool:null,transitions:null}}function pj(et,tt,rt){var nt=tt.pendingProps,at=M$1.current,it=!1,st=(tt.flags&128)!==0,ot;if((ot=st)||(ot=et!==null&&et.memoizedState===null?!1:(at&2)!==0),ot?(it=!0,tt.flags&=-129):(et===null||et.memoizedState!==null)&&(at|=1),G$2(M$1,at&1),et===null)return Eg(tt),et=tt.memoizedState,et!==null&&(et=et.dehydrated,et!==null)?(tt.mode&1?et.data==="$!"?tt.lanes=8:tt.lanes=1073741824:tt.lanes=1,null):(st=nt.children,et=nt.fallback,it?(nt=tt.mode,it=tt.child,st={mode:"hidden",children:st},!(nt&1)&&it!==null?(it.childLanes=0,it.pendingProps=st):it=qj(st,nt,0,null),et=Ah(et,nt,rt,null),it.return=tt,et.return=tt,it.sibling=et,tt.child=it,tt.child.memoizedState=oj(rt),tt.memoizedState=nj,et):rj(tt,st));if(at=et.memoizedState,at!==null&&(ot=at.dehydrated,ot!==null))return sj(et,tt,st,nt,ot,at,rt);if(it){it=nt.fallback,st=tt.mode,at=et.child,ot=at.sibling;var lt={mode:"hidden",children:nt.children};return!(st&1)&&tt.child!==at?(nt=tt.child,nt.childLanes=0,nt.pendingProps=lt,tt.deletions=null):(nt=wh(at,lt),nt.subtreeFlags=at.subtreeFlags&14680064),ot!==null?it=wh(ot,it):(it=Ah(it,st,rt,null),it.flags|=2),it.return=tt,nt.return=tt,nt.sibling=it,tt.child=nt,nt=it,it=tt.child,st=et.child.memoizedState,st=st===null?oj(rt):{baseLanes:st.baseLanes|rt,cachePool:null,transitions:st.transitions},it.memoizedState=st,it.childLanes=et.childLanes&~rt,tt.memoizedState=nj,nt}return it=et.child,et=it.sibling,nt=wh(it,{mode:"visible",children:nt.children}),!(tt.mode&1)&&(nt.lanes=rt),nt.return=tt,nt.sibling=null,et!==null&&(rt=tt.deletions,rt===null?(tt.deletions=[et],tt.flags|=16):rt.push(et)),tt.child=nt,tt.memoizedState=null,nt}function rj(et,tt){return tt=qj({mode:"visible",children:tt},et.mode,0,null),tt.return=et,et.child=tt}function tj(et,tt,rt,nt){return nt!==null&&Jg(nt),Bh(tt,et.child,null,rt),et=rj(tt,tt.pendingProps.children),et.flags|=2,tt.memoizedState=null,et}function sj(et,tt,rt,nt,at,it,st){if(rt)return tt.flags&256?(tt.flags&=-257,nt=Li(Error(p$3(422))),tj(et,tt,st,nt)):tt.memoizedState!==null?(tt.child=et.child,tt.flags|=128,null):(it=nt.fallback,at=tt.mode,nt=qj({mode:"visible",children:nt.children},at,0,null),it=Ah(it,at,st,null),it.flags|=2,nt.return=tt,it.return=tt,nt.sibling=it,tt.child=nt,tt.mode&1&&Bh(tt,et.child,null,st),tt.child.memoizedState=oj(st),tt.memoizedState=nj,it);if(!(tt.mode&1))return tj(et,tt,st,null);if(at.data==="$!"){if(nt=at.nextSibling&&at.nextSibling.dataset,nt)var ot=nt.dgst;return nt=ot,it=Error(p$3(419)),nt=Li(it,nt,void 0),tj(et,tt,st,nt)}if(ot=(st&et.childLanes)!==0,Ug||ot){if(nt=R$1,nt!==null){switch(st&-st){case 4:at=2;break;case 16:at=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:at=32;break;case 536870912:at=268435456;break;default:at=0}at=at&(nt.suspendedLanes|st)?0:at,at!==0&&at!==it.retryLane&&(it.retryLane=at,Zg(et,at),mh(nt,et,at,-1))}return uj(),nt=Li(Error(p$3(421))),tj(et,tt,st,nt)}return at.data==="$?"?(tt.flags|=128,tt.child=et.child,tt=vj.bind(null,et),at._reactRetry=tt,null):(et=it.treeContext,yg=Lf(at.nextSibling),xg=tt,I$1=!0,zg=null,et!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=et.id,sg=et.overflow,qg=tt),tt=rj(tt,nt.children),tt.flags|=4096,tt)}function wj(et,tt,rt){et.lanes|=tt;var nt=et.alternate;nt!==null&&(nt.lanes|=tt),Sg(et.return,tt,rt)}function xj(et,tt,rt,nt,at){var it=et.memoizedState;it===null?et.memoizedState={isBackwards:tt,rendering:null,renderingStartTime:0,last:nt,tail:rt,tailMode:at}:(it.isBackwards=tt,it.rendering=null,it.renderingStartTime=0,it.last=nt,it.tail=rt,it.tailMode=at)}function yj(et,tt,rt){var nt=tt.pendingProps,at=nt.revealOrder,it=nt.tail;if(Yi(et,tt,nt.children,rt),nt=M$1.current,nt&2)nt=nt&1|2,tt.flags|=128;else{if(et!==null&&et.flags&128)e:for(et=tt.child;et!==null;){if(et.tag===13)et.memoizedState!==null&&wj(et,rt,tt);else if(et.tag===19)wj(et,rt,tt);else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===tt)break e;for(;et.sibling===null;){if(et.return===null||et.return===tt)break e;et=et.return}et.sibling.return=et.return,et=et.sibling}nt&=1}if(G$2(M$1,nt),!(tt.mode&1))tt.memoizedState=null;else switch(at){case"forwards":for(rt=tt.child,at=null;rt!==null;)et=rt.alternate,et!==null&&Mh(et)===null&&(at=rt),rt=rt.sibling;rt=at,rt===null?(at=tt.child,tt.child=null):(at=rt.sibling,rt.sibling=null),xj(tt,!1,at,rt,it);break;case"backwards":for(rt=null,at=tt.child,tt.child=null;at!==null;){if(et=at.alternate,et!==null&&Mh(et)===null){tt.child=at;break}et=at.sibling,at.sibling=rt,rt=at,at=et}xj(tt,!0,rt,null,it);break;case"together":xj(tt,!1,null,null,void 0);break;default:tt.memoizedState=null}return tt.child}function jj(et,tt){!(tt.mode&1)&&et!==null&&(et.alternate=null,tt.alternate=null,tt.flags|=2)}function $i(et,tt,rt){if(et!==null&&(tt.dependencies=et.dependencies),hh|=tt.lanes,!(rt&tt.childLanes))return null;if(et!==null&&tt.child!==et.child)throw Error(p$3(153));if(tt.child!==null){for(et=tt.child,rt=wh(et,et.pendingProps),tt.child=rt,rt.return=tt;et.sibling!==null;)et=et.sibling,rt=rt.sibling=wh(et,et.pendingProps),rt.return=tt;rt.sibling=null}return tt.child}function zj(et,tt,rt){switch(tt.tag){case 3:lj(tt),Ig();break;case 5:Kh(tt);break;case 1:Zf(tt.type)&&cg(tt);break;case 4:Ih(tt,tt.stateNode.containerInfo);break;case 10:var nt=tt.type._context,at=tt.memoizedProps.value;G$2(Mg,nt._currentValue),nt._currentValue=at;break;case 13:if(nt=tt.memoizedState,nt!==null)return nt.dehydrated!==null?(G$2(M$1,M$1.current&1),tt.flags|=128,null):rt&tt.child.childLanes?pj(et,tt,rt):(G$2(M$1,M$1.current&1),et=$i(et,tt,rt),et!==null?et.sibling:null);G$2(M$1,M$1.current&1);break;case 19:if(nt=(rt&tt.childLanes)!==0,et.flags&128){if(nt)return yj(et,tt,rt);tt.flags|=128}if(at=tt.memoizedState,at!==null&&(at.rendering=null,at.tail=null,at.lastEffect=null),G$2(M$1,M$1.current),nt)break;return null;case 22:case 23:return tt.lanes=0,ej(et,tt,rt)}return $i(et,tt,rt)}var Aj,Bj,Cj,Dj;Aj=function(et,tt){for(var rt=tt.child;rt!==null;){if(rt.tag===5||rt.tag===6)et.appendChild(rt.stateNode);else if(rt.tag!==4&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===tt)break;for(;rt.sibling===null;){if(rt.return===null||rt.return===tt)return;rt=rt.return}rt.sibling.return=rt.return,rt=rt.sibling}};Bj=function(){};Cj=function(et,tt,rt,nt){var at=et.memoizedProps;if(at!==nt){et=tt.stateNode,Hh(Eh.current);var it=null;switch(rt){case"input":at=Ya(et,at),nt=Ya(et,nt),it=[];break;case"select":at=A$2({},at,{value:void 0}),nt=A$2({},nt,{value:void 0}),it=[];break;case"textarea":at=gb(et,at),nt=gb(et,nt),it=[];break;default:typeof at.onClick!="function"&&typeof nt.onClick=="function"&&(et.onclick=Bf)}ub(rt,nt);var st;rt=null;for(ct in at)if(!nt.hasOwnProperty(ct)&&at.hasOwnProperty(ct)&&at[ct]!=null)if(ct==="style"){var ot=at[ct];for(st in ot)ot.hasOwnProperty(st)&&(rt||(rt={}),rt[st]="")}else ct!=="dangerouslySetInnerHTML"&&ct!=="children"&&ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(ea.hasOwnProperty(ct)?it||(it=[]):(it=it||[]).push(ct,null));for(ct in nt){var lt=nt[ct];if(ot=at!=null?at[ct]:void 0,nt.hasOwnProperty(ct)&&lt!==ot&&(lt!=null||ot!=null))if(ct==="style")if(ot){for(st in ot)!ot.hasOwnProperty(st)||lt&&lt.hasOwnProperty(st)||(rt||(rt={}),rt[st]="");for(st in lt)lt.hasOwnProperty(st)&&ot[st]!==lt[st]&&(rt||(rt={}),rt[st]=lt[st])}else rt||(it||(it=[]),it.push(ct,rt)),rt=lt;else ct==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,ot=ot?ot.__html:void 0,lt!=null&&ot!==lt&&(it=it||[]).push(ct,lt)):ct==="children"?typeof lt!="string"&&typeof lt!="number"||(it=it||[]).push(ct,""+lt):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ct)?(lt!=null&&ct==="onScroll"&&D$3("scroll",et),it||ot===lt||(it=[])):(it=it||[]).push(ct,lt))}rt&&(it=it||[]).push("style",rt);var ct=it;(tt.updateQueue=ct)&&(tt.flags|=4)}};Dj=function(et,tt,rt,nt){rt!==nt&&(tt.flags|=4)};function Ej(et,tt){if(!I$1)switch(et.tailMode){case"hidden":tt=et.tail;for(var rt=null;tt!==null;)tt.alternate!==null&&(rt=tt),tt=tt.sibling;rt===null?et.tail=null:rt.sibling=null;break;case"collapsed":rt=et.tail;for(var nt=null;rt!==null;)rt.alternate!==null&&(nt=rt),rt=rt.sibling;nt===null?tt||et.tail===null?et.tail=null:et.tail.sibling=null:nt.sibling=null}}function S$2(et){var tt=et.alternate!==null&&et.alternate.child===et.child,rt=0,nt=0;if(tt)for(var at=et.child;at!==null;)rt|=at.lanes|at.childLanes,nt|=at.subtreeFlags&14680064,nt|=at.flags&14680064,at.return=et,at=at.sibling;else for(at=et.child;at!==null;)rt|=at.lanes|at.childLanes,nt|=at.subtreeFlags,nt|=at.flags,at.return=et,at=at.sibling;return et.subtreeFlags|=nt,et.childLanes=rt,tt}function Fj(et,tt,rt){var nt=tt.pendingProps;switch(wg(tt),tt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(tt),null;case 1:return Zf(tt.type)&&$f(),S$2(tt),null;case 3:return nt=tt.stateNode,Jh(),E$1(Wf),E$1(H$2),Oh(),nt.pendingContext&&(nt.context=nt.pendingContext,nt.pendingContext=null),(et===null||et.child===null)&&(Gg(tt)?tt.flags|=4:et===null||et.memoizedState.isDehydrated&&!(tt.flags&256)||(tt.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(et,tt),S$2(tt),null;case 5:Lh(tt);var at=Hh(Gh.current);if(rt=tt.type,et!==null&&tt.stateNode!=null)Cj(et,tt,rt,nt,at),et.ref!==tt.ref&&(tt.flags|=512,tt.flags|=2097152);else{if(!nt){if(tt.stateNode===null)throw Error(p$3(166));return S$2(tt),null}if(et=Hh(Eh.current),Gg(tt)){nt=tt.stateNode,rt=tt.type;var it=tt.memoizedProps;switch(nt[Of]=tt,nt[Pf]=it,et=(tt.mode&1)!==0,rt){case"dialog":D$3("cancel",nt),D$3("close",nt);break;case"iframe":case"object":case"embed":D$3("load",nt);break;case"video":case"audio":for(at=0;at<lf.length;at++)D$3(lf[at],nt);break;case"source":D$3("error",nt);break;case"img":case"image":case"link":D$3("error",nt),D$3("load",nt);break;case"details":D$3("toggle",nt);break;case"input":Za(nt,it),D$3("invalid",nt);break;case"select":nt._wrapperState={wasMultiple:!!it.multiple},D$3("invalid",nt);break;case"textarea":hb(nt,it),D$3("invalid",nt)}ub(rt,it),at=null;for(var st in it)if(it.hasOwnProperty(st)){var ot=it[st];st==="children"?typeof ot=="string"?nt.textContent!==ot&&(it.suppressHydrationWarning!==!0&&Af(nt.textContent,ot,et),at=["children",ot]):typeof ot=="number"&&nt.textContent!==""+ot&&(it.suppressHydrationWarning!==!0&&Af(nt.textContent,ot,et),at=["children",""+ot]):ea.hasOwnProperty(st)&&ot!=null&&st==="onScroll"&&D$3("scroll",nt)}switch(rt){case"input":Va(nt),db(nt,it,!0);break;case"textarea":Va(nt),jb(nt);break;case"select":case"option":break;default:typeof it.onClick=="function"&&(nt.onclick=Bf)}nt=at,tt.updateQueue=nt,nt!==null&&(tt.flags|=4)}else{st=at.nodeType===9?at:at.ownerDocument,et==="http://www.w3.org/1999/xhtml"&&(et=kb(rt)),et==="http://www.w3.org/1999/xhtml"?rt==="script"?(et=st.createElement("div"),et.innerHTML="<script><\/script>",et=et.removeChild(et.firstChild)):typeof nt.is=="string"?et=st.createElement(rt,{is:nt.is}):(et=st.createElement(rt),rt==="select"&&(st=et,nt.multiple?st.multiple=!0:nt.size&&(st.size=nt.size))):et=st.createElementNS(et,rt),et[Of]=tt,et[Pf]=nt,Aj(et,tt,!1,!1),tt.stateNode=et;e:{switch(st=vb(rt,nt),rt){case"dialog":D$3("cancel",et),D$3("close",et),at=nt;break;case"iframe":case"object":case"embed":D$3("load",et),at=nt;break;case"video":case"audio":for(at=0;at<lf.length;at++)D$3(lf[at],et);at=nt;break;case"source":D$3("error",et),at=nt;break;case"img":case"image":case"link":D$3("error",et),D$3("load",et),at=nt;break;case"details":D$3("toggle",et),at=nt;break;case"input":Za(et,nt),at=Ya(et,nt),D$3("invalid",et);break;case"option":at=nt;break;case"select":et._wrapperState={wasMultiple:!!nt.multiple},at=A$2({},nt,{value:void 0}),D$3("invalid",et);break;case"textarea":hb(et,nt),at=gb(et,nt),D$3("invalid",et);break;default:at=nt}ub(rt,at),ot=at;for(it in ot)if(ot.hasOwnProperty(it)){var lt=ot[it];it==="style"?sb(et,lt):it==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,lt!=null&&nb(et,lt)):it==="children"?typeof lt=="string"?(rt!=="textarea"||lt!=="")&&ob(et,lt):typeof lt=="number"&&ob(et,""+lt):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?lt!=null&&it==="onScroll"&&D$3("scroll",et):lt!=null&&ta(et,it,lt,st))}switch(rt){case"input":Va(et),db(et,nt,!1);break;case"textarea":Va(et),jb(et);break;case"option":nt.value!=null&&et.setAttribute("value",""+Sa(nt.value));break;case"select":et.multiple=!!nt.multiple,it=nt.value,it!=null?fb(et,!!nt.multiple,it,!1):nt.defaultValue!=null&&fb(et,!!nt.multiple,nt.defaultValue,!0);break;default:typeof at.onClick=="function"&&(et.onclick=Bf)}switch(rt){case"button":case"input":case"select":case"textarea":nt=!!nt.autoFocus;break e;case"img":nt=!0;break e;default:nt=!1}}nt&&(tt.flags|=4)}tt.ref!==null&&(tt.flags|=512,tt.flags|=2097152)}return S$2(tt),null;case 6:if(et&&tt.stateNode!=null)Dj(et,tt,et.memoizedProps,nt);else{if(typeof nt!="string"&&tt.stateNode===null)throw Error(p$3(166));if(rt=Hh(Gh.current),Hh(Eh.current),Gg(tt)){if(nt=tt.stateNode,rt=tt.memoizedProps,nt[Of]=tt,(it=nt.nodeValue!==rt)&&(et=xg,et!==null))switch(et.tag){case 3:Af(nt.nodeValue,rt,(et.mode&1)!==0);break;case 5:et.memoizedProps.suppressHydrationWarning!==!0&&Af(nt.nodeValue,rt,(et.mode&1)!==0)}it&&(tt.flags|=4)}else nt=(rt.nodeType===9?rt:rt.ownerDocument).createTextNode(nt),nt[Of]=tt,tt.stateNode=nt}return S$2(tt),null;case 13:if(E$1(M$1),nt=tt.memoizedState,et===null||et.memoizedState!==null&&et.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&tt.mode&1&&!(tt.flags&128))Hg(),Ig(),tt.flags|=98560,it=!1;else if(it=Gg(tt),nt!==null&&nt.dehydrated!==null){if(et===null){if(!it)throw Error(p$3(318));if(it=tt.memoizedState,it=it!==null?it.dehydrated:null,!it)throw Error(p$3(317));it[Of]=tt}else Ig(),!(tt.flags&128)&&(tt.memoizedState=null),tt.flags|=4;S$2(tt),it=!1}else zg!==null&&(Gj(zg),zg=null),it=!0;if(!it)return tt.flags&65536?tt:null}return tt.flags&128?(tt.lanes=rt,tt):(nt=nt!==null,nt!==(et!==null&&et.memoizedState!==null)&&nt&&(tt.child.flags|=8192,tt.mode&1&&(et===null||M$1.current&1?T$1===0&&(T$1=3):uj())),tt.updateQueue!==null&&(tt.flags|=4),S$2(tt),null);case 4:return Jh(),Bj(et,tt),et===null&&sf(tt.stateNode.containerInfo),S$2(tt),null;case 10:return Rg(tt.type._context),S$2(tt),null;case 17:return Zf(tt.type)&&$f(),S$2(tt),null;case 19:if(E$1(M$1),it=tt.memoizedState,it===null)return S$2(tt),null;if(nt=(tt.flags&128)!==0,st=it.rendering,st===null)if(nt)Ej(it,!1);else{if(T$1!==0||et!==null&&et.flags&128)for(et=tt.child;et!==null;){if(st=Mh(et),st!==null){for(tt.flags|=128,Ej(it,!1),nt=st.updateQueue,nt!==null&&(tt.updateQueue=nt,tt.flags|=4),tt.subtreeFlags=0,nt=rt,rt=tt.child;rt!==null;)it=rt,et=nt,it.flags&=14680066,st=it.alternate,st===null?(it.childLanes=0,it.lanes=et,it.child=null,it.subtreeFlags=0,it.memoizedProps=null,it.memoizedState=null,it.updateQueue=null,it.dependencies=null,it.stateNode=null):(it.childLanes=st.childLanes,it.lanes=st.lanes,it.child=st.child,it.subtreeFlags=0,it.deletions=null,it.memoizedProps=st.memoizedProps,it.memoizedState=st.memoizedState,it.updateQueue=st.updateQueue,it.type=st.type,et=st.dependencies,it.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext}),rt=rt.sibling;return G$2(M$1,M$1.current&1|2),tt.child}et=et.sibling}it.tail!==null&&B$3()>Hj&&(tt.flags|=128,nt=!0,Ej(it,!1),tt.lanes=4194304)}else{if(!nt)if(et=Mh(st),et!==null){if(tt.flags|=128,nt=!0,rt=et.updateQueue,rt!==null&&(tt.updateQueue=rt,tt.flags|=4),Ej(it,!0),it.tail===null&&it.tailMode==="hidden"&&!st.alternate&&!I$1)return S$2(tt),null}else 2*B$3()-it.renderingStartTime>Hj&&rt!==1073741824&&(tt.flags|=128,nt=!0,Ej(it,!1),tt.lanes=4194304);it.isBackwards?(st.sibling=tt.child,tt.child=st):(rt=it.last,rt!==null?rt.sibling=st:tt.child=st,it.last=st)}return it.tail!==null?(tt=it.tail,it.rendering=tt,it.tail=tt.sibling,it.renderingStartTime=B$3(),tt.sibling=null,rt=M$1.current,G$2(M$1,nt?rt&1|2:rt&1),tt):(S$2(tt),null);case 22:case 23:return Ij(),nt=tt.memoizedState!==null,et!==null&&et.memoizedState!==null!==nt&&(tt.flags|=8192),nt&&tt.mode&1?gj&1073741824&&(S$2(tt),tt.subtreeFlags&6&&(tt.flags|=8192)):S$2(tt),null;case 24:return null;case 25:return null}throw Error(p$3(156,tt.tag))}function Jj(et,tt){switch(wg(tt),tt.tag){case 1:return Zf(tt.type)&&$f(),et=tt.flags,et&65536?(tt.flags=et&-65537|128,tt):null;case 3:return Jh(),E$1(Wf),E$1(H$2),Oh(),et=tt.flags,et&65536&&!(et&128)?(tt.flags=et&-65537|128,tt):null;case 5:return Lh(tt),null;case 13:if(E$1(M$1),et=tt.memoizedState,et!==null&&et.dehydrated!==null){if(tt.alternate===null)throw Error(p$3(340));Ig()}return et=tt.flags,et&65536?(tt.flags=et&-65537|128,tt):null;case 19:return E$1(M$1),null;case 4:return Jh(),null;case 10:return Rg(tt.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$3=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(et,tt){var rt=et.ref;if(rt!==null)if(typeof rt=="function")try{rt(null)}catch(nt){W$3(et,tt,nt)}else rt.current=null}function Nj(et,tt,rt){try{rt()}catch(nt){W$3(et,tt,nt)}}var Oj=!1;function Pj(et,tt){if(Cf=dd,et=Me(),Ne$1(et)){if("selectionStart"in et)var rt={start:et.selectionStart,end:et.selectionEnd};else e:{rt=(rt=et.ownerDocument)&&rt.defaultView||window;var nt=rt.getSelection&&rt.getSelection();if(nt&&nt.rangeCount!==0){rt=nt.anchorNode;var at=nt.anchorOffset,it=nt.focusNode;nt=nt.focusOffset;try{rt.nodeType,it.nodeType}catch{rt=null;break e}var st=0,ot=-1,lt=-1,ct=0,ut=0,dt=et,ft=null;t:for(;;){for(var ht;dt!==rt||at!==0&&dt.nodeType!==3||(ot=st+at),dt!==it||nt!==0&&dt.nodeType!==3||(lt=st+nt),dt.nodeType===3&&(st+=dt.nodeValue.length),(ht=dt.firstChild)!==null;)ft=dt,dt=ht;for(;;){if(dt===et)break t;if(ft===rt&&++ct===at&&(ot=st),ft===it&&++ut===nt&&(lt=st),(ht=dt.nextSibling)!==null)break;dt=ft,ft=dt.parentNode}dt=ht}rt=ot===-1||lt===-1?null:{start:ot,end:lt}}else rt=null}rt=rt||{start:0,end:0}}else rt=null;for(Df={focusedElem:et,selectionRange:rt},dd=!1,V$1=tt;V$1!==null;)if(tt=V$1,et=tt.child,(tt.subtreeFlags&1028)!==0&&et!==null)et.return=tt,V$1=et;else for(;V$1!==null;){tt=V$1;try{var gt=tt.alternate;if(tt.flags&1024)switch(tt.tag){case 0:case 11:case 15:break;case 1:if(gt!==null){var mt=gt.memoizedProps,xt=gt.memoizedState,vt=tt.stateNode,_t=vt.getSnapshotBeforeUpdate(tt.elementType===tt.type?mt:Lg(tt.type,mt),xt);vt.__reactInternalSnapshotBeforeUpdate=_t}break;case 3:var yt=tt.stateNode.containerInfo;yt.nodeType===1?yt.textContent="":yt.nodeType===9&&yt.documentElement&&yt.removeChild(yt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$3(163))}}catch(St){W$3(tt,tt.return,St)}if(et=tt.sibling,et!==null){et.return=tt.return,V$1=et;break}V$1=tt.return}return gt=Oj,Oj=!1,gt}function Qj(et,tt,rt){var nt=tt.updateQueue;if(nt=nt!==null?nt.lastEffect:null,nt!==null){var at=nt=nt.next;do{if((at.tag&et)===et){var it=at.destroy;at.destroy=void 0,it!==void 0&&Nj(tt,rt,it)}at=at.next}while(at!==nt)}}function Rj(et,tt){if(tt=tt.updateQueue,tt=tt!==null?tt.lastEffect:null,tt!==null){var rt=tt=tt.next;do{if((rt.tag&et)===et){var nt=rt.create;rt.destroy=nt()}rt=rt.next}while(rt!==tt)}}function Sj(et){var tt=et.ref;if(tt!==null){var rt=et.stateNode;switch(et.tag){case 5:et=rt;break;default:et=rt}typeof tt=="function"?tt(et):tt.current=et}}function Tj(et){var tt=et.alternate;tt!==null&&(et.alternate=null,Tj(tt)),et.child=null,et.deletions=null,et.sibling=null,et.tag===5&&(tt=et.stateNode,tt!==null&&(delete tt[Of],delete tt[Pf],delete tt[of],delete tt[Qf],delete tt[Rf])),et.stateNode=null,et.return=null,et.dependencies=null,et.memoizedProps=null,et.memoizedState=null,et.pendingProps=null,et.stateNode=null,et.updateQueue=null}function Uj(et){return et.tag===5||et.tag===3||et.tag===4}function Vj(et){e:for(;;){for(;et.sibling===null;){if(et.return===null||Uj(et.return))return null;et=et.return}for(et.sibling.return=et.return,et=et.sibling;et.tag!==5&&et.tag!==6&&et.tag!==18;){if(et.flags&2||et.child===null||et.tag===4)continue e;et.child.return=et,et=et.child}if(!(et.flags&2))return et.stateNode}}function Wj(et,tt,rt){var nt=et.tag;if(nt===5||nt===6)et=et.stateNode,tt?rt.nodeType===8?rt.parentNode.insertBefore(et,tt):rt.insertBefore(et,tt):(rt.nodeType===8?(tt=rt.parentNode,tt.insertBefore(et,rt)):(tt=rt,tt.appendChild(et)),rt=rt._reactRootContainer,rt!=null||tt.onclick!==null||(tt.onclick=Bf));else if(nt!==4&&(et=et.child,et!==null))for(Wj(et,tt,rt),et=et.sibling;et!==null;)Wj(et,tt,rt),et=et.sibling}function Xj(et,tt,rt){var nt=et.tag;if(nt===5||nt===6)et=et.stateNode,tt?rt.insertBefore(et,tt):rt.appendChild(et);else if(nt!==4&&(et=et.child,et!==null))for(Xj(et,tt,rt),et=et.sibling;et!==null;)Xj(et,tt,rt),et=et.sibling}var X$2=null,Yj=!1;function Zj(et,tt,rt){for(rt=rt.child;rt!==null;)ak(et,tt,rt),rt=rt.sibling}function ak(et,tt,rt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,rt)}catch{}switch(rt.tag){case 5:U$3||Mj(rt,tt);case 6:var nt=X$2,at=Yj;X$2=null,Zj(et,tt,rt),X$2=nt,Yj=at,X$2!==null&&(Yj?(et=X$2,rt=rt.stateNode,et.nodeType===8?et.parentNode.removeChild(rt):et.removeChild(rt)):X$2.removeChild(rt.stateNode));break;case 18:X$2!==null&&(Yj?(et=X$2,rt=rt.stateNode,et.nodeType===8?Kf(et.parentNode,rt):et.nodeType===1&&Kf(et,rt),bd(et)):Kf(X$2,rt.stateNode));break;case 4:nt=X$2,at=Yj,X$2=rt.stateNode.containerInfo,Yj=!0,Zj(et,tt,rt),X$2=nt,Yj=at;break;case 0:case 11:case 14:case 15:if(!U$3&&(nt=rt.updateQueue,nt!==null&&(nt=nt.lastEffect,nt!==null))){at=nt=nt.next;do{var it=at,st=it.destroy;it=it.tag,st!==void 0&&(it&2||it&4)&&Nj(rt,tt,st),at=at.next}while(at!==nt)}Zj(et,tt,rt);break;case 1:if(!U$3&&(Mj(rt,tt),nt=rt.stateNode,typeof nt.componentWillUnmount=="function"))try{nt.props=rt.memoizedProps,nt.state=rt.memoizedState,nt.componentWillUnmount()}catch(ot){W$3(rt,tt,ot)}Zj(et,tt,rt);break;case 21:Zj(et,tt,rt);break;case 22:rt.mode&1?(U$3=(nt=U$3)||rt.memoizedState!==null,Zj(et,tt,rt),U$3=nt):Zj(et,tt,rt);break;default:Zj(et,tt,rt)}}function bk(et){var tt=et.updateQueue;if(tt!==null){et.updateQueue=null;var rt=et.stateNode;rt===null&&(rt=et.stateNode=new Lj),tt.forEach(function(nt){var at=ck.bind(null,et,nt);rt.has(nt)||(rt.add(nt),nt.then(at,at))})}}function dk(et,tt){var rt=tt.deletions;if(rt!==null)for(var nt=0;nt<rt.length;nt++){var at=rt[nt];try{var it=et,st=tt,ot=st;e:for(;ot!==null;){switch(ot.tag){case 5:X$2=ot.stateNode,Yj=!1;break e;case 3:X$2=ot.stateNode.containerInfo,Yj=!0;break e;case 4:X$2=ot.stateNode.containerInfo,Yj=!0;break e}ot=ot.return}if(X$2===null)throw Error(p$3(160));ak(it,st,at),X$2=null,Yj=!1;var lt=at.alternate;lt!==null&&(lt.return=null),at.return=null}catch(ct){W$3(at,tt,ct)}}if(tt.subtreeFlags&12854)for(tt=tt.child;tt!==null;)ek(tt,et),tt=tt.sibling}function ek(et,tt){var rt=et.alternate,nt=et.flags;switch(et.tag){case 0:case 11:case 14:case 15:if(dk(tt,et),fk(et),nt&4){try{Qj(3,et,et.return),Rj(3,et)}catch(mt){W$3(et,et.return,mt)}try{Qj(5,et,et.return)}catch(mt){W$3(et,et.return,mt)}}break;case 1:dk(tt,et),fk(et),nt&512&&rt!==null&&Mj(rt,rt.return);break;case 5:if(dk(tt,et),fk(et),nt&512&&rt!==null&&Mj(rt,rt.return),et.flags&32){var at=et.stateNode;try{ob(at,"")}catch(mt){W$3(et,et.return,mt)}}if(nt&4&&(at=et.stateNode,at!=null)){var it=et.memoizedProps,st=rt!==null?rt.memoizedProps:it,ot=et.type,lt=et.updateQueue;if(et.updateQueue=null,lt!==null)try{ot==="input"&&it.type==="radio"&&it.name!=null&&ab(at,it),vb(ot,st);var ct=vb(ot,it);for(st=0;st<lt.length;st+=2){var ut=lt[st],dt=lt[st+1];ut==="style"?sb(at,dt):ut==="dangerouslySetInnerHTML"?nb(at,dt):ut==="children"?ob(at,dt):ta(at,ut,dt,ct)}switch(ot){case"input":bb(at,it);break;case"textarea":ib(at,it);break;case"select":var ft=at._wrapperState.wasMultiple;at._wrapperState.wasMultiple=!!it.multiple;var ht=it.value;ht!=null?fb(at,!!it.multiple,ht,!1):ft!==!!it.multiple&&(it.defaultValue!=null?fb(at,!!it.multiple,it.defaultValue,!0):fb(at,!!it.multiple,it.multiple?[]:"",!1))}at[Pf]=it}catch(mt){W$3(et,et.return,mt)}}break;case 6:if(dk(tt,et),fk(et),nt&4){if(et.stateNode===null)throw Error(p$3(162));at=et.stateNode,it=et.memoizedProps;try{at.nodeValue=it}catch(mt){W$3(et,et.return,mt)}}break;case 3:if(dk(tt,et),fk(et),nt&4&&rt!==null&&rt.memoizedState.isDehydrated)try{bd(tt.containerInfo)}catch(mt){W$3(et,et.return,mt)}break;case 4:dk(tt,et),fk(et);break;case 13:dk(tt,et),fk(et),at=et.child,at.flags&8192&&(it=at.memoizedState!==null,at.stateNode.isHidden=it,!it||at.alternate!==null&&at.alternate.memoizedState!==null||(gk=B$3())),nt&4&&bk(et);break;case 22:if(ut=rt!==null&&rt.memoizedState!==null,et.mode&1?(U$3=(ct=U$3)||ut,dk(tt,et),U$3=ct):dk(tt,et),fk(et),nt&8192){if(ct=et.memoizedState!==null,(et.stateNode.isHidden=ct)&&!ut&&et.mode&1)for(V$1=et,ut=et.child;ut!==null;){for(dt=V$1=ut;V$1!==null;){switch(ft=V$1,ht=ft.child,ft.tag){case 0:case 11:case 14:case 15:Qj(4,ft,ft.return);break;case 1:Mj(ft,ft.return);var gt=ft.stateNode;if(typeof gt.componentWillUnmount=="function"){nt=ft,rt=ft.return;try{tt=nt,gt.props=tt.memoizedProps,gt.state=tt.memoizedState,gt.componentWillUnmount()}catch(mt){W$3(nt,rt,mt)}}break;case 5:Mj(ft,ft.return);break;case 22:if(ft.memoizedState!==null){hk(dt);continue}}ht!==null?(ht.return=ft,V$1=ht):hk(dt)}ut=ut.sibling}e:for(ut=null,dt=et;;){if(dt.tag===5){if(ut===null){ut=dt;try{at=dt.stateNode,ct?(it=at.style,typeof it.setProperty=="function"?it.setProperty("display","none","important"):it.display="none"):(ot=dt.stateNode,lt=dt.memoizedProps.style,st=lt!=null&&lt.hasOwnProperty("display")?lt.display:null,ot.style.display=rb("display",st))}catch(mt){W$3(et,et.return,mt)}}}else if(dt.tag===6){if(ut===null)try{dt.stateNode.nodeValue=ct?"":dt.memoizedProps}catch(mt){W$3(et,et.return,mt)}}else if((dt.tag!==22&&dt.tag!==23||dt.memoizedState===null||dt===et)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===et)break e;for(;dt.sibling===null;){if(dt.return===null||dt.return===et)break e;ut===dt&&(ut=null),dt=dt.return}ut===dt&&(ut=null),dt.sibling.return=dt.return,dt=dt.sibling}}break;case 19:dk(tt,et),fk(et),nt&4&&bk(et);break;case 21:break;default:dk(tt,et),fk(et)}}function fk(et){var tt=et.flags;if(tt&2){try{e:{for(var rt=et.return;rt!==null;){if(Uj(rt)){var nt=rt;break e}rt=rt.return}throw Error(p$3(160))}switch(nt.tag){case 5:var at=nt.stateNode;nt.flags&32&&(ob(at,""),nt.flags&=-33);var it=Vj(et);Xj(et,it,at);break;case 3:case 4:var st=nt.stateNode.containerInfo,ot=Vj(et);Wj(et,ot,st);break;default:throw Error(p$3(161))}}catch(lt){W$3(et,et.return,lt)}et.flags&=-3}tt&4096&&(et.flags&=-4097)}function ik(et,tt,rt){V$1=et,jk(et)}function jk(et,tt,rt){for(var nt=(et.mode&1)!==0;V$1!==null;){var at=V$1,it=at.child;if(at.tag===22&&nt){var st=at.memoizedState!==null||Kj;if(!st){var ot=at.alternate,lt=ot!==null&&ot.memoizedState!==null||U$3;ot=Kj;var ct=U$3;if(Kj=st,(U$3=lt)&&!ct)for(V$1=at;V$1!==null;)st=V$1,lt=st.child,st.tag===22&&st.memoizedState!==null?kk(at):lt!==null?(lt.return=st,V$1=lt):kk(at);for(;it!==null;)V$1=it,jk(it),it=it.sibling;V$1=at,Kj=ot,U$3=ct}lk(et)}else at.subtreeFlags&8772&&it!==null?(it.return=at,V$1=it):lk(et)}}function lk(et){for(;V$1!==null;){var tt=V$1;if(tt.flags&8772){var rt=tt.alternate;try{if(tt.flags&8772)switch(tt.tag){case 0:case 11:case 15:U$3||Rj(5,tt);break;case 1:var nt=tt.stateNode;if(tt.flags&4&&!U$3)if(rt===null)nt.componentDidMount();else{var at=tt.elementType===tt.type?rt.memoizedProps:Lg(tt.type,rt.memoizedProps);nt.componentDidUpdate(at,rt.memoizedState,nt.__reactInternalSnapshotBeforeUpdate)}var it=tt.updateQueue;it!==null&&ih(tt,it,nt);break;case 3:var st=tt.updateQueue;if(st!==null){if(rt=null,tt.child!==null)switch(tt.child.tag){case 5:rt=tt.child.stateNode;break;case 1:rt=tt.child.stateNode}ih(tt,st,rt)}break;case 5:var ot=tt.stateNode;if(rt===null&&tt.flags&4){rt=ot;var lt=tt.memoizedProps;switch(tt.type){case"button":case"input":case"select":case"textarea":lt.autoFocus&&rt.focus();break;case"img":lt.src&&(rt.src=lt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(tt.memoizedState===null){var ct=tt.alternate;if(ct!==null){var ut=ct.memoizedState;if(ut!==null){var dt=ut.dehydrated;dt!==null&&bd(dt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$3(163))}U$3||tt.flags&512&&Sj(tt)}catch(ft){W$3(tt,tt.return,ft)}}if(tt===et){V$1=null;break}if(rt=tt.sibling,rt!==null){rt.return=tt.return,V$1=rt;break}V$1=tt.return}}function hk(et){for(;V$1!==null;){var tt=V$1;if(tt===et){V$1=null;break}var rt=tt.sibling;if(rt!==null){rt.return=tt.return,V$1=rt;break}V$1=tt.return}}function kk(et){for(;V$1!==null;){var tt=V$1;try{switch(tt.tag){case 0:case 11:case 15:var rt=tt.return;try{Rj(4,tt)}catch(lt){W$3(tt,rt,lt)}break;case 1:var nt=tt.stateNode;if(typeof nt.componentDidMount=="function"){var at=tt.return;try{nt.componentDidMount()}catch(lt){W$3(tt,at,lt)}}var it=tt.return;try{Sj(tt)}catch(lt){W$3(tt,it,lt)}break;case 5:var st=tt.return;try{Sj(tt)}catch(lt){W$3(tt,st,lt)}}}catch(lt){W$3(tt,tt.return,lt)}if(tt===et){V$1=null;break}var ot=tt.sibling;if(ot!==null){ot.return=tt.return,V$1=ot;break}V$1=tt.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$2=0,R$1=null,Y$2=null,Z=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$4(){return K$2&6?B$3():Bk!==-1?Bk:Bk=B$3()}function lh(et){return et.mode&1?K$2&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(et=C$1,et!==0||(et=window.event,et=et===void 0?16:jd(et.type)),et):1}function mh(et,tt,rt,nt){if(50<zk)throw zk=0,Ak=null,Error(p$3(185));Ac(et,rt,nt),(!(K$2&2)||et!==R$1)&&(et===R$1&&(!(K$2&2)&&(rk|=rt),T$1===4&&Dk(et,Z)),Ek(et,nt),rt===1&&K$2===0&&!(tt.mode&1)&&(Hj=B$3()+500,fg&&jg()))}function Ek(et,tt){var rt=et.callbackNode;wc(et,tt);var nt=uc(et,et===R$1?Z:0);if(nt===0)rt!==null&&bc(rt),et.callbackNode=null,et.callbackPriority=0;else if(tt=nt&-nt,et.callbackPriority!==tt){if(rt!=null&&bc(rt),tt===1)et.tag===0?ig(Fk.bind(null,et)):hg(Fk.bind(null,et)),Jf(function(){!(K$2&6)&&jg()}),rt=null;else{switch(Dc(nt)){case 1:rt=fc;break;case 4:rt=gc;break;case 16:rt=hc;break;case 536870912:rt=jc;break;default:rt=hc}rt=Gk(rt,Hk.bind(null,et))}et.callbackPriority=tt,et.callbackNode=rt}}function Hk(et,tt){if(Bk=-1,Ck=0,K$2&6)throw Error(p$3(327));var rt=et.callbackNode;if(Ik()&&et.callbackNode!==rt)return null;var nt=uc(et,et===R$1?Z:0);if(nt===0)return null;if(nt&30||nt&et.expiredLanes||tt)tt=Jk(et,nt);else{tt=nt;var at=K$2;K$2|=2;var it=Kk();(R$1!==et||Z!==tt)&&(vk=null,Hj=B$3()+500,Lk(et,tt));do try{Mk();break}catch(ot){Nk(et,ot)}while(1);Qg(),nk.current=it,K$2=at,Y$2!==null?tt=0:(R$1=null,Z=0,tt=T$1)}if(tt!==0){if(tt===2&&(at=xc(et),at!==0&&(nt=at,tt=Ok(et,at))),tt===1)throw rt=qk,Lk(et,0),Dk(et,nt),Ek(et,B$3()),rt;if(tt===6)Dk(et,nt);else{if(at=et.current.alternate,!(nt&30)&&!Pk(at)&&(tt=Jk(et,nt),tt===2&&(it=xc(et),it!==0&&(nt=it,tt=Ok(et,it))),tt===1))throw rt=qk,Lk(et,0),Dk(et,nt),Ek(et,B$3()),rt;switch(et.finishedWork=at,et.finishedLanes=nt,tt){case 0:case 1:throw Error(p$3(345));case 2:Qk(et,uk,vk);break;case 3:if(Dk(et,nt),(nt&130023424)===nt&&(tt=gk+500-B$3(),10<tt)){if(uc(et,0)!==0)break;if(at=et.suspendedLanes,(at&nt)!==nt){L$4(),et.pingedLanes|=et.suspendedLanes&at;break}et.timeoutHandle=Ff(Qk.bind(null,et,uk,vk),tt);break}Qk(et,uk,vk);break;case 4:if(Dk(et,nt),(nt&4194240)===nt)break;for(tt=et.eventTimes,at=-1;0<nt;){var st=31-oc(nt);it=1<<st,st=tt[st],st>at&&(at=st),nt&=~it}if(nt=at,nt=B$3()-nt,nt=(120>nt?120:480>nt?480:1080>nt?1080:1920>nt?1920:3e3>nt?3e3:4320>nt?4320:1960*mk(nt/1960))-nt,10<nt){et.timeoutHandle=Ff(Qk.bind(null,et,uk,vk),nt);break}Qk(et,uk,vk);break;case 5:Qk(et,uk,vk);break;default:throw Error(p$3(329))}}}return Ek(et,B$3()),et.callbackNode===rt?Hk.bind(null,et):null}function Ok(et,tt){var rt=tk;return et.current.memoizedState.isDehydrated&&(Lk(et,tt).flags|=256),et=Jk(et,tt),et!==2&&(tt=uk,uk=rt,tt!==null&&Gj(tt)),et}function Gj(et){uk===null?uk=et:uk.push.apply(uk,et)}function Pk(et){for(var tt=et;;){if(tt.flags&16384){var rt=tt.updateQueue;if(rt!==null&&(rt=rt.stores,rt!==null))for(var nt=0;nt<rt.length;nt++){var at=rt[nt],it=at.getSnapshot;at=at.value;try{if(!He(it(),at))return!1}catch{return!1}}}if(rt=tt.child,tt.subtreeFlags&16384&&rt!==null)rt.return=tt,tt=rt;else{if(tt===et)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===et)return!0;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}}return!0}function Dk(et,tt){for(tt&=~sk,tt&=~rk,et.suspendedLanes|=tt,et.pingedLanes&=~tt,et=et.expirationTimes;0<tt;){var rt=31-oc(tt),nt=1<<rt;et[rt]=-1,tt&=~nt}}function Fk(et){if(K$2&6)throw Error(p$3(327));Ik();var tt=uc(et,0);if(!(tt&1))return Ek(et,B$3()),null;var rt=Jk(et,tt);if(et.tag!==0&&rt===2){var nt=xc(et);nt!==0&&(tt=nt,rt=Ok(et,nt))}if(rt===1)throw rt=qk,Lk(et,0),Dk(et,tt),Ek(et,B$3()),rt;if(rt===6)throw Error(p$3(345));return et.finishedWork=et.current.alternate,et.finishedLanes=tt,Qk(et,uk,vk),Ek(et,B$3()),null}function Rk(et,tt){var rt=K$2;K$2|=1;try{return et(tt)}finally{K$2=rt,K$2===0&&(Hj=B$3()+500,fg&&jg())}}function Sk(et){xk!==null&&xk.tag===0&&!(K$2&6)&&Ik();var tt=K$2;K$2|=1;var rt=pk.transition,nt=C$1;try{if(pk.transition=null,C$1=1,et)return et()}finally{C$1=nt,pk.transition=rt,K$2=tt,!(K$2&6)&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk(et,tt){et.finishedWork=null,et.finishedLanes=0;var rt=et.timeoutHandle;if(rt!==-1&&(et.timeoutHandle=-1,Gf(rt)),Y$2!==null)for(rt=Y$2.return;rt!==null;){var nt=rt;switch(wg(nt),nt.tag){case 1:nt=nt.type.childContextTypes,nt!=null&&$f();break;case 3:Jh(),E$1(Wf),E$1(H$2),Oh();break;case 5:Lh(nt);break;case 4:Jh();break;case 13:E$1(M$1);break;case 19:E$1(M$1);break;case 10:Rg(nt.type._context);break;case 22:case 23:Ij()}rt=rt.return}if(R$1=et,Y$2=et=wh(et.current,null),Z=gj=tt,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(tt=0;tt<Wg.length;tt++)if(rt=Wg[tt],nt=rt.interleaved,nt!==null){rt.interleaved=null;var at=nt.next,it=rt.pending;if(it!==null){var st=it.next;it.next=at,nt.next=st}rt.pending=nt}Wg=null}return et}function Nk(et,tt){do{var rt=Y$2;try{if(Qg(),Ph.current=ai,Sh){for(var nt=N$1.memoizedState;nt!==null;){var at=nt.queue;at!==null&&(at.pending=null),nt=nt.next}Sh=!1}if(Rh=0,P$2=O$2=N$1=null,Th=!1,Uh=0,ok.current=null,rt===null||rt.return===null){T$1=1,qk=tt,Y$2=null;break}e:{var it=et,st=rt.return,ot=rt,lt=tt;if(tt=Z,ot.flags|=32768,lt!==null&&typeof lt=="object"&&typeof lt.then=="function"){var ct=lt,ut=ot,dt=ut.tag;if(!(ut.mode&1)&&(dt===0||dt===11||dt===15)){var ft=ut.alternate;ft?(ut.updateQueue=ft.updateQueue,ut.memoizedState=ft.memoizedState,ut.lanes=ft.lanes):(ut.updateQueue=null,ut.memoizedState=null)}var ht=Vi(st);if(ht!==null){ht.flags&=-257,Wi(ht,st,ot,it,tt),ht.mode&1&&Ti(it,ct,tt),tt=ht,lt=ct;var gt=tt.updateQueue;if(gt===null){var mt=new Set;mt.add(lt),tt.updateQueue=mt}else gt.add(lt);break e}else{if(!(tt&1)){Ti(it,ct,tt),uj();break e}lt=Error(p$3(426))}}else if(I$1&&ot.mode&1){var xt=Vi(st);if(xt!==null){!(xt.flags&65536)&&(xt.flags|=256),Wi(xt,st,ot,it,tt),Jg(Ki(lt,ot));break e}}it=lt=Ki(lt,ot),T$1!==4&&(T$1=2),tk===null?tk=[it]:tk.push(it),it=st;do{switch(it.tag){case 3:it.flags|=65536,tt&=-tt,it.lanes|=tt;var vt=Oi(it,lt,tt);fh(it,vt);break e;case 1:ot=lt;var _t=it.type,yt=it.stateNode;if(!(it.flags&128)&&(typeof _t.getDerivedStateFromError=="function"||yt!==null&&typeof yt.componentDidCatch=="function"&&(Si===null||!Si.has(yt)))){it.flags|=65536,tt&=-tt,it.lanes|=tt;var St=Ri(it,ot,tt);fh(it,St);break e}}it=it.return}while(it!==null)}Tk(rt)}catch(bt){tt=bt,Y$2===rt&&rt!==null&&(Y$2=rt=rt.return);continue}break}while(1)}function Kk(){var et=nk.current;return nk.current=ai,et===null?ai:et}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$1===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$1,Z)}function Jk(et,tt){var rt=K$2;K$2|=2;var nt=Kk();(R$1!==et||Z!==tt)&&(vk=null,Lk(et,tt));do try{Uk();break}catch(at){Nk(et,at)}while(1);if(Qg(),K$2=rt,nk.current=nt,Y$2!==null)throw Error(p$3(261));return R$1=null,Z=0,T$1}function Uk(){for(;Y$2!==null;)Vk(Y$2)}function Mk(){for(;Y$2!==null&&!cc();)Vk(Y$2)}function Vk(et){var tt=Wk(et.alternate,et,gj);et.memoizedProps=et.pendingProps,tt===null?Tk(et):Y$2=tt,ok.current=null}function Tk(et){var tt=et;do{var rt=tt.alternate;if(et=tt.return,tt.flags&32768){if(rt=Jj(rt,tt),rt!==null){rt.flags&=32767,Y$2=rt;return}if(et!==null)et.flags|=32768,et.subtreeFlags=0,et.deletions=null;else{T$1=6,Y$2=null;return}}else if(rt=Fj(rt,tt,gj),rt!==null){Y$2=rt;return}if(tt=tt.sibling,tt!==null){Y$2=tt;return}Y$2=tt=et}while(tt!==null);T$1===0&&(T$1=5)}function Qk(et,tt,rt){var nt=C$1,at=pk.transition;try{pk.transition=null,C$1=1,Xk(et,tt,rt,nt)}finally{pk.transition=at,C$1=nt}return null}function Xk(et,tt,rt,nt){do Ik();while(xk!==null);if(K$2&6)throw Error(p$3(327));rt=et.finishedWork;var at=et.finishedLanes;if(rt===null)return null;if(et.finishedWork=null,et.finishedLanes=0,rt===et.current)throw Error(p$3(177));et.callbackNode=null,et.callbackPriority=0;var it=rt.lanes|rt.childLanes;if(Bc(et,it),et===R$1&&(Y$2=R$1=null,Z=0),!(rt.subtreeFlags&2064)&&!(rt.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),it=(rt.flags&15990)!==0,rt.subtreeFlags&15990||it){it=pk.transition,pk.transition=null;var st=C$1;C$1=1;var ot=K$2;K$2|=4,ok.current=null,Pj(et,rt),ek(rt,et),Oe$1(Df),dd=!!Cf,Df=Cf=null,et.current=rt,ik(rt),dc(),K$2=ot,C$1=st,pk.transition=it}else et.current=rt;if(wk&&(wk=!1,xk=et,yk=at),it=et.pendingLanes,it===0&&(Si=null),mc(rt.stateNode),Ek(et,B$3()),tt!==null)for(nt=et.onRecoverableError,rt=0;rt<tt.length;rt++)at=tt[rt],nt(at.value,{componentStack:at.stack,digest:at.digest});if(Pi)throw Pi=!1,et=Qi,Qi=null,et;return yk&1&&et.tag!==0&&Ik(),it=et.pendingLanes,it&1?et===Ak?zk++:(zk=0,Ak=et):zk=0,jg(),null}function Ik(){if(xk!==null){var et=Dc(yk),tt=pk.transition,rt=C$1;try{if(pk.transition=null,C$1=16>et?16:et,xk===null)var nt=!1;else{if(et=xk,xk=null,yk=0,K$2&6)throw Error(p$3(331));var at=K$2;for(K$2|=4,V$1=et.current;V$1!==null;){var it=V$1,st=it.child;if(V$1.flags&16){var ot=it.deletions;if(ot!==null){for(var lt=0;lt<ot.length;lt++){var ct=ot[lt];for(V$1=ct;V$1!==null;){var ut=V$1;switch(ut.tag){case 0:case 11:case 15:Qj(8,ut,it)}var dt=ut.child;if(dt!==null)dt.return=ut,V$1=dt;else for(;V$1!==null;){ut=V$1;var ft=ut.sibling,ht=ut.return;if(Tj(ut),ut===ct){V$1=null;break}if(ft!==null){ft.return=ht,V$1=ft;break}V$1=ht}}}var gt=it.alternate;if(gt!==null){var mt=gt.child;if(mt!==null){gt.child=null;do{var xt=mt.sibling;mt.sibling=null,mt=xt}while(mt!==null)}}V$1=it}}if(it.subtreeFlags&2064&&st!==null)st.return=it,V$1=st;else e:for(;V$1!==null;){if(it=V$1,it.flags&2048)switch(it.tag){case 0:case 11:case 15:Qj(9,it,it.return)}var vt=it.sibling;if(vt!==null){vt.return=it.return,V$1=vt;break e}V$1=it.return}}var _t=et.current;for(V$1=_t;V$1!==null;){st=V$1;var yt=st.child;if(st.subtreeFlags&2064&&yt!==null)yt.return=st,V$1=yt;else e:for(st=_t;V$1!==null;){if(ot=V$1,ot.flags&2048)try{switch(ot.tag){case 0:case 11:case 15:Rj(9,ot)}}catch(bt){W$3(ot,ot.return,bt)}if(ot===st){V$1=null;break e}var St=ot.sibling;if(St!==null){St.return=ot.return,V$1=St;break e}V$1=ot.return}}if(K$2=at,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,et)}catch{}nt=!0}return nt}finally{C$1=rt,pk.transition=tt}}return!1}function Yk(et,tt,rt){tt=Ki(rt,tt),tt=Oi(et,tt,1),et=dh(et,tt,1),tt=L$4(),et!==null&&(Ac(et,1,tt),Ek(et,tt))}function W$3(et,tt,rt){if(et.tag===3)Yk(et,et,rt);else for(;tt!==null;){if(tt.tag===3){Yk(tt,et,rt);break}else if(tt.tag===1){var nt=tt.stateNode;if(typeof tt.type.getDerivedStateFromError=="function"||typeof nt.componentDidCatch=="function"&&(Si===null||!Si.has(nt))){et=Ki(rt,et),et=Ri(tt,et,1),tt=dh(tt,et,1),et=L$4(),tt!==null&&(Ac(tt,1,et),Ek(tt,et));break}}tt=tt.return}}function Ui(et,tt,rt){var nt=et.pingCache;nt!==null&&nt.delete(tt),tt=L$4(),et.pingedLanes|=et.suspendedLanes&rt,R$1===et&&(Z&rt)===rt&&(T$1===4||T$1===3&&(Z&130023424)===Z&&500>B$3()-gk?Lk(et,0):sk|=rt),Ek(et,tt)}function Zk(et,tt){tt===0&&(et.mode&1?(tt=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):tt=1);var rt=L$4();et=Zg(et,tt),et!==null&&(Ac(et,tt,rt),Ek(et,rt))}function vj(et){var tt=et.memoizedState,rt=0;tt!==null&&(rt=tt.retryLane),Zk(et,rt)}function ck(et,tt){var rt=0;switch(et.tag){case 13:var nt=et.stateNode,at=et.memoizedState;at!==null&&(rt=at.retryLane);break;case 19:nt=et.stateNode;break;default:throw Error(p$3(314))}nt!==null&&nt.delete(tt),Zk(et,rt)}var Wk;Wk=function(et,tt,rt){if(et!==null)if(et.memoizedProps!==tt.pendingProps||Wf.current)Ug=!0;else{if(!(et.lanes&rt)&&!(tt.flags&128))return Ug=!1,zj(et,tt,rt);Ug=!!(et.flags&131072)}else Ug=!1,I$1&&tt.flags&1048576&&ug(tt,ng,tt.index);switch(tt.lanes=0,tt.tag){case 2:var nt=tt.type;jj(et,tt),et=tt.pendingProps;var at=Yf(tt,H$2.current);Tg(tt,rt),at=Xh(null,tt,nt,et,at,rt);var it=bi();return tt.flags|=1,typeof at=="object"&&at!==null&&typeof at.render=="function"&&at.$$typeof===void 0?(tt.tag=1,tt.memoizedState=null,tt.updateQueue=null,Zf(nt)?(it=!0,cg(tt)):it=!1,tt.memoizedState=at.state!==null&&at.state!==void 0?at.state:null,ah(tt),at.updater=nh,tt.stateNode=at,at._reactInternals=tt,rh(tt,nt,et,rt),tt=kj(null,tt,nt,!0,it,rt)):(tt.tag=0,I$1&&it&&vg(tt),Yi(null,tt,at,rt),tt=tt.child),tt;case 16:nt=tt.elementType;e:{switch(jj(et,tt),et=tt.pendingProps,at=nt._init,nt=at(nt._payload),tt.type=nt,at=tt.tag=$k(nt),et=Lg(nt,et),at){case 0:tt=dj(null,tt,nt,et,rt);break e;case 1:tt=ij(null,tt,nt,et,rt);break e;case 11:tt=Zi(null,tt,nt,et,rt);break e;case 14:tt=aj(null,tt,nt,Lg(nt.type,et),rt);break e}throw Error(p$3(306,nt,""))}return tt;case 0:return nt=tt.type,at=tt.pendingProps,at=tt.elementType===nt?at:Lg(nt,at),dj(et,tt,nt,at,rt);case 1:return nt=tt.type,at=tt.pendingProps,at=tt.elementType===nt?at:Lg(nt,at),ij(et,tt,nt,at,rt);case 3:e:{if(lj(tt),et===null)throw Error(p$3(387));nt=tt.pendingProps,it=tt.memoizedState,at=it.element,bh(et,tt),gh(tt,nt,null,rt);var st=tt.memoizedState;if(nt=st.element,it.isDehydrated)if(it={element:nt,isDehydrated:!1,cache:st.cache,pendingSuspenseBoundaries:st.pendingSuspenseBoundaries,transitions:st.transitions},tt.updateQueue.baseState=it,tt.memoizedState=it,tt.flags&256){at=Ki(Error(p$3(423)),tt),tt=mj(et,tt,nt,rt,at);break e}else if(nt!==at){at=Ki(Error(p$3(424)),tt),tt=mj(et,tt,nt,rt,at);break e}else for(yg=Lf(tt.stateNode.containerInfo.firstChild),xg=tt,I$1=!0,zg=null,rt=Ch(tt,null,nt,rt),tt.child=rt;rt;)rt.flags=rt.flags&-3|4096,rt=rt.sibling;else{if(Ig(),nt===at){tt=$i(et,tt,rt);break e}Yi(et,tt,nt,rt)}tt=tt.child}return tt;case 5:return Kh(tt),et===null&&Eg(tt),nt=tt.type,at=tt.pendingProps,it=et!==null?et.memoizedProps:null,st=at.children,Ef(nt,at)?st=null:it!==null&&Ef(nt,it)&&(tt.flags|=32),hj(et,tt),Yi(et,tt,st,rt),tt.child;case 6:return et===null&&Eg(tt),null;case 13:return pj(et,tt,rt);case 4:return Ih(tt,tt.stateNode.containerInfo),nt=tt.pendingProps,et===null?tt.child=Bh(tt,null,nt,rt):Yi(et,tt,nt,rt),tt.child;case 11:return nt=tt.type,at=tt.pendingProps,at=tt.elementType===nt?at:Lg(nt,at),Zi(et,tt,nt,at,rt);case 7:return Yi(et,tt,tt.pendingProps,rt),tt.child;case 8:return Yi(et,tt,tt.pendingProps.children,rt),tt.child;case 12:return Yi(et,tt,tt.pendingProps.children,rt),tt.child;case 10:e:{if(nt=tt.type._context,at=tt.pendingProps,it=tt.memoizedProps,st=at.value,G$2(Mg,nt._currentValue),nt._currentValue=st,it!==null)if(He(it.value,st)){if(it.children===at.children&&!Wf.current){tt=$i(et,tt,rt);break e}}else for(it=tt.child,it!==null&&(it.return=tt);it!==null;){var ot=it.dependencies;if(ot!==null){st=it.child;for(var lt=ot.firstContext;lt!==null;){if(lt.context===nt){if(it.tag===1){lt=ch(-1,rt&-rt),lt.tag=2;var ct=it.updateQueue;if(ct!==null){ct=ct.shared;var ut=ct.pending;ut===null?lt.next=lt:(lt.next=ut.next,ut.next=lt),ct.pending=lt}}it.lanes|=rt,lt=it.alternate,lt!==null&&(lt.lanes|=rt),Sg(it.return,rt,tt),ot.lanes|=rt;break}lt=lt.next}}else if(it.tag===10)st=it.type===tt.type?null:it.child;else if(it.tag===18){if(st=it.return,st===null)throw Error(p$3(341));st.lanes|=rt,ot=st.alternate,ot!==null&&(ot.lanes|=rt),Sg(st,rt,tt),st=it.sibling}else st=it.child;if(st!==null)st.return=it;else for(st=it;st!==null;){if(st===tt){st=null;break}if(it=st.sibling,it!==null){it.return=st.return,st=it;break}st=st.return}it=st}Yi(et,tt,at.children,rt),tt=tt.child}return tt;case 9:return at=tt.type,nt=tt.pendingProps.children,Tg(tt,rt),at=Vg(at),nt=nt(at),tt.flags|=1,Yi(et,tt,nt,rt),tt.child;case 14:return nt=tt.type,at=Lg(nt,tt.pendingProps),at=Lg(nt.type,at),aj(et,tt,nt,at,rt);case 15:return cj(et,tt,tt.type,tt.pendingProps,rt);case 17:return nt=tt.type,at=tt.pendingProps,at=tt.elementType===nt?at:Lg(nt,at),jj(et,tt),tt.tag=1,Zf(nt)?(et=!0,cg(tt)):et=!1,Tg(tt,rt),ph(tt,nt,at),rh(tt,nt,at,rt),kj(null,tt,nt,!0,et,rt);case 19:return yj(et,tt,rt);case 22:return ej(et,tt,rt)}throw Error(p$3(156,tt.tag))};function Gk(et,tt){return ac(et,tt)}function al(et,tt,rt,nt){this.tag=et,this.key=rt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=tt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=nt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(et,tt,rt,nt){return new al(et,tt,rt,nt)}function bj(et){return et=et.prototype,!(!et||!et.isReactComponent)}function $k(et){if(typeof et=="function")return bj(et)?1:0;if(et!=null){if(et=et.$$typeof,et===Da)return 11;if(et===Ga)return 14}return 2}function wh(et,tt){var rt=et.alternate;return rt===null?(rt=Bg(et.tag,tt,et.key,et.mode),rt.elementType=et.elementType,rt.type=et.type,rt.stateNode=et.stateNode,rt.alternate=et,et.alternate=rt):(rt.pendingProps=tt,rt.type=et.type,rt.flags=0,rt.subtreeFlags=0,rt.deletions=null),rt.flags=et.flags&14680064,rt.childLanes=et.childLanes,rt.lanes=et.lanes,rt.child=et.child,rt.memoizedProps=et.memoizedProps,rt.memoizedState=et.memoizedState,rt.updateQueue=et.updateQueue,tt=et.dependencies,rt.dependencies=tt===null?null:{lanes:tt.lanes,firstContext:tt.firstContext},rt.sibling=et.sibling,rt.index=et.index,rt.ref=et.ref,rt}function yh(et,tt,rt,nt,at,it){var st=2;if(nt=et,typeof et=="function")bj(et)&&(st=1);else if(typeof et=="string")st=5;else e:switch(et){case ya:return Ah(rt.children,at,it,tt);case za:st=8,at|=8;break;case Aa:return et=Bg(12,rt,tt,at|2),et.elementType=Aa,et.lanes=it,et;case Ea:return et=Bg(13,rt,tt,at),et.elementType=Ea,et.lanes=it,et;case Fa:return et=Bg(19,rt,tt,at),et.elementType=Fa,et.lanes=it,et;case Ia:return qj(rt,at,it,tt);default:if(typeof et=="object"&&et!==null)switch(et.$$typeof){case Ba:st=10;break e;case Ca:st=9;break e;case Da:st=11;break e;case Ga:st=14;break e;case Ha:st=16,nt=null;break e}throw Error(p$3(130,et==null?et:typeof et,""))}return tt=Bg(st,rt,tt,at),tt.elementType=et,tt.type=nt,tt.lanes=it,tt}function Ah(et,tt,rt,nt){return et=Bg(7,et,nt,tt),et.lanes=rt,et}function qj(et,tt,rt,nt){return et=Bg(22,et,nt,tt),et.elementType=Ia,et.lanes=rt,et.stateNode={isHidden:!1},et}function xh(et,tt,rt){return et=Bg(6,et,null,tt),et.lanes=rt,et}function zh(et,tt,rt){return tt=Bg(4,et.children!==null?et.children:[],et.key,tt),tt.lanes=rt,tt.stateNode={containerInfo:et.containerInfo,pendingChildren:null,implementation:et.implementation},tt}function bl(et,tt,rt,nt,at){this.tag=tt,this.containerInfo=et,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=nt,this.onRecoverableError=at,this.mutableSourceEagerHydrationData=null}function cl(et,tt,rt,nt,at,it,st,ot,lt){return et=new bl(et,tt,rt,ot,lt),tt===1?(tt=1,it===!0&&(tt|=8)):tt=0,it=Bg(3,null,null,tt),et.current=it,it.stateNode=et,it.memoizedState={element:nt,isDehydrated:rt,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(it),et}function dl(et,tt,rt){var nt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:nt==null?null:""+nt,children:et,containerInfo:tt,implementation:rt}}function el(et){if(!et)return Vf;et=et._reactInternals;e:{if(Vb(et)!==et||et.tag!==1)throw Error(p$3(170));var tt=et;do{switch(tt.tag){case 3:tt=tt.stateNode.context;break e;case 1:if(Zf(tt.type)){tt=tt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}tt=tt.return}while(tt!==null);throw Error(p$3(171))}if(et.tag===1){var rt=et.type;if(Zf(rt))return bg(et,rt,tt)}return tt}function fl(et,tt,rt,nt,at,it,st,ot,lt){return et=cl(rt,nt,!0,et,at,it,st,ot,lt),et.context=el(null),rt=et.current,nt=L$4(),at=lh(rt),it=ch(nt,at),it.callback=tt??null,dh(rt,it,at),et.current.lanes=at,Ac(et,at,nt),Ek(et,nt),et}function gl(et,tt,rt,nt){var at=tt.current,it=L$4(),st=lh(at);return rt=el(rt),tt.context===null?tt.context=rt:tt.pendingContext=rt,tt=ch(it,st),tt.payload={element:et},nt=nt===void 0?null:nt,nt!==null&&(tt.callback=nt),et=dh(at,tt,st),et!==null&&(mh(et,at,st,it),eh(et,at,st)),st}function hl(et){if(et=et.current,!et.child)return null;switch(et.child.tag){case 5:return et.child.stateNode;default:return et.child.stateNode}}function il(et,tt){if(et=et.memoizedState,et!==null&&et.dehydrated!==null){var rt=et.retryLane;et.retryLane=rt!==0&&rt<tt?rt:tt}}function jl(et,tt){il(et,tt),(et=et.alternate)&&il(et,tt)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(et){console.error(et)};function ml(et){this._internalRoot=et}nl.prototype.render=ml.prototype.render=function(et){var tt=this._internalRoot;if(tt===null)throw Error(p$3(409));gl(et,tt,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var et=this._internalRoot;if(et!==null){this._internalRoot=null;var tt=et.containerInfo;Sk(function(){gl(null,et,null,null)}),tt[uf]=null}};function nl(et){this._internalRoot=et}nl.prototype.unstable_scheduleHydration=function(et){if(et){var tt=Hc();et={blockedOn:null,target:et,priority:tt};for(var rt=0;rt<Qc.length&&tt!==0&&tt<Qc[rt].priority;rt++);Qc.splice(rt,0,et),rt===0&&Vc(et)}};function ol(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11)}function pl(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11&&(et.nodeType!==8||et.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(et,tt,rt,nt,at){if(at){if(typeof nt=="function"){var it=nt;nt=function(){var ct=hl(st);it.call(ct)}}var st=fl(tt,nt,et,0,null,!1,!1,"",ql);return et._reactRootContainer=st,et[uf]=st.current,sf(et.nodeType===8?et.parentNode:et),Sk(),st}for(;at=et.lastChild;)et.removeChild(at);if(typeof nt=="function"){var ot=nt;nt=function(){var ct=hl(lt);ot.call(ct)}}var lt=cl(et,0,!1,null,null,!1,!1,"",ql);return et._reactRootContainer=lt,et[uf]=lt.current,sf(et.nodeType===8?et.parentNode:et),Sk(function(){gl(tt,lt,rt,nt)}),lt}function sl(et,tt,rt,nt,at){var it=rt._reactRootContainer;if(it){var st=it;if(typeof at=="function"){var ot=at;at=function(){var lt=hl(st);ot.call(lt)}}gl(tt,st,et,at)}else st=rl(rt,tt,et,at,nt);return hl(st)}Ec=function(et){switch(et.tag){case 3:var tt=et.stateNode;if(tt.current.memoizedState.isDehydrated){var rt=tc(tt.pendingLanes);rt!==0&&(Cc(tt,rt|1),Ek(tt,B$3()),!(K$2&6)&&(Hj=B$3()+500,jg()))}break;case 13:Sk(function(){var nt=Zg(et,1);if(nt!==null){var at=L$4();mh(nt,et,1,at)}}),jl(et,1)}};Fc=function(et){if(et.tag===13){var tt=Zg(et,134217728);if(tt!==null){var rt=L$4();mh(tt,et,134217728,rt)}jl(et,134217728)}};Gc=function(et){if(et.tag===13){var tt=lh(et),rt=Zg(et,tt);if(rt!==null){var nt=L$4();mh(rt,et,tt,nt)}jl(et,tt)}};Hc=function(){return C$1};Ic=function(et,tt){var rt=C$1;try{return C$1=et,tt()}finally{C$1=rt}};yb=function(et,tt,rt){switch(tt){case"input":if(bb(et,rt),tt=rt.name,rt.type==="radio"&&tt!=null){for(rt=et;rt.parentNode;)rt=rt.parentNode;for(rt=rt.querySelectorAll("input[name="+JSON.stringify(""+tt)+'][type="radio"]'),tt=0;tt<rt.length;tt++){var nt=rt[tt];if(nt!==et&&nt.form===et.form){var at=Db(nt);if(!at)throw Error(p$3(90));Wa(nt),bb(nt,at)}}}break;case"textarea":ib(et,rt);break;case"select":tt=rt.value,tt!=null&&fb(et,!!rt.multiple,tt,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(et){return et=Zb(et),et===null?null:et.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(et,tt){var rt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(tt))throw Error(p$3(200));return dl(et,tt,null,rt)};reactDom_production_min.createRoot=function(et,tt){if(!ol(et))throw Error(p$3(299));var rt=!1,nt="",at=ll;return tt!=null&&(tt.unstable_strictMode===!0&&(rt=!0),tt.identifierPrefix!==void 0&&(nt=tt.identifierPrefix),tt.onRecoverableError!==void 0&&(at=tt.onRecoverableError)),tt=cl(et,1,!1,null,null,rt,!1,nt,at),et[uf]=tt.current,sf(et.nodeType===8?et.parentNode:et),new ml(tt)};reactDom_production_min.findDOMNode=function(et){if(et==null)return null;if(et.nodeType===1)return et;var tt=et._reactInternals;if(tt===void 0)throw typeof et.render=="function"?Error(p$3(188)):(et=Object.keys(et).join(","),Error(p$3(268,et)));return et=Zb(tt),et=et===null?null:et.stateNode,et};reactDom_production_min.flushSync=function(et){return Sk(et)};reactDom_production_min.hydrate=function(et,tt,rt){if(!pl(tt))throw Error(p$3(200));return sl(null,et,tt,!0,rt)};reactDom_production_min.hydrateRoot=function(et,tt,rt){if(!ol(et))throw Error(p$3(405));var nt=rt!=null&&rt.hydratedSources||null,at=!1,it="",st=ll;if(rt!=null&&(rt.unstable_strictMode===!0&&(at=!0),rt.identifierPrefix!==void 0&&(it=rt.identifierPrefix),rt.onRecoverableError!==void 0&&(st=rt.onRecoverableError)),tt=fl(tt,null,et,1,rt??null,at,!1,it,st),et[uf]=tt.current,sf(et),nt)for(et=0;et<nt.length;et++)rt=nt[et],at=rt._getVersion,at=at(rt._source),tt.mutableSourceEagerHydrationData==null?tt.mutableSourceEagerHydrationData=[rt,at]:tt.mutableSourceEagerHydrationData.push(rt,at);return new nl(tt)};reactDom_production_min.render=function(et,tt,rt){if(!pl(tt))throw Error(p$3(200));return sl(null,et,tt,!1,rt)};reactDom_production_min.unmountComponentAtNode=function(et){if(!pl(et))throw Error(p$3(40));return et._reactRootContainer?(Sk(function(){sl(null,null,et,!1,function(){et._reactRootContainer=null,et[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(et,tt,rt,nt){if(!pl(rt))throw Error(p$3(200));if(et==null||et._reactInternals===void 0)throw Error(p$3(38));return sl(et,tt,rt,!1,nt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(et){console.error(et)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const $7SXl2$reactdom=getDefaultExportFromCjs(reactDomExports);var m$3=reactDomExports;client.createRoot=m$3.createRoot,client.hydrateRoot=m$3.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$s.apply(this,arguments)}var Action$1;(function(et){et.Pop="POP",et.Push="PUSH",et.Replace="REPLACE"})(Action$1||(Action$1={}));const PopStateEventType="popstate";function createBrowserHistory(et){et===void 0&&(et={});function tt(nt,at){let{pathname:it,search:st,hash:ot}=nt.location;return createLocation("",{pathname:it,search:st,hash:ot},at.state&&at.state.usr||null,at.state&&at.state.key||"default")}function rt(nt,at){return typeof at=="string"?at:createPath(at)}return getUrlBasedHistory(tt,rt,null,et)}function invariant$2(et,tt){if(et===!1||et===null||typeof et>"u")throw new Error(tt)}function warning$3(et,tt){if(!et){typeof console<"u"&&console.warn(tt);try{throw new Error(tt)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(et,tt){return{usr:et.state,key:et.key,idx:tt}}function createLocation(et,tt,rt,nt){return rt===void 0&&(rt=null),_extends$s({pathname:typeof et=="string"?et:et.pathname,search:"",hash:""},typeof tt=="string"?parsePath(tt):tt,{state:rt,key:tt&&tt.key||nt||createKey()})}function createPath(et){let{pathname:tt="/",search:rt="",hash:nt=""}=et;return rt&&rt!=="?"&&(tt+=rt.charAt(0)==="?"?rt:"?"+rt),nt&&nt!=="#"&&(tt+=nt.charAt(0)==="#"?nt:"#"+nt),tt}function parsePath(et){let tt={};if(et){let rt=et.indexOf("#");rt>=0&&(tt.hash=et.substr(rt),et=et.substr(0,rt));let nt=et.indexOf("?");nt>=0&&(tt.search=et.substr(nt),et=et.substr(0,nt)),et&&(tt.pathname=et)}return tt}function getUrlBasedHistory(et,tt,rt,nt){nt===void 0&&(nt={});let{window:at=document.defaultView,v5Compat:it=!1}=nt,st=at.history,ot=Action$1.Pop,lt=null,ct=ut();ct==null&&(ct=0,st.replaceState(_extends$s({},st.state,{idx:ct}),""));function ut(){return(st.state||{idx:null}).idx}function dt(){ot=Action$1.Pop;let xt=ut(),vt=xt==null?null:xt-ct;ct=xt,lt&&lt({action:ot,location:mt.location,delta:vt})}function ft(xt,vt){ot=Action$1.Push;let _t=createLocation(mt.location,xt,vt);rt&&rt(_t,xt),ct=ut()+1;let yt=getHistoryState(_t,ct),St=mt.createHref(_t);try{st.pushState(yt,"",St)}catch(bt){if(bt instanceof DOMException&&bt.name==="DataCloneError")throw bt;at.location.assign(St)}it&&lt&&lt({action:ot,location:mt.location,delta:1})}function ht(xt,vt){ot=Action$1.Replace;let _t=createLocation(mt.location,xt,vt);rt&&rt(_t,xt),ct=ut();let yt=getHistoryState(_t,ct),St=mt.createHref(_t);st.replaceState(yt,"",St),it&&lt&&lt({action:ot,location:mt.location,delta:0})}function gt(xt){let vt=at.location.origin!=="null"?at.location.origin:at.location.href,_t=typeof xt=="string"?xt:createPath(xt);return _t=_t.replace(/ $/,"%20"),invariant$2(vt,"No window.location.(origin|href) available to create URL for href: "+_t),new URL(_t,vt)}let mt={get action(){return ot},get location(){return et(at,st)},listen(xt){if(lt)throw new Error("A history only accepts one active listener");return at.addEventListener(PopStateEventType,dt),lt=xt,()=>{at.removeEventListener(PopStateEventType,dt),lt=null}},createHref(xt){return tt(at,xt)},createURL:gt,encodeLocation(xt){let vt=gt(xt);return{pathname:vt.pathname,search:vt.search,hash:vt.hash}},push:ft,replace:ht,go(xt){return st.go(xt)}};return mt}var ResultType;(function(et){et.data="data",et.deferred="deferred",et.redirect="redirect",et.error="error"})(ResultType||(ResultType={}));function matchRoutes(et,tt,rt){return rt===void 0&&(rt="/"),matchRoutesImpl(et,tt,rt,!1)}function matchRoutesImpl(et,tt,rt,nt){let at=typeof tt=="string"?parsePath(tt):tt,it=stripBasename(at.pathname||"/",rt);if(it==null)return null;let st=flattenRoutes(et);rankRouteBranches(st);let ot=null;for(let lt=0;ot==null&&lt<st.length;++lt){let ct=decodePath(it);ot=matchRouteBranch(st[lt],ct,nt)}return ot}function flattenRoutes(et,tt,rt,nt){tt===void 0&&(tt=[]),rt===void 0&&(rt=[]),nt===void 0&&(nt="");let at=(it,st,ot)=>{let lt={relativePath:ot===void 0?it.path||"":ot,caseSensitive:it.caseSensitive===!0,childrenIndex:st,route:it};lt.relativePath.startsWith("/")&&(invariant$2(lt.relativePath.startsWith(nt),'Absolute route path "'+lt.relativePath+'" nested under path '+('"'+nt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),lt.relativePath=lt.relativePath.slice(nt.length));let ct=joinPaths([nt,lt.relativePath]),ut=rt.concat(lt);it.children&&it.children.length>0&&(invariant$2(it.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ct+'".')),flattenRoutes(it.children,tt,ut,ct)),!(it.path==null&&!it.index)&&tt.push({path:ct,score:computeScore(ct,it.index),routesMeta:ut})};return et.forEach((it,st)=>{var ot;if(it.path===""||!((ot=it.path)!=null&&ot.includes("?")))at(it,st);else for(let lt of explodeOptionalSegments(it.path))at(it,st,lt)}),tt}function explodeOptionalSegments(et){let tt=et.split("/");if(tt.length===0)return[];let[rt,...nt]=tt,at=rt.endsWith("?"),it=rt.replace(/\?$/,"");if(nt.length===0)return at?[it,""]:[it];let st=explodeOptionalSegments(nt.join("/")),ot=[];return ot.push(...st.map(lt=>lt===""?it:[it,lt].join("/"))),at&&ot.push(...st),ot.map(lt=>et.startsWith("/")&&lt===""?"/":lt)}function rankRouteBranches(et){et.sort((tt,rt)=>tt.score!==rt.score?rt.score-tt.score:compareIndexes(tt.routesMeta.map(nt=>nt.childrenIndex),rt.routesMeta.map(nt=>nt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=et=>et==="*";function computeScore(et,tt){let rt=et.split("/"),nt=rt.length;return rt.some(isSplat)&&(nt+=splatPenalty),tt&&(nt+=indexRouteValue),rt.filter(at=>!isSplat(at)).reduce((at,it)=>at+(paramRe.test(it)?dynamicSegmentValue:it===""?emptySegmentValue:staticSegmentValue),nt)}function compareIndexes(et,tt){return et.length===tt.length&&et.slice(0,-1).every((nt,at)=>nt===tt[at])?et[et.length-1]-tt[tt.length-1]:0}function matchRouteBranch(et,tt,rt){rt===void 0&&(rt=!1);let{routesMeta:nt}=et,at={},it="/",st=[];for(let ot=0;ot<nt.length;++ot){let lt=nt[ot],ct=ot===nt.length-1,ut=it==="/"?tt:tt.slice(it.length)||"/",dt=matchPath({path:lt.relativePath,caseSensitive:lt.caseSensitive,end:ct},ut),ft=lt.route;if(!dt&&ct&&rt&&!nt[nt.length-1].route.index&&(dt=matchPath({path:lt.relativePath,caseSensitive:lt.caseSensitive,end:!1},ut)),!dt)return null;Object.assign(at,dt.params),st.push({params:at,pathname:joinPaths([it,dt.pathname]),pathnameBase:normalizePathname(joinPaths([it,dt.pathnameBase])),route:ft}),dt.pathnameBase!=="/"&&(it=joinPaths([it,dt.pathnameBase]))}return st}function matchPath(et,tt){typeof et=="string"&&(et={path:et,caseSensitive:!1,end:!0});let[rt,nt]=compilePath(et.path,et.caseSensitive,et.end),at=tt.match(rt);if(!at)return null;let it=at[0],st=it.replace(/(.)\/+$/,"$1"),ot=at.slice(1);return{params:nt.reduce((ct,ut,dt)=>{let{paramName:ft,isOptional:ht}=ut;if(ft==="*"){let mt=ot[dt]||"";st=it.slice(0,it.length-mt.length).replace(/(.)\/+$/,"$1")}const gt=ot[dt];return ht&&!gt?ct[ft]=void 0:ct[ft]=(gt||"").replace(/%2F/g,"/"),ct},{}),pathname:it,pathnameBase:st,pattern:et}}function compilePath(et,tt,rt){tt===void 0&&(tt=!1),rt===void 0&&(rt=!0),warning$3(et==="*"||!et.endsWith("*")||et.endsWith("/*"),'Route path "'+et+'" will be treated as if it were '+('"'+et.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+et.replace(/\*$/,"/*")+'".'));let nt=[],at="^"+et.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(st,ot,lt)=>(nt.push({paramName:ot,isOptional:lt!=null}),lt?"/?([^\\/]+)?":"/([^\\/]+)"));return et.endsWith("*")?(nt.push({paramName:"*"}),at+=et==="*"||et==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):rt?at+="\\/*$":et!==""&&et!=="/"&&(at+="(?:(?=\\/|$))"),[new RegExp(at,tt?void 0:"i"),nt]}function decodePath(et){try{return et.split("/").map(tt=>decodeURIComponent(tt).replace(/\//g,"%2F")).join("/")}catch(tt){return warning$3(!1,'The URL path "'+et+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+tt+").")),et}}function stripBasename(et,tt){if(tt==="/")return et;if(!et.toLowerCase().startsWith(tt.toLowerCase()))return null;let rt=tt.endsWith("/")?tt.length-1:tt.length,nt=et.charAt(rt);return nt&&nt!=="/"?null:et.slice(rt)||"/"}const ABSOLUTE_URL_REGEX$1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isAbsoluteUrl=et=>ABSOLUTE_URL_REGEX$1.test(et);function resolvePath(et,tt){tt===void 0&&(tt="/");let{pathname:rt,search:nt="",hash:at=""}=typeof et=="string"?parsePath(et):et,it;if(rt)if(isAbsoluteUrl(rt))it=rt;else{if(rt.includes("//")){let st=rt;rt=rt.replace(/\/\/+/g,"/"),warning$3(!1,"Pathnames cannot have embedded double slashes - normalizing "+(st+" -> "+rt))}rt.startsWith("/")?it=resolvePathname(rt.substring(1),"/"):it=resolvePathname(rt,tt)}else it=tt;return{pathname:it,search:normalizeSearch(nt),hash:normalizeHash(at)}}function resolvePathname(et,tt){let rt=tt.replace(/\/+$/,"").split("/");return et.split("/").forEach(at=>{at===".."?rt.length>1&&rt.pop():at!=="."&&rt.push(at)}),rt.length>1?rt.join("/"):"/"}function getInvalidPathError(et,tt,rt,nt){return"Cannot include a '"+et+"' character in a manually specified "+("`to."+tt+"` field ["+JSON.stringify(nt)+"].  Please separate it out to the ")+("`to."+rt+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(et){return et.filter((tt,rt)=>rt===0||tt.route.path&&tt.route.path.length>0)}function getResolveToMatches(et,tt){let rt=getPathContributingMatches(et);return tt?rt.map((nt,at)=>at===rt.length-1?nt.pathname:nt.pathnameBase):rt.map(nt=>nt.pathnameBase)}function resolveTo(et,tt,rt,nt){nt===void 0&&(nt=!1);let at;typeof et=="string"?at=parsePath(et):(at=_extends$s({},et),invariant$2(!at.pathname||!at.pathname.includes("?"),getInvalidPathError("?","pathname","search",at)),invariant$2(!at.pathname||!at.pathname.includes("#"),getInvalidPathError("#","pathname","hash",at)),invariant$2(!at.search||!at.search.includes("#"),getInvalidPathError("#","search","hash",at)));let it=et===""||at.pathname==="",st=it?"/":at.pathname,ot;if(st==null)ot=rt;else{let dt=tt.length-1;if(!nt&&st.startsWith("..")){let ft=st.split("/");for(;ft[0]==="..";)ft.shift(),dt-=1;at.pathname=ft.join("/")}ot=dt>=0?tt[dt]:"/"}let lt=resolvePath(at,ot),ct=st&&st!=="/"&&st.endsWith("/"),ut=(it||st===".")&&rt.endsWith("/");return!lt.pathname.endsWith("/")&&(ct||ut)&&(lt.pathname+="/"),lt}const joinPaths=et=>et.join("/").replace(/\/\/+/g,"/"),normalizePathname=et=>et.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=et=>!et||et==="?"?"":et.startsWith("?")?et:"?"+et,normalizeHash=et=>!et||et==="#"?"":et.startsWith("#")?et:"#"+et;function isRouteErrorResponse(et){return et!=null&&typeof et.status=="number"&&typeof et.statusText=="string"&&typeof et.internal=="boolean"&&"data"in et}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$r.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(et,tt){let{relative:rt}=tt===void 0?{}:tt;useInRouterContext()||invariant$2(!1);let{basename:nt,navigator:at}=reactExports.useContext(NavigationContext),{hash:it,pathname:st,search:ot}=useResolvedPath(et,{relative:rt}),lt=st;return nt!=="/"&&(lt=st==="/"?nt:joinPaths([nt,st])),at.createHref({pathname:lt,search:ot,hash:it})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$2(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$2(et){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(et)}function useNavigate(){let{isDataRoute:et}=reactExports.useContext(RouteContext);return et?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$2(!1);let et=reactExports.useContext(DataRouterContext),{basename:tt,future:rt,navigator:nt}=reactExports.useContext(NavigationContext),{matches:at}=reactExports.useContext(RouteContext),{pathname:it}=useLocation(),st=JSON.stringify(getResolveToMatches(at,rt.v7_relativeSplatPath)),ot=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{ot.current=!0}),reactExports.useCallback(function(ct,ut){if(ut===void 0&&(ut={}),!ot.current)return;if(typeof ct=="number"){nt.go(ct);return}let dt=resolveTo(ct,JSON.parse(st),it,ut.relative==="path");et==null&&tt!=="/"&&(dt.pathname=dt.pathname==="/"?tt:joinPaths([tt,dt.pathname])),(ut.replace?nt.replace:nt.push)(dt,ut.state,ut)},[tt,nt,st,it,et])}function useParams(){let{matches:et}=reactExports.useContext(RouteContext),tt=et[et.length-1];return tt?tt.params:{}}function useResolvedPath(et,tt){let{relative:rt}=tt===void 0?{}:tt,{future:nt}=reactExports.useContext(NavigationContext),{matches:at}=reactExports.useContext(RouteContext),{pathname:it}=useLocation(),st=JSON.stringify(getResolveToMatches(at,nt.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(et,JSON.parse(st),it,rt==="path"),[et,st,it,rt])}function useRoutes(et,tt){return useRoutesImpl(et,tt)}function useRoutesImpl(et,tt,rt,nt){useInRouterContext()||invariant$2(!1);let{navigator:at}=reactExports.useContext(NavigationContext),{matches:it}=reactExports.useContext(RouteContext),st=it[it.length-1],ot=st?st.params:{};st&&st.pathname;let lt=st?st.pathnameBase:"/";st&&st.route;let ct=useLocation(),ut;if(tt){var dt;let xt=typeof tt=="string"?parsePath(tt):tt;lt==="/"||(dt=xt.pathname)!=null&&dt.startsWith(lt)||invariant$2(!1),ut=xt}else ut=ct;let ft=ut.pathname||"/",ht=ft;if(lt!=="/"){let xt=lt.replace(/^\//,"").split("/");ht="/"+ft.replace(/^\//,"").split("/").slice(xt.length).join("/")}let gt=matchRoutes(et,{pathname:ht}),mt=_renderMatches(gt&&gt.map(xt=>Object.assign({},xt,{params:Object.assign({},ot,xt.params),pathname:joinPaths([lt,at.encodeLocation?at.encodeLocation(xt.pathname).pathname:xt.pathname]),pathnameBase:xt.pathnameBase==="/"?lt:joinPaths([lt,at.encodeLocation?at.encodeLocation(xt.pathnameBase).pathname:xt.pathnameBase])})),it,rt,nt);return tt&&mt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$r({pathname:"/",search:"",hash:"",state:null,key:"default"},ut),navigationType:Action$1.Pop}},mt):mt}function DefaultErrorComponent(){let et=useRouteError(),tt=isRouteErrorResponse(et)?et.status+" "+et.statusText:et instanceof Error?et.message:JSON.stringify(et),rt=et instanceof Error?et.stack:null,at={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},it=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},tt),rt?reactExports.createElement("pre",{style:at},rt):null,it)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(tt){super(tt),this.state={location:tt.location,revalidation:tt.revalidation,error:tt.error}}static getDerivedStateFromError(tt){return{error:tt}}static getDerivedStateFromProps(tt,rt){return rt.location!==tt.location||rt.revalidation!=="idle"&&tt.revalidation==="idle"?{error:tt.error,location:tt.location,revalidation:tt.revalidation}:{error:tt.error!==void 0?tt.error:rt.error,location:rt.location,revalidation:tt.revalidation||rt.revalidation}}componentDidCatch(tt,rt){console.error("React Router caught the following error during render",tt,rt)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(et){let{routeContext:tt,match:rt,children:nt}=et,at=reactExports.useContext(DataRouterContext);return at&&at.static&&at.staticContext&&(rt.route.errorElement||rt.route.ErrorBoundary)&&(at.staticContext._deepestRenderedBoundaryId=rt.route.id),reactExports.createElement(RouteContext.Provider,{value:tt},nt)}function _renderMatches(et,tt,rt,nt){var at;if(tt===void 0&&(tt=[]),rt===void 0&&(rt=null),nt===void 0&&(nt=null),et==null){var it;if(!rt)return null;if(rt.errors)et=rt.matches;else if((it=nt)!=null&&it.v7_partialHydration&&tt.length===0&&!rt.initialized&&rt.matches.length>0)et=rt.matches;else return null}let st=et,ot=(at=rt)==null?void 0:at.errors;if(ot!=null){let ut=st.findIndex(dt=>dt.route.id&&(ot==null?void 0:ot[dt.route.id])!==void 0);ut>=0||invariant$2(!1),st=st.slice(0,Math.min(st.length,ut+1))}let lt=!1,ct=-1;if(rt&&nt&&nt.v7_partialHydration)for(let ut=0;ut<st.length;ut++){let dt=st[ut];if((dt.route.HydrateFallback||dt.route.hydrateFallbackElement)&&(ct=ut),dt.route.id){let{loaderData:ft,errors:ht}=rt,gt=dt.route.loader&&ft[dt.route.id]===void 0&&(!ht||ht[dt.route.id]===void 0);if(dt.route.lazy||gt){lt=!0,ct>=0?st=st.slice(0,ct+1):st=[st[0]];break}}}return st.reduceRight((ut,dt,ft)=>{let ht,gt=!1,mt=null,xt=null;rt&&(ht=ot&&dt.route.id?ot[dt.route.id]:void 0,mt=dt.route.errorElement||defaultErrorElement,lt&&(ct<0&&ft===0?(warningOnce("route-fallback",!1),gt=!0,xt=null):ct===ft&&(gt=!0,xt=dt.route.hydrateFallbackElement||null)));let vt=tt.concat(st.slice(0,ft+1)),_t=()=>{let yt;return ht?yt=mt:gt?yt=xt:dt.route.Component?yt=reactExports.createElement(dt.route.Component,null):dt.route.element?yt=dt.route.element:yt=ut,reactExports.createElement(RenderedRoute,{match:dt,routeContext:{outlet:ut,matches:vt,isDataRoute:rt!=null},children:yt})};return rt&&(dt.route.ErrorBoundary||dt.route.errorElement||ft===0)?reactExports.createElement(RenderErrorBoundary,{location:rt.location,revalidation:rt.revalidation,component:mt,error:ht,children:_t(),routeContext:{outlet:null,matches:vt,isDataRoute:!0}}):_t()},null)}var DataRouterHook$1=function(et){return et.UseBlocker="useBlocker",et.UseRevalidator="useRevalidator",et.UseNavigateStable="useNavigate",et}(DataRouterHook$1||{}),DataRouterStateHook$1=function(et){return et.UseBlocker="useBlocker",et.UseLoaderData="useLoaderData",et.UseActionData="useActionData",et.UseRouteError="useRouteError",et.UseNavigation="useNavigation",et.UseRouteLoaderData="useRouteLoaderData",et.UseMatches="useMatches",et.UseRevalidator="useRevalidator",et.UseNavigateStable="useNavigate",et.UseRouteId="useRouteId",et}(DataRouterStateHook$1||{});function useDataRouterContext$1(et){let tt=reactExports.useContext(DataRouterContext);return tt||invariant$2(!1),tt}function useDataRouterState(et){let tt=reactExports.useContext(DataRouterStateContext);return tt||invariant$2(!1),tt}function useRouteContext(et){let tt=reactExports.useContext(RouteContext);return tt||invariant$2(!1),tt}function useCurrentRouteId(et){let tt=useRouteContext(),rt=tt.matches[tt.matches.length-1];return rt.route.id||invariant$2(!1),rt.route.id}function useRouteError(){var et;let tt=reactExports.useContext(RouteErrorContext),rt=useDataRouterState(DataRouterStateHook$1.UseRouteError),nt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return tt!==void 0?tt:(et=rt.errors)==null?void 0:et[nt]}function useNavigateStable(){let{router:et}=useDataRouterContext$1(DataRouterHook$1.UseNavigateStable),tt=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),rt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{rt.current=!0}),reactExports.useCallback(function(at,it){it===void 0&&(it={}),rt.current&&(typeof at=="number"?et.navigate(at):et.navigate(at,_extends$r({fromRouteId:tt},it)))},[et,tt])}const alreadyWarned$1={};function warningOnce(et,tt,rt){!tt&&!alreadyWarned$1[et]&&(alreadyWarned$1[et]=!0)}function logV6DeprecationWarnings(et,tt){et==null||et.v7_startTransition,(et==null?void 0:et.v7_relativeSplatPath)===void 0&&(!tt||tt.v7_relativeSplatPath),tt&&(tt.v7_fetcherPersist,tt.v7_normalizeFormMethod,tt.v7_partialHydration,tt.v7_skipActionErrorRevalidation)}function Navigate(et){let{to:tt,replace:rt,state:nt,relative:at}=et;useInRouterContext()||invariant$2(!1);let{future:it,static:st}=reactExports.useContext(NavigationContext),{matches:ot}=reactExports.useContext(RouteContext),{pathname:lt}=useLocation(),ct=useNavigate(),ut=resolveTo(tt,getResolveToMatches(ot,it.v7_relativeSplatPath),lt,at==="path"),dt=JSON.stringify(ut);return reactExports.useEffect(()=>ct(JSON.parse(dt),{replace:rt,state:nt,relative:at}),[ct,dt,at,rt,nt]),null}function Route(et){invariant$2(!1)}function Router(et){let{basename:tt="/",children:rt=null,location:nt,navigationType:at=Action$1.Pop,navigator:it,static:st=!1,future:ot}=et;useInRouterContext()&&invariant$2(!1);let lt=tt.replace(/^\/*/,"/"),ct=reactExports.useMemo(()=>({basename:lt,navigator:it,static:st,future:_extends$r({v7_relativeSplatPath:!1},ot)}),[lt,ot,it,st]);typeof nt=="string"&&(nt=parsePath(nt));let{pathname:ut="/",search:dt="",hash:ft="",state:ht=null,key:gt="default"}=nt,mt=reactExports.useMemo(()=>{let xt=stripBasename(ut,lt);return xt==null?null:{location:{pathname:xt,search:dt,hash:ft,state:ht,key:gt},navigationType:at}},[lt,ut,dt,ft,ht,gt,at]);return mt==null?null:reactExports.createElement(NavigationContext.Provider,{value:ct},reactExports.createElement(LocationContext.Provider,{children:rt,value:mt}))}function Routes(et){let{children:tt,location:rt}=et;return useRoutes(createRoutesFromChildren(tt),rt)}new Promise(()=>{});function createRoutesFromChildren(et,tt){tt===void 0&&(tt=[]);let rt=[];return reactExports.Children.forEach(et,(nt,at)=>{if(!reactExports.isValidElement(nt))return;let it=[...tt,at];if(nt.type===reactExports.Fragment){rt.push.apply(rt,createRoutesFromChildren(nt.props.children,it));return}nt.type!==Route&&invariant$2(!1),!nt.props.index||!nt.props.children||invariant$2(!1);let st={id:nt.props.id||it.join("-"),caseSensitive:nt.props.caseSensitive,element:nt.props.element,Component:nt.props.Component,index:nt.props.index,path:nt.props.path,loader:nt.props.loader,action:nt.props.action,errorElement:nt.props.errorElement,ErrorBoundary:nt.props.ErrorBoundary,hasErrorBoundary:nt.props.ErrorBoundary!=null||nt.props.errorElement!=null,shouldRevalidate:nt.props.shouldRevalidate,handle:nt.props.handle,lazy:nt.props.lazy};nt.props.children&&(st.children=createRoutesFromChildren(nt.props.children,it)),rt.push(st)}),rt}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$q.apply(this,arguments)}function _objectWithoutPropertiesLoose$f(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),at,it;for(it=0;it<nt.length;it++)at=nt[it],!(tt.indexOf(at)>=0)&&(rt[at]=et[at]);return rt}function isModifiedEvent(et){return!!(et.metaKey||et.altKey||et.ctrlKey||et.shiftKey)}function shouldProcessLinkClick(et,tt){return et.button===0&&(!tt||tt==="_self")&&!isModifiedEvent(et)}const _excluded$f=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_excluded2$5=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const ViewTransitionContext=reactExports.createContext({isTransitioning:!1}),START_TRANSITION="startTransition",startTransitionImpl=$2AODx$react[START_TRANSITION];function BrowserRouter(et){let{basename:tt,children:rt,future:nt,window:at}=et,it=reactExports.useRef();it.current==null&&(it.current=createBrowserHistory({window:at,v5Compat:!0}));let st=it.current,[ot,lt]=reactExports.useState({action:st.action,location:st.location}),{v7_startTransition:ct}=nt||{},ut=reactExports.useCallback(dt=>{ct&&startTransitionImpl?startTransitionImpl(()=>lt(dt)):lt(dt)},[lt,ct]);return reactExports.useLayoutEffect(()=>st.listen(ut),[st,ut]),reactExports.useEffect(()=>logV6DeprecationWarnings(nt),[nt]),reactExports.createElement(Router,{basename:tt,children:rt,location:ot.location,navigationType:ot.action,navigator:st,future:nt})}const isBrowser$3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(tt,rt){let{onClick:nt,relative:at,reloadDocument:it,replace:st,state:ot,target:lt,to:ct,preventScrollReset:ut,viewTransition:dt}=tt,ft=_objectWithoutPropertiesLoose$f(tt,_excluded$f),{basename:ht}=reactExports.useContext(NavigationContext),gt,mt=!1;if(typeof ct=="string"&&ABSOLUTE_URL_REGEX.test(ct)&&(gt=ct,isBrowser$3))try{let yt=new URL(window.location.href),St=ct.startsWith("//")?new URL(yt.protocol+ct):new URL(ct),bt=stripBasename(St.pathname,ht);St.origin===yt.origin&&bt!=null?ct=bt+St.search+St.hash:mt=!0}catch{}let xt=useHref(ct,{relative:at}),vt=useLinkClickHandler(ct,{replace:st,state:ot,target:lt,preventScrollReset:ut,relative:at,viewTransition:dt});function _t(yt){nt&&nt(yt),yt.defaultPrevented||vt(yt)}return reactExports.createElement("a",_extends$q({},ft,{href:gt||xt,onClick:mt||it?nt:_t,ref:rt,target:lt}))}),NavLink=reactExports.forwardRef(function(tt,rt){let{"aria-current":nt="page",caseSensitive:at=!1,className:it="",end:st=!1,style:ot,to:lt,viewTransition:ct,children:ut}=tt,dt=_objectWithoutPropertiesLoose$f(tt,_excluded2$5),ft=useResolvedPath(lt,{relative:dt.relative}),ht=useLocation(),gt=reactExports.useContext(DataRouterStateContext),{navigator:mt,basename:xt}=reactExports.useContext(NavigationContext),vt=gt!=null&&useViewTransitionState(ft)&&ct===!0,_t=mt.encodeLocation?mt.encodeLocation(ft).pathname:ft.pathname,yt=ht.pathname,St=gt&&gt.navigation&&gt.navigation.location?gt.navigation.location.pathname:null;at||(yt=yt.toLowerCase(),St=St?St.toLowerCase():null,_t=_t.toLowerCase()),St&&xt&&(St=stripBasename(St,xt)||St);const bt=_t!=="/"&&_t.endsWith("/")?_t.length-1:_t.length;let Et=yt===_t||!st&&yt.startsWith(_t)&&yt.charAt(bt)==="/",Tt=St!=null&&(St===_t||!st&&St.startsWith(_t)&&St.charAt(_t.length)==="/"),At={isActive:Et,isPending:Tt,isTransitioning:vt},Ct=Et?nt:void 0,kt;typeof it=="function"?kt=it(At):kt=[it,Et?"active":null,Tt?"pending":null,vt?"transitioning":null].filter(Boolean).join(" ");let Pt=typeof ot=="function"?ot(At):ot;return reactExports.createElement(Link,_extends$q({},dt,{"aria-current":Ct,className:kt,ref:rt,style:Pt,to:lt,viewTransition:ct}),typeof ut=="function"?ut(At):ut)});var DataRouterHook;(function(et){et.UseScrollRestoration="useScrollRestoration",et.UseSubmit="useSubmit",et.UseSubmitFetcher="useSubmitFetcher",et.UseFetcher="useFetcher",et.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(et){et.UseFetcher="useFetcher",et.UseFetchers="useFetchers",et.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useDataRouterContext(et){let tt=reactExports.useContext(DataRouterContext);return tt||invariant$2(!1),tt}function useLinkClickHandler(et,tt){let{target:rt,replace:nt,state:at,preventScrollReset:it,relative:st,viewTransition:ot}=tt===void 0?{}:tt,lt=useNavigate(),ct=useLocation(),ut=useResolvedPath(et,{relative:st});return reactExports.useCallback(dt=>{if(shouldProcessLinkClick(dt,rt)){dt.preventDefault();let ft=nt!==void 0?nt:createPath(ct)===createPath(ut);lt(et,{replace:ft,state:at,preventScrollReset:it,relative:st,viewTransition:ot})}},[ct,lt,ut,nt,at,rt,et,it,st,ot])}function useViewTransitionState(et,tt){tt===void 0&&(tt={});let rt=reactExports.useContext(ViewTransitionContext);rt==null&&invariant$2(!1);let{basename:nt}=useDataRouterContext(DataRouterHook.useViewTransitionState),at=useResolvedPath(et,{relative:tt.relative});if(!rt.isTransitioning)return!1;let it=stripBasename(rt.currentLocation.pathname,nt)||rt.currentLocation.pathname,st=stripBasename(rt.nextLocation.pathname,nt)||rt.nextLocation.pathname;return matchPath(at.pathname,st)!=null||matchPath(at.pathname,it)!=null}const ThemeContext=reactExports.createContext(),useTheme=()=>{const et=reactExports.useContext(ThemeContext);if(!et)throw new Error("useTheme must be used within a ThemeProvider");return et},ThemeProvider=({children:et})=>{const[tt,rt]=reactExports.useState(()=>localStorage.getItem("theme")||"light");reactExports.useEffect(()=>{const at=window.document.documentElement;at.classList.remove("light","dark"),at.classList.add(tt),localStorage.setItem("theme",tt)},[tt]);const nt=()=>{rt(at=>at==="light"?"dark":"light")};return jsxRuntimeExports.jsx(ThemeContext.Provider,{value:{theme:tt,toggleTheme:nt},children:et})};var __assign$1=function(){return __assign$1=Object.assign||function(tt){for(var rt,nt=1,at=arguments.length;nt<at;nt++){rt=arguments[nt];for(var it in rt)Object.prototype.hasOwnProperty.call(rt,it)&&(tt[it]=rt[it])}return tt},__assign$1.apply(this,arguments)};function __rest$5(et,tt){var rt={};for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&tt.indexOf(nt)<0&&(rt[nt]=et[nt]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,nt=Object.getOwnPropertySymbols(et);at<nt.length;at++)tt.indexOf(nt[at])<0&&Object.prototype.propertyIsEnumerable.call(et,nt[at])&&(rt[nt[at]]=et[nt[at]]);return rt}function __awaiter$4(et,tt,rt,nt){function at(it){return it instanceof rt?it:new rt(function(st){st(it)})}return new(rt||(rt=Promise))(function(it,st){function ot(ut){try{ct(nt.next(ut))}catch(dt){st(dt)}}function lt(ut){try{ct(nt.throw(ut))}catch(dt){st(dt)}}function ct(ut){ut.done?it(ut.value):at(ut.value).then(ot,lt)}ct((nt=nt.apply(et,tt||[])).next())})}function __spreadArray$1(et,tt,rt){if(rt||arguments.length===2)for(var nt=0,at=tt.length,it;nt<at;nt++)(it||!(nt in tt))&&(it||(it=Array.prototype.slice.call(tt,0,nt)),it[nt]=tt[nt]);return et.concat(it||Array.prototype.slice.call(tt))}typeof SuppressedError=="function"&&SuppressedError;const resolveFetch$4=et=>et?(...tt)=>et(...tt):(...tt)=>fetch(...tt);class FunctionsError extends Error{constructor(tt,rt="FunctionsError",nt){super(tt),this.name=rt,this.context=nt}}class FunctionsFetchError extends FunctionsError{constructor(tt){super("Failed to send a request to the Edge Function","FunctionsFetchError",tt)}}class FunctionsRelayError extends FunctionsError{constructor(tt){super("Relay Error invoking the Edge Function","FunctionsRelayError",tt)}}class FunctionsHttpError extends FunctionsError{constructor(tt){super("Edge Function returned a non-2xx status code","FunctionsHttpError",tt)}}var FunctionRegion;(function(et){et.Any="any",et.ApNortheast1="ap-northeast-1",et.ApNortheast2="ap-northeast-2",et.ApSouth1="ap-south-1",et.ApSoutheast1="ap-southeast-1",et.ApSoutheast2="ap-southeast-2",et.CaCentral1="ca-central-1",et.EuCentral1="eu-central-1",et.EuWest1="eu-west-1",et.EuWest2="eu-west-2",et.EuWest3="eu-west-3",et.SaEast1="sa-east-1",et.UsEast1="us-east-1",et.UsWest1="us-west-1",et.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));class FunctionsClient{constructor(tt,{headers:rt={},customFetch:nt,region:at=FunctionRegion.Any}={}){this.url=tt,this.headers=rt,this.region=at,this.fetch=resolveFetch$4(nt)}setAuth(tt){this.headers.Authorization=`Bearer ${tt}`}invoke(tt){return __awaiter$4(this,arguments,void 0,function*(rt,nt={}){var at;let it,st;try{const{headers:ot,method:lt,body:ct,signal:ut,timeout:dt}=nt;let ft={},{region:ht}=nt;ht||(ht=this.region);const gt=new URL(`${this.url}/${rt}`);ht&&ht!=="any"&&(ft["x-region"]=ht,gt.searchParams.set("forceFunctionRegion",ht));let mt;ct&&(ot&&!Object.prototype.hasOwnProperty.call(ot,"Content-Type")||!ot)?typeof Blob<"u"&&ct instanceof Blob||ct instanceof ArrayBuffer?(ft["Content-Type"]="application/octet-stream",mt=ct):typeof ct=="string"?(ft["Content-Type"]="text/plain",mt=ct):typeof FormData<"u"&&ct instanceof FormData?mt=ct:(ft["Content-Type"]="application/json",mt=JSON.stringify(ct)):mt=ct;let xt=ut;dt&&(st=new AbortController,it=setTimeout(()=>st.abort(),dt),ut?(xt=st.signal,ut.addEventListener("abort",()=>st.abort())):xt=st.signal);const vt=yield this.fetch(gt.toString(),{method:lt||"POST",headers:Object.assign(Object.assign(Object.assign({},ft),this.headers),ot),body:mt,signal:xt}).catch(bt=>{throw new FunctionsFetchError(bt)}),_t=vt.headers.get("x-relay-error");if(_t&&_t==="true")throw new FunctionsRelayError(vt);if(!vt.ok)throw new FunctionsHttpError(vt);let yt=((at=vt.headers.get("Content-Type"))!==null&&at!==void 0?at:"text/plain").split(";")[0].trim(),St;return yt==="application/json"?St=yield vt.json():yt==="application/octet-stream"||yt==="application/pdf"?St=yield vt.blob():yt==="text/event-stream"?St=vt:yt==="multipart/form-data"?St=yield vt.formData():St=yield vt.text(),{data:St,error:null,response:vt}}catch(ot){return{data:null,error:ot,response:ot instanceof FunctionsHttpError||ot instanceof FunctionsRelayError?ot.context:void 0}}finally{it&&clearTimeout(it)}})}}var cjs={},PostgrestClient$2={},PostgrestQueryBuilder$2={},PostgrestFilterBuilder$2={},PostgrestTransformBuilder$2={},PostgrestBuilder$2={},getGlobal=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},globalObject=getGlobal();const fetch$1=globalObject.fetch,browser=globalObject.fetch.bind(globalObject),Headers$1=globalObject.Headers,Request=globalObject.Request,Response$1=globalObject.Response,browser$1=Object.freeze(Object.defineProperty({__proto__:null,Headers:Headers$1,Request,Response:Response$1,default:browser,fetch:fetch$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(browser$1);var PostgrestError$2={};Object.defineProperty(PostgrestError$2,"__esModule",{value:!0});let PostgrestError$1=class extends Error{constructor(tt){super(tt.message),this.name="PostgrestError",this.details=tt.details,this.hint=tt.hint,this.code=tt.code}};PostgrestError$2.default=PostgrestError$1;var __importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(PostgrestBuilder$2,"__esModule",{value:!0});const node_fetch_1=__importDefault$5(require$$0),PostgrestError_1$1=__importDefault$5(PostgrestError$2);let PostgrestBuilder$1=class{constructor(tt){var rt,nt;this.shouldThrowOnError=!1,this.method=tt.method,this.url=tt.url,this.headers=new Headers(tt.headers),this.schema=tt.schema,this.body=tt.body,this.shouldThrowOnError=(rt=tt.shouldThrowOnError)!==null&&rt!==void 0?rt:!1,this.signal=tt.signal,this.isMaybeSingle=(nt=tt.isMaybeSingle)!==null&&nt!==void 0?nt:!1,tt.fetch?this.fetch=tt.fetch:typeof fetch>"u"?this.fetch=node_fetch_1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(tt,rt){return this.headers=new Headers(this.headers),this.headers.set(tt,rt),this}then(tt,rt){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const nt=this.fetch;let at=nt(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async it=>{var st,ot,lt,ct;let ut=null,dt=null,ft=null,ht=it.status,gt=it.statusText;if(it.ok){if(this.method!=="HEAD"){const _t=await it.text();_t===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((st=this.headers.get("Accept"))===null||st===void 0)&&st.includes("application/vnd.pgrst.plan+text"))?dt=_t:dt=JSON.parse(_t))}const xt=(ot=this.headers.get("Prefer"))===null||ot===void 0?void 0:ot.match(/count=(exact|planned|estimated)/),vt=(lt=it.headers.get("content-range"))===null||lt===void 0?void 0:lt.split("/");xt&&vt&&vt.length>1&&(ft=parseInt(vt[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(dt)&&(dt.length>1?(ut={code:"PGRST116",details:`Results contain ${dt.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},dt=null,ft=null,ht=406,gt="Not Acceptable"):dt.length===1?dt=dt[0]:dt=null)}else{const xt=await it.text();try{ut=JSON.parse(xt),Array.isArray(ut)&&it.status===404&&(dt=[],ut=null,ht=200,gt="OK")}catch{it.status===404&&xt===""?(ht=204,gt="No Content"):ut={message:xt}}if(ut&&this.isMaybeSingle&&(!((ct=ut==null?void 0:ut.details)===null||ct===void 0)&&ct.includes("0 rows"))&&(ut=null,ht=200,gt="OK"),ut&&this.shouldThrowOnError)throw new PostgrestError_1$1.default(ut)}return{error:ut,data:dt,count:ft,status:ht,statusText:gt}});return this.shouldThrowOnError||(at=at.catch(it=>{var st,ot,lt;return{error:{message:`${(st=it==null?void 0:it.name)!==null&&st!==void 0?st:"FetchError"}: ${it==null?void 0:it.message}`,details:`${(ot=it==null?void 0:it.stack)!==null&&ot!==void 0?ot:""}`,hint:"",code:`${(lt=it==null?void 0:it.code)!==null&&lt!==void 0?lt:""}`},data:null,count:null,status:0,statusText:""}})),at.then(tt,rt)}returns(){return this}overrideTypes(){return this}};PostgrestBuilder$2.default=PostgrestBuilder$1;var __importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(PostgrestTransformBuilder$2,"__esModule",{value:!0});const PostgrestBuilder_1$1=__importDefault$4(PostgrestBuilder$2);let PostgrestTransformBuilder$1=class extends PostgrestBuilder_1$1.default{select(tt){let rt=!1;const nt=(tt??"*").split("").map(at=>/\s/.test(at)&&!rt?"":(at==='"'&&(rt=!rt),at)).join("");return this.url.searchParams.set("select",nt),this.headers.append("Prefer","return=representation"),this}order(tt,{ascending:rt=!0,nullsFirst:nt,foreignTable:at,referencedTable:it=at}={}){const st=it?`${it}.order`:"order",ot=this.url.searchParams.get(st);return this.url.searchParams.set(st,`${ot?`${ot},`:""}${tt}.${rt?"asc":"desc"}${nt===void 0?"":nt?".nullsfirst":".nullslast"}`),this}limit(tt,{foreignTable:rt,referencedTable:nt=rt}={}){const at=typeof nt>"u"?"limit":`${nt}.limit`;return this.url.searchParams.set(at,`${tt}`),this}range(tt,rt,{foreignTable:nt,referencedTable:at=nt}={}){const it=typeof at>"u"?"offset":`${at}.offset`,st=typeof at>"u"?"limit":`${at}.limit`;return this.url.searchParams.set(it,`${tt}`),this.url.searchParams.set(st,`${rt-tt+1}`),this}abortSignal(tt){return this.signal=tt,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:tt=!1,verbose:rt=!1,settings:nt=!1,buffers:at=!1,wal:it=!1,format:st="text"}={}){var ot;const lt=[tt?"analyze":null,rt?"verbose":null,nt?"settings":null,at?"buffers":null,it?"wal":null].filter(Boolean).join("|"),ct=(ot=this.headers.get("Accept"))!==null&&ot!==void 0?ot:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${st}; for="${ct}"; options=${lt};`),st==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(tt){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${tt}`),this}};PostgrestTransformBuilder$2.default=PostgrestTransformBuilder$1;var __importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(PostgrestFilterBuilder$2,"__esModule",{value:!0});const PostgrestTransformBuilder_1$1=__importDefault$3(PostgrestTransformBuilder$2);let PostgrestFilterBuilder$1=class extends PostgrestTransformBuilder_1$1.default{eq(tt,rt){return this.url.searchParams.append(tt,`eq.${rt}`),this}neq(tt,rt){return this.url.searchParams.append(tt,`neq.${rt}`),this}gt(tt,rt){return this.url.searchParams.append(tt,`gt.${rt}`),this}gte(tt,rt){return this.url.searchParams.append(tt,`gte.${rt}`),this}lt(tt,rt){return this.url.searchParams.append(tt,`lt.${rt}`),this}lte(tt,rt){return this.url.searchParams.append(tt,`lte.${rt}`),this}like(tt,rt){return this.url.searchParams.append(tt,`like.${rt}`),this}likeAllOf(tt,rt){return this.url.searchParams.append(tt,`like(all).{${rt.join(",")}}`),this}likeAnyOf(tt,rt){return this.url.searchParams.append(tt,`like(any).{${rt.join(",")}}`),this}ilike(tt,rt){return this.url.searchParams.append(tt,`ilike.${rt}`),this}ilikeAllOf(tt,rt){return this.url.searchParams.append(tt,`ilike(all).{${rt.join(",")}}`),this}ilikeAnyOf(tt,rt){return this.url.searchParams.append(tt,`ilike(any).{${rt.join(",")}}`),this}is(tt,rt){return this.url.searchParams.append(tt,`is.${rt}`),this}in(tt,rt){const nt=Array.from(new Set(rt)).map(at=>typeof at=="string"&&new RegExp("[,()]").test(at)?`"${at}"`:`${at}`).join(",");return this.url.searchParams.append(tt,`in.(${nt})`),this}contains(tt,rt){return typeof rt=="string"?this.url.searchParams.append(tt,`cs.${rt}`):Array.isArray(rt)?this.url.searchParams.append(tt,`cs.{${rt.join(",")}}`):this.url.searchParams.append(tt,`cs.${JSON.stringify(rt)}`),this}containedBy(tt,rt){return typeof rt=="string"?this.url.searchParams.append(tt,`cd.${rt}`):Array.isArray(rt)?this.url.searchParams.append(tt,`cd.{${rt.join(",")}}`):this.url.searchParams.append(tt,`cd.${JSON.stringify(rt)}`),this}rangeGt(tt,rt){return this.url.searchParams.append(tt,`sr.${rt}`),this}rangeGte(tt,rt){return this.url.searchParams.append(tt,`nxl.${rt}`),this}rangeLt(tt,rt){return this.url.searchParams.append(tt,`sl.${rt}`),this}rangeLte(tt,rt){return this.url.searchParams.append(tt,`nxr.${rt}`),this}rangeAdjacent(tt,rt){return this.url.searchParams.append(tt,`adj.${rt}`),this}overlaps(tt,rt){return typeof rt=="string"?this.url.searchParams.append(tt,`ov.${rt}`):this.url.searchParams.append(tt,`ov.{${rt.join(",")}}`),this}textSearch(tt,rt,{config:nt,type:at}={}){let it="";at==="plain"?it="pl":at==="phrase"?it="ph":at==="websearch"&&(it="w");const st=nt===void 0?"":`(${nt})`;return this.url.searchParams.append(tt,`${it}fts${st}.${rt}`),this}match(tt){return Object.entries(tt).forEach(([rt,nt])=>{this.url.searchParams.append(rt,`eq.${nt}`)}),this}not(tt,rt,nt){return this.url.searchParams.append(tt,`not.${rt}.${nt}`),this}or(tt,{foreignTable:rt,referencedTable:nt=rt}={}){const at=nt?`${nt}.or`:"or";return this.url.searchParams.append(at,`(${tt})`),this}filter(tt,rt,nt){return this.url.searchParams.append(tt,`${rt}.${nt}`),this}};PostgrestFilterBuilder$2.default=PostgrestFilterBuilder$1;var __importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(PostgrestQueryBuilder$2,"__esModule",{value:!0});const PostgrestFilterBuilder_1$2=__importDefault$2(PostgrestFilterBuilder$2);let PostgrestQueryBuilder$1=class{constructor(tt,{headers:rt={},schema:nt,fetch:at}){this.url=tt,this.headers=new Headers(rt),this.schema=nt,this.fetch=at}select(tt,{head:rt=!1,count:nt}={}){const at=rt?"HEAD":"GET";let it=!1;const st=(tt??"*").split("").map(ot=>/\s/.test(ot)&&!it?"":(ot==='"'&&(it=!it),ot)).join("");return this.url.searchParams.set("select",st),nt&&this.headers.append("Prefer",`count=${nt}`),new PostgrestFilterBuilder_1$2.default({method:at,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(tt,{count:rt,defaultToNull:nt=!0}={}){var at;const it="POST";if(rt&&this.headers.append("Prefer",`count=${rt}`),nt||this.headers.append("Prefer","missing=default"),Array.isArray(tt)){const st=tt.reduce((ot,lt)=>ot.concat(Object.keys(lt)),[]);if(st.length>0){const ot=[...new Set(st)].map(lt=>`"${lt}"`);this.url.searchParams.set("columns",ot.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:it,url:this.url,headers:this.headers,schema:this.schema,body:tt,fetch:(at=this.fetch)!==null&&at!==void 0?at:fetch})}upsert(tt,{onConflict:rt,ignoreDuplicates:nt=!1,count:at,defaultToNull:it=!0}={}){var st;const ot="POST";if(this.headers.append("Prefer",`resolution=${nt?"ignore":"merge"}-duplicates`),rt!==void 0&&this.url.searchParams.set("on_conflict",rt),at&&this.headers.append("Prefer",`count=${at}`),it||this.headers.append("Prefer","missing=default"),Array.isArray(tt)){const lt=tt.reduce((ct,ut)=>ct.concat(Object.keys(ut)),[]);if(lt.length>0){const ct=[...new Set(lt)].map(ut=>`"${ut}"`);this.url.searchParams.set("columns",ct.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:ot,url:this.url,headers:this.headers,schema:this.schema,body:tt,fetch:(st=this.fetch)!==null&&st!==void 0?st:fetch})}update(tt,{count:rt}={}){var nt;const at="PATCH";return rt&&this.headers.append("Prefer",`count=${rt}`),new PostgrestFilterBuilder_1$2.default({method:at,url:this.url,headers:this.headers,schema:this.schema,body:tt,fetch:(nt=this.fetch)!==null&&nt!==void 0?nt:fetch})}delete({count:tt}={}){var rt;const nt="DELETE";return tt&&this.headers.append("Prefer",`count=${tt}`),new PostgrestFilterBuilder_1$2.default({method:nt,url:this.url,headers:this.headers,schema:this.schema,fetch:(rt=this.fetch)!==null&&rt!==void 0?rt:fetch})}};PostgrestQueryBuilder$2.default=PostgrestQueryBuilder$1;var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(PostgrestClient$2,"__esModule",{value:!0});const PostgrestQueryBuilder_1$1=__importDefault$1(PostgrestQueryBuilder$2),PostgrestFilterBuilder_1$1=__importDefault$1(PostgrestFilterBuilder$2);let PostgrestClient$1=class Ru{constructor(tt,{headers:rt={},schema:nt,fetch:at}={}){this.url=tt,this.headers=new Headers(rt),this.schemaName=nt,this.fetch=at}from(tt){const rt=new URL(`${this.url}/${tt}`);return new PostgrestQueryBuilder_1$1.default(rt,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(tt){return new Ru(this.url,{headers:this.headers,schema:tt,fetch:this.fetch})}rpc(tt,rt={},{head:nt=!1,get:at=!1,count:it}={}){var st;let ot;const lt=new URL(`${this.url}/rpc/${tt}`);let ct;nt||at?(ot=nt?"HEAD":"GET",Object.entries(rt).filter(([dt,ft])=>ft!==void 0).map(([dt,ft])=>[dt,Array.isArray(ft)?`{${ft.join(",")}}`:`${ft}`]).forEach(([dt,ft])=>{lt.searchParams.append(dt,ft)})):(ot="POST",ct=rt);const ut=new Headers(this.headers);return it&&ut.set("Prefer",`count=${it}`),new PostgrestFilterBuilder_1$1.default({method:ot,url:lt,headers:ut,schema:this.schemaName,body:ct,fetch:(st=this.fetch)!==null&&st!==void 0?st:fetch})}};PostgrestClient$2.default=PostgrestClient$1;var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(cjs,"__esModule",{value:!0});cjs.PostgrestError=cjs.PostgrestBuilder=cjs.PostgrestTransformBuilder=cjs.PostgrestFilterBuilder=cjs.PostgrestQueryBuilder=cjs.PostgrestClient=void 0;const PostgrestClient_1=__importDefault(PostgrestClient$2);cjs.PostgrestClient=PostgrestClient_1.default;const PostgrestQueryBuilder_1=__importDefault(PostgrestQueryBuilder$2);cjs.PostgrestQueryBuilder=PostgrestQueryBuilder_1.default;const PostgrestFilterBuilder_1=__importDefault(PostgrestFilterBuilder$2);cjs.PostgrestFilterBuilder=PostgrestFilterBuilder_1.default;const PostgrestTransformBuilder_1=__importDefault(PostgrestTransformBuilder$2);cjs.PostgrestTransformBuilder=PostgrestTransformBuilder_1.default;const PostgrestBuilder_1=__importDefault(PostgrestBuilder$2);cjs.PostgrestBuilder=PostgrestBuilder_1.default;const PostgrestError_1=__importDefault(PostgrestError$2);cjs.PostgrestError=PostgrestError_1.default;var _default=cjs.default={PostgrestClient:PostgrestClient_1.default,PostgrestQueryBuilder:PostgrestQueryBuilder_1.default,PostgrestFilterBuilder:PostgrestFilterBuilder_1.default,PostgrestTransformBuilder:PostgrestTransformBuilder_1.default,PostgrestBuilder:PostgrestBuilder_1.default,PostgrestError:PostgrestError_1.default};const{PostgrestClient,PostgrestQueryBuilder,PostgrestFilterBuilder,PostgrestTransformBuilder,PostgrestBuilder,PostgrestError}=_default;class WebSocketFactory{static detectEnvironment(){var tt;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((tt=navigator.userAgent)===null||tt===void 0)&&tt.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const rt=process.versions;if(rt&&rt.node){const nt=rt.node,at=parseInt(nt.replace(/^v/,"").split(".")[0]);return at>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${at} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${at} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const tt=this.detectEnvironment();if(tt.constructor)return tt.constructor;let rt=tt.error||"WebSocket not supported in this environment.";throw tt.workaround&&(rt+=`

Suggested solution: ${tt.workaround}`),new Error(rt)}static createWebSocket(tt,rt){const nt=this.getWebSocketConstructor();return new nt(tt,rt)}static isWebSocketSupported(){try{const tt=this.detectEnvironment();return tt.type==="native"||tt.type==="ws"}catch{return!1}}}const version$3="2.81.1",DEFAULT_VERSION=`realtime-js/${version$3}`,VSN_1_0_0="1.0.0",VSN_2_0_0="2.0.0",DEFAULT_VSN=VSN_1_0_0,DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3,MAX_PUSH_BUFFER_SIZE=100;var SOCKET_STATES;(function(et){et[et.connecting=0]="connecting",et[et.open=1]="open",et[et.closing=2]="closing",et[et.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(et){et.closed="closed",et.errored="errored",et.joined="joined",et.joining="joining",et.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(et){et.close="phx_close",et.error="phx_error",et.join="phx_join",et.reply="phx_reply",et.leave="phx_leave",et.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(et){et.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(et){et.Connecting="connecting",et.Open="open",et.Closing="closing",et.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(tt,rt){if(this._isArrayBuffer(tt.payload))return rt(this._binaryEncodePush(tt));if(tt.event===this.BROADCAST&&!(tt.payload instanceof ArrayBuffer)&&typeof tt.payload.event=="string")return rt(this._binaryEncodeUserBroadcastPush(tt));let nt=[tt.join_ref,tt.ref,tt.topic,tt.event,tt.payload];return rt(JSON.stringify(nt))}_binaryEncodePush(tt){const{join_ref:rt,ref:nt,event:at,topic:it,payload:st}=tt,ot=this.META_LENGTH+rt.length+nt.length+it.length+at.length,lt=new ArrayBuffer(this.HEADER_LENGTH+ot);let ct=new DataView(lt),ut=0;ct.setUint8(ut++,this.KINDS.push),ct.setUint8(ut++,rt.length),ct.setUint8(ut++,nt.length),ct.setUint8(ut++,it.length),ct.setUint8(ut++,at.length),Array.from(rt,ft=>ct.setUint8(ut++,ft.charCodeAt(0))),Array.from(nt,ft=>ct.setUint8(ut++,ft.charCodeAt(0))),Array.from(it,ft=>ct.setUint8(ut++,ft.charCodeAt(0))),Array.from(at,ft=>ct.setUint8(ut++,ft.charCodeAt(0)));var dt=new Uint8Array(lt.byteLength+st.byteLength);return dt.set(new Uint8Array(lt),0),dt.set(new Uint8Array(st),lt.byteLength),dt.buffer}_binaryEncodeUserBroadcastPush(tt){var rt;return this._isArrayBuffer((rt=tt.payload)===null||rt===void 0?void 0:rt.payload)?this._encodeBinaryUserBroadcastPush(tt):this._encodeJsonUserBroadcastPush(tt)}_encodeBinaryUserBroadcastPush(tt){var rt,nt;const{join_ref:at,ref:it,topic:st}=tt,ot=tt.payload.event,lt=(nt=(rt=tt.payload)===null||rt===void 0?void 0:rt.payload)!==null&&nt!==void 0?nt:new ArrayBuffer(0),ct=this.USER_BROADCAST_PUSH_META_LENGTH+at.length+it.length+st.length+ot.length,ut=new ArrayBuffer(this.HEADER_LENGTH+ct);let dt=new DataView(ut),ft=0;dt.setUint8(ft++,this.KINDS.userBroadcastPush),dt.setUint8(ft++,at.length),dt.setUint8(ft++,it.length),dt.setUint8(ft++,st.length),dt.setUint8(ft++,ot.length),dt.setUint8(ft++,this.BINARY_ENCODING),Array.from(at,gt=>dt.setUint8(ft++,gt.charCodeAt(0))),Array.from(it,gt=>dt.setUint8(ft++,gt.charCodeAt(0))),Array.from(st,gt=>dt.setUint8(ft++,gt.charCodeAt(0))),Array.from(ot,gt=>dt.setUint8(ft++,gt.charCodeAt(0)));var ht=new Uint8Array(ut.byteLength+lt.byteLength);return ht.set(new Uint8Array(ut),0),ht.set(new Uint8Array(lt),ut.byteLength),ht.buffer}_encodeJsonUserBroadcastPush(tt){var rt,nt;const{join_ref:at,ref:it,topic:st}=tt,ot=tt.payload.event,lt=(nt=(rt=tt.payload)===null||rt===void 0?void 0:rt.payload)!==null&&nt!==void 0?nt:{},ut=new TextEncoder().encode(JSON.stringify(lt)).buffer,dt=this.USER_BROADCAST_PUSH_META_LENGTH+at.length+it.length+st.length+ot.length,ft=new ArrayBuffer(this.HEADER_LENGTH+dt);let ht=new DataView(ft),gt=0;ht.setUint8(gt++,this.KINDS.userBroadcastPush),ht.setUint8(gt++,at.length),ht.setUint8(gt++,it.length),ht.setUint8(gt++,st.length),ht.setUint8(gt++,ot.length),ht.setUint8(gt++,this.JSON_ENCODING),Array.from(at,xt=>ht.setUint8(gt++,xt.charCodeAt(0))),Array.from(it,xt=>ht.setUint8(gt++,xt.charCodeAt(0))),Array.from(st,xt=>ht.setUint8(gt++,xt.charCodeAt(0))),Array.from(ot,xt=>ht.setUint8(gt++,xt.charCodeAt(0)));var mt=new Uint8Array(ft.byteLength+ut.byteLength);return mt.set(new Uint8Array(ft),0),mt.set(new Uint8Array(ut),ft.byteLength),mt.buffer}decode(tt,rt){if(this._isArrayBuffer(tt)){let nt=this._binaryDecode(tt);return rt(nt)}if(typeof tt=="string"){const nt=JSON.parse(tt),[at,it,st,ot,lt]=nt;return rt({join_ref:at,ref:it,topic:st,event:ot,payload:lt})}return rt({})}_binaryDecode(tt){const rt=new DataView(tt),nt=rt.getUint8(0),at=new TextDecoder;switch(nt){case this.KINDS.push:return this._decodePush(tt,rt,at);case this.KINDS.reply:return this._decodeReply(tt,rt,at);case this.KINDS.broadcast:return this._decodeBroadcast(tt,rt,at);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(tt,rt,at)}}_decodePush(tt,rt,nt){const at=rt.getUint8(1),it=rt.getUint8(2),st=rt.getUint8(3);let ot=this.HEADER_LENGTH+this.META_LENGTH-1;const lt=nt.decode(tt.slice(ot,ot+at));ot=ot+at;const ct=nt.decode(tt.slice(ot,ot+it));ot=ot+it;const ut=nt.decode(tt.slice(ot,ot+st));ot=ot+st;const dt=JSON.parse(nt.decode(tt.slice(ot,tt.byteLength)));return{join_ref:lt,ref:null,topic:ct,event:ut,payload:dt}}_decodeReply(tt,rt,nt){const at=rt.getUint8(1),it=rt.getUint8(2),st=rt.getUint8(3),ot=rt.getUint8(4);let lt=this.HEADER_LENGTH+this.META_LENGTH;const ct=nt.decode(tt.slice(lt,lt+at));lt=lt+at;const ut=nt.decode(tt.slice(lt,lt+it));lt=lt+it;const dt=nt.decode(tt.slice(lt,lt+st));lt=lt+st;const ft=nt.decode(tt.slice(lt,lt+ot));lt=lt+ot;const ht=JSON.parse(nt.decode(tt.slice(lt,tt.byteLength))),gt={status:ft,response:ht};return{join_ref:ct,ref:ut,topic:dt,event:CHANNEL_EVENTS.reply,payload:gt}}_decodeBroadcast(tt,rt,nt){const at=rt.getUint8(1),it=rt.getUint8(2);let st=this.HEADER_LENGTH+2;const ot=nt.decode(tt.slice(st,st+at));st=st+at;const lt=nt.decode(tt.slice(st,st+it));st=st+it;const ct=JSON.parse(nt.decode(tt.slice(st,tt.byteLength)));return{join_ref:null,ref:null,topic:ot,event:lt,payload:ct}}_decodeUserBroadcast(tt,rt,nt){const at=rt.getUint8(1),it=rt.getUint8(2),st=rt.getUint8(3),ot=rt.getUint8(4);let lt=this.HEADER_LENGTH+4;const ct=nt.decode(tt.slice(lt,lt+at));lt=lt+at;const ut=nt.decode(tt.slice(lt,lt+it));lt=lt+it;const dt=nt.decode(tt.slice(lt,lt+st));lt=lt+st;const ft=tt.slice(lt,tt.byteLength),ht=ot===this.JSON_ENCODING?JSON.parse(nt.decode(ft)):ft,gt={type:this.BROADCAST,event:ut,payload:ht};return st>0&&(gt.meta=JSON.parse(dt)),{join_ref:null,ref:null,topic:ct,event:this.BROADCAST,payload:gt}}_isArrayBuffer(tt){var rt;return tt instanceof ArrayBuffer||((rt=tt==null?void 0:tt.constructor)===null||rt===void 0?void 0:rt.name)==="ArrayBuffer"}}class Timer{constructor(tt,rt){this.callback=tt,this.timerCalc=rt,this.timer=void 0,this.tries=0,this.callback=tt,this.timerCalc=rt}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var PostgresTypes;(function(et){et.abstime="abstime",et.bool="bool",et.date="date",et.daterange="daterange",et.float4="float4",et.float8="float8",et.int2="int2",et.int4="int4",et.int4range="int4range",et.int8="int8",et.int8range="int8range",et.json="json",et.jsonb="jsonb",et.money="money",et.numeric="numeric",et.oid="oid",et.reltime="reltime",et.text="text",et.time="time",et.timestamp="timestamp",et.timestamptz="timestamptz",et.timetz="timetz",et.tsrange="tsrange",et.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(et,tt,rt={})=>{var nt;const at=(nt=rt.skipTypes)!==null&&nt!==void 0?nt:[];return tt?Object.keys(tt).reduce((it,st)=>(it[st]=convertColumn(st,et,tt,at),it),{}):{}},convertColumn=(et,tt,rt,nt)=>{const at=tt.find(ot=>ot.name===et),it=at==null?void 0:at.type,st=rt[et];return it&&!nt.includes(it)?convertCell(it,st):noop$6(st)},convertCell=(et,tt)=>{if(et.charAt(0)==="_"){const rt=et.slice(1,et.length);return toArray$1(tt,rt)}switch(et){case PostgresTypes.bool:return toBoolean(tt);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber$3(tt);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(tt);case PostgresTypes.timestamp:return toTimestampString(tt);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$6(tt);default:return noop$6(tt)}},noop$6=et=>et,toBoolean=et=>{switch(et){case"t":return!0;case"f":return!1;default:return et}},toNumber$3=et=>{if(typeof et=="string"){const tt=parseFloat(et);if(!Number.isNaN(tt))return tt}return et},toJson=et=>{if(typeof et=="string")try{return JSON.parse(et)}catch(tt){return console.log(`JSON parse error: ${tt}`),et}return et},toArray$1=(et,tt)=>{if(typeof et!="string")return et;const rt=et.length-1,nt=et[rt];if(et[0]==="{"&&nt==="}"){let it;const st=et.slice(1,rt);try{it=JSON.parse("["+st+"]")}catch{it=st?st.split(","):[]}return it.map(ot=>convertCell(tt,ot))}return et},toTimestampString=et=>typeof et=="string"?et.replace(" ","T"):et,httpEndpointURL=et=>{const tt=new URL(et);return tt.protocol=tt.protocol.replace(/^ws/i,"http"),tt.pathname=tt.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),tt.pathname===""||tt.pathname==="/"?tt.pathname="/api/broadcast":tt.pathname=tt.pathname+"/api/broadcast",tt.href};class Push{constructor(tt,rt,nt={},at=DEFAULT_TIMEOUT){this.channel=tt,this.event=rt,this.payload=nt,this.timeout=at,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(tt){this.timeout=tt,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(tt){this.payload=Object.assign(Object.assign({},this.payload),tt)}receive(tt,rt){var nt;return this._hasReceived(tt)&&rt((nt=this.receivedResp)===null||nt===void 0?void 0:nt.response),this.recHooks.push({status:tt,callback:rt}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const tt=rt=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=rt,this._matchReceive(rt)};this.channel._on(this.refEvent,{},tt),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(tt,rt){this.refEvent&&this.channel._trigger(this.refEvent,{status:tt,response:rt})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:tt,response:rt}){this.recHooks.filter(nt=>nt.status===tt).forEach(nt=>nt.callback(rt))}_hasReceived(tt){return this.receivedResp&&this.receivedResp.status===tt}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(et){et.SYNC="sync",et.JOIN="join",et.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(tt,rt){this.channel=tt,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const nt=(rt==null?void 0:rt.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(nt.state,{},at=>{const{onJoin:it,onLeave:st,onSync:ot}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,at,it,st),this.pendingDiffs.forEach(lt=>{this.state=RealtimePresence.syncDiff(this.state,lt,it,st)}),this.pendingDiffs=[],ot()}),this.channel._on(nt.diff,{},at=>{const{onJoin:it,onLeave:st,onSync:ot}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(at):(this.state=RealtimePresence.syncDiff(this.state,at,it,st),ot())}),this.onJoin((at,it,st)=>{this.channel._trigger("presence",{event:"join",key:at,currentPresences:it,newPresences:st})}),this.onLeave((at,it,st)=>{this.channel._trigger("presence",{event:"leave",key:at,currentPresences:it,leftPresences:st})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(tt,rt,nt,at){const it=this.cloneDeep(tt),st=this.transformState(rt),ot={},lt={};return this.map(it,(ct,ut)=>{st[ct]||(lt[ct]=ut)}),this.map(st,(ct,ut)=>{const dt=it[ct];if(dt){const ft=ut.map(xt=>xt.presence_ref),ht=dt.map(xt=>xt.presence_ref),gt=ut.filter(xt=>ht.indexOf(xt.presence_ref)<0),mt=dt.filter(xt=>ft.indexOf(xt.presence_ref)<0);gt.length>0&&(ot[ct]=gt),mt.length>0&&(lt[ct]=mt)}else ot[ct]=ut}),this.syncDiff(it,{joins:ot,leaves:lt},nt,at)}static syncDiff(tt,rt,nt,at){const{joins:it,leaves:st}={joins:this.transformState(rt.joins),leaves:this.transformState(rt.leaves)};return nt||(nt=()=>{}),at||(at=()=>{}),this.map(it,(ot,lt)=>{var ct;const ut=(ct=tt[ot])!==null&&ct!==void 0?ct:[];if(tt[ot]=this.cloneDeep(lt),ut.length>0){const dt=tt[ot].map(ht=>ht.presence_ref),ft=ut.filter(ht=>dt.indexOf(ht.presence_ref)<0);tt[ot].unshift(...ft)}nt(ot,ut,lt)}),this.map(st,(ot,lt)=>{let ct=tt[ot];if(!ct)return;const ut=lt.map(dt=>dt.presence_ref);ct=ct.filter(dt=>ut.indexOf(dt.presence_ref)<0),tt[ot]=ct,at(ot,ct,lt),ct.length===0&&delete tt[ot]}),tt}static map(tt,rt){return Object.getOwnPropertyNames(tt).map(nt=>rt(nt,tt[nt]))}static transformState(tt){return tt=this.cloneDeep(tt),Object.getOwnPropertyNames(tt).reduce((rt,nt)=>{const at=tt[nt];return"metas"in at?rt[nt]=at.metas.map(it=>(it.presence_ref=it.phx_ref,delete it.phx_ref,delete it.phx_ref_prev,it)):rt[nt]=at,rt},{})}static cloneDeep(tt){return JSON.parse(JSON.stringify(tt))}onJoin(tt){this.caller.onJoin=tt}onLeave(tt){this.caller.onLeave=tt}onSync(tt){this.caller.onSync=tt}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(et){et.ALL="*",et.INSERT="INSERT",et.UPDATE="UPDATE",et.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(et){et.BROADCAST="broadcast",et.PRESENCE="presence",et.POSTGRES_CHANGES="postgres_changes",et.SYSTEM="system"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(et){et.SUBSCRIBED="SUBSCRIBED",et.TIMED_OUT="TIMED_OUT",et.CLOSED="CLOSED",et.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(tt,rt={config:{}},nt){var at,it;if(this.topic=tt,this.params=rt,this.socket=nt,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=tt.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},rt.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(st=>st.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(st=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,st),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",st=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,st),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(st,ot)=>{this._trigger(this._replyEventName(ot),st)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((it=(at=this.params.config)===null||at===void 0?void 0:at.broadcast)===null||it===void 0)&&it.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(tt,rt=this.timeout){var nt,at,it;if(this.socket.isConnected()||this.socket.connect(),this.state==CHANNEL_STATES.closed){const{config:{broadcast:st,presence:ot,private:lt}}=this.params,ct=(at=(nt=this.bindings.postgres_changes)===null||nt===void 0?void 0:nt.map(ht=>ht.filter))!==null&&at!==void 0?at:[],ut=!!this.bindings[REALTIME_LISTEN_TYPES.PRESENCE]&&this.bindings[REALTIME_LISTEN_TYPES.PRESENCE].length>0||((it=this.params.config.presence)===null||it===void 0?void 0:it.enabled)===!0,dt={},ft={broadcast:st,presence:Object.assign(Object.assign({},ot),{enabled:ut}),postgres_changes:ct,private:lt};this.socket.accessTokenValue&&(dt.access_token=this.socket.accessTokenValue),this._onError(ht=>tt==null?void 0:tt(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,ht)),this._onClose(()=>tt==null?void 0:tt(REALTIME_SUBSCRIBE_STATES.CLOSED)),this.updateJoinPayload(Object.assign({config:ft},dt)),this.joinedOnce=!0,this._rejoin(rt),this.joinPush.receive("ok",async({postgres_changes:ht})=>{var gt;if(this.socket.setAuth(),ht===void 0){tt==null||tt(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}else{const mt=this.bindings.postgres_changes,xt=(gt=mt==null?void 0:mt.length)!==null&&gt!==void 0?gt:0,vt=[];for(let _t=0;_t<xt;_t++){const yt=mt[_t],{filter:{event:St,schema:bt,table:Et,filter:Tt}}=yt,At=ht&&ht[_t];if(At&&At.event===St&&At.schema===bt&&At.table===Et&&At.filter===Tt)vt.push(Object.assign(Object.assign({},yt),{id:At.id}));else{this.unsubscribe(),this.state=CHANNEL_STATES.errored,tt==null||tt(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=vt,tt&&tt(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}}).receive("error",ht=>{this.state=CHANNEL_STATES.errored,tt==null||tt(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(ht).join(", ")||"error")))}).receive("timeout",()=>{tt==null||tt(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(tt,rt={}){return await this.send({type:"presence",event:"track",payload:tt},rt.timeout||this.timeout)}async untrack(tt={}){return await this.send({type:"presence",event:"untrack"},tt)}on(tt,rt,nt){return this.state===CHANNEL_STATES.joined&&tt===REALTIME_LISTEN_TYPES.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(tt,rt,nt)}async httpSend(tt,rt,nt={}){var at;const it=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(rt==null)return Promise.reject("Payload is required for httpSend()");const st={method:"POST",headers:{Authorization:it,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:tt,payload:rt,private:this.private}]})},ot=await this._fetchWithTimeout(this.broadcastEndpointURL,st,(at=nt.timeout)!==null&&at!==void 0?at:this.timeout);if(ot.status===202)return{success:!0};let lt=ot.statusText;try{const ct=await ot.json();lt=ct.error||ct.message||lt}catch{}return Promise.reject(new Error(lt))}async send(tt,rt={}){var nt,at;if(!this._canPush()&&tt.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:it,payload:st}=tt,lt={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:it,payload:st,private:this.private}]})};try{const ct=await this._fetchWithTimeout(this.broadcastEndpointURL,lt,(nt=rt.timeout)!==null&&nt!==void 0?nt:this.timeout);return await((at=ct.body)===null||at===void 0?void 0:at.cancel()),ct.ok?"ok":"error"}catch(ct){return ct.name==="AbortError"?"timed out":"error"}}else return new Promise(it=>{var st,ot,lt;const ct=this._push(tt.type,tt,rt.timeout||this.timeout);tt.type==="broadcast"&&!(!((lt=(ot=(st=this.params)===null||st===void 0?void 0:st.config)===null||ot===void 0?void 0:ot.broadcast)===null||lt===void 0)&&lt.ack)&&it("ok"),ct.receive("ok",()=>it("ok")),ct.receive("error",()=>it("error")),ct.receive("timeout",()=>it("timed out"))})}updateJoinPayload(tt){this.joinPush.updatePayload(tt)}unsubscribe(tt=this.timeout){this.state=CHANNEL_STATES.leaving;const rt=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};this.joinPush.destroy();let nt=null;return new Promise(at=>{nt=new Push(this,CHANNEL_EVENTS.leave,{},tt),nt.receive("ok",()=>{rt(),at("ok")}).receive("timeout",()=>{rt(),at("timed out")}).receive("error",()=>{at("error")}),nt.send(),this._canPush()||nt.trigger("ok",{})}).finally(()=>{nt==null||nt.destroy()})}teardown(){this.pushBuffer.forEach(tt=>tt.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=CHANNEL_STATES.closed,this.bindings={}}async _fetchWithTimeout(tt,rt,nt){const at=new AbortController,it=setTimeout(()=>at.abort(),nt),st=await this.socket.fetch(tt,Object.assign(Object.assign({},rt),{signal:at.signal}));return clearTimeout(it),st}_push(tt,rt,nt=this.timeout){if(!this.joinedOnce)throw`tried to push '${tt}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let at=new Push(this,tt,rt,nt);return this._canPush()?at.send():this._addToPushBuffer(at),at}_addToPushBuffer(tt){if(tt.startTimeout(),this.pushBuffer.push(tt),this.pushBuffer.length>MAX_PUSH_BUFFER_SIZE){const rt=this.pushBuffer.shift();rt&&(rt.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${rt.event}`,rt.payload))}}_onMessage(tt,rt,nt){return rt}_isMember(tt){return this.topic===tt}_joinRef(){return this.joinPush.ref}_trigger(tt,rt,nt){var at,it;const st=tt.toLocaleLowerCase(),{close:ot,error:lt,leave:ct,join:ut}=CHANNEL_EVENTS;if(nt&&[ot,lt,ct,ut].indexOf(st)>=0&&nt!==this._joinRef())return;let ft=this._onMessage(st,rt,nt);if(rt&&!ft)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(st)?(at=this.bindings.postgres_changes)===null||at===void 0||at.filter(ht=>{var gt,mt,xt;return((gt=ht.filter)===null||gt===void 0?void 0:gt.event)==="*"||((xt=(mt=ht.filter)===null||mt===void 0?void 0:mt.event)===null||xt===void 0?void 0:xt.toLocaleLowerCase())===st}).map(ht=>ht.callback(ft,nt)):(it=this.bindings[st])===null||it===void 0||it.filter(ht=>{var gt,mt,xt,vt,_t,yt;if(["broadcast","presence","postgres_changes"].includes(st))if("id"in ht){const St=ht.id,bt=(gt=ht.filter)===null||gt===void 0?void 0:gt.event;return St&&((mt=rt.ids)===null||mt===void 0?void 0:mt.includes(St))&&(bt==="*"||(bt==null?void 0:bt.toLocaleLowerCase())===((xt=rt.data)===null||xt===void 0?void 0:xt.type.toLocaleLowerCase()))}else{const St=(_t=(vt=ht==null?void 0:ht.filter)===null||vt===void 0?void 0:vt.event)===null||_t===void 0?void 0:_t.toLocaleLowerCase();return St==="*"||St===((yt=rt==null?void 0:rt.event)===null||yt===void 0?void 0:yt.toLocaleLowerCase())}else return ht.type.toLocaleLowerCase()===st}).map(ht=>{if(typeof ft=="object"&&"ids"in ft){const gt=ft.data,{schema:mt,table:xt,commit_timestamp:vt,type:_t,errors:yt}=gt;ft=Object.assign(Object.assign({},{schema:mt,table:xt,commit_timestamp:vt,eventType:_t,new:{},old:{},errors:yt}),this._getPayloadRecords(gt))}ht.callback(ft,nt)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(tt){return`chan_reply_${tt}`}_on(tt,rt,nt){const at=tt.toLocaleLowerCase(),it={type:at,filter:rt,callback:nt};return this.bindings[at]?this.bindings[at].push(it):this.bindings[at]=[it],this}_off(tt,rt){const nt=tt.toLocaleLowerCase();return this.bindings[nt]&&(this.bindings[nt]=this.bindings[nt].filter(at=>{var it;return!(((it=at.type)===null||it===void 0?void 0:it.toLocaleLowerCase())===nt&&RealtimeChannel.isEqual(at.filter,rt))})),this}static isEqual(tt,rt){if(Object.keys(tt).length!==Object.keys(rt).length)return!1;for(const nt in tt)if(tt[nt]!==rt[nt])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(tt){this._on(CHANNEL_EVENTS.close,{},tt)}_onError(tt){this._on(CHANNEL_EVENTS.error,{},rt=>tt(rt))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(tt=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(tt))}_getPayloadRecords(tt){const rt={new:{},old:{}};return(tt.type==="INSERT"||tt.type==="UPDATE")&&(rt.new=convertChangeData(tt.columns,tt.record)),(tt.type==="UPDATE"||tt.type==="DELETE")&&(rt.old=convertChangeData(tt.columns,tt.old_record)),rt}}const noop$5=()=>{},CONNECTION_TIMEOUTS={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RECONNECT_INTERVALS=[1e3,2e3,5e3,1e4],DEFAULT_RECONNECT_FALLBACK=1e4,WORKER_SCRIPT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RealtimeClient{constructor(tt,rt){var nt;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DEFAULT_TIMEOUT,this.transport=null,this.heartbeatIntervalMs=CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=noop$5,this.ref=0,this.reconnectTimer=null,this.vsn=DEFAULT_VSN,this.logger=noop$5,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=at=>at?(...it)=>at(...it):(...it)=>fetch(...it),!(!((nt=rt==null?void 0:rt.params)===null||nt===void 0)&&nt.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=rt.params.apikey,this.endPoint=`${tt}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL(tt),this._initializeOptions(rt),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(rt==null?void 0:rt.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WebSocketFactory.createWebSocket(this.endpointURL())}catch(tt){this._setConnectionState("disconnected");const rt=tt.message;throw rt.includes("Node.js")?new Error(`${rt}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${rt}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(tt,rt){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const nt=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(nt),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(tt?this.conn.close(tt,rt??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(tt){const rt=await tt.unsubscribe();return this.channels.length===0&&this.disconnect(),rt}async removeAllChannels(){const tt=await Promise.all(this.channels.map(rt=>rt.unsubscribe()));return this.channels=[],this.disconnect(),tt}log(tt,rt,nt){this.logger(tt,rt,nt)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(tt,rt={config:{}}){const nt=`realtime:${tt}`,at=this.getChannels().find(it=>it.topic===nt);if(at)return at;{const it=new RealtimeChannel(`realtime:${tt}`,rt,this);return this.channels.push(it),it}}push(tt){const{topic:rt,event:nt,payload:at,ref:it}=tt,st=()=>{this.encode(tt,ot=>{var lt;(lt=this.conn)===null||lt===void 0||lt.send(ot)})};this.log("push",`${rt} ${nt} (${it})`,at),this.isConnected()?st():this.sendBuffer.push(st)}async setAuth(tt=null){this._authPromise=this._performAuth(tt);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var tt;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(rt){this.log("error","error in heartbeat callback",rt)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(rt){this.log("error","error in heartbeat callback",rt)}this._wasManualDisconnect=!1,(tt=this.conn)===null||tt===void 0||tt.close(WS_CLOSE_NORMAL,"heartbeat timeout"),setTimeout(()=>{var rt;this.isConnected()||(rt=this.reconnectTimer)===null||rt===void 0||rt.scheduleTimeout()},CONNECTION_TIMEOUTS.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(rt){this.log("error","error in heartbeat callback",rt)}this._setAuthSafely("heartbeat")}onHeartbeat(tt){this.heartbeatCallback=tt}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(tt=>tt()),this.sendBuffer=[])}_makeRef(){let tt=this.ref+1;return tt===this.ref?this.ref=0:this.ref=tt,this.ref.toString()}_leaveOpenTopic(tt){let rt=this.channels.find(nt=>nt.topic===tt&&(nt._isJoined()||nt._isJoining()));rt&&(this.log("transport",`leaving duplicate topic "${tt}"`),rt.unsubscribe())}_remove(tt){this.channels=this.channels.filter(rt=>rt.topic!==tt.topic)}_onConnMessage(tt){this.decode(tt.data,rt=>{if(rt.topic==="phoenix"&&rt.event==="phx_reply")try{this.heartbeatCallback(rt.payload.status==="ok"?"ok":"error")}catch(ct){this.log("error","error in heartbeat callback",ct)}rt.ref&&rt.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:nt,event:at,payload:it,ref:st}=rt,ot=st?`(${st})`:"",lt=it.status||"";this.log("receive",`${lt} ${nt} ${at} ${ot}`.trim(),it),this.channels.filter(ct=>ct._isMember(nt)).forEach(ct=>ct._trigger(at,it,st)),this._triggerStateCallbacks("message",rt)})}_clearTimer(tt){var rt;tt==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):tt==="reconnect"&&((rt=this.reconnectTimer)===null||rt===void 0||rt.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=tt=>this._onConnError(tt),this.conn.onmessage=tt=>this._onConnMessage(tt),this.conn.onclose=tt=>this._onConnClose(tt))}_teardownConnection(){if(this.conn){if(this.conn.readyState===SOCKET_STATES.open||this.conn.readyState===SOCKET_STATES.connecting)try{this.conn.close()}catch(tt){this.log("error","Error closing connection",tt)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(tt=>tt.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(rt=>{this.log("error","error waiting for auth on connect",rt),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const tt=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(tt),this.workerRef.onerror=rt=>{this.log("worker","worker error",rt.message),this.workerRef.terminate()},this.workerRef.onmessage=rt=>{rt.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(tt){var rt;this._setConnectionState("disconnected"),this.log("transport","close",tt),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(rt=this.reconnectTimer)===null||rt===void 0||rt.scheduleTimeout(),this._triggerStateCallbacks("close",tt)}_onConnError(tt){this._setConnectionState("disconnected"),this.log("transport",`${tt}`),this._triggerChanError(),this._triggerStateCallbacks("error",tt)}_triggerChanError(){this.channels.forEach(tt=>tt._trigger(CHANNEL_EVENTS.error))}_appendParams(tt,rt){if(Object.keys(rt).length===0)return tt;const nt=tt.match(/\?/)?"&":"?",at=new URLSearchParams(rt);return`${tt}${nt}${at}`}_workerObjectUrl(tt){let rt;if(tt)rt=tt;else{const nt=new Blob([WORKER_SCRIPT],{type:"application/javascript"});rt=URL.createObjectURL(nt)}return rt}_setConnectionState(tt,rt=!1){this._connectionState=tt,tt==="connecting"?this._wasManualDisconnect=!1:tt==="disconnecting"&&(this._wasManualDisconnect=rt)}async _performAuth(tt=null){let rt;tt?rt=tt:this.accessToken?rt=await this.accessToken():rt=this.accessTokenValue,this.accessTokenValue!=rt&&(this.accessTokenValue=rt,this.channels.forEach(nt=>{const at={access_token:rt,version:DEFAULT_VERSION};rt&&nt.updateJoinPayload(at),nt.joinedOnce&&nt._isJoined()&&nt._push(CHANNEL_EVENTS.access_token,{access_token:rt})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(tt="general"){this.setAuth().catch(rt=>{this.log("error",`error setting auth in ${tt}`,rt)})}_triggerStateCallbacks(tt,rt){try{this.stateChangeCallbacks[tt].forEach(nt=>{try{nt(rt)}catch(at){this.log("error",`error in ${tt} callback`,at)}})}catch(nt){this.log("error",`error triggering ${tt} callbacks`,nt)}}_setupReconnectionTimer(){this.reconnectTimer=new Timer(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},CONNECTION_TIMEOUTS.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(tt){var rt,nt,at,it,st,ot,lt,ct,ut,dt,ft,ht;switch(this.transport=(rt=tt==null?void 0:tt.transport)!==null&&rt!==void 0?rt:null,this.timeout=(nt=tt==null?void 0:tt.timeout)!==null&&nt!==void 0?nt:DEFAULT_TIMEOUT,this.heartbeatIntervalMs=(at=tt==null?void 0:tt.heartbeatIntervalMs)!==null&&at!==void 0?at:CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.worker=(it=tt==null?void 0:tt.worker)!==null&&it!==void 0?it:!1,this.accessToken=(st=tt==null?void 0:tt.accessToken)!==null&&st!==void 0?st:null,this.heartbeatCallback=(ot=tt==null?void 0:tt.heartbeatCallback)!==null&&ot!==void 0?ot:noop$5,this.vsn=(lt=tt==null?void 0:tt.vsn)!==null&&lt!==void 0?lt:DEFAULT_VSN,tt!=null&&tt.params&&(this.params=tt.params),tt!=null&&tt.logger&&(this.logger=tt.logger),(tt!=null&&tt.logLevel||tt!=null&&tt.log_level)&&(this.logLevel=tt.logLevel||tt.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(ct=tt==null?void 0:tt.reconnectAfterMs)!==null&&ct!==void 0?ct:gt=>RECONNECT_INTERVALS[gt-1]||DEFAULT_RECONNECT_FALLBACK,this.vsn){case VSN_1_0_0:this.encode=(ut=tt==null?void 0:tt.encode)!==null&&ut!==void 0?ut:(gt,mt)=>mt(JSON.stringify(gt)),this.decode=(dt=tt==null?void 0:tt.decode)!==null&&dt!==void 0?dt:(gt,mt)=>mt(JSON.parse(gt));break;case VSN_2_0_0:this.encode=(ft=tt==null?void 0:tt.encode)!==null&&ft!==void 0?ft:this.serializer.encode.bind(this.serializer),this.decode=(ht=tt==null?void 0:tt.decode)!==null&&ht!==void 0?ht:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=tt==null?void 0:tt.workerUrl}}}class StorageError extends Error{constructor(tt){super(tt),this.__isStorageError=!0,this.name="StorageError"}}function isStorageError(et){return typeof et=="object"&&et!==null&&"__isStorageError"in et}class StorageApiError extends StorageError{constructor(tt,rt,nt){super(tt),this.name="StorageApiError",this.status=rt,this.statusCode=nt}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class StorageUnknownError extends StorageError{constructor(tt,rt){super(tt),this.name="StorageUnknownError",this.originalError=rt}}const resolveFetch$3=et=>et?(...tt)=>et(...tt):(...tt)=>fetch(...tt),resolveResponse=()=>Response,recursiveToCamel=et=>{if(Array.isArray(et))return et.map(rt=>recursiveToCamel(rt));if(typeof et=="function"||et!==Object(et))return et;const tt={};return Object.entries(et).forEach(([rt,nt])=>{const at=rt.replace(/([-_][a-z])/gi,it=>it.toUpperCase().replace(/[-_]/g,""));tt[at]=recursiveToCamel(nt)}),tt},isPlainObject$3=et=>{if(typeof et!="object"||et===null)return!1;const tt=Object.getPrototypeOf(et);return(tt===null||tt===Object.prototype||Object.getPrototypeOf(tt)===null)&&!(Symbol.toStringTag in et)&&!(Symbol.iterator in et)},_getErrorMessage$2=et=>{var tt;return et.msg||et.message||et.error_description||(typeof et.error=="string"?et.error:(tt=et.error)===null||tt===void 0?void 0:tt.message)||JSON.stringify(et)},handleError$2=(et,tt,rt)=>__awaiter$4(void 0,void 0,void 0,function*(){const nt=yield resolveResponse();et instanceof nt&&!(rt!=null&&rt.noResolveJson)?et.json().then(at=>{const it=et.status||500,st=(at==null?void 0:at.statusCode)||it+"";tt(new StorageApiError(_getErrorMessage$2(at),it,st))}).catch(at=>{tt(new StorageUnknownError(_getErrorMessage$2(at),at))}):tt(new StorageUnknownError(_getErrorMessage$2(et),et))}),_getRequestParams$2=(et,tt,rt,nt)=>{const at={method:et,headers:(tt==null?void 0:tt.headers)||{}};return et==="GET"||!nt?at:(isPlainObject$3(nt)?(at.headers=Object.assign({"Content-Type":"application/json"},tt==null?void 0:tt.headers),at.body=JSON.stringify(nt)):at.body=nt,tt!=null&&tt.duplex&&(at.duplex=tt.duplex),Object.assign(Object.assign({},at),rt))};function _handleRequest$2(et,tt,rt,nt,at,it){return __awaiter$4(this,void 0,void 0,function*(){return new Promise((st,ot)=>{et(rt,_getRequestParams$2(tt,nt,at,it)).then(lt=>{if(!lt.ok)throw lt;return nt!=null&&nt.noResolveJson?lt:lt.json()}).then(lt=>st(lt)).catch(lt=>handleError$2(lt,ot,nt))})})}function get$3(et,tt,rt,nt){return __awaiter$4(this,void 0,void 0,function*(){return _handleRequest$2(et,"GET",tt,rt,nt)})}function post$1(et,tt,rt,nt,at){return __awaiter$4(this,void 0,void 0,function*(){return _handleRequest$2(et,"POST",tt,nt,at,rt)})}function put(et,tt,rt,nt,at){return __awaiter$4(this,void 0,void 0,function*(){return _handleRequest$2(et,"PUT",tt,nt,at,rt)})}function head(et,tt,rt,nt){return __awaiter$4(this,void 0,void 0,function*(){return _handleRequest$2(et,"HEAD",tt,Object.assign(Object.assign({},rt),{noResolveJson:!0}),nt)})}function remove(et,tt,rt,nt,at){return __awaiter$4(this,void 0,void 0,function*(){return _handleRequest$2(et,"DELETE",tt,nt,at,rt)})}class StreamDownloadBuilder{constructor(tt,rt){this.downloadFn=tt,this.shouldThrowOnError=rt}then(tt,rt){return this.execute().then(tt,rt)}execute(){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(tt){if(this.shouldThrowOnError)throw tt;if(isStorageError(tt))return{data:null,error:tt};throw tt}})}}var _a;class BlobDownloadBuilder{constructor(tt,rt){this.downloadFn=tt,this.shouldThrowOnError=rt,this[_a]="BlobDownloadBuilder",this.promise=null}asStream(){return new StreamDownloadBuilder(this.downloadFn,this.shouldThrowOnError)}then(tt,rt){return this.getPromise().then(tt,rt)}catch(tt){return this.getPromise().catch(tt)}finally(tt){return this.getPromise().finally(tt)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(tt){if(this.shouldThrowOnError)throw tt;if(isStorageError(tt))return{data:null,error:tt};throw tt}})}}_a=Symbol.toStringTag;const BlobDownloadBuilder$1=BlobDownloadBuilder,DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class StorageFileApi{constructor(tt,rt={},nt,at){this.shouldThrowOnError=!1,this.url=tt,this.headers=rt,this.bucketId=nt,this.fetch=resolveFetch$3(at)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(tt,rt,nt,at){return __awaiter$4(this,void 0,void 0,function*(){try{let it;const st=Object.assign(Object.assign({},DEFAULT_FILE_OPTIONS),at);let ot=Object.assign(Object.assign({},this.headers),tt==="POST"&&{"x-upsert":String(st.upsert)});const lt=st.metadata;typeof Blob<"u"&&nt instanceof Blob?(it=new FormData,it.append("cacheControl",st.cacheControl),lt&&it.append("metadata",this.encodeMetadata(lt)),it.append("",nt)):typeof FormData<"u"&&nt instanceof FormData?(it=nt,it.has("cacheControl")||it.append("cacheControl",st.cacheControl),lt&&!it.has("metadata")&&it.append("metadata",this.encodeMetadata(lt))):(it=nt,ot["cache-control"]=`max-age=${st.cacheControl}`,ot["content-type"]=st.contentType,lt&&(ot["x-metadata"]=this.toBase64(this.encodeMetadata(lt))),(typeof ReadableStream<"u"&&it instanceof ReadableStream||it&&typeof it=="object"&&"pipe"in it&&typeof it.pipe=="function")&&!st.duplex&&(st.duplex="half")),at!=null&&at.headers&&(ot=Object.assign(Object.assign({},ot),at.headers));const ct=this._removeEmptyFolders(rt),ut=this._getFinalPath(ct),dt=yield(tt=="PUT"?put:post$1)(this.fetch,`${this.url}/object/${ut}`,it,Object.assign({headers:ot},st!=null&&st.duplex?{duplex:st.duplex}:{}));return{data:{path:ct,id:dt.Id,fullPath:dt.Key},error:null}}catch(it){if(this.shouldThrowOnError)throw it;if(isStorageError(it))return{data:null,error:it};throw it}})}upload(tt,rt,nt){return __awaiter$4(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",tt,rt,nt)})}uploadToSignedUrl(tt,rt,nt,at){return __awaiter$4(this,void 0,void 0,function*(){const it=this._removeEmptyFolders(tt),st=this._getFinalPath(it),ot=new URL(this.url+`/object/upload/sign/${st}`);ot.searchParams.set("token",rt);try{let lt;const ct=Object.assign({upsert:DEFAULT_FILE_OPTIONS.upsert},at),ut=Object.assign(Object.assign({},this.headers),{"x-upsert":String(ct.upsert)});typeof Blob<"u"&&nt instanceof Blob?(lt=new FormData,lt.append("cacheControl",ct.cacheControl),lt.append("",nt)):typeof FormData<"u"&&nt instanceof FormData?(lt=nt,lt.append("cacheControl",ct.cacheControl)):(lt=nt,ut["cache-control"]=`max-age=${ct.cacheControl}`,ut["content-type"]=ct.contentType);const dt=yield put(this.fetch,ot.toString(),lt,{headers:ut});return{data:{path:it,fullPath:dt.Key},error:null}}catch(lt){if(this.shouldThrowOnError)throw lt;if(isStorageError(lt))return{data:null,error:lt};throw lt}})}createSignedUploadUrl(tt,rt){return __awaiter$4(this,void 0,void 0,function*(){try{let nt=this._getFinalPath(tt);const at=Object.assign({},this.headers);rt!=null&&rt.upsert&&(at["x-upsert"]="true");const it=yield post$1(this.fetch,`${this.url}/object/upload/sign/${nt}`,{},{headers:at}),st=new URL(this.url+it.url),ot=st.searchParams.get("token");if(!ot)throw new StorageError("No token returned by API");return{data:{signedUrl:st.toString(),path:tt,token:ot},error:null}}catch(nt){if(this.shouldThrowOnError)throw nt;if(isStorageError(nt))return{data:null,error:nt};throw nt}})}update(tt,rt,nt){return __awaiter$4(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",tt,rt,nt)})}move(tt,rt,nt){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield post$1(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:tt,destinationKey:rt,destinationBucket:nt==null?void 0:nt.destinationBucket},{headers:this.headers}),error:null}}catch(at){if(this.shouldThrowOnError)throw at;if(isStorageError(at))return{data:null,error:at};throw at}})}copy(tt,rt,nt){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:{path:(yield post$1(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:tt,destinationKey:rt,destinationBucket:nt==null?void 0:nt.destinationBucket},{headers:this.headers})).Key},error:null}}catch(at){if(this.shouldThrowOnError)throw at;if(isStorageError(at))return{data:null,error:at};throw at}})}createSignedUrl(tt,rt,nt){return __awaiter$4(this,void 0,void 0,function*(){try{let at=this._getFinalPath(tt),it=yield post$1(this.fetch,`${this.url}/object/sign/${at}`,Object.assign({expiresIn:rt},nt!=null&&nt.transform?{transform:nt.transform}:{}),{headers:this.headers});const st=nt!=null&&nt.download?`&download=${nt.download===!0?"":nt.download}`:"";return it={signedUrl:encodeURI(`${this.url}${it.signedURL}${st}`)},{data:it,error:null}}catch(at){if(this.shouldThrowOnError)throw at;if(isStorageError(at))return{data:null,error:at};throw at}})}createSignedUrls(tt,rt,nt){return __awaiter$4(this,void 0,void 0,function*(){try{const at=yield post$1(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:rt,paths:tt},{headers:this.headers}),it=nt!=null&&nt.download?`&download=${nt.download===!0?"":nt.download}`:"";return{data:at.map(st=>Object.assign(Object.assign({},st),{signedUrl:st.signedURL?encodeURI(`${this.url}${st.signedURL}${it}`):null})),error:null}}catch(at){if(this.shouldThrowOnError)throw at;if(isStorageError(at))return{data:null,error:at};throw at}})}download(tt,rt){const at=typeof(rt==null?void 0:rt.transform)<"u"?"render/image/authenticated":"object",it=this.transformOptsToQueryString((rt==null?void 0:rt.transform)||{}),st=it?`?${it}`:"",ot=this._getFinalPath(tt),lt=()=>get$3(this.fetch,`${this.url}/${at}/${ot}${st}`,{headers:this.headers,noResolveJson:!0});return new BlobDownloadBuilder$1(lt,this.shouldThrowOnError)}info(tt){return __awaiter$4(this,void 0,void 0,function*(){const rt=this._getFinalPath(tt);try{const nt=yield get$3(this.fetch,`${this.url}/object/info/${rt}`,{headers:this.headers});return{data:recursiveToCamel(nt),error:null}}catch(nt){if(this.shouldThrowOnError)throw nt;if(isStorageError(nt))return{data:null,error:nt};throw nt}})}exists(tt){return __awaiter$4(this,void 0,void 0,function*(){const rt=this._getFinalPath(tt);try{return yield head(this.fetch,`${this.url}/object/${rt}`,{headers:this.headers}),{data:!0,error:null}}catch(nt){if(this.shouldThrowOnError)throw nt;if(isStorageError(nt)&&nt instanceof StorageUnknownError){const at=nt.originalError;if([400,404].includes(at==null?void 0:at.status))return{data:!1,error:nt}}throw nt}})}getPublicUrl(tt,rt){const nt=this._getFinalPath(tt),at=[],it=rt!=null&&rt.download?`download=${rt.download===!0?"":rt.download}`:"";it!==""&&at.push(it);const ot=typeof(rt==null?void 0:rt.transform)<"u"?"render/image":"object",lt=this.transformOptsToQueryString((rt==null?void 0:rt.transform)||{});lt!==""&&at.push(lt);let ct=at.join("&");return ct!==""&&(ct=`?${ct}`),{data:{publicUrl:encodeURI(`${this.url}/${ot}/public/${nt}${ct}`)}}}remove(tt){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:tt},{headers:this.headers}),error:null}}catch(rt){if(this.shouldThrowOnError)throw rt;if(isStorageError(rt))return{data:null,error:rt};throw rt}})}list(tt,rt,nt){return __awaiter$4(this,void 0,void 0,function*(){try{const at=Object.assign(Object.assign(Object.assign({},DEFAULT_SEARCH_OPTIONS),rt),{prefix:tt||""});return{data:yield post$1(this.fetch,`${this.url}/object/list/${this.bucketId}`,at,{headers:this.headers},nt),error:null}}catch(at){if(this.shouldThrowOnError)throw at;if(isStorageError(at))return{data:null,error:at};throw at}})}listV2(tt,rt){return __awaiter$4(this,void 0,void 0,function*(){try{const nt=Object.assign({},tt);return{data:yield post$1(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,nt,{headers:this.headers},rt),error:null}}catch(nt){if(this.shouldThrowOnError)throw nt;if(isStorageError(nt))return{data:null,error:nt};throw nt}})}encodeMetadata(tt){return JSON.stringify(tt)}toBase64(tt){return typeof Buffer<"u"?Buffer.from(tt).toString("base64"):btoa(tt)}_getFinalPath(tt){return`${this.bucketId}/${tt.replace(/^\/+/,"")}`}_removeEmptyFolders(tt){return tt.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(tt){const rt=[];return tt.width&&rt.push(`width=${tt.width}`),tt.height&&rt.push(`height=${tt.height}`),tt.resize&&rt.push(`resize=${tt.resize}`),tt.format&&rt.push(`format=${tt.format}`),tt.quality&&rt.push(`quality=${tt.quality}`),rt.join("&")}}const version$2="2.81.1",DEFAULT_HEADERS$3={"X-Client-Info":`storage-js/${version$2}`};class StorageBucketApi{constructor(tt,rt={},nt,at){this.shouldThrowOnError=!1;const it=new URL(tt);at!=null&&at.useNewHostname&&/supabase\.(co|in|red)$/.test(it.hostname)&&!it.hostname.includes("storage.supabase.")&&(it.hostname=it.hostname.replace("supabase.","storage.supabase.")),this.url=it.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$3),rt),this.fetch=resolveFetch$3(nt)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(tt){return __awaiter$4(this,void 0,void 0,function*(){try{const rt=this.listBucketOptionsToQueryString(tt);return{data:yield get$3(this.fetch,`${this.url}/bucket${rt}`,{headers:this.headers}),error:null}}catch(rt){if(this.shouldThrowOnError)throw rt;if(isStorageError(rt))return{data:null,error:rt};throw rt}})}getBucket(tt){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield get$3(this.fetch,`${this.url}/bucket/${tt}`,{headers:this.headers}),error:null}}catch(rt){if(this.shouldThrowOnError)throw rt;if(isStorageError(rt))return{data:null,error:rt};throw rt}})}createBucket(tt){return __awaiter$4(this,arguments,void 0,function*(rt,nt={public:!1}){try{return{data:yield post$1(this.fetch,`${this.url}/bucket`,{id:rt,name:rt,type:nt.type,public:nt.public,file_size_limit:nt.fileSizeLimit,allowed_mime_types:nt.allowedMimeTypes},{headers:this.headers}),error:null}}catch(at){if(this.shouldThrowOnError)throw at;if(isStorageError(at))return{data:null,error:at};throw at}})}updateBucket(tt,rt){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield put(this.fetch,`${this.url}/bucket/${tt}`,{id:tt,name:tt,public:rt.public,file_size_limit:rt.fileSizeLimit,allowed_mime_types:rt.allowedMimeTypes},{headers:this.headers}),error:null}}catch(nt){if(this.shouldThrowOnError)throw nt;if(isStorageError(nt))return{data:null,error:nt};throw nt}})}emptyBucket(tt){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield post$1(this.fetch,`${this.url}/bucket/${tt}/empty`,{},{headers:this.headers}),error:null}}catch(rt){if(this.shouldThrowOnError)throw rt;if(isStorageError(rt))return{data:null,error:rt};throw rt}})}deleteBucket(tt){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${tt}`,{},{headers:this.headers}),error:null}}catch(rt){if(this.shouldThrowOnError)throw rt;if(isStorageError(rt))return{data:null,error:rt};throw rt}})}listBucketOptionsToQueryString(tt){const rt={};return tt&&("limit"in tt&&(rt.limit=String(tt.limit)),"offset"in tt&&(rt.offset=String(tt.offset)),tt.search&&(rt.search=tt.search),tt.sortColumn&&(rt.sortColumn=tt.sortColumn),tt.sortOrder&&(rt.sortOrder=tt.sortOrder)),Object.keys(rt).length>0?"?"+new URLSearchParams(rt).toString():""}}class StorageAnalyticsApi{constructor(tt,rt={},nt){this.shouldThrowOnError=!1,this.url=tt.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$3),rt),this.fetch=resolveFetch$3(nt)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(tt){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield post$1(this.fetch,`${this.url}/bucket`,{name:tt},{headers:this.headers}),error:null}}catch(rt){if(this.shouldThrowOnError)throw rt;if(isStorageError(rt))return{data:null,error:rt};throw rt}})}listBuckets(tt){return __awaiter$4(this,void 0,void 0,function*(){try{const rt=new URLSearchParams;(tt==null?void 0:tt.limit)!==void 0&&rt.set("limit",tt.limit.toString()),(tt==null?void 0:tt.offset)!==void 0&&rt.set("offset",tt.offset.toString()),tt!=null&&tt.sortColumn&&rt.set("sortColumn",tt.sortColumn),tt!=null&&tt.sortOrder&&rt.set("sortOrder",tt.sortOrder),tt!=null&&tt.search&&rt.set("search",tt.search);const nt=rt.toString(),at=nt?`${this.url}/bucket?${nt}`:`${this.url}/bucket`;return{data:yield get$3(this.fetch,at,{headers:this.headers}),error:null}}catch(rt){if(this.shouldThrowOnError)throw rt;if(isStorageError(rt))return{data:null,error:rt};throw rt}})}deleteBucket(tt){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${tt}`,{},{headers:this.headers}),error:null}}catch(rt){if(this.shouldThrowOnError)throw rt;if(isStorageError(rt))return{data:null,error:rt};throw rt}})}}const DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$2}`,"Content-Type":"application/json"};class StorageVectorsError extends Error{constructor(tt){super(tt),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function isStorageVectorsError(et){return typeof et=="object"&&et!==null&&"__isStorageVectorsError"in et}class StorageVectorsApiError extends StorageVectorsError{constructor(tt,rt,nt){super(tt),this.name="StorageVectorsApiError",this.status=rt,this.statusCode=nt}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class StorageVectorsUnknownError extends StorageVectorsError{constructor(tt,rt){super(tt),this.name="StorageVectorsUnknownError",this.originalError=rt}}var StorageVectorsErrorCode;(function(et){et.InternalError="InternalError",et.S3VectorConflictException="S3VectorConflictException",et.S3VectorNotFoundException="S3VectorNotFoundException",et.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",et.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",et.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(StorageVectorsErrorCode||(StorageVectorsErrorCode={}));const resolveFetch$2=et=>et?(...tt)=>et(...tt):(...tt)=>fetch(...tt),isPlainObject$2=et=>{if(typeof et!="object"||et===null)return!1;const tt=Object.getPrototypeOf(et);return(tt===null||tt===Object.prototype||Object.getPrototypeOf(tt)===null)&&!(Symbol.toStringTag in et)&&!(Symbol.iterator in et)},_getErrorMessage$1=et=>et.msg||et.message||et.error_description||et.error||JSON.stringify(et),handleError$1=(et,tt,rt)=>__awaiter$4(void 0,void 0,void 0,function*(){if(et&&typeof et=="object"&&"status"in et&&"ok"in et&&typeof et.status=="number"&&!(rt!=null&&rt.noResolveJson)){const at=et.status||500,it=et;if(typeof it.json=="function")it.json().then(st=>{const ot=(st==null?void 0:st.statusCode)||(st==null?void 0:st.code)||at+"";tt(new StorageVectorsApiError(_getErrorMessage$1(st),at,ot))}).catch(()=>{const st=at+"",ot=it.statusText||`HTTP ${at} error`;tt(new StorageVectorsApiError(ot,at,st))});else{const st=at+"",ot=it.statusText||`HTTP ${at} error`;tt(new StorageVectorsApiError(ot,at,st))}}else tt(new StorageVectorsUnknownError(_getErrorMessage$1(et),et))}),_getRequestParams$1=(et,tt,rt,nt)=>{const at={method:et,headers:(tt==null?void 0:tt.headers)||{}};return et==="GET"||!nt?at:(isPlainObject$2(nt)?(at.headers=Object.assign({"Content-Type":"application/json"},tt==null?void 0:tt.headers),at.body=JSON.stringify(nt)):at.body=nt,Object.assign(Object.assign({},at),rt))};function _handleRequest$1(et,tt,rt,nt,at,it){return __awaiter$4(this,void 0,void 0,function*(){return new Promise((st,ot)=>{et(rt,_getRequestParams$1(tt,nt,at,it)).then(lt=>{if(!lt.ok)throw lt;if(nt!=null&&nt.noResolveJson)return lt;const ct=lt.headers.get("content-type");return!ct||!ct.includes("application/json")?{}:lt.json()}).then(lt=>st(lt)).catch(lt=>handleError$1(lt,ot,nt))})})}function post(et,tt,rt,nt,at){return __awaiter$4(this,void 0,void 0,function*(){return _handleRequest$1(et,"POST",tt,nt,at,rt)})}class VectorIndexApi{constructor(tt,rt={},nt){this.shouldThrowOnError=!1,this.url=tt.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),rt),this.fetch=resolveFetch$2(nt)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(tt){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:(yield post(this.fetch,`${this.url}/CreateIndex`,tt,{headers:this.headers}))||{},error:null}}catch(rt){if(this.shouldThrowOnError)throw rt;if(isStorageVectorsError(rt))return{data:null,error:rt};throw rt}})}getIndex(tt,rt){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:tt,indexName:rt},{headers:this.headers}),error:null}}catch(nt){if(this.shouldThrowOnError)throw nt;if(isStorageVectorsError(nt))return{data:null,error:nt};throw nt}})}listIndexes(tt){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/ListIndexes`,tt,{headers:this.headers}),error:null}}catch(rt){if(this.shouldThrowOnError)throw rt;if(isStorageVectorsError(rt))return{data:null,error:rt};throw rt}})}deleteIndex(tt,rt){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:(yield post(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:tt,indexName:rt},{headers:this.headers}))||{},error:null}}catch(nt){if(this.shouldThrowOnError)throw nt;if(isStorageVectorsError(nt))return{data:null,error:nt};throw nt}})}}class VectorDataApi{constructor(tt,rt={},nt){this.shouldThrowOnError=!1,this.url=tt.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),rt),this.fetch=resolveFetch$2(nt)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(tt){return __awaiter$4(this,void 0,void 0,function*(){try{if(tt.vectors.length<1||tt.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield post(this.fetch,`${this.url}/PutVectors`,tt,{headers:this.headers}))||{},error:null}}catch(rt){if(this.shouldThrowOnError)throw rt;if(isStorageVectorsError(rt))return{data:null,error:rt};throw rt}})}getVectors(tt){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/GetVectors`,tt,{headers:this.headers}),error:null}}catch(rt){if(this.shouldThrowOnError)throw rt;if(isStorageVectorsError(rt))return{data:null,error:rt};throw rt}})}listVectors(tt){return __awaiter$4(this,void 0,void 0,function*(){try{if(tt.segmentCount!==void 0){if(tt.segmentCount<1||tt.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(tt.segmentIndex!==void 0&&(tt.segmentIndex<0||tt.segmentIndex>=tt.segmentCount))throw new Error(`segmentIndex must be between 0 and ${tt.segmentCount-1}`)}return{data:yield post(this.fetch,`${this.url}/ListVectors`,tt,{headers:this.headers}),error:null}}catch(rt){if(this.shouldThrowOnError)throw rt;if(isStorageVectorsError(rt))return{data:null,error:rt};throw rt}})}queryVectors(tt){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/QueryVectors`,tt,{headers:this.headers}),error:null}}catch(rt){if(this.shouldThrowOnError)throw rt;if(isStorageVectorsError(rt))return{data:null,error:rt};throw rt}})}deleteVectors(tt){return __awaiter$4(this,void 0,void 0,function*(){try{if(tt.keys.length<1||tt.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield post(this.fetch,`${this.url}/DeleteVectors`,tt,{headers:this.headers}))||{},error:null}}catch(rt){if(this.shouldThrowOnError)throw rt;if(isStorageVectorsError(rt))return{data:null,error:rt};throw rt}})}}class VectorBucketApi{constructor(tt,rt={},nt){this.shouldThrowOnError=!1,this.url=tt.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),rt),this.fetch=resolveFetch$2(nt)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(tt){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:(yield post(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:tt},{headers:this.headers}))||{},error:null}}catch(rt){if(this.shouldThrowOnError)throw rt;if(isStorageVectorsError(rt))return{data:null,error:rt};throw rt}})}getBucket(tt){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:tt},{headers:this.headers}),error:null}}catch(rt){if(this.shouldThrowOnError)throw rt;if(isStorageVectorsError(rt))return{data:null,error:rt};throw rt}})}listBuckets(){return __awaiter$4(this,arguments,void 0,function*(tt={}){try{return{data:yield post(this.fetch,`${this.url}/ListVectorBuckets`,tt,{headers:this.headers}),error:null}}catch(rt){if(this.shouldThrowOnError)throw rt;if(isStorageVectorsError(rt))return{data:null,error:rt};throw rt}})}deleteBucket(tt){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:(yield post(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:tt},{headers:this.headers}))||{},error:null}}catch(rt){if(this.shouldThrowOnError)throw rt;if(isStorageVectorsError(rt))return{data:null,error:rt};throw rt}})}}class StorageVectorsClient extends VectorBucketApi{constructor(tt,rt={}){super(tt,rt.headers||{},rt.fetch)}from(tt){return new VectorBucketScope(this.url,this.headers,tt,this.fetch)}}class VectorBucketScope extends VectorIndexApi{constructor(tt,rt,nt,at){super(tt,rt,at),this.vectorBucketName=nt}createIndex(tt){const rt=Object.create(null,{createIndex:{get:()=>super.createIndex}});return __awaiter$4(this,void 0,void 0,function*(){return rt.createIndex.call(this,Object.assign(Object.assign({},tt),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const tt=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return __awaiter$4(this,arguments,void 0,function*(rt={}){return tt.listIndexes.call(this,Object.assign(Object.assign({},rt),{vectorBucketName:this.vectorBucketName}))})}getIndex(tt){const rt=Object.create(null,{getIndex:{get:()=>super.getIndex}});return __awaiter$4(this,void 0,void 0,function*(){return rt.getIndex.call(this,this.vectorBucketName,tt)})}deleteIndex(tt){const rt=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return __awaiter$4(this,void 0,void 0,function*(){return rt.deleteIndex.call(this,this.vectorBucketName,tt)})}index(tt){return new VectorIndexScope(this.url,this.headers,this.vectorBucketName,tt,this.fetch)}}class VectorIndexScope extends VectorDataApi{constructor(tt,rt,nt,at,it){super(tt,rt,it),this.vectorBucketName=nt,this.indexName=at}putVectors(tt){const rt=Object.create(null,{putVectors:{get:()=>super.putVectors}});return __awaiter$4(this,void 0,void 0,function*(){return rt.putVectors.call(this,Object.assign(Object.assign({},tt),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(tt){const rt=Object.create(null,{getVectors:{get:()=>super.getVectors}});return __awaiter$4(this,void 0,void 0,function*(){return rt.getVectors.call(this,Object.assign(Object.assign({},tt),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const tt=Object.create(null,{listVectors:{get:()=>super.listVectors}});return __awaiter$4(this,arguments,void 0,function*(rt={}){return tt.listVectors.call(this,Object.assign(Object.assign({},rt),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(tt){const rt=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return __awaiter$4(this,void 0,void 0,function*(){return rt.queryVectors.call(this,Object.assign(Object.assign({},tt),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(tt){const rt=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return __awaiter$4(this,void 0,void 0,function*(){return rt.deleteVectors.call(this,Object.assign(Object.assign({},tt),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class StorageClient extends StorageBucketApi{constructor(tt,rt={},nt,at){super(tt,rt,nt,at)}from(tt){return new StorageFileApi(this.url,this.headers,tt,this.fetch)}get vectors(){return new StorageVectorsClient(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new StorageAnalyticsApi(this.url+"/iceberg",this.headers,this.fetch)}}const version$1="2.30.0",DEFAULT_HEADERS$1={"X-Client-Info":`supabase-js/${version$1}`};var browserPonyfill$1={exports:{}};(function(et,tt){var rt=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof commonjsGlobal<"u"&&commonjsGlobal,nt=function(){function it(){this.fetch=!1,this.DOMException=rt.DOMException}return it.prototype=rt,new it}();(function(it){(function(st){var ot=typeof it<"u"&&it||typeof self<"u"&&self||typeof commonjsGlobal<"u"&&commonjsGlobal||{},lt={searchParams:"URLSearchParams"in ot,iterable:"Symbol"in ot&&"iterator"in Symbol,blob:"FileReader"in ot&&"Blob"in ot&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in ot,arrayBuffer:"ArrayBuffer"in ot};function ct(It){return It&&DataView.prototype.isPrototypeOf(It)}if(lt.arrayBuffer)var ut=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],dt=ArrayBuffer.isView||function(It){return It&&ut.indexOf(Object.prototype.toString.call(It))>-1};function ft(It){if(typeof It!="string"&&(It=String(It)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(It)||It==="")throw new TypeError('Invalid character in header field name: "'+It+'"');return It.toLowerCase()}function ht(It){return typeof It!="string"&&(It=String(It)),It}function gt(It){var Bt={next:function(){var qt=It.shift();return{done:qt===void 0,value:qt}}};return lt.iterable&&(Bt[Symbol.iterator]=function(){return Bt}),Bt}function mt(It){this.map={},It instanceof mt?It.forEach(function(Bt,qt){this.append(qt,Bt)},this):Array.isArray(It)?It.forEach(function(Bt){if(Bt.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+Bt.length);this.append(Bt[0],Bt[1])},this):It&&Object.getOwnPropertyNames(It).forEach(function(Bt){this.append(Bt,It[Bt])},this)}mt.prototype.append=function(It,Bt){It=ft(It),Bt=ht(Bt);var qt=this.map[It];this.map[It]=qt?qt+", "+Bt:Bt},mt.prototype.delete=function(It){delete this.map[ft(It)]},mt.prototype.get=function(It){return It=ft(It),this.has(It)?this.map[It]:null},mt.prototype.has=function(It){return this.map.hasOwnProperty(ft(It))},mt.prototype.set=function(It,Bt){this.map[ft(It)]=ht(Bt)},mt.prototype.forEach=function(It,Bt){for(var qt in this.map)this.map.hasOwnProperty(qt)&&It.call(Bt,this.map[qt],qt,this)},mt.prototype.keys=function(){var It=[];return this.forEach(function(Bt,qt){It.push(qt)}),gt(It)},mt.prototype.values=function(){var It=[];return this.forEach(function(Bt){It.push(Bt)}),gt(It)},mt.prototype.entries=function(){var It=[];return this.forEach(function(Bt,qt){It.push([qt,Bt])}),gt(It)},lt.iterable&&(mt.prototype[Symbol.iterator]=mt.prototype.entries);function xt(It){if(!It._noBody){if(It.bodyUsed)return Promise.reject(new TypeError("Already read"));It.bodyUsed=!0}}function vt(It){return new Promise(function(Bt,qt){It.onload=function(){Bt(It.result)},It.onerror=function(){qt(It.error)}})}function _t(It){var Bt=new FileReader,qt=vt(Bt);return Bt.readAsArrayBuffer(It),qt}function yt(It){var Bt=new FileReader,qt=vt(Bt),Ut=/charset=([A-Za-z0-9_-]+)/.exec(It.type),Ht=Ut?Ut[1]:"utf-8";return Bt.readAsText(It,Ht),qt}function St(It){for(var Bt=new Uint8Array(It),qt=new Array(Bt.length),Ut=0;Ut<Bt.length;Ut++)qt[Ut]=String.fromCharCode(Bt[Ut]);return qt.join("")}function bt(It){if(It.slice)return It.slice(0);var Bt=new Uint8Array(It.byteLength);return Bt.set(new Uint8Array(It)),Bt.buffer}function Et(){return this.bodyUsed=!1,this._initBody=function(It){this.bodyUsed=this.bodyUsed,this._bodyInit=It,It?typeof It=="string"?this._bodyText=It:lt.blob&&Blob.prototype.isPrototypeOf(It)?this._bodyBlob=It:lt.formData&&FormData.prototype.isPrototypeOf(It)?this._bodyFormData=It:lt.searchParams&&URLSearchParams.prototype.isPrototypeOf(It)?this._bodyText=It.toString():lt.arrayBuffer&&lt.blob&&ct(It)?(this._bodyArrayBuffer=bt(It.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):lt.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(It)||dt(It))?this._bodyArrayBuffer=bt(It):this._bodyText=It=Object.prototype.toString.call(It):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof It=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):lt.searchParams&&URLSearchParams.prototype.isPrototypeOf(It)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},lt.blob&&(this.blob=function(){var It=xt(this);if(It)return It;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var It=xt(this);return It||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(lt.blob)return this.blob().then(_t);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var It=xt(this);if(It)return It;if(this._bodyBlob)return yt(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(St(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},lt.formData&&(this.formData=function(){return this.text().then(kt)}),this.json=function(){return this.text().then(JSON.parse)},this}var Tt=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function At(It){var Bt=It.toUpperCase();return Tt.indexOf(Bt)>-1?Bt:It}function Ct(It,Bt){if(!(this instanceof Ct))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');Bt=Bt||{};var qt=Bt.body;if(It instanceof Ct){if(It.bodyUsed)throw new TypeError("Already read");this.url=It.url,this.credentials=It.credentials,Bt.headers||(this.headers=new mt(It.headers)),this.method=It.method,this.mode=It.mode,this.signal=It.signal,!qt&&It._bodyInit!=null&&(qt=It._bodyInit,It.bodyUsed=!0)}else this.url=String(It);if(this.credentials=Bt.credentials||this.credentials||"same-origin",(Bt.headers||!this.headers)&&(this.headers=new mt(Bt.headers)),this.method=At(Bt.method||this.method||"GET"),this.mode=Bt.mode||this.mode||null,this.signal=Bt.signal||this.signal||function(){if("AbortController"in ot){var Qt=new AbortController;return Qt.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&qt)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(qt),(this.method==="GET"||this.method==="HEAD")&&(Bt.cache==="no-store"||Bt.cache==="no-cache")){var Ut=/([?&])_=[^&]*/;if(Ut.test(this.url))this.url=this.url.replace(Ut,"$1_="+new Date().getTime());else{var Ht=/\?/;this.url+=(Ht.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Ct.prototype.clone=function(){return new Ct(this,{body:this._bodyInit})};function kt(It){var Bt=new FormData;return It.trim().split("&").forEach(function(qt){if(qt){var Ut=qt.split("="),Ht=Ut.shift().replace(/\+/g," "),Qt=Ut.join("=").replace(/\+/g," ");Bt.append(decodeURIComponent(Ht),decodeURIComponent(Qt))}}),Bt}function Pt(It){var Bt=new mt,qt=It.replace(/\r?\n[\t ]+/g," ");return qt.split("\r").map(function(Ut){return Ut.indexOf(`
`)===0?Ut.substr(1,Ut.length):Ut}).forEach(function(Ut){var Ht=Ut.split(":"),Qt=Ht.shift().trim();if(Qt){var ir=Ht.join(":").trim();try{Bt.append(Qt,ir)}catch(Xt){console.warn("Response "+Xt.message)}}}),Bt}Et.call(Ct.prototype);function Dt(It,Bt){if(!(this instanceof Dt))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(Bt||(Bt={}),this.type="default",this.status=Bt.status===void 0?200:Bt.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=Bt.statusText===void 0?"":""+Bt.statusText,this.headers=new mt(Bt.headers),this.url=Bt.url||"",this._initBody(It)}Et.call(Dt.prototype),Dt.prototype.clone=function(){return new Dt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new mt(this.headers),url:this.url})},Dt.error=function(){var It=new Dt(null,{status:200,statusText:""});return It.ok=!1,It.status=0,It.type="error",It};var Ft=[301,302,303,307,308];Dt.redirect=function(It,Bt){if(Ft.indexOf(Bt)===-1)throw new RangeError("Invalid status code");return new Dt(null,{status:Bt,headers:{location:It}})},st.DOMException=ot.DOMException;try{new st.DOMException}catch{st.DOMException=function(Bt,qt){this.message=Bt,this.name=qt;var Ut=Error(Bt);this.stack=Ut.stack},st.DOMException.prototype=Object.create(Error.prototype),st.DOMException.prototype.constructor=st.DOMException}function Ot(It,Bt){return new Promise(function(qt,Ut){var Ht=new Ct(It,Bt);if(Ht.signal&&Ht.signal.aborted)return Ut(new st.DOMException("Aborted","AbortError"));var Qt=new XMLHttpRequest;function ir(){Qt.abort()}Qt.onload=function(){var jt={statusText:Qt.statusText,headers:Pt(Qt.getAllResponseHeaders()||"")};Ht.url.indexOf("file://")===0&&(Qt.status<200||Qt.status>599)?jt.status=200:jt.status=Qt.status,jt.url="responseURL"in Qt?Qt.responseURL:jt.headers.get("X-Request-URL");var Nt="response"in Qt?Qt.response:Qt.responseText;setTimeout(function(){qt(new Dt(Nt,jt))},0)},Qt.onerror=function(){setTimeout(function(){Ut(new TypeError("Network request failed"))},0)},Qt.ontimeout=function(){setTimeout(function(){Ut(new TypeError("Network request timed out"))},0)},Qt.onabort=function(){setTimeout(function(){Ut(new st.DOMException("Aborted","AbortError"))},0)};function Xt(jt){try{return jt===""&&ot.location.href?ot.location.href:jt}catch{return jt}}if(Qt.open(Ht.method,Xt(Ht.url),!0),Ht.credentials==="include"?Qt.withCredentials=!0:Ht.credentials==="omit"&&(Qt.withCredentials=!1),"responseType"in Qt&&(lt.blob?Qt.responseType="blob":lt.arrayBuffer&&(Qt.responseType="arraybuffer")),Bt&&typeof Bt.headers=="object"&&!(Bt.headers instanceof mt||ot.Headers&&Bt.headers instanceof ot.Headers)){var Lt=[];Object.getOwnPropertyNames(Bt.headers).forEach(function(jt){Lt.push(ft(jt)),Qt.setRequestHeader(jt,ht(Bt.headers[jt]))}),Ht.headers.forEach(function(jt,Nt){Lt.indexOf(Nt)===-1&&Qt.setRequestHeader(Nt,jt)})}else Ht.headers.forEach(function(jt,Nt){Qt.setRequestHeader(Nt,jt)});Ht.signal&&(Ht.signal.addEventListener("abort",ir),Qt.onreadystatechange=function(){Qt.readyState===4&&Ht.signal.removeEventListener("abort",ir)}),Qt.send(typeof Ht._bodyInit>"u"?null:Ht._bodyInit)})}return Ot.polyfill=!0,ot.fetch||(ot.fetch=Ot,ot.Headers=mt,ot.Request=Ct,ot.Response=Dt),st.Headers=mt,st.Request=Ct,st.Response=Dt,st.fetch=Ot,Object.defineProperty(st,"__esModule",{value:!0}),st})({})})(nt),nt.fetch.ponyfill=!0,delete nt.fetch.polyfill;var at=rt.fetch?rt:nt;tt=at.fetch,tt.default=at.fetch,tt.fetch=at.fetch,tt.Headers=at.Headers,tt.Request=at.Request,tt.Response=at.Response,et.exports=tt})(browserPonyfill$1,browserPonyfill$1.exports);var browserPonyfillExports=browserPonyfill$1.exports;const crossFetch=getDefaultExportFromCjs(browserPonyfillExports),browserPonyfill=_mergeNamespaces({__proto__:null,default:crossFetch},[browserPonyfillExports]);var __awaiter$3=globalThis&&globalThis.__awaiter||function(et,tt,rt,nt){function at(it){return it instanceof rt?it:new rt(function(st){st(it)})}return new(rt||(rt=Promise))(function(it,st){function ot(ut){try{ct(nt.next(ut))}catch(dt){st(dt)}}function lt(ut){try{ct(nt.throw(ut))}catch(dt){st(dt)}}function ct(ut){ut.done?it(ut.value):at(ut.value).then(ot,lt)}ct((nt=nt.apply(et,tt||[])).next())})};const resolveFetch$1=et=>{let tt;return et?tt=et:typeof fetch>"u"?tt=crossFetch:tt=fetch,(...rt)=>tt(...rt)},resolveHeadersConstructor=()=>typeof Headers>"u"?browserPonyfillExports.Headers:Headers,fetchWithAuth=(et,tt,rt)=>{const nt=resolveFetch$1(rt),at=resolveHeadersConstructor();return(it,st)=>__awaiter$3(void 0,void 0,void 0,function*(){var ot;const lt=(ot=yield tt())!==null&&ot!==void 0?ot:et;let ct=new at(st==null?void 0:st.headers);return ct.has("apikey")||ct.set("apikey",et),ct.has("Authorization")||ct.set("Authorization",`Bearer ${lt}`),nt(it,Object.assign(Object.assign({},st),{headers:ct}))})};function stripTrailingSlash(et){return et.replace(/\/$/,"")}function applySettingDefaults(et,tt){const{db:rt,auth:nt,realtime:at,global:it}=et,{db:st,auth:ot,realtime:lt,global:ct}=tt;return{db:Object.assign(Object.assign({},st),rt),auth:Object.assign(Object.assign({},ot),nt),realtime:Object.assign(Object.assign({},lt),at),global:Object.assign(Object.assign({},ct),it)}}const scriptRel="modulepreload",assetsURL=function(et){return"/"+et},seen={},__vitePreload=function(tt,rt,nt){if(!rt||rt.length===0)return tt();const at=document.getElementsByTagName("link");return Promise.all(rt.map(it=>{if(it=assetsURL(it),it in seen)return;seen[it]=!0;const st=it.endsWith(".css"),ot=st?'[rel="stylesheet"]':"";if(!!nt)for(let ut=at.length-1;ut>=0;ut--){const dt=at[ut];if(dt.href===it&&(!st||dt.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${it}"]${ot}`))return;const ct=document.createElement("link");if(ct.rel=st?"stylesheet":scriptRel,st||(ct.as="script",ct.crossOrigin=""),ct.href=it,document.head.appendChild(ct),st)return new Promise((ut,dt)=>{ct.addEventListener("load",ut),ct.addEventListener("error",()=>dt(new Error(`Unable to preload CSS for ${it}`)))})})).then(()=>tt()).catch(it=>{const st=new Event("vite:preloadError",{cancelable:!0});if(st.payload=it,window.dispatchEvent(st),!st.defaultPrevented)throw it})};function expiresAt(et){return Math.round(Date.now()/1e3)+et}function uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(et){const tt=Math.random()*16|0;return(et=="x"?tt:tt&3|8).toString(16)})}const isBrowser$2=()=>typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser$2())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const et=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(et,et),globalThis.localStorage.removeItem(et),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function getParameterByName(et,tt){var rt;tt||(tt=((rt=window==null?void 0:window.location)===null||rt===void 0?void 0:rt.href)||""),et=et.replace(/[\[\]]/g,"\\$&");const nt=new RegExp("[?&#]"+et+"(=([^&#]*)|&|#|$)"),at=nt.exec(tt);return at?at[2]?decodeURIComponent(at[2].replace(/\+/g," ")):"":null}const resolveFetch=et=>{let tt;return et?tt=et:typeof fetch>"u"?tt=async(...rt)=>await(await __vitePreload(()=>Promise.resolve().then(()=>browserPonyfill),void 0)).fetch(...rt):tt=fetch,(...rt)=>tt(...rt)},looksLikeFetchResponse=et=>typeof et=="object"&&et!==null&&"status"in et&&"ok"in et&&"json"in et&&typeof et.json=="function",setItemAsync=async(et,tt,rt)=>{await et.setItem(tt,JSON.stringify(rt))},getItemAsync=async(et,tt)=>{const rt=await et.getItem(tt);if(!rt)return null;try{return JSON.parse(rt)}catch{return rt}},removeItemAsync=async(et,tt)=>{await et.removeItem(tt)};function decodeBase64URL(et){const tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let rt="",nt,at,it,st,ot,lt,ct,ut=0;for(et=et.replace("-","+").replace("_","/");ut<et.length;)st=tt.indexOf(et.charAt(ut++)),ot=tt.indexOf(et.charAt(ut++)),lt=tt.indexOf(et.charAt(ut++)),ct=tt.indexOf(et.charAt(ut++)),nt=st<<2|ot>>4,at=(ot&15)<<4|lt>>2,it=(lt&3)<<6|ct,rt=rt+String.fromCharCode(nt),lt!=64&&at!=0&&(rt=rt+String.fromCharCode(at)),ct!=64&&it!=0&&(rt=rt+String.fromCharCode(it));return rt}class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((tt,rt)=>{this.resolve=tt,this.reject=rt})}}Deferred.promiseConstructor=Promise;function decodeJWTPayload(et){const tt=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,rt=et.split(".");if(rt.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!tt.test(rt[1]))throw new Error("JWT is not valid: payload is not in base64url format");const nt=rt[1];return JSON.parse(decodeBase64URL(nt))}function sleep(et){return new Promise(tt=>{setTimeout(()=>tt(null),et)})}function retryable(et,tt){return new Promise((nt,at)=>{(async()=>{for(let it=0;it<1/0;it++)try{const st=await et(it);if(!tt(it,null,st)){nt(st);return}}catch(st){if(!tt(it,st)){at(st);return}}})()})}function dec2hex(et){return("0"+et.toString(16)).substr(-2)}function generatePKCEVerifier(){const tt=new Uint32Array(56);if(typeof crypto>"u"){const rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",nt=rt.length;let at="";for(let it=0;it<56;it++)at+=rt.charAt(Math.floor(Math.random()*nt));return at}return crypto.getRandomValues(tt),Array.from(tt,dec2hex).join("")}async function sha256(et){const rt=new TextEncoder().encode(et),nt=await crypto.subtle.digest("SHA-256",rt),at=new Uint8Array(nt);return Array.from(at).map(it=>String.fromCharCode(it)).join("")}function base64urlencode(et){return btoa(et).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function generatePKCEChallenge(et){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),et;const tt=await sha256(et);return base64urlencode(tt)}const STACK_GUARD_PREFIX="__stack_guard__",STACK_GUARD_SUFFIX="__",STACK_ENTRY_REGEX=/__stack_guard__([a-zA-Z0-9_-]+)__/;let STACK_GUARD_CHECKED=!1,STACK_GUARD_CHECK_FN;function isInStackGuard(et){var tt,rt;STACK_GUARD_CHECK_FN();let nt;try{throw new Error}catch(it){nt=it}const at=(rt=(tt=nt.stack)===null||tt===void 0?void 0:tt.split(`
`))!==null&&rt!==void 0?rt:[];for(let it=0;it<at.length;it+=1){const ot=at[it].match(STACK_ENTRY_REGEX);if(ot&&ot[1]===et)return!0}return!1}async function stackGuard(et,tt){await STACK_GUARD_CHECK_FN();const rt=`${STACK_GUARD_PREFIX}${et}${STACK_GUARD_SUFFIX}`;return await{[rt]:async()=>await tt()}[rt]()}STACK_GUARD_CHECK_FN=async()=>{STACK_GUARD_CHECKED||(STACK_GUARD_CHECKED=!0,await stackGuard("ENV_CHECK",async()=>{const et=isInStackGuard("ENV_CHECK");return et||console.warn("@supabase/gotrue-js: Stack guards not supported in this environment. Generally not an issue but may point to a very conservative transpilation environment (use ES2017 or above) that implements async/await with generators, or this is a JavaScript engine that does not support async/await stack traces."),et}))};class AuthError extends Error{constructor(tt,rt){super(tt),this.__isAuthError=!0,this.name="AuthError",this.status=rt}}function isAuthError(et){return typeof et=="object"&&et!==null&&"__isAuthError"in et}class AuthApiError extends AuthError{constructor(tt,rt){super(tt,rt),this.name="AuthApiError",this.status=rt}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function isAuthApiError(et){return isAuthError(et)&&et.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(tt,rt){super(tt),this.name="AuthUnknownError",this.originalError=rt}}class CustomAuthError extends AuthError{constructor(tt,rt,nt){super(tt),this.name=rt,this.status=nt}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(tt){super(tt,"AuthInvalidCredentialsError",400)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(tt,rt=null){super(tt,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=rt}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(tt,rt=null){super(tt,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=rt}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthRetryableFetchError extends CustomAuthError{constructor(tt,rt){super(tt,"AuthRetryableFetchError",rt)}}function isAuthRetryableFetchError(et){return isAuthError(et)&&et.name==="AuthRetryableFetchError"}var __rest$4=globalThis&&globalThis.__rest||function(et,tt){var rt={};for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&tt.indexOf(nt)<0&&(rt[nt]=et[nt]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,nt=Object.getOwnPropertySymbols(et);at<nt.length;at++)tt.indexOf(nt[at])<0&&Object.prototype.propertyIsEnumerable.call(et,nt[at])&&(rt[nt[at]]=et[nt[at]]);return rt};const _getErrorMessage=et=>et.msg||et.message||et.error_description||et.error||JSON.stringify(et),NETWORK_ERROR_CODES=[502,503,504];async function handleError(et){if(!looksLikeFetchResponse(et))throw new AuthRetryableFetchError(_getErrorMessage(et),0);if(NETWORK_ERROR_CODES.includes(et.status))throw new AuthRetryableFetchError(_getErrorMessage(et),et.status);let tt;try{tt=await et.json()}catch(rt){throw new AuthUnknownError(_getErrorMessage(rt),rt)}throw new AuthApiError(_getErrorMessage(tt),et.status||500)}const _getRequestParams=(et,tt,rt,nt)=>{const at={method:et,headers:(tt==null?void 0:tt.headers)||{}};return et==="GET"?at:(at.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},tt==null?void 0:tt.headers),at.body=JSON.stringify(nt),Object.assign(Object.assign({},at),rt))};async function _request(et,tt,rt,nt){var at;const it=Object.assign({},nt==null?void 0:nt.headers);nt!=null&&nt.jwt&&(it.Authorization=`Bearer ${nt.jwt}`);const st=(at=nt==null?void 0:nt.query)!==null&&at!==void 0?at:{};nt!=null&&nt.redirectTo&&(st.redirect_to=nt.redirectTo);const ot=Object.keys(st).length?"?"+new URLSearchParams(st).toString():"",lt=await _handleRequest(et,tt,rt+ot,{headers:it,noResolveJson:nt==null?void 0:nt.noResolveJson},{},nt==null?void 0:nt.body);return nt!=null&&nt.xform?nt==null?void 0:nt.xform(lt):{data:Object.assign({},lt),error:null}}async function _handleRequest(et,tt,rt,nt,at,it){const st=_getRequestParams(tt,nt,at,it);let ot;try{ot=await et(rt,st)}catch(lt){throw console.error(lt),new AuthRetryableFetchError(_getErrorMessage(lt),0)}if(ot.ok||await handleError(ot),nt!=null&&nt.noResolveJson)return ot;try{return await ot.json()}catch(lt){await handleError(lt)}}function _sessionResponse(et){var tt;let rt=null;hasSession(et)&&(rt=Object.assign({},et),rt.expires_at=expiresAt(et.expires_in));const nt=(tt=et.user)!==null&&tt!==void 0?tt:et;return{data:{session:rt,user:nt},error:null}}function _userResponse(et){var tt;return{data:{user:(tt=et.user)!==null&&tt!==void 0?tt:et},error:null}}function _ssoResponse(et){return{data:et,error:null}}function _generateLinkResponse(et){const{action_link:tt,email_otp:rt,hashed_token:nt,redirect_to:at,verification_type:it}=et,st=__rest$4(et,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),ot={action_link:tt,email_otp:rt,hashed_token:nt,redirect_to:at,verification_type:it},lt=Object.assign({},st);return{data:{properties:ot,user:lt},error:null}}function _noResolveJsonResponse(et){return et}function hasSession(et){return et.access_token&&et.refresh_token&&et.expires_in}var __rest$3=globalThis&&globalThis.__rest||function(et,tt){var rt={};for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&tt.indexOf(nt)<0&&(rt[nt]=et[nt]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,nt=Object.getOwnPropertySymbols(et);at<nt.length;at++)tt.indexOf(nt[at])<0&&Object.prototype.propertyIsEnumerable.call(et,nt[at])&&(rt[nt[at]]=et[nt[at]]);return rt};class GoTrueAdminApi{constructor({url:tt="",headers:rt={},fetch:nt}){this.url=tt,this.headers=rt,this.fetch=resolveFetch(nt),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(tt,rt="global"){try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${rt}`,{headers:this.headers,jwt:tt,noResolveJson:!0}),{data:null,error:null}}catch(nt){if(isAuthError(nt))return{data:null,error:nt};throw nt}}async inviteUserByEmail(tt,rt={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:tt,data:rt.data},headers:this.headers,redirectTo:rt.redirectTo,xform:_userResponse})}catch(nt){if(isAuthError(nt))return{data:{user:null},error:nt};throw nt}}async generateLink(tt){try{const{options:rt}=tt,nt=__rest$3(tt,["options"]),at=Object.assign(Object.assign({},nt),rt);return"newEmail"in nt&&(at.new_email=nt==null?void 0:nt.newEmail,delete at.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:at,headers:this.headers,xform:_generateLinkResponse,redirectTo:rt==null?void 0:rt.redirectTo})}catch(rt){if(isAuthError(rt))return{data:{properties:null,user:null},error:rt};throw rt}}async createUser(tt){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:tt,headers:this.headers,xform:_userResponse})}catch(rt){if(isAuthError(rt))return{data:{user:null},error:rt};throw rt}}async listUsers(tt){var rt,nt,at,it,st,ot,lt;try{const ct={nextPage:null,lastPage:0,total:0},ut=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(nt=(rt=tt==null?void 0:tt.page)===null||rt===void 0?void 0:rt.toString())!==null&&nt!==void 0?nt:"",per_page:(it=(at=tt==null?void 0:tt.perPage)===null||at===void 0?void 0:at.toString())!==null&&it!==void 0?it:""},xform:_noResolveJsonResponse});if(ut.error)throw ut.error;const dt=await ut.json(),ft=(st=ut.headers.get("x-total-count"))!==null&&st!==void 0?st:0,ht=(lt=(ot=ut.headers.get("link"))===null||ot===void 0?void 0:ot.split(","))!==null&&lt!==void 0?lt:[];return ht.length>0&&(ht.forEach(gt=>{const mt=parseInt(gt.split(";")[0].split("=")[1].substring(0,1)),xt=JSON.parse(gt.split(";")[1].split("=")[1]);ct[`${xt}Page`]=mt}),ct.total=parseInt(ft)),{data:Object.assign(Object.assign({},dt),ct),error:null}}catch(ct){if(isAuthError(ct))return{data:{users:[]},error:ct};throw ct}}async getUserById(tt){try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${tt}`,{headers:this.headers,xform:_userResponse})}catch(rt){if(isAuthError(rt))return{data:{user:null},error:rt};throw rt}}async updateUserById(tt,rt){try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${tt}`,{body:rt,headers:this.headers,xform:_userResponse})}catch(nt){if(isAuthError(nt))return{data:{user:null},error:nt};throw nt}}async deleteUser(tt,rt=!1){try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${tt}`,{headers:this.headers,body:{should_soft_delete:rt},xform:_userResponse})}catch(nt){if(isAuthError(nt))return{data:{user:null},error:nt};throw nt}}async _listFactors(tt){try{const{data:rt,error:nt}=await _request(this.fetch,"GET",`${this.url}/admin/users/${tt.userId}/factors`,{headers:this.headers,xform:at=>({data:{factors:at},error:null})});return{data:rt,error:nt}}catch(rt){if(isAuthError(rt))return{data:null,error:rt};throw rt}}async _deleteFactor(tt){try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${tt.userId}/factors/${tt.id}`,{headers:this.headers}),error:null}}catch(rt){if(isAuthError(rt))return{data:null,error:rt};throw rt}}}const version="2.43.1",GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS={"X-Client-Info":`gotrue-js/${version}`},EXPIRY_MARGIN=10,localStorageAdapter={getItem:et=>supportsLocalStorage()?globalThis.localStorage.getItem(et):null,setItem:(et,tt)=>{supportsLocalStorage()&&globalThis.localStorage.setItem(et,tt)},removeItem:et=>{supportsLocalStorage()&&globalThis.localStorage.removeItem(et)}};function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS,flowType:"implicit",debug:!1},AUTO_REFRESH_TICK_DURATION=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3;class GoTrueClient{constructor(tt){var rt;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null,this.instanceID=GoTrueClient.nextInstanceID,GoTrueClient.nextInstanceID+=1,this.instanceID>0&&isBrowser$2()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const nt=Object.assign(Object.assign({},DEFAULT_OPTIONS),tt);if(this.logDebugMessages=nt.debug,this.inMemorySession=null,this.storageKey=nt.storageKey,this.autoRefreshToken=nt.autoRefreshToken,this.persistSession=nt.persistSession,this.storage=nt.storage||localStorageAdapter,this.admin=new GoTrueAdminApi({url:nt.url,headers:nt.headers,fetch:nt.fetch}),this.url=nt.url,this.headers=nt.headers,this.fetch=resolveFetch(nt.fetch),this.detectSessionInUrl=nt.detectSessionInUrl,this.flowType=nt.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===localStorageAdapter&&!supportsLocalStorage()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),isBrowser$2()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(at){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",at)}(rt=this.broadcastChannel)===null||rt===void 0||rt.addEventListener("message",async at=>{this._debug("received broadcast notification from other tab or client",at),await this._notifyAllSubscribers(at.data.event,at.data.session,!1)})}this.initialize()}_debug(...tt){return this.logDebugMessages&&console.log(`GoTrueClient@${this.instanceID} ${new Date().toISOString()}`,...tt),this}initialize(){return this.initializePromise?this.initializePromise:this._initialize()}async _initialize(){if(this.initializePromise)throw new Error("Double call of #_initialize()");return this.initializePromise=stackGuard("_initialize",async()=>{try{const tt=isBrowser$2()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",tt),tt||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:rt,error:nt}=await this._getSessionFromUrl(tt);if(nt)return this._debug("#_initialize()","error detecting session from URL",nt),await this._removeSession(),{error:nt};const{session:at,redirectType:it}=rt;return this._debug("#_initialize()","detected session in URL",at,"redirect type",it),await this._saveSession(at),setTimeout(async()=>{it==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",at):await this._notifyAllSubscribers("SIGNED_IN",at)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(tt){return isAuthError(tt)?{error:tt}:{error:new AuthUnknownError("Unexpected error during initialization",tt)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}),await this.initializePromise}async signUp(tt){var rt,nt,at;try{await this._removeSession();let it;if("email"in tt){const{email:ut,password:dt,options:ft}=tt;let ht=null,gt=null;if(this.flowType==="pkce"){const mt=generatePKCEVerifier();await setItemAsync(this.storage,`${this.storageKey}-code-verifier`,mt),ht=await generatePKCEChallenge(mt),gt=mt===ht?"plain":"s256"}it=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:ft==null?void 0:ft.emailRedirectTo,body:{email:ut,password:dt,data:(rt=ft==null?void 0:ft.data)!==null&&rt!==void 0?rt:{},gotrue_meta_security:{captcha_token:ft==null?void 0:ft.captchaToken},code_challenge:ht,code_challenge_method:gt},xform:_sessionResponse})}else if("phone"in tt){const{phone:ut,password:dt,options:ft}=tt;it=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:ut,password:dt,data:(nt=ft==null?void 0:ft.data)!==null&&nt!==void 0?nt:{},channel:(at=ft==null?void 0:ft.channel)!==null&&at!==void 0?at:"sms",gotrue_meta_security:{captcha_token:ft==null?void 0:ft.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:st,error:ot}=it;if(ot||!st)return{data:{user:null,session:null},error:ot};const lt=st.session,ct=st.user;return st.session&&(await this._saveSession(st.session),await this._notifyAllSubscribers("SIGNED_IN",lt)),{data:{user:ct,session:lt},error:null}}catch(it){if(isAuthError(it))return{data:{user:null,session:null},error:it};throw it}}async signInWithPassword(tt){try{await this._removeSession();let rt;if("email"in tt){const{email:it,password:st,options:ot}=tt;rt=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:it,password:st,gotrue_meta_security:{captcha_token:ot==null?void 0:ot.captchaToken}},xform:_sessionResponse})}else if("phone"in tt){const{phone:it,password:st,options:ot}=tt;rt=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:it,password:st,gotrue_meta_security:{captcha_token:ot==null?void 0:ot.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:nt,error:at}=rt;return at?{data:{user:null,session:null},error:at}:!nt||!nt.session||!nt.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(nt.session&&(await this._saveSession(nt.session),await this._notifyAllSubscribers("SIGNED_IN",nt.session)),{data:{user:nt.user,session:nt.session},error:at})}catch(rt){if(isAuthError(rt))return{data:{user:null,session:null},error:rt};throw rt}}async signInWithOAuth(tt){var rt,nt,at,it;return await this._removeSession(),await this._handleProviderSignIn(tt.provider,{redirectTo:(rt=tt.options)===null||rt===void 0?void 0:rt.redirectTo,scopes:(nt=tt.options)===null||nt===void 0?void 0:nt.scopes,queryParams:(at=tt.options)===null||at===void 0?void 0:at.queryParams,skipBrowserRedirect:(it=tt.options)===null||it===void 0?void 0:it.skipBrowserRedirect})}async exchangeCodeForSession(tt){const rt=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),{data:nt,error:at}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:tt,code_verifier:rt},xform:_sessionResponse});return await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),at?{data:{user:null,session:null},error:at}:!nt||!nt.session||!nt.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(nt.session&&(await this._saveSession(nt.session),await this._notifyAllSubscribers("SIGNED_IN",nt.session)),{data:nt,error:at})}async signInWithIdToken(tt){await this._removeSession();try{const{options:rt,provider:nt,token:at,access_token:it,nonce:st}=tt,ot=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:nt,id_token:at,access_token:it,nonce:st,gotrue_meta_security:{captcha_token:rt==null?void 0:rt.captchaToken}},xform:_sessionResponse}),{data:lt,error:ct}=ot;return ct?{data:{user:null,session:null},error:ct}:!lt||!lt.session||!lt.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(lt.session&&(await this._saveSession(lt.session),await this._notifyAllSubscribers("SIGNED_IN",lt.session)),{data:lt,error:ct})}catch(rt){if(isAuthError(rt))return{data:{user:null,session:null},error:rt};throw rt}}async signInWithOtp(tt){var rt,nt,at,it,st;try{if(await this._removeSession(),"email"in tt){const{email:ot,options:lt}=tt;let ct=null,ut=null;if(this.flowType==="pkce"){const ft=generatePKCEVerifier();await setItemAsync(this.storage,`${this.storageKey}-code-verifier`,ft),ct=await generatePKCEChallenge(ft),ut=ft===ct?"plain":"s256"}const{error:dt}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:ot,data:(rt=lt==null?void 0:lt.data)!==null&&rt!==void 0?rt:{},create_user:(nt=lt==null?void 0:lt.shouldCreateUser)!==null&&nt!==void 0?nt:!0,gotrue_meta_security:{captcha_token:lt==null?void 0:lt.captchaToken},code_challenge:ct,code_challenge_method:ut},redirectTo:lt==null?void 0:lt.emailRedirectTo});return{data:{user:null,session:null},error:dt}}if("phone"in tt){const{phone:ot,options:lt}=tt,{data:ct,error:ut}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:ot,data:(at=lt==null?void 0:lt.data)!==null&&at!==void 0?at:{},create_user:(it=lt==null?void 0:lt.shouldCreateUser)!==null&&it!==void 0?it:!0,gotrue_meta_security:{captcha_token:lt==null?void 0:lt.captchaToken},channel:(st=lt==null?void 0:lt.channel)!==null&&st!==void 0?st:"sms"}});return{data:{user:null,session:null,messageId:ct==null?void 0:ct.message_id},error:ut}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(ot){if(isAuthError(ot))return{data:{user:null,session:null},error:ot};throw ot}}async verifyOtp(tt){var rt,nt;try{tt.type!=="email_change"&&tt.type!=="phone_change"&&await this._removeSession();const{data:at,error:it}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},tt),{gotrue_meta_security:{captcha_token:(rt=tt.options)===null||rt===void 0?void 0:rt.captchaToken}}),redirectTo:(nt=tt.options)===null||nt===void 0?void 0:nt.redirectTo,xform:_sessionResponse});if(it)throw it;if(!at)throw new Error("An error occurred on token verification.");const st=at.session,ot=at.user;return st!=null&&st.access_token&&(await this._saveSession(st),await this._notifyAllSubscribers("SIGNED_IN",st)),{data:{user:ot,session:st},error:null}}catch(at){if(isAuthError(at))return{data:{user:null,session:null},error:at};throw at}}async signInWithSSO(tt){var rt,nt,at;try{return await this._removeSession(),await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in tt?{provider_id:tt.providerId}:null),"domain"in tt?{domain:tt.domain}:null),{redirect_to:(nt=(rt=tt.options)===null||rt===void 0?void 0:rt.redirectTo)!==null&&nt!==void 0?nt:void 0}),!((at=tt==null?void 0:tt.options)===null||at===void 0)&&at.captchaToken?{gotrue_meta_security:{captcha_token:tt.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:_ssoResponse})}catch(it){if(isAuthError(it))return{data:null,error:it};throw it}}async reauthenticate(){try{return await this._useSession(async tt=>{const{data:{session:rt},error:nt}=tt;if(nt)throw nt;if(!rt)throw new AuthSessionMissingError;const{error:at}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:rt.access_token});return{data:{user:null,session:null},error:at}})}catch(tt){if(isAuthError(tt))return{data:{user:null,session:null},error:tt};throw tt}}async resend(tt){try{tt.type!="email_change"&&tt.type!="phone_change"&&await this._removeSession();const rt=`${this.url}/resend`;if("email"in tt){const{email:nt,type:at,options:it}=tt,{error:st}=await _request(this.fetch,"POST",rt,{headers:this.headers,body:{email:nt,type:at,gotrue_meta_security:{captcha_token:it==null?void 0:it.captchaToken}},redirectTo:it==null?void 0:it.emailRedirectTo});return{data:{user:null,session:null},error:st}}else if("phone"in tt){const{phone:nt,type:at,options:it}=tt,{data:st,error:ot}=await _request(this.fetch,"POST",rt,{headers:this.headers,body:{phone:nt,type:at,gotrue_meta_security:{captcha_token:it==null?void 0:it.captchaToken}}});return{data:{user:null,session:null,messageId:st==null?void 0:st.message_id},error:ot}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(rt){if(isAuthError(rt))return{data:{user:null,session:null},error:rt};throw rt}}async getSession(){return this._useSession(async tt=>tt)}async _useSession(tt){return await stackGuard("_useSession",async()=>{const rt=await this.__loadSession();return await tt(rt)})}async __loadSession(){if(this._debug("#__loadSession()","begin"),this.logDebugMessages&&!isInStackGuard("_useSession"))throw new Error("Please use #_useSession()");isInStackGuard("_initialize")||await this.initializePromise;try{let tt=null;if(this.persistSession){const it=await getItemAsync(this.storage,this.storageKey);this._debug("#getSession()","session from storage",it),it!==null&&(this._isValidSession(it)?tt=it:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession()))}else tt=this.inMemorySession,this._debug("#getSession()","session from memory",tt);if(!tt)return{data:{session:null},error:null};const rt=tt.expires_at?tt.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${rt?"":" not"} expired`,"expires_at",tt.expires_at),!rt)return{data:{session:tt},error:null};const{session:nt,error:at}=await this._callRefreshToken(tt.refresh_token);return at?{data:{session:null},error:at}:{data:{session:nt},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(tt){try{return await this._useSession(async rt=>{var nt,at;if(!tt){const{data:it,error:st}=rt;if(st)throw st;tt=(at=(nt=it.session)===null||nt===void 0?void 0:nt.access_token)!==null&&at!==void 0?at:void 0}return await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:tt,xform:_userResponse})})}catch(rt){if(isAuthError(rt))return{data:{user:null},error:rt};throw rt}}async updateUser(tt,rt={}){try{return await this._useSession(async nt=>{const{data:at,error:it}=nt;if(it)throw it;if(!at.session)throw new AuthSessionMissingError;const st=at.session,{data:ot,error:lt}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:rt==null?void 0:rt.emailRedirectTo,body:tt,jwt:st.access_token,xform:_userResponse});if(lt)throw lt;return st.user=ot.user,await this._saveSession(st),await this._notifyAllSubscribers("USER_UPDATED",st),{data:{user:st.user},error:null}})}catch(nt){if(isAuthError(nt))return{data:{user:null},error:nt};throw nt}}_decodeJWT(tt){return decodeJWTPayload(tt)}async setSession(tt){try{if(!tt.access_token||!tt.refresh_token)throw new AuthSessionMissingError;const rt=Date.now()/1e3;let nt=rt,at=!0,it=null;const st=decodeJWTPayload(tt.access_token);if(st.exp&&(nt=st.exp,at=nt<=rt),at){const{session:ot,error:lt}=await this._callRefreshToken(tt.refresh_token);if(lt)return{data:{user:null,session:null},error:lt};if(!ot)return{data:{user:null,session:null},error:null};it=ot}else{const{data:ot,error:lt}=await this.getUser(tt.access_token);if(lt)throw lt;it={access_token:tt.access_token,refresh_token:tt.refresh_token,user:ot.user,token_type:"bearer",expires_in:nt-rt,expires_at:nt},await this._saveSession(it),await this._notifyAllSubscribers("SIGNED_IN",it)}return{data:{user:it.user,session:it},error:null}}catch(rt){if(isAuthError(rt))return{data:{session:null,user:null},error:rt};throw rt}}async refreshSession(tt){try{return await this._useSession(async rt=>{var nt;if(!tt){const{data:st,error:ot}=rt;if(ot)throw ot;tt=(nt=st.session)!==null&&nt!==void 0?nt:void 0}if(!(tt!=null&&tt.refresh_token))throw new AuthSessionMissingError;const{session:at,error:it}=await this._callRefreshToken(tt.refresh_token);return it?{data:{user:null,session:null},error:it}:at?{data:{user:at.user,session:at},error:null}:{data:{user:null,session:null},error:null}})}catch(rt){if(isAuthError(rt))return{data:{user:null,session:null},error:rt};throw rt}}async _getSessionFromUrl(tt){try{if(!isBrowser$2())throw new AuthImplicitGrantRedirectError("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!tt)throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");if(tt){const xt=getParameterByName("code");if(!xt)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:vt,error:_t}=await this.exchangeCodeForSession(xt);if(_t)throw _t;if(!vt.session)throw new AuthPKCEGrantCodeExchangeError("No session detected.");let yt=new URL(window.location.href);return yt.searchParams.delete("code"),window.history.replaceState(window.history.state,"",yt.toString()),{data:{session:vt.session,redirectType:null},error:null}}const rt=getParameterByName("error_description");if(rt){const xt=getParameterByName("error_code");if(!xt)throw new AuthImplicitGrantRedirectError("No error_code detected.");const vt=getParameterByName("error");throw vt?new AuthImplicitGrantRedirectError(rt,{error:vt,code:xt}):new AuthImplicitGrantRedirectError("No error detected.")}const nt=getParameterByName("provider_token"),at=getParameterByName("provider_refresh_token"),it=getParameterByName("access_token");if(!it)throw new AuthImplicitGrantRedirectError("No access_token detected.");const st=getParameterByName("expires_in");if(!st)throw new AuthImplicitGrantRedirectError("No expires_in detected.");const ot=getParameterByName("refresh_token");if(!ot)throw new AuthImplicitGrantRedirectError("No refresh_token detected.");const lt=getParameterByName("token_type");if(!lt)throw new AuthImplicitGrantRedirectError("No token_type detected.");const ut=Math.round(Date.now()/1e3)+parseInt(st),{data:dt,error:ft}=await this.getUser(it);if(ft)throw ft;const ht=dt.user,gt={provider_token:nt,provider_refresh_token:at,access_token:it,expires_in:parseInt(st),expires_at:ut,refresh_token:ot,token_type:lt,user:ht},mt=getParameterByName("type");return window.location.hash="",this._debug("#_getSessionFromUrl()","clearing window.location.hash"),{data:{session:gt,redirectType:mt},error:null}}catch(rt){if(isAuthError(rt))return{data:{session:null,redirectType:null},error:rt};throw rt}}_isImplicitGrantFlow(){return isBrowser$2()&&(!!getParameterByName("access_token")||!!getParameterByName("error_description"))}async _isPKCEFlow(){const tt=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!getParameterByName("code")&&!!tt}async signOut({scope:tt}={scope:"global"}){return await this._useSession(async rt=>{var nt;const{data:at,error:it}=rt;if(it)return{error:it};const st=(nt=at.session)===null||nt===void 0?void 0:nt.access_token;if(st){const{error:ot}=await this.admin.signOut(st,tt);if(ot&&!(isAuthApiError(ot)&&(ot.status===404||ot.status===401)))return{error:ot}}return tt!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(tt){const rt=uuid(),nt={id:rt,callback:tt,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",rt),this.stateChangeEmitters.delete(rt)}};return this._debug("#onAuthStateChange()","registered callback with id",rt),this.stateChangeEmitters.set(rt,nt),this._emitInitialSession(rt),{data:{subscription:nt}}}async _emitInitialSession(tt){return await this._useSession(async rt=>{var nt,at;try{const{data:{session:it},error:st}=rt;if(st)throw st;await((nt=this.stateChangeEmitters.get(tt))===null||nt===void 0?void 0:nt.callback("INITIAL_SESSION",it)),this._debug("INITIAL_SESSION","callback id",tt,"session",it)}catch(it){await((at=this.stateChangeEmitters.get(tt))===null||at===void 0?void 0:at.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",tt,"error",it),console.error(it)}})}async resetPasswordForEmail(tt,rt={}){let nt=null,at=null;if(this.flowType==="pkce"){const it=generatePKCEVerifier();await setItemAsync(this.storage,`${this.storageKey}-code-verifier`,it),nt=await generatePKCEChallenge(it),at=it===nt?"plain":"s256"}try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:tt,code_challenge:nt,code_challenge_method:at,gotrue_meta_security:{captcha_token:rt.captchaToken}},headers:this.headers,redirectTo:rt.redirectTo})}catch(it){if(isAuthError(it))return{data:null,error:it};throw it}}async _refreshAccessToken(tt){const rt=`#_refreshAccessToken(${tt.substring(0,5)}...)`;this._debug(rt,"begin");try{const nt=Date.now();return await retryable(async at=>(await sleep(at*200),this._debug(rt,"refreshing attempt",at),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:tt},headers:this.headers,xform:_sessionResponse})),(at,it,st)=>st&&st.error&&isAuthRetryableFetchError(st.error)&&Date.now()+(at+1)*200-nt<AUTO_REFRESH_TICK_DURATION)}catch(nt){if(this._debug(rt,"error",nt),isAuthError(nt))return{data:{session:null,user:null},error:nt};throw nt}finally{this._debug(rt,"end")}}_isValidSession(tt){return typeof tt=="object"&&tt!==null&&"access_token"in tt&&"refresh_token"in tt&&"expires_at"in tt}async _handleProviderSignIn(tt,rt){const nt=await this._getUrlForProvider(tt,{redirectTo:rt.redirectTo,scopes:rt.scopes,queryParams:rt.queryParams});return this._debug("#_handleProviderSignIn()","provider",tt,"options",rt,"url",nt),isBrowser$2()&&!rt.skipBrowserRedirect&&window.location.assign(nt),{data:{provider:tt,url:nt},error:null}}async _recoverAndRefresh(){var tt;const rt="#_recoverAndRefresh()";this._debug(rt,"begin");try{const nt=await getItemAsync(this.storage,this.storageKey);if(this._debug(rt,"session from storage",nt),!this._isValidSession(nt)){this._debug(rt,"session is not valid"),nt!==null&&await this._removeSession();return}const at=Math.round(Date.now()/1e3),it=((tt=nt.expires_at)!==null&&tt!==void 0?tt:1/0)<at+EXPIRY_MARGIN;if(this._debug(rt,`session has${it?"":" not"} expired with margin of ${EXPIRY_MARGIN}s`),it){if(this.autoRefreshToken&&nt.refresh_token){const{error:st}=await this._callRefreshToken(nt.refresh_token);st&&(console.error(st),isAuthRetryableFetchError(st)||(this._debug(rt,"refresh failed with a non-retryable error, removing the session",st),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",nt)}catch(nt){this._debug(rt,"error",nt),console.error(nt);return}finally{this._debug(rt,"end")}}async _callRefreshToken(tt){var rt,nt;if(!tt)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const at=`#_callRefreshToken(${tt.substring(0,5)}...)`;this._debug(at,"begin");try{this.refreshingDeferred=new Deferred;const{data:it,error:st}=await this._refreshAccessToken(tt);if(st)throw st;if(!it.session)throw new AuthSessionMissingError;await this._saveSession(it.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",it.session);const ot={session:it.session,error:null};return this.refreshingDeferred.resolve(ot),ot}catch(it){if(this._debug(at,"error",it),isAuthError(it)){const st={session:null,error:it};return(rt=this.refreshingDeferred)===null||rt===void 0||rt.resolve(st),st}throw(nt=this.refreshingDeferred)===null||nt===void 0||nt.reject(it),it}finally{this.refreshingDeferred=null,this._debug(at,"end")}}async _notifyAllSubscribers(tt,rt,nt=!0){const at=`#_notifyAllSubscribers(${tt})`;this._debug(at,"begin",rt,`broadcast = ${nt}`);try{this.broadcastChannel&&nt&&this.broadcastChannel.postMessage({event:tt,session:rt});const it=[],st=Array.from(this.stateChangeEmitters.values()).map(async ot=>{try{await ot.callback(tt,rt)}catch(lt){it.push(lt)}});if(await Promise.all(st),it.length>0){for(let ot=0;ot<it.length;ot+=1)console.error(it[ot]);throw it[0]}}finally{this._debug(at,"end")}}async _saveSession(tt){this._debug("#_saveSession()",tt),this.persistSession||(this.inMemorySession=tt),this.persistSession&&tt.expires_at&&await this._persistSession(tt)}_persistSession(tt){return this._debug("#_persistSession()",tt),setItemAsync(this.storage,this.storageKey,tt)}async _removeSession(){this._debug("#_removeSession()"),this.persistSession?await removeItemAsync(this.storage,this.storageKey):this.inMemorySession=null}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const tt=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{tt&&isBrowser$2()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",tt)}catch(rt){console.error("removing visibilitychange callback failed",rt)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const tt=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION);this.autoRefreshTicker=tt,tt&&typeof tt=="object"&&typeof tt.unref=="function"?tt.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(tt),await this._autoRefreshTokenTick()}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const tt=this.autoRefreshTicker;this.autoRefreshTicker=null,tt&&clearInterval(tt)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{const tt=Date.now();try{return await this._useSession(async rt=>{const{data:{session:nt}}=rt;if(!nt||!nt.refresh_token||!nt.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const at=Math.floor((nt.expires_at*1e3-tt)/AUTO_REFRESH_TICK_DURATION);this._debug("#_autoRefreshTokenTick()",`access token expires in ${at} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),at<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(nt.refresh_token)})}catch(rt){console.error("Auto refresh tick failed with error. This is likely a transient error.",rt)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser$2()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(tt){console.error("_handleVisibilityChange",tt)}}async _onVisibilityChanged(tt){this._debug(`#_onVisibilityChanged(${tt})`,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(tt||(await this.initializePromise,await this._recoverAndRefresh(),this._debug("#_onVisibilityChanged()","finished waiting for initialize, _recoverAndRefresh")),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(tt,rt){const nt=[`provider=${encodeURIComponent(tt)}`];if(rt!=null&&rt.redirectTo&&nt.push(`redirect_to=${encodeURIComponent(rt.redirectTo)}`),rt!=null&&rt.scopes&&nt.push(`scopes=${encodeURIComponent(rt.scopes)}`),this.flowType==="pkce"){const at=generatePKCEVerifier();await setItemAsync(this.storage,`${this.storageKey}-code-verifier`,at);const it=await generatePKCEChallenge(at),st=at===it?"plain":"s256";this._debug("PKCE","code verifier",`${at.substring(0,5)}...`,"code challenge",it,"method",st);const ot=new URLSearchParams({code_challenge:`${encodeURIComponent(it)}`,code_challenge_method:`${encodeURIComponent(st)}`});nt.push(ot.toString())}if(rt!=null&&rt.queryParams){const at=new URLSearchParams(rt.queryParams);nt.push(at.toString())}return`${this.url}/authorize?${nt.join("&")}`}async _unenroll(tt){try{return await this._useSession(async rt=>{var nt;const{data:at,error:it}=rt;return it?{data:null,error:it}:await _request(this.fetch,"DELETE",`${this.url}/factors/${tt.factorId}`,{headers:this.headers,jwt:(nt=at==null?void 0:at.session)===null||nt===void 0?void 0:nt.access_token})})}catch(rt){if(isAuthError(rt))return{data:null,error:rt};throw rt}}async _enroll(tt){try{return await this._useSession(async rt=>{var nt,at;const{data:it,error:st}=rt;if(st)return{data:null,error:st};const{data:ot,error:lt}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:tt.friendlyName,factor_type:tt.factorType,issuer:tt.issuer},headers:this.headers,jwt:(nt=it==null?void 0:it.session)===null||nt===void 0?void 0:nt.access_token});return lt?{data:null,error:lt}:(!((at=ot==null?void 0:ot.totp)===null||at===void 0)&&at.qr_code&&(ot.totp.qr_code=`data:image/svg+xml;utf-8,${ot.totp.qr_code}`),{data:ot,error:null})})}catch(rt){if(isAuthError(rt))return{data:null,error:rt};throw rt}}async _verify(tt){try{return await this._useSession(async rt=>{var nt;const{data:at,error:it}=rt;if(it)return{data:null,error:it};const{data:st,error:ot}=await _request(this.fetch,"POST",`${this.url}/factors/${tt.factorId}/verify`,{body:{code:tt.code,challenge_id:tt.challengeId},headers:this.headers,jwt:(nt=at==null?void 0:at.session)===null||nt===void 0?void 0:nt.access_token});return ot?{data:null,error:ot}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+st.expires_in},st)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",st),{data:st,error:ot})})}catch(rt){if(isAuthError(rt))return{data:null,error:rt};throw rt}}async _challenge(tt){try{return await this._useSession(async rt=>{var nt;const{data:at,error:it}=rt;return it?{data:null,error:it}:await _request(this.fetch,"POST",`${this.url}/factors/${tt.factorId}/challenge`,{headers:this.headers,jwt:(nt=at==null?void 0:at.session)===null||nt===void 0?void 0:nt.access_token})})}catch(rt){if(isAuthError(rt))return{data:null,error:rt};throw rt}}async _challengeAndVerify(tt){const{data:rt,error:nt}=await this._challenge({factorId:tt.factorId});return nt?{data:null,error:nt}:await this._verify({factorId:tt.factorId,challengeId:rt.id,code:tt.code})}async _listFactors(){const{data:{user:tt},error:rt}=await this.getUser();if(rt)return{data:null,error:rt};const nt=(tt==null?void 0:tt.factors)||[],at=nt.filter(it=>it.factor_type==="totp"&&it.status==="verified");return{data:{all:nt,totp:at},error:null}}async _getAuthenticatorAssuranceLevel(){return await this._useSession(async tt=>{var rt,nt;const{data:{session:at},error:it}=tt;if(it)return{data:null,error:it};if(!at)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const st=this._decodeJWT(at.access_token);let ot=null;st.aal&&(ot=st.aal);let lt=ot;((nt=(rt=at.user.factors)===null||rt===void 0?void 0:rt.filter(dt=>dt.status==="verified"))!==null&&nt!==void 0?nt:[]).length>0&&(lt="aal2");const ut=st.amr||[];return{data:{currentLevel:ot,nextLevel:lt,currentAuthenticationMethods:ut},error:null}})}}GoTrueClient.nextInstanceID=0;class SupabaseAuthClient extends GoTrueClient{constructor(tt){super(tt)}}var __awaiter$2=globalThis&&globalThis.__awaiter||function(et,tt,rt,nt){function at(it){return it instanceof rt?it:new rt(function(st){st(it)})}return new(rt||(rt=Promise))(function(it,st){function ot(ut){try{ct(nt.next(ut))}catch(dt){st(dt)}}function lt(ut){try{ct(nt.throw(ut))}catch(dt){st(dt)}}function ct(ut){ut.done?it(ut.value):at(ut.value).then(ot,lt)}ct((nt=nt.apply(et,tt||[])).next())})};const DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS$1},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={};class SupabaseClient{constructor(tt,rt,nt){var at,it,st,ot,lt,ct,ut,dt;if(this.supabaseUrl=tt,this.supabaseKey=rt,!tt)throw new Error("supabaseUrl is required.");if(!rt)throw new Error("supabaseKey is required.");const ft=stripTrailingSlash(tt);this.realtimeUrl=`${ft}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${ft}/auth/v1`,this.storageUrl=`${ft}/storage/v1`,this.functionsUrl=`${ft}/functions/v1`;const ht=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,gt={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},DEFAULT_AUTH_OPTIONS),{storageKey:ht}),global:DEFAULT_GLOBAL_OPTIONS},mt=applySettingDefaults(nt??{},gt);this.storageKey=(it=(at=mt.auth)===null||at===void 0?void 0:at.storageKey)!==null&&it!==void 0?it:"",this.headers=(ot=(st=mt.global)===null||st===void 0?void 0:st.headers)!==null&&ot!==void 0?ot:{},this.auth=this._initSupabaseAuthClient((lt=mt.auth)!==null&&lt!==void 0?lt:{},this.headers,(ct=mt.global)===null||ct===void 0?void 0:ct.fetch),this.fetch=fetchWithAuth(rt,this._getAccessToken.bind(this),(ut=mt.global)===null||ut===void 0?void 0:ut.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},mt.realtime)),this.rest=new PostgrestClient(`${ft}/rest/v1`,{headers:this.headers,schema:(dt=mt.db)===null||dt===void 0?void 0:dt.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new StorageClient(this.storageUrl,this.headers,this.fetch)}from(tt){return this.rest.from(tt)}rpc(tt,rt={},nt){return this.rest.rpc(tt,rt,nt)}channel(tt,rt={config:{}}){return this.realtime.channel(tt,rt)}getChannels(){return this.realtime.getChannels()}removeChannel(tt){return this.realtime.removeChannel(tt)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var tt,rt;return __awaiter$2(this,void 0,void 0,function*(){const{data:nt}=yield this.auth.getSession();return(rt=(tt=nt.session)===null||tt===void 0?void 0:tt.access_token)!==null&&rt!==void 0?rt:null})}_initSupabaseAuthClient({autoRefreshToken:tt,persistSession:rt,detectSessionInUrl:nt,storage:at,storageKey:it,flowType:st,debug:ot},lt,ct){const ut={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl,headers:Object.assign(Object.assign({},ut),lt),storageKey:it,autoRefreshToken:tt,persistSession:rt,detectSessionInUrl:nt,storage:at,flowType:st,debug:ot,fetch:ct})}_initRealtimeClient(tt){return new RealtimeClient(this.realtimeUrl,Object.assign(Object.assign({},tt),{params:Object.assign({apikey:this.supabaseKey},tt==null?void 0:tt.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((rt,nt)=>{this._handleTokenChanged(rt,"CLIENT",nt==null?void 0:nt.access_token)})}_handleTokenChanged(tt,rt,nt){(tt==="TOKEN_REFRESHED"||tt==="SIGNED_IN")&&this.changedAccessToken!==nt?(this.realtime.setAuth(nt??null),this.changedAccessToken=nt):tt==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),rt=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const createClient=(et,tt,rt)=>new SupabaseClient(et,tt,rt),supabaseUrl="https://hawojxoxgwofsoejakrb.supabase.co",supabaseAnonKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhhd29qeG94Z3dvZnNvZWpha3JiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAwNDQ3NjcsImV4cCI6MjA2NTYyMDc2N30.-SHVByUscunxtmXygDdCEsKon236BWx1LmzTowaY80U",supabase=createClient(supabaseUrl,supabaseAnonKey);function toDate(et){const tt=Object.prototype.toString.call(et);return et instanceof Date||typeof et=="object"&&tt==="[object Date]"?new et.constructor(+et):typeof et=="number"||tt==="[object Number]"||typeof et=="string"||tt==="[object String]"?new Date(et):new Date(NaN)}function constructFrom(et,tt){return et instanceof Date?new et.constructor(tt):new Date(tt)}function addDays(et,tt){const rt=toDate(et);return isNaN(tt)?constructFrom(et,NaN):(tt&&rt.setDate(rt.getDate()+tt),rt)}function addMonths(et,tt){const rt=toDate(et);if(isNaN(tt))return constructFrom(et,NaN);if(!tt)return rt;const nt=rt.getDate(),at=constructFrom(et,rt.getTime());at.setMonth(rt.getMonth()+tt+1,0);const it=at.getDate();return nt>=it?at:(rt.setFullYear(at.getFullYear(),at.getMonth(),nt),rt)}const millisecondsInWeek=6048e5,millisecondsInDay=864e5,millisecondsInMinute=6e4,millisecondsInHour=36e5,millisecondsInSecond=1e3;let defaultOptions={};function getDefaultOptions$1(){return defaultOptions}function startOfWeek(et,tt){var ot,lt,ct,ut;const rt=getDefaultOptions$1(),nt=(tt==null?void 0:tt.weekStartsOn)??((lt=(ot=tt==null?void 0:tt.locale)==null?void 0:ot.options)==null?void 0:lt.weekStartsOn)??rt.weekStartsOn??((ut=(ct=rt.locale)==null?void 0:ct.options)==null?void 0:ut.weekStartsOn)??0,at=toDate(et),it=at.getDay(),st=(it<nt?7:0)+it-nt;return at.setDate(at.getDate()-st),at.setHours(0,0,0,0),at}function startOfISOWeek(et){return startOfWeek(et,{weekStartsOn:1})}function getISOWeekYear(et){const tt=toDate(et),rt=tt.getFullYear(),nt=constructFrom(et,0);nt.setFullYear(rt+1,0,4),nt.setHours(0,0,0,0);const at=startOfISOWeek(nt),it=constructFrom(et,0);it.setFullYear(rt,0,4),it.setHours(0,0,0,0);const st=startOfISOWeek(it);return tt.getTime()>=at.getTime()?rt+1:tt.getTime()>=st.getTime()?rt:rt-1}function startOfDay(et){const tt=toDate(et);return tt.setHours(0,0,0,0),tt}function getTimezoneOffsetInMilliseconds(et){const tt=toDate(et),rt=new Date(Date.UTC(tt.getFullYear(),tt.getMonth(),tt.getDate(),tt.getHours(),tt.getMinutes(),tt.getSeconds(),tt.getMilliseconds()));return rt.setUTCFullYear(tt.getFullYear()),+et-+rt}function differenceInCalendarDays(et,tt){const rt=startOfDay(et),nt=startOfDay(tt),at=+rt-getTimezoneOffsetInMilliseconds(rt),it=+nt-getTimezoneOffsetInMilliseconds(nt);return Math.round((at-it)/millisecondsInDay)}function startOfISOWeekYear(et){const tt=getISOWeekYear(et),rt=constructFrom(et,0);return rt.setFullYear(tt,0,4),rt.setHours(0,0,0,0),startOfISOWeek(rt)}function addYears(et,tt){return addMonths(et,tt*12)}function compareAsc(et,tt){const rt=toDate(et),nt=toDate(tt),at=rt.getTime()-nt.getTime();return at<0?-1:at>0?1:at}function isDate(et){return et instanceof Date||typeof et=="object"&&Object.prototype.toString.call(et)==="[object Date]"}function isValid(et){if(!isDate(et)&&typeof et!="number")return!1;const tt=toDate(et);return!isNaN(Number(tt))}function differenceInCalendarMonths(et,tt){const rt=toDate(et),nt=toDate(tt),at=rt.getFullYear()-nt.getFullYear(),it=rt.getMonth()-nt.getMonth();return at*12+it}function differenceInCalendarYears(et,tt){const rt=toDate(et),nt=toDate(tt);return rt.getFullYear()-nt.getFullYear()}function differenceInDays(et,tt){const rt=toDate(et),nt=toDate(tt),at=compareLocalAsc(rt,nt),it=Math.abs(differenceInCalendarDays(rt,nt));rt.setDate(rt.getDate()-at*it);const st=+(compareLocalAsc(rt,nt)===-at),ot=at*(it-st);return ot===0?0:ot}function compareLocalAsc(et,tt){const rt=et.getFullYear()-tt.getFullYear()||et.getMonth()-tt.getMonth()||et.getDate()-tt.getDate()||et.getHours()-tt.getHours()||et.getMinutes()-tt.getMinutes()||et.getSeconds()-tt.getSeconds()||et.getMilliseconds()-tt.getMilliseconds();return rt<0?-1:rt>0?1:rt}function endOfDay(et){const tt=toDate(et);return tt.setHours(23,59,59,999),tt}function endOfMonth(et){const tt=toDate(et),rt=tt.getMonth();return tt.setFullYear(tt.getFullYear(),rt+1,0),tt.setHours(23,59,59,999),tt}function isLastDayOfMonth(et){const tt=toDate(et);return+endOfDay(tt)==+endOfMonth(tt)}function differenceInMonths(et,tt){const rt=toDate(et),nt=toDate(tt),at=compareAsc(rt,nt),it=Math.abs(differenceInCalendarMonths(rt,nt));let st;if(it<1)st=0;else{rt.getMonth()===1&&rt.getDate()>27&&rt.setDate(30),rt.setMonth(rt.getMonth()-at*it);let ot=compareAsc(rt,nt)===-at;isLastDayOfMonth(toDate(et))&&it===1&&compareAsc(et,nt)===1&&(ot=!1),st=at*(it-Number(ot))}return st===0?0:st}function differenceInYears(et,tt){const rt=toDate(et),nt=toDate(tt),at=compareAsc(rt,nt),it=Math.abs(differenceInCalendarYears(rt,nt));rt.setFullYear(1584),nt.setFullYear(1584);const st=compareAsc(rt,nt)===-at,ot=at*(it-+st);return ot===0?0:ot}function startOfYear(et){const tt=toDate(et),rt=constructFrom(et,0);return rt.setFullYear(tt.getFullYear(),0,1),rt.setHours(0,0,0,0),rt}const formatDistanceLocale$1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance$1=(et,tt,rt)=>{let nt;const at=formatDistanceLocale$1[et];return typeof at=="string"?nt=at:tt===1?nt=at.one:nt=at.other.replace("{{count}}",tt.toString()),rt!=null&&rt.addSuffix?rt.comparison&&rt.comparison>0?"in "+nt:nt+" ago":nt};function buildFormatLongFn(et){return(tt={})=>{const rt=tt.width?String(tt.width):et.defaultWidth;return et.formats[rt]||et.formats[et.defaultWidth]}}const dateFormats$1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats$1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats$1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong$1={date:buildFormatLongFn({formats:dateFormats$1,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats$1,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats$1,defaultWidth:"full"})},formatRelativeLocale$1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative$1=(et,tt,rt,nt)=>formatRelativeLocale$1[et];function buildLocalizeFn(et){return(tt,rt)=>{const nt=rt!=null&&rt.context?String(rt.context):"standalone";let at;if(nt==="formatting"&&et.formattingValues){const st=et.defaultFormattingWidth||et.defaultWidth,ot=rt!=null&&rt.width?String(rt.width):st;at=et.formattingValues[ot]||et.formattingValues[st]}else{const st=et.defaultWidth,ot=rt!=null&&rt.width?String(rt.width):et.defaultWidth;at=et.values[ot]||et.values[st]}const it=et.argumentCallback?et.argumentCallback(tt):tt;return at[it]}}const eraValues$1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues$1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues$1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues$1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber$1=(et,tt)=>{const rt=Number(et),nt=rt%100;if(nt>20||nt<10)switch(nt%10){case 1:return rt+"st";case 2:return rt+"nd";case 3:return rt+"rd"}return rt+"th"},localize$1={ordinalNumber:ordinalNumber$1,era:buildLocalizeFn({values:eraValues$1,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues$1,defaultWidth:"wide",argumentCallback:et=>et-1}),month:buildLocalizeFn({values:monthValues$1,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues$1,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues$1,defaultWidth:"wide",formattingValues:formattingDayPeriodValues$1,defaultFormattingWidth:"wide"})};function buildMatchFn(et){return(tt,rt={})=>{const nt=rt.width,at=nt&&et.matchPatterns[nt]||et.matchPatterns[et.defaultMatchWidth],it=tt.match(at);if(!it)return null;const st=it[0],ot=nt&&et.parsePatterns[nt]||et.parsePatterns[et.defaultParseWidth],lt=Array.isArray(ot)?findIndex(ot,dt=>dt.test(st)):findKey(ot,dt=>dt.test(st));let ct;ct=et.valueCallback?et.valueCallback(lt):lt,ct=rt.valueCallback?rt.valueCallback(ct):ct;const ut=tt.slice(st.length);return{value:ct,rest:ut}}}function findKey(et,tt){for(const rt in et)if(Object.prototype.hasOwnProperty.call(et,rt)&&tt(et[rt]))return rt}function findIndex(et,tt){for(let rt=0;rt<et.length;rt++)if(tt(et[rt]))return rt}function buildMatchPatternFn(et){return(tt,rt={})=>{const nt=tt.match(et.matchPattern);if(!nt)return null;const at=nt[0],it=tt.match(et.parsePattern);if(!it)return null;let st=et.valueCallback?et.valueCallback(it[0]):it[0];st=rt.valueCallback?rt.valueCallback(st):st;const ot=tt.slice(at.length);return{value:st,rest:ot}}}const matchOrdinalNumberPattern$1=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern$1=/\d+/i,matchEraPatterns$1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns$1={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns$1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns$1={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns$1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns$1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns$1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns$1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns$1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns$1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match$1={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern$1,parsePattern:parseOrdinalNumberPattern$1,valueCallback:et=>parseInt(et,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns$1,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns$1,defaultParseWidth:"any",valueCallback:et=>et+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns$1,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns$1,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns$1,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns$1,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear(et){const tt=toDate(et);return differenceInCalendarDays(tt,startOfYear(tt))+1}function getISOWeek(et){const tt=toDate(et),rt=+startOfISOWeek(tt)-+startOfISOWeekYear(tt);return Math.round(rt/millisecondsInWeek)+1}function getWeekYear(et,tt){var ut,dt,ft,ht;const rt=toDate(et),nt=rt.getFullYear(),at=getDefaultOptions$1(),it=(tt==null?void 0:tt.firstWeekContainsDate)??((dt=(ut=tt==null?void 0:tt.locale)==null?void 0:ut.options)==null?void 0:dt.firstWeekContainsDate)??at.firstWeekContainsDate??((ht=(ft=at.locale)==null?void 0:ft.options)==null?void 0:ht.firstWeekContainsDate)??1,st=constructFrom(et,0);st.setFullYear(nt+1,0,it),st.setHours(0,0,0,0);const ot=startOfWeek(st,tt),lt=constructFrom(et,0);lt.setFullYear(nt,0,it),lt.setHours(0,0,0,0);const ct=startOfWeek(lt,tt);return rt.getTime()>=ot.getTime()?nt+1:rt.getTime()>=ct.getTime()?nt:nt-1}function startOfWeekYear(et,tt){var ot,lt,ct,ut;const rt=getDefaultOptions$1(),nt=(tt==null?void 0:tt.firstWeekContainsDate)??((lt=(ot=tt==null?void 0:tt.locale)==null?void 0:ot.options)==null?void 0:lt.firstWeekContainsDate)??rt.firstWeekContainsDate??((ut=(ct=rt.locale)==null?void 0:ct.options)==null?void 0:ut.firstWeekContainsDate)??1,at=getWeekYear(et,tt),it=constructFrom(et,0);return it.setFullYear(at,0,nt),it.setHours(0,0,0,0),startOfWeek(it,tt)}function getWeek(et,tt){const rt=toDate(et),nt=+startOfWeek(rt,tt)-+startOfWeekYear(rt,tt);return Math.round(nt/millisecondsInWeek)+1}function addLeadingZeros(et,tt){const rt=et<0?"-":"",nt=Math.abs(et).toString().padStart(tt,"0");return rt+nt}const lightFormatters={y(et,tt){const rt=et.getFullYear(),nt=rt>0?rt:1-rt;return addLeadingZeros(tt==="yy"?nt%100:nt,tt.length)},M(et,tt){const rt=et.getMonth();return tt==="M"?String(rt+1):addLeadingZeros(rt+1,2)},d(et,tt){return addLeadingZeros(et.getDate(),tt.length)},a(et,tt){const rt=et.getHours()/12>=1?"pm":"am";switch(tt){case"a":case"aa":return rt.toUpperCase();case"aaa":return rt;case"aaaaa":return rt[0];case"aaaa":default:return rt==="am"?"a.m.":"p.m."}},h(et,tt){return addLeadingZeros(et.getHours()%12||12,tt.length)},H(et,tt){return addLeadingZeros(et.getHours(),tt.length)},m(et,tt){return addLeadingZeros(et.getMinutes(),tt.length)},s(et,tt){return addLeadingZeros(et.getSeconds(),tt.length)},S(et,tt){const rt=tt.length,nt=et.getMilliseconds(),at=Math.trunc(nt*Math.pow(10,rt-3));return addLeadingZeros(at,tt.length)}},dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(et,tt,rt){const nt=et.getFullYear()>0?1:0;switch(tt){case"G":case"GG":case"GGG":return rt.era(nt,{width:"abbreviated"});case"GGGGG":return rt.era(nt,{width:"narrow"});case"GGGG":default:return rt.era(nt,{width:"wide"})}},y:function(et,tt,rt){if(tt==="yo"){const nt=et.getFullYear(),at=nt>0?nt:1-nt;return rt.ordinalNumber(at,{unit:"year"})}return lightFormatters.y(et,tt)},Y:function(et,tt,rt,nt){const at=getWeekYear(et,nt),it=at>0?at:1-at;if(tt==="YY"){const st=it%100;return addLeadingZeros(st,2)}return tt==="Yo"?rt.ordinalNumber(it,{unit:"year"}):addLeadingZeros(it,tt.length)},R:function(et,tt){const rt=getISOWeekYear(et);return addLeadingZeros(rt,tt.length)},u:function(et,tt){const rt=et.getFullYear();return addLeadingZeros(rt,tt.length)},Q:function(et,tt,rt){const nt=Math.ceil((et.getMonth()+1)/3);switch(tt){case"Q":return String(nt);case"QQ":return addLeadingZeros(nt,2);case"Qo":return rt.ordinalNumber(nt,{unit:"quarter"});case"QQQ":return rt.quarter(nt,{width:"abbreviated",context:"formatting"});case"QQQQQ":return rt.quarter(nt,{width:"narrow",context:"formatting"});case"QQQQ":default:return rt.quarter(nt,{width:"wide",context:"formatting"})}},q:function(et,tt,rt){const nt=Math.ceil((et.getMonth()+1)/3);switch(tt){case"q":return String(nt);case"qq":return addLeadingZeros(nt,2);case"qo":return rt.ordinalNumber(nt,{unit:"quarter"});case"qqq":return rt.quarter(nt,{width:"abbreviated",context:"standalone"});case"qqqqq":return rt.quarter(nt,{width:"narrow",context:"standalone"});case"qqqq":default:return rt.quarter(nt,{width:"wide",context:"standalone"})}},M:function(et,tt,rt){const nt=et.getMonth();switch(tt){case"M":case"MM":return lightFormatters.M(et,tt);case"Mo":return rt.ordinalNumber(nt+1,{unit:"month"});case"MMM":return rt.month(nt,{width:"abbreviated",context:"formatting"});case"MMMMM":return rt.month(nt,{width:"narrow",context:"formatting"});case"MMMM":default:return rt.month(nt,{width:"wide",context:"formatting"})}},L:function(et,tt,rt){const nt=et.getMonth();switch(tt){case"L":return String(nt+1);case"LL":return addLeadingZeros(nt+1,2);case"Lo":return rt.ordinalNumber(nt+1,{unit:"month"});case"LLL":return rt.month(nt,{width:"abbreviated",context:"standalone"});case"LLLLL":return rt.month(nt,{width:"narrow",context:"standalone"});case"LLLL":default:return rt.month(nt,{width:"wide",context:"standalone"})}},w:function(et,tt,rt,nt){const at=getWeek(et,nt);return tt==="wo"?rt.ordinalNumber(at,{unit:"week"}):addLeadingZeros(at,tt.length)},I:function(et,tt,rt){const nt=getISOWeek(et);return tt==="Io"?rt.ordinalNumber(nt,{unit:"week"}):addLeadingZeros(nt,tt.length)},d:function(et,tt,rt){return tt==="do"?rt.ordinalNumber(et.getDate(),{unit:"date"}):lightFormatters.d(et,tt)},D:function(et,tt,rt){const nt=getDayOfYear(et);return tt==="Do"?rt.ordinalNumber(nt,{unit:"dayOfYear"}):addLeadingZeros(nt,tt.length)},E:function(et,tt,rt){const nt=et.getDay();switch(tt){case"E":case"EE":case"EEE":return rt.day(nt,{width:"abbreviated",context:"formatting"});case"EEEEE":return rt.day(nt,{width:"narrow",context:"formatting"});case"EEEEEE":return rt.day(nt,{width:"short",context:"formatting"});case"EEEE":default:return rt.day(nt,{width:"wide",context:"formatting"})}},e:function(et,tt,rt,nt){const at=et.getDay(),it=(at-nt.weekStartsOn+8)%7||7;switch(tt){case"e":return String(it);case"ee":return addLeadingZeros(it,2);case"eo":return rt.ordinalNumber(it,{unit:"day"});case"eee":return rt.day(at,{width:"abbreviated",context:"formatting"});case"eeeee":return rt.day(at,{width:"narrow",context:"formatting"});case"eeeeee":return rt.day(at,{width:"short",context:"formatting"});case"eeee":default:return rt.day(at,{width:"wide",context:"formatting"})}},c:function(et,tt,rt,nt){const at=et.getDay(),it=(at-nt.weekStartsOn+8)%7||7;switch(tt){case"c":return String(it);case"cc":return addLeadingZeros(it,tt.length);case"co":return rt.ordinalNumber(it,{unit:"day"});case"ccc":return rt.day(at,{width:"abbreviated",context:"standalone"});case"ccccc":return rt.day(at,{width:"narrow",context:"standalone"});case"cccccc":return rt.day(at,{width:"short",context:"standalone"});case"cccc":default:return rt.day(at,{width:"wide",context:"standalone"})}},i:function(et,tt,rt){const nt=et.getDay(),at=nt===0?7:nt;switch(tt){case"i":return String(at);case"ii":return addLeadingZeros(at,tt.length);case"io":return rt.ordinalNumber(at,{unit:"day"});case"iii":return rt.day(nt,{width:"abbreviated",context:"formatting"});case"iiiii":return rt.day(nt,{width:"narrow",context:"formatting"});case"iiiiii":return rt.day(nt,{width:"short",context:"formatting"});case"iiii":default:return rt.day(nt,{width:"wide",context:"formatting"})}},a:function(et,tt,rt){const at=et.getHours()/12>=1?"pm":"am";switch(tt){case"a":case"aa":return rt.dayPeriod(at,{width:"abbreviated",context:"formatting"});case"aaa":return rt.dayPeriod(at,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return rt.dayPeriod(at,{width:"narrow",context:"formatting"});case"aaaa":default:return rt.dayPeriod(at,{width:"wide",context:"formatting"})}},b:function(et,tt,rt){const nt=et.getHours();let at;switch(nt===12?at=dayPeriodEnum.noon:nt===0?at=dayPeriodEnum.midnight:at=nt/12>=1?"pm":"am",tt){case"b":case"bb":return rt.dayPeriod(at,{width:"abbreviated",context:"formatting"});case"bbb":return rt.dayPeriod(at,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return rt.dayPeriod(at,{width:"narrow",context:"formatting"});case"bbbb":default:return rt.dayPeriod(at,{width:"wide",context:"formatting"})}},B:function(et,tt,rt){const nt=et.getHours();let at;switch(nt>=17?at=dayPeriodEnum.evening:nt>=12?at=dayPeriodEnum.afternoon:nt>=4?at=dayPeriodEnum.morning:at=dayPeriodEnum.night,tt){case"B":case"BB":case"BBB":return rt.dayPeriod(at,{width:"abbreviated",context:"formatting"});case"BBBBB":return rt.dayPeriod(at,{width:"narrow",context:"formatting"});case"BBBB":default:return rt.dayPeriod(at,{width:"wide",context:"formatting"})}},h:function(et,tt,rt){if(tt==="ho"){let nt=et.getHours()%12;return nt===0&&(nt=12),rt.ordinalNumber(nt,{unit:"hour"})}return lightFormatters.h(et,tt)},H:function(et,tt,rt){return tt==="Ho"?rt.ordinalNumber(et.getHours(),{unit:"hour"}):lightFormatters.H(et,tt)},K:function(et,tt,rt){const nt=et.getHours()%12;return tt==="Ko"?rt.ordinalNumber(nt,{unit:"hour"}):addLeadingZeros(nt,tt.length)},k:function(et,tt,rt){let nt=et.getHours();return nt===0&&(nt=24),tt==="ko"?rt.ordinalNumber(nt,{unit:"hour"}):addLeadingZeros(nt,tt.length)},m:function(et,tt,rt){return tt==="mo"?rt.ordinalNumber(et.getMinutes(),{unit:"minute"}):lightFormatters.m(et,tt)},s:function(et,tt,rt){return tt==="so"?rt.ordinalNumber(et.getSeconds(),{unit:"second"}):lightFormatters.s(et,tt)},S:function(et,tt){return lightFormatters.S(et,tt)},X:function(et,tt,rt){const nt=et.getTimezoneOffset();if(nt===0)return"Z";switch(tt){case"X":return formatTimezoneWithOptionalMinutes(nt);case"XXXX":case"XX":return formatTimezone(nt);case"XXXXX":case"XXX":default:return formatTimezone(nt,":")}},x:function(et,tt,rt){const nt=et.getTimezoneOffset();switch(tt){case"x":return formatTimezoneWithOptionalMinutes(nt);case"xxxx":case"xx":return formatTimezone(nt);case"xxxxx":case"xxx":default:return formatTimezone(nt,":")}},O:function(et,tt,rt){const nt=et.getTimezoneOffset();switch(tt){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(nt,":");case"OOOO":default:return"GMT"+formatTimezone(nt,":")}},z:function(et,tt,rt){const nt=et.getTimezoneOffset();switch(tt){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(nt,":");case"zzzz":default:return"GMT"+formatTimezone(nt,":")}},t:function(et,tt,rt){const nt=Math.trunc(et.getTime()/1e3);return addLeadingZeros(nt,tt.length)},T:function(et,tt,rt){const nt=et.getTime();return addLeadingZeros(nt,tt.length)}};function formatTimezoneShort(et,tt=""){const rt=et>0?"-":"+",nt=Math.abs(et),at=Math.trunc(nt/60),it=nt%60;return it===0?rt+String(at):rt+String(at)+tt+addLeadingZeros(it,2)}function formatTimezoneWithOptionalMinutes(et,tt){return et%60===0?(et>0?"-":"+")+addLeadingZeros(Math.abs(et)/60,2):formatTimezone(et,tt)}function formatTimezone(et,tt=""){const rt=et>0?"-":"+",nt=Math.abs(et),at=addLeadingZeros(Math.trunc(nt/60),2),it=addLeadingZeros(nt%60,2);return rt+at+tt+it}const dateLongFormatter=(et,tt)=>{switch(et){case"P":return tt.date({width:"short"});case"PP":return tt.date({width:"medium"});case"PPP":return tt.date({width:"long"});case"PPPP":default:return tt.date({width:"full"})}},timeLongFormatter=(et,tt)=>{switch(et){case"p":return tt.time({width:"short"});case"pp":return tt.time({width:"medium"});case"ppp":return tt.time({width:"long"});case"pppp":default:return tt.time({width:"full"})}},dateTimeLongFormatter=(et,tt)=>{const rt=et.match(/(P+)(p+)?/)||[],nt=rt[1],at=rt[2];if(!at)return dateLongFormatter(et,tt);let it;switch(nt){case"P":it=tt.dateTime({width:"short"});break;case"PP":it=tt.dateTime({width:"medium"});break;case"PPP":it=tt.dateTime({width:"long"});break;case"PPPP":default:it=tt.dateTime({width:"full"});break}return it.replace("{{date}}",dateLongFormatter(nt,tt)).replace("{{time}}",timeLongFormatter(at,tt))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(et){return dayOfYearTokenRE.test(et)}function isProtectedWeekYearToken(et){return weekYearTokenRE.test(et)}function warnOrThrowProtectedError(et,tt,rt){const nt=message(et,tt,rt);if(console.warn(nt),throwTokens.includes(et))throw new RangeError(nt)}function message(et,tt,rt){const nt=et[0]==="Y"?"years":"days of the month";return`Use \`${et.toLowerCase()}\` instead of \`${et}\` (in \`${tt}\`) for formatting ${nt} to the input \`${rt}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp$1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp$1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp$1=/^'([^]*?)'?$/,doubleQuoteRegExp$1=/''/g,unescapedLatinCharacterRegExp$1=/[a-zA-Z]/;function format$1(et,tt,rt){var ut,dt,ft,ht,gt,mt,xt,vt;const nt=getDefaultOptions$1(),at=(rt==null?void 0:rt.locale)??nt.locale??enUS,it=(rt==null?void 0:rt.firstWeekContainsDate)??((dt=(ut=rt==null?void 0:rt.locale)==null?void 0:ut.options)==null?void 0:dt.firstWeekContainsDate)??nt.firstWeekContainsDate??((ht=(ft=nt.locale)==null?void 0:ft.options)==null?void 0:ht.firstWeekContainsDate)??1,st=(rt==null?void 0:rt.weekStartsOn)??((mt=(gt=rt==null?void 0:rt.locale)==null?void 0:gt.options)==null?void 0:mt.weekStartsOn)??nt.weekStartsOn??((vt=(xt=nt.locale)==null?void 0:xt.options)==null?void 0:vt.weekStartsOn)??0,ot=toDate(et);if(!isValid(ot))throw new RangeError("Invalid time value");let lt=tt.match(longFormattingTokensRegExp$1).map(_t=>{const yt=_t[0];if(yt==="p"||yt==="P"){const St=longFormatters[yt];return St(_t,at.formatLong)}return _t}).join("").match(formattingTokensRegExp$1).map(_t=>{if(_t==="''")return{isToken:!1,value:"'"};const yt=_t[0];if(yt==="'")return{isToken:!1,value:cleanEscapedString$1(_t)};if(formatters[yt])return{isToken:!0,value:_t};if(yt.match(unescapedLatinCharacterRegExp$1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+yt+"`");return{isToken:!1,value:_t}});at.localize.preprocessor&&(lt=at.localize.preprocessor(ot,lt));const ct={firstWeekContainsDate:it,weekStartsOn:st,locale:at};return lt.map(_t=>{if(!_t.isToken)return _t.value;const yt=_t.value;(!(rt!=null&&rt.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(yt)||!(rt!=null&&rt.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(yt))&&warnOrThrowProtectedError(yt,tt,String(et));const St=formatters[yt[0]];return St(ot,yt,at.localize,ct)}).join("")}function cleanEscapedString$1(et){const tt=et.match(escapedStringRegExp$1);return tt?tt[1].replace(doubleQuoteRegExp$1,"'"):et}function getDate(et){return toDate(et).getDate()}function getDefaultOptions(){return Object.assign({},getDefaultOptions$1())}function getISODay(et){let rt=toDate(et).getDay();return rt===0&&(rt=7),rt}function getMonth(et){return toDate(et).getMonth()}function isAfter(et,tt){const rt=toDate(et),nt=toDate(tt);return rt.getTime()>nt.getTime()}function transpose(et,tt){const rt=tt instanceof Date?constructFrom(tt,0):new tt(0);return rt.setFullYear(et.getFullYear(),et.getMonth(),et.getDate()),rt.setHours(et.getHours(),et.getMinutes(),et.getSeconds(),et.getMilliseconds()),rt}const TIMEZONE_UNIT_PRIORITY=10;class Setter{constructor(){tn(this,"subPriority",0)}validate(tt,rt){return!0}}class ValueSetter extends Setter{constructor(tt,rt,nt,at,it){super(),this.value=tt,this.validateValue=rt,this.setValue=nt,this.priority=at,it&&(this.subPriority=it)}validate(tt,rt){return this.validateValue(tt,this.value,rt)}set(tt,rt,nt){return this.setValue(tt,rt,this.value,nt)}}class DateToSystemTimezoneSetter extends Setter{constructor(){super(...arguments);tn(this,"priority",TIMEZONE_UNIT_PRIORITY);tn(this,"subPriority",-1)}set(rt,nt){return nt.timestampIsSet?rt:constructFrom(rt,transpose(rt,Date))}}class Parser{run(tt,rt,nt,at){const it=this.parse(tt,rt,nt,at);return it?{setter:new ValueSetter(it.value,this.validate,this.set,this.priority,this.subPriority),rest:it.rest}:null}validate(tt,rt,nt){return!0}}class EraParser extends Parser{constructor(){super(...arguments);tn(this,"priority",140);tn(this,"incompatibleTokens",["R","u","t","T"])}parse(rt,nt,at){switch(nt){case"G":case"GG":case"GGG":return at.era(rt,{width:"abbreviated"})||at.era(rt,{width:"narrow"});case"GGGGG":return at.era(rt,{width:"narrow"});case"GGGG":default:return at.era(rt,{width:"wide"})||at.era(rt,{width:"abbreviated"})||at.era(rt,{width:"narrow"})}}set(rt,nt,at){return nt.era=at,rt.setFullYear(at,0,1),rt.setHours(0,0,0,0),rt}}const numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function mapValue(et,tt){return et&&{value:tt(et.value),rest:et.rest}}function parseNumericPattern(et,tt){const rt=tt.match(et);return rt?{value:parseInt(rt[0],10),rest:tt.slice(rt[0].length)}:null}function parseTimezonePattern(et,tt){const rt=tt.match(et);if(!rt)return null;if(rt[0]==="Z")return{value:0,rest:tt.slice(1)};const nt=rt[1]==="+"?1:-1,at=rt[2]?parseInt(rt[2],10):0,it=rt[3]?parseInt(rt[3],10):0,st=rt[5]?parseInt(rt[5],10):0;return{value:nt*(at*millisecondsInHour+it*millisecondsInMinute+st*millisecondsInSecond),rest:tt.slice(rt[0].length)}}function parseAnyDigitsSigned(et){return parseNumericPattern(numericPatterns.anyDigitsSigned,et)}function parseNDigits(et,tt){switch(et){case 1:return parseNumericPattern(numericPatterns.singleDigit,tt);case 2:return parseNumericPattern(numericPatterns.twoDigits,tt);case 3:return parseNumericPattern(numericPatterns.threeDigits,tt);case 4:return parseNumericPattern(numericPatterns.fourDigits,tt);default:return parseNumericPattern(new RegExp("^\\d{1,"+et+"}"),tt)}}function parseNDigitsSigned(et,tt){switch(et){case 1:return parseNumericPattern(numericPatterns.singleDigitSigned,tt);case 2:return parseNumericPattern(numericPatterns.twoDigitsSigned,tt);case 3:return parseNumericPattern(numericPatterns.threeDigitsSigned,tt);case 4:return parseNumericPattern(numericPatterns.fourDigitsSigned,tt);default:return parseNumericPattern(new RegExp("^-?\\d{1,"+et+"}"),tt)}}function dayPeriodEnumToHours(et){switch(et){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function normalizeTwoDigitYear(et,tt){const rt=tt>0,nt=rt?tt:1-tt;let at;if(nt<=50)at=et||100;else{const it=nt+50,st=Math.trunc(it/100)*100,ot=et>=it%100;at=et+st-(ot?100:0)}return rt?at:1-at}function isLeapYearIndex$1(et){return et%400===0||et%4===0&&et%100!==0}class YearParser extends Parser{constructor(){super(...arguments);tn(this,"priority",130);tn(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(rt,nt,at){const it=st=>({year:st,isTwoDigitYear:nt==="yy"});switch(nt){case"y":return mapValue(parseNDigits(4,rt),it);case"yo":return mapValue(at.ordinalNumber(rt,{unit:"year"}),it);default:return mapValue(parseNDigits(nt.length,rt),it)}}validate(rt,nt){return nt.isTwoDigitYear||nt.year>0}set(rt,nt,at){const it=rt.getFullYear();if(at.isTwoDigitYear){const ot=normalizeTwoDigitYear(at.year,it);return rt.setFullYear(ot,0,1),rt.setHours(0,0,0,0),rt}const st=!("era"in nt)||nt.era===1?at.year:1-at.year;return rt.setFullYear(st,0,1),rt.setHours(0,0,0,0),rt}}class LocalWeekYearParser extends Parser{constructor(){super(...arguments);tn(this,"priority",130);tn(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(rt,nt,at){const it=st=>({year:st,isTwoDigitYear:nt==="YY"});switch(nt){case"Y":return mapValue(parseNDigits(4,rt),it);case"Yo":return mapValue(at.ordinalNumber(rt,{unit:"year"}),it);default:return mapValue(parseNDigits(nt.length,rt),it)}}validate(rt,nt){return nt.isTwoDigitYear||nt.year>0}set(rt,nt,at,it){const st=getWeekYear(rt,it);if(at.isTwoDigitYear){const lt=normalizeTwoDigitYear(at.year,st);return rt.setFullYear(lt,0,it.firstWeekContainsDate),rt.setHours(0,0,0,0),startOfWeek(rt,it)}const ot=!("era"in nt)||nt.era===1?at.year:1-at.year;return rt.setFullYear(ot,0,it.firstWeekContainsDate),rt.setHours(0,0,0,0),startOfWeek(rt,it)}}class ISOWeekYearParser extends Parser{constructor(){super(...arguments);tn(this,"priority",130);tn(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(rt,nt){return parseNDigitsSigned(nt==="R"?4:nt.length,rt)}set(rt,nt,at){const it=constructFrom(rt,0);return it.setFullYear(at,0,4),it.setHours(0,0,0,0),startOfISOWeek(it)}}class ExtendedYearParser extends Parser{constructor(){super(...arguments);tn(this,"priority",130);tn(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(rt,nt){return parseNDigitsSigned(nt==="u"?4:nt.length,rt)}set(rt,nt,at){return rt.setFullYear(at,0,1),rt.setHours(0,0,0,0),rt}}class QuarterParser extends Parser{constructor(){super(...arguments);tn(this,"priority",120);tn(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(rt,nt,at){switch(nt){case"Q":case"QQ":return parseNDigits(nt.length,rt);case"Qo":return at.ordinalNumber(rt,{unit:"quarter"});case"QQQ":return at.quarter(rt,{width:"abbreviated",context:"formatting"})||at.quarter(rt,{width:"narrow",context:"formatting"});case"QQQQQ":return at.quarter(rt,{width:"narrow",context:"formatting"});case"QQQQ":default:return at.quarter(rt,{width:"wide",context:"formatting"})||at.quarter(rt,{width:"abbreviated",context:"formatting"})||at.quarter(rt,{width:"narrow",context:"formatting"})}}validate(rt,nt){return nt>=1&&nt<=4}set(rt,nt,at){return rt.setMonth((at-1)*3,1),rt.setHours(0,0,0,0),rt}}class StandAloneQuarterParser extends Parser{constructor(){super(...arguments);tn(this,"priority",120);tn(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(rt,nt,at){switch(nt){case"q":case"qq":return parseNDigits(nt.length,rt);case"qo":return at.ordinalNumber(rt,{unit:"quarter"});case"qqq":return at.quarter(rt,{width:"abbreviated",context:"standalone"})||at.quarter(rt,{width:"narrow",context:"standalone"});case"qqqqq":return at.quarter(rt,{width:"narrow",context:"standalone"});case"qqqq":default:return at.quarter(rt,{width:"wide",context:"standalone"})||at.quarter(rt,{width:"abbreviated",context:"standalone"})||at.quarter(rt,{width:"narrow",context:"standalone"})}}validate(rt,nt){return nt>=1&&nt<=4}set(rt,nt,at){return rt.setMonth((at-1)*3,1),rt.setHours(0,0,0,0),rt}}class MonthParser extends Parser{constructor(){super(...arguments);tn(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);tn(this,"priority",110)}parse(rt,nt,at){const it=st=>st-1;switch(nt){case"M":return mapValue(parseNumericPattern(numericPatterns.month,rt),it);case"MM":return mapValue(parseNDigits(2,rt),it);case"Mo":return mapValue(at.ordinalNumber(rt,{unit:"month"}),it);case"MMM":return at.month(rt,{width:"abbreviated",context:"formatting"})||at.month(rt,{width:"narrow",context:"formatting"});case"MMMMM":return at.month(rt,{width:"narrow",context:"formatting"});case"MMMM":default:return at.month(rt,{width:"wide",context:"formatting"})||at.month(rt,{width:"abbreviated",context:"formatting"})||at.month(rt,{width:"narrow",context:"formatting"})}}validate(rt,nt){return nt>=0&&nt<=11}set(rt,nt,at){return rt.setMonth(at,1),rt.setHours(0,0,0,0),rt}}class StandAloneMonthParser extends Parser{constructor(){super(...arguments);tn(this,"priority",110);tn(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(rt,nt,at){const it=st=>st-1;switch(nt){case"L":return mapValue(parseNumericPattern(numericPatterns.month,rt),it);case"LL":return mapValue(parseNDigits(2,rt),it);case"Lo":return mapValue(at.ordinalNumber(rt,{unit:"month"}),it);case"LLL":return at.month(rt,{width:"abbreviated",context:"standalone"})||at.month(rt,{width:"narrow",context:"standalone"});case"LLLLL":return at.month(rt,{width:"narrow",context:"standalone"});case"LLLL":default:return at.month(rt,{width:"wide",context:"standalone"})||at.month(rt,{width:"abbreviated",context:"standalone"})||at.month(rt,{width:"narrow",context:"standalone"})}}validate(rt,nt){return nt>=0&&nt<=11}set(rt,nt,at){return rt.setMonth(at,1),rt.setHours(0,0,0,0),rt}}function setWeek(et,tt,rt){const nt=toDate(et),at=getWeek(nt,rt)-tt;return nt.setDate(nt.getDate()-at*7),nt}class LocalWeekParser extends Parser{constructor(){super(...arguments);tn(this,"priority",100);tn(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(rt,nt,at){switch(nt){case"w":return parseNumericPattern(numericPatterns.week,rt);case"wo":return at.ordinalNumber(rt,{unit:"week"});default:return parseNDigits(nt.length,rt)}}validate(rt,nt){return nt>=1&&nt<=53}set(rt,nt,at,it){return startOfWeek(setWeek(rt,at,it),it)}}function setISOWeek(et,tt){const rt=toDate(et),nt=getISOWeek(rt)-tt;return rt.setDate(rt.getDate()-nt*7),rt}class ISOWeekParser extends Parser{constructor(){super(...arguments);tn(this,"priority",100);tn(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(rt,nt,at){switch(nt){case"I":return parseNumericPattern(numericPatterns.week,rt);case"Io":return at.ordinalNumber(rt,{unit:"week"});default:return parseNDigits(nt.length,rt)}}validate(rt,nt){return nt>=1&&nt<=53}set(rt,nt,at){return startOfISOWeek(setISOWeek(rt,at))}}const DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],DAYS_IN_MONTH_LEAP_YEAR=[31,29,31,30,31,30,31,31,30,31,30,31];class DateParser extends Parser{constructor(){super(...arguments);tn(this,"priority",90);tn(this,"subPriority",1);tn(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(rt,nt,at){switch(nt){case"d":return parseNumericPattern(numericPatterns.date,rt);case"do":return at.ordinalNumber(rt,{unit:"date"});default:return parseNDigits(nt.length,rt)}}validate(rt,nt){const at=rt.getFullYear(),it=isLeapYearIndex$1(at),st=rt.getMonth();return it?nt>=1&&nt<=DAYS_IN_MONTH_LEAP_YEAR[st]:nt>=1&&nt<=DAYS_IN_MONTH[st]}set(rt,nt,at){return rt.setDate(at),rt.setHours(0,0,0,0),rt}}class DayOfYearParser extends Parser{constructor(){super(...arguments);tn(this,"priority",90);tn(this,"subpriority",1);tn(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(rt,nt,at){switch(nt){case"D":case"DD":return parseNumericPattern(numericPatterns.dayOfYear,rt);case"Do":return at.ordinalNumber(rt,{unit:"date"});default:return parseNDigits(nt.length,rt)}}validate(rt,nt){const at=rt.getFullYear();return isLeapYearIndex$1(at)?nt>=1&&nt<=366:nt>=1&&nt<=365}set(rt,nt,at){return rt.setMonth(0,at),rt.setHours(0,0,0,0),rt}}function setDay(et,tt,rt){var dt,ft,ht,gt;const nt=getDefaultOptions$1(),at=(rt==null?void 0:rt.weekStartsOn)??((ft=(dt=rt==null?void 0:rt.locale)==null?void 0:dt.options)==null?void 0:ft.weekStartsOn)??nt.weekStartsOn??((gt=(ht=nt.locale)==null?void 0:ht.options)==null?void 0:gt.weekStartsOn)??0,it=toDate(et),st=it.getDay(),lt=(tt%7+7)%7,ct=7-at,ut=tt<0||tt>6?tt-(st+ct)%7:(lt+ct)%7-(st+ct)%7;return addDays(it,ut)}class DayParser extends Parser{constructor(){super(...arguments);tn(this,"priority",90);tn(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(rt,nt,at){switch(nt){case"E":case"EE":case"EEE":return at.day(rt,{width:"abbreviated",context:"formatting"})||at.day(rt,{width:"short",context:"formatting"})||at.day(rt,{width:"narrow",context:"formatting"});case"EEEEE":return at.day(rt,{width:"narrow",context:"formatting"});case"EEEEEE":return at.day(rt,{width:"short",context:"formatting"})||at.day(rt,{width:"narrow",context:"formatting"});case"EEEE":default:return at.day(rt,{width:"wide",context:"formatting"})||at.day(rt,{width:"abbreviated",context:"formatting"})||at.day(rt,{width:"short",context:"formatting"})||at.day(rt,{width:"narrow",context:"formatting"})}}validate(rt,nt){return nt>=0&&nt<=6}set(rt,nt,at,it){return rt=setDay(rt,at,it),rt.setHours(0,0,0,0),rt}}class LocalDayParser extends Parser{constructor(){super(...arguments);tn(this,"priority",90);tn(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(rt,nt,at,it){const st=ot=>{const lt=Math.floor((ot-1)/7)*7;return(ot+it.weekStartsOn+6)%7+lt};switch(nt){case"e":case"ee":return mapValue(parseNDigits(nt.length,rt),st);case"eo":return mapValue(at.ordinalNumber(rt,{unit:"day"}),st);case"eee":return at.day(rt,{width:"abbreviated",context:"formatting"})||at.day(rt,{width:"short",context:"formatting"})||at.day(rt,{width:"narrow",context:"formatting"});case"eeeee":return at.day(rt,{width:"narrow",context:"formatting"});case"eeeeee":return at.day(rt,{width:"short",context:"formatting"})||at.day(rt,{width:"narrow",context:"formatting"});case"eeee":default:return at.day(rt,{width:"wide",context:"formatting"})||at.day(rt,{width:"abbreviated",context:"formatting"})||at.day(rt,{width:"short",context:"formatting"})||at.day(rt,{width:"narrow",context:"formatting"})}}validate(rt,nt){return nt>=0&&nt<=6}set(rt,nt,at,it){return rt=setDay(rt,at,it),rt.setHours(0,0,0,0),rt}}class StandAloneLocalDayParser extends Parser{constructor(){super(...arguments);tn(this,"priority",90);tn(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(rt,nt,at,it){const st=ot=>{const lt=Math.floor((ot-1)/7)*7;return(ot+it.weekStartsOn+6)%7+lt};switch(nt){case"c":case"cc":return mapValue(parseNDigits(nt.length,rt),st);case"co":return mapValue(at.ordinalNumber(rt,{unit:"day"}),st);case"ccc":return at.day(rt,{width:"abbreviated",context:"standalone"})||at.day(rt,{width:"short",context:"standalone"})||at.day(rt,{width:"narrow",context:"standalone"});case"ccccc":return at.day(rt,{width:"narrow",context:"standalone"});case"cccccc":return at.day(rt,{width:"short",context:"standalone"})||at.day(rt,{width:"narrow",context:"standalone"});case"cccc":default:return at.day(rt,{width:"wide",context:"standalone"})||at.day(rt,{width:"abbreviated",context:"standalone"})||at.day(rt,{width:"short",context:"standalone"})||at.day(rt,{width:"narrow",context:"standalone"})}}validate(rt,nt){return nt>=0&&nt<=6}set(rt,nt,at,it){return rt=setDay(rt,at,it),rt.setHours(0,0,0,0),rt}}function setISODay(et,tt){const rt=toDate(et),nt=getISODay(rt),at=tt-nt;return addDays(rt,at)}class ISODayParser extends Parser{constructor(){super(...arguments);tn(this,"priority",90);tn(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(rt,nt,at){const it=st=>st===0?7:st;switch(nt){case"i":case"ii":return parseNDigits(nt.length,rt);case"io":return at.ordinalNumber(rt,{unit:"day"});case"iii":return mapValue(at.day(rt,{width:"abbreviated",context:"formatting"})||at.day(rt,{width:"short",context:"formatting"})||at.day(rt,{width:"narrow",context:"formatting"}),it);case"iiiii":return mapValue(at.day(rt,{width:"narrow",context:"formatting"}),it);case"iiiiii":return mapValue(at.day(rt,{width:"short",context:"formatting"})||at.day(rt,{width:"narrow",context:"formatting"}),it);case"iiii":default:return mapValue(at.day(rt,{width:"wide",context:"formatting"})||at.day(rt,{width:"abbreviated",context:"formatting"})||at.day(rt,{width:"short",context:"formatting"})||at.day(rt,{width:"narrow",context:"formatting"}),it)}}validate(rt,nt){return nt>=1&&nt<=7}set(rt,nt,at){return rt=setISODay(rt,at),rt.setHours(0,0,0,0),rt}}class AMPMParser extends Parser{constructor(){super(...arguments);tn(this,"priority",80);tn(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(rt,nt,at){switch(nt){case"a":case"aa":case"aaa":return at.dayPeriod(rt,{width:"abbreviated",context:"formatting"})||at.dayPeriod(rt,{width:"narrow",context:"formatting"});case"aaaaa":return at.dayPeriod(rt,{width:"narrow",context:"formatting"});case"aaaa":default:return at.dayPeriod(rt,{width:"wide",context:"formatting"})||at.dayPeriod(rt,{width:"abbreviated",context:"formatting"})||at.dayPeriod(rt,{width:"narrow",context:"formatting"})}}set(rt,nt,at){return rt.setHours(dayPeriodEnumToHours(at),0,0,0),rt}}class AMPMMidnightParser extends Parser{constructor(){super(...arguments);tn(this,"priority",80);tn(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(rt,nt,at){switch(nt){case"b":case"bb":case"bbb":return at.dayPeriod(rt,{width:"abbreviated",context:"formatting"})||at.dayPeriod(rt,{width:"narrow",context:"formatting"});case"bbbbb":return at.dayPeriod(rt,{width:"narrow",context:"formatting"});case"bbbb":default:return at.dayPeriod(rt,{width:"wide",context:"formatting"})||at.dayPeriod(rt,{width:"abbreviated",context:"formatting"})||at.dayPeriod(rt,{width:"narrow",context:"formatting"})}}set(rt,nt,at){return rt.setHours(dayPeriodEnumToHours(at),0,0,0),rt}}class DayPeriodParser extends Parser{constructor(){super(...arguments);tn(this,"priority",80);tn(this,"incompatibleTokens",["a","b","t","T"])}parse(rt,nt,at){switch(nt){case"B":case"BB":case"BBB":return at.dayPeriod(rt,{width:"abbreviated",context:"formatting"})||at.dayPeriod(rt,{width:"narrow",context:"formatting"});case"BBBBB":return at.dayPeriod(rt,{width:"narrow",context:"formatting"});case"BBBB":default:return at.dayPeriod(rt,{width:"wide",context:"formatting"})||at.dayPeriod(rt,{width:"abbreviated",context:"formatting"})||at.dayPeriod(rt,{width:"narrow",context:"formatting"})}}set(rt,nt,at){return rt.setHours(dayPeriodEnumToHours(at),0,0,0),rt}}class Hour1to12Parser extends Parser{constructor(){super(...arguments);tn(this,"priority",70);tn(this,"incompatibleTokens",["H","K","k","t","T"])}parse(rt,nt,at){switch(nt){case"h":return parseNumericPattern(numericPatterns.hour12h,rt);case"ho":return at.ordinalNumber(rt,{unit:"hour"});default:return parseNDigits(nt.length,rt)}}validate(rt,nt){return nt>=1&&nt<=12}set(rt,nt,at){const it=rt.getHours()>=12;return it&&at<12?rt.setHours(at+12,0,0,0):!it&&at===12?rt.setHours(0,0,0,0):rt.setHours(at,0,0,0),rt}}class Hour0to23Parser extends Parser{constructor(){super(...arguments);tn(this,"priority",70);tn(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(rt,nt,at){switch(nt){case"H":return parseNumericPattern(numericPatterns.hour23h,rt);case"Ho":return at.ordinalNumber(rt,{unit:"hour"});default:return parseNDigits(nt.length,rt)}}validate(rt,nt){return nt>=0&&nt<=23}set(rt,nt,at){return rt.setHours(at,0,0,0),rt}}class Hour0To11Parser extends Parser{constructor(){super(...arguments);tn(this,"priority",70);tn(this,"incompatibleTokens",["h","H","k","t","T"])}parse(rt,nt,at){switch(nt){case"K":return parseNumericPattern(numericPatterns.hour11h,rt);case"Ko":return at.ordinalNumber(rt,{unit:"hour"});default:return parseNDigits(nt.length,rt)}}validate(rt,nt){return nt>=0&&nt<=11}set(rt,nt,at){return rt.getHours()>=12&&at<12?rt.setHours(at+12,0,0,0):rt.setHours(at,0,0,0),rt}}class Hour1To24Parser extends Parser{constructor(){super(...arguments);tn(this,"priority",70);tn(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(rt,nt,at){switch(nt){case"k":return parseNumericPattern(numericPatterns.hour24h,rt);case"ko":return at.ordinalNumber(rt,{unit:"hour"});default:return parseNDigits(nt.length,rt)}}validate(rt,nt){return nt>=1&&nt<=24}set(rt,nt,at){const it=at<=24?at%24:at;return rt.setHours(it,0,0,0),rt}}class MinuteParser extends Parser{constructor(){super(...arguments);tn(this,"priority",60);tn(this,"incompatibleTokens",["t","T"])}parse(rt,nt,at){switch(nt){case"m":return parseNumericPattern(numericPatterns.minute,rt);case"mo":return at.ordinalNumber(rt,{unit:"minute"});default:return parseNDigits(nt.length,rt)}}validate(rt,nt){return nt>=0&&nt<=59}set(rt,nt,at){return rt.setMinutes(at,0,0),rt}}class SecondParser extends Parser{constructor(){super(...arguments);tn(this,"priority",50);tn(this,"incompatibleTokens",["t","T"])}parse(rt,nt,at){switch(nt){case"s":return parseNumericPattern(numericPatterns.second,rt);case"so":return at.ordinalNumber(rt,{unit:"second"});default:return parseNDigits(nt.length,rt)}}validate(rt,nt){return nt>=0&&nt<=59}set(rt,nt,at){return rt.setSeconds(at,0),rt}}class FractionOfSecondParser extends Parser{constructor(){super(...arguments);tn(this,"priority",30);tn(this,"incompatibleTokens",["t","T"])}parse(rt,nt){const at=it=>Math.trunc(it*Math.pow(10,-nt.length+3));return mapValue(parseNDigits(nt.length,rt),at)}set(rt,nt,at){return rt.setMilliseconds(at),rt}}class ISOTimezoneWithZParser extends Parser{constructor(){super(...arguments);tn(this,"priority",10);tn(this,"incompatibleTokens",["t","T","x"])}parse(rt,nt){switch(nt){case"X":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,rt);case"XX":return parseTimezonePattern(timezonePatterns.basic,rt);case"XXXX":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,rt);case"XXXXX":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,rt);case"XXX":default:return parseTimezonePattern(timezonePatterns.extended,rt)}}set(rt,nt,at){return nt.timestampIsSet?rt:constructFrom(rt,rt.getTime()-getTimezoneOffsetInMilliseconds(rt)-at)}}class ISOTimezoneParser extends Parser{constructor(){super(...arguments);tn(this,"priority",10);tn(this,"incompatibleTokens",["t","T","X"])}parse(rt,nt){switch(nt){case"x":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,rt);case"xx":return parseTimezonePattern(timezonePatterns.basic,rt);case"xxxx":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,rt);case"xxxxx":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,rt);case"xxx":default:return parseTimezonePattern(timezonePatterns.extended,rt)}}set(rt,nt,at){return nt.timestampIsSet?rt:constructFrom(rt,rt.getTime()-getTimezoneOffsetInMilliseconds(rt)-at)}}class TimestampSecondsParser extends Parser{constructor(){super(...arguments);tn(this,"priority",40);tn(this,"incompatibleTokens","*")}parse(rt){return parseAnyDigitsSigned(rt)}set(rt,nt,at){return[constructFrom(rt,at*1e3),{timestampIsSet:!0}]}}class TimestampMillisecondsParser extends Parser{constructor(){super(...arguments);tn(this,"priority",20);tn(this,"incompatibleTokens","*")}parse(rt){return parseAnyDigitsSigned(rt)}set(rt,nt,at){return[constructFrom(rt,at),{timestampIsSet:!0}]}}const parsers={G:new EraParser,y:new YearParser,Y:new LocalWeekYearParser,R:new ISOWeekYearParser,u:new ExtendedYearParser,Q:new QuarterParser,q:new StandAloneQuarterParser,M:new MonthParser,L:new StandAloneMonthParser,w:new LocalWeekParser,I:new ISOWeekParser,d:new DateParser,D:new DayOfYearParser,E:new DayParser,e:new LocalDayParser,c:new StandAloneLocalDayParser,i:new ISODayParser,a:new AMPMParser,b:new AMPMMidnightParser,B:new DayPeriodParser,h:new Hour1to12Parser,H:new Hour0to23Parser,K:new Hour0To11Parser,k:new Hour1To24Parser,m:new MinuteParser,s:new SecondParser,S:new FractionOfSecondParser,X:new ISOTimezoneWithZParser,x:new ISOTimezoneParser,t:new TimestampSecondsParser,T:new TimestampMillisecondsParser},formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,notWhitespaceRegExp=/\S/,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function parse$2(et,tt,rt,nt){var mt,xt,vt,_t,yt,St,bt,Et;const at=getDefaultOptions(),it=(nt==null?void 0:nt.locale)??at.locale??enUS,st=(nt==null?void 0:nt.firstWeekContainsDate)??((xt=(mt=nt==null?void 0:nt.locale)==null?void 0:mt.options)==null?void 0:xt.firstWeekContainsDate)??at.firstWeekContainsDate??((_t=(vt=at.locale)==null?void 0:vt.options)==null?void 0:_t.firstWeekContainsDate)??1,ot=(nt==null?void 0:nt.weekStartsOn)??((St=(yt=nt==null?void 0:nt.locale)==null?void 0:yt.options)==null?void 0:St.weekStartsOn)??at.weekStartsOn??((Et=(bt=at.locale)==null?void 0:bt.options)==null?void 0:Et.weekStartsOn)??0;if(tt==="")return et===""?toDate(rt):constructFrom(rt,NaN);const lt={firstWeekContainsDate:st,weekStartsOn:ot,locale:it},ct=[new DateToSystemTimezoneSetter],ut=tt.match(longFormattingTokensRegExp).map(Tt=>{const At=Tt[0];if(At in longFormatters){const Ct=longFormatters[At];return Ct(Tt,it.formatLong)}return Tt}).join("").match(formattingTokensRegExp),dt=[];for(let Tt of ut){!(nt!=null&&nt.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(Tt)&&warnOrThrowProtectedError(Tt,tt,et),!(nt!=null&&nt.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(Tt)&&warnOrThrowProtectedError(Tt,tt,et);const At=Tt[0],Ct=parsers[At];if(Ct){const{incompatibleTokens:kt}=Ct;if(Array.isArray(kt)){const Dt=dt.find(Ft=>kt.includes(Ft.token)||Ft.token===At);if(Dt)throw new RangeError(`The format string mustn't contain \`${Dt.fullToken}\` and \`${Tt}\` at the same time`)}else if(Ct.incompatibleTokens==="*"&&dt.length>0)throw new RangeError(`The format string mustn't contain \`${Tt}\` and any other token at the same time`);dt.push({token:At,fullToken:Tt});const Pt=Ct.run(et,Tt,it.match,lt);if(!Pt)return constructFrom(rt,NaN);ct.push(Pt.setter),et=Pt.rest}else{if(At.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+At+"`");if(Tt==="''"?Tt="'":At==="'"&&(Tt=cleanEscapedString(Tt)),et.indexOf(Tt)===0)et=et.slice(Tt.length);else return constructFrom(rt,NaN)}}if(et.length>0&&notWhitespaceRegExp.test(et))return constructFrom(rt,NaN);const ft=ct.map(Tt=>Tt.priority).sort((Tt,At)=>At-Tt).filter((Tt,At,Ct)=>Ct.indexOf(Tt)===At).map(Tt=>ct.filter(At=>At.priority===Tt).sort((At,Ct)=>Ct.subPriority-At.subPriority)).map(Tt=>Tt[0]);let ht=toDate(rt);if(isNaN(ht.getTime()))return constructFrom(rt,NaN);const gt={};for(const Tt of ft){if(!Tt.validate(ht,lt))return constructFrom(rt,NaN);const At=Tt.set(ht,gt,lt);Array.isArray(At)?(ht=At[0],Object.assign(gt,At[1])):ht=At}return constructFrom(rt,ht)}function cleanEscapedString(et){return et.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp,"'")}function isWithinInterval(et,tt){const rt=+toDate(et),[nt,at]=[+toDate(tt.start),+toDate(tt.end)].sort((it,st)=>it-st);return rt>=nt&&rt<=at}function parseISO(et,tt){const rt=(tt==null?void 0:tt.additionalDigits)??2,nt=splitDateString(et);let at;if(nt.date){const lt=parseYear$1(nt.date,rt);at=parseDate$2(lt.restDateString,lt.year)}if(!at||isNaN(at.getTime()))return new Date(NaN);const it=at.getTime();let st=0,ot;if(nt.time&&(st=parseTime(nt.time),isNaN(st)))return new Date(NaN);if(nt.timezone){if(ot=parseTimezone(nt.timezone),isNaN(ot))return new Date(NaN)}else{const lt=new Date(it+st),ct=new Date(0);return ct.setFullYear(lt.getUTCFullYear(),lt.getUTCMonth(),lt.getUTCDate()),ct.setHours(lt.getUTCHours(),lt.getUTCMinutes(),lt.getUTCSeconds(),lt.getUTCMilliseconds()),ct}return new Date(it+st+ot)}const patterns={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dateRegex$1=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,timeRegex=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,timezoneRegex=/^([+-])(\d{2})(?::?(\d{2}))?$/;function splitDateString(et){const tt={},rt=et.split(patterns.dateTimeDelimiter);let nt;if(rt.length>2)return tt;if(/:/.test(rt[0])?nt=rt[0]:(tt.date=rt[0],nt=rt[1],patterns.timeZoneDelimiter.test(tt.date)&&(tt.date=et.split(patterns.timeZoneDelimiter)[0],nt=et.substr(tt.date.length,et.length))),nt){const at=patterns.timezone.exec(nt);at?(tt.time=nt.replace(at[1],""),tt.timezone=at[1]):tt.time=nt}return tt}function parseYear$1(et,tt){const rt=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+tt)+"})|(\\d{2}|[+-]\\d{"+(2+tt)+"})$)"),nt=et.match(rt);if(!nt)return{year:NaN,restDateString:""};const at=nt[1]?parseInt(nt[1]):null,it=nt[2]?parseInt(nt[2]):null;return{year:it===null?at:it*100,restDateString:et.slice((nt[1]||nt[2]).length)}}function parseDate$2(et,tt){if(tt===null)return new Date(NaN);const rt=et.match(dateRegex$1);if(!rt)return new Date(NaN);const nt=!!rt[4],at=parseDateUnit(rt[1]),it=parseDateUnit(rt[2])-1,st=parseDateUnit(rt[3]),ot=parseDateUnit(rt[4]),lt=parseDateUnit(rt[5])-1;if(nt)return validateWeekDate(tt,ot,lt)?dayOfISOWeekYear(tt,ot,lt):new Date(NaN);{const ct=new Date(0);return!validateDate(tt,it,st)||!validateDayOfYearDate(tt,at)?new Date(NaN):(ct.setUTCFullYear(tt,it,Math.max(at,st)),ct)}}function parseDateUnit(et){return et?parseInt(et):1}function parseTime(et){const tt=et.match(timeRegex);if(!tt)return NaN;const rt=parseTimeUnit(tt[1]),nt=parseTimeUnit(tt[2]),at=parseTimeUnit(tt[3]);return validateTime(rt,nt,at)?rt*millisecondsInHour+nt*millisecondsInMinute+at*1e3:NaN}function parseTimeUnit(et){return et&&parseFloat(et.replace(",","."))||0}function parseTimezone(et){if(et==="Z")return 0;const tt=et.match(timezoneRegex);if(!tt)return 0;const rt=tt[1]==="+"?-1:1,nt=parseInt(tt[2]),at=tt[3]&&parseInt(tt[3])||0;return validateTimezone(nt,at)?rt*(nt*millisecondsInHour+at*millisecondsInMinute):NaN}function dayOfISOWeekYear(et,tt,rt){const nt=new Date(0);nt.setUTCFullYear(et,0,4);const at=nt.getUTCDay()||7,it=(tt-1)*7+rt+1-at;return nt.setUTCDate(nt.getUTCDate()+it),nt}const daysInMonths=[31,null,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex(et){return et%400===0||et%4===0&&et%100!==0}function validateDate(et,tt,rt){return tt>=0&&tt<=11&&rt>=1&&rt<=(daysInMonths[tt]||(isLeapYearIndex(et)?29:28))}function validateDayOfYearDate(et,tt){return tt>=1&&tt<=(isLeapYearIndex(et)?366:365)}function validateWeekDate(et,tt,rt){return tt>=1&&tt<=53&&rt>=0&&rt<=6}function validateTime(et,tt,rt){return et===24?tt===0&&rt===0:rt>=0&&rt<60&&tt>=0&&tt<60&&et>=0&&et<25}function validateTimezone(et,tt){return tt>=0&&tt<=59}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var XLSX={};XLSX.version="0.18.5";var current_ansi=1252,VALID_ANSI=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],CS2CP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},set_ansi=function(et){VALID_ANSI.indexOf(et)!=-1&&(current_ansi=CS2CP[0]=et)};function reset_ansi(){set_ansi(1252)}var set_cp=function(et){set_ansi(et)};function reset_cp(){set_cp(1200),reset_ansi()}function char_codes(et){for(var tt=[],rt=0,nt=et.length;rt<nt;++rt)tt[rt]=et.charCodeAt(rt);return tt}function utf16leread(et){for(var tt=[],rt=0;rt<et.length>>1;++rt)tt[rt]=String.fromCharCode(et.charCodeAt(2*rt)+(et.charCodeAt(2*rt+1)<<8));return tt.join("")}function utf16beread(et){for(var tt=[],rt=0;rt<et.length>>1;++rt)tt[rt]=String.fromCharCode(et.charCodeAt(2*rt+1)+(et.charCodeAt(2*rt)<<8));return tt.join("")}var debom=function(et){var tt=et.charCodeAt(0),rt=et.charCodeAt(1);return tt==255&&rt==254?utf16leread(et.slice(2)):tt==254&&rt==255?utf16beread(et.slice(2)):tt==65279?et.slice(1):et},_getchar=function(tt){return String.fromCharCode(tt)},_getansi=function(tt){return String.fromCharCode(tt)},$cptable,Base64_map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Base64_encode(et){for(var tt="",rt=0,nt=0,at=0,it=0,st=0,ot=0,lt=0,ct=0;ct<et.length;)rt=et.charCodeAt(ct++),it=rt>>2,nt=et.charCodeAt(ct++),st=(rt&3)<<4|nt>>4,at=et.charCodeAt(ct++),ot=(nt&15)<<2|at>>6,lt=at&63,isNaN(nt)?ot=lt=64:isNaN(at)&&(lt=64),tt+=Base64_map.charAt(it)+Base64_map.charAt(st)+Base64_map.charAt(ot)+Base64_map.charAt(lt);return tt}function Base64_decode(et){var tt="",rt=0,nt=0,at=0,it=0,st=0,ot=0,lt=0;et=et.replace(/[^\w\+\/\=]/g,"");for(var ct=0;ct<et.length;)it=Base64_map.indexOf(et.charAt(ct++)),st=Base64_map.indexOf(et.charAt(ct++)),rt=it<<2|st>>4,tt+=String.fromCharCode(rt),ot=Base64_map.indexOf(et.charAt(ct++)),nt=(st&15)<<4|ot>>2,ot!==64&&(tt+=String.fromCharCode(nt)),lt=Base64_map.indexOf(et.charAt(ct++)),at=(ot&3)<<6|lt,lt!==64&&(tt+=String.fromCharCode(at));return tt}var has_buf=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Buffer_from=function(){if(typeof Buffer<"u"){var et=!Buffer.from;if(!et)try{Buffer.from("foo","utf8")}catch{et=!0}return et?function(tt,rt){return rt?new Buffer(tt,rt):new Buffer(tt)}:Buffer.from.bind(Buffer)}return function(){}}();function new_raw_buf(et){return has_buf?Buffer.alloc?Buffer.alloc(et):new Buffer(et):typeof Uint8Array<"u"?new Uint8Array(et):new Array(et)}function new_unsafe_buf(et){return has_buf?Buffer.allocUnsafe?Buffer.allocUnsafe(et):new Buffer(et):typeof Uint8Array<"u"?new Uint8Array(et):new Array(et)}var s2a=function(tt){return has_buf?Buffer_from(tt,"binary"):tt.split("").map(function(rt){return rt.charCodeAt(0)&255})};function s2ab(et){if(typeof ArrayBuffer>"u")return s2a(et);for(var tt=new ArrayBuffer(et.length),rt=new Uint8Array(tt),nt=0;nt!=et.length;++nt)rt[nt]=et.charCodeAt(nt)&255;return tt}function a2s(et){if(Array.isArray(et))return et.map(function(nt){return String.fromCharCode(nt)}).join("");for(var tt=[],rt=0;rt<et.length;++rt)tt[rt]=String.fromCharCode(et[rt]);return tt.join("")}function a2u(et){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(et)}function ab2a(et){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(et instanceof ArrayBuffer)return ab2a(new Uint8Array(et));for(var tt=new Array(et.length),rt=0;rt<et.length;++rt)tt[rt]=et[rt];return tt}var bconcat=has_buf?function(et){return Buffer.concat(et.map(function(tt){return Buffer.isBuffer(tt)?tt:Buffer_from(tt)}))}:function(et){if(typeof Uint8Array<"u"){var tt=0,rt=0;for(tt=0;tt<et.length;++tt)rt+=et[tt].length;var nt=new Uint8Array(rt),at=0;for(tt=0,rt=0;tt<et.length;rt+=at,++tt)if(at=et[tt].length,et[tt]instanceof Uint8Array)nt.set(et[tt],rt);else{if(typeof et[tt]=="string")throw"wtf";nt.set(new Uint8Array(et[tt]),rt)}return nt}return[].concat.apply([],et.map(function(it){return Array.isArray(it)?it:[].slice.call(it)}))};function utf8decode(et){for(var tt=[],rt=0,nt=et.length+250,at=new_raw_buf(et.length+255),it=0;it<et.length;++it){var st=et.charCodeAt(it);if(st<128)at[rt++]=st;else if(st<2048)at[rt++]=192|st>>6&31,at[rt++]=128|st&63;else if(st>=55296&&st<57344){st=(st&1023)+64;var ot=et.charCodeAt(++it)&1023;at[rt++]=240|st>>8&7,at[rt++]=128|st>>2&63,at[rt++]=128|ot>>6&15|(st&3)<<4,at[rt++]=128|ot&63}else at[rt++]=224|st>>12&15,at[rt++]=128|st>>6&63,at[rt++]=128|st&63;rt>nt&&(tt.push(at.slice(0,rt)),rt=0,at=new_raw_buf(65535),nt=65530)}return tt.push(at.slice(0,rt)),bconcat(tt)}var chr0=/\u0000/g,chr1=/[\u0001-\u0006]/g;function _strrev(et){for(var tt="",rt=et.length-1;rt>=0;)tt+=et.charAt(rt--);return tt}function pad0(et,tt){var rt=""+et;return rt.length>=tt?rt:fill$1("0",tt-rt.length)+rt}function pad_(et,tt){var rt=""+et;return rt.length>=tt?rt:fill$1(" ",tt-rt.length)+rt}function rpad_(et,tt){var rt=""+et;return rt.length>=tt?rt:rt+fill$1(" ",tt-rt.length)}function pad0r1(et,tt){var rt=""+Math.round(et);return rt.length>=tt?rt:fill$1("0",tt-rt.length)+rt}function pad0r2(et,tt){var rt=""+et;return rt.length>=tt?rt:fill$1("0",tt-rt.length)+rt}var p2_32=Math.pow(2,32);function pad0r(et,tt){if(et>p2_32||et<-p2_32)return pad0r1(et,tt);var rt=Math.round(et);return pad0r2(rt,tt)}function SSF_isgeneral(et,tt){return tt=tt||0,et.length>=7+tt&&(et.charCodeAt(tt)|32)===103&&(et.charCodeAt(tt+1)|32)===101&&(et.charCodeAt(tt+2)|32)===110&&(et.charCodeAt(tt+3)|32)===101&&(et.charCodeAt(tt+4)|32)===114&&(et.charCodeAt(tt+5)|32)===97&&(et.charCodeAt(tt+6)|32)===108}var days=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],months=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function SSF_init_table(et){return et||(et={}),et[0]="General",et[1]="0",et[2]="0.00",et[3]="#,##0",et[4]="#,##0.00",et[9]="0%",et[10]="0.00%",et[11]="0.00E+00",et[12]="# ?/?",et[13]="# ??/??",et[14]="m/d/yy",et[15]="d-mmm-yy",et[16]="d-mmm",et[17]="mmm-yy",et[18]="h:mm AM/PM",et[19]="h:mm:ss AM/PM",et[20]="h:mm",et[21]="h:mm:ss",et[22]="m/d/yy h:mm",et[37]="#,##0 ;(#,##0)",et[38]="#,##0 ;[Red](#,##0)",et[39]="#,##0.00;(#,##0.00)",et[40]="#,##0.00;[Red](#,##0.00)",et[45]="mm:ss",et[46]="[h]:mm:ss",et[47]="mmss.0",et[48]="##0.0E+0",et[49]="@",et[56]='"/ "hh""mm""ss" "',et}var table_fmt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},SSF_default_map={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},SSF_default_str={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function SSF_frac(et,tt,rt){for(var nt=et<0?-1:1,at=et*nt,it=0,st=1,ot=0,lt=1,ct=0,ut=0,dt=Math.floor(at);ct<tt&&(dt=Math.floor(at),ot=dt*st+it,ut=dt*ct+lt,!(at-dt<5e-8));)at=1/(at-dt),it=st,st=ot,lt=ct,ct=ut;if(ut>tt&&(ct>tt?(ut=lt,ot=it):(ut=ct,ot=st)),!rt)return[0,nt*ot,ut];var ft=Math.floor(nt*ot/ut);return[ft,nt*ot-ft*ut,ut]}function SSF_parse_date_code(et,tt,rt){if(et>2958465||et<0)return null;var nt=et|0,at=Math.floor(86400*(et-nt)),it=0,st=[],ot={D:nt,T:at,u:86400*(et-nt)-at,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(ot.u)<1e-6&&(ot.u=0),tt&&tt.date1904&&(nt+=1462),ot.u>.9999&&(ot.u=0,++at==86400&&(ot.T=at=0,++nt,++ot.D)),nt===60)st=rt?[1317,10,29]:[1900,2,29],it=3;else if(nt===0)st=rt?[1317,8,29]:[1900,1,0],it=6;else{nt>60&&--nt;var lt=new Date(1900,0,1);lt.setDate(lt.getDate()+nt-1),st=[lt.getFullYear(),lt.getMonth()+1,lt.getDate()],it=lt.getDay(),nt<60&&(it=(it+6)%7),rt&&(it=SSF_fix_hijri(lt,st))}return ot.y=st[0],ot.m=st[1],ot.d=st[2],ot.S=at%60,at=Math.floor(at/60),ot.M=at%60,at=Math.floor(at/60),ot.H=at,ot.q=it,ot}var SSFbasedate=new Date(1899,11,31,0,0,0),SSFdnthresh=SSFbasedate.getTime(),SSFbase1904=new Date(1900,2,1,0,0,0);function datenum_local(et,tt){var rt=et.getTime();return tt?rt-=1461*24*60*60*1e3:et>=SSFbase1904&&(rt+=24*60*60*1e3),(rt-(SSFdnthresh+(et.getTimezoneOffset()-SSFbasedate.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function SSF_strip_decimal(et){return et.indexOf(".")==-1?et:et.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function SSF_normalize_exp(et){return et.indexOf("E")==-1?et:et.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function SSF_small_exp(et){var tt=et<0?12:11,rt=SSF_strip_decimal(et.toFixed(12));return rt.length<=tt||(rt=et.toPrecision(10),rt.length<=tt)?rt:et.toExponential(5)}function SSF_large_exp(et){var tt=SSF_strip_decimal(et.toFixed(11));return tt.length>(et<0?12:11)||tt==="0"||tt==="-0"?et.toPrecision(6):tt}function SSF_general_num(et){var tt=Math.floor(Math.log(Math.abs(et))*Math.LOG10E),rt;return tt>=-4&&tt<=-1?rt=et.toPrecision(10+tt):Math.abs(tt)<=9?rt=SSF_small_exp(et):tt===10?rt=et.toFixed(10).substr(0,12):rt=SSF_large_exp(et),SSF_strip_decimal(SSF_normalize_exp(rt.toUpperCase()))}function SSF_general(et,tt){switch(typeof et){case"string":return et;case"boolean":return et?"TRUE":"FALSE";case"number":return(et|0)===et?et.toString(10):SSF_general_num(et);case"undefined":return"";case"object":if(et==null)return"";if(et instanceof Date)return SSF_format(14,datenum_local(et,tt&&tt.date1904),tt)}throw new Error("unsupported value in General format: "+et)}function SSF_fix_hijri(et,tt){tt[0]-=581;var rt=et.getDay();return et<60&&(rt=(rt+6)%7),rt}function SSF_write_date(et,tt,rt,nt){var at="",it=0,st=0,ot=rt.y,lt,ct=0;switch(et){case 98:ot=rt.y+543;case 121:switch(tt.length){case 1:case 2:lt=ot%100,ct=2;break;default:lt=ot%1e4,ct=4;break}break;case 109:switch(tt.length){case 1:case 2:lt=rt.m,ct=tt.length;break;case 3:return months[rt.m-1][1];case 5:return months[rt.m-1][0];default:return months[rt.m-1][2]}break;case 100:switch(tt.length){case 1:case 2:lt=rt.d,ct=tt.length;break;case 3:return days[rt.q][0];default:return days[rt.q][1]}break;case 104:switch(tt.length){case 1:case 2:lt=1+(rt.H+11)%12,ct=tt.length;break;default:throw"bad hour format: "+tt}break;case 72:switch(tt.length){case 1:case 2:lt=rt.H,ct=tt.length;break;default:throw"bad hour format: "+tt}break;case 77:switch(tt.length){case 1:case 2:lt=rt.M,ct=tt.length;break;default:throw"bad minute format: "+tt}break;case 115:if(tt!="s"&&tt!="ss"&&tt!=".0"&&tt!=".00"&&tt!=".000")throw"bad second format: "+tt;return rt.u===0&&(tt=="s"||tt=="ss")?pad0(rt.S,tt.length):(nt>=2?st=nt===3?1e3:100:st=nt===1?10:1,it=Math.round(st*(rt.S+rt.u)),it>=60*st&&(it=0),tt==="s"?it===0?"0":""+it/st:(at=pad0(it,2+nt),tt==="ss"?at.substr(0,2):"."+at.substr(2,tt.length-1)));case 90:switch(tt){case"[h]":case"[hh]":lt=rt.D*24+rt.H;break;case"[m]":case"[mm]":lt=(rt.D*24+rt.H)*60+rt.M;break;case"[s]":case"[ss]":lt=((rt.D*24+rt.H)*60+rt.M)*60+Math.round(rt.S+rt.u);break;default:throw"bad abstime format: "+tt}ct=tt.length===3?1:2;break;case 101:lt=ot,ct=1;break}var ut=ct>0?pad0(lt,ct):"";return ut}function commaify(et){var tt=3;if(et.length<=tt)return et;for(var rt=et.length%tt,nt=et.substr(0,rt);rt!=et.length;rt+=tt)nt+=(nt.length>0?",":"")+et.substr(rt,tt);return nt}var pct1=/%/g;function write_num_pct(et,tt,rt){var nt=tt.replace(pct1,""),at=tt.length-nt.length;return write_num(et,nt,rt*Math.pow(10,2*at))+fill$1("%",at)}function write_num_cm(et,tt,rt){for(var nt=tt.length-1;tt.charCodeAt(nt-1)===44;)--nt;return write_num(et,tt.substr(0,nt),rt/Math.pow(10,3*(tt.length-nt)))}function write_num_exp(et,tt){var rt,nt=et.indexOf("E")-et.indexOf(".")-1;if(et.match(/^#+0.0E\+0$/)){if(tt==0)return"0.0E+0";if(tt<0)return"-"+write_num_exp(et,-tt);var at=et.indexOf(".");at===-1&&(at=et.indexOf("E"));var it=Math.floor(Math.log(tt)*Math.LOG10E)%at;if(it<0&&(it+=at),rt=(tt/Math.pow(10,it)).toPrecision(nt+1+(at+it)%at),rt.indexOf("e")===-1){var st=Math.floor(Math.log(tt)*Math.LOG10E);for(rt.indexOf(".")===-1?rt=rt.charAt(0)+"."+rt.substr(1)+"E+"+(st-rt.length+it):rt+="E+"+(st-it);rt.substr(0,2)==="0.";)rt=rt.charAt(0)+rt.substr(2,at)+"."+rt.substr(2+at),rt=rt.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");rt=rt.replace(/\+-/,"-")}rt=rt.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(ot,lt,ct,ut){return lt+ct+ut.substr(0,(at+it)%at)+"."+ut.substr(it)+"E"})}else rt=tt.toExponential(nt);return et.match(/E\+00$/)&&rt.match(/e[+-]\d$/)&&(rt=rt.substr(0,rt.length-1)+"0"+rt.charAt(rt.length-1)),et.match(/E\-/)&&rt.match(/e\+/)&&(rt=rt.replace(/e\+/,"e")),rt.replace("e","E")}var frac1=/# (\?+)( ?)\/( ?)(\d+)/;function write_num_f1(et,tt,rt){var nt=parseInt(et[4],10),at=Math.round(tt*nt),it=Math.floor(at/nt),st=at-it*nt,ot=nt;return rt+(it===0?"":""+it)+" "+(st===0?fill$1(" ",et[1].length+1+et[4].length):pad_(st,et[1].length)+et[2]+"/"+et[3]+pad0(ot,et[4].length))}function write_num_f2(et,tt,rt){return rt+(tt===0?"":""+tt)+fill$1(" ",et[1].length+2+et[4].length)}var dec1=/^#*0*\.([0#]+)/,closeparen=/\).*[0#]/,phone=/\(###\) ###\\?-####/;function hashq(et){for(var tt="",rt,nt=0;nt!=et.length;++nt)switch(rt=et.charCodeAt(nt)){case 35:break;case 63:tt+=" ";break;case 48:tt+="0";break;default:tt+=String.fromCharCode(rt)}return tt}function rnd(et,tt){var rt=Math.pow(10,tt);return""+Math.round(et*rt)/rt}function dec(et,tt){var rt=et-Math.floor(et),nt=Math.pow(10,tt);return tt<(""+Math.round(rt*nt)).length?0:Math.round(rt*nt)}function carry(et,tt){return tt<(""+Math.round((et-Math.floor(et))*Math.pow(10,tt))).length?1:0}function flr(et){return et<2147483647&&et>-2147483648?""+(et>=0?et|0:et-1|0):""+Math.floor(et)}function write_num_flt(et,tt,rt){if(et.charCodeAt(0)===40&&!tt.match(closeparen)){var nt=tt.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return rt>=0?write_num_flt("n",nt,rt):"("+write_num_flt("n",nt,-rt)+")"}if(tt.charCodeAt(tt.length-1)===44)return write_num_cm(et,tt,rt);if(tt.indexOf("%")!==-1)return write_num_pct(et,tt,rt);if(tt.indexOf("E")!==-1)return write_num_exp(tt,rt);if(tt.charCodeAt(0)===36)return"$"+write_num_flt(et,tt.substr(tt.charAt(1)==" "?2:1),rt);var at,it,st,ot,lt=Math.abs(rt),ct=rt<0?"-":"";if(tt.match(/^00+$/))return ct+pad0r(lt,tt.length);if(tt.match(/^[#?]+$/))return at=pad0r(rt,0),at==="0"&&(at=""),at.length>tt.length?at:hashq(tt.substr(0,tt.length-at.length))+at;if(it=tt.match(frac1))return write_num_f1(it,lt,ct);if(tt.match(/^#+0+$/))return ct+pad0r(lt,tt.length-tt.indexOf("0"));if(it=tt.match(dec1))return at=rnd(rt,it[1].length).replace(/^([^\.]+)$/,"$1."+hashq(it[1])).replace(/\.$/,"."+hashq(it[1])).replace(/\.(\d*)$/,function(gt,mt){return"."+mt+fill$1("0",hashq(it[1]).length-mt.length)}),tt.indexOf("0.")!==-1?at:at.replace(/^0\./,".");if(tt=tt.replace(/^#+([0.])/,"$1"),it=tt.match(/^(0*)\.(#*)$/))return ct+rnd(lt,it[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,it[1].length?"0.":".");if(it=tt.match(/^#{1,3},##0(\.?)$/))return ct+commaify(pad0r(lt,0));if(it=tt.match(/^#,##0\.([#0]*0)$/))return rt<0?"-"+write_num_flt(et,tt,-rt):commaify(""+(Math.floor(rt)+carry(rt,it[1].length)))+"."+pad0(dec(rt,it[1].length),it[1].length);if(it=tt.match(/^#,#*,#0/))return write_num_flt(et,tt.replace(/^#,#*,/,""),rt);if(it=tt.match(/^([0#]+)(\\?-([0#]+))+$/))return at=_strrev(write_num_flt(et,tt.replace(/[\\-]/g,""),rt)),st=0,_strrev(_strrev(tt.replace(/\\/g,"")).replace(/[0#]/g,function(gt){return st<at.length?at.charAt(st++):gt==="0"?"0":""}));if(tt.match(phone))return at=write_num_flt(et,"##########",rt),"("+at.substr(0,3)+") "+at.substr(3,3)+"-"+at.substr(6);var ut="";if(it=tt.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return st=Math.min(it[4].length,7),ot=SSF_frac(lt,Math.pow(10,st)-1,!1),at=""+ct,ut=write_num("n",it[1],ot[1]),ut.charAt(ut.length-1)==" "&&(ut=ut.substr(0,ut.length-1)+"0"),at+=ut+it[2]+"/"+it[3],ut=rpad_(ot[2],st),ut.length<it[4].length&&(ut=hashq(it[4].substr(it[4].length-ut.length))+ut),at+=ut,at;if(it=tt.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return st=Math.min(Math.max(it[1].length,it[4].length),7),ot=SSF_frac(lt,Math.pow(10,st)-1,!0),ct+(ot[0]||(ot[1]?"":"0"))+" "+(ot[1]?pad_(ot[1],st)+it[2]+"/"+it[3]+rpad_(ot[2],st):fill$1(" ",2*st+1+it[2].length+it[3].length));if(it=tt.match(/^[#0?]+$/))return at=pad0r(rt,0),tt.length<=at.length?at:hashq(tt.substr(0,tt.length-at.length))+at;if(it=tt.match(/^([#0?]+)\.([#0]+)$/)){at=""+rt.toFixed(Math.min(it[2].length,10)).replace(/([^0])0+$/,"$1"),st=at.indexOf(".");var dt=tt.indexOf(".")-st,ft=tt.length-at.length-dt;return hashq(tt.substr(0,dt)+at+tt.substr(tt.length-ft))}if(it=tt.match(/^00,000\.([#0]*0)$/))return st=dec(rt,it[1].length),rt<0?"-"+write_num_flt(et,tt,-rt):commaify(flr(rt)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(gt){return"00,"+(gt.length<3?pad0(0,3-gt.length):"")+gt})+"."+pad0(st,it[1].length);switch(tt){case"###,##0.00":return write_num_flt(et,"#,##0.00",rt);case"###,###":case"##,###":case"#,###":var ht=commaify(pad0r(lt,0));return ht!=="0"?ct+ht:"";case"###,###.00":return write_num_flt(et,"###,##0.00",rt).replace(/^0\./,".");case"#,###.00":return write_num_flt(et,"#,##0.00",rt).replace(/^0\./,".")}throw new Error("unsupported format |"+tt+"|")}function write_num_cm2(et,tt,rt){for(var nt=tt.length-1;tt.charCodeAt(nt-1)===44;)--nt;return write_num(et,tt.substr(0,nt),rt/Math.pow(10,3*(tt.length-nt)))}function write_num_pct2(et,tt,rt){var nt=tt.replace(pct1,""),at=tt.length-nt.length;return write_num(et,nt,rt*Math.pow(10,2*at))+fill$1("%",at)}function write_num_exp2(et,tt){var rt,nt=et.indexOf("E")-et.indexOf(".")-1;if(et.match(/^#+0.0E\+0$/)){if(tt==0)return"0.0E+0";if(tt<0)return"-"+write_num_exp2(et,-tt);var at=et.indexOf(".");at===-1&&(at=et.indexOf("E"));var it=Math.floor(Math.log(tt)*Math.LOG10E)%at;if(it<0&&(it+=at),rt=(tt/Math.pow(10,it)).toPrecision(nt+1+(at+it)%at),!rt.match(/[Ee]/)){var st=Math.floor(Math.log(tt)*Math.LOG10E);rt.indexOf(".")===-1?rt=rt.charAt(0)+"."+rt.substr(1)+"E+"+(st-rt.length+it):rt+="E+"+(st-it),rt=rt.replace(/\+-/,"-")}rt=rt.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(ot,lt,ct,ut){return lt+ct+ut.substr(0,(at+it)%at)+"."+ut.substr(it)+"E"})}else rt=tt.toExponential(nt);return et.match(/E\+00$/)&&rt.match(/e[+-]\d$/)&&(rt=rt.substr(0,rt.length-1)+"0"+rt.charAt(rt.length-1)),et.match(/E\-/)&&rt.match(/e\+/)&&(rt=rt.replace(/e\+/,"e")),rt.replace("e","E")}function write_num_int(et,tt,rt){if(et.charCodeAt(0)===40&&!tt.match(closeparen)){var nt=tt.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return rt>=0?write_num_int("n",nt,rt):"("+write_num_int("n",nt,-rt)+")"}if(tt.charCodeAt(tt.length-1)===44)return write_num_cm2(et,tt,rt);if(tt.indexOf("%")!==-1)return write_num_pct2(et,tt,rt);if(tt.indexOf("E")!==-1)return write_num_exp2(tt,rt);if(tt.charCodeAt(0)===36)return"$"+write_num_int(et,tt.substr(tt.charAt(1)==" "?2:1),rt);var at,it,st,ot,lt=Math.abs(rt),ct=rt<0?"-":"";if(tt.match(/^00+$/))return ct+pad0(lt,tt.length);if(tt.match(/^[#?]+$/))return at=""+rt,rt===0&&(at=""),at.length>tt.length?at:hashq(tt.substr(0,tt.length-at.length))+at;if(it=tt.match(frac1))return write_num_f2(it,lt,ct);if(tt.match(/^#+0+$/))return ct+pad0(lt,tt.length-tt.indexOf("0"));if(it=tt.match(dec1))return at=(""+rt).replace(/^([^\.]+)$/,"$1."+hashq(it[1])).replace(/\.$/,"."+hashq(it[1])),at=at.replace(/\.(\d*)$/,function(gt,mt){return"."+mt+fill$1("0",hashq(it[1]).length-mt.length)}),tt.indexOf("0.")!==-1?at:at.replace(/^0\./,".");if(tt=tt.replace(/^#+([0.])/,"$1"),it=tt.match(/^(0*)\.(#*)$/))return ct+(""+lt).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,it[1].length?"0.":".");if(it=tt.match(/^#{1,3},##0(\.?)$/))return ct+commaify(""+lt);if(it=tt.match(/^#,##0\.([#0]*0)$/))return rt<0?"-"+write_num_int(et,tt,-rt):commaify(""+rt)+"."+fill$1("0",it[1].length);if(it=tt.match(/^#,#*,#0/))return write_num_int(et,tt.replace(/^#,#*,/,""),rt);if(it=tt.match(/^([0#]+)(\\?-([0#]+))+$/))return at=_strrev(write_num_int(et,tt.replace(/[\\-]/g,""),rt)),st=0,_strrev(_strrev(tt.replace(/\\/g,"")).replace(/[0#]/g,function(gt){return st<at.length?at.charAt(st++):gt==="0"?"0":""}));if(tt.match(phone))return at=write_num_int(et,"##########",rt),"("+at.substr(0,3)+") "+at.substr(3,3)+"-"+at.substr(6);var ut="";if(it=tt.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return st=Math.min(it[4].length,7),ot=SSF_frac(lt,Math.pow(10,st)-1,!1),at=""+ct,ut=write_num("n",it[1],ot[1]),ut.charAt(ut.length-1)==" "&&(ut=ut.substr(0,ut.length-1)+"0"),at+=ut+it[2]+"/"+it[3],ut=rpad_(ot[2],st),ut.length<it[4].length&&(ut=hashq(it[4].substr(it[4].length-ut.length))+ut),at+=ut,at;if(it=tt.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return st=Math.min(Math.max(it[1].length,it[4].length),7),ot=SSF_frac(lt,Math.pow(10,st)-1,!0),ct+(ot[0]||(ot[1]?"":"0"))+" "+(ot[1]?pad_(ot[1],st)+it[2]+"/"+it[3]+rpad_(ot[2],st):fill$1(" ",2*st+1+it[2].length+it[3].length));if(it=tt.match(/^[#0?]+$/))return at=""+rt,tt.length<=at.length?at:hashq(tt.substr(0,tt.length-at.length))+at;if(it=tt.match(/^([#0]+)\.([#0]+)$/)){at=""+rt.toFixed(Math.min(it[2].length,10)).replace(/([^0])0+$/,"$1"),st=at.indexOf(".");var dt=tt.indexOf(".")-st,ft=tt.length-at.length-dt;return hashq(tt.substr(0,dt)+at+tt.substr(tt.length-ft))}if(it=tt.match(/^00,000\.([#0]*0)$/))return rt<0?"-"+write_num_int(et,tt,-rt):commaify(""+rt).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(gt){return"00,"+(gt.length<3?pad0(0,3-gt.length):"")+gt})+"."+pad0(0,it[1].length);switch(tt){case"###,###":case"##,###":case"#,###":var ht=commaify(""+lt);return ht!=="0"?ct+ht:"";default:if(tt.match(/\.[0#?]*$/))return write_num_int(et,tt.slice(0,tt.lastIndexOf(".")),rt)+hashq(tt.slice(tt.lastIndexOf(".")))}throw new Error("unsupported format |"+tt+"|")}function write_num(et,tt,rt){return(rt|0)===rt?write_num_int(et,tt,rt):write_num_flt(et,tt,rt)}function SSF_split_fmt(et){for(var tt=[],rt=!1,nt=0,at=0;nt<et.length;++nt)switch(et.charCodeAt(nt)){case 34:rt=!rt;break;case 95:case 42:case 92:++nt;break;case 59:tt[tt.length]=et.substr(at,nt-at),at=nt+1}if(tt[tt.length]=et.substr(at),rt===!0)throw new Error("Format |"+et+"| unterminated string ");return tt}var SSF_abstime=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function fmt_is_date(et){for(var tt=0,rt="",nt="";tt<et.length;)switch(rt=et.charAt(tt)){case"G":SSF_isgeneral(et,tt)&&(tt+=6),tt++;break;case'"':for(;et.charCodeAt(++tt)!==34&&tt<et.length;);++tt;break;case"\\":tt+=2;break;case"_":tt+=2;break;case"@":++tt;break;case"B":case"b":if(et.charAt(tt+1)==="1"||et.charAt(tt+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(et.substr(tt,3).toUpperCase()==="A/P"||et.substr(tt,5).toUpperCase()==="AM/PM"||et.substr(tt,5).toUpperCase()==="/")return!0;++tt;break;case"[":for(nt=rt;et.charAt(tt++)!=="]"&&tt<et.length;)nt+=et.charAt(tt);if(nt.match(SSF_abstime))return!0;break;case".":case"0":case"#":for(;tt<et.length&&("0#?.,E+-%".indexOf(rt=et.charAt(++tt))>-1||rt=="\\"&&et.charAt(tt+1)=="-"&&"0#".indexOf(et.charAt(tt+2))>-1););break;case"?":for(;et.charAt(++tt)===rt;);break;case"*":++tt,(et.charAt(tt)==" "||et.charAt(tt)=="*")&&++tt;break;case"(":case")":++tt;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;tt<et.length&&"0123456789".indexOf(et.charAt(++tt))>-1;);break;case" ":++tt;break;default:++tt;break}return!1}function eval_fmt(et,tt,rt,nt){for(var at=[],it="",st=0,ot="",lt="t",ct,ut,dt,ft="H";st<et.length;)switch(ot=et.charAt(st)){case"G":if(!SSF_isgeneral(et,st))throw new Error("unrecognized character "+ot+" in "+et);at[at.length]={t:"G",v:"General"},st+=7;break;case'"':for(it="";(dt=et.charCodeAt(++st))!==34&&st<et.length;)it+=String.fromCharCode(dt);at[at.length]={t:"t",v:it},++st;break;case"\\":var ht=et.charAt(++st),gt=ht==="("||ht===")"?ht:"t";at[at.length]={t:gt,v:ht},++st;break;case"_":at[at.length]={t:"t",v:" "},st+=2;break;case"@":at[at.length]={t:"T",v:tt},++st;break;case"B":case"b":if(et.charAt(st+1)==="1"||et.charAt(st+1)==="2"){if(ct==null&&(ct=SSF_parse_date_code(tt,rt,et.charAt(st+1)==="2"),ct==null))return"";at[at.length]={t:"X",v:et.substr(st,2)},lt=ot,st+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":ot=ot.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(tt<0||ct==null&&(ct=SSF_parse_date_code(tt,rt),ct==null))return"";for(it=ot;++st<et.length&&et.charAt(st).toLowerCase()===ot;)it+=ot;ot==="m"&&lt.toLowerCase()==="h"&&(ot="M"),ot==="h"&&(ot=ft),at[at.length]={t:ot,v:it},lt=ot;break;case"A":case"a":case"":var mt={t:ot,v:ot};if(ct==null&&(ct=SSF_parse_date_code(tt,rt)),et.substr(st,3).toUpperCase()==="A/P"?(ct!=null&&(mt.v=ct.H>=12?"P":"A"),mt.t="T",ft="h",st+=3):et.substr(st,5).toUpperCase()==="AM/PM"?(ct!=null&&(mt.v=ct.H>=12?"PM":"AM"),mt.t="T",st+=5,ft="h"):et.substr(st,5).toUpperCase()==="/"?(ct!=null&&(mt.v=ct.H>=12?"":""),mt.t="T",st+=5,ft="h"):(mt.t="t",++st),ct==null&&mt.t==="T")return"";at[at.length]=mt,lt=ot;break;case"[":for(it=ot;et.charAt(st++)!=="]"&&st<et.length;)it+=et.charAt(st);if(it.slice(-1)!=="]")throw'unterminated "[" block: |'+it+"|";if(it.match(SSF_abstime)){if(ct==null&&(ct=SSF_parse_date_code(tt,rt),ct==null))return"";at[at.length]={t:"Z",v:it.toLowerCase()},lt=it.charAt(1)}else it.indexOf("$")>-1&&(it=(it.match(/\$([^-\[\]]*)/)||[])[1]||"$",fmt_is_date(et)||(at[at.length]={t:"t",v:it}));break;case".":if(ct!=null){for(it=ot;++st<et.length&&(ot=et.charAt(st))==="0";)it+=ot;at[at.length]={t:"s",v:it};break}case"0":case"#":for(it=ot;++st<et.length&&"0#?.,E+-%".indexOf(ot=et.charAt(st))>-1;)it+=ot;at[at.length]={t:"n",v:it};break;case"?":for(it=ot;et.charAt(++st)===ot;)it+=ot;at[at.length]={t:ot,v:it},lt=ot;break;case"*":++st,(et.charAt(st)==" "||et.charAt(st)=="*")&&++st;break;case"(":case")":at[at.length]={t:nt===1?"t":ot,v:ot},++st;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(it=ot;st<et.length&&"0123456789".indexOf(et.charAt(++st))>-1;)it+=et.charAt(st);at[at.length]={t:"D",v:it};break;case" ":at[at.length]={t:ot,v:ot},++st;break;case"$":at[at.length]={t:"t",v:"$"},++st;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(ot)===-1)throw new Error("unrecognized character "+ot+" in "+et);at[at.length]={t:"t",v:ot},++st;break}var xt=0,vt=0,_t;for(st=at.length-1,lt="t";st>=0;--st)switch(at[st].t){case"h":case"H":at[st].t=ft,lt="h",xt<1&&(xt=1);break;case"s":(_t=at[st].v.match(/\.0+$/))&&(vt=Math.max(vt,_t[0].length-1)),xt<3&&(xt=3);case"d":case"y":case"M":case"e":lt=at[st].t;break;case"m":lt==="s"&&(at[st].t="M",xt<2&&(xt=2));break;case"X":break;case"Z":xt<1&&at[st].v.match(/[Hh]/)&&(xt=1),xt<2&&at[st].v.match(/[Mm]/)&&(xt=2),xt<3&&at[st].v.match(/[Ss]/)&&(xt=3)}switch(xt){case 0:break;case 1:ct.u>=.5&&(ct.u=0,++ct.S),ct.S>=60&&(ct.S=0,++ct.M),ct.M>=60&&(ct.M=0,++ct.H);break;case 2:ct.u>=.5&&(ct.u=0,++ct.S),ct.S>=60&&(ct.S=0,++ct.M);break}var yt="",St;for(st=0;st<at.length;++st)switch(at[st].t){case"t":case"T":case" ":case"D":break;case"X":at[st].v="",at[st].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":at[st].v=SSF_write_date(at[st].t.charCodeAt(0),at[st].v,ct,vt),at[st].t="t";break;case"n":case"?":for(St=st+1;at[St]!=null&&((ot=at[St].t)==="?"||ot==="D"||(ot===" "||ot==="t")&&at[St+1]!=null&&(at[St+1].t==="?"||at[St+1].t==="t"&&at[St+1].v==="/")||at[st].t==="("&&(ot===" "||ot==="n"||ot===")")||ot==="t"&&(at[St].v==="/"||at[St].v===" "&&at[St+1]!=null&&at[St+1].t=="?"));)at[st].v+=at[St].v,at[St]={v:"",t:";"},++St;yt+=at[st].v,st=St-1;break;case"G":at[st].t="t",at[st].v=SSF_general(tt,rt);break}var bt="",Et,Tt;if(yt.length>0){yt.charCodeAt(0)==40?(Et=tt<0&&yt.charCodeAt(0)===45?-tt:tt,Tt=write_num("n",yt,Et)):(Et=tt<0&&nt>1?-tt:tt,Tt=write_num("n",yt,Et),Et<0&&at[0]&&at[0].t=="t"&&(Tt=Tt.substr(1),at[0].v="-"+at[0].v)),St=Tt.length-1;var At=at.length;for(st=0;st<at.length;++st)if(at[st]!=null&&at[st].t!="t"&&at[st].v.indexOf(".")>-1){At=st;break}var Ct=at.length;if(At===at.length&&Tt.indexOf("E")===-1){for(st=at.length-1;st>=0;--st)at[st]==null||"n?".indexOf(at[st].t)===-1||(St>=at[st].v.length-1?(St-=at[st].v.length,at[st].v=Tt.substr(St+1,at[st].v.length)):St<0?at[st].v="":(at[st].v=Tt.substr(0,St+1),St=-1),at[st].t="t",Ct=st);St>=0&&Ct<at.length&&(at[Ct].v=Tt.substr(0,St+1)+at[Ct].v)}else if(At!==at.length&&Tt.indexOf("E")===-1){for(St=Tt.indexOf(".")-1,st=At;st>=0;--st)if(!(at[st]==null||"n?".indexOf(at[st].t)===-1)){for(ut=at[st].v.indexOf(".")>-1&&st===At?at[st].v.indexOf(".")-1:at[st].v.length-1,bt=at[st].v.substr(ut+1);ut>=0;--ut)St>=0&&(at[st].v.charAt(ut)==="0"||at[st].v.charAt(ut)==="#")&&(bt=Tt.charAt(St--)+bt);at[st].v=bt,at[st].t="t",Ct=st}for(St>=0&&Ct<at.length&&(at[Ct].v=Tt.substr(0,St+1)+at[Ct].v),St=Tt.indexOf(".")+1,st=At;st<at.length;++st)if(!(at[st]==null||"n?(".indexOf(at[st].t)===-1&&st!==At)){for(ut=at[st].v.indexOf(".")>-1&&st===At?at[st].v.indexOf(".")+1:0,bt=at[st].v.substr(0,ut);ut<at[st].v.length;++ut)St<Tt.length&&(bt+=Tt.charAt(St++));at[st].v=bt,at[st].t="t",Ct=st}}}for(st=0;st<at.length;++st)at[st]!=null&&"n?".indexOf(at[st].t)>-1&&(Et=nt>1&&tt<0&&st>0&&at[st-1].v==="-"?-tt:tt,at[st].v=write_num(at[st].t,at[st].v,Et),at[st].t="t");var kt="";for(st=0;st!==at.length;++st)at[st]!=null&&(kt+=at[st].v);return kt}var cfregex2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function chkcond(et,tt){if(tt==null)return!1;var rt=parseFloat(tt[2]);switch(tt[1]){case"=":if(et==rt)return!0;break;case">":if(et>rt)return!0;break;case"<":if(et<rt)return!0;break;case"<>":if(et!=rt)return!0;break;case">=":if(et>=rt)return!0;break;case"<=":if(et<=rt)return!0;break}return!1}function choose_fmt(et,tt){var rt=SSF_split_fmt(et),nt=rt.length,at=rt[nt-1].indexOf("@");if(nt<4&&at>-1&&--nt,rt.length>4)throw new Error("cannot find right format for |"+rt.join("|")+"|");if(typeof tt!="number")return[4,rt.length===4||at>-1?rt[rt.length-1]:"@"];switch(rt.length){case 1:rt=at>-1?["General","General","General",rt[0]]:[rt[0],rt[0],rt[0],"@"];break;case 2:rt=at>-1?[rt[0],rt[0],rt[0],rt[1]]:[rt[0],rt[1],rt[0],"@"];break;case 3:rt=at>-1?[rt[0],rt[1],rt[0],rt[2]]:[rt[0],rt[1],rt[2],"@"];break}var it=tt>0?rt[0]:tt<0?rt[1]:rt[2];if(rt[0].indexOf("[")===-1&&rt[1].indexOf("[")===-1)return[nt,it];if(rt[0].match(/\[[=<>]/)!=null||rt[1].match(/\[[=<>]/)!=null){var st=rt[0].match(cfregex2),ot=rt[1].match(cfregex2);return chkcond(tt,st)?[nt,rt[0]]:chkcond(tt,ot)?[nt,rt[1]]:[nt,rt[st!=null&&ot!=null?2:1]]}return[nt,it]}function SSF_format(et,tt,rt){rt==null&&(rt={});var nt="";switch(typeof et){case"string":et=="m/d/yy"&&rt.dateNF?nt=rt.dateNF:nt=et;break;case"number":et==14&&rt.dateNF?nt=rt.dateNF:nt=(rt.table!=null?rt.table:table_fmt)[et],nt==null&&(nt=rt.table&&rt.table[SSF_default_map[et]]||table_fmt[SSF_default_map[et]]),nt==null&&(nt=SSF_default_str[et]||"General");break}if(SSF_isgeneral(nt,0))return SSF_general(tt,rt);tt instanceof Date&&(tt=datenum_local(tt,rt.date1904));var at=choose_fmt(nt,tt);if(SSF_isgeneral(at[1]))return SSF_general(tt,rt);if(tt===!0)tt="TRUE";else if(tt===!1)tt="FALSE";else if(tt===""||tt==null)return"";return eval_fmt(at[1],tt,rt,at[0])}function SSF_load(et,tt){if(typeof tt!="number"){tt=+tt||-1;for(var rt=0;rt<392;++rt){if(table_fmt[rt]==null){tt<0&&(tt=rt);continue}if(table_fmt[rt]==et){tt=rt;break}}tt<0&&(tt=391)}return table_fmt[tt]=et,tt}function SSF_load_table(et){for(var tt=0;tt!=392;++tt)et[tt]!==void 0&&SSF_load(et[tt],tt)}function make_ssf(){table_fmt=SSF_init_table()}var SSF={format:SSF_format,load:SSF_load,_table:table_fmt,load_table:SSF_load_table,parse_date_code:SSF_parse_date_code,is_date:fmt_is_date,get_table:function(){return SSF._table=table_fmt}},SSFImplicit={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},dateNFregex=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function dateNF_regex(et){var tt=typeof et=="number"?table_fmt[et]:et;return tt=tt.replace(dateNFregex,"(\\d+)"),new RegExp("^"+tt+"$")}function dateNF_fix(et,tt,rt){var nt=-1,at=-1,it=-1,st=-1,ot=-1,lt=-1;(tt.match(dateNFregex)||[]).forEach(function(dt,ft){var ht=parseInt(rt[ft+1],10);switch(dt.toLowerCase().charAt(0)){case"y":nt=ht;break;case"d":it=ht;break;case"h":st=ht;break;case"s":lt=ht;break;case"m":st>=0?ot=ht:at=ht;break}}),lt>=0&&ot==-1&&at>=0&&(ot=at,at=-1);var ct=(""+(nt>=0?nt:new Date().getFullYear())).slice(-4)+"-"+("00"+(at>=1?at:1)).slice(-2)+"-"+("00"+(it>=1?it:1)).slice(-2);ct.length==7&&(ct="0"+ct),ct.length==8&&(ct="20"+ct);var ut=("00"+(st>=0?st:0)).slice(-2)+":"+("00"+(ot>=0?ot:0)).slice(-2)+":"+("00"+(lt>=0?lt:0)).slice(-2);return st==-1&&ot==-1&&lt==-1?ct:nt==-1&&at==-1&&it==-1?ut:ct+"T"+ut}var CRC32=function(){var et={};et.version="1.2.0";function tt(){for(var Tt=0,At=new Array(256),Ct=0;Ct!=256;++Ct)Tt=Ct,Tt=Tt&1?-306674912^Tt>>>1:Tt>>>1,Tt=Tt&1?-306674912^Tt>>>1:Tt>>>1,Tt=Tt&1?-306674912^Tt>>>1:Tt>>>1,Tt=Tt&1?-306674912^Tt>>>1:Tt>>>1,Tt=Tt&1?-306674912^Tt>>>1:Tt>>>1,Tt=Tt&1?-306674912^Tt>>>1:Tt>>>1,Tt=Tt&1?-306674912^Tt>>>1:Tt>>>1,Tt=Tt&1?-306674912^Tt>>>1:Tt>>>1,At[Ct]=Tt;return typeof Int32Array<"u"?new Int32Array(At):At}var rt=tt();function nt(Tt){var At=0,Ct=0,kt=0,Pt=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(kt=0;kt!=256;++kt)Pt[kt]=Tt[kt];for(kt=0;kt!=256;++kt)for(Ct=Tt[kt],At=256+kt;At<4096;At+=256)Ct=Pt[At]=Ct>>>8^Tt[Ct&255];var Dt=[];for(kt=1;kt!=16;++kt)Dt[kt-1]=typeof Int32Array<"u"?Pt.subarray(kt*256,kt*256+256):Pt.slice(kt*256,kt*256+256);return Dt}var at=nt(rt),it=at[0],st=at[1],ot=at[2],lt=at[3],ct=at[4],ut=at[5],dt=at[6],ft=at[7],ht=at[8],gt=at[9],mt=at[10],xt=at[11],vt=at[12],_t=at[13],yt=at[14];function St(Tt,At){for(var Ct=At^-1,kt=0,Pt=Tt.length;kt<Pt;)Ct=Ct>>>8^rt[(Ct^Tt.charCodeAt(kt++))&255];return~Ct}function bt(Tt,At){for(var Ct=At^-1,kt=Tt.length-15,Pt=0;Pt<kt;)Ct=yt[Tt[Pt++]^Ct&255]^_t[Tt[Pt++]^Ct>>8&255]^vt[Tt[Pt++]^Ct>>16&255]^xt[Tt[Pt++]^Ct>>>24]^mt[Tt[Pt++]]^gt[Tt[Pt++]]^ht[Tt[Pt++]]^ft[Tt[Pt++]]^dt[Tt[Pt++]]^ut[Tt[Pt++]]^ct[Tt[Pt++]]^lt[Tt[Pt++]]^ot[Tt[Pt++]]^st[Tt[Pt++]]^it[Tt[Pt++]]^rt[Tt[Pt++]];for(kt+=15;Pt<kt;)Ct=Ct>>>8^rt[(Ct^Tt[Pt++])&255];return~Ct}function Et(Tt,At){for(var Ct=At^-1,kt=0,Pt=Tt.length,Dt=0,Ft=0;kt<Pt;)Dt=Tt.charCodeAt(kt++),Dt<128?Ct=Ct>>>8^rt[(Ct^Dt)&255]:Dt<2048?(Ct=Ct>>>8^rt[(Ct^(192|Dt>>6&31))&255],Ct=Ct>>>8^rt[(Ct^(128|Dt&63))&255]):Dt>=55296&&Dt<57344?(Dt=(Dt&1023)+64,Ft=Tt.charCodeAt(kt++)&1023,Ct=Ct>>>8^rt[(Ct^(240|Dt>>8&7))&255],Ct=Ct>>>8^rt[(Ct^(128|Dt>>2&63))&255],Ct=Ct>>>8^rt[(Ct^(128|Ft>>6&15|(Dt&3)<<4))&255],Ct=Ct>>>8^rt[(Ct^(128|Ft&63))&255]):(Ct=Ct>>>8^rt[(Ct^(224|Dt>>12&15))&255],Ct=Ct>>>8^rt[(Ct^(128|Dt>>6&63))&255],Ct=Ct>>>8^rt[(Ct^(128|Dt&63))&255]);return~Ct}return et.table=rt,et.bstr=St,et.buf=bt,et.str=Et,et}(),CFB=function(){var tt={};tt.version="1.2.1";function rt(Wt,rr){for(var tr=Wt.split("/"),nr=rr.split("/"),sr=0,cr=0,_r=Math.min(tr.length,nr.length);sr<_r;++sr){if(cr=tr[sr].length-nr[sr].length)return cr;if(tr[sr]!=nr[sr])return tr[sr]<nr[sr]?-1:1}return tr.length-nr.length}function nt(Wt){if(Wt.charAt(Wt.length-1)=="/")return Wt.slice(0,-1).indexOf("/")===-1?Wt:nt(Wt.slice(0,-1));var rr=Wt.lastIndexOf("/");return rr===-1?Wt:Wt.slice(0,rr+1)}function at(Wt){if(Wt.charAt(Wt.length-1)=="/")return at(Wt.slice(0,-1));var rr=Wt.lastIndexOf("/");return rr===-1?Wt:Wt.slice(rr+1)}function it(Wt,rr){typeof rr=="string"&&(rr=new Date(rr));var tr=rr.getHours();tr=tr<<6|rr.getMinutes(),tr=tr<<5|rr.getSeconds()>>>1,Wt.write_shift(2,tr);var nr=rr.getFullYear()-1980;nr=nr<<4|rr.getMonth()+1,nr=nr<<5|rr.getDate(),Wt.write_shift(2,nr)}function st(Wt){var rr=Wt.read_shift(2)&65535,tr=Wt.read_shift(2)&65535,nr=new Date,sr=tr&31;tr>>>=5;var cr=tr&15;tr>>>=4,nr.setMilliseconds(0),nr.setFullYear(tr+1980),nr.setMonth(cr-1),nr.setDate(sr);var _r=rr&31;rr>>>=5;var Sr=rr&63;return rr>>>=6,nr.setHours(rr),nr.setMinutes(Sr),nr.setSeconds(_r<<1),nr}function ot(Wt){prep_blob(Wt,0);for(var rr={},tr=0;Wt.l<=Wt.length-4;){var nr=Wt.read_shift(2),sr=Wt.read_shift(2),cr=Wt.l+sr,_r={};switch(nr){case 21589:tr=Wt.read_shift(1),tr&1&&(_r.mtime=Wt.read_shift(4)),sr>5&&(tr&2&&(_r.atime=Wt.read_shift(4)),tr&4&&(_r.ctime=Wt.read_shift(4))),_r.mtime&&(_r.mt=new Date(_r.mtime*1e3));break}Wt.l=cr,rr[nr]=_r}return rr}var lt;function ct(){return lt||(lt={})}function ut(Wt,rr){if(Wt[0]==80&&Wt[1]==75)return Tn(Wt,rr);if((Wt[0]|32)==109&&(Wt[1]|32)==105)return Hr(Wt,rr);if(Wt.length<512)throw new Error("CFB file size "+Wt.length+" < 512");var tr=3,nr=512,sr=0,cr=0,_r=0,Sr=0,gr=0,br=[],Ar=Wt.slice(0,512);prep_blob(Ar,0);var Lr=dt(Ar);switch(tr=Lr[0],tr){case 3:nr=512;break;case 4:nr=4096;break;case 0:if(Lr[1]==0)return Tn(Wt,rr);default:throw new Error("Major Version: Expected 3 or 4 saw "+tr)}nr!==512&&(Ar=Wt.slice(0,nr),prep_blob(Ar,28));var Kr=Wt.slice(0,nr);ft(Ar,tr);var an=Ar.read_shift(4,"i");if(tr===3&&an!==0)throw new Error("# Directory Sectors: Expected 0 saw "+an);Ar.l+=4,_r=Ar.read_shift(4,"i"),Ar.l+=4,Ar.chk("00100000","Mini Stream Cutoff Size: "),Sr=Ar.read_shift(4,"i"),sr=Ar.read_shift(4,"i"),gr=Ar.read_shift(4,"i"),cr=Ar.read_shift(4,"i");for(var Wr=-1,on=0;on<109&&(Wr=Ar.read_shift(4,"i"),!(Wr<0));++on)br[on]=Wr;var gn=ht(Wt,nr);xt(gr,cr,gn,nr,br);var Cn=_t(gn,_r,br,nr);Cn[_r].name="!Directory",sr>0&&Sr!==Ft&&(Cn[Sr].name="!MiniFAT"),Cn[br[0]].name="!FAT",Cn.fat_addrs=br,Cn.ssz=nr;var Pn={},Nn=[],Yn=[],Hn=[];yt(_r,Cn,gn,Nn,sr,Pn,Yn,Sr),gt(Yn,Hn,Nn),Nn.shift();var ba={FileIndex:Yn,FullPaths:Hn};return rr&&rr.raw&&(ba.raw={header:Kr,sectors:gn}),ba}function dt(Wt){if(Wt[Wt.l]==80&&Wt[Wt.l+1]==75)return[0,0];Wt.chk(Ot,"Header Signature: "),Wt.l+=16;var rr=Wt.read_shift(2,"u");return[Wt.read_shift(2,"u"),rr]}function ft(Wt,rr){var tr=9;switch(Wt.l+=2,tr=Wt.read_shift(2)){case 9:if(rr!=3)throw new Error("Sector Shift: Expected 9 saw "+tr);break;case 12:if(rr!=4)throw new Error("Sector Shift: Expected 12 saw "+tr);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+tr)}Wt.chk("0600","Mini Sector Shift: "),Wt.chk("000000000000","Reserved: ")}function ht(Wt,rr){for(var tr=Math.ceil(Wt.length/rr)-1,nr=[],sr=1;sr<tr;++sr)nr[sr-1]=Wt.slice(sr*rr,(sr+1)*rr);return nr[tr-1]=Wt.slice(tr*rr),nr}function gt(Wt,rr,tr){for(var nr=0,sr=0,cr=0,_r=0,Sr=0,gr=tr.length,br=[],Ar=[];nr<gr;++nr)br[nr]=Ar[nr]=nr,rr[nr]=tr[nr];for(;Sr<Ar.length;++Sr)nr=Ar[Sr],sr=Wt[nr].L,cr=Wt[nr].R,_r=Wt[nr].C,br[nr]===nr&&(sr!==-1&&br[sr]!==sr&&(br[nr]=br[sr]),cr!==-1&&br[cr]!==cr&&(br[nr]=br[cr])),_r!==-1&&(br[_r]=nr),sr!==-1&&nr!=br[nr]&&(br[sr]=br[nr],Ar.lastIndexOf(sr)<Sr&&Ar.push(sr)),cr!==-1&&nr!=br[nr]&&(br[cr]=br[nr],Ar.lastIndexOf(cr)<Sr&&Ar.push(cr));for(nr=1;nr<gr;++nr)br[nr]===nr&&(cr!==-1&&br[cr]!==cr?br[nr]=br[cr]:sr!==-1&&br[sr]!==sr&&(br[nr]=br[sr]));for(nr=1;nr<gr;++nr)if(Wt[nr].type!==0){if(Sr=nr,Sr!=br[Sr])do Sr=br[Sr],rr[nr]=rr[Sr]+"/"+rr[nr];while(Sr!==0&&br[Sr]!==-1&&Sr!=br[Sr]);br[nr]=-1}for(rr[0]+="/",nr=1;nr<gr;++nr)Wt[nr].type!==2&&(rr[nr]+="/")}function mt(Wt,rr,tr){for(var nr=Wt.start,sr=Wt.size,cr=[],_r=nr;tr&&sr>0&&_r>=0;)cr.push(rr.slice(_r*Dt,_r*Dt+Dt)),sr-=Dt,_r=__readInt32LE(tr,_r*4);return cr.length===0?new_buf(0):bconcat(cr).slice(0,Wt.size)}function xt(Wt,rr,tr,nr,sr){var cr=Ft;if(Wt===Ft){if(rr!==0)throw new Error("DIFAT chain shorter than expected")}else if(Wt!==-1){var _r=tr[Wt],Sr=(nr>>>2)-1;if(!_r)return;for(var gr=0;gr<Sr&&(cr=__readInt32LE(_r,gr*4))!==Ft;++gr)sr.push(cr);xt(__readInt32LE(_r,nr-4),rr-1,tr,nr,sr)}}function vt(Wt,rr,tr,nr,sr){var cr=[],_r=[];sr||(sr=[]);var Sr=nr-1,gr=0,br=0;for(gr=rr;gr>=0;){sr[gr]=!0,cr[cr.length]=gr,_r.push(Wt[gr]);var Ar=tr[Math.floor(gr*4/nr)];if(br=gr*4&Sr,nr<4+br)throw new Error("FAT boundary crossed: "+gr+" 4 "+nr);if(!Wt[Ar])break;gr=__readInt32LE(Wt[Ar],br)}return{nodes:cr,data:__toBuffer([_r])}}function _t(Wt,rr,tr,nr){var sr=Wt.length,cr=[],_r=[],Sr=[],gr=[],br=nr-1,Ar=0,Lr=0,Kr=0,an=0;for(Ar=0;Ar<sr;++Ar)if(Sr=[],Kr=Ar+rr,Kr>=sr&&(Kr-=sr),!_r[Kr]){gr=[];var Wr=[];for(Lr=Kr;Lr>=0;){Wr[Lr]=!0,_r[Lr]=!0,Sr[Sr.length]=Lr,gr.push(Wt[Lr]);var on=tr[Math.floor(Lr*4/nr)];if(an=Lr*4&br,nr<4+an)throw new Error("FAT boundary crossed: "+Lr+" 4 "+nr);if(!Wt[on]||(Lr=__readInt32LE(Wt[on],an),Wr[Lr]))break}cr[Kr]={nodes:Sr,data:__toBuffer([gr])}}return cr}function yt(Wt,rr,tr,nr,sr,cr,_r,Sr){for(var gr=0,br=nr.length?2:0,Ar=rr[Wt].data,Lr=0,Kr=0,an;Lr<Ar.length;Lr+=128){var Wr=Ar.slice(Lr,Lr+128);prep_blob(Wr,64),Kr=Wr.read_shift(2),an=__utf16le(Wr,0,Kr-br),nr.push(an);var on={name:an,type:Wr.read_shift(1),color:Wr.read_shift(1),L:Wr.read_shift(4,"i"),R:Wr.read_shift(4,"i"),C:Wr.read_shift(4,"i"),clsid:Wr.read_shift(16),state:Wr.read_shift(4,"i"),start:0,size:0},gn=Wr.read_shift(2)+Wr.read_shift(2)+Wr.read_shift(2)+Wr.read_shift(2);gn!==0&&(on.ct=St(Wr,Wr.l-8));var Cn=Wr.read_shift(2)+Wr.read_shift(2)+Wr.read_shift(2)+Wr.read_shift(2);Cn!==0&&(on.mt=St(Wr,Wr.l-8)),on.start=Wr.read_shift(4,"i"),on.size=Wr.read_shift(4,"i"),on.size<0&&on.start<0&&(on.size=on.type=0,on.start=Ft,on.name=""),on.type===5?(gr=on.start,sr>0&&gr!==Ft&&(rr[gr].name="!StreamData")):on.size>=4096?(on.storage="fat",rr[on.start]===void 0&&(rr[on.start]=vt(tr,on.start,rr.fat_addrs,rr.ssz)),rr[on.start].name=on.name,on.content=rr[on.start].data.slice(0,on.size)):(on.storage="minifat",on.size<0?on.size=0:gr!==Ft&&on.start!==Ft&&rr[gr]&&(on.content=mt(on,rr[gr].data,(rr[Sr]||{}).data))),on.content&&prep_blob(on.content,0),cr[an]=on,_r.push(on)}}function St(Wt,rr){return new Date((__readUInt32LE(Wt,rr+4)/1e7*Math.pow(2,32)+__readUInt32LE(Wt,rr)/1e7-11644473600)*1e3)}function bt(Wt,rr){return ct(),ut(lt.readFileSync(Wt),rr)}function Et(Wt,rr){var tr=rr&&rr.type;switch(tr||has_buf&&Buffer.isBuffer(Wt)&&(tr="buffer"),tr||"base64"){case"file":return bt(Wt,rr);case"base64":return ut(s2a(Base64_decode(Wt)),rr);case"binary":return ut(s2a(Wt),rr)}return ut(Wt,rr)}function Tt(Wt,rr){var tr=rr||{},nr=tr.root||"Root Entry";if(Wt.FullPaths||(Wt.FullPaths=[]),Wt.FileIndex||(Wt.FileIndex=[]),Wt.FullPaths.length!==Wt.FileIndex.length)throw new Error("inconsistent CFB structure");Wt.FullPaths.length===0&&(Wt.FullPaths[0]=nr+"/",Wt.FileIndex[0]={name:nr,type:5}),tr.CLSID&&(Wt.FileIndex[0].clsid=tr.CLSID),At(Wt)}function At(Wt){var rr="Sh33tJ5";if(!CFB.find(Wt,"/"+rr)){var tr=new_buf(4);tr[0]=55,tr[1]=tr[3]=50,tr[2]=54,Wt.FileIndex.push({name:rr,type:2,content:tr,size:4,L:69,R:69,C:69}),Wt.FullPaths.push(Wt.FullPaths[0]+rr),Ct(Wt)}}function Ct(Wt,rr){Tt(Wt);for(var tr=!1,nr=!1,sr=Wt.FullPaths.length-1;sr>=0;--sr){var cr=Wt.FileIndex[sr];switch(cr.type){case 0:nr?tr=!0:(Wt.FileIndex.pop(),Wt.FullPaths.pop());break;case 1:case 2:case 5:nr=!0,isNaN(cr.R*cr.L*cr.C)&&(tr=!0),cr.R>-1&&cr.L>-1&&cr.R==cr.L&&(tr=!0);break;default:tr=!0;break}}if(!(!tr&&!rr)){var _r=new Date(1987,1,19),Sr=0,gr=Object.create?Object.create(null):{},br=[];for(sr=0;sr<Wt.FullPaths.length;++sr)gr[Wt.FullPaths[sr]]=!0,Wt.FileIndex[sr].type!==0&&br.push([Wt.FullPaths[sr],Wt.FileIndex[sr]]);for(sr=0;sr<br.length;++sr){var Ar=nt(br[sr][0]);nr=gr[Ar],nr||(br.push([Ar,{name:at(Ar).replace("/",""),type:1,clsid:Bt,ct:_r,mt:_r,content:null}]),gr[Ar]=!0)}for(br.sort(function(an,Wr){return rt(an[0],Wr[0])}),Wt.FullPaths=[],Wt.FileIndex=[],sr=0;sr<br.length;++sr)Wt.FullPaths[sr]=br[sr][0],Wt.FileIndex[sr]=br[sr][1];for(sr=0;sr<br.length;++sr){var Lr=Wt.FileIndex[sr],Kr=Wt.FullPaths[sr];if(Lr.name=at(Kr).replace("/",""),Lr.L=Lr.R=Lr.C=-(Lr.color=1),Lr.size=Lr.content?Lr.content.length:0,Lr.start=0,Lr.clsid=Lr.clsid||Bt,sr===0)Lr.C=br.length>1?1:-1,Lr.size=0,Lr.type=5;else if(Kr.slice(-1)=="/"){for(Sr=sr+1;Sr<br.length&&nt(Wt.FullPaths[Sr])!=Kr;++Sr);for(Lr.C=Sr>=br.length?-1:Sr,Sr=sr+1;Sr<br.length&&nt(Wt.FullPaths[Sr])!=nt(Kr);++Sr);Lr.R=Sr>=br.length?-1:Sr,Lr.type=1}else nt(Wt.FullPaths[sr+1]||"")==nt(Kr)&&(Lr.R=sr+1),Lr.type=2}}}function kt(Wt,rr){var tr=rr||{};if(tr.fileType=="mad")return xn(Wt,tr);switch(Ct(Wt),tr.fileType){case"zip":return Pr(Wt,tr)}var nr=function(an){for(var Wr=0,on=0,gn=0;gn<an.FileIndex.length;++gn){var Cn=an.FileIndex[gn];if(Cn.content){var Pn=Cn.content.length;Pn>0&&(Pn<4096?Wr+=Pn+63>>6:on+=Pn+511>>9)}}for(var Nn=an.FullPaths.length+3>>2,Yn=Wr+7>>3,Hn=Wr+127>>7,ba=Yn+on+Nn+Hn,Gn=ba+127>>7,Zn=Gn<=109?0:Math.ceil((Gn-109)/127);ba+Gn+Zn+127>>7>Gn;)Zn=++Gn<=109?0:Math.ceil((Gn-109)/127);var _n=[1,Zn,Gn,Hn,Nn,on,Wr,0];return an.FileIndex[0].size=Wr<<6,_n[7]=(an.FileIndex[0].start=_n[0]+_n[1]+_n[2]+_n[3]+_n[4]+_n[5])+(_n[6]+7>>3),_n}(Wt),sr=new_buf(nr[7]<<9),cr=0,_r=0;{for(cr=0;cr<8;++cr)sr.write_shift(1,It[cr]);for(cr=0;cr<8;++cr)sr.write_shift(2,0);for(sr.write_shift(2,62),sr.write_shift(2,3),sr.write_shift(2,65534),sr.write_shift(2,9),sr.write_shift(2,6),cr=0;cr<3;++cr)sr.write_shift(2,0);for(sr.write_shift(4,0),sr.write_shift(4,nr[2]),sr.write_shift(4,nr[0]+nr[1]+nr[2]+nr[3]-1),sr.write_shift(4,0),sr.write_shift(4,4096),sr.write_shift(4,nr[3]?nr[0]+nr[1]+nr[2]-1:Ft),sr.write_shift(4,nr[3]),sr.write_shift(-4,nr[1]?nr[0]-1:Ft),sr.write_shift(4,nr[1]),cr=0;cr<109;++cr)sr.write_shift(-4,cr<nr[2]?nr[1]+cr:-1)}if(nr[1])for(_r=0;_r<nr[1];++_r){for(;cr<236+_r*127;++cr)sr.write_shift(-4,cr<nr[2]?nr[1]+cr:-1);sr.write_shift(-4,_r===nr[1]-1?Ft:_r+1)}var Sr=function(an){for(_r+=an;cr<_r-1;++cr)sr.write_shift(-4,cr+1);an&&(++cr,sr.write_shift(-4,Ft))};for(_r=cr=0,_r+=nr[1];cr<_r;++cr)sr.write_shift(-4,qt.DIFSECT);for(_r+=nr[2];cr<_r;++cr)sr.write_shift(-4,qt.FATSECT);Sr(nr[3]),Sr(nr[4]);for(var gr=0,br=0,Ar=Wt.FileIndex[0];gr<Wt.FileIndex.length;++gr)Ar=Wt.FileIndex[gr],Ar.content&&(br=Ar.content.length,!(br<4096)&&(Ar.start=_r,Sr(br+511>>9)));for(Sr(nr[6]+7>>3);sr.l&511;)sr.write_shift(-4,qt.ENDOFCHAIN);for(_r=cr=0,gr=0;gr<Wt.FileIndex.length;++gr)Ar=Wt.FileIndex[gr],Ar.content&&(br=Ar.content.length,!(!br||br>=4096)&&(Ar.start=_r,Sr(br+63>>6)));for(;sr.l&511;)sr.write_shift(-4,qt.ENDOFCHAIN);for(cr=0;cr<nr[4]<<2;++cr){var Lr=Wt.FullPaths[cr];if(!Lr||Lr.length===0){for(gr=0;gr<17;++gr)sr.write_shift(4,0);for(gr=0;gr<3;++gr)sr.write_shift(4,-1);for(gr=0;gr<12;++gr)sr.write_shift(4,0);continue}Ar=Wt.FileIndex[cr],cr===0&&(Ar.start=Ar.size?Ar.start-1:Ft);var Kr=cr===0&&tr.root||Ar.name;if(br=2*(Kr.length+1),sr.write_shift(64,Kr,"utf16le"),sr.write_shift(2,br),sr.write_shift(1,Ar.type),sr.write_shift(1,Ar.color),sr.write_shift(-4,Ar.L),sr.write_shift(-4,Ar.R),sr.write_shift(-4,Ar.C),Ar.clsid)sr.write_shift(16,Ar.clsid,"hex");else for(gr=0;gr<4;++gr)sr.write_shift(4,0);sr.write_shift(4,Ar.state||0),sr.write_shift(4,0),sr.write_shift(4,0),sr.write_shift(4,0),sr.write_shift(4,0),sr.write_shift(4,Ar.start),sr.write_shift(4,Ar.size),sr.write_shift(4,0)}for(cr=1;cr<Wt.FileIndex.length;++cr)if(Ar=Wt.FileIndex[cr],Ar.size>=4096)if(sr.l=Ar.start+1<<9,has_buf&&Buffer.isBuffer(Ar.content))Ar.content.copy(sr,sr.l,0,Ar.size),sr.l+=Ar.size+511&-512;else{for(gr=0;gr<Ar.size;++gr)sr.write_shift(1,Ar.content[gr]);for(;gr&511;++gr)sr.write_shift(1,0)}for(cr=1;cr<Wt.FileIndex.length;++cr)if(Ar=Wt.FileIndex[cr],Ar.size>0&&Ar.size<4096)if(has_buf&&Buffer.isBuffer(Ar.content))Ar.content.copy(sr,sr.l,0,Ar.size),sr.l+=Ar.size+63&-64;else{for(gr=0;gr<Ar.size;++gr)sr.write_shift(1,Ar.content[gr]);for(;gr&63;++gr)sr.write_shift(1,0)}if(has_buf)sr.l=sr.length;else for(;sr.l<sr.length;)sr.write_shift(1,0);return sr}function Pt(Wt,rr){var tr=Wt.FullPaths.map(function(gr){return gr.toUpperCase()}),nr=tr.map(function(gr){var br=gr.split("/");return br[br.length-(gr.slice(-1)=="/"?2:1)]}),sr=!1;rr.charCodeAt(0)===47?(sr=!0,rr=tr[0].slice(0,-1)+rr):sr=rr.indexOf("/")!==-1;var cr=rr.toUpperCase(),_r=sr===!0?tr.indexOf(cr):nr.indexOf(cr);if(_r!==-1)return Wt.FileIndex[_r];var Sr=!cr.match(chr1);for(cr=cr.replace(chr0,""),Sr&&(cr=cr.replace(chr1,"!")),_r=0;_r<tr.length;++_r)if((Sr?tr[_r].replace(chr1,"!"):tr[_r]).replace(chr0,"")==cr||(Sr?nr[_r].replace(chr1,"!"):nr[_r]).replace(chr0,"")==cr)return Wt.FileIndex[_r];return null}var Dt=64,Ft=-2,Ot="d0cf11e0a1b11ae1",It=[208,207,17,224,161,177,26,225],Bt="00000000000000000000000000000000",qt={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Ft,FREESECT:-1,HEADER_SIGNATURE:Ot,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Bt,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Ut(Wt,rr,tr){ct();var nr=kt(Wt,tr);lt.writeFileSync(rr,nr)}function Ht(Wt){for(var rr=new Array(Wt.length),tr=0;tr<Wt.length;++tr)rr[tr]=String.fromCharCode(Wt[tr]);return rr.join("")}function Qt(Wt,rr){var tr=kt(Wt,rr);switch(rr&&rr.type||"buffer"){case"file":return ct(),lt.writeFileSync(rr.filename,tr),tr;case"binary":return typeof tr=="string"?tr:Ht(tr);case"base64":return Base64_encode(typeof tr=="string"?tr:Ht(tr));case"buffer":if(has_buf)return Buffer.isBuffer(tr)?tr:Buffer_from(tr);case"array":return typeof tr=="string"?s2a(tr):tr}return tr}var ir;function Xt(Wt){try{var rr=Wt.InflateRaw,tr=new rr;if(tr._processChunk(new Uint8Array([3,0]),tr._finishFlushFlag),tr.bytesRead)ir=Wt;else throw new Error("zlib does not expose bytesRead")}catch(nr){console.error("cannot use native zlib: "+(nr.message||nr))}}function Lt(Wt,rr){if(!ir)return Vr(Wt,rr);var tr=ir.InflateRaw,nr=new tr,sr=nr._processChunk(Wt.slice(Wt.l),nr._finishFlushFlag);return Wt.l+=nr.bytesRead,sr}function jt(Wt){return ir?ir.deflateRawSync(Wt):$r(Wt)}var Nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Mt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Vt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Gt(Wt){var rr=(Wt<<1|Wt<<11)&139536|(Wt<<5|Wt<<15)&558144;return(rr>>16|rr>>8|rr)&255}for(var Zt=typeof Uint8Array<"u",er=Zt?new Uint8Array(256):[],ar=0;ar<256;++ar)er[ar]=Gt(ar);function Kt(Wt,rr){var tr=er[Wt&255];return rr<=8?tr>>>8-rr:(tr=tr<<8|er[Wt>>8&255],rr<=16?tr>>>16-rr:(tr=tr<<8|er[Wt>>16&255],tr>>>24-rr))}function pr(Wt,rr){var tr=rr&7,nr=rr>>>3;return(Wt[nr]|(tr<=6?0:Wt[nr+1]<<8))>>>tr&3}function fr(Wt,rr){var tr=rr&7,nr=rr>>>3;return(Wt[nr]|(tr<=5?0:Wt[nr+1]<<8))>>>tr&7}function vr(Wt,rr){var tr=rr&7,nr=rr>>>3;return(Wt[nr]|(tr<=4?0:Wt[nr+1]<<8))>>>tr&15}function wr(Wt,rr){var tr=rr&7,nr=rr>>>3;return(Wt[nr]|(tr<=3?0:Wt[nr+1]<<8))>>>tr&31}function hr(Wt,rr){var tr=rr&7,nr=rr>>>3;return(Wt[nr]|(tr<=1?0:Wt[nr+1]<<8))>>>tr&127}function Ir(Wt,rr,tr){var nr=rr&7,sr=rr>>>3,cr=(1<<tr)-1,_r=Wt[sr]>>>nr;return tr<8-nr||(_r|=Wt[sr+1]<<8-nr,tr<16-nr)||(_r|=Wt[sr+2]<<16-nr,tr<24-nr)||(_r|=Wt[sr+3]<<24-nr),_r&cr}function Jr(Wt,rr,tr){var nr=rr&7,sr=rr>>>3;return nr<=5?Wt[sr]|=(tr&7)<<nr:(Wt[sr]|=tr<<nr&255,Wt[sr+1]=(tr&7)>>8-nr),rr+3}function Br(Wt,rr,tr){var nr=rr&7,sr=rr>>>3;return tr=(tr&1)<<nr,Wt[sr]|=tr,rr+1}function Zr(Wt,rr,tr){var nr=rr&7,sr=rr>>>3;return tr<<=nr,Wt[sr]|=tr&255,tr>>>=8,Wt[sr+1]=tr,rr+8}function Fr(Wt,rr,tr){var nr=rr&7,sr=rr>>>3;return tr<<=nr,Wt[sr]|=tr&255,tr>>>=8,Wt[sr+1]=tr&255,Wt[sr+2]=tr>>>8,rr+16}function Cr(Wt,rr){var tr=Wt.length,nr=2*tr>rr?2*tr:rr+5,sr=0;if(tr>=rr)return Wt;if(has_buf){var cr=new_unsafe_buf(nr);if(Wt.copy)Wt.copy(cr);else for(;sr<Wt.length;++sr)cr[sr]=Wt[sr];return cr}else if(Zt){var _r=new Uint8Array(nr);if(_r.set)_r.set(Wt);else for(;sr<tr;++sr)_r[sr]=Wt[sr];return _r}return Wt.length=nr,Wt}function Tr(Wt){for(var rr=new Array(Wt),tr=0;tr<Wt;++tr)rr[tr]=0;return rr}function Dr(Wt,rr,tr){var nr=1,sr=0,cr=0,_r=0,Sr=0,gr=Wt.length,br=Zt?new Uint16Array(32):Tr(32);for(cr=0;cr<32;++cr)br[cr]=0;for(cr=gr;cr<tr;++cr)Wt[cr]=0;gr=Wt.length;var Ar=Zt?new Uint16Array(gr):Tr(gr);for(cr=0;cr<gr;++cr)br[sr=Wt[cr]]++,nr<sr&&(nr=sr),Ar[cr]=0;for(br[0]=0,cr=1;cr<=nr;++cr)br[cr+16]=Sr=Sr+br[cr-1]<<1;for(cr=0;cr<gr;++cr)Sr=Wt[cr],Sr!=0&&(Ar[cr]=br[Sr+16]++);var Lr=0;for(cr=0;cr<gr;++cr)if(Lr=Wt[cr],Lr!=0)for(Sr=Kt(Ar[cr],nr)>>nr-Lr,_r=(1<<nr+4-Lr)-1;_r>=0;--_r)rr[Sr|_r<<Lr]=Lr&15|cr<<4;return nr}var Gr=Zt?new Uint16Array(512):Tr(512),qr=Zt?new Uint16Array(32):Tr(32);if(!Zt){for(var sn=0;sn<512;++sn)Gr[sn]=0;for(sn=0;sn<32;++sn)qr[sn]=0}(function(){for(var Wt=[],rr=0;rr<32;rr++)Wt.push(5);Dr(Wt,qr,32);var tr=[];for(rr=0;rr<=143;rr++)tr.push(8);for(;rr<=255;rr++)tr.push(9);for(;rr<=279;rr++)tr.push(7);for(;rr<=287;rr++)tr.push(8);Dr(tr,Gr,288)})();var Ur=function(){for(var rr=Zt?new Uint8Array(32768):[],tr=0,nr=0;tr<Vt.length-1;++tr)for(;nr<Vt[tr+1];++nr)rr[nr]=tr;for(;nr<32768;++nr)rr[nr]=29;var sr=Zt?new Uint8Array(259):[];for(tr=0,nr=0;tr<Mt.length-1;++tr)for(;nr<Mt[tr+1];++nr)sr[nr]=tr;function cr(Sr,gr){for(var br=0;br<Sr.length;){var Ar=Math.min(65535,Sr.length-br),Lr=br+Ar==Sr.length;for(gr.write_shift(1,+Lr),gr.write_shift(2,Ar),gr.write_shift(2,~Ar&65535);Ar-- >0;)gr[gr.l++]=Sr[br++]}return gr.l}function _r(Sr,gr){for(var br=0,Ar=0,Lr=Zt?new Uint16Array(32768):[];Ar<Sr.length;){var Kr=Math.min(65535,Sr.length-Ar);if(Kr<10){for(br=Jr(gr,br,+(Ar+Kr==Sr.length)),br&7&&(br+=8-(br&7)),gr.l=br/8|0,gr.write_shift(2,Kr),gr.write_shift(2,~Kr&65535);Kr-- >0;)gr[gr.l++]=Sr[Ar++];br=gr.l*8;continue}br=Jr(gr,br,+(Ar+Kr==Sr.length)+2);for(var an=0;Kr-- >0;){var Wr=Sr[Ar];an=(an<<5^Wr)&32767;var on=-1,gn=0;if((on=Lr[an])&&(on|=Ar&-32768,on>Ar&&(on-=32768),on<Ar))for(;Sr[on+gn]==Sr[Ar+gn]&&gn<250;)++gn;if(gn>2){Wr=sr[gn],Wr<=22?br=Zr(gr,br,er[Wr+1]>>1)-1:(Zr(gr,br,3),br+=5,Zr(gr,br,er[Wr-23]>>5),br+=3);var Cn=Wr<8?0:Wr-4>>2;Cn>0&&(Fr(gr,br,gn-Mt[Wr]),br+=Cn),Wr=rr[Ar-on],br=Zr(gr,br,er[Wr]>>3),br-=3;var Pn=Wr<4?0:Wr-2>>1;Pn>0&&(Fr(gr,br,Ar-on-Vt[Wr]),br+=Pn);for(var Nn=0;Nn<gn;++Nn)Lr[an]=Ar&32767,an=(an<<5^Sr[Ar])&32767,++Ar;Kr-=gn-1}else Wr<=143?Wr=Wr+48:br=Br(gr,br,1),br=Zr(gr,br,er[Wr]),Lr[an]=Ar&32767,++Ar}br=Zr(gr,br,0)-1}return gr.l=(br+7)/8|0,gr.l}return function(gr,br){return gr.length<8?cr(gr,br):_r(gr,br)}}();function $r(Wt){var rr=new_buf(50+Math.floor(Wt.length*1.1)),tr=Ur(Wt,rr);return rr.slice(0,tr)}var Yr=Zt?new Uint16Array(32768):Tr(32768),rn=Zt?new Uint16Array(32768):Tr(32768),nn=Zt?new Uint16Array(128):Tr(128),hn=1,Or=1;function Rr(Wt,rr){var tr=wr(Wt,rr)+257;rr+=5;var nr=wr(Wt,rr)+1;rr+=5;var sr=vr(Wt,rr)+4;rr+=4;for(var cr=0,_r=Zt?new Uint8Array(19):Tr(19),Sr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],gr=1,br=Zt?new Uint8Array(8):Tr(8),Ar=Zt?new Uint8Array(8):Tr(8),Lr=_r.length,Kr=0;Kr<sr;++Kr)_r[Nt[Kr]]=cr=fr(Wt,rr),gr<cr&&(gr=cr),br[cr]++,rr+=3;var an=0;for(br[0]=0,Kr=1;Kr<=gr;++Kr)Ar[Kr]=an=an+br[Kr-1]<<1;for(Kr=0;Kr<Lr;++Kr)(an=_r[Kr])!=0&&(Sr[Kr]=Ar[an]++);var Wr=0;for(Kr=0;Kr<Lr;++Kr)if(Wr=_r[Kr],Wr!=0){an=er[Sr[Kr]]>>8-Wr;for(var on=(1<<7-Wr)-1;on>=0;--on)nn[an|on<<Wr]=Wr&7|Kr<<3}var gn=[];for(gr=1;gn.length<tr+nr;)switch(an=nn[hr(Wt,rr)],rr+=an&7,an>>>=3){case 16:for(cr=3+pr(Wt,rr),rr+=2,an=gn[gn.length-1];cr-- >0;)gn.push(an);break;case 17:for(cr=3+fr(Wt,rr),rr+=3;cr-- >0;)gn.push(0);break;case 18:for(cr=11+hr(Wt,rr),rr+=7;cr-- >0;)gn.push(0);break;default:gn.push(an),gr<an&&(gr=an);break}var Cn=gn.slice(0,tr),Pn=gn.slice(tr);for(Kr=tr;Kr<286;++Kr)Cn[Kr]=0;for(Kr=nr;Kr<30;++Kr)Pn[Kr]=0;return hn=Dr(Cn,Yr,286),Or=Dr(Pn,rn,30),rr}function yr(Wt,rr){if(Wt[0]==3&&!(Wt[1]&3))return[new_raw_buf(rr),2];for(var tr=0,nr=0,sr=new_unsafe_buf(rr||1<<18),cr=0,_r=sr.length>>>0,Sr=0,gr=0;!(nr&1);){if(nr=fr(Wt,tr),tr+=3,nr>>>1)nr>>1==1?(Sr=9,gr=5):(tr=Rr(Wt,tr),Sr=hn,gr=Or);else{tr&7&&(tr+=8-(tr&7));var br=Wt[tr>>>3]|Wt[(tr>>>3)+1]<<8;if(tr+=32,br>0)for(!rr&&_r<cr+br&&(sr=Cr(sr,cr+br),_r=sr.length);br-- >0;)sr[cr++]=Wt[tr>>>3],tr+=8;continue}for(;;){!rr&&_r<cr+32767&&(sr=Cr(sr,cr+32767),_r=sr.length);var Ar=Ir(Wt,tr,Sr),Lr=nr>>>1==1?Gr[Ar]:Yr[Ar];if(tr+=Lr&15,Lr>>>=4,!(Lr>>>8&255))sr[cr++]=Lr;else{if(Lr==256)break;Lr-=257;var Kr=Lr<8?0:Lr-4>>2;Kr>5&&(Kr=0);var an=cr+Mt[Lr];Kr>0&&(an+=Ir(Wt,tr,Kr),tr+=Kr),Ar=Ir(Wt,tr,gr),Lr=nr>>>1==1?qr[Ar]:rn[Ar],tr+=Lr&15,Lr>>>=4;var Wr=Lr<4?0:Lr-2>>1,on=Vt[Lr];for(Wr>0&&(on+=Ir(Wt,tr,Wr),tr+=Wr),!rr&&_r<an&&(sr=Cr(sr,an+100),_r=sr.length);cr<an;)sr[cr]=sr[cr-on],++cr}}}return rr?[sr,tr+7>>>3]:[sr.slice(0,cr),tr+7>>>3]}function Vr(Wt,rr){var tr=Wt.slice(Wt.l||0),nr=yr(tr,rr);return Wt.l+=nr[1],nr[0]}function zr(Wt,rr){if(Wt)typeof console<"u"&&console.error(rr);else throw new Error(rr)}function Tn(Wt,rr){var tr=Wt;prep_blob(tr,0);var nr=[],sr=[],cr={FileIndex:nr,FullPaths:sr};Tt(cr,{root:rr.root});for(var _r=tr.length-4;(tr[_r]!=80||tr[_r+1]!=75||tr[_r+2]!=5||tr[_r+3]!=6)&&_r>=0;)--_r;tr.l=_r+4,tr.l+=4;var Sr=tr.read_shift(2);tr.l+=6;var gr=tr.read_shift(4);for(tr.l=gr,_r=0;_r<Sr;++_r){tr.l+=20;var br=tr.read_shift(4),Ar=tr.read_shift(4),Lr=tr.read_shift(2),Kr=tr.read_shift(2),an=tr.read_shift(2);tr.l+=8;var Wr=tr.read_shift(4),on=ot(tr.slice(tr.l+Lr,tr.l+Lr+Kr));tr.l+=Lr+Kr+an;var gn=tr.l;tr.l=Wr+4,wn(tr,br,Ar,cr,on),tr.l=gn}return cr}function wn(Wt,rr,tr,nr,sr){Wt.l+=2;var cr=Wt.read_shift(2),_r=Wt.read_shift(2),Sr=st(Wt);if(cr&8257)throw new Error("Unsupported ZIP encryption");for(var gr=Wt.read_shift(4),br=Wt.read_shift(4),Ar=Wt.read_shift(4),Lr=Wt.read_shift(2),Kr=Wt.read_shift(2),an="",Wr=0;Wr<Lr;++Wr)an+=String.fromCharCode(Wt[Wt.l++]);if(Kr){var on=ot(Wt.slice(Wt.l,Wt.l+Kr));(on[21589]||{}).mt&&(Sr=on[21589].mt),((sr||{})[21589]||{}).mt&&(Sr=sr[21589].mt)}Wt.l+=Kr;var gn=Wt.slice(Wt.l,Wt.l+br);switch(_r){case 8:gn=Lt(Wt,Ar);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+_r)}var Cn=!1;cr&8&&(gr=Wt.read_shift(4),gr==134695760&&(gr=Wt.read_shift(4),Cn=!0),br=Wt.read_shift(4),Ar=Wt.read_shift(4)),br!=rr&&zr(Cn,"Bad compressed size: "+rr+" != "+br),Ar!=tr&&zr(Cn,"Bad uncompressed size: "+tr+" != "+Ar),dr(nr,an,gn,{unsafe:!0,mt:Sr})}function Pr(Wt,rr){var tr=rr||{},nr=[],sr=[],cr=new_buf(1),_r=tr.compression?8:0,Sr=0,gr=0,br=0,Ar=0,Lr=0,Kr=Wt.FullPaths[0],an=Kr,Wr=Wt.FileIndex[0],on=[],gn=0;for(gr=1;gr<Wt.FullPaths.length;++gr)if(an=Wt.FullPaths[gr].slice(Kr.length),Wr=Wt.FileIndex[gr],!(!Wr.size||!Wr.content||an=="Sh33tJ5")){var Cn=Ar,Pn=new_buf(an.length);for(br=0;br<an.length;++br)Pn.write_shift(1,an.charCodeAt(br)&127);Pn=Pn.slice(0,Pn.l),on[Lr]=CRC32.buf(Wr.content,0);var Nn=Wr.content;_r==8&&(Nn=jt(Nn)),cr=new_buf(30),cr.write_shift(4,67324752),cr.write_shift(2,20),cr.write_shift(2,Sr),cr.write_shift(2,_r),Wr.mt?it(cr,Wr.mt):cr.write_shift(4,0),cr.write_shift(-4,on[Lr]),cr.write_shift(4,Nn.length),cr.write_shift(4,Wr.content.length),cr.write_shift(2,Pn.length),cr.write_shift(2,0),Ar+=cr.length,nr.push(cr),Ar+=Pn.length,nr.push(Pn),Ar+=Nn.length,nr.push(Nn),cr=new_buf(46),cr.write_shift(4,33639248),cr.write_shift(2,0),cr.write_shift(2,20),cr.write_shift(2,Sr),cr.write_shift(2,_r),cr.write_shift(4,0),cr.write_shift(-4,on[Lr]),cr.write_shift(4,Nn.length),cr.write_shift(4,Wr.content.length),cr.write_shift(2,Pn.length),cr.write_shift(2,0),cr.write_shift(2,0),cr.write_shift(2,0),cr.write_shift(2,0),cr.write_shift(4,0),cr.write_shift(4,Cn),gn+=cr.l,sr.push(cr),gn+=Pn.length,sr.push(Pn),++Lr}return cr=new_buf(22),cr.write_shift(4,101010256),cr.write_shift(2,0),cr.write_shift(2,0),cr.write_shift(2,Lr),cr.write_shift(2,Lr),cr.write_shift(4,gn),cr.write_shift(4,Ar),cr.write_shift(2,0),bconcat([bconcat(nr),bconcat(sr),cr])}var Xr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function dn(Wt,rr){if(Wt.ctype)return Wt.ctype;var tr=Wt.name||"",nr=tr.match(/\.([^\.]+)$/);return nr&&Xr[nr[1]]||rr&&(nr=(tr=rr).match(/[\.\\]([^\.\\])+$/),nr&&Xr[nr[1]])?Xr[nr[1]]:"application/octet-stream"}function en(Wt){for(var rr=Base64_encode(Wt),tr=[],nr=0;nr<rr.length;nr+=76)tr.push(rr.slice(nr,nr+76));return tr.join(`\r
`)+`\r
`}function fn(Wt){var rr=Wt.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(br){var Ar=br.charCodeAt(0).toString(16).toUpperCase();return"="+(Ar.length==1?"0"+Ar:Ar)});rr=rr.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),rr.charAt(0)==`
`&&(rr="=0D"+rr.slice(1)),rr=rr.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var tr=[],nr=rr.split(`\r
`),sr=0;sr<nr.length;++sr){var cr=nr[sr];if(cr.length==0){tr.push("");continue}for(var _r=0;_r<cr.length;){var Sr=76,gr=cr.slice(_r,_r+Sr);gr.charAt(Sr-1)=="="?Sr--:gr.charAt(Sr-2)=="="?Sr-=2:gr.charAt(Sr-3)=="="&&(Sr-=3),gr=cr.slice(_r,_r+Sr),_r+=Sr,_r<cr.length&&(gr+="="),tr.push(gr)}}return tr.join(`\r
`)}function pn(Wt){for(var rr=[],tr=0;tr<Wt.length;++tr){for(var nr=Wt[tr];tr<=Wt.length&&nr.charAt(nr.length-1)=="=";)nr=nr.slice(0,nr.length-1)+Wt[++tr];rr.push(nr)}for(var sr=0;sr<rr.length;++sr)rr[sr]=rr[sr].replace(/[=][0-9A-Fa-f]{2}/g,function(cr){return String.fromCharCode(parseInt(cr.slice(1),16))});return s2a(rr.join(`\r
`))}function yn(Wt,rr,tr){for(var nr="",sr="",cr="",_r,Sr=0;Sr<10;++Sr){var gr=rr[Sr];if(!gr||gr.match(/^\s*$/))break;var br=gr.match(/^(.*?):\s*([^\s].*)$/);if(br)switch(br[1].toLowerCase()){case"content-location":nr=br[2].trim();break;case"content-type":cr=br[2].trim();break;case"content-transfer-encoding":sr=br[2].trim();break}}switch(++Sr,sr.toLowerCase()){case"base64":_r=s2a(Base64_decode(rr.slice(Sr).join("")));break;case"quoted-printable":_r=pn(rr.slice(Sr));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+sr)}var Ar=dr(Wt,nr.slice(tr.length),_r,{unsafe:!0});cr&&(Ar.ctype=cr)}function Hr(Wt,rr){if(Ht(Wt.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var tr=rr&&rr.root||"",nr=(has_buf&&Buffer.isBuffer(Wt)?Wt.toString("binary"):Ht(Wt)).split(`\r
`),sr=0,cr="";for(sr=0;sr<nr.length;++sr)if(cr=nr[sr],!!/^Content-Location:/i.test(cr)&&(cr=cr.slice(cr.indexOf("file")),tr||(tr=cr.slice(0,cr.lastIndexOf("/")+1)),cr.slice(0,tr.length)!=tr))for(;tr.length>0&&(tr=tr.slice(0,tr.length-1),tr=tr.slice(0,tr.lastIndexOf("/")+1),cr.slice(0,tr.length)!=tr););var _r=(nr[1]||"").match(/boundary="(.*?)"/);if(!_r)throw new Error("MAD cannot find boundary");var Sr="--"+(_r[1]||""),gr=[],br=[],Ar={FileIndex:gr,FullPaths:br};Tt(Ar);var Lr,Kr=0;for(sr=0;sr<nr.length;++sr){var an=nr[sr];an!==Sr&&an!==Sr+"--"||(Kr++&&yn(Ar,nr.slice(Lr,sr),tr),Lr=sr)}return Ar}function xn(Wt,rr){var tr=rr||{},nr=tr.boundary||"SheetJS";nr="------="+nr;for(var sr=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+nr.slice(2)+'"',"","",""],cr=Wt.FullPaths[0],_r=cr,Sr=Wt.FileIndex[0],gr=1;gr<Wt.FullPaths.length;++gr)if(_r=Wt.FullPaths[gr].slice(cr.length),Sr=Wt.FileIndex[gr],!(!Sr.size||!Sr.content||_r=="Sh33tJ5")){_r=_r.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(gn){return"_x"+gn.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(gn){return"_u"+gn.charCodeAt(0).toString(16)+"_"});for(var br=Sr.content,Ar=has_buf&&Buffer.isBuffer(br)?br.toString("binary"):Ht(br),Lr=0,Kr=Math.min(1024,Ar.length),an=0,Wr=0;Wr<=Kr;++Wr)(an=Ar.charCodeAt(Wr))>=32&&an<128&&++Lr;var on=Lr>=Kr*4/5;sr.push(nr),sr.push("Content-Location: "+(tr.root||"file:///C:/SheetJS/")+_r),sr.push("Content-Transfer-Encoding: "+(on?"quoted-printable":"base64")),sr.push("Content-Type: "+dn(Sr,_r)),sr.push(""),sr.push(on?fn(Ar):en(Ar))}return sr.push(nr+`--\r
`),sr.join(`\r
`)}function un(Wt){var rr={};return Tt(rr,Wt),rr}function dr(Wt,rr,tr,nr){var sr=nr&&nr.unsafe;sr||Tt(Wt);var cr=!sr&&CFB.find(Wt,rr);if(!cr){var _r=Wt.FullPaths[0];rr.slice(0,_r.length)==_r?_r=rr:(_r.slice(-1)!="/"&&(_r+="/"),_r=(_r+rr).replace("//","/")),cr={name:at(rr),type:2},Wt.FileIndex.push(cr),Wt.FullPaths.push(_r),sr||CFB.utils.cfb_gc(Wt)}return cr.content=tr,cr.size=tr?tr.length:0,nr&&(nr.CLSID&&(cr.clsid=nr.CLSID),nr.mt&&(cr.mt=nr.mt),nr.ct&&(cr.ct=nr.ct)),cr}function Yt(Wt,rr){Tt(Wt);var tr=CFB.find(Wt,rr);if(tr){for(var nr=0;nr<Wt.FileIndex.length;++nr)if(Wt.FileIndex[nr]==tr)return Wt.FileIndex.splice(nr,1),Wt.FullPaths.splice(nr,1),!0}return!1}function lr(Wt,rr,tr){Tt(Wt);var nr=CFB.find(Wt,rr);if(nr){for(var sr=0;sr<Wt.FileIndex.length;++sr)if(Wt.FileIndex[sr]==nr)return Wt.FileIndex[sr].name=at(tr),Wt.FullPaths[sr]=tr,!0}return!1}function ur(Wt){Ct(Wt,!0)}return tt.find=Pt,tt.read=Et,tt.parse=ut,tt.write=Qt,tt.writeFile=Ut,tt.utils={cfb_new:un,cfb_add:dr,cfb_del:Yt,cfb_mov:lr,cfb_gc:ur,ReadShift,CheckField,prep_blob,bconcat,use_zlib:Xt,_deflateRaw:$r,_inflateRaw:Vr,consts:qt},tt}();function blobify(et){return typeof et=="string"?s2ab(et):Array.isArray(et)?a2u(et):et}function write_dl(et,tt,rt){if(typeof Deno<"u"){if(rt&&typeof tt=="string")switch(rt){case"utf8":tt=new TextEncoder(rt).encode(tt);break;case"binary":tt=s2ab(tt);break;default:throw new Error("Unsupported encoding "+rt)}return Deno.writeFileSync(et,tt)}var nt=rt=="utf8"?utf8write(tt):tt;if(typeof IE_SaveFile<"u")return IE_SaveFile(nt,et);if(typeof Blob<"u"){var at=new Blob([blobify(nt)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(at,et);if(typeof saveAs<"u")return saveAs(at,et);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var it=URL.createObjectURL(at);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(it)},6e4),chrome.downloads.download({url:it,filename:et,saveAs:!0});var st=document.createElement("a");if(st.download!=null)return st.download=et,st.href=it,document.body.appendChild(st),st.click(),document.body.removeChild(st),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(it)},6e4),it}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var ot=File(et);return ot.open("w"),ot.encoding="binary",Array.isArray(tt)&&(tt=a2s(tt)),ot.write(tt),ot.close(),tt}catch(lt){if(!lt.message||!lt.message.match(/onstruct/))throw lt}throw new Error("cannot save file "+et)}function read_binary(et){if(typeof Deno<"u")return Deno.readFileSync(et);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var tt=File(et);tt.open("r"),tt.encoding="binary";var rt=tt.read();return tt.close(),rt}catch(nt){if(!nt.message||!nt.message.match(/onstruct/))throw nt}throw new Error("Cannot access file "+et)}function keys$5(et){for(var tt=Object.keys(et),rt=[],nt=0;nt<tt.length;++nt)Object.prototype.hasOwnProperty.call(et,tt[nt])&&rt.push(tt[nt]);return rt}function evert_key(et,tt){for(var rt=[],nt=keys$5(et),at=0;at!==nt.length;++at)rt[et[nt[at]][tt]]==null&&(rt[et[nt[at]][tt]]=nt[at]);return rt}function evert(et){for(var tt=[],rt=keys$5(et),nt=0;nt!==rt.length;++nt)tt[et[rt[nt]]]=rt[nt];return tt}function evert_num(et){for(var tt=[],rt=keys$5(et),nt=0;nt!==rt.length;++nt)tt[et[rt[nt]]]=parseInt(rt[nt],10);return tt}function evert_arr(et){for(var tt=[],rt=keys$5(et),nt=0;nt!==rt.length;++nt)tt[et[rt[nt]]]==null&&(tt[et[rt[nt]]]=[]),tt[et[rt[nt]]].push(rt[nt]);return tt}var basedate=new Date(1899,11,30,0,0,0);function datenum(et,tt){var rt=et.getTime();tt&&(rt-=1462*24*60*60*1e3);var nt=basedate.getTime()+(et.getTimezoneOffset()-basedate.getTimezoneOffset())*6e4;return(rt-nt)/(24*60*60*1e3)}var refdate=new Date,dnthresh=basedate.getTime()+(refdate.getTimezoneOffset()-basedate.getTimezoneOffset())*6e4,refoffset=refdate.getTimezoneOffset();function numdate(et){var tt=new Date;return tt.setTime(et*24*60*60*1e3+dnthresh),tt.getTimezoneOffset()!==refoffset&&tt.setTime(tt.getTime()+(tt.getTimezoneOffset()-refoffset)*6e4),tt}function parse_isodur(et){var tt=0,rt=0,nt=!1,at=et.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!at)throw new Error("|"+et+"| is not an ISO8601 Duration");for(var it=1;it!=at.length;++it)if(at[it]){switch(rt=1,it>3&&(nt=!0),at[it].slice(at[it].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+at[it].slice(at[it].length-1));case"D":rt*=24;case"H":rt*=60;case"M":if(nt)rt*=60;else throw new Error("Unsupported ISO Duration Field: M")}tt+=rt*parseInt(at[it],10)}return tt}var good_pd_date_1=new Date("2017-02-19T19:06:09.000Z"),good_pd_date=isNaN(good_pd_date_1.getFullYear())?new Date("2/19/17"):good_pd_date_1,good_pd=good_pd_date.getFullYear()==2017;function parseDate$1(et,tt){var rt=new Date(et);if(good_pd)return tt>0?rt.setTime(rt.getTime()+rt.getTimezoneOffset()*60*1e3):tt<0&&rt.setTime(rt.getTime()-rt.getTimezoneOffset()*60*1e3),rt;if(et instanceof Date)return et;if(good_pd_date.getFullYear()==1917&&!isNaN(rt.getFullYear())){var nt=rt.getFullYear();return et.indexOf(""+nt)>-1||rt.setFullYear(rt.getFullYear()+100),rt}var at=et.match(/\d+/g)||["2017","2","19","0","0","0"],it=new Date(+at[0],+at[1]-1,+at[2],+at[3]||0,+at[4]||0,+at[5]||0);return et.indexOf("Z")>-1&&(it=new Date(it.getTime()-it.getTimezoneOffset()*60*1e3)),it}function cc2str(et,tt){if(has_buf&&Buffer.isBuffer(et)){if(tt){if(et[0]==255&&et[1]==254)return utf8write(et.slice(2).toString("utf16le"));if(et[1]==254&&et[2]==255)return utf8write(utf16beread(et.slice(2).toString("binary")))}return et.toString("binary")}if(typeof TextDecoder<"u")try{if(tt){if(et[0]==255&&et[1]==254)return utf8write(new TextDecoder("utf-16le").decode(et.slice(2)));if(et[0]==254&&et[1]==255)return utf8write(new TextDecoder("utf-16be").decode(et.slice(2)))}var rt={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(et)&&(et=new Uint8Array(et)),new TextDecoder("latin1").decode(et).replace(/[]/g,function(it){return rt[it]||it})}catch{}for(var nt=[],at=0;at!=et.length;++at)nt.push(String.fromCharCode(et[at]));return nt.join("")}function dup(et){if(typeof JSON<"u"&&!Array.isArray(et))return JSON.parse(JSON.stringify(et));if(typeof et!="object"||et==null)return et;if(et instanceof Date)return new Date(et.getTime());var tt={};for(var rt in et)Object.prototype.hasOwnProperty.call(et,rt)&&(tt[rt]=dup(et[rt]));return tt}function fill$1(et,tt){for(var rt="";rt.length<tt;)rt+=et;return rt}function fuzzynum(et){var tt=Number(et);if(!isNaN(tt))return isFinite(tt)?tt:NaN;if(!/\d/.test(et))return tt;var rt=1,nt=et.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return rt*=100,""});return!isNaN(tt=Number(nt))||(nt=nt.replace(/[(](.*)[)]/,function(at,it){return rt=-rt,it}),!isNaN(tt=Number(nt)))?tt/rt:tt}var lower_months=["january","february","march","april","may","june","july","august","september","october","november","december"];function fuzzydate(et){var tt=new Date(et),rt=new Date(NaN),nt=tt.getYear(),at=tt.getMonth(),it=tt.getDate();if(isNaN(it))return rt;var st=et.toLowerCase();if(st.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(st=st.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),st.length>3&&lower_months.indexOf(st)==-1)return rt}else if(st.match(/[a-z]/))return rt;return nt<0||nt>8099?rt:(at>0||it>1)&&nt!=101?tt:et.match(/[^-0-9:,\/\\]/)?rt:tt}var split_regex=function(){var et="abacaba".split(/(:?b)/i).length==5;return function(rt,nt,at){if(et||typeof nt=="string")return rt.split(nt);for(var it=rt.split(nt),st=[it[0]],ot=1;ot<it.length;++ot)st.push(at),st.push(it[ot]);return st}}();function getdatastr(et){return et?et.content&&et.type?cc2str(et.content,!0):et.data?debom(et.data):et.asNodeBuffer&&has_buf?debom(et.asNodeBuffer().toString("binary")):et.asBinary?debom(et.asBinary()):et._data&&et._data.getContent?debom(cc2str(Array.prototype.slice.call(et._data.getContent(),0))):null:null}function getdatabin(et){if(!et)return null;if(et.data)return char_codes(et.data);if(et.asNodeBuffer&&has_buf)return et.asNodeBuffer();if(et._data&&et._data.getContent){var tt=et._data.getContent();return typeof tt=="string"?char_codes(tt):Array.prototype.slice.call(tt)}return et.content&&et.type?et.content:null}function getdata(et){return et&&et.name.slice(-4)===".bin"?getdatabin(et):getdatastr(et)}function safegetzipfile(et,tt){for(var rt=et.FullPaths||keys$5(et.files),nt=tt.toLowerCase().replace(/[\/]/g,"\\"),at=nt.replace(/\\/g,"/"),it=0;it<rt.length;++it){var st=rt[it].replace(/^Root Entry[\/]/,"").toLowerCase();if(nt==st||at==st)return et.files?et.files[rt[it]]:et.FileIndex[it]}return null}function getzipfile(et,tt){var rt=safegetzipfile(et,tt);if(rt==null)throw new Error("Cannot find file "+tt+" in zip");return rt}function getzipdata(et,tt,rt){if(!rt)return getdata(getzipfile(et,tt));if(!tt)return null;try{return getzipdata(et,tt)}catch{return null}}function getzipstr(et,tt,rt){if(!rt)return getdatastr(getzipfile(et,tt));if(!tt)return null;try{return getzipstr(et,tt)}catch{return null}}function getzipbin(et,tt,rt){if(!rt)return getdatabin(getzipfile(et,tt));if(!tt)return null;try{return getzipbin(et,tt)}catch{return null}}function zipentries(et){for(var tt=et.FullPaths||keys$5(et.files),rt=[],nt=0;nt<tt.length;++nt)tt[nt].slice(-1)!="/"&&rt.push(tt[nt].replace(/^Root Entry[\/]/,""));return rt.sort()}function zip_add_file(et,tt,rt){if(et.FullPaths){if(typeof rt=="string"){var nt;return has_buf?nt=Buffer_from(rt):nt=utf8decode(rt),CFB.utils.cfb_add(et,tt,nt)}CFB.utils.cfb_add(et,tt,rt)}else et.file(tt,rt)}function zip_new(){return CFB.utils.cfb_new()}function zip_read(et,tt){switch(tt.type){case"base64":return CFB.read(et,{type:"base64"});case"binary":return CFB.read(et,{type:"binary"});case"buffer":case"array":return CFB.read(et,{type:"buffer"})}throw new Error("Unrecognized type "+tt.type)}function resolve_path(et,tt){if(et.charAt(0)=="/")return et.slice(1);var rt=tt.split("/");tt.slice(-1)!="/"&&rt.pop();for(var nt=et.split("/");nt.length!==0;){var at=nt.shift();at===".."?rt.pop():at!=="."&&rt.push(at)}return rt.join("/")}var XML_HEADER=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,attregexg=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,tagregex1=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,tagregex2=/<[^>]*>/g,tagregex=XML_HEADER.match(tagregex1)?tagregex1:tagregex2,nsregex=/<\w*:/,nsregex2=/<(\/?)\w+:/;function parsexmltag(et,tt,rt){for(var nt={},at=0,it=0;at!==et.length&&!((it=et.charCodeAt(at))===32||it===10||it===13);++at);if(tt||(nt[0]=et.slice(0,at)),at===et.length)return nt;var st=et.match(attregexg),ot=0,lt="",ct=0,ut="",dt="",ft=1;if(st)for(ct=0;ct!=st.length;++ct){for(dt=st[ct],it=0;it!=dt.length&&dt.charCodeAt(it)!==61;++it);for(ut=dt.slice(0,it).trim();dt.charCodeAt(it+1)==32;)++it;for(ft=(at=dt.charCodeAt(it+1))==34||at==39?1:0,lt=dt.slice(it+1+ft,dt.length-ft),ot=0;ot!=ut.length&&ut.charCodeAt(ot)!==58;++ot);if(ot===ut.length)ut.indexOf("_")>0&&(ut=ut.slice(0,ut.indexOf("_"))),nt[ut]=lt,rt||(nt[ut.toLowerCase()]=lt);else{var ht=(ot===5&&ut.slice(0,5)==="xmlns"?"xmlns":"")+ut.slice(ot+1);if(nt[ht]&&ut.slice(ot-3,ot)=="ext")continue;nt[ht]=lt,rt||(nt[ht.toLowerCase()]=lt)}}return nt}function strip_ns(et){return et.replace(nsregex2,"<$1")}var encodings={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},rencoding=evert(encodings),unescapexml=function(){var et=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,tt=/_x([\da-fA-F]{4})_/ig;return function rt(nt){var at=nt+"",it=at.indexOf("<![CDATA[");if(it==-1)return at.replace(et,function(ot,lt){return encodings[ot]||String.fromCharCode(parseInt(lt,ot.indexOf("x")>-1?16:10))||ot}).replace(tt,function(ot,lt){return String.fromCharCode(parseInt(lt,16))});var st=at.indexOf("]]>");return rt(at.slice(0,it))+at.slice(it+9,st)+rt(at.slice(st+3))}}(),decregex=/[&<>'"]/g,charegex=/[\u0000-\u0008\u000b-\u001f]/g;function escapexml(et){var tt=et+"";return tt.replace(decregex,function(rt){return rencoding[rt]}).replace(charegex,function(rt){return"_x"+("000"+rt.charCodeAt(0).toString(16)).slice(-4)+"_"})}function escapexmltag(et){return escapexml(et).replace(/ /g,"_x0020_")}var htmlcharegex=/[\u0000-\u001f]/g;function escapehtml(et){var tt=et+"";return tt.replace(decregex,function(rt){return rencoding[rt]}).replace(/\n/g,"<br/>").replace(htmlcharegex,function(rt){return"&#x"+("000"+rt.charCodeAt(0).toString(16)).slice(-4)+";"})}function escapexlml(et){var tt=et+"";return tt.replace(decregex,function(rt){return rencoding[rt]}).replace(htmlcharegex,function(rt){return"&#x"+rt.charCodeAt(0).toString(16).toUpperCase()+";"})}var xlml_fixstr=function(){var et=/&#(\d+);/g;function tt(rt,nt){return String.fromCharCode(parseInt(nt,10))}return function(nt){return nt.replace(et,tt)}}();function xlml_unfixstr(et){return et.replace(/(\r\n|[\r\n])/g,"&#10;")}function parsexmlbool(et){switch(et){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function utf8reada(et){for(var tt="",rt=0,nt=0,at=0,it=0,st=0,ot=0;rt<et.length;){if(nt=et.charCodeAt(rt++),nt<128){tt+=String.fromCharCode(nt);continue}if(at=et.charCodeAt(rt++),nt>191&&nt<224){st=(nt&31)<<6,st|=at&63,tt+=String.fromCharCode(st);continue}if(it=et.charCodeAt(rt++),nt<240){tt+=String.fromCharCode((nt&15)<<12|(at&63)<<6|it&63);continue}st=et.charCodeAt(rt++),ot=((nt&7)<<18|(at&63)<<12|(it&63)<<6|st&63)-65536,tt+=String.fromCharCode(55296+(ot>>>10&1023)),tt+=String.fromCharCode(56320+(ot&1023))}return tt}function utf8readb(et){var tt=new_raw_buf(2*et.length),rt,nt,at=1,it=0,st=0,ot;for(nt=0;nt<et.length;nt+=at)at=1,(ot=et.charCodeAt(nt))<128?rt=ot:ot<224?(rt=(ot&31)*64+(et.charCodeAt(nt+1)&63),at=2):ot<240?(rt=(ot&15)*4096+(et.charCodeAt(nt+1)&63)*64+(et.charCodeAt(nt+2)&63),at=3):(at=4,rt=(ot&7)*262144+(et.charCodeAt(nt+1)&63)*4096+(et.charCodeAt(nt+2)&63)*64+(et.charCodeAt(nt+3)&63),rt-=65536,st=55296+(rt>>>10&1023),rt=56320+(rt&1023)),st!==0&&(tt[it++]=st&255,tt[it++]=st>>>8,st=0),tt[it++]=rt%256,tt[it++]=rt>>>8;return tt.slice(0,it).toString("ucs2")}function utf8readc(et){return Buffer_from(et,"binary").toString("utf8")}var utf8corpus="foo bar baz",utf8read=has_buf&&(utf8readc(utf8corpus)==utf8reada(utf8corpus)&&utf8readc||utf8readb(utf8corpus)==utf8reada(utf8corpus)&&utf8readb)||utf8reada,utf8write=has_buf?function(et){return Buffer_from(et,"utf8").toString("binary")}:function(et){for(var tt=[],rt=0,nt=0,at=0;rt<et.length;)switch(nt=et.charCodeAt(rt++),!0){case nt<128:tt.push(String.fromCharCode(nt));break;case nt<2048:tt.push(String.fromCharCode(192+(nt>>6))),tt.push(String.fromCharCode(128+(nt&63)));break;case(nt>=55296&&nt<57344):nt-=55296,at=et.charCodeAt(rt++)-56320+(nt<<10),tt.push(String.fromCharCode(240+(at>>18&7))),tt.push(String.fromCharCode(144+(at>>12&63))),tt.push(String.fromCharCode(128+(at>>6&63))),tt.push(String.fromCharCode(128+(at&63)));break;default:tt.push(String.fromCharCode(224+(nt>>12))),tt.push(String.fromCharCode(128+(nt>>6&63))),tt.push(String.fromCharCode(128+(nt&63)))}return tt.join("")},matchtag=function(){var et={};return function(rt,nt){var at=rt+"|"+(nt||"");return et[at]?et[at]:et[at]=new RegExp("<(?:\\w+:)?"+rt+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+rt+">",nt||"")}}(),htmldecode=function(){var et=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(tt){return[new RegExp("&"+tt[0]+";","ig"),tt[1]]});return function(rt){for(var nt=rt.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),at=0;at<et.length;++at)nt=nt.replace(et[at][0],et[at][1]);return nt}}(),vtregex=function(){var et={};return function(rt){return et[rt]!==void 0?et[rt]:et[rt]=new RegExp("<(?:vt:)?"+rt+">([\\s\\S]*?)</(?:vt:)?"+rt+">","g")}}(),vtvregex=/<\/?(?:vt:)?variant>/g,vtmregex=/<(?:vt:)([^>]*)>([\s\S]*)</;function parseVector(et,tt){var rt=parsexmltag(et),nt=et.match(vtregex(rt.baseType))||[],at=[];if(nt.length!=rt.size){if(tt.WTF)throw new Error("unexpected vector length "+nt.length+" != "+rt.size);return at}return nt.forEach(function(it){var st=it.replace(vtvregex,"").match(vtmregex);st&&at.push({v:utf8read(st[2]),t:st[1]})}),at}var wtregex=/(^\s|\s$|\n)/;function writetag(et,tt){return"<"+et+(tt.match(wtregex)?' xml:space="preserve"':"")+">"+tt+"</"+et+">"}function wxt_helper(et){return keys$5(et).map(function(tt){return" "+tt+'="'+et[tt]+'"'}).join("")}function writextag(et,tt,rt){return"<"+et+(rt!=null?wxt_helper(rt):"")+(tt!=null?(tt.match(wtregex)?' xml:space="preserve"':"")+">"+tt+"</"+et:"/")+">"}function write_w3cdtf(et,tt){try{return et.toISOString().replace(/\.\d*/,"")}catch(rt){if(tt)throw rt}return""}function write_vt(et,tt){switch(typeof et){case"string":var rt=writextag("vt:lpwstr",escapexml(et));return tt&&(rt=rt.replace(/&quot;/g,"_x0022_")),rt;case"number":return writextag((et|0)==et?"vt:i4":"vt:r8",escapexml(String(et)));case"boolean":return writextag("vt:bool",et?"true":"false")}if(et instanceof Date)return writextag("vt:filetime",write_w3cdtf(et));throw new Error("Unable to serialize "+et)}function xlml_normalize(et){if(has_buf&&Buffer.isBuffer(et))return et.toString("utf8");if(typeof et=="string")return et;if(typeof Uint8Array<"u"&&et instanceof Uint8Array)return utf8read(a2s(ab2a(et)));throw new Error("Bad input format: expected Buffer or string")}var xlmlregex=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,XMLNS={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},XMLNS_main=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],XLMLNS={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function read_double_le(et,tt){for(var rt=1-2*(et[tt+7]>>>7),nt=((et[tt+7]&127)<<4)+(et[tt+6]>>>4&15),at=et[tt+6]&15,it=5;it>=0;--it)at=at*256+et[tt+it];return nt==2047?at==0?rt*(1/0):NaN:(nt==0?nt=-1022:(nt-=1023,at+=Math.pow(2,52)),rt*Math.pow(2,nt-52)*at)}function write_double_le(et,tt,rt){var nt=(tt<0||1/tt==-1/0?1:0)<<7,at=0,it=0,st=nt?-tt:tt;isFinite(st)?st==0?at=it=0:(at=Math.floor(Math.log(st)/Math.LN2),it=st*Math.pow(2,52-at),at<=-1023&&(!isFinite(it)||it<Math.pow(2,52))?at=-1022:(it-=Math.pow(2,52),at+=1023)):(at=2047,it=isNaN(tt)?26985:0);for(var ot=0;ot<=5;++ot,it/=256)et[rt+ot]=it&255;et[rt+6]=(at&15)<<4|it&15,et[rt+7]=at>>4|nt}var ___toBuffer=function(et){for(var tt=[],rt=10240,nt=0;nt<et[0].length;++nt)if(et[0][nt])for(var at=0,it=et[0][nt].length;at<it;at+=rt)tt.push.apply(tt,et[0][nt].slice(at,at+rt));return tt},__toBuffer=has_buf?function(et){return et[0].length>0&&Buffer.isBuffer(et[0][0])?Buffer.concat(et[0].map(function(tt){return Buffer.isBuffer(tt)?tt:Buffer_from(tt)})):___toBuffer(et)}:___toBuffer,___utf16le=function(et,tt,rt){for(var nt=[],at=tt;at<rt;at+=2)nt.push(String.fromCharCode(__readUInt16LE(et,at)));return nt.join("").replace(chr0,"")},__utf16le=has_buf?function(et,tt,rt){return Buffer.isBuffer(et)?et.toString("utf16le",tt,rt).replace(chr0,""):___utf16le(et,tt,rt)}:___utf16le,___hexlify=function(et,tt,rt){for(var nt=[],at=tt;at<tt+rt;++at)nt.push(("0"+et[at].toString(16)).slice(-2));return nt.join("")},__hexlify=has_buf?function(et,tt,rt){return Buffer.isBuffer(et)?et.toString("hex",tt,tt+rt):___hexlify(et,tt,rt)}:___hexlify,___utf8=function(et,tt,rt){for(var nt=[],at=tt;at<rt;at++)nt.push(String.fromCharCode(__readUInt8(et,at)));return nt.join("")},__utf8=has_buf?function(tt,rt,nt){return Buffer.isBuffer(tt)?tt.toString("utf8",rt,nt):___utf8(tt,rt,nt)}:___utf8,___lpstr=function(et,tt){var rt=__readUInt32LE(et,tt);return rt>0?__utf8(et,tt+4,tt+4+rt-1):""},__lpstr=___lpstr,___cpstr=function(et,tt){var rt=__readUInt32LE(et,tt);return rt>0?__utf8(et,tt+4,tt+4+rt-1):""},__cpstr=___cpstr,___lpwstr=function(et,tt){var rt=2*__readUInt32LE(et,tt);return rt>0?__utf8(et,tt+4,tt+4+rt-1):""},__lpwstr=___lpwstr,___lpp4=function(tt,rt){var nt=__readUInt32LE(tt,rt);return nt>0?__utf16le(tt,rt+4,rt+4+nt):""},__lpp4=___lpp4,___8lpp4=function(et,tt){var rt=__readUInt32LE(et,tt);return rt>0?__utf8(et,tt+4,tt+4+rt):""},__8lpp4=___8lpp4,___double=function(et,tt){return read_double_le(et,tt)},__double=___double,is_buf=function(tt){return Array.isArray(tt)||typeof Uint8Array<"u"&&tt instanceof Uint8Array};has_buf&&(__lpstr=function(tt,rt){if(!Buffer.isBuffer(tt))return ___lpstr(tt,rt);var nt=tt.readUInt32LE(rt);return nt>0?tt.toString("utf8",rt+4,rt+4+nt-1):""},__cpstr=function(tt,rt){if(!Buffer.isBuffer(tt))return ___cpstr(tt,rt);var nt=tt.readUInt32LE(rt);return nt>0?tt.toString("utf8",rt+4,rt+4+nt-1):""},__lpwstr=function(tt,rt){if(!Buffer.isBuffer(tt))return ___lpwstr(tt,rt);var nt=2*tt.readUInt32LE(rt);return tt.toString("utf16le",rt+4,rt+4+nt-1)},__lpp4=function(tt,rt){if(!Buffer.isBuffer(tt))return ___lpp4(tt,rt);var nt=tt.readUInt32LE(rt);return tt.toString("utf16le",rt+4,rt+4+nt)},__8lpp4=function(tt,rt){if(!Buffer.isBuffer(tt))return ___8lpp4(tt,rt);var nt=tt.readUInt32LE(rt);return tt.toString("utf8",rt+4,rt+4+nt)},__double=function(tt,rt){return Buffer.isBuffer(tt)?tt.readDoubleLE(rt):___double(tt,rt)},is_buf=function(tt){return Buffer.isBuffer(tt)||Array.isArray(tt)||typeof Uint8Array<"u"&&tt instanceof Uint8Array});var __readUInt8=function(et,tt){return et[tt]},__readUInt16LE=function(et,tt){return et[tt+1]*256+et[tt]},__readInt16LE=function(et,tt){var rt=et[tt+1]*256+et[tt];return rt<32768?rt:(65535-rt+1)*-1},__readUInt32LE=function(et,tt){return et[tt+3]*(1<<24)+(et[tt+2]<<16)+(et[tt+1]<<8)+et[tt]},__readInt32LE=function(et,tt){return et[tt+3]<<24|et[tt+2]<<16|et[tt+1]<<8|et[tt]},__readInt32BE=function(et,tt){return et[tt]<<24|et[tt+1]<<16|et[tt+2]<<8|et[tt+3]};function ReadShift(et,tt){var rt="",nt,at,it=[],st,ot,lt,ct;switch(tt){case"dbcs":if(ct=this.l,has_buf&&Buffer.isBuffer(this))rt=this.slice(this.l,this.l+2*et).toString("utf16le");else for(lt=0;lt<et;++lt)rt+=String.fromCharCode(__readUInt16LE(this,ct)),ct+=2;et*=2;break;case"utf8":rt=__utf8(this,this.l,this.l+et);break;case"utf16le":et*=2,rt=__utf16le(this,this.l,this.l+et);break;case"wstr":return ReadShift.call(this,et,"dbcs");case"lpstr-ansi":rt=__lpstr(this,this.l),et=4+__readUInt32LE(this,this.l);break;case"lpstr-cp":rt=__cpstr(this,this.l),et=4+__readUInt32LE(this,this.l);break;case"lpwstr":rt=__lpwstr(this,this.l),et=4+2*__readUInt32LE(this,this.l);break;case"lpp4":et=4+__readUInt32LE(this,this.l),rt=__lpp4(this,this.l),et&2&&(et+=2);break;case"8lpp4":et=4+__readUInt32LE(this,this.l),rt=__8lpp4(this,this.l),et&3&&(et+=4-(et&3));break;case"cstr":for(et=0,rt="";(st=__readUInt8(this,this.l+et++))!==0;)it.push(_getchar(st));rt=it.join("");break;case"_wstr":for(et=0,rt="";(st=__readUInt16LE(this,this.l+et))!==0;)it.push(_getchar(st)),et+=2;et+=2,rt=it.join("");break;case"dbcs-cont":for(rt="",ct=this.l,lt=0;lt<et;++lt){if(this.lens&&this.lens.indexOf(ct)!==-1)return st=__readUInt8(this,ct),this.l=ct+1,ot=ReadShift.call(this,et-lt,st?"dbcs-cont":"sbcs-cont"),it.join("")+ot;it.push(_getchar(__readUInt16LE(this,ct))),ct+=2}rt=it.join(""),et*=2;break;case"cpstr":case"sbcs-cont":for(rt="",ct=this.l,lt=0;lt!=et;++lt){if(this.lens&&this.lens.indexOf(ct)!==-1)return st=__readUInt8(this,ct),this.l=ct+1,ot=ReadShift.call(this,et-lt,st?"dbcs-cont":"sbcs-cont"),it.join("")+ot;it.push(_getchar(__readUInt8(this,ct))),ct+=1}rt=it.join("");break;default:switch(et){case 1:return nt=__readUInt8(this,this.l),this.l++,nt;case 2:return nt=(tt==="i"?__readInt16LE:__readUInt16LE)(this,this.l),this.l+=2,nt;case 4:case-4:return tt==="i"||!(this[this.l+3]&128)?(nt=(et>0?__readInt32LE:__readInt32BE)(this,this.l),this.l+=4,nt):(at=__readUInt32LE(this,this.l),this.l+=4,at);case 8:case-8:if(tt==="f")return et==8?at=__double(this,this.l):at=__double([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,at;et=8;case 16:rt=__hexlify(this,this.l,et);break}}return this.l+=et,rt}var __writeUInt32LE=function(et,tt,rt){et[rt]=tt&255,et[rt+1]=tt>>>8&255,et[rt+2]=tt>>>16&255,et[rt+3]=tt>>>24&255},__writeInt32LE=function(et,tt,rt){et[rt]=tt&255,et[rt+1]=tt>>8&255,et[rt+2]=tt>>16&255,et[rt+3]=tt>>24&255},__writeUInt16LE=function(et,tt,rt){et[rt]=tt&255,et[rt+1]=tt>>>8&255};function WriteShift(et,tt,rt){var nt=0,at=0;if(rt==="dbcs"){for(at=0;at!=tt.length;++at)__writeUInt16LE(this,tt.charCodeAt(at),this.l+2*at);nt=2*tt.length}else if(rt==="sbcs"){for(tt=tt.replace(/[^\x00-\x7F]/g,"_"),at=0;at!=tt.length;++at)this[this.l+at]=tt.charCodeAt(at)&255;nt=tt.length}else if(rt==="hex"){for(;at<et;++at)this[this.l++]=parseInt(tt.slice(2*at,2*at+2),16)||0;return this}else if(rt==="utf16le"){var it=Math.min(this.l+et,this.length);for(at=0;at<Math.min(tt.length,et);++at){var st=tt.charCodeAt(at);this[this.l++]=st&255,this[this.l++]=st>>8}for(;this.l<it;)this[this.l++]=0;return this}else switch(et){case 1:nt=1,this[this.l]=tt&255;break;case 2:nt=2,this[this.l]=tt&255,tt>>>=8,this[this.l+1]=tt&255;break;case 3:nt=3,this[this.l]=tt&255,tt>>>=8,this[this.l+1]=tt&255,tt>>>=8,this[this.l+2]=tt&255;break;case 4:nt=4,__writeUInt32LE(this,tt,this.l);break;case 8:if(nt=8,rt==="f"){write_double_le(this,tt,this.l);break}case 16:break;case-4:nt=4,__writeInt32LE(this,tt,this.l);break}return this.l+=nt,this}function CheckField(et,tt){var rt=__hexlify(this,this.l,et.length>>1);if(rt!==et)throw new Error(tt+"Expected "+et+" saw "+rt);this.l+=et.length>>1}function prep_blob(et,tt){et.l=tt,et.read_shift=ReadShift,et.chk=CheckField,et.write_shift=WriteShift}function parsenoop(et,tt){et.l+=tt}function new_buf(et){var tt=new_raw_buf(et);return prep_blob(tt,0),tt}function recordhopper(et,tt,rt){if(et){var nt,at,it;prep_blob(et,et.l||0);for(var st=et.length,ot=0,lt=0;et.l<st;){ot=et.read_shift(1),ot&128&&(ot=(ot&127)+((et.read_shift(1)&127)<<7));var ct=XLSBRecordEnum[ot]||XLSBRecordEnum[65535];for(nt=et.read_shift(1),it=nt&127,at=1;at<4&&nt&128;++at)it+=((nt=et.read_shift(1))&127)<<7*at;lt=et.l+it;var ut=ct.f&&ct.f(et,it,rt);if(et.l=lt,tt(ut,ct,ot))return}}}function buf_array(){var et=[],tt=has_buf?256:2048,rt=function(ct){var ut=new_buf(ct);return prep_blob(ut,0),ut},nt=rt(tt),at=function(){nt&&(nt.length>nt.l&&(nt=nt.slice(0,nt.l),nt.l=nt.length),nt.length>0&&et.push(nt),nt=null)},it=function(ct){return nt&&ct<nt.length-nt.l?nt:(at(),nt=rt(Math.max(ct+1,tt)))},st=function(){return at(),bconcat(et)},ot=function(ct){at(),nt=ct,nt.l==null&&(nt.l=nt.length),it(tt)};return{next:it,push:ot,end:st,_bufs:et}}function write_record(et,tt,rt,nt){var at=+tt,it;if(!isNaN(at)){nt||(nt=XLSBRecordEnum[at].p||(rt||[]).length||0),it=1+(at>=128?1:0)+1,nt>=128&&++it,nt>=16384&&++it,nt>=2097152&&++it;var st=et.next(it);at<=127?st.write_shift(1,at):(st.write_shift(1,(at&127)+128),st.write_shift(1,at>>7));for(var ot=0;ot!=4;++ot)if(nt>=128)st.write_shift(1,(nt&127)+128),nt>>=7;else{st.write_shift(1,nt);break}nt>0&&is_buf(rt)&&et.push(rt)}}function shift_cell_xls(et,tt,rt){var nt=dup(et);if(tt.s?(nt.cRel&&(nt.c+=tt.s.c),nt.rRel&&(nt.r+=tt.s.r)):(nt.cRel&&(nt.c+=tt.c),nt.rRel&&(nt.r+=tt.r)),!rt||rt.biff<12){for(;nt.c>=256;)nt.c-=256;for(;nt.r>=65536;)nt.r-=65536}return nt}function shift_range_xls(et,tt,rt){var nt=dup(et);return nt.s=shift_cell_xls(nt.s,tt.s,rt),nt.e=shift_cell_xls(nt.e,tt.s,rt),nt}function encode_cell_xls(et,tt){if(et.cRel&&et.c<0)for(et=dup(et);et.c<0;)et.c+=tt>8?16384:256;if(et.rRel&&et.r<0)for(et=dup(et);et.r<0;)et.r+=tt>8?1048576:tt>5?65536:16384;var rt=encode_cell(et);return!et.cRel&&et.cRel!=null&&(rt=fix_col(rt)),!et.rRel&&et.rRel!=null&&(rt=fix_row(rt)),rt}function encode_range_xls(et,tt){return et.s.r==0&&!et.s.rRel&&et.e.r==(tt.biff>=12?1048575:tt.biff>=8?65536:16384)&&!et.e.rRel?(et.s.cRel?"":"$")+encode_col(et.s.c)+":"+(et.e.cRel?"":"$")+encode_col(et.e.c):et.s.c==0&&!et.s.cRel&&et.e.c==(tt.biff>=12?16383:255)&&!et.e.cRel?(et.s.rRel?"":"$")+encode_row(et.s.r)+":"+(et.e.rRel?"":"$")+encode_row(et.e.r):encode_cell_xls(et.s,tt.biff)+":"+encode_cell_xls(et.e,tt.biff)}function decode_row(et){return parseInt(unfix_row(et),10)-1}function encode_row(et){return""+(et+1)}function fix_row(et){return et.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function unfix_row(et){return et.replace(/\$(\d+)$/,"$1")}function decode_col(et){for(var tt=unfix_col(et),rt=0,nt=0;nt!==tt.length;++nt)rt=26*rt+tt.charCodeAt(nt)-64;return rt-1}function encode_col(et){if(et<0)throw new Error("invalid column "+et);var tt="";for(++et;et;et=Math.floor((et-1)/26))tt=String.fromCharCode((et-1)%26+65)+tt;return tt}function fix_col(et){return et.replace(/^([A-Z])/,"$$$1")}function unfix_col(et){return et.replace(/^\$([A-Z])/,"$1")}function split_cell(et){return et.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function decode_cell(et){for(var tt=0,rt=0,nt=0;nt<et.length;++nt){var at=et.charCodeAt(nt);at>=48&&at<=57?tt=10*tt+(at-48):at>=65&&at<=90&&(rt=26*rt+(at-64))}return{c:rt-1,r:tt-1}}function encode_cell(et){for(var tt=et.c+1,rt="";tt;tt=(tt-1)/26|0)rt=String.fromCharCode((tt-1)%26+65)+rt;return rt+(et.r+1)}function decode_range(et){var tt=et.indexOf(":");return tt==-1?{s:decode_cell(et),e:decode_cell(et)}:{s:decode_cell(et.slice(0,tt)),e:decode_cell(et.slice(tt+1))}}function encode_range(et,tt){return typeof tt>"u"||typeof tt=="number"?encode_range(et.s,et.e):(typeof et!="string"&&(et=encode_cell(et)),typeof tt!="string"&&(tt=encode_cell(tt)),et==tt?et:et+":"+tt)}function safe_decode_range(et){var tt={s:{c:0,r:0},e:{c:0,r:0}},rt=0,nt=0,at=0,it=et.length;for(rt=0;nt<it&&!((at=et.charCodeAt(nt)-64)<1||at>26);++nt)rt=26*rt+at;for(tt.s.c=--rt,rt=0;nt<it&&!((at=et.charCodeAt(nt)-48)<0||at>9);++nt)rt=10*rt+at;if(tt.s.r=--rt,nt===it||at!=10)return tt.e.c=tt.s.c,tt.e.r=tt.s.r,tt;for(++nt,rt=0;nt!=it&&!((at=et.charCodeAt(nt)-64)<1||at>26);++nt)rt=26*rt+at;for(tt.e.c=--rt,rt=0;nt!=it&&!((at=et.charCodeAt(nt)-48)<0||at>9);++nt)rt=10*rt+at;return tt.e.r=--rt,tt}function safe_format_cell(et,tt){var rt=et.t=="d"&&tt instanceof Date;if(et.z!=null)try{return et.w=SSF_format(et.z,rt?datenum(tt):tt)}catch{}try{return et.w=SSF_format((et.XF||{}).numFmtId||(rt?14:0),rt?datenum(tt):tt)}catch{return""+tt}}function format_cell(et,tt,rt){return et==null||et.t==null||et.t=="z"?"":et.w!==void 0?et.w:(et.t=="d"&&!et.z&&rt&&rt.dateNF&&(et.z=rt.dateNF),et.t=="e"?BErr[et.v]||et.v:tt==null?safe_format_cell(et,et.v):safe_format_cell(et,tt))}function sheet_to_workbook(et,tt){var rt=tt&&tt.sheet?tt.sheet:"Sheet1",nt={};return nt[rt]=et,{SheetNames:[rt],Sheets:nt}}function sheet_add_aoa(et,tt,rt){var nt=rt||{},at=et?Array.isArray(et):nt.dense,it=et||(at?[]:{}),st=0,ot=0;if(it&&nt.origin!=null){if(typeof nt.origin=="number")st=nt.origin;else{var lt=typeof nt.origin=="string"?decode_cell(nt.origin):nt.origin;st=lt.r,ot=lt.c}it["!ref"]||(it["!ref"]="A1:A1")}var ct={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(it["!ref"]){var ut=safe_decode_range(it["!ref"]);ct.s.c=ut.s.c,ct.s.r=ut.s.r,ct.e.c=Math.max(ct.e.c,ut.e.c),ct.e.r=Math.max(ct.e.r,ut.e.r),st==-1&&(ct.e.r=st=ut.e.r+1)}for(var dt=0;dt!=tt.length;++dt)if(tt[dt]){if(!Array.isArray(tt[dt]))throw new Error("aoa_to_sheet expects an array of arrays");for(var ft=0;ft!=tt[dt].length;++ft)if(!(typeof tt[dt][ft]>"u")){var ht={v:tt[dt][ft]},gt=st+dt,mt=ot+ft;if(ct.s.r>gt&&(ct.s.r=gt),ct.s.c>mt&&(ct.s.c=mt),ct.e.r<gt&&(ct.e.r=gt),ct.e.c<mt&&(ct.e.c=mt),tt[dt][ft]&&typeof tt[dt][ft]=="object"&&!Array.isArray(tt[dt][ft])&&!(tt[dt][ft]instanceof Date))ht=tt[dt][ft];else if(Array.isArray(ht.v)&&(ht.f=tt[dt][ft][1],ht.v=ht.v[0]),ht.v===null)if(ht.f)ht.t="n";else if(nt.nullError)ht.t="e",ht.v=0;else if(nt.sheetStubs)ht.t="z";else continue;else typeof ht.v=="number"?ht.t="n":typeof ht.v=="boolean"?ht.t="b":ht.v instanceof Date?(ht.z=nt.dateNF||table_fmt[14],nt.cellDates?(ht.t="d",ht.w=SSF_format(ht.z,datenum(ht.v))):(ht.t="n",ht.v=datenum(ht.v),ht.w=SSF_format(ht.z,ht.v))):ht.t="s";if(at)it[gt]||(it[gt]=[]),it[gt][mt]&&it[gt][mt].z&&(ht.z=it[gt][mt].z),it[gt][mt]=ht;else{var xt=encode_cell({c:mt,r:gt});it[xt]&&it[xt].z&&(ht.z=it[xt].z),it[xt]=ht}}}return ct.s.c<1e7&&(it["!ref"]=encode_range(ct)),it}function aoa_to_sheet(et,tt){return sheet_add_aoa(null,et,tt)}function parse_Int32LE(et){return et.read_shift(4,"i")}function write_UInt32LE(et,tt){return tt||(tt=new_buf(4)),tt.write_shift(4,et),tt}function parse_XLWideString(et){var tt=et.read_shift(4);return tt===0?"":et.read_shift(tt,"dbcs")}function write_XLWideString(et,tt){var rt=!1;return tt==null&&(rt=!0,tt=new_buf(4+2*et.length)),tt.write_shift(4,et.length),et.length>0&&tt.write_shift(0,et,"dbcs"),rt?tt.slice(0,tt.l):tt}function parse_StrRun(et){return{ich:et.read_shift(2),ifnt:et.read_shift(2)}}function write_StrRun(et,tt){return tt||(tt=new_buf(4)),tt.write_shift(2,et.ich||0),tt.write_shift(2,et.ifnt||0),tt}function parse_RichStr(et,tt){var rt=et.l,nt=et.read_shift(1),at=parse_XLWideString(et),it=[],st={t:at,h:at};if(nt&1){for(var ot=et.read_shift(4),lt=0;lt!=ot;++lt)it.push(parse_StrRun(et));st.r=it}else st.r=[{ich:0,ifnt:0}];return et.l=rt+tt,st}function write_RichStr(et,tt){var rt=!1;return tt==null&&(rt=!0,tt=new_buf(15+4*et.t.length)),tt.write_shift(1,0),write_XLWideString(et.t,tt),rt?tt.slice(0,tt.l):tt}var parse_BrtCommentText=parse_RichStr;function write_BrtCommentText(et,tt){var rt=!1;return tt==null&&(rt=!0,tt=new_buf(23+4*et.t.length)),tt.write_shift(1,1),write_XLWideString(et.t,tt),tt.write_shift(4,1),write_StrRun({ich:0,ifnt:0},tt),rt?tt.slice(0,tt.l):tt}function parse_XLSBCell(et){var tt=et.read_shift(4),rt=et.read_shift(2);return rt+=et.read_shift(1)<<16,et.l++,{c:tt,iStyleRef:rt}}function write_XLSBCell(et,tt){return tt==null&&(tt=new_buf(8)),tt.write_shift(-4,et.c),tt.write_shift(3,et.iStyleRef||et.s),tt.write_shift(1,0),tt}function parse_XLSBShortCell(et){var tt=et.read_shift(2);return tt+=et.read_shift(1)<<16,et.l++,{c:-1,iStyleRef:tt}}function write_XLSBShortCell(et,tt){return tt==null&&(tt=new_buf(4)),tt.write_shift(3,et.iStyleRef||et.s),tt.write_shift(1,0),tt}var parse_XLSBCodeName=parse_XLWideString,write_XLSBCodeName=write_XLWideString;function parse_XLNullableWideString(et){var tt=et.read_shift(4);return tt===0||tt===4294967295?"":et.read_shift(tt,"dbcs")}function write_XLNullableWideString(et,tt){var rt=!1;return tt==null&&(rt=!0,tt=new_buf(127)),tt.write_shift(4,et.length>0?et.length:4294967295),et.length>0&&tt.write_shift(0,et,"dbcs"),rt?tt.slice(0,tt.l):tt}var parse_XLNameWideString=parse_XLWideString,parse_RelID=parse_XLNullableWideString,write_RelID=write_XLNullableWideString;function parse_RkNumber(et){var tt=et.slice(et.l,et.l+4),rt=tt[0]&1,nt=tt[0]&2;et.l+=4;var at=nt===0?__double([0,0,0,0,tt[0]&252,tt[1],tt[2],tt[3]],0):__readInt32LE(tt,0)>>2;return rt?at/100:at}function write_RkNumber(et,tt){tt==null&&(tt=new_buf(4));var rt=0,nt=0,at=et*100;if(et==(et|0)&&et>=-(1<<29)&&et<1<<29?nt=1:at==(at|0)&&at>=-(1<<29)&&at<1<<29&&(nt=1,rt=1),nt)tt.write_shift(-4,((rt?at:et)<<2)+(rt+2));else throw new Error("unsupported RkNumber "+et)}function parse_RfX(et){var tt={s:{},e:{}};return tt.s.r=et.read_shift(4),tt.e.r=et.read_shift(4),tt.s.c=et.read_shift(4),tt.e.c=et.read_shift(4),tt}function write_RfX(et,tt){return tt||(tt=new_buf(16)),tt.write_shift(4,et.s.r),tt.write_shift(4,et.e.r),tt.write_shift(4,et.s.c),tt.write_shift(4,et.e.c),tt}var parse_UncheckedRfX=parse_RfX,write_UncheckedRfX=write_RfX;function parse_Xnum(et){if(et.length-et.l<8)throw"XLS Xnum Buffer underflow";return et.read_shift(8,"f")}function write_Xnum(et,tt){return(tt||new_buf(8)).write_shift(8,et,"f")}function parse_BrtColor(et){var tt={},rt=et.read_shift(1),nt=rt>>>1,at=et.read_shift(1),it=et.read_shift(2,"i"),st=et.read_shift(1),ot=et.read_shift(1),lt=et.read_shift(1);switch(et.l++,nt){case 0:tt.auto=1;break;case 1:tt.index=at;var ct=XLSIcv[at];ct&&(tt.rgb=rgb2Hex(ct));break;case 2:tt.rgb=rgb2Hex([st,ot,lt]);break;case 3:tt.theme=at;break}return it!=0&&(tt.tint=it>0?it/32767:it/32768),tt}function write_BrtColor(et,tt){if(tt||(tt=new_buf(8)),!et||et.auto)return tt.write_shift(4,0),tt.write_shift(4,0),tt;et.index!=null?(tt.write_shift(1,2),tt.write_shift(1,et.index)):et.theme!=null?(tt.write_shift(1,6),tt.write_shift(1,et.theme)):(tt.write_shift(1,5),tt.write_shift(1,0));var rt=et.tint||0;if(rt>0?rt*=32767:rt<0&&(rt*=32768),tt.write_shift(2,rt),!et.rgb||et.theme!=null)tt.write_shift(2,0),tt.write_shift(1,0),tt.write_shift(1,0);else{var nt=et.rgb||"FFFFFF";typeof nt=="number"&&(nt=("000000"+nt.toString(16)).slice(-6)),tt.write_shift(1,parseInt(nt.slice(0,2),16)),tt.write_shift(1,parseInt(nt.slice(2,4),16)),tt.write_shift(1,parseInt(nt.slice(4,6),16)),tt.write_shift(1,255)}return tt}function parse_FontFlags(et){var tt=et.read_shift(1);et.l++;var rt={fBold:tt&1,fItalic:tt&2,fUnderline:tt&4,fStrikeout:tt&8,fOutline:tt&16,fShadow:tt&32,fCondense:tt&64,fExtend:tt&128};return rt}function write_FontFlags(et,tt){tt||(tt=new_buf(2));var rt=(et.italic?2:0)|(et.strike?8:0)|(et.outline?16:0)|(et.shadow?32:0)|(et.condense?64:0)|(et.extend?128:0);return tt.write_shift(1,rt),tt.write_shift(1,0),tt}function parse_ClipboardFormatOrString(et,tt){var rt={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},nt=et.read_shift(4);switch(nt){case 0:return"";case 4294967295:case 4294967294:return rt[et.read_shift(4)]||""}if(nt>400)throw new Error("Unsupported Clipboard: "+nt.toString(16));return et.l-=4,et.read_shift(0,tt==1?"lpstr":"lpwstr")}function parse_ClipboardFormatOrAnsiString(et){return parse_ClipboardFormatOrString(et,1)}function parse_ClipboardFormatOrUnicodeString(et){return parse_ClipboardFormatOrString(et,2)}var VT_I2=2,VT_I4=3,VT_BOOL=11,VT_VARIANT=12,VT_UI4=19,VT_FILETIME=64,VT_BLOB=65,VT_CF=71,VT_VECTOR_VARIANT=4108,VT_VECTOR_LPSTR=4126,VT_STRING=80,VT_USTR=81,VT_CUSTOM=[VT_STRING,VT_USTR],DocSummaryPIDDSI={1:{n:"CodePage",t:VT_I2},2:{n:"Category",t:VT_STRING},3:{n:"PresentationFormat",t:VT_STRING},4:{n:"ByteCount",t:VT_I4},5:{n:"LineCount",t:VT_I4},6:{n:"ParagraphCount",t:VT_I4},7:{n:"SlideCount",t:VT_I4},8:{n:"NoteCount",t:VT_I4},9:{n:"HiddenCount",t:VT_I4},10:{n:"MultimediaClipCount",t:VT_I4},11:{n:"ScaleCrop",t:VT_BOOL},12:{n:"HeadingPairs",t:VT_VECTOR_VARIANT},13:{n:"TitlesOfParts",t:VT_VECTOR_LPSTR},14:{n:"Manager",t:VT_STRING},15:{n:"Company",t:VT_STRING},16:{n:"LinksUpToDate",t:VT_BOOL},17:{n:"CharacterCount",t:VT_I4},19:{n:"SharedDoc",t:VT_BOOL},22:{n:"HyperlinksChanged",t:VT_BOOL},23:{n:"AppVersion",t:VT_I4,p:"version"},24:{n:"DigSig",t:VT_BLOB},26:{n:"ContentType",t:VT_STRING},27:{n:"ContentStatus",t:VT_STRING},28:{n:"Language",t:VT_STRING},29:{n:"Version",t:VT_STRING},255:{},2147483648:{n:"Locale",t:VT_UI4},2147483651:{n:"Behavior",t:VT_UI4},1919054434:{}},SummaryPIDSI={1:{n:"CodePage",t:VT_I2},2:{n:"Title",t:VT_STRING},3:{n:"Subject",t:VT_STRING},4:{n:"Author",t:VT_STRING},5:{n:"Keywords",t:VT_STRING},6:{n:"Comments",t:VT_STRING},7:{n:"Template",t:VT_STRING},8:{n:"LastAuthor",t:VT_STRING},9:{n:"RevNumber",t:VT_STRING},10:{n:"EditTime",t:VT_FILETIME},11:{n:"LastPrinted",t:VT_FILETIME},12:{n:"CreatedDate",t:VT_FILETIME},13:{n:"ModifiedDate",t:VT_FILETIME},14:{n:"PageCount",t:VT_I4},15:{n:"WordCount",t:VT_I4},16:{n:"CharCount",t:VT_I4},17:{n:"Thumbnail",t:VT_CF},18:{n:"Application",t:VT_STRING},19:{n:"DocSecurity",t:VT_I4},255:{},2147483648:{n:"Locale",t:VT_UI4},2147483651:{n:"Behavior",t:VT_UI4},1919054434:{}},CountryEnum={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},XLSFillPattern=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function rgbify(et){return et.map(function(tt){return[tt>>16&255,tt>>8&255,tt&255]})}var _XLSIcv=rgbify([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),XLSIcv=dup(_XLSIcv),BErr={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},RBErr={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},ct2type={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},CT_LIST={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function new_ct(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function parse_ct(et){var tt=new_ct();if(!et||!et.match)return tt;var rt={};if((et.match(tagregex)||[]).forEach(function(nt){var at=parsexmltag(nt);switch(at[0].replace(nsregex,"<")){case"<?xml":break;case"<Types":tt.xmlns=at["xmlns"+(at[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":rt[at.Extension]=at.ContentType;break;case"<Override":tt[ct2type[at.ContentType]]!==void 0&&tt[ct2type[at.ContentType]].push(at.PartName);break}}),tt.xmlns!==XMLNS.CT)throw new Error("Unknown Namespace: "+tt.xmlns);return tt.calcchain=tt.calcchains.length>0?tt.calcchains[0]:"",tt.sst=tt.strs.length>0?tt.strs[0]:"",tt.style=tt.styles.length>0?tt.styles[0]:"",tt.defaults=rt,delete tt.calcchains,tt}function write_ct(et,tt){var rt=evert_arr(ct2type),nt=[],at;nt[nt.length]=XML_HEADER,nt[nt.length]=writextag("Types",null,{xmlns:XMLNS.CT,"xmlns:xsd":XMLNS.xsd,"xmlns:xsi":XMLNS.xsi}),nt=nt.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(lt){return writextag("Default",null,{Extension:lt[0],ContentType:lt[1]})}));var it=function(lt){et[lt]&&et[lt].length>0&&(at=et[lt][0],nt[nt.length]=writextag("Override",null,{PartName:(at[0]=="/"?"":"/")+at,ContentType:CT_LIST[lt][tt.bookType]||CT_LIST[lt].xlsx}))},st=function(lt){(et[lt]||[]).forEach(function(ct){nt[nt.length]=writextag("Override",null,{PartName:(ct[0]=="/"?"":"/")+ct,ContentType:CT_LIST[lt][tt.bookType]||CT_LIST[lt].xlsx})})},ot=function(lt){(et[lt]||[]).forEach(function(ct){nt[nt.length]=writextag("Override",null,{PartName:(ct[0]=="/"?"":"/")+ct,ContentType:rt[lt][0]})})};return it("workbooks"),st("sheets"),st("charts"),ot("themes"),["strs","styles"].forEach(it),["coreprops","extprops","custprops"].forEach(ot),ot("vba"),ot("comments"),ot("threadedcomments"),ot("drawings"),st("metadata"),ot("people"),nt.length>2&&(nt[nt.length]="</Types>",nt[1]=nt[1].replace("/>",">")),nt.join("")}var RELS={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function get_rels_path(et){var tt=et.lastIndexOf("/");return et.slice(0,tt+1)+"_rels/"+et.slice(tt+1)+".rels"}function parse_rels(et,tt){var rt={"!id":{}};if(!et)return rt;tt.charAt(0)!=="/"&&(tt="/"+tt);var nt={};return(et.match(tagregex)||[]).forEach(function(at){var it=parsexmltag(at);if(it[0]==="<Relationship"){var st={};st.Type=it.Type,st.Target=it.Target,st.Id=it.Id,it.TargetMode&&(st.TargetMode=it.TargetMode);var ot=it.TargetMode==="External"?it.Target:resolve_path(it.Target,tt);rt[ot]=st,nt[it.Id]=st}}),rt["!id"]=nt,rt}function write_rels(et){var tt=[XML_HEADER,writextag("Relationships",null,{xmlns:XMLNS.RELS})];return keys$5(et["!id"]).forEach(function(rt){tt[tt.length]=writextag("Relationship",null,et["!id"][rt])}),tt.length>2&&(tt[tt.length]="</Relationships>",tt[1]=tt[1].replace("/>",">")),tt.join("")}function add_rels(et,tt,rt,nt,at,it){if(at||(at={}),et["!id"]||(et["!id"]={}),et["!idx"]||(et["!idx"]=1),tt<0)for(tt=et["!idx"];et["!id"]["rId"+tt];++tt);if(et["!idx"]=tt+1,at.Id="rId"+tt,at.Type=nt,at.Target=rt,it?at.TargetMode=it:[RELS.HLINK,RELS.XPATH,RELS.XMISS].indexOf(at.Type)>-1&&(at.TargetMode="External"),et["!id"][at.Id])throw new Error("Cannot rewrite rId "+tt);return et["!id"][at.Id]=at,et[("/"+at.Target).replace("//","/")]=at,tt}var CT_ODS="application/vnd.oasis.opendocument.spreadsheet";function parse_manifest(et,tt){for(var rt=xlml_normalize(et),nt,at;nt=xlmlregex.exec(rt);)switch(nt[3]){case"manifest":break;case"file-entry":if(at=parsexmltag(nt[0],!1),at.path=="/"&&at.type!==CT_ODS)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(tt&&tt.WTF)throw nt}}function write_manifest(et){var tt=[XML_HEADER];tt.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),tt.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var rt=0;rt<et.length;++rt)tt.push('  <manifest:file-entry manifest:full-path="'+et[rt][0]+'" manifest:media-type="'+et[rt][1]+`"/>
`);return tt.push("</manifest:manifest>"),tt.join("")}function write_rdf_type(et,tt,rt){return['  <rdf:Description rdf:about="'+et+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(rt||"odf")+"#"+tt+`"/>
`,`  </rdf:Description>
`].join("")}function write_rdf_has(et,tt){return['  <rdf:Description rdf:about="'+et+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+tt+`"/>
`,`  </rdf:Description>
`].join("")}function write_rdf(et){var tt=[XML_HEADER];tt.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var rt=0;rt!=et.length;++rt)tt.push(write_rdf_type(et[rt][0],et[rt][1])),tt.push(write_rdf_has("",et[rt][0]));return tt.push(write_rdf_type("","Document","pkg")),tt.push("</rdf:RDF>"),tt.join("")}function write_meta_ods(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+XLSX.version+"</meta:generator></office:meta></office:document-meta>"}var CORE_PROPS=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],CORE_PROPS_REGEX=function(){for(var et=new Array(CORE_PROPS.length),tt=0;tt<CORE_PROPS.length;++tt){var rt=CORE_PROPS[tt],nt="(?:"+rt[0].slice(0,rt[0].indexOf(":"))+":)"+rt[0].slice(rt[0].indexOf(":")+1);et[tt]=new RegExp("<"+nt+"[^>]*>([\\s\\S]*?)</"+nt+">")}return et}();function parse_core_props(et){var tt={};et=utf8read(et);for(var rt=0;rt<CORE_PROPS.length;++rt){var nt=CORE_PROPS[rt],at=et.match(CORE_PROPS_REGEX[rt]);at!=null&&at.length>0&&(tt[nt[1]]=unescapexml(at[1])),nt[2]==="date"&&tt[nt[1]]&&(tt[nt[1]]=parseDate$1(tt[nt[1]]))}return tt}function cp_doit(et,tt,rt,nt,at){at[et]!=null||tt==null||tt===""||(at[et]=tt,tt=escapexml(tt),nt[nt.length]=rt?writextag(et,tt,rt):writetag(et,tt))}function write_core_props(et,tt){var rt=tt||{},nt=[XML_HEADER,writextag("cp:coreProperties",null,{"xmlns:cp":XMLNS.CORE_PROPS,"xmlns:dc":XMLNS.dc,"xmlns:dcterms":XMLNS.dcterms,"xmlns:dcmitype":XMLNS.dcmitype,"xmlns:xsi":XMLNS.xsi})],at={};if(!et&&!rt.Props)return nt.join("");et&&(et.CreatedDate!=null&&cp_doit("dcterms:created",typeof et.CreatedDate=="string"?et.CreatedDate:write_w3cdtf(et.CreatedDate,rt.WTF),{"xsi:type":"dcterms:W3CDTF"},nt,at),et.ModifiedDate!=null&&cp_doit("dcterms:modified",typeof et.ModifiedDate=="string"?et.ModifiedDate:write_w3cdtf(et.ModifiedDate,rt.WTF),{"xsi:type":"dcterms:W3CDTF"},nt,at));for(var it=0;it!=CORE_PROPS.length;++it){var st=CORE_PROPS[it],ot=rt.Props&&rt.Props[st[1]]!=null?rt.Props[st[1]]:et?et[st[1]]:null;ot===!0?ot="1":ot===!1?ot="0":typeof ot=="number"&&(ot=String(ot)),ot!=null&&cp_doit(st[0],ot,null,nt,at)}return nt.length>2&&(nt[nt.length]="</cp:coreProperties>",nt[1]=nt[1].replace("/>",">")),nt.join("")}var EXT_PROPS=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],PseudoPropsPairs=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function load_props_pairs(et,tt,rt,nt){var at=[];if(typeof et=="string")at=parseVector(et,nt);else for(var it=0;it<et.length;++it)at=at.concat(et[it].map(function(ut){return{v:ut}}));var st=typeof tt=="string"?parseVector(tt,nt).map(function(ut){return ut.v}):tt,ot=0,lt=0;if(st.length>0)for(var ct=0;ct!==at.length;ct+=2){switch(lt=+at[ct+1].v,at[ct].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":rt.Worksheets=lt,rt.SheetNames=st.slice(ot,ot+lt);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":rt.NamedRanges=lt,rt.DefinedNames=st.slice(ot,ot+lt);break;case"Charts":case"Diagramme":rt.Chartsheets=lt,rt.ChartNames=st.slice(ot,ot+lt);break}ot+=lt}}function parse_ext_props(et,tt,rt){var nt={};return tt||(tt={}),et=utf8read(et),EXT_PROPS.forEach(function(at){var it=(et.match(matchtag(at[0]))||[])[1];switch(at[2]){case"string":it&&(tt[at[1]]=unescapexml(it));break;case"bool":tt[at[1]]=it==="true";break;case"raw":var st=et.match(new RegExp("<"+at[0]+"[^>]*>([\\s\\S]*?)</"+at[0]+">"));st&&st.length>0&&(nt[at[1]]=st[1]);break}}),nt.HeadingPairs&&nt.TitlesOfParts&&load_props_pairs(nt.HeadingPairs,nt.TitlesOfParts,tt,rt),tt}function write_ext_props(et){var tt=[],rt=writextag;return et||(et={}),et.Application="SheetJS",tt[tt.length]=XML_HEADER,tt[tt.length]=writextag("Properties",null,{xmlns:XMLNS.EXT_PROPS,"xmlns:vt":XMLNS.vt}),EXT_PROPS.forEach(function(nt){if(et[nt[1]]!==void 0){var at;switch(nt[2]){case"string":at=escapexml(String(et[nt[1]]));break;case"bool":at=et[nt[1]]?"true":"false";break}at!==void 0&&(tt[tt.length]=rt(nt[0],at))}}),tt[tt.length]=rt("HeadingPairs",rt("vt:vector",rt("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+rt("vt:variant",rt("vt:i4",String(et.Worksheets))),{size:2,baseType:"variant"})),tt[tt.length]=rt("TitlesOfParts",rt("vt:vector",et.SheetNames.map(function(nt){return"<vt:lpstr>"+escapexml(nt)+"</vt:lpstr>"}).join(""),{size:et.Worksheets,baseType:"lpstr"})),tt.length>2&&(tt[tt.length]="</Properties>",tt[1]=tt[1].replace("/>",">")),tt.join("")}var custregex=/<[^>]+>[^<]*/g;function parse_cust_props(et,tt){var rt={},nt="",at=et.match(custregex);if(at)for(var it=0;it!=at.length;++it){var st=at[it],ot=parsexmltag(st);switch(ot[0]){case"<?xml":break;case"<Properties":break;case"<property":nt=unescapexml(ot.name);break;case"</property>":nt=null;break;default:if(st.indexOf("<vt:")===0){var lt=st.split(">"),ct=lt[0].slice(4),ut=lt[1];switch(ct){case"lpstr":case"bstr":case"lpwstr":rt[nt]=unescapexml(ut);break;case"bool":rt[nt]=parsexmlbool(ut);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":rt[nt]=parseInt(ut,10);break;case"r4":case"r8":case"decimal":rt[nt]=parseFloat(ut);break;case"filetime":case"date":rt[nt]=parseDate$1(ut);break;case"cy":case"error":rt[nt]=unescapexml(ut);break;default:if(ct.slice(-1)=="/")break;tt.WTF&&typeof console<"u"&&console.warn("Unexpected",st,ct,lt)}}else if(st.slice(0,2)!=="</"){if(tt.WTF)throw new Error(st)}}}return rt}function write_cust_props(et){var tt=[XML_HEADER,writextag("Properties",null,{xmlns:XMLNS.CUST_PROPS,"xmlns:vt":XMLNS.vt})];if(!et)return tt.join("");var rt=1;return keys$5(et).forEach(function(at){++rt,tt[tt.length]=writextag("property",write_vt(et[at],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:rt,name:escapexml(at)})}),tt.length>2&&(tt[tt.length]="</Properties>",tt[1]=tt[1].replace("/>",">")),tt.join("")}var XLMLDocPropsMap={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},evert_XLMLDPM;function xlml_set_prop(et,tt,rt){evert_XLMLDPM||(evert_XLMLDPM=evert(XLMLDocPropsMap)),tt=evert_XLMLDPM[tt]||tt,et[tt]=rt}function xlml_write_docprops(et,tt){var rt=[];return keys$5(XLMLDocPropsMap).map(function(nt){for(var at=0;at<CORE_PROPS.length;++at)if(CORE_PROPS[at][1]==nt)return CORE_PROPS[at];for(at=0;at<EXT_PROPS.length;++at)if(EXT_PROPS[at][1]==nt)return EXT_PROPS[at];throw nt}).forEach(function(nt){if(et[nt[1]]!=null){var at=tt&&tt.Props&&tt.Props[nt[1]]!=null?tt.Props[nt[1]]:et[nt[1]];switch(nt[2]){case"date":at=new Date(at).toISOString().replace(/\.\d*Z/,"Z");break}typeof at=="number"?at=String(at):at===!0||at===!1?at=at?"1":"0":at instanceof Date&&(at=new Date(at).toISOString().replace(/\.\d*Z/,"")),rt.push(writetag(XLMLDocPropsMap[nt[1]]||nt[1],at))}}),writextag("DocumentProperties",rt.join(""),{xmlns:XLMLNS.o})}function xlml_write_custprops(et,tt){var rt=["Worksheets","SheetNames"],nt="CustomDocumentProperties",at=[];return et&&keys$5(et).forEach(function(it){if(Object.prototype.hasOwnProperty.call(et,it)){for(var st=0;st<CORE_PROPS.length;++st)if(it==CORE_PROPS[st][1])return;for(st=0;st<EXT_PROPS.length;++st)if(it==EXT_PROPS[st][1])return;for(st=0;st<rt.length;++st)if(it==rt[st])return;var ot=et[it],lt="string";typeof ot=="number"?(lt="float",ot=String(ot)):ot===!0||ot===!1?(lt="boolean",ot=ot?"1":"0"):ot=String(ot),at.push(writextag(escapexmltag(it),ot,{"dt:dt":lt}))}}),tt&&keys$5(tt).forEach(function(it){if(Object.prototype.hasOwnProperty.call(tt,it)&&!(et&&Object.prototype.hasOwnProperty.call(et,it))){var st=tt[it],ot="string";typeof st=="number"?(ot="float",st=String(st)):st===!0||st===!1?(ot="boolean",st=st?"1":"0"):st instanceof Date?(ot="dateTime.tz",st=st.toISOString()):st=String(st),at.push(writextag(escapexmltag(it),st,{"dt:dt":ot}))}}),"<"+nt+' xmlns="'+XLMLNS.o+'">'+at.join("")+"</"+nt+">"}function parse_FILETIME(et){var tt=et.read_shift(4),rt=et.read_shift(4);return new Date((rt/1e7*Math.pow(2,32)+tt/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function write_FILETIME(et){var tt=typeof et=="string"?new Date(Date.parse(et)):et,rt=tt.getTime()/1e3+11644473600,nt=rt%Math.pow(2,32),at=(rt-nt)/Math.pow(2,32);nt*=1e7,at*=1e7;var it=nt/Math.pow(2,32)|0;it>0&&(nt=nt%Math.pow(2,32),at+=it);var st=new_buf(8);return st.write_shift(4,nt),st.write_shift(4,at),st}function parse_lpstr(et,tt,rt){var nt=et.l,at=et.read_shift(0,"lpstr-cp");if(rt)for(;et.l-nt&3;)++et.l;return at}function parse_lpwstr(et,tt,rt){var nt=et.read_shift(0,"lpwstr");return rt&&(et.l+=4-(nt.length+1&3)&3),nt}function parse_VtStringBase(et,tt,rt){return tt===31?parse_lpwstr(et):parse_lpstr(et,tt,rt)}function parse_VtString(et,tt,rt){return parse_VtStringBase(et,tt,rt===!1?0:4)}function parse_VtUnalignedString(et,tt){if(!tt)throw new Error("VtUnalignedString must have positive length");return parse_VtStringBase(et,tt,0)}function parse_VtVecLpwstrValue(et){for(var tt=et.read_shift(4),rt=[],nt=0;nt!=tt;++nt){var at=et.l;rt[nt]=et.read_shift(0,"lpwstr").replace(chr0,""),et.l-at&2&&(et.l+=2)}return rt}function parse_VtVecUnalignedLpstrValue(et){for(var tt=et.read_shift(4),rt=[],nt=0;nt!=tt;++nt)rt[nt]=et.read_shift(0,"lpstr-cp").replace(chr0,"");return rt}function parse_VtHeadingPair(et){var tt=et.l,rt=parse_TypedPropertyValue(et,VT_USTR);et[et.l]==0&&et[et.l+1]==0&&et.l-tt&2&&(et.l+=2);var nt=parse_TypedPropertyValue(et,VT_I4);return[rt,nt]}function parse_VtVecHeadingPairValue(et){for(var tt=et.read_shift(4),rt=[],nt=0;nt<tt/2;++nt)rt.push(parse_VtHeadingPair(et));return rt}function parse_dictionary(et,tt){for(var rt=et.read_shift(4),nt={},at=0;at!=rt;++at){var it=et.read_shift(4),st=et.read_shift(4);nt[it]=et.read_shift(st,tt===1200?"utf16le":"utf8").replace(chr0,"").replace(chr1,"!"),tt===1200&&st%2&&(et.l+=2)}return et.l&3&&(et.l=et.l>>2+1<<2),nt}function parse_BLOB(et){var tt=et.read_shift(4),rt=et.slice(et.l,et.l+tt);return et.l+=tt,(tt&3)>0&&(et.l+=4-(tt&3)&3),rt}function parse_ClipboardData(et){var tt={};return tt.Size=et.read_shift(4),et.l+=tt.Size+3-(tt.Size-1)%4,tt}function parse_TypedPropertyValue(et,tt,rt){var nt=et.read_shift(2),at,it=rt||{};if(et.l+=2,tt!==VT_VARIANT&&nt!==tt&&VT_CUSTOM.indexOf(tt)===-1&&!((tt&65534)==4126&&(nt&65534)==4126))throw new Error("Expected type "+tt+" saw "+nt);switch(tt===VT_VARIANT?nt:tt){case 2:return at=et.read_shift(2,"i"),it.raw||(et.l+=2),at;case 3:return at=et.read_shift(4,"i"),at;case 11:return et.read_shift(4)!==0;case 19:return at=et.read_shift(4),at;case 30:return parse_lpstr(et,nt,4).replace(chr0,"");case 31:return parse_lpwstr(et);case 64:return parse_FILETIME(et);case 65:return parse_BLOB(et);case 71:return parse_ClipboardData(et);case 80:return parse_VtString(et,nt,!it.raw).replace(chr0,"");case 81:return parse_VtUnalignedString(et,nt).replace(chr0,"");case 4108:return parse_VtVecHeadingPairValue(et);case 4126:case 4127:return nt==4127?parse_VtVecLpwstrValue(et):parse_VtVecUnalignedLpstrValue(et);default:throw new Error("TypedPropertyValue unrecognized type "+tt+" "+nt)}}function write_TypedPropertyValue(et,tt){var rt=new_buf(4),nt=new_buf(4);switch(rt.write_shift(4,et==80?31:et),et){case 3:nt.write_shift(-4,tt);break;case 5:nt=new_buf(8),nt.write_shift(8,tt,"f");break;case 11:nt.write_shift(4,tt?1:0);break;case 64:nt=write_FILETIME(tt);break;case 31:case 80:for(nt=new_buf(4+2*(tt.length+1)+(tt.length%2?0:2)),nt.write_shift(4,tt.length+1),nt.write_shift(0,tt,"dbcs");nt.l!=nt.length;)nt.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+et+" "+tt)}return bconcat([rt,nt])}function parse_PropertySet(et,tt){var rt=et.l,nt=et.read_shift(4),at=et.read_shift(4),it=[],st=0,ot=0,lt=-1,ct={};for(st=0;st!=at;++st){var ut=et.read_shift(4),dt=et.read_shift(4);it[st]=[ut,dt+rt]}it.sort(function(_t,yt){return _t[1]-yt[1]});var ft={};for(st=0;st!=at;++st){if(et.l!==it[st][1]){var ht=!0;if(st>0&&tt)switch(tt[it[st-1][0]].t){case 2:et.l+2===it[st][1]&&(et.l+=2,ht=!1);break;case 80:et.l<=it[st][1]&&(et.l=it[st][1],ht=!1);break;case 4108:et.l<=it[st][1]&&(et.l=it[st][1],ht=!1);break}if((!tt||st==0)&&et.l<=it[st][1]&&(ht=!1,et.l=it[st][1]),ht)throw new Error("Read Error: Expected address "+it[st][1]+" at "+et.l+" :"+st)}if(tt){var gt=tt[it[st][0]];if(ft[gt.n]=parse_TypedPropertyValue(et,gt.t,{raw:!0}),gt.p==="version"&&(ft[gt.n]=String(ft[gt.n]>>16)+"."+("0000"+String(ft[gt.n]&65535)).slice(-4)),gt.n=="CodePage")switch(ft[gt.n]){case 0:ft[gt.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:set_cp(ot=ft[gt.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+ft[gt.n])}}else if(it[st][0]===1){if(ot=ft.CodePage=parse_TypedPropertyValue(et,VT_I2),set_cp(ot),lt!==-1){var mt=et.l;et.l=it[lt][1],ct=parse_dictionary(et,ot),et.l=mt}}else if(it[st][0]===0){if(ot===0){lt=st,et.l=it[st+1][1];continue}ct=parse_dictionary(et,ot)}else{var xt=ct[it[st][0]],vt;switch(et[et.l]){case 65:et.l+=4,vt=parse_BLOB(et);break;case 30:et.l+=4,vt=parse_VtString(et,et[et.l-4]).replace(/\u0000+$/,"");break;case 31:et.l+=4,vt=parse_VtString(et,et[et.l-4]).replace(/\u0000+$/,"");break;case 3:et.l+=4,vt=et.read_shift(4,"i");break;case 19:et.l+=4,vt=et.read_shift(4);break;case 5:et.l+=4,vt=et.read_shift(8,"f");break;case 11:et.l+=4,vt=parsebool(et,4);break;case 64:et.l+=4,vt=parseDate$1(parse_FILETIME(et));break;default:throw new Error("unparsed value: "+et[et.l])}ft[xt]=vt}}return et.l=rt+nt,ft}var XLSPSSkip=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function guess_property_type(et){switch(typeof et){case"boolean":return 11;case"number":return(et|0)==et?3:5;case"string":return 31;case"object":if(et instanceof Date)return 64;break}return-1}function write_PropertySet(et,tt,rt){var nt=new_buf(8),at=[],it=[],st=8,ot=0,lt=new_buf(8),ct=new_buf(8);if(lt.write_shift(4,2),lt.write_shift(4,1200),ct.write_shift(4,1),it.push(lt),at.push(ct),st+=8+lt.length,!tt){ct=new_buf(8),ct.write_shift(4,0),at.unshift(ct);var ut=[new_buf(4)];for(ut[0].write_shift(4,et.length),ot=0;ot<et.length;++ot){var dt=et[ot][0];for(lt=new_buf(4+4+2*(dt.length+1)+(dt.length%2?0:2)),lt.write_shift(4,ot+2),lt.write_shift(4,dt.length+1),lt.write_shift(0,dt,"dbcs");lt.l!=lt.length;)lt.write_shift(1,0);ut.push(lt)}lt=bconcat(ut),it.unshift(lt),st+=8+lt.length}for(ot=0;ot<et.length;++ot)if(!(tt&&!tt[et[ot][0]])&&!(XLSPSSkip.indexOf(et[ot][0])>-1||PseudoPropsPairs.indexOf(et[ot][0])>-1)&&et[ot][1]!=null){var ft=et[ot][1],ht=0;if(tt){ht=+tt[et[ot][0]];var gt=rt[ht];if(gt.p=="version"&&typeof ft=="string"){var mt=ft.split(".");ft=(+mt[0]<<16)+(+mt[1]||0)}lt=write_TypedPropertyValue(gt.t,ft)}else{var xt=guess_property_type(ft);xt==-1&&(xt=31,ft=String(ft)),lt=write_TypedPropertyValue(xt,ft)}it.push(lt),ct=new_buf(8),ct.write_shift(4,tt?ht:2+ot),at.push(ct),st+=8+lt.length}var vt=8*(it.length+1);for(ot=0;ot<it.length;++ot)at[ot].write_shift(4,vt),vt+=it[ot].length;return nt.write_shift(4,st),nt.write_shift(4,it.length),bconcat([nt].concat(at).concat(it))}function parse_PropertySetStream(et,tt,rt){var nt=et.content;if(!nt)return{};prep_blob(nt,0);var at,it,st,ot,lt=0;nt.chk("feff","Byte Order: "),nt.read_shift(2);var ct=nt.read_shift(4),ut=nt.read_shift(16);if(ut!==CFB.utils.consts.HEADER_CLSID&&ut!==rt)throw new Error("Bad PropertySet CLSID "+ut);if(at=nt.read_shift(4),at!==1&&at!==2)throw new Error("Unrecognized #Sets: "+at);if(it=nt.read_shift(16),ot=nt.read_shift(4),at===1&&ot!==nt.l)throw new Error("Length mismatch: "+ot+" !== "+nt.l);at===2&&(st=nt.read_shift(16),lt=nt.read_shift(4));var dt=parse_PropertySet(nt,tt),ft={SystemIdentifier:ct};for(var ht in dt)ft[ht]=dt[ht];if(ft.FMTID=it,at===1)return ft;if(lt-nt.l==2&&(nt.l+=2),nt.l!==lt)throw new Error("Length mismatch 2: "+nt.l+" !== "+lt);var gt;try{gt=parse_PropertySet(nt,null)}catch{}for(ht in gt)ft[ht]=gt[ht];return ft.FMTID=[it,st],ft}function write_PropertySetStream(et,tt,rt,nt,at,it){var st=new_buf(at?68:48),ot=[st];st.write_shift(2,65534),st.write_shift(2,0),st.write_shift(4,842412599),st.write_shift(16,CFB.utils.consts.HEADER_CLSID,"hex"),st.write_shift(4,at?2:1),st.write_shift(16,tt,"hex"),st.write_shift(4,at?68:48);var lt=write_PropertySet(et,rt,nt);if(ot.push(lt),at){var ct=write_PropertySet(at,null,null);st.write_shift(16,it,"hex"),st.write_shift(4,68+lt.length),ot.push(ct)}return bconcat(ot)}function parsenoop2(et,tt){return et.read_shift(tt),null}function writezeroes(et,tt){tt||(tt=new_buf(et));for(var rt=0;rt<et;++rt)tt.write_shift(1,0);return tt}function parslurp(et,tt,rt){for(var nt=[],at=et.l+tt;et.l<at;)nt.push(rt(et,at-et.l));if(at!==et.l)throw new Error("Slurp error");return nt}function parsebool(et,tt){return et.read_shift(tt)===1}function writebool(et,tt){return tt||(tt=new_buf(2)),tt.write_shift(2,+!!et),tt}function parseuint16(et){return et.read_shift(2,"u")}function writeuint16(et,tt){return tt||(tt=new_buf(2)),tt.write_shift(2,et),tt}function parseuint16a(et,tt){return parslurp(et,tt,parseuint16)}function parse_Bes(et){var tt=et.read_shift(1),rt=et.read_shift(1);return rt===1?tt:tt===1}function write_Bes(et,tt,rt){return rt||(rt=new_buf(2)),rt.write_shift(1,tt=="e"?+et:+!!et),rt.write_shift(1,tt=="e"?1:0),rt}function parse_ShortXLUnicodeString(et,tt,rt){var nt=et.read_shift(rt&&rt.biff>=12?2:1),at="sbcs-cont";if(rt&&rt.biff>=8,!rt||rt.biff==8){var it=et.read_shift(1);it&&(at="dbcs-cont")}else rt.biff==12&&(at="wstr");rt.biff>=2&&rt.biff<=5&&(at="cpstr");var st=nt?et.read_shift(nt,at):"";return st}function parse_XLUnicodeRichExtendedString(et){var tt=et.read_shift(2),rt=et.read_shift(1),nt=rt&4,at=rt&8,it=1+(rt&1),st=0,ot,lt={};at&&(st=et.read_shift(2)),nt&&(ot=et.read_shift(4));var ct=it==2?"dbcs-cont":"sbcs-cont",ut=tt===0?"":et.read_shift(tt,ct);return at&&(et.l+=4*st),nt&&(et.l+=ot),lt.t=ut,at||(lt.raw="<t>"+lt.t+"</t>",lt.r=lt.t),lt}function write_XLUnicodeRichExtendedString(et){var tt=et.t||"",rt=new_buf(3+0);rt.write_shift(2,tt.length),rt.write_shift(1,1);var nt=new_buf(2*tt.length);nt.write_shift(2*tt.length,tt,"utf16le");var at=[rt,nt];return bconcat(at)}function parse_XLUnicodeStringNoCch(et,tt,rt){var nt;if(rt){if(rt.biff>=2&&rt.biff<=5)return et.read_shift(tt,"cpstr");if(rt.biff>=12)return et.read_shift(tt,"dbcs-cont")}var at=et.read_shift(1);return at===0?nt=et.read_shift(tt,"sbcs-cont"):nt=et.read_shift(tt,"dbcs-cont"),nt}function parse_XLUnicodeString(et,tt,rt){var nt=et.read_shift(rt&&rt.biff==2?1:2);return nt===0?(et.l++,""):parse_XLUnicodeStringNoCch(et,nt,rt)}function parse_XLUnicodeString2(et,tt,rt){if(rt.biff>5)return parse_XLUnicodeString(et,tt,rt);var nt=et.read_shift(1);return nt===0?(et.l++,""):et.read_shift(nt,rt.biff<=4||!et.lens?"cpstr":"sbcs-cont")}function write_XLUnicodeString(et,tt,rt){return rt||(rt=new_buf(3+2*et.length)),rt.write_shift(2,et.length),rt.write_shift(1,1),rt.write_shift(31,et,"utf16le"),rt}function parse_ControlInfo(et){var tt=et.read_shift(1);et.l++;var rt=et.read_shift(2);return et.l+=2,[tt,rt]}function parse_URLMoniker(et){var tt=et.read_shift(4),rt=et.l,nt=!1;tt>24&&(et.l+=tt-24,et.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(nt=!0),et.l=rt);var at=et.read_shift((nt?tt-24:tt)>>1,"utf16le").replace(chr0,"");return nt&&(et.l+=24),at}function parse_FileMoniker(et){for(var tt=et.read_shift(2),rt="";tt-- >0;)rt+="../";var nt=et.read_shift(0,"lpstr-ansi");if(et.l+=2,et.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var at=et.read_shift(4);if(at===0)return rt+nt.replace(/\\/g,"/");var it=et.read_shift(4);if(et.read_shift(2)!=3)throw new Error("Bad FileMoniker");var st=et.read_shift(it>>1,"utf16le").replace(chr0,"");return rt+st}function parse_HyperlinkMoniker(et,tt){var rt=et.read_shift(16);switch(rt){case"e0c9ea79f9bace118c8200aa004ba90b":return parse_URLMoniker(et);case"0303000000000000c000000000000046":return parse_FileMoniker(et);default:throw new Error("Unsupported Moniker "+rt)}}function parse_HyperlinkString(et){var tt=et.read_shift(4),rt=tt>0?et.read_shift(tt,"utf16le").replace(chr0,""):"";return rt}function write_HyperlinkString(et,tt){tt||(tt=new_buf(6+et.length*2)),tt.write_shift(4,1+et.length);for(var rt=0;rt<et.length;++rt)tt.write_shift(2,et.charCodeAt(rt));return tt.write_shift(2,0),tt}function parse_Hyperlink(et,tt){var rt=et.l+tt,nt=et.read_shift(4);if(nt!==2)throw new Error("Unrecognized streamVersion: "+nt);var at=et.read_shift(2);et.l+=2;var it,st,ot,lt,ct="",ut,dt;at&16&&(it=parse_HyperlinkString(et,rt-et.l)),at&128&&(st=parse_HyperlinkString(et,rt-et.l)),(at&257)===257&&(ot=parse_HyperlinkString(et,rt-et.l)),(at&257)===1&&(lt=parse_HyperlinkMoniker(et,rt-et.l)),at&8&&(ct=parse_HyperlinkString(et,rt-et.l)),at&32&&(ut=et.read_shift(16)),at&64&&(dt=parse_FILETIME(et)),et.l=rt;var ft=st||ot||lt||"";ft&&ct&&(ft+="#"+ct),ft||(ft="#"+ct),at&2&&ft.charAt(0)=="/"&&ft.charAt(1)!="/"&&(ft="file://"+ft);var ht={Target:ft};return ut&&(ht.guid=ut),dt&&(ht.time=dt),it&&(ht.Tooltip=it),ht}function write_Hyperlink(et){var tt=new_buf(512),rt=0,nt=et.Target;nt.slice(0,7)=="file://"&&(nt=nt.slice(7));var at=nt.indexOf("#"),it=at>-1?31:23;switch(nt.charAt(0)){case"#":it=28;break;case".":it&=-3;break}tt.write_shift(4,2),tt.write_shift(4,it);var st=[8,6815827,6619237,4849780,83];for(rt=0;rt<st.length;++rt)tt.write_shift(4,st[rt]);if(it==28)nt=nt.slice(1),write_HyperlinkString(nt,tt);else if(it&2){for(st="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),rt=0;rt<st.length;++rt)tt.write_shift(1,parseInt(st[rt],16));var ot=at>-1?nt.slice(0,at):nt;for(tt.write_shift(4,2*(ot.length+1)),rt=0;rt<ot.length;++rt)tt.write_shift(2,ot.charCodeAt(rt));tt.write_shift(2,0),it&8&&write_HyperlinkString(at>-1?nt.slice(at+1):"",tt)}else{for(st="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),rt=0;rt<st.length;++rt)tt.write_shift(1,parseInt(st[rt],16));for(var lt=0;nt.slice(lt*3,lt*3+3)=="../"||nt.slice(lt*3,lt*3+3)=="..\\";)++lt;for(tt.write_shift(2,lt),tt.write_shift(4,nt.length-3*lt+1),rt=0;rt<nt.length-3*lt;++rt)tt.write_shift(1,nt.charCodeAt(rt+3*lt)&255);for(tt.write_shift(1,0),tt.write_shift(2,65535),tt.write_shift(2,57005),rt=0;rt<6;++rt)tt.write_shift(4,0)}return tt.slice(0,tt.l)}function parse_LongRGBA(et){var tt=et.read_shift(1),rt=et.read_shift(1),nt=et.read_shift(1),at=et.read_shift(1);return[tt,rt,nt,at]}function parse_LongRGB(et,tt){var rt=parse_LongRGBA(et);return rt[3]=0,rt}function parse_XLSCell(et){var tt=et.read_shift(2),rt=et.read_shift(2),nt=et.read_shift(2);return{r:tt,c:rt,ixfe:nt}}function write_XLSCell(et,tt,rt,nt){return nt||(nt=new_buf(6)),nt.write_shift(2,et),nt.write_shift(2,tt),nt.write_shift(2,rt||0),nt}function parse_frtHeader(et){var tt=et.read_shift(2),rt=et.read_shift(2);return et.l+=8,{type:tt,flags:rt}}function parse_OptXLUnicodeString(et,tt,rt){return tt===0?"":parse_XLUnicodeString2(et,tt,rt)}function parse_XTI(et,tt,rt){var nt=rt.biff>8?4:2,at=et.read_shift(nt),it=et.read_shift(nt,"i"),st=et.read_shift(nt,"i");return[at,it,st]}function parse_RkRec(et){var tt=et.read_shift(2),rt=parse_RkNumber(et);return[tt,rt]}function parse_AddinUdf(et,tt,rt){et.l+=4,tt-=4;var nt=et.l+tt,at=parse_ShortXLUnicodeString(et,tt,rt),it=et.read_shift(2);if(nt-=et.l,it!==nt)throw new Error("Malformed AddinUdf: padding = "+nt+" != "+it);return et.l+=it,at}function parse_Ref8U(et){var tt=et.read_shift(2),rt=et.read_shift(2),nt=et.read_shift(2),at=et.read_shift(2);return{s:{c:nt,r:tt},e:{c:at,r:rt}}}function write_Ref8U(et,tt){return tt||(tt=new_buf(8)),tt.write_shift(2,et.s.r),tt.write_shift(2,et.e.r),tt.write_shift(2,et.s.c),tt.write_shift(2,et.e.c),tt}function parse_RefU(et){var tt=et.read_shift(2),rt=et.read_shift(2),nt=et.read_shift(1),at=et.read_shift(1);return{s:{c:nt,r:tt},e:{c:at,r:rt}}}var parse_Ref=parse_RefU;function parse_FtCmo(et){et.l+=4;var tt=et.read_shift(2),rt=et.read_shift(2),nt=et.read_shift(2);return et.l+=12,[rt,tt,nt]}function parse_FtNts(et){var tt={};return et.l+=4,et.l+=16,tt.fSharedNote=et.read_shift(2),et.l+=4,tt}function parse_FtCf(et){var tt={};return et.l+=4,et.cf=et.read_shift(2),tt}function parse_FtSkip(et){et.l+=2,et.l+=et.read_shift(2)}var FtTab={0:parse_FtSkip,4:parse_FtSkip,5:parse_FtSkip,6:parse_FtSkip,7:parse_FtCf,8:parse_FtSkip,9:parse_FtSkip,10:parse_FtSkip,11:parse_FtSkip,12:parse_FtSkip,13:parse_FtNts,14:parse_FtSkip,15:parse_FtSkip,16:parse_FtSkip,17:parse_FtSkip,18:parse_FtSkip,19:parse_FtSkip,20:parse_FtSkip,21:parse_FtCmo};function parse_FtArray(et,tt){for(var rt=et.l+tt,nt=[];et.l<rt;){var at=et.read_shift(2);et.l-=2;try{nt.push(FtTab[at](et,rt-et.l))}catch{return et.l=rt,nt}}return et.l!=rt&&(et.l=rt),nt}function parse_BOF(et,tt){var rt={BIFFVer:0,dt:0};switch(rt.BIFFVer=et.read_shift(2),tt-=2,tt>=2&&(rt.dt=et.read_shift(2),et.l-=2),rt.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(tt>6)throw new Error("Unexpected BIFF Ver "+rt.BIFFVer)}return et.read_shift(tt),rt}function write_BOF(et,tt,rt){var nt=1536,at=16;switch(rt.bookType){case"biff8":break;case"biff5":nt=1280,at=8;break;case"biff4":nt=4,at=6;break;case"biff3":nt=3,at=6;break;case"biff2":nt=2,at=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var it=new_buf(at);return it.write_shift(2,nt),it.write_shift(2,tt),at>4&&it.write_shift(2,29282),at>6&&it.write_shift(2,1997),at>8&&(it.write_shift(2,49161),it.write_shift(2,1),it.write_shift(2,1798),it.write_shift(2,0)),it}function parse_InterfaceHdr(et,tt){return tt===0||et.read_shift(2),1200}function parse_WriteAccess(et,tt,rt){if(rt.enc)return et.l+=tt,"";var nt=et.l,at=parse_XLUnicodeString2(et,0,rt);return et.read_shift(tt+nt-et.l),at}function write_WriteAccess(et,tt){var rt=!tt||tt.biff==8,nt=new_buf(rt?112:54);for(nt.write_shift(tt.biff==8?2:1,7),rt&&nt.write_shift(1,0),nt.write_shift(4,859007059),nt.write_shift(4,5458548|(rt?0:536870912));nt.l<nt.length;)nt.write_shift(1,rt?0:32);return nt}function parse_WsBool(et,tt,rt){var nt=rt&&rt.biff==8||tt==2?et.read_shift(2):(et.l+=tt,0);return{fDialog:nt&16,fBelow:nt&64,fRight:nt&128}}function parse_BoundSheet8(et,tt,rt){var nt=et.read_shift(4),at=et.read_shift(1)&3,it=et.read_shift(1);switch(it){case 0:it="Worksheet";break;case 1:it="Macrosheet";break;case 2:it="Chartsheet";break;case 6:it="VBAModule";break}var st=parse_ShortXLUnicodeString(et,0,rt);return st.length===0&&(st="Sheet1"),{pos:nt,hs:at,dt:it,name:st}}function write_BoundSheet8(et,tt){var rt=!tt||tt.biff>=8?2:1,nt=new_buf(8+rt*et.name.length);nt.write_shift(4,et.pos),nt.write_shift(1,et.hs||0),nt.write_shift(1,et.dt),nt.write_shift(1,et.name.length),tt.biff>=8&&nt.write_shift(1,1),nt.write_shift(rt*et.name.length,et.name,tt.biff<8?"sbcs":"utf16le");var at=nt.slice(0,nt.l);return at.l=nt.l,at}function parse_SST(et,tt){for(var rt=et.l+tt,nt=et.read_shift(4),at=et.read_shift(4),it=[],st=0;st!=at&&et.l<rt;++st)it.push(parse_XLUnicodeRichExtendedString(et));return it.Count=nt,it.Unique=at,it}function write_SST(et,tt){var rt=new_buf(8);rt.write_shift(4,et.Count),rt.write_shift(4,et.Unique);for(var nt=[],at=0;at<et.length;++at)nt[at]=write_XLUnicodeRichExtendedString(et[at]);var it=bconcat([rt].concat(nt));return it.parts=[rt.length].concat(nt.map(function(st){return st.length})),it}function parse_ExtSST(et,tt){var rt={};return rt.dsst=et.read_shift(2),et.l+=tt-2,rt}function parse_Row(et){var tt={};tt.r=et.read_shift(2),tt.c=et.read_shift(2),tt.cnt=et.read_shift(2)-tt.c;var rt=et.read_shift(2);et.l+=4;var nt=et.read_shift(1);return et.l+=3,nt&7&&(tt.level=nt&7),nt&32&&(tt.hidden=!0),nt&64&&(tt.hpt=rt/20),tt}function parse_ForceFullCalculation(et){var tt=parse_frtHeader(et);if(tt.type!=2211)throw new Error("Invalid Future Record "+tt.type);var rt=et.read_shift(4);return rt!==0}function parse_RecalcId(et){return et.read_shift(2),et.read_shift(4)}function parse_DefaultRowHeight(et,tt,rt){var nt=0;rt&&rt.biff==2||(nt=et.read_shift(2));var at=et.read_shift(2);rt&&rt.biff==2&&(nt=1-(at>>15),at&=32767);var it={Unsynced:nt&1,DyZero:(nt&2)>>1,ExAsc:(nt&4)>>2,ExDsc:(nt&8)>>3};return[it,at]}function parse_Window1(et){var tt=et.read_shift(2),rt=et.read_shift(2),nt=et.read_shift(2),at=et.read_shift(2),it=et.read_shift(2),st=et.read_shift(2),ot=et.read_shift(2),lt=et.read_shift(2),ct=et.read_shift(2);return{Pos:[tt,rt],Dim:[nt,at],Flags:it,CurTab:st,FirstTab:ot,Selected:lt,TabRatio:ct}}function write_Window1(){var et=new_buf(18);return et.write_shift(2,0),et.write_shift(2,0),et.write_shift(2,29280),et.write_shift(2,17600),et.write_shift(2,56),et.write_shift(2,0),et.write_shift(2,0),et.write_shift(2,1),et.write_shift(2,500),et}function parse_Window2(et,tt,rt){if(rt&&rt.biff>=2&&rt.biff<5)return{};var nt=et.read_shift(2);return{RTL:nt&64}}function write_Window2(et){var tt=new_buf(18),rt=1718;return et&&et.RTL&&(rt|=64),tt.write_shift(2,rt),tt.write_shift(4,0),tt.write_shift(4,64),tt.write_shift(4,0),tt.write_shift(4,0),tt}function parse_Pane(){}function parse_Font(et,tt,rt){var nt={dyHeight:et.read_shift(2),fl:et.read_shift(2)};switch(rt&&rt.biff||8){case 2:break;case 3:case 4:et.l+=2;break;default:et.l+=10;break}return nt.name=parse_ShortXLUnicodeString(et,0,rt),nt}function write_Font(et,tt){var rt=et.name||"Arial",nt=tt&&tt.biff==5,at=nt?15+rt.length:16+2*rt.length,it=new_buf(at);return it.write_shift(2,(et.sz||12)*20),it.write_shift(4,0),it.write_shift(2,400),it.write_shift(4,0),it.write_shift(2,0),it.write_shift(1,rt.length),nt||it.write_shift(1,1),it.write_shift((nt?1:2)*rt.length,rt,nt?"sbcs":"utf16le"),it}function parse_LabelSst(et){var tt=parse_XLSCell(et);return tt.isst=et.read_shift(4),tt}function write_LabelSst(et,tt,rt,nt){var at=new_buf(10);return write_XLSCell(et,tt,nt,at),at.write_shift(4,rt),at}function parse_Label(et,tt,rt){rt.biffguess&&rt.biff==2&&(rt.biff=5);var nt=et.l+tt,at=parse_XLSCell(et);rt.biff==2&&et.l++;var it=parse_XLUnicodeString(et,nt-et.l,rt);return at.val=it,at}function write_Label(et,tt,rt,nt,at){var it=!at||at.biff==8,st=new_buf(6+2+ +it+(1+it)*rt.length);return write_XLSCell(et,tt,nt,st),st.write_shift(2,rt.length),it&&st.write_shift(1,1),st.write_shift((1+it)*rt.length,rt,it?"utf16le":"sbcs"),st}function parse_Format(et,tt,rt){var nt=et.read_shift(2),at=parse_XLUnicodeString2(et,0,rt);return[nt,at]}function write_Format(et,tt,rt,nt){var at=rt&&rt.biff==5;nt||(nt=new_buf(at?3+tt.length:5+2*tt.length)),nt.write_shift(2,et),nt.write_shift(at?1:2,tt.length),at||nt.write_shift(1,1),nt.write_shift((at?1:2)*tt.length,tt,at?"sbcs":"utf16le");var it=nt.length>nt.l?nt.slice(0,nt.l):nt;return it.l==null&&(it.l=it.length),it}var parse_BIFF2Format=parse_XLUnicodeString2;function parse_Dimensions(et,tt,rt){var nt=et.l+tt,at=rt.biff==8||!rt.biff?4:2,it=et.read_shift(at),st=et.read_shift(at),ot=et.read_shift(2),lt=et.read_shift(2);return et.l=nt,{s:{r:it,c:ot},e:{r:st,c:lt}}}function write_Dimensions(et,tt){var rt=tt.biff==8||!tt.biff?4:2,nt=new_buf(2*rt+6);return nt.write_shift(rt,et.s.r),nt.write_shift(rt,et.e.r+1),nt.write_shift(2,et.s.c),nt.write_shift(2,et.e.c+1),nt.write_shift(2,0),nt}function parse_RK(et){var tt=et.read_shift(2),rt=et.read_shift(2),nt=parse_RkRec(et);return{r:tt,c:rt,ixfe:nt[0],rknum:nt[1]}}function parse_MulRk(et,tt){for(var rt=et.l+tt-2,nt=et.read_shift(2),at=et.read_shift(2),it=[];et.l<rt;)it.push(parse_RkRec(et));if(et.l!==rt)throw new Error("MulRK read error");var st=et.read_shift(2);if(it.length!=st-at+1)throw new Error("MulRK length mismatch");return{r:nt,c:at,C:st,rkrec:it}}function parse_MulBlank(et,tt){for(var rt=et.l+tt-2,nt=et.read_shift(2),at=et.read_shift(2),it=[];et.l<rt;)it.push(et.read_shift(2));if(et.l!==rt)throw new Error("MulBlank read error");var st=et.read_shift(2);if(it.length!=st-at+1)throw new Error("MulBlank length mismatch");return{r:nt,c:at,C:st,ixfe:it}}function parse_CellStyleXF(et,tt,rt,nt){var at={},it=et.read_shift(4),st=et.read_shift(4),ot=et.read_shift(4),lt=et.read_shift(2);return at.patternType=XLSFillPattern[ot>>26],nt.cellStyles&&(at.alc=it&7,at.fWrap=it>>3&1,at.alcV=it>>4&7,at.fJustLast=it>>7&1,at.trot=it>>8&255,at.cIndent=it>>16&15,at.fShrinkToFit=it>>20&1,at.iReadOrder=it>>22&2,at.fAtrNum=it>>26&1,at.fAtrFnt=it>>27&1,at.fAtrAlc=it>>28&1,at.fAtrBdr=it>>29&1,at.fAtrPat=it>>30&1,at.fAtrProt=it>>31&1,at.dgLeft=st&15,at.dgRight=st>>4&15,at.dgTop=st>>8&15,at.dgBottom=st>>12&15,at.icvLeft=st>>16&127,at.icvRight=st>>23&127,at.grbitDiag=st>>30&3,at.icvTop=ot&127,at.icvBottom=ot>>7&127,at.icvDiag=ot>>14&127,at.dgDiag=ot>>21&15,at.icvFore=lt&127,at.icvBack=lt>>7&127,at.fsxButton=lt>>14&1),at}function parse_XF(et,tt,rt){var nt={};return nt.ifnt=et.read_shift(2),nt.numFmtId=et.read_shift(2),nt.flags=et.read_shift(2),nt.fStyle=nt.flags>>2&1,tt-=6,nt.data=parse_CellStyleXF(et,tt,nt.fStyle,rt),nt}function write_XF(et,tt,rt,nt){var at=rt&&rt.biff==5;nt||(nt=new_buf(at?16:20)),nt.write_shift(2,0),et.style?(nt.write_shift(2,et.numFmtId||0),nt.write_shift(2,65524)):(nt.write_shift(2,et.numFmtId||0),nt.write_shift(2,tt<<4));var it=0;return et.numFmtId>0&&at&&(it|=1024),nt.write_shift(4,it),nt.write_shift(4,0),at||nt.write_shift(4,0),nt.write_shift(2,0),nt}function parse_Guts(et){et.l+=4;var tt=[et.read_shift(2),et.read_shift(2)];if(tt[0]!==0&&tt[0]--,tt[1]!==0&&tt[1]--,tt[0]>7||tt[1]>7)throw new Error("Bad Gutters: "+tt.join("|"));return tt}function write_Guts(et){var tt=new_buf(8);return tt.write_shift(4,0),tt.write_shift(2,et[0]?et[0]+1:0),tt.write_shift(2,et[1]?et[1]+1:0),tt}function parse_BoolErr(et,tt,rt){var nt=parse_XLSCell(et);(rt.biff==2||tt==9)&&++et.l;var at=parse_Bes(et);return nt.val=at,nt.t=at===!0||at===!1?"b":"e",nt}function write_BoolErr(et,tt,rt,nt,at,it){var st=new_buf(8);return write_XLSCell(et,tt,nt,st),write_Bes(rt,it,st),st}function parse_Number(et,tt,rt){rt.biffguess&&rt.biff==2&&(rt.biff=5);var nt=parse_XLSCell(et),at=parse_Xnum(et);return nt.val=at,nt}function write_Number(et,tt,rt,nt){var at=new_buf(14);return write_XLSCell(et,tt,nt,at),write_Xnum(rt,at),at}var parse_XLHeaderFooter=parse_OptXLUnicodeString;function parse_SupBook(et,tt,rt){var nt=et.l+tt,at=et.read_shift(2),it=et.read_shift(2);if(rt.sbcch=it,it==1025||it==14849)return[it,at];if(it<1||it>255)throw new Error("Unexpected SupBook type: "+it);for(var st=parse_XLUnicodeStringNoCch(et,it),ot=[];nt>et.l;)ot.push(parse_XLUnicodeString(et));return[it,at,st,ot]}function parse_ExternName(et,tt,rt){var nt=et.read_shift(2),at,it={fBuiltIn:nt&1,fWantAdvise:nt>>>1&1,fWantPict:nt>>>2&1,fOle:nt>>>3&1,fOleLink:nt>>>4&1,cf:nt>>>5&1023,fIcon:nt>>>15&1};return rt.sbcch===14849&&(at=parse_AddinUdf(et,tt-2,rt)),it.body=at||et.read_shift(tt-2),typeof at=="string"&&(it.Name=at),it}var XLSLblBuiltIn=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function parse_Lbl(et,tt,rt){var nt=et.l+tt,at=et.read_shift(2),it=et.read_shift(1),st=et.read_shift(1),ot=et.read_shift(rt&&rt.biff==2?1:2),lt=0;(!rt||rt.biff>=5)&&(rt.biff!=5&&(et.l+=2),lt=et.read_shift(2),rt.biff==5&&(et.l+=2),et.l+=4);var ct=parse_XLUnicodeStringNoCch(et,st,rt);at&32&&(ct=XLSLblBuiltIn[ct.charCodeAt(0)]);var ut=nt-et.l;rt&&rt.biff==2&&--ut;var dt=nt==et.l||ot===0||!(ut>0)?[]:parse_NameParsedFormula(et,ut,rt,ot);return{chKey:it,Name:ct,itab:lt,rgce:dt}}function parse_ExternSheet(et,tt,rt){if(rt.biff<8)return parse_BIFF5ExternSheet(et,tt,rt);for(var nt=[],at=et.l+tt,it=et.read_shift(rt.biff>8?4:2);it--!==0;)nt.push(parse_XTI(et,rt.biff>8?12:6,rt));if(et.l!=at)throw new Error("Bad ExternSheet: "+et.l+" != "+at);return nt}function parse_BIFF5ExternSheet(et,tt,rt){et[et.l+1]==3&&et[et.l]++;var nt=parse_ShortXLUnicodeString(et,tt,rt);return nt.charCodeAt(0)==3?nt.slice(1):nt}function parse_NameCmt(et,tt,rt){if(rt.biff<8){et.l+=tt;return}var nt=et.read_shift(2),at=et.read_shift(2),it=parse_XLUnicodeStringNoCch(et,nt,rt),st=parse_XLUnicodeStringNoCch(et,at,rt);return[it,st]}function parse_ShrFmla(et,tt,rt){var nt=parse_RefU(et);et.l++;var at=et.read_shift(1);return tt-=8,[parse_SharedParsedFormula(et,tt,rt),at,nt]}function parse_Array(et,tt,rt){var nt=parse_Ref(et);switch(rt.biff){case 2:et.l++,tt-=7;break;case 3:case 4:et.l+=2,tt-=8;break;default:et.l+=6,tt-=12}return[nt,parse_ArrayParsedFormula(et,tt,rt)]}function parse_MTRSettings(et){var tt=et.read_shift(4)!==0,rt=et.read_shift(4)!==0,nt=et.read_shift(4);return[tt,rt,nt]}function parse_NoteSh(et,tt,rt){if(!(rt.biff<8)){var nt=et.read_shift(2),at=et.read_shift(2),it=et.read_shift(2),st=et.read_shift(2),ot=parse_XLUnicodeString2(et,0,rt);return rt.biff<8&&et.read_shift(1),[{r:nt,c:at},ot,st,it]}}function parse_Note(et,tt,rt){return parse_NoteSh(et,tt,rt)}function parse_MergeCells(et,tt){for(var rt=[],nt=et.read_shift(2);nt--;)rt.push(parse_Ref8U(et));return rt}function write_MergeCells(et){var tt=new_buf(2+et.length*8);tt.write_shift(2,et.length);for(var rt=0;rt<et.length;++rt)write_Ref8U(et[rt],tt);return tt}function parse_Obj(et,tt,rt){if(rt&&rt.biff<8)return parse_BIFF5Obj(et,tt,rt);var nt=parse_FtCmo(et),at=parse_FtArray(et,tt-22,nt[1]);return{cmo:nt,ft:at}}var parse_BIFF5OT={8:function(et,tt){var rt=et.l+tt;et.l+=10;var nt=et.read_shift(2);et.l+=4,et.l+=2,et.l+=2,et.l+=2,et.l+=4;var at=et.read_shift(1);return et.l+=at,et.l=rt,{fmt:nt}}};function parse_BIFF5Obj(et,tt,rt){et.l+=4;var nt=et.read_shift(2),at=et.read_shift(2),it=et.read_shift(2);et.l+=2,et.l+=2,et.l+=2,et.l+=2,et.l+=2,et.l+=2,et.l+=2,et.l+=2,et.l+=2,et.l+=6,tt-=36;var st=[];return st.push((parse_BIFF5OT[nt]||parsenoop)(et,tt,rt)),{cmo:[at,nt,it],ft:st}}function parse_TxO(et,tt,rt){var nt=et.l,at="";try{et.l+=4;var it=(rt.lastobj||{cmo:[0,0]}).cmo[1],st;[0,5,7,11,12,14].indexOf(it)==-1?et.l+=6:st=parse_ControlInfo(et,6,rt);var ot=et.read_shift(2);et.read_shift(2),parseuint16(et,2);var lt=et.read_shift(2);et.l+=lt;for(var ct=1;ct<et.lens.length-1;++ct){if(et.l-nt!=et.lens[ct])throw new Error("TxO: bad continue record");var ut=et[et.l],dt=parse_XLUnicodeStringNoCch(et,et.lens[ct+1]-et.lens[ct]-1);if(at+=dt,at.length>=(ut?ot:2*ot))break}if(at.length!==ot&&at.length!==ot*2)throw new Error("cchText: "+ot+" != "+at.length);return et.l=nt+tt,{t:at}}catch{return et.l=nt+tt,{t:at}}}function parse_HLink(et,tt){var rt=parse_Ref8U(et);et.l+=16;var nt=parse_Hyperlink(et,tt-24);return[rt,nt]}function write_HLink(et){var tt=new_buf(24),rt=decode_cell(et[0]);tt.write_shift(2,rt.r),tt.write_shift(2,rt.r),tt.write_shift(2,rt.c),tt.write_shift(2,rt.c);for(var nt="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),at=0;at<16;++at)tt.write_shift(1,parseInt(nt[at],16));return bconcat([tt,write_Hyperlink(et[1])])}function parse_HLinkTooltip(et,tt){et.read_shift(2);var rt=parse_Ref8U(et),nt=et.read_shift((tt-10)/2,"dbcs-cont");return nt=nt.replace(chr0,""),[rt,nt]}function write_HLinkTooltip(et){var tt=et[1].Tooltip,rt=new_buf(10+2*(tt.length+1));rt.write_shift(2,2048);var nt=decode_cell(et[0]);rt.write_shift(2,nt.r),rt.write_shift(2,nt.r),rt.write_shift(2,nt.c),rt.write_shift(2,nt.c);for(var at=0;at<tt.length;++at)rt.write_shift(2,tt.charCodeAt(at));return rt.write_shift(2,0),rt}function parse_Country(et){var tt=[0,0],rt;return rt=et.read_shift(2),tt[0]=CountryEnum[rt]||rt,rt=et.read_shift(2),tt[1]=CountryEnum[rt]||rt,tt}function write_Country(et){return et||(et=new_buf(4)),et.write_shift(2,1),et.write_shift(2,1),et}function parse_ClrtClient(et){for(var tt=et.read_shift(2),rt=[];tt-- >0;)rt.push(parse_LongRGB(et));return rt}function parse_Palette(et){for(var tt=et.read_shift(2),rt=[];tt-- >0;)rt.push(parse_LongRGB(et));return rt}function parse_XFCRC(et){et.l+=2;var tt={cxfs:0,crc:0};return tt.cxfs=et.read_shift(2),tt.crc=et.read_shift(4),tt}function parse_ColInfo(et,tt,rt){if(!rt.cellStyles)return parsenoop(et,tt);var nt=rt&&rt.biff>=12?4:2,at=et.read_shift(nt),it=et.read_shift(nt),st=et.read_shift(nt),ot=et.read_shift(nt),lt=et.read_shift(2);nt==2&&(et.l+=2);var ct={s:at,e:it,w:st,ixfe:ot,flags:lt};return(rt.biff>=5||!rt.biff)&&(ct.level=lt>>8&7),ct}function write_ColInfo(et,tt){var rt=new_buf(12);rt.write_shift(2,tt),rt.write_shift(2,tt),rt.write_shift(2,et.width*256),rt.write_shift(2,0);var nt=0;return et.hidden&&(nt|=1),rt.write_shift(1,nt),nt=et.level||0,rt.write_shift(1,nt),rt.write_shift(2,0),rt}function parse_Setup(et,tt){var rt={};return tt<32||(et.l+=16,rt.header=parse_Xnum(et),rt.footer=parse_Xnum(et),et.l+=2),rt}function parse_ShtProps(et,tt,rt){var nt={area:!1};if(rt.biff!=5)return et.l+=tt,nt;var at=et.read_shift(1);return et.l+=3,at&16&&(nt.area=!0),nt}function write_RRTabId(et){for(var tt=new_buf(2*et),rt=0;rt<et;++rt)tt.write_shift(2,rt+1);return tt}var parse_Blank=parse_XLSCell,parse_Scl=parseuint16a,parse_String=parse_XLUnicodeString;function parse_ImData(et){var tt=et.read_shift(2),rt=et.read_shift(2),nt=et.read_shift(4),at={fmt:tt,env:rt,len:nt,data:et.slice(et.l,et.l+nt)};return et.l+=nt,at}function parse_BIFF2STR(et,tt,rt){rt.biffguess&&rt.biff==5&&(rt.biff=2);var nt=parse_XLSCell(et);++et.l;var at=parse_XLUnicodeString2(et,tt-7,rt);return nt.t="str",nt.val=at,nt}function parse_BIFF2NUM(et){var tt=parse_XLSCell(et);++et.l;var rt=parse_Xnum(et);return tt.t="n",tt.val=rt,tt}function write_BIFF2NUM(et,tt,rt){var nt=new_buf(15);return write_BIFF2Cell(nt,et,tt),nt.write_shift(8,rt,"f"),nt}function parse_BIFF2INT(et){var tt=parse_XLSCell(et);++et.l;var rt=et.read_shift(2);return tt.t="n",tt.val=rt,tt}function write_BIFF2INT(et,tt,rt){var nt=new_buf(9);return write_BIFF2Cell(nt,et,tt),nt.write_shift(2,rt),nt}function parse_BIFF2STRING(et){var tt=et.read_shift(1);return tt===0?(et.l++,""):et.read_shift(tt,"sbcs-cont")}function parse_BIFF2FONTXTRA(et,tt){et.l+=6,et.l+=2,et.l+=1,et.l+=3,et.l+=1,et.l+=tt-13}function parse_RString(et,tt,rt){var nt=et.l+tt,at=parse_XLSCell(et),it=et.read_shift(2),st=parse_XLUnicodeStringNoCch(et,it,rt);return et.l=nt,at.t="str",at.val=st,at}var DBF_SUPPORTED_VERSIONS=[2,3,48,49,131,139,140,245],DBF=function(){var et={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},tt=evert({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function rt(ot,lt){var ct=[],ut=new_raw_buf(1);switch(lt.type){case"base64":ut=s2a(Base64_decode(ot));break;case"binary":ut=s2a(ot);break;case"buffer":case"array":ut=ot;break}prep_blob(ut,0);var dt=ut.read_shift(1),ft=!!(dt&136),ht=!1,gt=!1;switch(dt){case 2:break;case 3:break;case 48:ht=!0,ft=!0;break;case 49:ht=!0,ft=!0;break;case 131:break;case 139:break;case 140:gt=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+dt.toString(16))}var mt=0,xt=521;dt==2&&(mt=ut.read_shift(2)),ut.l+=3,dt!=2&&(mt=ut.read_shift(4)),mt>1048576&&(mt=1e6),dt!=2&&(xt=ut.read_shift(2));var vt=ut.read_shift(2),_t=lt.codepage||1252;dt!=2&&(ut.l+=16,ut.read_shift(1),ut[ut.l]!==0&&(_t=et[ut[ut.l]]),ut.l+=1,ut.l+=2),gt&&(ut.l+=36);for(var yt=[],St={},bt=Math.min(ut.length,dt==2?521:xt-10-(ht?264:0)),Et=gt?32:11;ut.l<bt&&ut[ut.l]!=13;)switch(St={},St.name=$cptable.utils.decode(_t,ut.slice(ut.l,ut.l+Et)).replace(/[\u0000\r\n].*$/g,""),ut.l+=Et,St.type=String.fromCharCode(ut.read_shift(1)),dt!=2&&!gt&&(St.offset=ut.read_shift(4)),St.len=ut.read_shift(1),dt==2&&(St.offset=ut.read_shift(2)),St.dec=ut.read_shift(1),St.name.length&&yt.push(St),dt!=2&&(ut.l+=gt?13:14),St.type){case"B":(!ht||St.len!=8)&&lt.WTF&&console.log("Skipping "+St.name+":"+St.type);break;case"G":case"P":lt.WTF&&console.log("Skipping "+St.name+":"+St.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+St.type)}if(ut[ut.l]!==13&&(ut.l=xt-1),ut.read_shift(1)!==13)throw new Error("DBF Terminator not found "+ut.l+" "+ut[ut.l]);ut.l=xt;var Tt=0,At=0;for(ct[0]=[],At=0;At!=yt.length;++At)ct[0][At]=yt[At].name;for(;mt-- >0;){if(ut[ut.l]===42){ut.l+=vt;continue}for(++ut.l,ct[++Tt]=[],At=0,At=0;At!=yt.length;++At){var Ct=ut.slice(ut.l,ut.l+yt[At].len);ut.l+=yt[At].len,prep_blob(Ct,0);var kt=$cptable.utils.decode(_t,Ct);switch(yt[At].type){case"C":kt.trim().length&&(ct[Tt][At]=kt.replace(/\s+$/,""));break;case"D":kt.length===8?ct[Tt][At]=new Date(+kt.slice(0,4),+kt.slice(4,6)-1,+kt.slice(6,8)):ct[Tt][At]=kt;break;case"F":ct[Tt][At]=parseFloat(kt.trim());break;case"+":case"I":ct[Tt][At]=gt?Ct.read_shift(-4,"i")^2147483648:Ct.read_shift(4,"i");break;case"L":switch(kt.trim().toUpperCase()){case"Y":case"T":ct[Tt][At]=!0;break;case"N":case"F":ct[Tt][At]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+kt+"|")}break;case"M":if(!ft)throw new Error("DBF Unexpected MEMO for type "+dt.toString(16));ct[Tt][At]="##MEMO##"+(gt?parseInt(kt.trim(),10):Ct.read_shift(4));break;case"N":kt=kt.replace(/\u0000/g,"").trim(),kt&&kt!="."&&(ct[Tt][At]=+kt||0);break;case"@":ct[Tt][At]=new Date(Ct.read_shift(-8,"f")-621356832e5);break;case"T":ct[Tt][At]=new Date((Ct.read_shift(4)-2440588)*864e5+Ct.read_shift(4));break;case"Y":ct[Tt][At]=Ct.read_shift(4,"i")/1e4+Ct.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":ct[Tt][At]=-Ct.read_shift(-8,"f");break;case"B":if(ht&&yt[At].len==8){ct[Tt][At]=Ct.read_shift(8,"f");break}case"G":case"P":Ct.l+=yt[At].len;break;case"0":if(yt[At].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+yt[At].type)}}}if(dt!=2&&ut.l<ut.length&&ut[ut.l++]!=26)throw new Error("DBF EOF Marker missing "+(ut.l-1)+" of "+ut.length+" "+ut[ut.l-1].toString(16));return lt&&lt.sheetRows&&(ct=ct.slice(0,lt.sheetRows)),lt.DBF=yt,ct}function nt(ot,lt){var ct=lt||{};ct.dateNF||(ct.dateNF="yyyymmdd");var ut=aoa_to_sheet(rt(ot,ct),ct);return ut["!cols"]=ct.DBF.map(function(dt){return{wch:dt.len,DBF:dt}}),delete ct.DBF,ut}function at(ot,lt){try{return sheet_to_workbook(nt(ot,lt),lt)}catch(ct){if(lt&&lt.WTF)throw ct}return{SheetNames:[],Sheets:{}}}var it={B:8,C:250,L:1,D:8,"?":0,"":0};function st(ot,lt){var ct=lt||{};if(+ct.codepage>=0&&set_cp(+ct.codepage),ct.type=="string")throw new Error("Cannot write DBF to JS string");var ut=buf_array(),dt=sheet_to_json(ot,{header:1,raw:!0,cellDates:!0}),ft=dt[0],ht=dt.slice(1),gt=ot["!cols"]||[],mt=0,xt=0,vt=0,_t=1;for(mt=0;mt<ft.length;++mt){if(((gt[mt]||{}).DBF||{}).name){ft[mt]=gt[mt].DBF.name,++vt;continue}if(ft[mt]!=null){if(++vt,typeof ft[mt]=="number"&&(ft[mt]=ft[mt].toString(10)),typeof ft[mt]!="string")throw new Error("DBF Invalid column name "+ft[mt]+" |"+typeof ft[mt]+"|");if(ft.indexOf(ft[mt])!==mt){for(xt=0;xt<1024;++xt)if(ft.indexOf(ft[mt]+"_"+xt)==-1){ft[mt]+="_"+xt;break}}}}var yt=safe_decode_range(ot["!ref"]),St=[],bt=[],Et=[];for(mt=0;mt<=yt.e.c-yt.s.c;++mt){var Tt="",At="",Ct=0,kt=[];for(xt=0;xt<ht.length;++xt)ht[xt][mt]!=null&&kt.push(ht[xt][mt]);if(kt.length==0||ft[mt]==null){St[mt]="?";continue}for(xt=0;xt<kt.length;++xt){switch(typeof kt[xt]){case"number":At="B";break;case"string":At="C";break;case"boolean":At="L";break;case"object":At=kt[xt]instanceof Date?"D":"C";break;default:At="C"}Ct=Math.max(Ct,String(kt[xt]).length),Tt=Tt&&Tt!=At?"C":At}Ct>250&&(Ct=250),At=((gt[mt]||{}).DBF||{}).type,At=="C"&&gt[mt].DBF.len>Ct&&(Ct=gt[mt].DBF.len),Tt=="B"&&At=="N"&&(Tt="N",Et[mt]=gt[mt].DBF.dec,Ct=gt[mt].DBF.len),bt[mt]=Tt=="C"||At=="N"?Ct:it[Tt]||0,_t+=bt[mt],St[mt]=Tt}var Pt=ut.next(32);for(Pt.write_shift(4,318902576),Pt.write_shift(4,ht.length),Pt.write_shift(2,296+32*vt),Pt.write_shift(2,_t),mt=0;mt<4;++mt)Pt.write_shift(4,0);for(Pt.write_shift(4,0|(+tt[current_ansi]||3)<<8),mt=0,xt=0;mt<ft.length;++mt)if(ft[mt]!=null){var Dt=ut.next(32),Ft=(ft[mt].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Dt.write_shift(1,Ft,"sbcs"),Dt.write_shift(1,St[mt]=="?"?"C":St[mt],"sbcs"),Dt.write_shift(4,xt),Dt.write_shift(1,bt[mt]||it[St[mt]]||0),Dt.write_shift(1,Et[mt]||0),Dt.write_shift(1,2),Dt.write_shift(4,0),Dt.write_shift(1,0),Dt.write_shift(4,0),Dt.write_shift(4,0),xt+=bt[mt]||it[St[mt]]||0}var Ot=ut.next(264);for(Ot.write_shift(4,13),mt=0;mt<65;++mt)Ot.write_shift(4,0);for(mt=0;mt<ht.length;++mt){var It=ut.next(_t);for(It.write_shift(1,0),xt=0;xt<ft.length;++xt)if(ft[xt]!=null)switch(St[xt]){case"L":It.write_shift(1,ht[mt][xt]==null?63:ht[mt][xt]?84:70);break;case"B":It.write_shift(8,ht[mt][xt]||0,"f");break;case"N":var Bt="0";for(typeof ht[mt][xt]=="number"&&(Bt=ht[mt][xt].toFixed(Et[xt]||0)),vt=0;vt<bt[xt]-Bt.length;++vt)It.write_shift(1,32);It.write_shift(1,Bt,"sbcs");break;case"D":ht[mt][xt]?(It.write_shift(4,("0000"+ht[mt][xt].getFullYear()).slice(-4),"sbcs"),It.write_shift(2,("00"+(ht[mt][xt].getMonth()+1)).slice(-2),"sbcs"),It.write_shift(2,("00"+ht[mt][xt].getDate()).slice(-2),"sbcs")):It.write_shift(8,"00000000","sbcs");break;case"C":var qt=String(ht[mt][xt]!=null?ht[mt][xt]:"").slice(0,bt[xt]);for(It.write_shift(1,qt,"sbcs"),vt=0;vt<bt[xt]-qt.length;++vt)It.write_shift(1,32);break}}return ut.next(1).write_shift(1,26),ut.end()}return{to_workbook:at,to_sheet:nt,from_sheet:st}}(),SYLK=function(){var et={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},tt=new RegExp("\x1BN("+keys$5(et).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),rt=function(ft,ht){var gt=et[ht];return typeof gt=="number"?_getansi(gt):gt},nt=function(ft,ht,gt){var mt=ht.charCodeAt(0)-32<<4|gt.charCodeAt(0)-48;return mt==59?ft:_getansi(mt)};et["|"]=254;function at(ft,ht){switch(ht.type){case"base64":return it(Base64_decode(ft),ht);case"binary":return it(ft,ht);case"buffer":return it(has_buf&&Buffer.isBuffer(ft)?ft.toString("binary"):a2s(ft),ht);case"array":return it(cc2str(ft),ht)}throw new Error("Unrecognized type "+ht.type)}function it(ft,ht){var gt=ft.split(/[\n\r]+/),mt=-1,xt=-1,vt=0,_t=0,yt=[],St=[],bt=null,Et={},Tt=[],At=[],Ct=[],kt=0,Pt;for(+ht.codepage>=0&&set_cp(+ht.codepage);vt!==gt.length;++vt){kt=0;var Dt=gt[vt].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,nt).replace(tt,rt),Ft=Dt.replace(/;;/g,"\0").split(";").map(function(Nt){return Nt.replace(/\u0000/g,";")}),Ot=Ft[0],It;if(Dt.length>0)switch(Ot){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Ft[1].charAt(0)=="P"&&St.push(Dt.slice(3).replace(/;;/g,";"));break;case"C":var Bt=!1,qt=!1,Ut=!1,Ht=!1,Qt=-1,ir=-1;for(_t=1;_t<Ft.length;++_t)switch(Ft[_t].charAt(0)){case"A":break;case"X":xt=parseInt(Ft[_t].slice(1))-1,qt=!0;break;case"Y":for(mt=parseInt(Ft[_t].slice(1))-1,qt||(xt=0),Pt=yt.length;Pt<=mt;++Pt)yt[Pt]=[];break;case"K":It=Ft[_t].slice(1),It.charAt(0)==='"'?It=It.slice(1,It.length-1):It==="TRUE"?It=!0:It==="FALSE"?It=!1:isNaN(fuzzynum(It))?isNaN(fuzzydate(It).getDate())||(It=parseDate$1(It)):(It=fuzzynum(It),bt!==null&&fmt_is_date(bt)&&(It=numdate(It))),Bt=!0;break;case"E":Ht=!0;var Xt=rc_to_a1(Ft[_t].slice(1),{r:mt,c:xt});yt[mt][xt]=[yt[mt][xt],Xt];break;case"S":Ut=!0,yt[mt][xt]=[yt[mt][xt],"S5S"];break;case"G":break;case"R":Qt=parseInt(Ft[_t].slice(1))-1;break;case"C":ir=parseInt(Ft[_t].slice(1))-1;break;default:if(ht&&ht.WTF)throw new Error("SYLK bad record "+Dt)}if(Bt&&(yt[mt][xt]&&yt[mt][xt].length==2?yt[mt][xt][0]=It:yt[mt][xt]=It,bt=null),Ut){if(Ht)throw new Error("SYLK shared formula cannot have own formula");var Lt=Qt>-1&&yt[Qt][ir];if(!Lt||!Lt[1])throw new Error("SYLK shared formula cannot find base");yt[mt][xt][1]=shift_formula_str(Lt[1],{r:mt-Qt,c:xt-ir})}break;case"F":var jt=0;for(_t=1;_t<Ft.length;++_t)switch(Ft[_t].charAt(0)){case"X":xt=parseInt(Ft[_t].slice(1))-1,++jt;break;case"Y":for(mt=parseInt(Ft[_t].slice(1))-1,Pt=yt.length;Pt<=mt;++Pt)yt[Pt]=[];break;case"M":kt=parseInt(Ft[_t].slice(1))/20;break;case"F":break;case"G":break;case"P":bt=St[parseInt(Ft[_t].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(Ct=Ft[_t].slice(1).split(" "),Pt=parseInt(Ct[0],10);Pt<=parseInt(Ct[1],10);++Pt)kt=parseInt(Ct[2],10),At[Pt-1]=kt===0?{hidden:!0}:{wch:kt},process_col(At[Pt-1]);break;case"C":xt=parseInt(Ft[_t].slice(1))-1,At[xt]||(At[xt]={});break;case"R":mt=parseInt(Ft[_t].slice(1))-1,Tt[mt]||(Tt[mt]={}),kt>0?(Tt[mt].hpt=kt,Tt[mt].hpx=pt2px(kt)):kt===0&&(Tt[mt].hidden=!0);break;default:if(ht&&ht.WTF)throw new Error("SYLK bad record "+Dt)}jt<1&&(bt=null);break;default:if(ht&&ht.WTF)throw new Error("SYLK bad record "+Dt)}}return Tt.length>0&&(Et["!rows"]=Tt),At.length>0&&(Et["!cols"]=At),ht&&ht.sheetRows&&(yt=yt.slice(0,ht.sheetRows)),[yt,Et]}function st(ft,ht){var gt=at(ft,ht),mt=gt[0],xt=gt[1],vt=aoa_to_sheet(mt,ht);return keys$5(xt).forEach(function(_t){vt[_t]=xt[_t]}),vt}function ot(ft,ht){return sheet_to_workbook(st(ft,ht),ht)}function lt(ft,ht,gt,mt){var xt="C;Y"+(gt+1)+";X"+(mt+1)+";K";switch(ft.t){case"n":xt+=ft.v||0,ft.f&&!ft.F&&(xt+=";E"+a1_to_rc(ft.f,{r:gt,c:mt}));break;case"b":xt+=ft.v?"TRUE":"FALSE";break;case"e":xt+=ft.w||ft.v;break;case"d":xt+='"'+(ft.w||ft.v)+'"';break;case"s":xt+='"'+ft.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return xt}function ct(ft,ht){ht.forEach(function(gt,mt){var xt="F;W"+(mt+1)+" "+(mt+1)+" ";gt.hidden?xt+="0":(typeof gt.width=="number"&&!gt.wpx&&(gt.wpx=width2px(gt.width)),typeof gt.wpx=="number"&&!gt.wch&&(gt.wch=px2char(gt.wpx)),typeof gt.wch=="number"&&(xt+=Math.round(gt.wch))),xt.charAt(xt.length-1)!=" "&&ft.push(xt)})}function ut(ft,ht){ht.forEach(function(gt,mt){var xt="F;";gt.hidden?xt+="M0;":gt.hpt?xt+="M"+20*gt.hpt+";":gt.hpx&&(xt+="M"+20*px2pt(gt.hpx)+";"),xt.length>2&&ft.push(xt+"R"+(mt+1))})}function dt(ft,ht){var gt=["ID;PWXL;N;E"],mt=[],xt=safe_decode_range(ft["!ref"]),vt,_t=Array.isArray(ft),yt=`\r
`;gt.push("P;PGeneral"),gt.push("F;P0;DG0G8;M255"),ft["!cols"]&&ct(gt,ft["!cols"]),ft["!rows"]&&ut(gt,ft["!rows"]),gt.push("B;Y"+(xt.e.r-xt.s.r+1)+";X"+(xt.e.c-xt.s.c+1)+";D"+[xt.s.c,xt.s.r,xt.e.c,xt.e.r].join(" "));for(var St=xt.s.r;St<=xt.e.r;++St)for(var bt=xt.s.c;bt<=xt.e.c;++bt){var Et=encode_cell({r:St,c:bt});vt=_t?(ft[St]||[])[bt]:ft[Et],!(!vt||vt.v==null&&(!vt.f||vt.F))&&mt.push(lt(vt,ft,St,bt))}return gt.join(yt)+yt+mt.join(yt)+yt+"E"+yt}return{to_workbook:ot,to_sheet:st,from_sheet:dt}}(),DIF=function(){function et(it,st){switch(st.type){case"base64":return tt(Base64_decode(it),st);case"binary":return tt(it,st);case"buffer":return tt(has_buf&&Buffer.isBuffer(it)?it.toString("binary"):a2s(it),st);case"array":return tt(cc2str(it),st)}throw new Error("Unrecognized type "+st.type)}function tt(it,st){for(var ot=it.split(`
`),lt=-1,ct=-1,ut=0,dt=[];ut!==ot.length;++ut){if(ot[ut].trim()==="BOT"){dt[++lt]=[],ct=0;continue}if(!(lt<0)){var ft=ot[ut].trim().split(","),ht=ft[0],gt=ft[1];++ut;for(var mt=ot[ut]||"";(mt.match(/["]/g)||[]).length&1&&ut<ot.length-1;)mt+=`
`+ot[++ut];switch(mt=mt.trim(),+ht){case-1:if(mt==="BOT"){dt[++lt]=[],ct=0;continue}else if(mt!=="EOD")throw new Error("Unrecognized DIF special command "+mt);break;case 0:mt==="TRUE"?dt[lt][ct]=!0:mt==="FALSE"?dt[lt][ct]=!1:isNaN(fuzzynum(gt))?isNaN(fuzzydate(gt).getDate())?dt[lt][ct]=gt:dt[lt][ct]=parseDate$1(gt):dt[lt][ct]=fuzzynum(gt),++ct;break;case 1:mt=mt.slice(1,mt.length-1),mt=mt.replace(/""/g,'"'),mt&&mt.match(/^=".*"$/)&&(mt=mt.slice(2,-1)),dt[lt][ct++]=mt!==""?mt:null;break}if(mt==="EOD")break}}return st&&st.sheetRows&&(dt=dt.slice(0,st.sheetRows)),dt}function rt(it,st){return aoa_to_sheet(et(it,st),st)}function nt(it,st){return sheet_to_workbook(rt(it,st),st)}var at=function(){var it=function(lt,ct,ut,dt,ft){lt.push(ct),lt.push(ut+","+dt),lt.push('"'+ft.replace(/"/g,'""')+'"')},st=function(lt,ct,ut,dt){lt.push(ct+","+ut),lt.push(ct==1?'"'+dt.replace(/"/g,'""')+'"':dt)};return function(lt){var ct=[],ut=safe_decode_range(lt["!ref"]),dt,ft=Array.isArray(lt);it(ct,"TABLE",0,1,"sheetjs"),it(ct,"VECTORS",0,ut.e.r-ut.s.r+1,""),it(ct,"TUPLES",0,ut.e.c-ut.s.c+1,""),it(ct,"DATA",0,0,"");for(var ht=ut.s.r;ht<=ut.e.r;++ht){st(ct,-1,0,"BOT");for(var gt=ut.s.c;gt<=ut.e.c;++gt){var mt=encode_cell({r:ht,c:gt});if(dt=ft?(lt[ht]||[])[gt]:lt[mt],!dt){st(ct,1,0,"");continue}switch(dt.t){case"n":var xt=dt.w;!xt&&dt.v!=null&&(xt=dt.v),xt==null?dt.f&&!dt.F?st(ct,1,0,"="+dt.f):st(ct,1,0,""):st(ct,0,xt,"V");break;case"b":st(ct,0,dt.v?1:0,dt.v?"TRUE":"FALSE");break;case"s":st(ct,1,0,isNaN(dt.v)?dt.v:'="'+dt.v+'"');break;case"d":dt.w||(dt.w=SSF_format(dt.z||table_fmt[14],datenum(parseDate$1(dt.v)))),st(ct,0,dt.w,"V");break;default:st(ct,1,0,"")}}}st(ct,-1,0,"EOD");var vt=`\r
`,_t=ct.join(vt);return _t}}();return{to_workbook:nt,to_sheet:rt,from_sheet:at}}(),ETH=function(){function et(dt){return dt.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function tt(dt){return dt.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function rt(dt,ft){for(var ht=dt.split(`
`),gt=-1,mt=-1,xt=0,vt=[];xt!==ht.length;++xt){var _t=ht[xt].trim().split(":");if(_t[0]==="cell"){var yt=decode_cell(_t[1]);if(vt.length<=yt.r)for(gt=vt.length;gt<=yt.r;++gt)vt[gt]||(vt[gt]=[]);switch(gt=yt.r,mt=yt.c,_t[2]){case"t":vt[gt][mt]=et(_t[3]);break;case"v":vt[gt][mt]=+_t[3];break;case"vtf":var St=_t[_t.length-1];case"vtc":switch(_t[3]){case"nl":vt[gt][mt]=!!+_t[4];break;default:vt[gt][mt]=+_t[4];break}_t[2]=="vtf"&&(vt[gt][mt]=[vt[gt][mt],St])}}}return ft&&ft.sheetRows&&(vt=vt.slice(0,ft.sheetRows)),vt}function nt(dt,ft){return aoa_to_sheet(rt(dt,ft),ft)}function at(dt,ft){return sheet_to_workbook(nt(dt,ft),ft)}var it=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),st=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,ot=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),lt="--SocialCalcSpreadsheetControlSave--";function ct(dt){if(!dt||!dt["!ref"])return"";for(var ft=[],ht=[],gt,mt="",xt=decode_range(dt["!ref"]),vt=Array.isArray(dt),_t=xt.s.r;_t<=xt.e.r;++_t)for(var yt=xt.s.c;yt<=xt.e.c;++yt)if(mt=encode_cell({r:_t,c:yt}),gt=vt?(dt[_t]||[])[yt]:dt[mt],!(!gt||gt.v==null||gt.t==="z")){switch(ht=["cell",mt,"t"],gt.t){case"s":case"str":ht.push(tt(gt.v));break;case"n":gt.f?(ht[2]="vtf",ht[3]="n",ht[4]=gt.v,ht[5]=tt(gt.f)):(ht[2]="v",ht[3]=gt.v);break;case"b":ht[2]="vt"+(gt.f?"f":"c"),ht[3]="nl",ht[4]=gt.v?"1":"0",ht[5]=tt(gt.f||(gt.v?"TRUE":"FALSE"));break;case"d":var St=datenum(parseDate$1(gt.v));ht[2]="vtc",ht[3]="nd",ht[4]=""+St,ht[5]=gt.w||SSF_format(gt.z||table_fmt[14],St);break;case"e":continue}ft.push(ht.join(":"))}return ft.push("sheet:c:"+(xt.e.c-xt.s.c+1)+":r:"+(xt.e.r-xt.s.r+1)+":tvf:1"),ft.push("valueformat:1:text-wiki"),ft.join(`
`)}function ut(dt){return[it,st,ot,st,ct(dt),lt].join(`
`)}return{to_workbook:at,to_sheet:nt,from_sheet:ut}}(),PRN=function(){function et(ut,dt,ft,ht,gt){gt.raw?dt[ft][ht]=ut:ut===""||(ut==="TRUE"?dt[ft][ht]=!0:ut==="FALSE"?dt[ft][ht]=!1:isNaN(fuzzynum(ut))?isNaN(fuzzydate(ut).getDate())?dt[ft][ht]=ut:dt[ft][ht]=parseDate$1(ut):dt[ft][ht]=fuzzynum(ut))}function tt(ut,dt){var ft=dt||{},ht=[];if(!ut||ut.length===0)return ht;for(var gt=ut.split(/[\r\n]/),mt=gt.length-1;mt>=0&&gt[mt].length===0;)--mt;for(var xt=10,vt=0,_t=0;_t<=mt;++_t)vt=gt[_t].indexOf(" "),vt==-1?vt=gt[_t].length:vt++,xt=Math.max(xt,vt);for(_t=0;_t<=mt;++_t){ht[_t]=[];var yt=0;for(et(gt[_t].slice(0,xt).trim(),ht,_t,yt,ft),yt=1;yt<=(gt[_t].length-xt)/10+1;++yt)et(gt[_t].slice(xt+(yt-1)*10,xt+yt*10).trim(),ht,_t,yt,ft)}return ft.sheetRows&&(ht=ht.slice(0,ft.sheetRows)),ht}var rt={44:",",9:"	",59:";",124:"|"},nt={44:3,9:2,59:1,124:0};function at(ut){for(var dt={},ft=!1,ht=0,gt=0;ht<ut.length;++ht)(gt=ut.charCodeAt(ht))==34?ft=!ft:!ft&&gt in rt&&(dt[gt]=(dt[gt]||0)+1);gt=[];for(ht in dt)Object.prototype.hasOwnProperty.call(dt,ht)&&gt.push([dt[ht],ht]);if(!gt.length){dt=nt;for(ht in dt)Object.prototype.hasOwnProperty.call(dt,ht)&&gt.push([dt[ht],ht])}return gt.sort(function(mt,xt){return mt[0]-xt[0]||nt[mt[1]]-nt[xt[1]]}),rt[gt.pop()[1]]||44}function it(ut,dt){var ft=dt||{},ht="",gt=ft.dense?[]:{},mt={s:{c:0,r:0},e:{c:0,r:0}};ut.slice(0,4)=="sep="?ut.charCodeAt(5)==13&&ut.charCodeAt(6)==10?(ht=ut.charAt(4),ut=ut.slice(7)):ut.charCodeAt(5)==13||ut.charCodeAt(5)==10?(ht=ut.charAt(4),ut=ut.slice(6)):ht=at(ut.slice(0,1024)):ft&&ft.FS?ht=ft.FS:ht=at(ut.slice(0,1024));var xt=0,vt=0,_t=0,yt=0,St=0,bt=ht.charCodeAt(0),Et=!1,Tt=0,At=ut.charCodeAt(0);ut=ut.replace(/\r\n/mg,`
`);var Ct=ft.dateNF!=null?dateNF_regex(ft.dateNF):null;function kt(){var Pt=ut.slice(yt,St),Dt={};if(Pt.charAt(0)=='"'&&Pt.charAt(Pt.length-1)=='"'&&(Pt=Pt.slice(1,-1).replace(/""/g,'"')),Pt.length===0)Dt.t="z";else if(ft.raw)Dt.t="s",Dt.v=Pt;else if(Pt.trim().length===0)Dt.t="s",Dt.v=Pt;else if(Pt.charCodeAt(0)==61)Pt.charCodeAt(1)==34&&Pt.charCodeAt(Pt.length-1)==34?(Dt.t="s",Dt.v=Pt.slice(2,-1).replace(/""/g,'"')):fuzzyfmla(Pt)?(Dt.t="n",Dt.f=Pt.slice(1)):(Dt.t="s",Dt.v=Pt);else if(Pt=="TRUE")Dt.t="b",Dt.v=!0;else if(Pt=="FALSE")Dt.t="b",Dt.v=!1;else if(!isNaN(_t=fuzzynum(Pt)))Dt.t="n",ft.cellText!==!1&&(Dt.w=Pt),Dt.v=_t;else if(!isNaN(fuzzydate(Pt).getDate())||Ct&&Pt.match(Ct)){Dt.z=ft.dateNF||table_fmt[14];var Ft=0;Ct&&Pt.match(Ct)&&(Pt=dateNF_fix(Pt,ft.dateNF,Pt.match(Ct)||[]),Ft=1),ft.cellDates?(Dt.t="d",Dt.v=parseDate$1(Pt,Ft)):(Dt.t="n",Dt.v=datenum(parseDate$1(Pt,Ft))),ft.cellText!==!1&&(Dt.w=SSF_format(Dt.z,Dt.v instanceof Date?datenum(Dt.v):Dt.v)),ft.cellNF||delete Dt.z}else Dt.t="s",Dt.v=Pt;if(Dt.t=="z"||(ft.dense?(gt[xt]||(gt[xt]=[]),gt[xt][vt]=Dt):gt[encode_cell({c:vt,r:xt})]=Dt),yt=St+1,At=ut.charCodeAt(yt),mt.e.c<vt&&(mt.e.c=vt),mt.e.r<xt&&(mt.e.r=xt),Tt==bt)++vt;else if(vt=0,++xt,ft.sheetRows&&ft.sheetRows<=xt)return!0}e:for(;St<ut.length;++St)switch(Tt=ut.charCodeAt(St)){case 34:At===34&&(Et=!Et);break;case bt:case 10:case 13:if(!Et&&kt())break e;break}return St-yt>0&&kt(),gt["!ref"]=encode_range(mt),gt}function st(ut,dt){return!(dt&&dt.PRN)||dt.FS||ut.slice(0,4)=="sep="||ut.indexOf("	")>=0||ut.indexOf(",")>=0||ut.indexOf(";")>=0?it(ut,dt):aoa_to_sheet(tt(ut,dt),dt)}function ot(ut,dt){var ft="",ht=dt.type=="string"?[0,0,0,0]:firstbyte(ut,dt);switch(dt.type){case"base64":ft=Base64_decode(ut);break;case"binary":ft=ut;break;case"buffer":dt.codepage==65001?ft=ut.toString("utf8"):dt.codepage&&typeof $cptable<"u"?ft=$cptable.utils.decode(dt.codepage,ut):ft=has_buf&&Buffer.isBuffer(ut)?ut.toString("binary"):a2s(ut);break;case"array":ft=cc2str(ut);break;case"string":ft=ut;break;default:throw new Error("Unrecognized type "+dt.type)}return ht[0]==239&&ht[1]==187&&ht[2]==191?ft=utf8read(ft.slice(3)):dt.type!="string"&&dt.type!="buffer"&&dt.codepage==65001?ft=utf8read(ft):dt.type=="binary"&&typeof $cptable<"u"&&dt.codepage&&(ft=$cptable.utils.decode(dt.codepage,$cptable.utils.encode(28591,ft))),ft.slice(0,19)=="socialcalc:version:"?ETH.to_sheet(dt.type=="string"?ft:utf8read(ft),dt):st(ft,dt)}function lt(ut,dt){return sheet_to_workbook(ot(ut,dt),dt)}function ct(ut){for(var dt=[],ft=safe_decode_range(ut["!ref"]),ht,gt=Array.isArray(ut),mt=ft.s.r;mt<=ft.e.r;++mt){for(var xt=[],vt=ft.s.c;vt<=ft.e.c;++vt){var _t=encode_cell({r:mt,c:vt});if(ht=gt?(ut[mt]||[])[vt]:ut[_t],!ht||ht.v==null){xt.push("          ");continue}for(var yt=(ht.w||(format_cell(ht),ht.w)||"").slice(0,10);yt.length<10;)yt+=" ";xt.push(yt+(vt===0?" ":""))}dt.push(xt.join(""))}return dt.join(`
`)}return{to_workbook:lt,to_sheet:ot,from_sheet:ct}}();function read_wb_ID(et,tt){var rt=tt||{},nt=!!rt.WTF;rt.WTF=!0;try{var at=SYLK.to_workbook(et,rt);return rt.WTF=nt,at}catch(it){if(rt.WTF=nt,!it.message.match(/SYLK bad record ID/)&&nt)throw it;return PRN.to_workbook(et,tt)}}var WK_=function(){function et(Xt,Lt,jt){if(Xt){prep_blob(Xt,Xt.l||0);for(var Nt=jt.Enum||Qt;Xt.l<Xt.length;){var Mt=Xt.read_shift(2),Vt=Nt[Mt]||Nt[65535],Gt=Xt.read_shift(2),Zt=Xt.l+Gt,er=Vt.f&&Vt.f(Xt,Gt,jt);if(Xt.l=Zt,Lt(er,Vt,Mt))return}}}function tt(Xt,Lt){switch(Lt.type){case"base64":return rt(s2a(Base64_decode(Xt)),Lt);case"binary":return rt(s2a(Xt),Lt);case"buffer":case"array":return rt(Xt,Lt)}throw"Unsupported type "+Lt.type}function rt(Xt,Lt){if(!Xt)return Xt;var jt=Lt||{},Nt=jt.dense?[]:{},Mt="Sheet1",Vt="",Gt=0,Zt={},er=[],ar=[],Kt={s:{r:0,c:0},e:{r:0,c:0}},pr=jt.sheetRows||0;if(Xt[2]==0&&(Xt[3]==8||Xt[3]==9)&&Xt.length>=16&&Xt[14]==5&&Xt[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(Xt[2]==2)jt.Enum=Qt,et(Xt,function(hr,Ir,Jr){switch(Jr){case 0:jt.vers=hr,hr>=4096&&(jt.qpro=!0);break;case 6:Kt=hr;break;case 204:hr&&(Vt=hr);break;case 222:Vt=hr;break;case 15:case 51:jt.qpro||(hr[1].v=hr[1].v.slice(1));case 13:case 14:case 16:Jr==14&&(hr[2]&112)==112&&(hr[2]&15)>1&&(hr[2]&15)<15&&(hr[1].z=jt.dateNF||table_fmt[14],jt.cellDates&&(hr[1].t="d",hr[1].v=numdate(hr[1].v))),jt.qpro&&hr[3]>Gt&&(Nt["!ref"]=encode_range(Kt),Zt[Mt]=Nt,er.push(Mt),Nt=jt.dense?[]:{},Kt={s:{r:0,c:0},e:{r:0,c:0}},Gt=hr[3],Mt=Vt||"Sheet"+(Gt+1),Vt="");var Br=jt.dense?(Nt[hr[0].r]||[])[hr[0].c]:Nt[encode_cell(hr[0])];if(Br){Br.t=hr[1].t,Br.v=hr[1].v,hr[1].z!=null&&(Br.z=hr[1].z),hr[1].f!=null&&(Br.f=hr[1].f);break}jt.dense?(Nt[hr[0].r]||(Nt[hr[0].r]=[]),Nt[hr[0].r][hr[0].c]=hr[1]):Nt[encode_cell(hr[0])]=hr[1];break}},jt);else if(Xt[2]==26||Xt[2]==14)jt.Enum=ir,Xt[2]==14&&(jt.qpro=!0,Xt.l=0),et(Xt,function(hr,Ir,Jr){switch(Jr){case 204:Mt=hr;break;case 22:hr[1].v=hr[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(hr[3]>Gt&&(Nt["!ref"]=encode_range(Kt),Zt[Mt]=Nt,er.push(Mt),Nt=jt.dense?[]:{},Kt={s:{r:0,c:0},e:{r:0,c:0}},Gt=hr[3],Mt="Sheet"+(Gt+1)),pr>0&&hr[0].r>=pr)break;jt.dense?(Nt[hr[0].r]||(Nt[hr[0].r]=[]),Nt[hr[0].r][hr[0].c]=hr[1]):Nt[encode_cell(hr[0])]=hr[1],Kt.e.c<hr[0].c&&(Kt.e.c=hr[0].c),Kt.e.r<hr[0].r&&(Kt.e.r=hr[0].r);break;case 27:hr[14e3]&&(ar[hr[14e3][0]]=hr[14e3][1]);break;case 1537:ar[hr[0]]=hr[1],hr[0]==Gt&&(Mt=hr[1]);break}},jt);else throw new Error("Unrecognized LOTUS BOF "+Xt[2]);if(Nt["!ref"]=encode_range(Kt),Zt[Vt||Mt]=Nt,er.push(Vt||Mt),!ar.length)return{SheetNames:er,Sheets:Zt};for(var fr={},vr=[],wr=0;wr<ar.length;++wr)Zt[er[wr]]?(vr.push(ar[wr]||er[wr]),fr[ar[wr]]=Zt[ar[wr]]||Zt[er[wr]]):(vr.push(ar[wr]),fr[ar[wr]]={"!ref":"A1"});return{SheetNames:vr,Sheets:fr}}function nt(Xt,Lt){var jt=Lt||{};if(+jt.codepage>=0&&set_cp(+jt.codepage),jt.type=="string")throw new Error("Cannot write WK1 to JS string");var Nt=buf_array(),Mt=safe_decode_range(Xt["!ref"]),Vt=Array.isArray(Xt),Gt=[];write_biff_rec(Nt,0,it(1030)),write_biff_rec(Nt,6,lt(Mt));for(var Zt=Math.min(Mt.e.r,8191),er=Mt.s.r;er<=Zt;++er)for(var ar=encode_row(er),Kt=Mt.s.c;Kt<=Mt.e.c;++Kt){er===Mt.s.r&&(Gt[Kt]=encode_col(Kt));var pr=Gt[Kt]+ar,fr=Vt?(Xt[er]||[])[Kt]:Xt[pr];if(!(!fr||fr.t=="z"))if(fr.t=="n")(fr.v|0)==fr.v&&fr.v>=-32768&&fr.v<=32767?write_biff_rec(Nt,13,ht(er,Kt,fr.v)):write_biff_rec(Nt,14,mt(er,Kt,fr.v));else{var vr=format_cell(fr);write_biff_rec(Nt,15,dt(er,Kt,vr.slice(0,239)))}}return write_biff_rec(Nt,1),Nt.end()}function at(Xt,Lt){var jt=Lt||{};if(+jt.codepage>=0&&set_cp(+jt.codepage),jt.type=="string")throw new Error("Cannot write WK3 to JS string");var Nt=buf_array();write_biff_rec(Nt,0,st(Xt));for(var Mt=0,Vt=0;Mt<Xt.SheetNames.length;++Mt)(Xt.Sheets[Xt.SheetNames[Mt]]||{})["!ref"]&&write_biff_rec(Nt,27,Ht(Xt.SheetNames[Mt],Vt++));var Gt=0;for(Mt=0;Mt<Xt.SheetNames.length;++Mt){var Zt=Xt.Sheets[Xt.SheetNames[Mt]];if(!(!Zt||!Zt["!ref"])){for(var er=safe_decode_range(Zt["!ref"]),ar=Array.isArray(Zt),Kt=[],pr=Math.min(er.e.r,8191),fr=er.s.r;fr<=pr;++fr)for(var vr=encode_row(fr),wr=er.s.c;wr<=er.e.c;++wr){fr===er.s.r&&(Kt[wr]=encode_col(wr));var hr=Kt[wr]+vr,Ir=ar?(Zt[fr]||[])[wr]:Zt[hr];if(!(!Ir||Ir.t=="z"))if(Ir.t=="n")write_biff_rec(Nt,23,kt(fr,wr,Gt,Ir.v));else{var Jr=format_cell(Ir);write_biff_rec(Nt,22,Tt(fr,wr,Gt,Jr.slice(0,239)))}}++Gt}}return write_biff_rec(Nt,1),Nt.end()}function it(Xt){var Lt=new_buf(2);return Lt.write_shift(2,Xt),Lt}function st(Xt){var Lt=new_buf(26);Lt.write_shift(2,4096),Lt.write_shift(2,4),Lt.write_shift(4,0);for(var jt=0,Nt=0,Mt=0,Vt=0;Vt<Xt.SheetNames.length;++Vt){var Gt=Xt.SheetNames[Vt],Zt=Xt.Sheets[Gt];if(!(!Zt||!Zt["!ref"])){++Mt;var er=decode_range(Zt["!ref"]);jt<er.e.r&&(jt=er.e.r),Nt<er.e.c&&(Nt=er.e.c)}}return jt>8191&&(jt=8191),Lt.write_shift(2,jt),Lt.write_shift(1,Mt),Lt.write_shift(1,Nt),Lt.write_shift(2,0),Lt.write_shift(2,0),Lt.write_shift(1,1),Lt.write_shift(1,2),Lt.write_shift(4,0),Lt.write_shift(4,0),Lt}function ot(Xt,Lt,jt){var Nt={s:{c:0,r:0},e:{c:0,r:0}};return Lt==8&&jt.qpro?(Nt.s.c=Xt.read_shift(1),Xt.l++,Nt.s.r=Xt.read_shift(2),Nt.e.c=Xt.read_shift(1),Xt.l++,Nt.e.r=Xt.read_shift(2),Nt):(Nt.s.c=Xt.read_shift(2),Nt.s.r=Xt.read_shift(2),Lt==12&&jt.qpro&&(Xt.l+=2),Nt.e.c=Xt.read_shift(2),Nt.e.r=Xt.read_shift(2),Lt==12&&jt.qpro&&(Xt.l+=2),Nt.s.c==65535&&(Nt.s.c=Nt.e.c=Nt.s.r=Nt.e.r=0),Nt)}function lt(Xt){var Lt=new_buf(8);return Lt.write_shift(2,Xt.s.c),Lt.write_shift(2,Xt.s.r),Lt.write_shift(2,Xt.e.c),Lt.write_shift(2,Xt.e.r),Lt}function ct(Xt,Lt,jt){var Nt=[{c:0,r:0},{t:"n",v:0},0,0];return jt.qpro&&jt.vers!=20768?(Nt[0].c=Xt.read_shift(1),Nt[3]=Xt.read_shift(1),Nt[0].r=Xt.read_shift(2),Xt.l+=2):(Nt[2]=Xt.read_shift(1),Nt[0].c=Xt.read_shift(2),Nt[0].r=Xt.read_shift(2)),Nt}function ut(Xt,Lt,jt){var Nt=Xt.l+Lt,Mt=ct(Xt,Lt,jt);if(Mt[1].t="s",jt.vers==20768){Xt.l++;var Vt=Xt.read_shift(1);return Mt[1].v=Xt.read_shift(Vt,"utf8"),Mt}return jt.qpro&&Xt.l++,Mt[1].v=Xt.read_shift(Nt-Xt.l,"cstr"),Mt}function dt(Xt,Lt,jt){var Nt=new_buf(7+jt.length);Nt.write_shift(1,255),Nt.write_shift(2,Lt),Nt.write_shift(2,Xt),Nt.write_shift(1,39);for(var Mt=0;Mt<Nt.length;++Mt){var Vt=jt.charCodeAt(Mt);Nt.write_shift(1,Vt>=128?95:Vt)}return Nt.write_shift(1,0),Nt}function ft(Xt,Lt,jt){var Nt=ct(Xt,Lt,jt);return Nt[1].v=Xt.read_shift(2,"i"),Nt}function ht(Xt,Lt,jt){var Nt=new_buf(7);return Nt.write_shift(1,255),Nt.write_shift(2,Lt),Nt.write_shift(2,Xt),Nt.write_shift(2,jt,"i"),Nt}function gt(Xt,Lt,jt){var Nt=ct(Xt,Lt,jt);return Nt[1].v=Xt.read_shift(8,"f"),Nt}function mt(Xt,Lt,jt){var Nt=new_buf(13);return Nt.write_shift(1,255),Nt.write_shift(2,Lt),Nt.write_shift(2,Xt),Nt.write_shift(8,jt,"f"),Nt}function xt(Xt,Lt,jt){var Nt=Xt.l+Lt,Mt=ct(Xt,Lt,jt);if(Mt[1].v=Xt.read_shift(8,"f"),jt.qpro)Xt.l=Nt;else{var Vt=Xt.read_shift(2);St(Xt.slice(Xt.l,Xt.l+Vt),Mt),Xt.l+=Vt}return Mt}function vt(Xt,Lt,jt){var Nt=Lt&32768;return Lt&=-32769,Lt=(Nt?Xt:0)+(Lt>=8192?Lt-16384:Lt),(Nt?"":"$")+(jt?encode_col(Lt):encode_row(Lt))}var _t={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},yt=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function St(Xt,Lt){prep_blob(Xt,0);for(var jt=[],Nt=0,Mt="",Vt="",Gt="",Zt="";Xt.l<Xt.length;){var er=Xt[Xt.l++];switch(er){case 0:jt.push(Xt.read_shift(8,"f"));break;case 1:Vt=vt(Lt[0].c,Xt.read_shift(2),!0),Mt=vt(Lt[0].r,Xt.read_shift(2),!1),jt.push(Vt+Mt);break;case 2:{var ar=vt(Lt[0].c,Xt.read_shift(2),!0),Kt=vt(Lt[0].r,Xt.read_shift(2),!1);Vt=vt(Lt[0].c,Xt.read_shift(2),!0),Mt=vt(Lt[0].r,Xt.read_shift(2),!1),jt.push(ar+Kt+":"+Vt+Mt)}break;case 3:if(Xt.l<Xt.length){console.error("WK1 premature formula end");return}break;case 4:jt.push("("+jt.pop()+")");break;case 5:jt.push(Xt.read_shift(2));break;case 6:{for(var pr="";er=Xt[Xt.l++];)pr+=String.fromCharCode(er);jt.push('"'+pr.replace(/"/g,'""')+'"')}break;case 8:jt.push("-"+jt.pop());break;case 23:jt.push("+"+jt.pop());break;case 22:jt.push("NOT("+jt.pop()+")");break;case 20:case 21:Zt=jt.pop(),Gt=jt.pop(),jt.push(["AND","OR"][er-20]+"("+Gt+","+Zt+")");break;default:if(er<32&&yt[er])Zt=jt.pop(),Gt=jt.pop(),jt.push(Gt+yt[er]+Zt);else if(_t[er]){if(Nt=_t[er][1],Nt==69&&(Nt=Xt[Xt.l++]),Nt>jt.length){console.error("WK1 bad formula parse 0x"+er.toString(16)+":|"+jt.join("|")+"|");return}var fr=jt.slice(-Nt);jt.length-=Nt,jt.push(_t[er][0]+"("+fr.join(",")+")")}else return er<=7?console.error("WK1 invalid opcode "+er.toString(16)):er<=24?console.error("WK1 unsupported op "+er.toString(16)):er<=30?console.error("WK1 invalid opcode "+er.toString(16)):er<=115?console.error("WK1 unsupported function opcode "+er.toString(16)):console.error("WK1 unrecognized opcode "+er.toString(16))}}jt.length==1?Lt[1].f=""+jt[0]:console.error("WK1 bad formula parse |"+jt.join("|")+"|")}function bt(Xt){var Lt=[{c:0,r:0},{t:"n",v:0},0];return Lt[0].r=Xt.read_shift(2),Lt[3]=Xt[Xt.l++],Lt[0].c=Xt[Xt.l++],Lt}function Et(Xt,Lt){var jt=bt(Xt);return jt[1].t="s",jt[1].v=Xt.read_shift(Lt-4,"cstr"),jt}function Tt(Xt,Lt,jt,Nt){var Mt=new_buf(6+Nt.length);Mt.write_shift(2,Xt),Mt.write_shift(1,jt),Mt.write_shift(1,Lt),Mt.write_shift(1,39);for(var Vt=0;Vt<Nt.length;++Vt){var Gt=Nt.charCodeAt(Vt);Mt.write_shift(1,Gt>=128?95:Gt)}return Mt.write_shift(1,0),Mt}function At(Xt,Lt){var jt=bt(Xt);jt[1].v=Xt.read_shift(2);var Nt=jt[1].v>>1;if(jt[1].v&1)switch(Nt&7){case 0:Nt=(Nt>>3)*5e3;break;case 1:Nt=(Nt>>3)*500;break;case 2:Nt=(Nt>>3)/20;break;case 3:Nt=(Nt>>3)/200;break;case 4:Nt=(Nt>>3)/2e3;break;case 5:Nt=(Nt>>3)/2e4;break;case 6:Nt=(Nt>>3)/16;break;case 7:Nt=(Nt>>3)/64;break}return jt[1].v=Nt,jt}function Ct(Xt,Lt){var jt=bt(Xt),Nt=Xt.read_shift(4),Mt=Xt.read_shift(4),Vt=Xt.read_shift(2);if(Vt==65535)return Nt===0&&Mt===3221225472?(jt[1].t="e",jt[1].v=15):Nt===0&&Mt===3489660928?(jt[1].t="e",jt[1].v=42):jt[1].v=0,jt;var Gt=Vt&32768;return Vt=(Vt&32767)-16446,jt[1].v=(1-Gt*2)*(Mt*Math.pow(2,Vt+32)+Nt*Math.pow(2,Vt)),jt}function kt(Xt,Lt,jt,Nt){var Mt=new_buf(14);if(Mt.write_shift(2,Xt),Mt.write_shift(1,jt),Mt.write_shift(1,Lt),Nt==0)return Mt.write_shift(4,0),Mt.write_shift(4,0),Mt.write_shift(2,65535),Mt;var Vt=0,Gt=0,Zt=0,er=0;return Nt<0&&(Vt=1,Nt=-Nt),Gt=Math.log2(Nt)|0,Nt/=Math.pow(2,Gt-31),er=Nt>>>0,er&2147483648||(Nt/=2,++Gt,er=Nt>>>0),Nt-=er,er|=2147483648,er>>>=0,Nt*=Math.pow(2,32),Zt=Nt>>>0,Mt.write_shift(4,Zt),Mt.write_shift(4,er),Gt+=16383+(Vt?32768:0),Mt.write_shift(2,Gt),Mt}function Pt(Xt,Lt){var jt=Ct(Xt);return Xt.l+=Lt-14,jt}function Dt(Xt,Lt){var jt=bt(Xt),Nt=Xt.read_shift(4);return jt[1].v=Nt>>6,jt}function Ft(Xt,Lt){var jt=bt(Xt),Nt=Xt.read_shift(8,"f");return jt[1].v=Nt,jt}function Ot(Xt,Lt){var jt=Ft(Xt);return Xt.l+=Lt-10,jt}function It(Xt,Lt){return Xt[Xt.l+Lt-1]==0?Xt.read_shift(Lt,"cstr"):""}function Bt(Xt,Lt){var jt=Xt[Xt.l++];jt>Lt-1&&(jt=Lt-1);for(var Nt="";Nt.length<jt;)Nt+=String.fromCharCode(Xt[Xt.l++]);return Nt}function qt(Xt,Lt,jt){if(!(!jt.qpro||Lt<21)){var Nt=Xt.read_shift(1);Xt.l+=17,Xt.l+=1,Xt.l+=2;var Mt=Xt.read_shift(Lt-21,"cstr");return[Nt,Mt]}}function Ut(Xt,Lt){for(var jt={},Nt=Xt.l+Lt;Xt.l<Nt;){var Mt=Xt.read_shift(2);if(Mt==14e3){for(jt[Mt]=[0,""],jt[Mt][0]=Xt.read_shift(2);Xt[Xt.l];)jt[Mt][1]+=String.fromCharCode(Xt[Xt.l]),Xt.l++;Xt.l++}}return jt}function Ht(Xt,Lt){var jt=new_buf(5+Xt.length);jt.write_shift(2,14e3),jt.write_shift(2,Lt);for(var Nt=0;Nt<Xt.length;++Nt){var Mt=Xt.charCodeAt(Nt);jt[jt.l++]=Mt>127?95:Mt}return jt[jt.l++]=0,jt}var Qt={0:{n:"BOF",f:parseuint16},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:ot},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:ft},14:{n:"NUMBER",f:gt},15:{n:"LABEL",f:ut},16:{n:"FORMULA",f:xt},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:ut},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:It},222:{n:"SHEETNAMELP",f:Bt},65535:{n:""}},ir={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:Et},23:{n:"NUMBER17",f:Ct},24:{n:"NUMBER18",f:At},25:{n:"FORMULA19",f:Pt},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Ut},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:Dt},38:{n:"??"},39:{n:"NUMBER27",f:Ft},40:{n:"FORMULA28",f:Ot},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:It},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:qt},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:nt,book_to_wk3:at,to_workbook:tt}}();function parse_rpr(et){var tt={},rt=et.match(tagregex),nt=0,at=!1;if(rt)for(;nt!=rt.length;++nt){var it=parsexmltag(rt[nt]);switch(it[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!it.val)break;case"<shadow>":case"<shadow/>":tt.shadow=1;break;case"</shadow>":break;case"<charset":if(it.val=="1")break;tt.cp=CS2CP[parseInt(it.val,10)];break;case"<outline":if(!it.val)break;case"<outline>":case"<outline/>":tt.outline=1;break;case"</outline>":break;case"<rFont":tt.name=it.val;break;case"<sz":tt.sz=it.val;break;case"<strike":if(!it.val)break;case"<strike>":case"<strike/>":tt.strike=1;break;case"</strike>":break;case"<u":if(!it.val)break;switch(it.val){case"double":tt.uval="double";break;case"singleAccounting":tt.uval="single-accounting";break;case"doubleAccounting":tt.uval="double-accounting";break}case"<u>":case"<u/>":tt.u=1;break;case"</u>":break;case"<b":if(it.val=="0")break;case"<b>":case"<b/>":tt.b=1;break;case"</b>":break;case"<i":if(it.val=="0")break;case"<i>":case"<i/>":tt.i=1;break;case"</i>":break;case"<color":it.rgb&&(tt.color=it.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":tt.family=it.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":tt.valign=it.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":at=!0;break;case"</ext>":at=!1;break;default:if(it[0].charCodeAt(1)!==47&&!at)throw new Error("Unrecognized rich format "+it[0])}}return tt}var parse_rs=function(){var et=matchtag("t"),tt=matchtag("rPr");function rt(it){var st=it.match(et);if(!st)return{t:"s",v:""};var ot={t:"s",v:unescapexml(st[1])},lt=it.match(tt);return lt&&(ot.s=parse_rpr(lt[1])),ot}var nt=/<(?:\w+:)?r>/g,at=/<\/(?:\w+:)?r>/;return function(st){return st.replace(nt,"").split(at).map(rt).filter(function(ot){return ot.v})}}(),rs_to_html=function(){var tt=/(\r\n|\n)/g;function rt(at,it,st){var ot=[];at.u&&ot.push("text-decoration: underline;"),at.uval&&ot.push("text-underline-style:"+at.uval+";"),at.sz&&ot.push("font-size:"+at.sz+"pt;"),at.outline&&ot.push("text-effect: outline;"),at.shadow&&ot.push("text-shadow: auto;"),it.push('<span style="'+ot.join("")+'">'),at.b&&(it.push("<b>"),st.push("</b>")),at.i&&(it.push("<i>"),st.push("</i>")),at.strike&&(it.push("<s>"),st.push("</s>"));var lt=at.valign||"";return lt=="superscript"||lt=="super"?lt="sup":lt=="subscript"&&(lt="sub"),lt!=""&&(it.push("<"+lt+">"),st.push("</"+lt+">")),st.push("</span>"),at}function nt(at){var it=[[],at.v,[]];return at.v?(at.s&&rt(at.s,it[0],it[2]),it[0].join("")+it[1].replace(tt,"<br/>")+it[2].join("")):""}return function(it){return it.map(nt).join("")}}(),sitregex=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,sirregex=/<(?:\w+:)?r>/,sirphregex=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function parse_si(et,tt){var rt=tt?tt.cellHTML:!0,nt={};return et?(et.match(/^\s*<(?:\w+:)?t[^>]*>/)?(nt.t=unescapexml(utf8read(et.slice(et.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),nt.r=utf8read(et),rt&&(nt.h=escapehtml(nt.t))):et.match(sirregex)&&(nt.r=utf8read(et),nt.t=unescapexml(utf8read((et.replace(sirphregex,"").match(sitregex)||[]).join("").replace(tagregex,""))),rt&&(nt.h=rs_to_html(parse_rs(nt.r)))),nt):{t:""}}var sstr0=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,sstr1=/<(?:\w+:)?(?:si|sstItem)>/g,sstr2=/<\/(?:\w+:)?(?:si|sstItem)>/;function parse_sst_xml(et,tt){var rt=[],nt="";if(!et)return rt;var at=et.match(sstr0);if(at){nt=at[2].replace(sstr1,"").split(sstr2);for(var it=0;it!=nt.length;++it){var st=parse_si(nt[it].trim(),tt);st!=null&&(rt[rt.length]=st)}at=parsexmltag(at[1]),rt.Count=at.count,rt.Unique=at.uniqueCount}return rt}var straywsregex=/^\s|\s$|[\t\n\r]/;function write_sst_xml(et,tt){if(!tt.bookSST)return"";var rt=[XML_HEADER];rt[rt.length]=writextag("sst",null,{xmlns:XMLNS_main[0],count:et.Count,uniqueCount:et.Unique});for(var nt=0;nt!=et.length;++nt)if(et[nt]!=null){var at=et[nt],it="<si>";at.r?it+=at.r:(it+="<t",at.t||(at.t=""),at.t.match(straywsregex)&&(it+=' xml:space="preserve"'),it+=">"+escapexml(at.t)+"</t>"),it+="</si>",rt[rt.length]=it}return rt.length>2&&(rt[rt.length]="</sst>",rt[1]=rt[1].replace("/>",">")),rt.join("")}function parse_BrtBeginSst(et){return[et.read_shift(4),et.read_shift(4)]}function parse_sst_bin(et,tt){var rt=[],nt=!1;return recordhopper(et,function(it,st,ot){switch(ot){case 159:rt.Count=it[0],rt.Unique=it[1];break;case 19:rt.push(it);break;case 160:return!0;case 35:nt=!0;break;case 36:nt=!1;break;default:if(st.T,!nt||tt.WTF)throw new Error("Unexpected record 0x"+ot.toString(16))}}),rt}function write_BrtBeginSst(et,tt){return tt||(tt=new_buf(8)),tt.write_shift(4,et.Count),tt.write_shift(4,et.Unique),tt}var write_BrtSSTItem=write_RichStr;function write_sst_bin(et){var tt=buf_array();write_record(tt,159,write_BrtBeginSst(et));for(var rt=0;rt<et.length;++rt)write_record(tt,19,write_BrtSSTItem(et[rt]));return write_record(tt,160),tt.end()}function _JS2ANSI(et){for(var tt=[],rt=et.split(""),nt=0;nt<rt.length;++nt)tt[nt]=rt[nt].charCodeAt(0);return tt}function parse_CRYPTOVersion(et,tt){var rt={};return rt.Major=et.read_shift(2),rt.Minor=et.read_shift(2),tt>=4&&(et.l+=tt-4),rt}function parse_DataSpaceVersionInfo(et){var tt={};return tt.id=et.read_shift(0,"lpp4"),tt.R=parse_CRYPTOVersion(et,4),tt.U=parse_CRYPTOVersion(et,4),tt.W=parse_CRYPTOVersion(et,4),tt}function parse_DataSpaceMapEntry(et){for(var tt=et.read_shift(4),rt=et.l+tt-4,nt={},at=et.read_shift(4),it=[];at-- >0;)it.push({t:et.read_shift(4),v:et.read_shift(0,"lpp4")});if(nt.name=et.read_shift(0,"lpp4"),nt.comps=it,et.l!=rt)throw new Error("Bad DataSpaceMapEntry: "+et.l+" != "+rt);return nt}function parse_DataSpaceMap(et){var tt=[];et.l+=4;for(var rt=et.read_shift(4);rt-- >0;)tt.push(parse_DataSpaceMapEntry(et));return tt}function parse_DataSpaceDefinition(et){var tt=[];et.l+=4;for(var rt=et.read_shift(4);rt-- >0;)tt.push(et.read_shift(0,"lpp4"));return tt}function parse_TransformInfoHeader(et){var tt={};return et.read_shift(4),et.l+=4,tt.id=et.read_shift(0,"lpp4"),tt.name=et.read_shift(0,"lpp4"),tt.R=parse_CRYPTOVersion(et,4),tt.U=parse_CRYPTOVersion(et,4),tt.W=parse_CRYPTOVersion(et,4),tt}function parse_Primary(et){var tt=parse_TransformInfoHeader(et);if(tt.ename=et.read_shift(0,"8lpp4"),tt.blksz=et.read_shift(4),tt.cmode=et.read_shift(4),et.read_shift(4)!=4)throw new Error("Bad !Primary record");return tt}function parse_EncryptionHeader(et,tt){var rt=et.l+tt,nt={};nt.Flags=et.read_shift(4)&63,et.l+=4,nt.AlgID=et.read_shift(4);var at=!1;switch(nt.AlgID){case 26126:case 26127:case 26128:at=nt.Flags==36;break;case 26625:at=nt.Flags==4;break;case 0:at=nt.Flags==16||nt.Flags==4||nt.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+nt.AlgID}if(!at)throw new Error("Encryption Flags/AlgID mismatch");return nt.AlgIDHash=et.read_shift(4),nt.KeySize=et.read_shift(4),nt.ProviderType=et.read_shift(4),et.l+=8,nt.CSPName=et.read_shift(rt-et.l>>1,"utf16le"),et.l=rt,nt}function parse_EncryptionVerifier(et,tt){var rt={},nt=et.l+tt;return et.l+=4,rt.Salt=et.slice(et.l,et.l+16),et.l+=16,rt.Verifier=et.slice(et.l,et.l+16),et.l+=16,et.read_shift(4),rt.VerifierHash=et.slice(et.l,nt),et.l=nt,rt}function parse_EncryptionInfo(et){var tt=parse_CRYPTOVersion(et);switch(tt.Minor){case 2:return[tt.Minor,parse_EncInfoStd(et)];case 3:return[tt.Minor,parse_EncInfoExt()];case 4:return[tt.Minor,parse_EncInfoAgl(et)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+tt.Minor)}function parse_EncInfoStd(et){var tt=et.read_shift(4);if((tt&63)!=36)throw new Error("EncryptionInfo mismatch");var rt=et.read_shift(4),nt=parse_EncryptionHeader(et,rt),at=parse_EncryptionVerifier(et,et.length-et.l);return{t:"Std",h:nt,v:at}}function parse_EncInfoExt(){throw new Error("File is password-protected: ECMA-376 Extensible")}function parse_EncInfoAgl(et){var tt=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];et.l+=4;var rt=et.read_shift(et.length-et.l,"utf8"),nt={};return rt.replace(tagregex,function(it){var st=parsexmltag(it);switch(strip_ns(st[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":tt.forEach(function(ot){nt[ot]=st[ot]});break;case"<dataIntegrity":nt.encryptedHmacKey=st.encryptedHmacKey,nt.encryptedHmacValue=st.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":nt.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":nt.uri=st.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":nt.encs.push(st);break;default:throw st[0]}}),nt}function parse_RC4CryptoHeader(et,tt){var rt={},nt=rt.EncryptionVersionInfo=parse_CRYPTOVersion(et,4);if(tt-=4,nt.Minor!=2)throw new Error("unrecognized minor version code: "+nt.Minor);if(nt.Major>4||nt.Major<2)throw new Error("unrecognized major version code: "+nt.Major);rt.Flags=et.read_shift(4),tt-=4;var at=et.read_shift(4);return tt-=4,rt.EncryptionHeader=parse_EncryptionHeader(et,at),tt-=at,rt.EncryptionVerifier=parse_EncryptionVerifier(et,tt),rt}function parse_RC4Header(et){var tt={},rt=tt.EncryptionVersionInfo=parse_CRYPTOVersion(et,4);if(rt.Major!=1||rt.Minor!=1)throw"unrecognized version code "+rt.Major+" : "+rt.Minor;return tt.Salt=et.read_shift(16),tt.EncryptedVerifier=et.read_shift(16),tt.EncryptedVerifierHash=et.read_shift(16),tt}function crypto_CreatePasswordVerifier_Method1(et){var tt=0,rt,nt=_JS2ANSI(et),at=nt.length+1,it,st,ot,lt,ct;for(rt=new_raw_buf(at),rt[0]=nt.length,it=1;it!=at;++it)rt[it]=nt[it-1];for(it=at-1;it>=0;--it)st=rt[it],ot=tt&16384?1:0,lt=tt<<1&32767,ct=ot|lt,tt=ct^st;return tt^52811}var crypto_CreateXorArray_Method1=function(){var et=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],tt=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],rt=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],nt=function(st){return(st/2|st*128)&255},at=function(st,ot){return nt(st^ot)},it=function(st){for(var ot=tt[st.length-1],lt=104,ct=st.length-1;ct>=0;--ct)for(var ut=st[ct],dt=0;dt!=7;++dt)ut&64&&(ot^=rt[lt]),ut*=2,--lt;return ot};return function(st){for(var ot=_JS2ANSI(st),lt=it(ot),ct=ot.length,ut=new_raw_buf(16),dt=0;dt!=16;++dt)ut[dt]=0;var ft,ht,gt;for((ct&1)===1&&(ft=lt>>8,ut[ct]=at(et[0],ft),--ct,ft=lt&255,ht=ot[ot.length-1],ut[ct]=at(ht,ft));ct>0;)--ct,ft=lt>>8,ut[ct]=at(ot[ct],ft),--ct,ft=lt&255,ut[ct]=at(ot[ct],ft);for(ct=15,gt=15-ot.length;gt>0;)ft=lt>>8,ut[ct]=at(et[gt],ft),--ct,--gt,ft=lt&255,ut[ct]=at(ot[ct],ft),--ct,--gt;return ut}}(),crypto_DecryptData_Method1=function(et,tt,rt,nt,at){at||(at=tt),nt||(nt=crypto_CreateXorArray_Method1(et));var it,st;for(it=0;it!=tt.length;++it)st=tt[it],st^=nt[rt],st=(st>>5|st<<3)&255,at[it]=st,++rt;return[at,rt,nt]},crypto_MakeXorDecryptor=function(et){var tt=0,rt=crypto_CreateXorArray_Method1(et);return function(nt){var at=crypto_DecryptData_Method1("",nt,tt,rt);return tt=at[1],at[0]}};function parse_XORObfuscation(et,tt,rt,nt){var at={key:parseuint16(et),verificationBytes:parseuint16(et)};return rt.password&&(at.verifier=crypto_CreatePasswordVerifier_Method1(rt.password)),nt.valid=at.verificationBytes===at.verifier,nt.valid&&(nt.insitu=crypto_MakeXorDecryptor(rt.password)),at}function parse_FilePassHeader(et,tt,rt){var nt=rt||{};return nt.Info=et.read_shift(2),et.l-=2,nt.Info===1?nt.Data=parse_RC4Header(et):nt.Data=parse_RC4CryptoHeader(et,tt),nt}function parse_FilePass(et,tt,rt){var nt={Type:rt.biff>=8?et.read_shift(2):0};return nt.Type?parse_FilePassHeader(et,tt-2,nt):parse_XORObfuscation(et,rt.biff>=8?tt:tt-2,rt,nt),nt}var RTF=function(){function et(at,it){switch(it.type){case"base64":return tt(Base64_decode(at),it);case"binary":return tt(at,it);case"buffer":return tt(has_buf&&Buffer.isBuffer(at)?at.toString("binary"):a2s(at),it);case"array":return tt(cc2str(at),it)}throw new Error("Unrecognized type "+it.type)}function tt(at,it){var st=it||{},ot=st.dense?[]:{},lt=at.match(/\\trowd.*?\\row\b/g);if(!lt.length)throw new Error("RTF missing table");var ct={s:{c:0,r:0},e:{c:0,r:lt.length-1}};return lt.forEach(function(ut,dt){Array.isArray(ot)&&(ot[dt]=[]);for(var ft=/\\\w+\b/g,ht=0,gt,mt=-1;gt=ft.exec(ut);){switch(gt[0]){case"\\cell":var xt=ut.slice(ht,ft.lastIndex-gt[0].length);if(xt[0]==" "&&(xt=xt.slice(1)),++mt,xt.length){var vt={v:xt,t:"s"};Array.isArray(ot)?ot[dt][mt]=vt:ot[encode_cell({r:dt,c:mt})]=vt}break}ht=ft.lastIndex}mt>ct.e.c&&(ct.e.c=mt)}),ot["!ref"]=encode_range(ct),ot}function rt(at,it){return sheet_to_workbook(et(at,it),it)}function nt(at){for(var it=["{\\rtf1\\ansi"],st=safe_decode_range(at["!ref"]),ot,lt=Array.isArray(at),ct=st.s.r;ct<=st.e.r;++ct){it.push("\\trowd\\trautofit1");for(var ut=st.s.c;ut<=st.e.c;++ut)it.push("\\cellx"+(ut+1));for(it.push("\\pard\\intbl"),ut=st.s.c;ut<=st.e.c;++ut){var dt=encode_cell({r:ct,c:ut});ot=lt?(at[ct]||[])[ut]:at[dt],!(!ot||ot.v==null&&(!ot.f||ot.F))&&(it.push(" "+(ot.w||(format_cell(ot),ot.w))),it.push("\\cell"))}it.push("\\pard\\intbl\\row")}return it.join("")+"}"}return{to_workbook:rt,to_sheet:et,from_sheet:nt}}();function hex2RGB(et){var tt=et.slice(et[0]==="#"?1:0).slice(0,6);return[parseInt(tt.slice(0,2),16),parseInt(tt.slice(2,4),16),parseInt(tt.slice(4,6),16)]}function rgb2Hex(et){for(var tt=0,rt=1;tt!=3;++tt)rt=rt*256+(et[tt]>255?255:et[tt]<0?0:et[tt]);return rt.toString(16).toUpperCase().slice(1)}function rgb2HSL(et){var tt=et[0]/255,rt=et[1]/255,nt=et[2]/255,at=Math.max(tt,rt,nt),it=Math.min(tt,rt,nt),st=at-it;if(st===0)return[0,0,tt];var ot=0,lt=0,ct=at+it;switch(lt=st/(ct>1?2-ct:ct),at){case tt:ot=((rt-nt)/st+6)%6;break;case rt:ot=(nt-tt)/st+2;break;case nt:ot=(tt-rt)/st+4;break}return[ot/6,lt,ct/2]}function hsl2RGB(et){var tt=et[0],rt=et[1],nt=et[2],at=rt*2*(nt<.5?nt:1-nt),it=nt-at/2,st=[it,it,it],ot=6*tt,lt;if(rt!==0)switch(ot|0){case 0:case 6:lt=at*ot,st[0]+=at,st[1]+=lt;break;case 1:lt=at*(2-ot),st[0]+=lt,st[1]+=at;break;case 2:lt=at*(ot-2),st[1]+=at,st[2]+=lt;break;case 3:lt=at*(4-ot),st[1]+=lt,st[2]+=at;break;case 4:lt=at*(ot-4),st[2]+=at,st[0]+=lt;break;case 5:lt=at*(6-ot),st[2]+=lt,st[0]+=at;break}for(var ct=0;ct!=3;++ct)st[ct]=Math.round(st[ct]*255);return st}function rgb_tint(et,tt){if(tt===0)return et;var rt=rgb2HSL(hex2RGB(et));return tt<0?rt[2]=rt[2]*(1+tt):rt[2]=1-(1-rt[2])*(1-tt),rgb2Hex(hsl2RGB(rt))}var DEF_MDW=6,MAX_MDW=15,MIN_MDW=1,MDW=DEF_MDW;function width2px(et){return Math.floor((et+Math.round(128/MDW)/256)*MDW)}function px2char(et){return Math.floor((et-5)/MDW*100+.5)/100}function char2width(et){return Math.round((et*MDW+5)/MDW*256)/256}function cycle_width(et){return char2width(px2char(width2px(et)))}function find_mdw_colw(et){var tt=Math.abs(et-cycle_width(et)),rt=MDW;if(tt>.005)for(MDW=MIN_MDW;MDW<MAX_MDW;++MDW)Math.abs(et-cycle_width(et))<=tt&&(tt=Math.abs(et-cycle_width(et)),rt=MDW);MDW=rt}function process_col(et){et.width?(et.wpx=width2px(et.width),et.wch=px2char(et.wpx),et.MDW=MDW):et.wpx?(et.wch=px2char(et.wpx),et.width=char2width(et.wch),et.MDW=MDW):typeof et.wch=="number"&&(et.width=char2width(et.wch),et.wpx=width2px(et.width),et.MDW=MDW),et.customWidth&&delete et.customWidth}var DEF_PPI=96,PPI=DEF_PPI;function px2pt(et){return et*96/PPI}function pt2px(et){return et*PPI/96}var XLMLPatternTypeMap={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function parse_borders(et,tt,rt,nt){tt.Borders=[];var at={},it=!1;(et[0].match(tagregex)||[]).forEach(function(st){var ot=parsexmltag(st);switch(strip_ns(ot[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":at={},ot.diagonalUp&&(at.diagonalUp=parsexmlbool(ot.diagonalUp)),ot.diagonalDown&&(at.diagonalDown=parsexmlbool(ot.diagonalDown)),tt.Borders.push(at);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":it=!0;break;case"</ext>":it=!1;break;default:if(nt&&nt.WTF&&!it)throw new Error("unrecognized "+ot[0]+" in borders")}})}function parse_fills(et,tt,rt,nt){tt.Fills=[];var at={},it=!1;(et[0].match(tagregex)||[]).forEach(function(st){var ot=parsexmltag(st);switch(strip_ns(ot[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":at={},tt.Fills.push(at);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":tt.Fills.push(at),at={};break;case"<patternFill":case"<patternFill>":ot.patternType&&(at.patternType=ot.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":at.bgColor||(at.bgColor={}),ot.indexed&&(at.bgColor.indexed=parseInt(ot.indexed,10)),ot.theme&&(at.bgColor.theme=parseInt(ot.theme,10)),ot.tint&&(at.bgColor.tint=parseFloat(ot.tint)),ot.rgb&&(at.bgColor.rgb=ot.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":at.fgColor||(at.fgColor={}),ot.theme&&(at.fgColor.theme=parseInt(ot.theme,10)),ot.tint&&(at.fgColor.tint=parseFloat(ot.tint)),ot.rgb!=null&&(at.fgColor.rgb=ot.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":it=!0;break;case"</ext>":it=!1;break;default:if(nt&&nt.WTF&&!it)throw new Error("unrecognized "+ot[0]+" in fills")}})}function parse_fonts(et,tt,rt,nt){tt.Fonts=[];var at={},it=!1;(et[0].match(tagregex)||[]).forEach(function(st){var ot=parsexmltag(st);switch(strip_ns(ot[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":tt.Fonts.push(at),at={};break;case"<name":ot.val&&(at.name=utf8read(ot.val));break;case"<name/>":case"</name>":break;case"<b":at.bold=ot.val?parsexmlbool(ot.val):1;break;case"<b/>":at.bold=1;break;case"<i":at.italic=ot.val?parsexmlbool(ot.val):1;break;case"<i/>":at.italic=1;break;case"<u":switch(ot.val){case"none":at.underline=0;break;case"single":at.underline=1;break;case"double":at.underline=2;break;case"singleAccounting":at.underline=33;break;case"doubleAccounting":at.underline=34;break}break;case"<u/>":at.underline=1;break;case"<strike":at.strike=ot.val?parsexmlbool(ot.val):1;break;case"<strike/>":at.strike=1;break;case"<outline":at.outline=ot.val?parsexmlbool(ot.val):1;break;case"<outline/>":at.outline=1;break;case"<shadow":at.shadow=ot.val?parsexmlbool(ot.val):1;break;case"<shadow/>":at.shadow=1;break;case"<condense":at.condense=ot.val?parsexmlbool(ot.val):1;break;case"<condense/>":at.condense=1;break;case"<extend":at.extend=ot.val?parsexmlbool(ot.val):1;break;case"<extend/>":at.extend=1;break;case"<sz":ot.val&&(at.sz=+ot.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":ot.val&&(at.vertAlign=ot.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":ot.val&&(at.family=parseInt(ot.val,10));break;case"<family/>":case"</family>":break;case"<scheme":ot.val&&(at.scheme=ot.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(ot.val=="1")break;ot.codepage=CS2CP[parseInt(ot.val,10)];break;case"<color":if(at.color||(at.color={}),ot.auto&&(at.color.auto=parsexmlbool(ot.auto)),ot.rgb)at.color.rgb=ot.rgb.slice(-6);else if(ot.indexed){at.color.index=parseInt(ot.indexed,10);var lt=XLSIcv[at.color.index];at.color.index==81&&(lt=XLSIcv[1]),lt||(lt=XLSIcv[1]),at.color.rgb=lt[0].toString(16)+lt[1].toString(16)+lt[2].toString(16)}else ot.theme&&(at.color.theme=parseInt(ot.theme,10),ot.tint&&(at.color.tint=parseFloat(ot.tint)),ot.theme&&rt.themeElements&&rt.themeElements.clrScheme&&(at.color.rgb=rgb_tint(rt.themeElements.clrScheme[at.color.theme].rgb,at.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":it=!0;break;case"</AlternateContent>":it=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":it=!0;break;case"</ext>":it=!1;break;default:if(nt&&nt.WTF&&!it)throw new Error("unrecognized "+ot[0]+" in fonts")}})}function parse_numFmts(et,tt,rt){tt.NumberFmt=[];for(var nt=keys$5(table_fmt),at=0;at<nt.length;++at)tt.NumberFmt[nt[at]]=table_fmt[nt[at]];var it=et[0].match(tagregex);if(it)for(at=0;at<it.length;++at){var st=parsexmltag(it[at]);switch(strip_ns(st[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var ot=unescapexml(utf8read(st.formatCode)),lt=parseInt(st.numFmtId,10);if(tt.NumberFmt[lt]=ot,lt>0){if(lt>392){for(lt=392;lt>60&&tt.NumberFmt[lt]!=null;--lt);tt.NumberFmt[lt]=ot}SSF_load(ot,lt)}}break;case"</numFmt>":break;default:if(rt.WTF)throw new Error("unrecognized "+st[0]+" in numFmts")}}}function write_numFmts(et){var tt=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(rt){for(var nt=rt[0];nt<=rt[1];++nt)et[nt]!=null&&(tt[tt.length]=writextag("numFmt",null,{numFmtId:nt,formatCode:escapexml(et[nt])}))}),tt.length===1?"":(tt[tt.length]="</numFmts>",tt[0]=writextag("numFmts",null,{count:tt.length-2}).replace("/>",">"),tt.join(""))}var cellXF_uint=["numFmtId","fillId","fontId","borderId","xfId"],cellXF_bool=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function parse_cellXfs(et,tt,rt){tt.CellXf=[];var nt,at=!1;(et[0].match(tagregex)||[]).forEach(function(it){var st=parsexmltag(it),ot=0;switch(strip_ns(st[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(nt=st,delete nt[0],ot=0;ot<cellXF_uint.length;++ot)nt[cellXF_uint[ot]]&&(nt[cellXF_uint[ot]]=parseInt(nt[cellXF_uint[ot]],10));for(ot=0;ot<cellXF_bool.length;++ot)nt[cellXF_bool[ot]]&&(nt[cellXF_bool[ot]]=parsexmlbool(nt[cellXF_bool[ot]]));if(tt.NumberFmt&&nt.numFmtId>392){for(ot=392;ot>60;--ot)if(tt.NumberFmt[nt.numFmtId]==tt.NumberFmt[ot]){nt.numFmtId=ot;break}}tt.CellXf.push(nt);break;case"</xf>":break;case"<alignment":case"<alignment/>":var lt={};st.vertical&&(lt.vertical=st.vertical),st.horizontal&&(lt.horizontal=st.horizontal),st.textRotation!=null&&(lt.textRotation=st.textRotation),st.indent&&(lt.indent=st.indent),st.wrapText&&(lt.wrapText=parsexmlbool(st.wrapText)),nt.alignment=lt;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":at=!0;break;case"</AlternateContent>":at=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":at=!0;break;case"</ext>":at=!1;break;default:if(rt&&rt.WTF&&!at)throw new Error("unrecognized "+st[0]+" in cellXfs")}})}function write_cellXfs(et){var tt=[];return tt[tt.length]=writextag("cellXfs",null),et.forEach(function(rt){tt[tt.length]=writextag("xf",null,rt)}),tt[tt.length]="</cellXfs>",tt.length===2?"":(tt[0]=writextag("cellXfs",null,{count:tt.length-2}).replace("/>",">"),tt.join(""))}var parse_sty_xml=function(){var tt=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,rt=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,nt=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,at=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,it=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(ot,lt,ct){var ut={};if(!ot)return ut;ot=ot.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var dt;return(dt=ot.match(tt))&&parse_numFmts(dt,ut,ct),(dt=ot.match(at))&&parse_fonts(dt,ut,lt,ct),(dt=ot.match(nt))&&parse_fills(dt,ut,lt,ct),(dt=ot.match(it))&&parse_borders(dt,ut,lt,ct),(dt=ot.match(rt))&&parse_cellXfs(dt,ut,ct),ut}}();function write_sty_xml(et,tt){var rt=[XML_HEADER,writextag("styleSheet",null,{xmlns:XMLNS_main[0],"xmlns:vt":XMLNS.vt})],nt;return et.SSF&&(nt=write_numFmts(et.SSF))!=null&&(rt[rt.length]=nt),rt[rt.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',rt[rt.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',rt[rt.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',rt[rt.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(nt=write_cellXfs(tt.cellXfs))&&(rt[rt.length]=nt),rt[rt.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',rt[rt.length]='<dxfs count="0"/>',rt[rt.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',rt.length>2&&(rt[rt.length]="</styleSheet>",rt[1]=rt[1].replace("/>",">")),rt.join("")}function parse_BrtFmt(et,tt){var rt=et.read_shift(2),nt=parse_XLWideString(et);return[rt,nt]}function write_BrtFmt(et,tt,rt){rt||(rt=new_buf(6+4*tt.length)),rt.write_shift(2,et),write_XLWideString(tt,rt);var nt=rt.length>rt.l?rt.slice(0,rt.l):rt;return rt.l==null&&(rt.l=rt.length),nt}function parse_BrtFont(et,tt,rt){var nt={};nt.sz=et.read_shift(2)/20;var at=parse_FontFlags(et);at.fItalic&&(nt.italic=1),at.fCondense&&(nt.condense=1),at.fExtend&&(nt.extend=1),at.fShadow&&(nt.shadow=1),at.fOutline&&(nt.outline=1),at.fStrikeout&&(nt.strike=1);var it=et.read_shift(2);switch(it===700&&(nt.bold=1),et.read_shift(2)){case 1:nt.vertAlign="superscript";break;case 2:nt.vertAlign="subscript";break}var st=et.read_shift(1);st!=0&&(nt.underline=st);var ot=et.read_shift(1);ot>0&&(nt.family=ot);var lt=et.read_shift(1);switch(lt>0&&(nt.charset=lt),et.l++,nt.color=parse_BrtColor(et),et.read_shift(1)){case 1:nt.scheme="major";break;case 2:nt.scheme="minor";break}return nt.name=parse_XLWideString(et),nt}function write_BrtFont(et,tt){tt||(tt=new_buf(25+4*32)),tt.write_shift(2,et.sz*20),write_FontFlags(et,tt),tt.write_shift(2,et.bold?700:400);var rt=0;et.vertAlign=="superscript"?rt=1:et.vertAlign=="subscript"&&(rt=2),tt.write_shift(2,rt),tt.write_shift(1,et.underline||0),tt.write_shift(1,et.family||0),tt.write_shift(1,et.charset||0),tt.write_shift(1,0),write_BrtColor(et.color,tt);var nt=0;return et.scheme=="major"&&(nt=1),et.scheme=="minor"&&(nt=2),tt.write_shift(1,nt),write_XLWideString(et.name,tt),tt.length>tt.l?tt.slice(0,tt.l):tt}var XLSBFillPTNames=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],rev_XLSBFillPTNames,parse_BrtFill=parsenoop;function write_BrtFill(et,tt){tt||(tt=new_buf(4*3+8*7+16*1)),rev_XLSBFillPTNames||(rev_XLSBFillPTNames=evert(XLSBFillPTNames));var rt=rev_XLSBFillPTNames[et.patternType];rt==null&&(rt=40),tt.write_shift(4,rt);var nt=0;if(rt!=40)for(write_BrtColor({auto:1},tt),write_BrtColor({auto:1},tt);nt<12;++nt)tt.write_shift(4,0);else{for(;nt<4;++nt)tt.write_shift(4,0);for(;nt<12;++nt)tt.write_shift(4,0)}return tt.length>tt.l?tt.slice(0,tt.l):tt}function parse_BrtXF(et,tt){var rt=et.l+tt,nt=et.read_shift(2),at=et.read_shift(2);return et.l=rt,{ixfe:nt,numFmtId:at}}function write_BrtXF(et,tt,rt){rt||(rt=new_buf(16)),rt.write_shift(2,tt||0),rt.write_shift(2,et.numFmtId||0),rt.write_shift(2,0),rt.write_shift(2,0),rt.write_shift(2,0),rt.write_shift(1,0),rt.write_shift(1,0);var nt=0;return rt.write_shift(1,nt),rt.write_shift(1,0),rt.write_shift(1,0),rt.write_shift(1,0),rt}function write_Blxf(et,tt){return tt||(tt=new_buf(10)),tt.write_shift(1,0),tt.write_shift(1,0),tt.write_shift(4,0),tt.write_shift(4,0),tt}var parse_BrtBorder=parsenoop;function write_BrtBorder(et,tt){return tt||(tt=new_buf(51)),tt.write_shift(1,0),write_Blxf(null,tt),write_Blxf(null,tt),write_Blxf(null,tt),write_Blxf(null,tt),write_Blxf(null,tt),tt.length>tt.l?tt.slice(0,tt.l):tt}function write_BrtStyle(et,tt){return tt||(tt=new_buf(12+4*10)),tt.write_shift(4,et.xfId),tt.write_shift(2,1),tt.write_shift(1,+et.builtinId),tt.write_shift(1,0),write_XLNullableWideString(et.name||"",tt),tt.length>tt.l?tt.slice(0,tt.l):tt}function write_BrtBeginTableStyles(et,tt,rt){var nt=new_buf(2052);return nt.write_shift(4,et),write_XLNullableWideString(tt,nt),write_XLNullableWideString(rt,nt),nt.length>nt.l?nt.slice(0,nt.l):nt}function parse_sty_bin(et,tt,rt){var nt={};nt.NumberFmt=[];for(var at in table_fmt)nt.NumberFmt[at]=table_fmt[at];nt.CellXf=[],nt.Fonts=[];var it=[],st=!1;return recordhopper(et,function(lt,ct,ut){switch(ut){case 44:nt.NumberFmt[lt[0]]=lt[1],SSF_load(lt[1],lt[0]);break;case 43:nt.Fonts.push(lt),lt.color.theme!=null&&tt&&tt.themeElements&&tt.themeElements.clrScheme&&(lt.color.rgb=rgb_tint(tt.themeElements.clrScheme[lt.color.theme].rgb,lt.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:it[it.length-1]==617&&nt.CellXf.push(lt);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:st=!0;break;case 36:st=!1;break;case 37:it.push(ut),st=!0;break;case 38:it.pop(),st=!1;break;default:if(ct.T>0)it.push(ut);else if(ct.T<0)it.pop();else if(!st||rt.WTF&&it[it.length-1]!=37)throw new Error("Unexpected record 0x"+ut.toString(16))}}),nt}function write_FMTS_bin(et,tt){if(tt){var rt=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(nt){for(var at=nt[0];at<=nt[1];++at)tt[at]!=null&&++rt}),rt!=0&&(write_record(et,615,write_UInt32LE(rt)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(nt){for(var at=nt[0];at<=nt[1];++at)tt[at]!=null&&write_record(et,44,write_BrtFmt(at,tt[at]))}),write_record(et,616))}}function write_FONTS_bin(et){var tt=1;write_record(et,611,write_UInt32LE(tt)),write_record(et,43,write_BrtFont({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),write_record(et,612)}function write_FILLS_bin(et){var tt=2;write_record(et,603,write_UInt32LE(tt)),write_record(et,45,write_BrtFill({patternType:"none"})),write_record(et,45,write_BrtFill({patternType:"gray125"})),write_record(et,604)}function write_BORDERS_bin(et){var tt=1;write_record(et,613,write_UInt32LE(tt)),write_record(et,46,write_BrtBorder()),write_record(et,614)}function write_CELLSTYLEXFS_bin(et){var tt=1;write_record(et,626,write_UInt32LE(tt)),write_record(et,47,write_BrtXF({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),write_record(et,627)}function write_CELLXFS_bin(et,tt){write_record(et,617,write_UInt32LE(tt.length)),tt.forEach(function(rt){write_record(et,47,write_BrtXF(rt,0))}),write_record(et,618)}function write_STYLES_bin(et){var tt=1;write_record(et,619,write_UInt32LE(tt)),write_record(et,48,write_BrtStyle({xfId:0,builtinId:0,name:"Normal"})),write_record(et,620)}function write_DXFS_bin(et){var tt=0;write_record(et,505,write_UInt32LE(tt)),write_record(et,506)}function write_TABLESTYLES_bin(et){var tt=0;write_record(et,508,write_BrtBeginTableStyles(tt,"TableStyleMedium9","PivotStyleMedium4")),write_record(et,509)}function write_sty_bin(et,tt){var rt=buf_array();return write_record(rt,278),write_FMTS_bin(rt,et.SSF),write_FONTS_bin(rt),write_FILLS_bin(rt),write_BORDERS_bin(rt),write_CELLSTYLEXFS_bin(rt),write_CELLXFS_bin(rt,tt.cellXfs),write_STYLES_bin(rt),write_DXFS_bin(rt),write_TABLESTYLES_bin(rt),write_record(rt,279),rt.end()}var XLSXThemeClrScheme=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function parse_clrScheme(et,tt,rt){tt.themeElements.clrScheme=[];var nt={};(et[0].match(tagregex)||[]).forEach(function(at){var it=parsexmltag(at);switch(it[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":nt.rgb=it.val;break;case"<a:sysClr":nt.rgb=it.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":it[0].charAt(1)==="/"?(tt.themeElements.clrScheme[XLSXThemeClrScheme.indexOf(it[0])]=nt,nt={}):nt.name=it[0].slice(3,it[0].length-1);break;default:if(rt&&rt.WTF)throw new Error("Unrecognized "+it[0]+" in clrScheme")}})}function parse_fontScheme(){}function parse_fmtScheme(){}var clrsregex=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,fntsregex=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,fmtsregex=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function parse_themeElements(et,tt,rt){tt.themeElements={};var nt;[["clrScheme",clrsregex,parse_clrScheme],["fontScheme",fntsregex,parse_fontScheme],["fmtScheme",fmtsregex,parse_fmtScheme]].forEach(function(at){if(!(nt=et.match(at[1])))throw new Error(at[0]+" not found in themeElements");at[2](nt,tt,rt)})}var themeltregex=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function parse_theme_xml(et,tt){(!et||et.length===0)&&(et=write_theme());var rt,nt={};if(!(rt=et.match(themeltregex)))throw new Error("themeElements not found in theme");return parse_themeElements(rt[0],nt,tt),nt.raw=et,nt}function write_theme(et,tt){if(tt&&tt.themeXLSX)return tt.themeXLSX;if(et&&typeof et.raw=="string")return et.raw;var rt=[XML_HEADER];return rt[rt.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',rt[rt.length]="<a:themeElements>",rt[rt.length]='<a:clrScheme name="Office">',rt[rt.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',rt[rt.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',rt[rt.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',rt[rt.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',rt[rt.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',rt[rt.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',rt[rt.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',rt[rt.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',rt[rt.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',rt[rt.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',rt[rt.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',rt[rt.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',rt[rt.length]="</a:clrScheme>",rt[rt.length]='<a:fontScheme name="Office">',rt[rt.length]="<a:majorFont>",rt[rt.length]='<a:latin typeface="Cambria"/>',rt[rt.length]='<a:ea typeface=""/>',rt[rt.length]='<a:cs typeface=""/>',rt[rt.length]='<a:font script="Jpan" typeface=" "/>',rt[rt.length]='<a:font script="Hang" typeface=" "/>',rt[rt.length]='<a:font script="Hans" typeface=""/>',rt[rt.length]='<a:font script="Hant" typeface=""/>',rt[rt.length]='<a:font script="Arab" typeface="Times New Roman"/>',rt[rt.length]='<a:font script="Hebr" typeface="Times New Roman"/>',rt[rt.length]='<a:font script="Thai" typeface="Tahoma"/>',rt[rt.length]='<a:font script="Ethi" typeface="Nyala"/>',rt[rt.length]='<a:font script="Beng" typeface="Vrinda"/>',rt[rt.length]='<a:font script="Gujr" typeface="Shruti"/>',rt[rt.length]='<a:font script="Khmr" typeface="MoolBoran"/>',rt[rt.length]='<a:font script="Knda" typeface="Tunga"/>',rt[rt.length]='<a:font script="Guru" typeface="Raavi"/>',rt[rt.length]='<a:font script="Cans" typeface="Euphemia"/>',rt[rt.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',rt[rt.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',rt[rt.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',rt[rt.length]='<a:font script="Thaa" typeface="MV Boli"/>',rt[rt.length]='<a:font script="Deva" typeface="Mangal"/>',rt[rt.length]='<a:font script="Telu" typeface="Gautami"/>',rt[rt.length]='<a:font script="Taml" typeface="Latha"/>',rt[rt.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',rt[rt.length]='<a:font script="Orya" typeface="Kalinga"/>',rt[rt.length]='<a:font script="Mlym" typeface="Kartika"/>',rt[rt.length]='<a:font script="Laoo" typeface="DokChampa"/>',rt[rt.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',rt[rt.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',rt[rt.length]='<a:font script="Viet" typeface="Times New Roman"/>',rt[rt.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',rt[rt.length]='<a:font script="Geor" typeface="Sylfaen"/>',rt[rt.length]="</a:majorFont>",rt[rt.length]="<a:minorFont>",rt[rt.length]='<a:latin typeface="Calibri"/>',rt[rt.length]='<a:ea typeface=""/>',rt[rt.length]='<a:cs typeface=""/>',rt[rt.length]='<a:font script="Jpan" typeface=" "/>',rt[rt.length]='<a:font script="Hang" typeface=" "/>',rt[rt.length]='<a:font script="Hans" typeface=""/>',rt[rt.length]='<a:font script="Hant" typeface=""/>',rt[rt.length]='<a:font script="Arab" typeface="Arial"/>',rt[rt.length]='<a:font script="Hebr" typeface="Arial"/>',rt[rt.length]='<a:font script="Thai" typeface="Tahoma"/>',rt[rt.length]='<a:font script="Ethi" typeface="Nyala"/>',rt[rt.length]='<a:font script="Beng" typeface="Vrinda"/>',rt[rt.length]='<a:font script="Gujr" typeface="Shruti"/>',rt[rt.length]='<a:font script="Khmr" typeface="DaunPenh"/>',rt[rt.length]='<a:font script="Knda" typeface="Tunga"/>',rt[rt.length]='<a:font script="Guru" typeface="Raavi"/>',rt[rt.length]='<a:font script="Cans" typeface="Euphemia"/>',rt[rt.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',rt[rt.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',rt[rt.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',rt[rt.length]='<a:font script="Thaa" typeface="MV Boli"/>',rt[rt.length]='<a:font script="Deva" typeface="Mangal"/>',rt[rt.length]='<a:font script="Telu" typeface="Gautami"/>',rt[rt.length]='<a:font script="Taml" typeface="Latha"/>',rt[rt.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',rt[rt.length]='<a:font script="Orya" typeface="Kalinga"/>',rt[rt.length]='<a:font script="Mlym" typeface="Kartika"/>',rt[rt.length]='<a:font script="Laoo" typeface="DokChampa"/>',rt[rt.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',rt[rt.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',rt[rt.length]='<a:font script="Viet" typeface="Arial"/>',rt[rt.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',rt[rt.length]='<a:font script="Geor" typeface="Sylfaen"/>',rt[rt.length]="</a:minorFont>",rt[rt.length]="</a:fontScheme>",rt[rt.length]='<a:fmtScheme name="Office">',rt[rt.length]="<a:fillStyleLst>",rt[rt.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',rt[rt.length]='<a:gradFill rotWithShape="1">',rt[rt.length]="<a:gsLst>",rt[rt.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',rt[rt.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',rt[rt.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',rt[rt.length]="</a:gsLst>",rt[rt.length]='<a:lin ang="16200000" scaled="1"/>',rt[rt.length]="</a:gradFill>",rt[rt.length]='<a:gradFill rotWithShape="1">',rt[rt.length]="<a:gsLst>",rt[rt.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',rt[rt.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',rt[rt.length]="</a:gsLst>",rt[rt.length]='<a:lin ang="16200000" scaled="0"/>',rt[rt.length]="</a:gradFill>",rt[rt.length]="</a:fillStyleLst>",rt[rt.length]="<a:lnStyleLst>",rt[rt.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',rt[rt.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',rt[rt.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',rt[rt.length]="</a:lnStyleLst>",rt[rt.length]="<a:effectStyleLst>",rt[rt.length]="<a:effectStyle>",rt[rt.length]="<a:effectLst>",rt[rt.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',rt[rt.length]="</a:effectLst>",rt[rt.length]="</a:effectStyle>",rt[rt.length]="<a:effectStyle>",rt[rt.length]="<a:effectLst>",rt[rt.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',rt[rt.length]="</a:effectLst>",rt[rt.length]="</a:effectStyle>",rt[rt.length]="<a:effectStyle>",rt[rt.length]="<a:effectLst>",rt[rt.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',rt[rt.length]="</a:effectLst>",rt[rt.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',rt[rt.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',rt[rt.length]="</a:effectStyle>",rt[rt.length]="</a:effectStyleLst>",rt[rt.length]="<a:bgFillStyleLst>",rt[rt.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',rt[rt.length]='<a:gradFill rotWithShape="1">',rt[rt.length]="<a:gsLst>",rt[rt.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',rt[rt.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',rt[rt.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',rt[rt.length]="</a:gsLst>",rt[rt.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',rt[rt.length]="</a:gradFill>",rt[rt.length]='<a:gradFill rotWithShape="1">',rt[rt.length]="<a:gsLst>",rt[rt.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',rt[rt.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',rt[rt.length]="</a:gsLst>",rt[rt.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',rt[rt.length]="</a:gradFill>",rt[rt.length]="</a:bgFillStyleLst>",rt[rt.length]="</a:fmtScheme>",rt[rt.length]="</a:themeElements>",rt[rt.length]="<a:objectDefaults>",rt[rt.length]="<a:spDef>",rt[rt.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',rt[rt.length]="</a:spDef>",rt[rt.length]="<a:lnDef>",rt[rt.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',rt[rt.length]="</a:lnDef>",rt[rt.length]="</a:objectDefaults>",rt[rt.length]="<a:extraClrSchemeLst/>",rt[rt.length]="</a:theme>",rt.join("")}function parse_Theme(et,tt,rt){var nt=et.l+tt,at=et.read_shift(4);if(at!==124226){if(!rt.cellStyles){et.l=nt;return}var it=et.slice(et.l);et.l=nt;var st;try{st=zip_read(it,{type:"array"})}catch{return}var ot=getzipstr(st,"theme/theme/theme1.xml",!0);if(ot)return parse_theme_xml(ot,rt)}}function parse_ColorTheme(et){return et.read_shift(4)}function parse_FullColorExt(et){var tt={};switch(tt.xclrType=et.read_shift(2),tt.nTintShade=et.read_shift(2),tt.xclrType){case 0:et.l+=4;break;case 1:tt.xclrValue=parse_IcvXF(et,4);break;case 2:tt.xclrValue=parse_LongRGBA(et);break;case 3:tt.xclrValue=parse_ColorTheme(et);break;case 4:et.l+=4;break}return et.l+=8,tt}function parse_IcvXF(et,tt){return parsenoop(et,tt)}function parse_XFExtGradient(et,tt){return parsenoop(et,tt)}function parse_ExtProp(et){var tt=et.read_shift(2),rt=et.read_shift(2)-4,nt=[tt];switch(tt){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:nt[1]=parse_FullColorExt(et);break;case 6:nt[1]=parse_XFExtGradient(et,rt);break;case 14:case 15:nt[1]=et.read_shift(rt===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+tt+" "+rt)}return nt}function parse_XFExt(et,tt){var rt=et.l+tt;et.l+=2;var nt=et.read_shift(2);et.l+=2;for(var at=et.read_shift(2),it=[];at-- >0;)it.push(parse_ExtProp(et,rt-et.l));return{ixfe:nt,ext:it}}function update_xfext(et,tt){tt.forEach(function(rt){switch(rt[0]){}})}function parse_BrtMdtinfo(et,tt){return{flags:et.read_shift(4),version:et.read_shift(4),name:parse_XLWideString(et)}}function write_BrtMdtinfo(et){var tt=new_buf(12+2*et.name.length);return tt.write_shift(4,et.flags),tt.write_shift(4,et.version),write_XLWideString(et.name,tt),tt.slice(0,tt.l)}function parse_BrtMdb(et){for(var tt=[],rt=et.read_shift(4);rt-- >0;)tt.push([et.read_shift(4),et.read_shift(4)]);return tt}function write_BrtMdb(et){var tt=new_buf(4+8*et.length);tt.write_shift(4,et.length);for(var rt=0;rt<et.length;++rt)tt.write_shift(4,et[rt][0]),tt.write_shift(4,et[rt][1]);return tt}function write_BrtBeginEsfmd(et,tt){var rt=new_buf(8+2*tt.length);return rt.write_shift(4,et),write_XLWideString(tt,rt),rt.slice(0,rt.l)}function parse_BrtBeginEsmdb(et){return et.l+=4,et.read_shift(4)!=0}function write_BrtBeginEsmdb(et,tt){var rt=new_buf(8);return rt.write_shift(4,et),rt.write_shift(4,tt?1:0),rt}function parse_xlmeta_bin(et,tt,rt){var nt={Types:[],Cell:[],Value:[]},at=rt||{},it=[],st=!1,ot=2;return recordhopper(et,function(lt,ct,ut){switch(ut){case 335:nt.Types.push({name:lt.name});break;case 51:lt.forEach(function(dt){ot==1?nt.Cell.push({type:nt.Types[dt[0]-1].name,index:dt[1]}):ot==0&&nt.Value.push({type:nt.Types[dt[0]-1].name,index:dt[1]})});break;case 337:ot=lt?1:0;break;case 338:ot=2;break;case 35:it.push(ut),st=!0;break;case 36:it.pop(),st=!1;break;default:if(!ct.T){if(!st||at.WTF&&it[it.length-1]!=35)throw new Error("Unexpected record 0x"+ut.toString(16))}}}),nt}function write_xlmeta_bin(){var et=buf_array();return write_record(et,332),write_record(et,334,write_UInt32LE(1)),write_record(et,335,write_BrtMdtinfo({name:"XLDAPR",version:12e4,flags:3496657072})),write_record(et,336),write_record(et,339,write_BrtBeginEsfmd(1,"XLDAPR")),write_record(et,52),write_record(et,35,write_UInt32LE(514)),write_record(et,4096,write_UInt32LE(0)),write_record(et,4097,writeuint16(1)),write_record(et,36),write_record(et,53),write_record(et,340),write_record(et,337,write_BrtBeginEsmdb(1,!0)),write_record(et,51,write_BrtMdb([[1,0]])),write_record(et,338),write_record(et,333),et.end()}function parse_xlmeta_xml(et,tt,rt){var nt={Types:[],Cell:[],Value:[]};if(!et)return nt;var at=!1,it=2,st;return et.replace(tagregex,function(ot){var lt=parsexmltag(ot);switch(strip_ns(lt[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":nt.Types.push({name:lt.name});break;case"</metadataType>":break;case"<futureMetadata":for(var ct=0;ct<nt.Types.length;++ct)nt.Types[ct].name==lt.name&&(st=nt.Types[ct]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":it==1?nt.Cell.push({type:nt.Types[lt.t-1].name,index:+lt.v}):it==0&&nt.Value.push({type:nt.Types[lt.t-1].name,index:+lt.v});break;case"</rc>":break;case"<cellMetadata":it=1;break;case"</cellMetadata>":it=2;break;case"<valueMetadata":it=0;break;case"</valueMetadata>":it=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":at=!0;break;case"</ext>":at=!1;break;case"<rvb":if(!st)break;st.offsets||(st.offsets=[]),st.offsets.push(+lt.i);break;default:if(!at&&rt.WTF)throw new Error("unrecognized "+lt[0]+" in metadata")}return ot}),nt}function write_xlmeta_xml(){var et=[XML_HEADER];return et.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),et.join("")}function parse_cc_xml(et){var tt=[];if(!et)return tt;var rt=1;return(et.match(tagregex)||[]).forEach(function(nt){var at=parsexmltag(nt);switch(at[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete at[0],at.i?rt=at.i:at.i=rt,tt.push(at);break}}),tt}function parse_BrtCalcChainItem$(et){var tt={};tt.i=et.read_shift(4);var rt={};rt.r=et.read_shift(4),rt.c=et.read_shift(4),tt.r=encode_cell(rt);var nt=et.read_shift(1);return nt&2&&(tt.l="1"),nt&8&&(tt.a="1"),tt}function parse_cc_bin(et,tt,rt){var nt=[];return recordhopper(et,function(it,st,ot){switch(ot){case 63:nt.push(it);break;default:if(!st.T)throw new Error("Unexpected record 0x"+ot.toString(16))}}),nt}function parse_xlink_xml(){}function parse_xlink_bin(et,tt,rt,nt){if(!et)return et;var at=nt||{},it=!1;recordhopper(et,function(ot,lt,ct){switch(ct){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:it=!0;break;case 36:it=!1;break;default:if(!lt.T){if(!it||at.WTF)throw new Error("Unexpected record 0x"+ct.toString(16))}}},at)}function parse_drawing(et,tt){if(!et)return"??";var rt=(et.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return tt["!id"][rt].Target}var _shapeid=1024;function write_comments_vml(et,tt){for(var rt=[21600,21600],nt=["m0,0l0",rt[1],rt[0],rt[1],rt[0],"0xe"].join(","),at=[writextag("xml",null,{"xmlns:v":XLMLNS.v,"xmlns:o":XLMLNS.o,"xmlns:x":XLMLNS.x,"xmlns:mv":XLMLNS.mv}).replace(/\/>/,">"),writextag("o:shapelayout",writextag("o:idmap",null,{"v:ext":"edit",data:et}),{"v:ext":"edit"}),writextag("v:shapetype",[writextag("v:stroke",null,{joinstyle:"miter"}),writextag("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:rt.join(","),path:nt})];_shapeid<et*1e3;)_shapeid+=1e3;return tt.forEach(function(it){var st=decode_cell(it[0]),ot={color2:"#BEFF82",type:"gradient"};ot.type=="gradient"&&(ot.angle="-180");var lt=ot.type=="gradient"?writextag("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,ct=writextag("v:fill",lt,ot),ut={on:"t",obscured:"t"};++_shapeid,at=at.concat(["<v:shape"+wxt_helper({id:"_x0000_s"+_shapeid,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(it[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",ct,writextag("v:shadow",null,ut),writextag("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",writetag("x:Anchor",[st.c+1,0,st.r+1,0,st.c+3,20,st.r+5,20].join(",")),writetag("x:AutoFill","False"),writetag("x:Row",String(st.r)),writetag("x:Column",String(st.c)),it[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),at.push("</xml>"),at.join("")}function sheet_insert_comments(et,tt,rt,nt){var at=Array.isArray(et),it;tt.forEach(function(st){var ot=decode_cell(st.ref);if(at?(et[ot.r]||(et[ot.r]=[]),it=et[ot.r][ot.c]):it=et[st.ref],!it){it={t:"z"},at?et[ot.r][ot.c]=it:et[st.ref]=it;var lt=safe_decode_range(et["!ref"]||"BDWGO1000001:A1");lt.s.r>ot.r&&(lt.s.r=ot.r),lt.e.r<ot.r&&(lt.e.r=ot.r),lt.s.c>ot.c&&(lt.s.c=ot.c),lt.e.c<ot.c&&(lt.e.c=ot.c);var ct=encode_range(lt);ct!==et["!ref"]&&(et["!ref"]=ct)}it.c||(it.c=[]);var ut={a:st.author,t:st.t,r:st.r,T:rt};st.h&&(ut.h=st.h);for(var dt=it.c.length-1;dt>=0;--dt){if(!rt&&it.c[dt].T)return;rt&&!it.c[dt].T&&it.c.splice(dt,1)}if(rt&&nt){for(dt=0;dt<nt.length;++dt)if(ut.a==nt[dt].id){ut.a=nt[dt].name||ut.a;break}}it.c.push(ut)})}function parse_comments_xml(et,tt){if(et.match(/<(?:\w+:)?comments *\/>/))return[];var rt=[],nt=[],at=et.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);at&&at[1]&&at[1].split(/<\/\w*:?author>/).forEach(function(st){if(!(st===""||st.trim()==="")){var ot=st.match(/<(?:\w+:)?author[^>]*>(.*)/);ot&&rt.push(ot[1])}});var it=et.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return it&&it[1]&&it[1].split(/<\/\w*:?comment>/).forEach(function(st){if(!(st===""||st.trim()==="")){var ot=st.match(/<(?:\w+:)?comment[^>]*>/);if(ot){var lt=parsexmltag(ot[0]),ct={author:lt.authorId&&rt[lt.authorId]||"sheetjsghost",ref:lt.ref,guid:lt.guid},ut=decode_cell(lt.ref);if(!(tt.sheetRows&&tt.sheetRows<=ut.r)){var dt=st.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),ft=!!dt&&!!dt[1]&&parse_si(dt[1])||{r:"",t:"",h:""};ct.r=ft.r,ft.r=="<t></t>"&&(ft.t=ft.h=""),ct.t=(ft.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),tt.cellHTML&&(ct.h=ft.h),nt.push(ct)}}}}),nt}function write_comments_xml(et){var tt=[XML_HEADER,writextag("comments",null,{xmlns:XMLNS_main[0]})],rt=[];return tt.push("<authors>"),et.forEach(function(nt){nt[1].forEach(function(at){var it=escapexml(at.a);rt.indexOf(it)==-1&&(rt.push(it),tt.push("<author>"+it+"</author>")),at.T&&at.ID&&rt.indexOf("tc="+at.ID)==-1&&(rt.push("tc="+at.ID),tt.push("<author>tc="+at.ID+"</author>"))})}),rt.length==0&&(rt.push("SheetJ5"),tt.push("<author>SheetJ5</author>")),tt.push("</authors>"),tt.push("<commentList>"),et.forEach(function(nt){var at=0,it=[];if(nt[1][0]&&nt[1][0].T&&nt[1][0].ID?at=rt.indexOf("tc="+nt[1][0].ID):nt[1].forEach(function(lt){lt.a&&(at=rt.indexOf(escapexml(lt.a))),it.push(lt.t||"")}),tt.push('<comment ref="'+nt[0]+'" authorId="'+at+'"><text>'),it.length<=1)tt.push(writetag("t",escapexml(it[0]||"")));else{for(var st=`Comment:
    `+it[0]+`
`,ot=1;ot<it.length;++ot)st+=`Reply:
    `+it[ot]+`
`;tt.push(writetag("t",escapexml(st)))}tt.push("</text></comment>")}),tt.push("</commentList>"),tt.length>2&&(tt[tt.length]="</comments>",tt[1]=tt[1].replace("/>",">")),tt.join("")}function parse_tcmnt_xml(et,tt){var rt=[],nt=!1,at={},it=0;return et.replace(tagregex,function(ot,lt){var ct=parsexmltag(ot);switch(strip_ns(ct[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":at={author:ct.personId,guid:ct.id,ref:ct.ref,T:1};break;case"</threadedComment>":at.t!=null&&rt.push(at);break;case"<text>":case"<text":it=lt+ot.length;break;case"</text>":at.t=et.slice(it,lt).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":nt=!0;break;case"</mentions>":nt=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":nt=!0;break;case"</ext>":nt=!1;break;default:if(!nt&&tt.WTF)throw new Error("unrecognized "+ct[0]+" in threaded comments")}return ot}),rt}function write_tcmnt_xml(et,tt,rt){var nt=[XML_HEADER,writextag("ThreadedComments",null,{xmlns:XMLNS.TCMNT}).replace(/[\/]>/,">")];return et.forEach(function(at){var it="";(at[1]||[]).forEach(function(st,ot){if(!st.T){delete st.ID;return}st.a&&tt.indexOf(st.a)==-1&&tt.push(st.a);var lt={ref:at[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+rt.tcid++).slice(-12)+"}"};ot==0?it=lt.id:lt.parentId=it,st.ID=lt.id,st.a&&(lt.personId="{54EE7950-7262-4200-6969-"+("000000000000"+tt.indexOf(st.a)).slice(-12)+"}"),nt.push(writextag("threadedComment",writetag("text",st.t||""),lt))})}),nt.push("</ThreadedComments>"),nt.join("")}function parse_people_xml(et,tt){var rt=[],nt=!1;return et.replace(tagregex,function(it){var st=parsexmltag(it);switch(strip_ns(st[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":rt.push({name:st.displayname,id:st.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":nt=!0;break;case"</ext>":nt=!1;break;default:if(!nt&&tt.WTF)throw new Error("unrecognized "+st[0]+" in threaded comments")}return it}),rt}function write_people_xml(et){var tt=[XML_HEADER,writextag("personList",null,{xmlns:XMLNS.TCMNT,"xmlns:x":XMLNS_main[0]}).replace(/[\/]>/,">")];return et.forEach(function(rt,nt){tt.push(writextag("person",null,{displayName:rt,id:"{54EE7950-7262-4200-6969-"+("000000000000"+nt).slice(-12)+"}",userId:rt,providerId:"None"}))}),tt.push("</personList>"),tt.join("")}function parse_BrtBeginComment(et){var tt={};tt.iauthor=et.read_shift(4);var rt=parse_UncheckedRfX(et);return tt.rfx=rt.s,tt.ref=encode_cell(rt.s),et.l+=16,tt}function write_BrtBeginComment(et,tt){return tt==null&&(tt=new_buf(36)),tt.write_shift(4,et[1].iauthor),write_UncheckedRfX(et[0],tt),tt.write_shift(4,0),tt.write_shift(4,0),tt.write_shift(4,0),tt.write_shift(4,0),tt}var parse_BrtCommentAuthor=parse_XLWideString;function write_BrtCommentAuthor(et){return write_XLWideString(et.slice(0,54))}function parse_comments_bin(et,tt){var rt=[],nt=[],at={},it=!1;return recordhopper(et,function(ot,lt,ct){switch(ct){case 632:nt.push(ot);break;case 635:at=ot;break;case 637:at.t=ot.t,at.h=ot.h,at.r=ot.r;break;case 636:if(at.author=nt[at.iauthor],delete at.iauthor,tt.sheetRows&&at.rfx&&tt.sheetRows<=at.rfx.r)break;at.t||(at.t=""),delete at.rfx,rt.push(at);break;case 3072:break;case 35:it=!0;break;case 36:it=!1;break;case 37:break;case 38:break;default:if(!lt.T){if(!it||tt.WTF)throw new Error("Unexpected record 0x"+ct.toString(16))}}}),rt}function write_comments_bin(et){var tt=buf_array(),rt=[];return write_record(tt,628),write_record(tt,630),et.forEach(function(nt){nt[1].forEach(function(at){rt.indexOf(at.a)>-1||(rt.push(at.a.slice(0,54)),write_record(tt,632,write_BrtCommentAuthor(at.a)))})}),write_record(tt,631),write_record(tt,633),et.forEach(function(nt){nt[1].forEach(function(at){at.iauthor=rt.indexOf(at.a);var it={s:decode_cell(nt[0]),e:decode_cell(nt[0])};write_record(tt,635,write_BrtBeginComment([it,at])),at.t&&at.t.length>0&&write_record(tt,637,write_BrtCommentText(at)),write_record(tt,636),delete at.iauthor})}),write_record(tt,634),write_record(tt,629),tt.end()}var CT_VBA="application/vnd.ms-office.vbaProject";function make_vba_xls(et){var tt=CFB.utils.cfb_new({root:"R"});return et.FullPaths.forEach(function(rt,nt){if(!(rt.slice(-1)==="/"||!rt.match(/_VBA_PROJECT_CUR/))){var at=rt.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");CFB.utils.cfb_add(tt,at,et.FileIndex[nt].content)}}),CFB.write(tt)}function fill_vba_xls(et,tt){tt.FullPaths.forEach(function(rt,nt){if(nt!=0){var at=rt.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");at.slice(-1)!=="/"&&CFB.utils.cfb_add(et,at,tt.FileIndex[nt].content)}})}var VBAFMTS=["xlsb","xlsm","xlam","biff8","xla"];function parse_ds_bin(){return{"!type":"dialog"}}function parse_ds_xml(){return{"!type":"dialog"}}function parse_ms_bin(){return{"!type":"macro"}}function parse_ms_xml(){return{"!type":"macro"}}var rc_to_a1=function(){var et=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,tt={r:0,c:0};function rt(nt,at,it,st){var ot=!1,lt=!1;it.length==0?lt=!0:it.charAt(0)=="["&&(lt=!0,it=it.slice(1,-1)),st.length==0?ot=!0:st.charAt(0)=="["&&(ot=!0,st=st.slice(1,-1));var ct=it.length>0?parseInt(it,10)|0:0,ut=st.length>0?parseInt(st,10)|0:0;return ot?ut+=tt.c:--ut,lt?ct+=tt.r:--ct,at+(ot?"":"$")+encode_col(ut)+(lt?"":"$")+encode_row(ct)}return function(at,it){return tt=it,at.replace(et,rt)}}(),crefregex=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,a1_to_rc=function(){return function(tt,rt){return tt.replace(crefregex,function(nt,at,it,st,ot,lt){var ct=decode_col(st)-(it?0:rt.c),ut=decode_row(lt)-(ot?0:rt.r),dt=ut==0?"":ot?ut+1:"["+ut+"]",ft=ct==0?"":it?ct+1:"["+ct+"]";return at+"R"+dt+"C"+ft})}}();function shift_formula_str(et,tt){return et.replace(crefregex,function(rt,nt,at,it,st,ot){return nt+(at=="$"?at+it:encode_col(decode_col(it)+tt.c))+(st=="$"?st+ot:encode_row(decode_row(ot)+tt.r))})}function shift_formula_xlsx(et,tt,rt){var nt=decode_range(tt),at=nt.s,it=decode_cell(rt),st={r:it.r-at.r,c:it.c-at.c};return shift_formula_str(et,st)}function fuzzyfmla(et){return et.length!=1}function _xlfn(et){return et.replace(/_xlfn\./g,"")}function parseread1(et){et.l+=1}function parse_ColRelU(et,tt){var rt=et.read_shift(tt==1?1:2);return[rt&16383,rt>>14&1,rt>>15&1]}function parse_RgceArea(et,tt,rt){var nt=2;if(rt){if(rt.biff>=2&&rt.biff<=5)return parse_RgceArea_BIFF2(et);rt.biff==12&&(nt=4)}var at=et.read_shift(nt),it=et.read_shift(nt),st=parse_ColRelU(et,2),ot=parse_ColRelU(et,2);return{s:{r:at,c:st[0],cRel:st[1],rRel:st[2]},e:{r:it,c:ot[0],cRel:ot[1],rRel:ot[2]}}}function parse_RgceArea_BIFF2(et){var tt=parse_ColRelU(et,2),rt=parse_ColRelU(et,2),nt=et.read_shift(1),at=et.read_shift(1);return{s:{r:tt[0],c:nt,cRel:tt[1],rRel:tt[2]},e:{r:rt[0],c:at,cRel:rt[1],rRel:rt[2]}}}function parse_RgceAreaRel(et,tt,rt){if(rt.biff<8)return parse_RgceArea_BIFF2(et);var nt=et.read_shift(rt.biff==12?4:2),at=et.read_shift(rt.biff==12?4:2),it=parse_ColRelU(et,2),st=parse_ColRelU(et,2);return{s:{r:nt,c:it[0],cRel:it[1],rRel:it[2]},e:{r:at,c:st[0],cRel:st[1],rRel:st[2]}}}function parse_RgceLoc(et,tt,rt){if(rt&&rt.biff>=2&&rt.biff<=5)return parse_RgceLoc_BIFF2(et);var nt=et.read_shift(rt&&rt.biff==12?4:2),at=parse_ColRelU(et,2);return{r:nt,c:at[0],cRel:at[1],rRel:at[2]}}function parse_RgceLoc_BIFF2(et){var tt=parse_ColRelU(et,2),rt=et.read_shift(1);return{r:tt[0],c:rt,cRel:tt[1],rRel:tt[2]}}function parse_RgceElfLoc(et){var tt=et.read_shift(2),rt=et.read_shift(2);return{r:tt,c:rt&255,fQuoted:!!(rt&16384),cRel:rt>>15,rRel:rt>>15}}function parse_RgceLocRel(et,tt,rt){var nt=rt&&rt.biff?rt.biff:8;if(nt>=2&&nt<=5)return parse_RgceLocRel_BIFF2(et);var at=et.read_shift(nt>=12?4:2),it=et.read_shift(2),st=(it&16384)>>14,ot=(it&32768)>>15;if(it&=16383,ot==1)for(;at>524287;)at-=1048576;if(st==1)for(;it>8191;)it=it-16384;return{r:at,c:it,cRel:st,rRel:ot}}function parse_RgceLocRel_BIFF2(et){var tt=et.read_shift(2),rt=et.read_shift(1),nt=(tt&32768)>>15,at=(tt&16384)>>14;return tt&=16383,nt==1&&tt>=8192&&(tt=tt-16384),at==1&&rt>=128&&(rt=rt-256),{r:tt,c:rt,cRel:at,rRel:nt}}function parse_PtgArea(et,tt,rt){var nt=(et[et.l++]&96)>>5,at=parse_RgceArea(et,rt.biff>=2&&rt.biff<=5?6:8,rt);return[nt,at]}function parse_PtgArea3d(et,tt,rt){var nt=(et[et.l++]&96)>>5,at=et.read_shift(2,"i"),it=8;if(rt)switch(rt.biff){case 5:et.l+=12,it=6;break;case 12:it=12;break}var st=parse_RgceArea(et,it,rt);return[nt,at,st]}function parse_PtgAreaErr(et,tt,rt){var nt=(et[et.l++]&96)>>5;return et.l+=rt&&rt.biff>8?12:rt.biff<8?6:8,[nt]}function parse_PtgAreaErr3d(et,tt,rt){var nt=(et[et.l++]&96)>>5,at=et.read_shift(2),it=8;if(rt)switch(rt.biff){case 5:et.l+=12,it=6;break;case 12:it=12;break}return et.l+=it,[nt,at]}function parse_PtgAreaN(et,tt,rt){var nt=(et[et.l++]&96)>>5,at=parse_RgceAreaRel(et,tt-1,rt);return[nt,at]}function parse_PtgArray(et,tt,rt){var nt=(et[et.l++]&96)>>5;return et.l+=rt.biff==2?6:rt.biff==12?14:7,[nt]}function parse_PtgAttrBaxcel(et){var tt=et[et.l+1]&1,rt=1;return et.l+=4,[tt,rt]}function parse_PtgAttrChoose(et,tt,rt){et.l+=2;for(var nt=et.read_shift(rt&&rt.biff==2?1:2),at=[],it=0;it<=nt;++it)at.push(et.read_shift(rt&&rt.biff==2?1:2));return at}function parse_PtgAttrGoto(et,tt,rt){var nt=et[et.l+1]&255?1:0;return et.l+=2,[nt,et.read_shift(rt&&rt.biff==2?1:2)]}function parse_PtgAttrIf(et,tt,rt){var nt=et[et.l+1]&255?1:0;return et.l+=2,[nt,et.read_shift(rt&&rt.biff==2?1:2)]}function parse_PtgAttrIfError(et){var tt=et[et.l+1]&255?1:0;return et.l+=2,[tt,et.read_shift(2)]}function parse_PtgAttrSemi(et,tt,rt){var nt=et[et.l+1]&255?1:0;return et.l+=rt&&rt.biff==2?3:4,[nt]}function parse_PtgAttrSpaceType(et){var tt=et.read_shift(1),rt=et.read_shift(1);return[tt,rt]}function parse_PtgAttrSpace(et){return et.read_shift(2),parse_PtgAttrSpaceType(et)}function parse_PtgAttrSpaceSemi(et){return et.read_shift(2),parse_PtgAttrSpaceType(et)}function parse_PtgRef(et,tt,rt){var nt=(et[et.l]&96)>>5;et.l+=1;var at=parse_RgceLoc(et,0,rt);return[nt,at]}function parse_PtgRefN(et,tt,rt){var nt=(et[et.l]&96)>>5;et.l+=1;var at=parse_RgceLocRel(et,0,rt);return[nt,at]}function parse_PtgRef3d(et,tt,rt){var nt=(et[et.l]&96)>>5;et.l+=1;var at=et.read_shift(2);rt&&rt.biff==5&&(et.l+=12);var it=parse_RgceLoc(et,0,rt);return[nt,at,it]}function parse_PtgFunc(et,tt,rt){var nt=(et[et.l]&96)>>5;et.l+=1;var at=et.read_shift(rt&&rt.biff<=3?1:2);return[FtabArgc[at],Ftab[at],nt]}function parse_PtgFuncVar(et,tt,rt){var nt=et[et.l++],at=et.read_shift(1),it=rt&&rt.biff<=3?[nt==88?-1:0,et.read_shift(1)]:parsetab(et);return[at,(it[0]===0?Ftab:Cetab)[it[1]]]}function parsetab(et){return[et[et.l+1]>>7,et.read_shift(2)&32767]}function parse_PtgAttrSum(et,tt,rt){et.l+=rt&&rt.biff==2?3:4}function parse_PtgExp(et,tt,rt){if(et.l++,rt&&rt.biff==12)return[et.read_shift(4,"i"),0];var nt=et.read_shift(2),at=et.read_shift(rt&&rt.biff==2?1:2);return[nt,at]}function parse_PtgErr(et){return et.l++,BErr[et.read_shift(1)]}function parse_PtgInt(et){return et.l++,et.read_shift(2)}function parse_PtgBool(et){return et.l++,et.read_shift(1)!==0}function parse_PtgNum(et){return et.l++,parse_Xnum(et)}function parse_PtgStr(et,tt,rt){return et.l++,parse_ShortXLUnicodeString(et,tt-1,rt)}function parse_SerAr(et,tt){var rt=[et.read_shift(1)];if(tt==12)switch(rt[0]){case 2:rt[0]=4;break;case 4:rt[0]=16;break;case 0:rt[0]=1;break;case 1:rt[0]=2;break}switch(rt[0]){case 4:rt[1]=parsebool(et,1)?"TRUE":"FALSE",tt!=12&&(et.l+=7);break;case 37:case 16:rt[1]=BErr[et[et.l]],et.l+=tt==12?4:8;break;case 0:et.l+=8;break;case 1:rt[1]=parse_Xnum(et);break;case 2:rt[1]=parse_XLUnicodeString2(et,0,{biff:tt>0&&tt<8?2:tt});break;default:throw new Error("Bad SerAr: "+rt[0])}return rt}function parse_PtgExtraMem(et,tt,rt){for(var nt=et.read_shift(rt.biff==12?4:2),at=[],it=0;it!=nt;++it)at.push((rt.biff==12?parse_UncheckedRfX:parse_Ref8U)(et));return at}function parse_PtgExtraArray(et,tt,rt){var nt=0,at=0;rt.biff==12?(nt=et.read_shift(4),at=et.read_shift(4)):(at=1+et.read_shift(1),nt=1+et.read_shift(2)),rt.biff>=2&&rt.biff<8&&(--nt,--at==0&&(at=256));for(var it=0,st=[];it!=nt&&(st[it]=[]);++it)for(var ot=0;ot!=at;++ot)st[it][ot]=parse_SerAr(et,rt.biff);return st}function parse_PtgName(et,tt,rt){var nt=et.read_shift(1)>>>5&3,at=!rt||rt.biff>=8?4:2,it=et.read_shift(at);switch(rt.biff){case 2:et.l+=5;break;case 3:case 4:et.l+=8;break;case 5:et.l+=12;break}return[nt,0,it]}function parse_PtgNameX(et,tt,rt){if(rt.biff==5)return parse_PtgNameX_BIFF5(et);var nt=et.read_shift(1)>>>5&3,at=et.read_shift(2),it=et.read_shift(4);return[nt,at,it]}function parse_PtgNameX_BIFF5(et){var tt=et.read_shift(1)>>>5&3,rt=et.read_shift(2,"i");et.l+=8;var nt=et.read_shift(2);return et.l+=12,[tt,rt,nt]}function parse_PtgMemArea(et,tt,rt){var nt=et.read_shift(1)>>>5&3;et.l+=rt&&rt.biff==2?3:4;var at=et.read_shift(rt&&rt.biff==2?1:2);return[nt,at]}function parse_PtgMemFunc(et,tt,rt){var nt=et.read_shift(1)>>>5&3,at=et.read_shift(rt&&rt.biff==2?1:2);return[nt,at]}function parse_PtgRefErr(et,tt,rt){var nt=et.read_shift(1)>>>5&3;return et.l+=4,rt.biff<8&&et.l--,rt.biff==12&&(et.l+=2),[nt]}function parse_PtgRefErr3d(et,tt,rt){var nt=(et[et.l++]&96)>>5,at=et.read_shift(2),it=4;if(rt)switch(rt.biff){case 5:it=15;break;case 12:it=6;break}return et.l+=it,[nt,at]}var parse_PtgMemErr=parsenoop,parse_PtgMemNoMem=parsenoop,parse_PtgTbl=parsenoop;function parse_PtgElfLoc(et,tt,rt){return et.l+=2,[parse_RgceElfLoc(et)]}function parse_PtgElfNoop(et){return et.l+=6,[]}var parse_PtgElfCol=parse_PtgElfLoc,parse_PtgElfColS=parse_PtgElfNoop,parse_PtgElfColSV=parse_PtgElfNoop,parse_PtgElfColV=parse_PtgElfLoc;function parse_PtgElfLel(et){return et.l+=2,[parseuint16(et),et.read_shift(2)&1]}var parse_PtgElfRadical=parse_PtgElfLoc,parse_PtgElfRadicalLel=parse_PtgElfLel,parse_PtgElfRadicalS=parse_PtgElfNoop,parse_PtgElfRw=parse_PtgElfLoc,parse_PtgElfRwV=parse_PtgElfLoc,PtgListRT=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function parse_PtgList(et){et.l+=2;var tt=et.read_shift(2),rt=et.read_shift(2),nt=et.read_shift(4),at=et.read_shift(2),it=et.read_shift(2),st=PtgListRT[rt>>2&31];return{ixti:tt,coltype:rt&3,rt:st,idx:nt,c:at,C:it}}function parse_PtgSxName(et){return et.l+=2,[et.read_shift(4)]}function parse_PtgSheet(et,tt,rt){return et.l+=5,et.l+=2,et.l+=rt.biff==2?1:4,["PTGSHEET"]}function parse_PtgEndSheet(et,tt,rt){return et.l+=rt.biff==2?4:5,["PTGENDSHEET"]}function parse_PtgMemAreaN(et){var tt=et.read_shift(1)>>>5&3,rt=et.read_shift(2);return[tt,rt]}function parse_PtgMemNoMemN(et){var tt=et.read_shift(1)>>>5&3,rt=et.read_shift(2);return[tt,rt]}function parse_PtgAttrNoop(et){return et.l+=4,[0,0]}var PtgTypes={1:{n:"PtgExp",f:parse_PtgExp},2:{n:"PtgTbl",f:parse_PtgTbl},3:{n:"PtgAdd",f:parseread1},4:{n:"PtgSub",f:parseread1},5:{n:"PtgMul",f:parseread1},6:{n:"PtgDiv",f:parseread1},7:{n:"PtgPower",f:parseread1},8:{n:"PtgConcat",f:parseread1},9:{n:"PtgLt",f:parseread1},10:{n:"PtgLe",f:parseread1},11:{n:"PtgEq",f:parseread1},12:{n:"PtgGe",f:parseread1},13:{n:"PtgGt",f:parseread1},14:{n:"PtgNe",f:parseread1},15:{n:"PtgIsect",f:parseread1},16:{n:"PtgUnion",f:parseread1},17:{n:"PtgRange",f:parseread1},18:{n:"PtgUplus",f:parseread1},19:{n:"PtgUminus",f:parseread1},20:{n:"PtgPercent",f:parseread1},21:{n:"PtgParen",f:parseread1},22:{n:"PtgMissArg",f:parseread1},23:{n:"PtgStr",f:parse_PtgStr},26:{n:"PtgSheet",f:parse_PtgSheet},27:{n:"PtgEndSheet",f:parse_PtgEndSheet},28:{n:"PtgErr",f:parse_PtgErr},29:{n:"PtgBool",f:parse_PtgBool},30:{n:"PtgInt",f:parse_PtgInt},31:{n:"PtgNum",f:parse_PtgNum},32:{n:"PtgArray",f:parse_PtgArray},33:{n:"PtgFunc",f:parse_PtgFunc},34:{n:"PtgFuncVar",f:parse_PtgFuncVar},35:{n:"PtgName",f:parse_PtgName},36:{n:"PtgRef",f:parse_PtgRef},37:{n:"PtgArea",f:parse_PtgArea},38:{n:"PtgMemArea",f:parse_PtgMemArea},39:{n:"PtgMemErr",f:parse_PtgMemErr},40:{n:"PtgMemNoMem",f:parse_PtgMemNoMem},41:{n:"PtgMemFunc",f:parse_PtgMemFunc},42:{n:"PtgRefErr",f:parse_PtgRefErr},43:{n:"PtgAreaErr",f:parse_PtgAreaErr},44:{n:"PtgRefN",f:parse_PtgRefN},45:{n:"PtgAreaN",f:parse_PtgAreaN},46:{n:"PtgMemAreaN",f:parse_PtgMemAreaN},47:{n:"PtgMemNoMemN",f:parse_PtgMemNoMemN},57:{n:"PtgNameX",f:parse_PtgNameX},58:{n:"PtgRef3d",f:parse_PtgRef3d},59:{n:"PtgArea3d",f:parse_PtgArea3d},60:{n:"PtgRefErr3d",f:parse_PtgRefErr3d},61:{n:"PtgAreaErr3d",f:parse_PtgAreaErr3d},255:{}},PtgDupes={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Ptg18={1:{n:"PtgElfLel",f:parse_PtgElfLel},2:{n:"PtgElfRw",f:parse_PtgElfRw},3:{n:"PtgElfCol",f:parse_PtgElfCol},6:{n:"PtgElfRwV",f:parse_PtgElfRwV},7:{n:"PtgElfColV",f:parse_PtgElfColV},10:{n:"PtgElfRadical",f:parse_PtgElfRadical},11:{n:"PtgElfRadicalS",f:parse_PtgElfRadicalS},13:{n:"PtgElfColS",f:parse_PtgElfColS},15:{n:"PtgElfColSV",f:parse_PtgElfColSV},16:{n:"PtgElfRadicalLel",f:parse_PtgElfRadicalLel},25:{n:"PtgList",f:parse_PtgList},29:{n:"PtgSxName",f:parse_PtgSxName},255:{}},Ptg19={0:{n:"PtgAttrNoop",f:parse_PtgAttrNoop},1:{n:"PtgAttrSemi",f:parse_PtgAttrSemi},2:{n:"PtgAttrIf",f:parse_PtgAttrIf},4:{n:"PtgAttrChoose",f:parse_PtgAttrChoose},8:{n:"PtgAttrGoto",f:parse_PtgAttrGoto},16:{n:"PtgAttrSum",f:parse_PtgAttrSum},32:{n:"PtgAttrBaxcel",f:parse_PtgAttrBaxcel},33:{n:"PtgAttrBaxcel",f:parse_PtgAttrBaxcel},64:{n:"PtgAttrSpace",f:parse_PtgAttrSpace},65:{n:"PtgAttrSpaceSemi",f:parse_PtgAttrSpaceSemi},128:{n:"PtgAttrIfError",f:parse_PtgAttrIfError},255:{}};function parse_RgbExtra(et,tt,rt,nt){if(nt.biff<8)return parsenoop(et,tt);for(var at=et.l+tt,it=[],st=0;st!==rt.length;++st)switch(rt[st][0]){case"PtgArray":rt[st][1]=parse_PtgExtraArray(et,0,nt),it.push(rt[st][1]);break;case"PtgMemArea":rt[st][2]=parse_PtgExtraMem(et,rt[st][1],nt),it.push(rt[st][2]);break;case"PtgExp":nt&&nt.biff==12&&(rt[st][1][1]=et.read_shift(4),it.push(rt[st][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+rt[st][0]}return tt=at-et.l,tt!==0&&it.push(parsenoop(et,tt)),it}function parse_Rgce(et,tt,rt){for(var nt=et.l+tt,at,it,st=[];nt!=et.l;)tt=nt-et.l,it=et[et.l],at=PtgTypes[it]||PtgTypes[PtgDupes[it]],(it===24||it===25)&&(at=(it===24?Ptg18:Ptg19)[et[et.l+1]]),!at||!at.f?parsenoop(et,tt):st.push([at.n,at.f(et,tt,rt)]);return st}function stringify_array(et){for(var tt=[],rt=0;rt<et.length;++rt){for(var nt=et[rt],at=[],it=0;it<nt.length;++it){var st=nt[it];if(st)switch(st[0]){case 2:at.push('"'+st[1].replace(/"/g,'""')+'"');break;default:at.push(st[1])}else at.push("")}tt.push(at.join(","))}return tt.join(";")}var PtgBinOp={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function formula_quote_sheet_name(et,tt){if(!et&&!(tt&&tt.biff<=5&&tt.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(et)?"'"+et+"'":et}function get_ixti_raw(et,tt,rt){if(!et)return"SH33TJSERR0";if(rt.biff>8&&(!et.XTI||!et.XTI[tt]))return et.SheetNames[tt];if(!et.XTI)return"SH33TJSERR6";var nt=et.XTI[tt];if(rt.biff<8)return tt>1e4&&(tt-=65536),tt<0&&(tt=-tt),tt==0?"":et.XTI[tt-1];if(!nt)return"SH33TJSERR1";var at="";if(rt.biff>8)switch(et[nt[0]][0]){case 357:return at=nt[1]==-1?"#REF":et.SheetNames[nt[1]],nt[1]==nt[2]?at:at+":"+et.SheetNames[nt[2]];case 358:return rt.SID!=null?et.SheetNames[rt.SID]:"SH33TJSSAME"+et[nt[0]][0];case 355:default:return"SH33TJSSRC"+et[nt[0]][0]}switch(et[nt[0]][0][0]){case 1025:return at=nt[1]==-1?"#REF":et.SheetNames[nt[1]]||"SH33TJSERR3",nt[1]==nt[2]?at:at+":"+et.SheetNames[nt[2]];case 14849:return et[nt[0]].slice(1).map(function(it){return it.Name}).join(";;");default:return et[nt[0]][0][3]?(at=nt[1]==-1?"#REF":et[nt[0]][0][3][nt[1]]||"SH33TJSERR4",nt[1]==nt[2]?at:at+":"+et[nt[0]][0][3][nt[2]]):"SH33TJSERR2"}}function get_ixti(et,tt,rt){var nt=get_ixti_raw(et,tt,rt);return nt=="#REF"?nt:formula_quote_sheet_name(nt,rt)}function stringify_formula(et,tt,rt,nt,at){var it=at&&at.biff||8,st={s:{c:0,r:0},e:{c:0,r:0}},ot=[],lt,ct,ut,dt=0,ft=0,ht,gt="";if(!et[0]||!et[0][0])return"";for(var mt=-1,xt="",vt=0,_t=et[0].length;vt<_t;++vt){var yt=et[0][vt];switch(yt[0]){case"PtgUminus":ot.push("-"+ot.pop());break;case"PtgUplus":ot.push("+"+ot.pop());break;case"PtgPercent":ot.push(ot.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(lt=ot.pop(),ct=ot.pop(),mt>=0){switch(et[0][mt][1][0]){case 0:xt=fill$1(" ",et[0][mt][1][1]);break;case 1:xt=fill$1("\r",et[0][mt][1][1]);break;default:if(xt="",at.WTF)throw new Error("Unexpected PtgAttrSpaceType "+et[0][mt][1][0])}ct=ct+xt,mt=-1}ot.push(ct+PtgBinOp[yt[0]]+lt);break;case"PtgIsect":lt=ot.pop(),ct=ot.pop(),ot.push(ct+" "+lt);break;case"PtgUnion":lt=ot.pop(),ct=ot.pop(),ot.push(ct+","+lt);break;case"PtgRange":lt=ot.pop(),ct=ot.pop(),ot.push(ct+":"+lt);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":ut=shift_cell_xls(yt[1][1],st,at),ot.push(encode_cell_xls(ut,it));break;case"PtgRefN":ut=rt?shift_cell_xls(yt[1][1],rt,at):yt[1][1],ot.push(encode_cell_xls(ut,it));break;case"PtgRef3d":dt=yt[1][1],ut=shift_cell_xls(yt[1][2],st,at),gt=get_ixti(nt,dt,at),ot.push(gt+"!"+encode_cell_xls(ut,it));break;case"PtgFunc":case"PtgFuncVar":var St=yt[1][0],bt=yt[1][1];St||(St=0),St&=127;var Et=St==0?[]:ot.slice(-St);ot.length-=St,bt==="User"&&(bt=Et.shift()),ot.push(bt+"("+Et.join(",")+")");break;case"PtgBool":ot.push(yt[1]?"TRUE":"FALSE");break;case"PtgInt":ot.push(yt[1]);break;case"PtgNum":ot.push(String(yt[1]));break;case"PtgStr":ot.push('"'+yt[1].replace(/"/g,'""')+'"');break;case"PtgErr":ot.push(yt[1]);break;case"PtgAreaN":ht=shift_range_xls(yt[1][1],rt?{s:rt}:st,at),ot.push(encode_range_xls(ht,at));break;case"PtgArea":ht=shift_range_xls(yt[1][1],st,at),ot.push(encode_range_xls(ht,at));break;case"PtgArea3d":dt=yt[1][1],ht=yt[1][2],gt=get_ixti(nt,dt,at),ot.push(gt+"!"+encode_range_xls(ht,at));break;case"PtgAttrSum":ot.push("SUM("+ot.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":ft=yt[1][2];var Tt=(nt.names||[])[ft-1]||(nt[0]||[])[ft],At=Tt?Tt.Name:"SH33TJSNAME"+String(ft);At&&At.slice(0,6)=="_xlfn."&&!at.xlfn&&(At=At.slice(6)),ot.push(At);break;case"PtgNameX":var Ct=yt[1][1];ft=yt[1][2];var kt;if(at.biff<=5)Ct<0&&(Ct=-Ct),nt[Ct]&&(kt=nt[Ct][ft]);else{var Pt="";if(((nt[Ct]||[])[0]||[])[0]==14849||(((nt[Ct]||[])[0]||[])[0]==1025?nt[Ct][ft]&&nt[Ct][ft].itab>0&&(Pt=nt.SheetNames[nt[Ct][ft].itab-1]+"!"):Pt=nt.SheetNames[ft-1]+"!"),nt[Ct]&&nt[Ct][ft])Pt+=nt[Ct][ft].Name;else if(nt[0]&&nt[0][ft])Pt+=nt[0][ft].Name;else{var Dt=(get_ixti_raw(nt,Ct,at)||"").split(";;");Dt[ft-1]?Pt=Dt[ft-1]:Pt+="SH33TJSERRX"}ot.push(Pt);break}kt||(kt={Name:"SH33TJSERRY"}),ot.push(kt.Name);break;case"PtgParen":var Ft="(",Ot=")";if(mt>=0){switch(xt="",et[0][mt][1][0]){case 2:Ft=fill$1(" ",et[0][mt][1][1])+Ft;break;case 3:Ft=fill$1("\r",et[0][mt][1][1])+Ft;break;case 4:Ot=fill$1(" ",et[0][mt][1][1])+Ot;break;case 5:Ot=fill$1("\r",et[0][mt][1][1])+Ot;break;default:if(at.WTF)throw new Error("Unexpected PtgAttrSpaceType "+et[0][mt][1][0])}mt=-1}ot.push(Ft+ot.pop()+Ot);break;case"PtgRefErr":ot.push("#REF!");break;case"PtgRefErr3d":ot.push("#REF!");break;case"PtgExp":ut={c:yt[1][1],r:yt[1][0]};var It={c:rt.c,r:rt.r};if(nt.sharedf[encode_cell(ut)]){var Bt=nt.sharedf[encode_cell(ut)];ot.push(stringify_formula(Bt,st,It,nt,at))}else{var qt=!1;for(lt=0;lt!=nt.arrayf.length;++lt)if(ct=nt.arrayf[lt],!(ut.c<ct[0].s.c||ut.c>ct[0].e.c)&&!(ut.r<ct[0].s.r||ut.r>ct[0].e.r)){ot.push(stringify_formula(ct[1],st,It,nt,at)),qt=!0;break}qt||ot.push(yt[1])}break;case"PtgArray":ot.push("{"+stringify_array(yt[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":mt=vt;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":ot.push("");break;case"PtgAreaErr":ot.push("#REF!");break;case"PtgAreaErr3d":ot.push("#REF!");break;case"PtgList":ot.push("Table"+yt[1].idx+"[#"+yt[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(yt));default:throw new Error("Unrecognized Formula Token: "+String(yt))}var Ut=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(at.biff!=3&&mt>=0&&Ut.indexOf(et[0][vt][0])==-1){yt=et[0][mt];var Ht=!0;switch(yt[1][0]){case 4:Ht=!1;case 0:xt=fill$1(" ",yt[1][1]);break;case 5:Ht=!1;case 1:xt=fill$1("\r",yt[1][1]);break;default:if(xt="",at.WTF)throw new Error("Unexpected PtgAttrSpaceType "+yt[1][0])}ot.push((Ht?xt:"")+ot.pop()+(Ht?"":xt)),mt=-1}}if(ot.length>1&&at.WTF)throw new Error("bad formula stack");return ot[0]}function parse_ArrayParsedFormula(et,tt,rt){var nt=et.l+tt,at=rt.biff==2?1:2,it,st=et.read_shift(at);if(st==65535)return[[],parsenoop(et,tt-2)];var ot=parse_Rgce(et,st,rt);return tt!==st+at&&(it=parse_RgbExtra(et,tt-st-at,ot,rt)),et.l=nt,[ot,it]}function parse_XLSCellParsedFormula(et,tt,rt){var nt=et.l+tt,at=rt.biff==2?1:2,it,st=et.read_shift(at);if(st==65535)return[[],parsenoop(et,tt-2)];var ot=parse_Rgce(et,st,rt);return tt!==st+at&&(it=parse_RgbExtra(et,tt-st-at,ot,rt)),et.l=nt,[ot,it]}function parse_NameParsedFormula(et,tt,rt,nt){var at=et.l+tt,it=parse_Rgce(et,nt,rt),st;return at!==et.l&&(st=parse_RgbExtra(et,at-et.l,it,rt)),[it,st]}function parse_SharedParsedFormula(et,tt,rt){var nt=et.l+tt,at,it=et.read_shift(2),st=parse_Rgce(et,it,rt);return it==65535?[[],parsenoop(et,tt-2)]:(tt!==it+2&&(at=parse_RgbExtra(et,nt-it-2,st,rt)),[st,at])}function parse_FormulaValue(et){var tt;if(__readUInt16LE(et,et.l+6)!==65535)return[parse_Xnum(et),"n"];switch(et[et.l]){case 0:return et.l+=8,["String","s"];case 1:return tt=et[et.l+2]===1,et.l+=8,[tt,"b"];case 2:return tt=et[et.l+2],et.l+=8,[tt,"e"];case 3:return et.l+=8,["","s"]}return[]}function write_FormulaValue(et){if(et==null){var tt=new_buf(8);return tt.write_shift(1,3),tt.write_shift(1,0),tt.write_shift(2,0),tt.write_shift(2,0),tt.write_shift(2,65535),tt}else if(typeof et=="number")return write_Xnum(et);return write_Xnum(0)}function parse_Formula(et,tt,rt){var nt=et.l+tt,at=parse_XLSCell(et);rt.biff==2&&++et.l;var it=parse_FormulaValue(et),st=et.read_shift(1);rt.biff!=2&&(et.read_shift(1),rt.biff>=5&&et.read_shift(4));var ot=parse_XLSCellParsedFormula(et,nt-et.l,rt);return{cell:at,val:it[0],formula:ot,shared:st>>3&1,tt:it[1]}}function write_Formula(et,tt,rt,nt,at){var it=write_XLSCell(tt,rt,at),st=write_FormulaValue(et.v),ot=new_buf(6),lt=33;ot.write_shift(2,lt),ot.write_shift(4,0);for(var ct=new_buf(et.bf.length),ut=0;ut<et.bf.length;++ut)ct[ut]=et.bf[ut];var dt=bconcat([it,st,ot,ct]);return dt}function parse_XLSBParsedFormula(et,tt,rt){var nt=et.read_shift(4),at=parse_Rgce(et,nt,rt),it=et.read_shift(4),st=it>0?parse_RgbExtra(et,it,at,rt):null;return[at,st]}var parse_XLSBArrayParsedFormula=parse_XLSBParsedFormula,parse_XLSBCellParsedFormula=parse_XLSBParsedFormula,parse_XLSBNameParsedFormula=parse_XLSBParsedFormula,parse_XLSBSharedParsedFormula=parse_XLSBParsedFormula,Cetab={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Ftab={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},FtabArgc={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function ods_to_csf_formula(et){return et.slice(0,3)=="of:"&&(et=et.slice(3)),et.charCodeAt(0)==61&&(et=et.slice(1),et.charCodeAt(0)==61&&(et=et.slice(1))),et=et.replace(/COM\.MICROSOFT\./g,""),et=et.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(tt,rt){return rt.replace(/\./g,"")}),et=et.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),et.replace(/[;~]/g,",").replace(/\|/g,";")}function csf_to_ods_formula(et){var tt="of:="+et.replace(crefregex,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return tt.replace(/;/g,"|").replace(/,/g,";")}function ods_to_csf_3D(et){var tt=et.split(":"),rt=tt[0].split(".")[0];return[rt,tt[0].split(".")[1]+(tt.length>1?":"+(tt[1].split(".")[1]||tt[1].split(".")[0]):"")]}function csf_to_ods_3D(et){return et.replace(/\./,"!")}var strs={},_ssfopts={},browser_has_Map=typeof Map<"u";function get_sst_id(et,tt,rt){var nt=0,at=et.length;if(rt){if(browser_has_Map?rt.has(tt):Object.prototype.hasOwnProperty.call(rt,tt)){for(var it=browser_has_Map?rt.get(tt):rt[tt];nt<it.length;++nt)if(et[it[nt]].t===tt)return et.Count++,it[nt]}}else for(;nt<at;++nt)if(et[nt].t===tt)return et.Count++,nt;return et[at]={t:tt},et.Count++,et.Unique++,rt&&(browser_has_Map?(rt.has(tt)||rt.set(tt,[]),rt.get(tt).push(at)):(Object.prototype.hasOwnProperty.call(rt,tt)||(rt[tt]=[]),rt[tt].push(at))),at}function col_obj_w(et,tt){var rt={min:et+1,max:et+1},nt=-1;return tt.MDW&&(MDW=tt.MDW),tt.width!=null?rt.customWidth=1:tt.wpx!=null?nt=px2char(tt.wpx):tt.wch!=null&&(nt=tt.wch),nt>-1?(rt.width=char2width(nt),rt.customWidth=1):tt.width!=null&&(rt.width=tt.width),tt.hidden&&(rt.hidden=!0),tt.level!=null&&(rt.outlineLevel=rt.level=tt.level),rt}function default_margins(et,tt){if(et){var rt=[.7,.7,.75,.75,.3,.3];tt=="xlml"&&(rt=[1,1,1,1,.5,.5]),et.left==null&&(et.left=rt[0]),et.right==null&&(et.right=rt[1]),et.top==null&&(et.top=rt[2]),et.bottom==null&&(et.bottom=rt[3]),et.header==null&&(et.header=rt[4]),et.footer==null&&(et.footer=rt[5])}}function get_cell_style(et,tt,rt){var nt=rt.revssf[tt.z!=null?tt.z:"General"],at=60,it=et.length;if(nt==null&&rt.ssf){for(;at<392;++at)if(rt.ssf[at]==null){SSF_load(tt.z,at),rt.ssf[at]=tt.z,rt.revssf[tt.z]=nt=at;break}}for(at=0;at!=it;++at)if(et[at].numFmtId===nt)return at;return et[it]={numFmtId:nt,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},it}function safe_format(et,tt,rt,nt,at,it){try{nt.cellNF&&(et.z=table_fmt[tt])}catch(ot){if(nt.WTF)throw ot}if(!(et.t==="z"&&!nt.cellStyles)){if(et.t==="d"&&typeof et.v=="string"&&(et.v=parseDate$1(et.v)),(!nt||nt.cellText!==!1)&&et.t!=="z")try{if(table_fmt[tt]==null&&SSF_load(SSFImplicit[tt]||"General",tt),et.t==="e")et.w=et.w||BErr[et.v];else if(tt===0)if(et.t==="n")(et.v|0)===et.v?et.w=et.v.toString(10):et.w=SSF_general_num(et.v);else if(et.t==="d"){var st=datenum(et.v);(st|0)===st?et.w=st.toString(10):et.w=SSF_general_num(st)}else{if(et.v===void 0)return"";et.w=SSF_general(et.v,_ssfopts)}else et.t==="d"?et.w=SSF_format(tt,datenum(et.v),_ssfopts):et.w=SSF_format(tt,et.v,_ssfopts)}catch(ot){if(nt.WTF)throw ot}if(nt.cellStyles&&rt!=null)try{et.s=it.Fills[rt],et.s.fgColor&&et.s.fgColor.theme&&!et.s.fgColor.rgb&&(et.s.fgColor.rgb=rgb_tint(at.themeElements.clrScheme[et.s.fgColor.theme].rgb,et.s.fgColor.tint||0),nt.WTF&&(et.s.fgColor.raw_rgb=at.themeElements.clrScheme[et.s.fgColor.theme].rgb)),et.s.bgColor&&et.s.bgColor.theme&&(et.s.bgColor.rgb=rgb_tint(at.themeElements.clrScheme[et.s.bgColor.theme].rgb,et.s.bgColor.tint||0),nt.WTF&&(et.s.bgColor.raw_rgb=at.themeElements.clrScheme[et.s.bgColor.theme].rgb))}catch(ot){if(nt.WTF&&it.Fills)throw ot}}}function check_ws(et,tt,rt){if(et&&et["!ref"]){var nt=safe_decode_range(et["!ref"]);if(nt.e.c<nt.s.c||nt.e.r<nt.s.r)throw new Error("Bad range ("+rt+"): "+et["!ref"])}}function parse_ws_xml_dim(et,tt){var rt=safe_decode_range(tt);rt.s.r<=rt.e.r&&rt.s.c<=rt.e.c&&rt.s.r>=0&&rt.s.c>=0&&(et["!ref"]=encode_range(rt))}var mergecregex=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,sheetdataregex=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,hlinkregex=/<(?:\w:)?hyperlink [^>]*>/mg,dimregex=/"(\w*:\w*)"/,colregex=/<(?:\w:)?col\b[^>]*[\/]?>/g,afregex=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,marginregex=/<(?:\w:)?pageMargins[^>]*\/>/g,sheetprregex=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,sheetprregex2=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,svsregex=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function parse_ws_xml(et,tt,rt,nt,at,it,st){if(!et)return et;nt||(nt={"!id":{}});var ot=tt.dense?[]:{},lt={s:{r:2e6,c:2e6},e:{r:0,c:0}},ct="",ut="",dt=et.match(sheetdataregex);dt?(ct=et.slice(0,dt.index),ut=et.slice(dt.index+dt[0].length)):ct=ut=et;var ft=ct.match(sheetprregex);ft?parse_ws_xml_sheetpr(ft[0],ot,at,rt):(ft=ct.match(sheetprregex2))&&parse_ws_xml_sheetpr2(ft[0],ft[1]||"",ot,at,rt);var ht=(ct.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(ht>0){var gt=ct.slice(ht,ht+50).match(dimregex);gt&&parse_ws_xml_dim(ot,gt[1])}var mt=ct.match(svsregex);mt&&mt[1]&&parse_ws_xml_sheetviews(mt[1],at);var xt=[];if(tt.cellStyles){var vt=ct.match(colregex);vt&&parse_ws_xml_cols(xt,vt)}dt&&parse_ws_xml_data(dt[1],ot,tt,lt,it,st);var _t=ut.match(afregex);_t&&(ot["!autofilter"]=parse_ws_xml_autofilter(_t[0]));var yt=[],St=ut.match(mergecregex);if(St)for(ht=0;ht!=St.length;++ht)yt[ht]=safe_decode_range(St[ht].slice(St[ht].indexOf('"')+1));var bt=ut.match(hlinkregex);bt&&parse_ws_xml_hlinks(ot,bt,nt);var Et=ut.match(marginregex);if(Et&&(ot["!margins"]=parse_ws_xml_margins(parsexmltag(Et[0]))),!ot["!ref"]&&lt.e.c>=lt.s.c&&lt.e.r>=lt.s.r&&(ot["!ref"]=encode_range(lt)),tt.sheetRows>0&&ot["!ref"]){var Tt=safe_decode_range(ot["!ref"]);tt.sheetRows<=+Tt.e.r&&(Tt.e.r=tt.sheetRows-1,Tt.e.r>lt.e.r&&(Tt.e.r=lt.e.r),Tt.e.r<Tt.s.r&&(Tt.s.r=Tt.e.r),Tt.e.c>lt.e.c&&(Tt.e.c=lt.e.c),Tt.e.c<Tt.s.c&&(Tt.s.c=Tt.e.c),ot["!fullref"]=ot["!ref"],ot["!ref"]=encode_range(Tt))}return xt.length>0&&(ot["!cols"]=xt),yt.length>0&&(ot["!merges"]=yt),ot}function write_ws_xml_merges(et){if(et.length===0)return"";for(var tt='<mergeCells count="'+et.length+'">',rt=0;rt!=et.length;++rt)tt+='<mergeCell ref="'+encode_range(et[rt])+'"/>';return tt+"</mergeCells>"}function parse_ws_xml_sheetpr(et,tt,rt,nt){var at=parsexmltag(et);rt.Sheets[nt]||(rt.Sheets[nt]={}),at.codeName&&(rt.Sheets[nt].CodeName=unescapexml(utf8read(at.codeName)))}function parse_ws_xml_sheetpr2(et,tt,rt,nt,at){parse_ws_xml_sheetpr(et.slice(0,et.indexOf(">")),rt,nt,at)}function write_ws_xml_sheetpr(et,tt,rt,nt,at){var it=!1,st={},ot=null;if(nt.bookType!=="xlsx"&&tt.vbaraw){var lt=tt.SheetNames[rt];try{tt.Workbook&&(lt=tt.Workbook.Sheets[rt].CodeName||lt)}catch{}it=!0,st.codeName=utf8write(escapexml(lt))}if(et&&et["!outline"]){var ct={summaryBelow:1,summaryRight:1};et["!outline"].above&&(ct.summaryBelow=0),et["!outline"].left&&(ct.summaryRight=0),ot=(ot||"")+writextag("outlinePr",null,ct)}!it&&!ot||(at[at.length]=writextag("sheetPr",ot,st))}var sheetprot_deffalse=["objects","scenarios","selectLockedCells","selectUnlockedCells"],sheetprot_deftrue=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function write_ws_xml_protection(et){var tt={sheet:1};return sheetprot_deffalse.forEach(function(rt){et[rt]!=null&&et[rt]&&(tt[rt]="1")}),sheetprot_deftrue.forEach(function(rt){et[rt]!=null&&!et[rt]&&(tt[rt]="0")}),et.password&&(tt.password=crypto_CreatePasswordVerifier_Method1(et.password).toString(16).toUpperCase()),writextag("sheetProtection",null,tt)}function parse_ws_xml_hlinks(et,tt,rt){for(var nt=Array.isArray(et),at=0;at!=tt.length;++at){var it=parsexmltag(utf8read(tt[at]),!0);if(!it.ref)return;var st=((rt||{})["!id"]||[])[it.id];st?(it.Target=st.Target,it.location&&(it.Target+="#"+unescapexml(it.location))):(it.Target="#"+unescapexml(it.location),st={Target:it.Target,TargetMode:"Internal"}),it.Rel=st,it.tooltip&&(it.Tooltip=it.tooltip,delete it.tooltip);for(var ot=safe_decode_range(it.ref),lt=ot.s.r;lt<=ot.e.r;++lt)for(var ct=ot.s.c;ct<=ot.e.c;++ct){var ut=encode_cell({c:ct,r:lt});nt?(et[lt]||(et[lt]=[]),et[lt][ct]||(et[lt][ct]={t:"z",v:void 0}),et[lt][ct].l=it):(et[ut]||(et[ut]={t:"z",v:void 0}),et[ut].l=it)}}}function parse_ws_xml_margins(et){var tt={};return["left","right","top","bottom","header","footer"].forEach(function(rt){et[rt]&&(tt[rt]=parseFloat(et[rt]))}),tt}function write_ws_xml_margins(et){return default_margins(et),writextag("pageMargins",null,et)}function parse_ws_xml_cols(et,tt){for(var rt=!1,nt=0;nt!=tt.length;++nt){var at=parsexmltag(tt[nt],!0);at.hidden&&(at.hidden=parsexmlbool(at.hidden));var it=parseInt(at.min,10)-1,st=parseInt(at.max,10)-1;for(at.outlineLevel&&(at.level=+at.outlineLevel||0),delete at.min,delete at.max,at.width=+at.width,!rt&&at.width&&(rt=!0,find_mdw_colw(at.width)),process_col(at);it<=st;)et[it++]=dup(at)}}function write_ws_xml_cols(et,tt){for(var rt=["<cols>"],nt,at=0;at!=tt.length;++at)(nt=tt[at])&&(rt[rt.length]=writextag("col",null,col_obj_w(at,nt)));return rt[rt.length]="</cols>",rt.join("")}function parse_ws_xml_autofilter(et){var tt={ref:(et.match(/ref="([^"]*)"/)||[])[1]};return tt}function write_ws_xml_autofilter(et,tt,rt,nt){var at=typeof et.ref=="string"?et.ref:encode_range(et.ref);rt.Workbook||(rt.Workbook={Sheets:[]}),rt.Workbook.Names||(rt.Workbook.Names=[]);var it=rt.Workbook.Names,st=decode_range(at);st.s.r==st.e.r&&(st.e.r=decode_range(tt["!ref"]).e.r,at=encode_range(st));for(var ot=0;ot<it.length;++ot){var lt=it[ot];if(lt.Name=="_xlnm._FilterDatabase"&&lt.Sheet==nt){lt.Ref="'"+rt.SheetNames[nt]+"'!"+at;break}}return ot==it.length&&it.push({Name:"_xlnm._FilterDatabase",Sheet:nt,Ref:"'"+rt.SheetNames[nt]+"'!"+at}),writextag("autoFilter",null,{ref:at})}var sviewregex=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function parse_ws_xml_sheetviews(et,tt){tt.Views||(tt.Views=[{}]),(et.match(sviewregex)||[]).forEach(function(rt,nt){var at=parsexmltag(rt);tt.Views[nt]||(tt.Views[nt]={}),+at.zoomScale&&(tt.Views[nt].zoom=+at.zoomScale),parsexmlbool(at.rightToLeft)&&(tt.Views[nt].RTL=!0)})}function write_ws_xml_sheetviews(et,tt,rt,nt){var at={workbookViewId:"0"};return(((nt||{}).Workbook||{}).Views||[])[0]&&(at.rightToLeft=nt.Workbook.Views[0].RTL?"1":"0"),writextag("sheetViews",writextag("sheetView",null,at),{})}function write_ws_xml_cell(et,tt,rt,nt){if(et.c&&rt["!comments"].push([tt,et.c]),et.v===void 0&&typeof et.f!="string"||et.t==="z"&&!et.f)return"";var at="",it=et.t,st=et.v;if(et.t!=="z")switch(et.t){case"b":at=et.v?"1":"0";break;case"n":at=""+et.v;break;case"e":at=BErr[et.v];break;case"d":nt&&nt.cellDates?at=parseDate$1(et.v,-1).toISOString():(et=dup(et),et.t="n",at=""+(et.v=datenum(parseDate$1(et.v)))),typeof et.z>"u"&&(et.z=table_fmt[14]);break;default:at=et.v;break}var ot=writetag("v",escapexml(at)),lt={r:tt},ct=get_cell_style(nt.cellXfs,et,nt);switch(ct!==0&&(lt.s=ct),et.t){case"n":break;case"d":lt.t="d";break;case"b":lt.t="b";break;case"e":lt.t="e";break;case"z":break;default:if(et.v==null){delete et.t;break}if(et.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(nt&&nt.bookSST){ot=writetag("v",""+get_sst_id(nt.Strings,et.v,nt.revStrings)),lt.t="s";break}lt.t="str";break}if(et.t!=it&&(et.t=it,et.v=st),typeof et.f=="string"&&et.f){var ut=et.F&&et.F.slice(0,tt.length)==tt?{t:"array",ref:et.F}:null;ot=writextag("f",escapexml(et.f),ut)+(et.v!=null?ot:"")}return et.l&&rt["!links"].push([tt,et.l]),et.D&&(lt.cm=1),writextag("c",ot,lt)}var parse_ws_xml_data=function(){var et=/<(?:\w+:)?c[ \/>]/,tt=/<\/(?:\w+:)?row>/,rt=/r=["']([^"']*)["']/,nt=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,at=/ref=["']([^"']*)["']/,it=matchtag("v"),st=matchtag("f");return function(lt,ct,ut,dt,ft,ht){for(var gt=0,mt="",xt=[],vt=[],_t=0,yt=0,St=0,bt="",Et,Tt,At=0,Ct=0,kt,Pt,Dt=0,Ft=0,Ot=Array.isArray(ht.CellXf),It,Bt=[],qt=[],Ut=Array.isArray(ct),Ht=[],Qt={},ir=!1,Xt=!!ut.sheetStubs,Lt=lt.split(tt),jt=0,Nt=Lt.length;jt!=Nt;++jt){mt=Lt[jt].trim();var Mt=mt.length;if(Mt!==0){var Vt=0;e:for(gt=0;gt<Mt;++gt)switch(mt[gt]){case">":if(mt[gt-1]!="/"){++gt;break e}if(ut&&ut.cellStyles){if(Tt=parsexmltag(mt.slice(Vt,gt),!0),At=Tt.r!=null?parseInt(Tt.r,10):At+1,Ct=-1,ut.sheetRows&&ut.sheetRows<At)continue;Qt={},ir=!1,Tt.ht&&(ir=!0,Qt.hpt=parseFloat(Tt.ht),Qt.hpx=pt2px(Qt.hpt)),Tt.hidden=="1"&&(ir=!0,Qt.hidden=!0),Tt.outlineLevel!=null&&(ir=!0,Qt.level=+Tt.outlineLevel),ir&&(Ht[At-1]=Qt)}break;case"<":Vt=gt;break}if(Vt>=gt)break;if(Tt=parsexmltag(mt.slice(Vt,gt),!0),At=Tt.r!=null?parseInt(Tt.r,10):At+1,Ct=-1,!(ut.sheetRows&&ut.sheetRows<At)){dt.s.r>At-1&&(dt.s.r=At-1),dt.e.r<At-1&&(dt.e.r=At-1),ut&&ut.cellStyles&&(Qt={},ir=!1,Tt.ht&&(ir=!0,Qt.hpt=parseFloat(Tt.ht),Qt.hpx=pt2px(Qt.hpt)),Tt.hidden=="1"&&(ir=!0,Qt.hidden=!0),Tt.outlineLevel!=null&&(ir=!0,Qt.level=+Tt.outlineLevel),ir&&(Ht[At-1]=Qt)),xt=mt.slice(gt).split(et);for(var Gt=0;Gt!=xt.length&&xt[Gt].trim().charAt(0)=="<";++Gt);for(xt=xt.slice(Gt),gt=0;gt!=xt.length;++gt)if(mt=xt[gt].trim(),mt.length!==0){if(vt=mt.match(rt),_t=gt,yt=0,St=0,mt="<c "+(mt.slice(0,1)=="<"?">":"")+mt,vt!=null&&vt.length===2){for(_t=0,bt=vt[1],yt=0;yt!=bt.length&&!((St=bt.charCodeAt(yt)-64)<1||St>26);++yt)_t=26*_t+St;--_t,Ct=_t}else++Ct;for(yt=0;yt!=mt.length&&mt.charCodeAt(yt)!==62;++yt);if(++yt,Tt=parsexmltag(mt.slice(0,yt),!0),Tt.r||(Tt.r=encode_cell({r:At-1,c:Ct})),bt=mt.slice(yt),Et={t:""},(vt=bt.match(it))!=null&&vt[1]!==""&&(Et.v=unescapexml(vt[1])),ut.cellFormula){if((vt=bt.match(st))!=null&&vt[1]!==""){if(Et.f=unescapexml(utf8read(vt[1])).replace(/\r\n/g,`
`),ut.xlfn||(Et.f=_xlfn(Et.f)),vt[0].indexOf('t="array"')>-1)Et.F=(bt.match(at)||[])[1],Et.F.indexOf(":")>-1&&Bt.push([safe_decode_range(Et.F),Et.F]);else if(vt[0].indexOf('t="shared"')>-1){Pt=parsexmltag(vt[0]);var Zt=unescapexml(utf8read(vt[1]));ut.xlfn||(Zt=_xlfn(Zt)),qt[parseInt(Pt.si,10)]=[Pt,Zt,Tt.r]}}else(vt=bt.match(/<f[^>]*\/>/))&&(Pt=parsexmltag(vt[0]),qt[Pt.si]&&(Et.f=shift_formula_xlsx(qt[Pt.si][1],qt[Pt.si][2],Tt.r)));var er=decode_cell(Tt.r);for(yt=0;yt<Bt.length;++yt)er.r>=Bt[yt][0].s.r&&er.r<=Bt[yt][0].e.r&&er.c>=Bt[yt][0].s.c&&er.c<=Bt[yt][0].e.c&&(Et.F=Bt[yt][1])}if(Tt.t==null&&Et.v===void 0)if(Et.f||Et.F)Et.v=0,Et.t="n";else if(Xt)Et.t="z";else continue;else Et.t=Tt.t||"n";switch(dt.s.c>Ct&&(dt.s.c=Ct),dt.e.c<Ct&&(dt.e.c=Ct),Et.t){case"n":if(Et.v==""||Et.v==null){if(!Xt)continue;Et.t="z"}else Et.v=parseFloat(Et.v);break;case"s":if(typeof Et.v>"u"){if(!Xt)continue;Et.t="z"}else kt=strs[parseInt(Et.v,10)],Et.v=kt.t,Et.r=kt.r,ut.cellHTML&&(Et.h=kt.h);break;case"str":Et.t="s",Et.v=Et.v!=null?utf8read(Et.v):"",ut.cellHTML&&(Et.h=escapehtml(Et.v));break;case"inlineStr":vt=bt.match(nt),Et.t="s",vt!=null&&(kt=parse_si(vt[1]))?(Et.v=kt.t,ut.cellHTML&&(Et.h=kt.h)):Et.v="";break;case"b":Et.v=parsexmlbool(Et.v);break;case"d":ut.cellDates?Et.v=parseDate$1(Et.v,1):(Et.v=datenum(parseDate$1(Et.v,1)),Et.t="n");break;case"e":(!ut||ut.cellText!==!1)&&(Et.w=Et.v),Et.v=RBErr[Et.v];break}if(Dt=Ft=0,It=null,Ot&&Tt.s!==void 0&&(It=ht.CellXf[Tt.s],It!=null&&(It.numFmtId!=null&&(Dt=It.numFmtId),ut.cellStyles&&It.fillId!=null&&(Ft=It.fillId))),safe_format(Et,Dt,Ft,ut,ft,ht),ut.cellDates&&Ot&&Et.t=="n"&&fmt_is_date(table_fmt[Dt])&&(Et.t="d",Et.v=numdate(Et.v)),Tt.cm&&ut.xlmeta){var ar=(ut.xlmeta.Cell||[])[+Tt.cm-1];ar&&ar.type=="XLDAPR"&&(Et.D=!0)}if(Ut){var Kt=decode_cell(Tt.r);ct[Kt.r]||(ct[Kt.r]=[]),ct[Kt.r][Kt.c]=Et}else ct[Tt.r]=Et}}}}Ht.length>0&&(ct["!rows"]=Ht)}}();function write_ws_xml_data(et,tt,rt,nt){var at=[],it=[],st=safe_decode_range(et["!ref"]),ot="",lt,ct="",ut=[],dt=0,ft=0,ht=et["!rows"],gt=Array.isArray(et),mt={r:ct},xt,vt=-1;for(ft=st.s.c;ft<=st.e.c;++ft)ut[ft]=encode_col(ft);for(dt=st.s.r;dt<=st.e.r;++dt){for(it=[],ct=encode_row(dt),ft=st.s.c;ft<=st.e.c;++ft){lt=ut[ft]+ct;var _t=gt?(et[dt]||[])[ft]:et[lt];_t!==void 0&&(ot=write_ws_xml_cell(_t,lt,et,tt))!=null&&it.push(ot)}(it.length>0||ht&&ht[dt])&&(mt={r:ct},ht&&ht[dt]&&(xt=ht[dt],xt.hidden&&(mt.hidden=1),vt=-1,xt.hpx?vt=px2pt(xt.hpx):xt.hpt&&(vt=xt.hpt),vt>-1&&(mt.ht=vt,mt.customHeight=1),xt.level&&(mt.outlineLevel=xt.level)),at[at.length]=writextag("row",it.join(""),mt))}if(ht)for(;dt<ht.length;++dt)ht&&ht[dt]&&(mt={r:dt+1},xt=ht[dt],xt.hidden&&(mt.hidden=1),vt=-1,xt.hpx?vt=px2pt(xt.hpx):xt.hpt&&(vt=xt.hpt),vt>-1&&(mt.ht=vt,mt.customHeight=1),xt.level&&(mt.outlineLevel=xt.level),at[at.length]=writextag("row","",mt));return at.join("")}function write_ws_xml(et,tt,rt,nt){var at=[XML_HEADER,writextag("worksheet",null,{xmlns:XMLNS_main[0],"xmlns:r":XMLNS.r})],it=rt.SheetNames[et],st=0,ot="",lt=rt.Sheets[it];lt==null&&(lt={});var ct=lt["!ref"]||"A1",ut=safe_decode_range(ct);if(ut.e.c>16383||ut.e.r>1048575){if(tt.WTF)throw new Error("Range "+ct+" exceeds format limit A1:XFD1048576");ut.e.c=Math.min(ut.e.c,16383),ut.e.r=Math.min(ut.e.c,1048575),ct=encode_range(ut)}nt||(nt={}),lt["!comments"]=[];var dt=[];write_ws_xml_sheetpr(lt,rt,et,tt,at),at[at.length]=writextag("dimension",null,{ref:ct}),at[at.length]=write_ws_xml_sheetviews(lt,tt,et,rt),tt.sheetFormat&&(at[at.length]=writextag("sheetFormatPr",null,{defaultRowHeight:tt.sheetFormat.defaultRowHeight||"16",baseColWidth:tt.sheetFormat.baseColWidth||"10",outlineLevelRow:tt.sheetFormat.outlineLevelRow||"7"})),lt["!cols"]!=null&&lt["!cols"].length>0&&(at[at.length]=write_ws_xml_cols(lt,lt["!cols"])),at[st=at.length]="<sheetData/>",lt["!links"]=[],lt["!ref"]!=null&&(ot=write_ws_xml_data(lt,tt),ot.length>0&&(at[at.length]=ot)),at.length>st+1&&(at[at.length]="</sheetData>",at[st]=at[st].replace("/>",">")),lt["!protect"]&&(at[at.length]=write_ws_xml_protection(lt["!protect"])),lt["!autofilter"]!=null&&(at[at.length]=write_ws_xml_autofilter(lt["!autofilter"],lt,rt,et)),lt["!merges"]!=null&&lt["!merges"].length>0&&(at[at.length]=write_ws_xml_merges(lt["!merges"]));var ft=-1,ht,gt=-1;return lt["!links"].length>0&&(at[at.length]="<hyperlinks>",lt["!links"].forEach(function(mt){mt[1].Target&&(ht={ref:mt[0]},mt[1].Target.charAt(0)!="#"&&(gt=add_rels(nt,-1,escapexml(mt[1].Target).replace(/#.*$/,""),RELS.HLINK),ht["r:id"]="rId"+gt),(ft=mt[1].Target.indexOf("#"))>-1&&(ht.location=escapexml(mt[1].Target.slice(ft+1))),mt[1].Tooltip&&(ht.tooltip=escapexml(mt[1].Tooltip)),at[at.length]=writextag("hyperlink",null,ht))}),at[at.length]="</hyperlinks>"),delete lt["!links"],lt["!margins"]!=null&&(at[at.length]=write_ws_xml_margins(lt["!margins"])),(!tt||tt.ignoreEC||tt.ignoreEC==null)&&(at[at.length]=writetag("ignoredErrors",writextag("ignoredError",null,{numberStoredAsText:1,sqref:ct}))),dt.length>0&&(gt=add_rels(nt,-1,"../drawings/drawing"+(et+1)+".xml",RELS.DRAW),at[at.length]=writextag("drawing",null,{"r:id":"rId"+gt}),lt["!drawing"]=dt),lt["!comments"].length>0&&(gt=add_rels(nt,-1,"../drawings/vmlDrawing"+(et+1)+".vml",RELS.VML),at[at.length]=writextag("legacyDrawing",null,{"r:id":"rId"+gt}),lt["!legacy"]=gt),at.length>1&&(at[at.length]="</worksheet>",at[1]=at[1].replace("/>",">")),at.join("")}function parse_BrtRowHdr(et,tt){var rt={},nt=et.l+tt;rt.r=et.read_shift(4),et.l+=4;var at=et.read_shift(2);et.l+=1;var it=et.read_shift(1);return et.l=nt,it&7&&(rt.level=it&7),it&16&&(rt.hidden=!0),it&32&&(rt.hpt=at/20),rt}function write_BrtRowHdr(et,tt,rt){var nt=new_buf(145),at=(rt["!rows"]||[])[et]||{};nt.write_shift(4,et),nt.write_shift(4,0);var it=320;at.hpx?it=px2pt(at.hpx)*20:at.hpt&&(it=at.hpt*20),nt.write_shift(2,it),nt.write_shift(1,0);var st=0;at.level&&(st|=at.level),at.hidden&&(st|=16),(at.hpx||at.hpt)&&(st|=32),nt.write_shift(1,st),nt.write_shift(1,0);var ot=0,lt=nt.l;nt.l+=4;for(var ct={r:et,c:0},ut=0;ut<16;++ut)if(!(tt.s.c>ut+1<<10||tt.e.c<ut<<10)){for(var dt=-1,ft=-1,ht=ut<<10;ht<ut+1<<10;++ht){ct.c=ht;var gt=Array.isArray(rt)?(rt[ct.r]||[])[ct.c]:rt[encode_cell(ct)];gt&&(dt<0&&(dt=ht),ft=ht)}dt<0||(++ot,nt.write_shift(4,dt),nt.write_shift(4,ft))}var mt=nt.l;return nt.l=lt,nt.write_shift(4,ot),nt.l=mt,nt.length>nt.l?nt.slice(0,nt.l):nt}function write_row_header(et,tt,rt,nt){var at=write_BrtRowHdr(nt,rt,tt);(at.length>17||(tt["!rows"]||[])[nt])&&write_record(et,0,at)}var parse_BrtWsDim=parse_UncheckedRfX,write_BrtWsDim=write_UncheckedRfX;function parse_BrtWsFmtInfo(){}function parse_BrtWsProp(et,tt){var rt={},nt=et[et.l];return++et.l,rt.above=!(nt&64),rt.left=!(nt&128),et.l+=18,rt.name=parse_XLSBCodeName(et),rt}function write_BrtWsProp(et,tt,rt){rt==null&&(rt=new_buf(84+4*et.length));var nt=192;tt&&(tt.above&&(nt&=-65),tt.left&&(nt&=-129)),rt.write_shift(1,nt);for(var at=1;at<3;++at)rt.write_shift(1,0);return write_BrtColor({auto:1},rt),rt.write_shift(-4,-1),rt.write_shift(-4,-1),write_XLSBCodeName(et,rt),rt.slice(0,rt.l)}function parse_BrtCellBlank(et){var tt=parse_XLSBCell(et);return[tt]}function write_BrtCellBlank(et,tt,rt){return rt==null&&(rt=new_buf(8)),write_XLSBCell(tt,rt)}function parse_BrtShortBlank(et){var tt=parse_XLSBShortCell(et);return[tt]}function write_BrtShortBlank(et,tt,rt){return rt==null&&(rt=new_buf(4)),write_XLSBShortCell(tt,rt)}function parse_BrtCellBool(et){var tt=parse_XLSBCell(et),rt=et.read_shift(1);return[tt,rt,"b"]}function write_BrtCellBool(et,tt,rt){return rt==null&&(rt=new_buf(9)),write_XLSBCell(tt,rt),rt.write_shift(1,et.v?1:0),rt}function parse_BrtShortBool(et){var tt=parse_XLSBShortCell(et),rt=et.read_shift(1);return[tt,rt,"b"]}function write_BrtShortBool(et,tt,rt){return rt==null&&(rt=new_buf(5)),write_XLSBShortCell(tt,rt),rt.write_shift(1,et.v?1:0),rt}function parse_BrtCellError(et){var tt=parse_XLSBCell(et),rt=et.read_shift(1);return[tt,rt,"e"]}function write_BrtCellError(et,tt,rt){return rt==null&&(rt=new_buf(9)),write_XLSBCell(tt,rt),rt.write_shift(1,et.v),rt}function parse_BrtShortError(et){var tt=parse_XLSBShortCell(et),rt=et.read_shift(1);return[tt,rt,"e"]}function write_BrtShortError(et,tt,rt){return rt==null&&(rt=new_buf(8)),write_XLSBShortCell(tt,rt),rt.write_shift(1,et.v),rt.write_shift(2,0),rt.write_shift(1,0),rt}function parse_BrtCellIsst(et){var tt=parse_XLSBCell(et),rt=et.read_shift(4);return[tt,rt,"s"]}function write_BrtCellIsst(et,tt,rt){return rt==null&&(rt=new_buf(12)),write_XLSBCell(tt,rt),rt.write_shift(4,tt.v),rt}function parse_BrtShortIsst(et){var tt=parse_XLSBShortCell(et),rt=et.read_shift(4);return[tt,rt,"s"]}function write_BrtShortIsst(et,tt,rt){return rt==null&&(rt=new_buf(8)),write_XLSBShortCell(tt,rt),rt.write_shift(4,tt.v),rt}function parse_BrtCellReal(et){var tt=parse_XLSBCell(et),rt=parse_Xnum(et);return[tt,rt,"n"]}function write_BrtCellReal(et,tt,rt){return rt==null&&(rt=new_buf(16)),write_XLSBCell(tt,rt),write_Xnum(et.v,rt),rt}function parse_BrtShortReal(et){var tt=parse_XLSBShortCell(et),rt=parse_Xnum(et);return[tt,rt,"n"]}function write_BrtShortReal(et,tt,rt){return rt==null&&(rt=new_buf(12)),write_XLSBShortCell(tt,rt),write_Xnum(et.v,rt),rt}function parse_BrtCellRk(et){var tt=parse_XLSBCell(et),rt=parse_RkNumber(et);return[tt,rt,"n"]}function write_BrtCellRk(et,tt,rt){return rt==null&&(rt=new_buf(12)),write_XLSBCell(tt,rt),write_RkNumber(et.v,rt),rt}function parse_BrtShortRk(et){var tt=parse_XLSBShortCell(et),rt=parse_RkNumber(et);return[tt,rt,"n"]}function write_BrtShortRk(et,tt,rt){return rt==null&&(rt=new_buf(8)),write_XLSBShortCell(tt,rt),write_RkNumber(et.v,rt),rt}function parse_BrtCellRString(et){var tt=parse_XLSBCell(et),rt=parse_RichStr(et);return[tt,rt,"is"]}function parse_BrtCellSt(et){var tt=parse_XLSBCell(et),rt=parse_XLWideString(et);return[tt,rt,"str"]}function write_BrtCellSt(et,tt,rt){return rt==null&&(rt=new_buf(12+4*et.v.length)),write_XLSBCell(tt,rt),write_XLWideString(et.v,rt),rt.length>rt.l?rt.slice(0,rt.l):rt}function parse_BrtShortSt(et){var tt=parse_XLSBShortCell(et),rt=parse_XLWideString(et);return[tt,rt,"str"]}function write_BrtShortSt(et,tt,rt){return rt==null&&(rt=new_buf(8+4*et.v.length)),write_XLSBShortCell(tt,rt),write_XLWideString(et.v,rt),rt.length>rt.l?rt.slice(0,rt.l):rt}function parse_BrtFmlaBool(et,tt,rt){var nt=et.l+tt,at=parse_XLSBCell(et);at.r=rt["!row"];var it=et.read_shift(1),st=[at,it,"b"];if(rt.cellFormula){et.l+=2;var ot=parse_XLSBCellParsedFormula(et,nt-et.l,rt);st[3]=stringify_formula(ot,null,at,rt.supbooks,rt)}else et.l=nt;return st}function parse_BrtFmlaError(et,tt,rt){var nt=et.l+tt,at=parse_XLSBCell(et);at.r=rt["!row"];var it=et.read_shift(1),st=[at,it,"e"];if(rt.cellFormula){et.l+=2;var ot=parse_XLSBCellParsedFormula(et,nt-et.l,rt);st[3]=stringify_formula(ot,null,at,rt.supbooks,rt)}else et.l=nt;return st}function parse_BrtFmlaNum(et,tt,rt){var nt=et.l+tt,at=parse_XLSBCell(et);at.r=rt["!row"];var it=parse_Xnum(et),st=[at,it,"n"];if(rt.cellFormula){et.l+=2;var ot=parse_XLSBCellParsedFormula(et,nt-et.l,rt);st[3]=stringify_formula(ot,null,at,rt.supbooks,rt)}else et.l=nt;return st}function parse_BrtFmlaString(et,tt,rt){var nt=et.l+tt,at=parse_XLSBCell(et);at.r=rt["!row"];var it=parse_XLWideString(et),st=[at,it,"str"];if(rt.cellFormula){et.l+=2;var ot=parse_XLSBCellParsedFormula(et,nt-et.l,rt);st[3]=stringify_formula(ot,null,at,rt.supbooks,rt)}else et.l=nt;return st}var parse_BrtMergeCell=parse_UncheckedRfX,write_BrtMergeCell=write_UncheckedRfX;function write_BrtBeginMergeCells(et,tt){return tt==null&&(tt=new_buf(4)),tt.write_shift(4,et),tt}function parse_BrtHLink(et,tt){var rt=et.l+tt,nt=parse_UncheckedRfX(et),at=parse_XLNullableWideString(et),it=parse_XLWideString(et),st=parse_XLWideString(et),ot=parse_XLWideString(et);et.l=rt;var lt={rfx:nt,relId:at,loc:it,display:ot};return st&&(lt.Tooltip=st),lt}function write_BrtHLink(et,tt){var rt=new_buf(50+4*(et[1].Target.length+(et[1].Tooltip||"").length));write_UncheckedRfX({s:decode_cell(et[0]),e:decode_cell(et[0])},rt),write_RelID("rId"+tt,rt);var nt=et[1].Target.indexOf("#"),at=nt==-1?"":et[1].Target.slice(nt+1);return write_XLWideString(at||"",rt),write_XLWideString(et[1].Tooltip||"",rt),write_XLWideString("",rt),rt.slice(0,rt.l)}function parse_BrtPane(){}function parse_BrtArrFmla(et,tt,rt){var nt=et.l+tt,at=parse_RfX(et),it=et.read_shift(1),st=[at];if(st[2]=it,rt.cellFormula){var ot=parse_XLSBArrayParsedFormula(et,nt-et.l,rt);st[1]=ot}else et.l=nt;return st}function parse_BrtShrFmla(et,tt,rt){var nt=et.l+tt,at=parse_UncheckedRfX(et),it=[at];if(rt.cellFormula){var st=parse_XLSBSharedParsedFormula(et,nt-et.l,rt);it[1]=st,et.l=nt}else et.l=nt;return it}function write_BrtColInfo(et,tt,rt){rt==null&&(rt=new_buf(18));var nt=col_obj_w(et,tt);rt.write_shift(-4,et),rt.write_shift(-4,et),rt.write_shift(4,(nt.width||10)*256),rt.write_shift(4,0);var at=0;return tt.hidden&&(at|=1),typeof nt.width=="number"&&(at|=2),tt.level&&(at|=tt.level<<8),rt.write_shift(2,at),rt}var BrtMarginKeys=["left","right","top","bottom","header","footer"];function parse_BrtMargins(et){var tt={};return BrtMarginKeys.forEach(function(rt){tt[rt]=parse_Xnum(et)}),tt}function write_BrtMargins(et,tt){return tt==null&&(tt=new_buf(6*8)),default_margins(et),BrtMarginKeys.forEach(function(rt){write_Xnum(et[rt],tt)}),tt}function parse_BrtBeginWsView(et){var tt=et.read_shift(2);return et.l+=28,{RTL:tt&32}}function write_BrtBeginWsView(et,tt,rt){rt==null&&(rt=new_buf(30));var nt=924;return(((tt||{}).Views||[])[0]||{}).RTL&&(nt|=32),rt.write_shift(2,nt),rt.write_shift(4,0),rt.write_shift(4,0),rt.write_shift(4,0),rt.write_shift(1,0),rt.write_shift(1,0),rt.write_shift(2,0),rt.write_shift(2,100),rt.write_shift(2,0),rt.write_shift(2,0),rt.write_shift(2,0),rt.write_shift(4,0),rt}function write_BrtCellIgnoreEC(et){var tt=new_buf(24);return tt.write_shift(4,4),tt.write_shift(4,1),write_UncheckedRfX(et,tt),tt}function write_BrtSheetProtection(et,tt){return tt==null&&(tt=new_buf(16*4+2)),tt.write_shift(2,et.password?crypto_CreatePasswordVerifier_Method1(et.password):0),tt.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(rt){rt[1]?tt.write_shift(4,et[rt[0]]!=null&&!et[rt[0]]?1:0):tt.write_shift(4,et[rt[0]]!=null&&et[rt[0]]?0:1)}),tt}function parse_BrtDVal(){}function parse_BrtDVal14(){}function parse_ws_bin(et,tt,rt,nt,at,it,st){if(!et)return et;var ot=tt||{};nt||(nt={"!id":{}});var lt=ot.dense?[]:{},ct,ut={s:{r:2e6,c:2e6},e:{r:0,c:0}},dt=!1,ft=!1,ht,gt,mt,xt,vt,_t,yt,St,bt,Et=[];ot.biff=12,ot["!row"]=0;var Tt=0,At=!1,Ct=[],kt={},Pt=ot.supbooks||at.supbooks||[[]];if(Pt.sharedf=kt,Pt.arrayf=Ct,Pt.SheetNames=at.SheetNames||at.Sheets.map(function(Ut){return Ut.name}),!ot.supbooks&&(ot.supbooks=Pt,at.Names))for(var Dt=0;Dt<at.Names.length;++Dt)Pt[0][Dt+1]=at.Names[Dt];var Ft=[],Ot=[],It=!1;XLSBRecordEnum[16]={n:"BrtShortReal",f:parse_BrtShortReal};var Bt;if(recordhopper(et,function(Ht,Qt,ir){if(!ft)switch(ir){case 148:ct=Ht;break;case 0:ht=Ht,ot.sheetRows&&ot.sheetRows<=ht.r&&(ft=!0),St=encode_row(xt=ht.r),ot["!row"]=ht.r,(Ht.hidden||Ht.hpt||Ht.level!=null)&&(Ht.hpt&&(Ht.hpx=pt2px(Ht.hpt)),Ot[Ht.r]=Ht);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(gt={t:Ht[2]},Ht[2]){case"n":gt.v=Ht[1];break;case"s":yt=strs[Ht[1]],gt.v=yt.t,gt.r=yt.r;break;case"b":gt.v=!!Ht[1];break;case"e":gt.v=Ht[1],ot.cellText!==!1&&(gt.w=BErr[gt.v]);break;case"str":gt.t="s",gt.v=Ht[1];break;case"is":gt.t="s",gt.v=Ht[1].t;break}if((mt=st.CellXf[Ht[0].iStyleRef])&&safe_format(gt,mt.numFmtId,null,ot,it,st),vt=Ht[0].c==-1?vt+1:Ht[0].c,ot.dense?(lt[xt]||(lt[xt]=[]),lt[xt][vt]=gt):lt[encode_col(vt)+St]=gt,ot.cellFormula){for(At=!1,Tt=0;Tt<Ct.length;++Tt){var Xt=Ct[Tt];ht.r>=Xt[0].s.r&&ht.r<=Xt[0].e.r&&vt>=Xt[0].s.c&&vt<=Xt[0].e.c&&(gt.F=encode_range(Xt[0]),At=!0)}!At&&Ht.length>3&&(gt.f=Ht[3])}if(ut.s.r>ht.r&&(ut.s.r=ht.r),ut.s.c>vt&&(ut.s.c=vt),ut.e.r<ht.r&&(ut.e.r=ht.r),ut.e.c<vt&&(ut.e.c=vt),ot.cellDates&&mt&&gt.t=="n"&&fmt_is_date(table_fmt[mt.numFmtId])){var Lt=SSF_parse_date_code(gt.v);Lt&&(gt.t="d",gt.v=new Date(Lt.y,Lt.m-1,Lt.d,Lt.H,Lt.M,Lt.S,Lt.u))}Bt&&(Bt.type=="XLDAPR"&&(gt.D=!0),Bt=void 0);break;case 1:case 12:if(!ot.sheetStubs||dt)break;gt={t:"z",v:void 0},vt=Ht[0].c==-1?vt+1:Ht[0].c,ot.dense?(lt[xt]||(lt[xt]=[]),lt[xt][vt]=gt):lt[encode_col(vt)+St]=gt,ut.s.r>ht.r&&(ut.s.r=ht.r),ut.s.c>vt&&(ut.s.c=vt),ut.e.r<ht.r&&(ut.e.r=ht.r),ut.e.c<vt&&(ut.e.c=vt),Bt&&(Bt.type=="XLDAPR"&&(gt.D=!0),Bt=void 0);break;case 176:Et.push(Ht);break;case 49:Bt=((ot.xlmeta||{}).Cell||[])[Ht-1];break;case 494:var jt=nt["!id"][Ht.relId];for(jt?(Ht.Target=jt.Target,Ht.loc&&(Ht.Target+="#"+Ht.loc),Ht.Rel=jt):Ht.relId==""&&(Ht.Target="#"+Ht.loc),xt=Ht.rfx.s.r;xt<=Ht.rfx.e.r;++xt)for(vt=Ht.rfx.s.c;vt<=Ht.rfx.e.c;++vt)ot.dense?(lt[xt]||(lt[xt]=[]),lt[xt][vt]||(lt[xt][vt]={t:"z",v:void 0}),lt[xt][vt].l=Ht):(_t=encode_cell({c:vt,r:xt}),lt[_t]||(lt[_t]={t:"z",v:void 0}),lt[_t].l=Ht);break;case 426:if(!ot.cellFormula)break;Ct.push(Ht),bt=ot.dense?lt[xt][vt]:lt[encode_col(vt)+St],bt.f=stringify_formula(Ht[1],ut,{r:ht.r,c:vt},Pt,ot),bt.F=encode_range(Ht[0]);break;case 427:if(!ot.cellFormula)break;kt[encode_cell(Ht[0].s)]=Ht[1],bt=ot.dense?lt[xt][vt]:lt[encode_col(vt)+St],bt.f=stringify_formula(Ht[1],ut,{r:ht.r,c:vt},Pt,ot);break;case 60:if(!ot.cellStyles)break;for(;Ht.e>=Ht.s;)Ft[Ht.e--]={width:Ht.w/256,hidden:!!(Ht.flags&1),level:Ht.level},It||(It=!0,find_mdw_colw(Ht.w/256)),process_col(Ft[Ht.e+1]);break;case 161:lt["!autofilter"]={ref:encode_range(Ht)};break;case 476:lt["!margins"]=Ht;break;case 147:at.Sheets[rt]||(at.Sheets[rt]={}),Ht.name&&(at.Sheets[rt].CodeName=Ht.name),(Ht.above||Ht.left)&&(lt["!outline"]={above:Ht.above,left:Ht.left});break;case 137:at.Views||(at.Views=[{}]),at.Views[0]||(at.Views[0]={}),Ht.RTL&&(at.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:dt=!0;break;case 36:dt=!1;break;case 37:dt=!0;break;case 38:dt=!1;break;default:if(!Qt.T){if(!dt||ot.WTF)throw new Error("Unexpected record 0x"+ir.toString(16))}}},ot),delete ot.supbooks,delete ot["!row"],!lt["!ref"]&&(ut.s.r<2e6||ct&&(ct.e.r>0||ct.e.c>0||ct.s.r>0||ct.s.c>0))&&(lt["!ref"]=encode_range(ct||ut)),ot.sheetRows&&lt["!ref"]){var qt=safe_decode_range(lt["!ref"]);ot.sheetRows<=+qt.e.r&&(qt.e.r=ot.sheetRows-1,qt.e.r>ut.e.r&&(qt.e.r=ut.e.r),qt.e.r<qt.s.r&&(qt.s.r=qt.e.r),qt.e.c>ut.e.c&&(qt.e.c=ut.e.c),qt.e.c<qt.s.c&&(qt.s.c=qt.e.c),lt["!fullref"]=lt["!ref"],lt["!ref"]=encode_range(qt))}return Et.length>0&&(lt["!merges"]=Et),Ft.length>0&&(lt["!cols"]=Ft),Ot.length>0&&(lt["!rows"]=Ot),lt}function write_ws_bin_cell(et,tt,rt,nt,at,it,st){if(tt.v===void 0)return!1;var ot="";switch(tt.t){case"b":ot=tt.v?"1":"0";break;case"d":tt=dup(tt),tt.z=tt.z||table_fmt[14],tt.v=datenum(parseDate$1(tt.v)),tt.t="n";break;case"n":case"e":ot=""+tt.v;break;default:ot=tt.v;break}var lt={r:rt,c:nt};switch(lt.s=get_cell_style(at.cellXfs,tt,at),tt.l&&it["!links"].push([encode_cell(lt),tt.l]),tt.c&&it["!comments"].push([encode_cell(lt),tt.c]),tt.t){case"s":case"str":return at.bookSST?(ot=get_sst_id(at.Strings,tt.v,at.revStrings),lt.t="s",lt.v=ot,st?write_record(et,18,write_BrtShortIsst(tt,lt)):write_record(et,7,write_BrtCellIsst(tt,lt))):(lt.t="str",st?write_record(et,17,write_BrtShortSt(tt,lt)):write_record(et,6,write_BrtCellSt(tt,lt))),!0;case"n":return tt.v==(tt.v|0)&&tt.v>-1e3&&tt.v<1e3?st?write_record(et,13,write_BrtShortRk(tt,lt)):write_record(et,2,write_BrtCellRk(tt,lt)):st?write_record(et,16,write_BrtShortReal(tt,lt)):write_record(et,5,write_BrtCellReal(tt,lt)),!0;case"b":return lt.t="b",st?write_record(et,15,write_BrtShortBool(tt,lt)):write_record(et,4,write_BrtCellBool(tt,lt)),!0;case"e":return lt.t="e",st?write_record(et,14,write_BrtShortError(tt,lt)):write_record(et,3,write_BrtCellError(tt,lt)),!0}return st?write_record(et,12,write_BrtShortBlank(tt,lt)):write_record(et,1,write_BrtCellBlank(tt,lt)),!0}function write_CELLTABLE(et,tt,rt,nt){var at=safe_decode_range(tt["!ref"]||"A1"),it,st="",ot=[];write_record(et,145);var lt=Array.isArray(tt),ct=at.e.r;tt["!rows"]&&(ct=Math.max(at.e.r,tt["!rows"].length-1));for(var ut=at.s.r;ut<=ct;++ut){st=encode_row(ut),write_row_header(et,tt,at,ut);var dt=!1;if(ut<=at.e.r)for(var ft=at.s.c;ft<=at.e.c;++ft){ut===at.s.r&&(ot[ft]=encode_col(ft)),it=ot[ft]+st;var ht=lt?(tt[ut]||[])[ft]:tt[it];if(!ht){dt=!1;continue}dt=write_ws_bin_cell(et,ht,ut,ft,nt,tt,dt)}}write_record(et,146)}function write_MERGECELLS(et,tt){!tt||!tt["!merges"]||(write_record(et,177,write_BrtBeginMergeCells(tt["!merges"].length)),tt["!merges"].forEach(function(rt){write_record(et,176,write_BrtMergeCell(rt))}),write_record(et,178))}function write_COLINFOS(et,tt){!tt||!tt["!cols"]||(write_record(et,390),tt["!cols"].forEach(function(rt,nt){rt&&write_record(et,60,write_BrtColInfo(nt,rt))}),write_record(et,391))}function write_IGNOREECS(et,tt){!tt||!tt["!ref"]||(write_record(et,648),write_record(et,649,write_BrtCellIgnoreEC(safe_decode_range(tt["!ref"]))),write_record(et,650))}function write_HLINKS(et,tt,rt){tt["!links"].forEach(function(nt){if(nt[1].Target){var at=add_rels(rt,-1,nt[1].Target.replace(/#.*$/,""),RELS.HLINK);write_record(et,494,write_BrtHLink(nt,at))}}),delete tt["!links"]}function write_LEGACYDRAWING(et,tt,rt,nt){if(tt["!comments"].length>0){var at=add_rels(nt,-1,"../drawings/vmlDrawing"+(rt+1)+".vml",RELS.VML);write_record(et,551,write_RelID("rId"+at)),tt["!legacy"]=at}}function write_AUTOFILTER(et,tt,rt,nt){if(tt["!autofilter"]){var at=tt["!autofilter"],it=typeof at.ref=="string"?at.ref:encode_range(at.ref);rt.Workbook||(rt.Workbook={Sheets:[]}),rt.Workbook.Names||(rt.Workbook.Names=[]);var st=rt.Workbook.Names,ot=decode_range(it);ot.s.r==ot.e.r&&(ot.e.r=decode_range(tt["!ref"]).e.r,it=encode_range(ot));for(var lt=0;lt<st.length;++lt){var ct=st[lt];if(ct.Name=="_xlnm._FilterDatabase"&&ct.Sheet==nt){ct.Ref="'"+rt.SheetNames[nt]+"'!"+it;break}}lt==st.length&&st.push({Name:"_xlnm._FilterDatabase",Sheet:nt,Ref:"'"+rt.SheetNames[nt]+"'!"+it}),write_record(et,161,write_UncheckedRfX(safe_decode_range(it))),write_record(et,162)}}function write_WSVIEWS2(et,tt,rt){write_record(et,133),write_record(et,137,write_BrtBeginWsView(tt,rt)),write_record(et,138),write_record(et,134)}function write_SHEETPROTECT(et,tt){tt["!protect"]&&write_record(et,535,write_BrtSheetProtection(tt["!protect"]))}function write_ws_bin(et,tt,rt,nt){var at=buf_array(),it=rt.SheetNames[et],st=rt.Sheets[it]||{},ot=it;try{rt&&rt.Workbook&&(ot=rt.Workbook.Sheets[et].CodeName||ot)}catch{}var lt=safe_decode_range(st["!ref"]||"A1");if(lt.e.c>16383||lt.e.r>1048575){if(tt.WTF)throw new Error("Range "+(st["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");lt.e.c=Math.min(lt.e.c,16383),lt.e.r=Math.min(lt.e.c,1048575)}return st["!links"]=[],st["!comments"]=[],write_record(at,129),(rt.vbaraw||st["!outline"])&&write_record(at,147,write_BrtWsProp(ot,st["!outline"])),write_record(at,148,write_BrtWsDim(lt)),write_WSVIEWS2(at,st,rt.Workbook),write_COLINFOS(at,st),write_CELLTABLE(at,st,et,tt),write_SHEETPROTECT(at,st),write_AUTOFILTER(at,st,rt,et),write_MERGECELLS(at,st),write_HLINKS(at,st,nt),st["!margins"]&&write_record(at,476,write_BrtMargins(st["!margins"])),(!tt||tt.ignoreEC||tt.ignoreEC==null)&&write_IGNOREECS(at,st),write_LEGACYDRAWING(at,st,et,nt),write_record(at,130),at.end()}function parse_Cache(et){var tt=[],rt=et.match(/^<c:numCache>/),nt;(et.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(it){var st=it.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);st&&(tt[+st[1]]=rt?+st[2]:st[2])});var at=unescapexml((et.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(et.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(it){nt=it.replace(/<.*?>/g,"")}),[tt,at,nt]}function parse_chart(et,tt,rt,nt,at,it){var st=it||{"!type":"chart"};if(!et)return it;var ot=0,lt=0,ct="A",ut={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(et.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(dt){var ft=parse_Cache(dt);ut.s.r=ut.s.c=0,ut.e.c=ot,ct=encode_col(ot),ft[0].forEach(function(ht,gt){st[ct+encode_row(gt)]={t:"n",v:ht,z:ft[1]},lt=gt}),ut.e.r<lt&&(ut.e.r=lt),++ot}),ot>0&&(st["!ref"]=encode_range(ut)),st}function parse_cs_xml(et,tt,rt,nt,at){if(!et)return et;nt||(nt={"!id":{}});var it={"!type":"chart","!drawel":null,"!rel":""},st,ot=et.match(sheetprregex);return ot&&parse_ws_xml_sheetpr(ot[0],it,at,rt),(st=et.match(/drawing r:id="(.*?)"/))&&(it["!rel"]=st[1]),nt["!id"][it["!rel"]]&&(it["!drawel"]=nt["!id"][it["!rel"]]),it}function parse_BrtCsProp(et,tt){et.l+=10;var rt=parse_XLWideString(et);return{name:rt}}function parse_cs_bin(et,tt,rt,nt,at){if(!et)return et;nt||(nt={"!id":{}});var it={"!type":"chart","!drawel":null,"!rel":""},st=!1;return recordhopper(et,function(lt,ct,ut){switch(ut){case 550:it["!rel"]=lt;break;case 651:at.Sheets[rt]||(at.Sheets[rt]={}),lt.name&&(at.Sheets[rt].CodeName=lt.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:st=!0;break;case 36:st=!1;break;case 37:break;case 38:break;default:if(!(ct.T>0)){if(!(ct.T<0)){if(!st||tt.WTF)throw new Error("Unexpected record 0x"+ut.toString(16))}}}},tt),nt["!id"][it["!rel"]]&&(it["!drawel"]=nt["!id"][it["!rel"]]),it}var WBPropsDef=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],WBViewDef=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],SheetDef=[],CalcPrDef=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function push_defaults_array(et,tt){for(var rt=0;rt!=et.length;++rt)for(var nt=et[rt],at=0;at!=tt.length;++at){var it=tt[at];if(nt[it[0]]==null)nt[it[0]]=it[1];else switch(it[2]){case"bool":typeof nt[it[0]]=="string"&&(nt[it[0]]=parsexmlbool(nt[it[0]]));break;case"int":typeof nt[it[0]]=="string"&&(nt[it[0]]=parseInt(nt[it[0]],10));break}}}function push_defaults(et,tt){for(var rt=0;rt!=tt.length;++rt){var nt=tt[rt];if(et[nt[0]]==null)et[nt[0]]=nt[1];else switch(nt[2]){case"bool":typeof et[nt[0]]=="string"&&(et[nt[0]]=parsexmlbool(et[nt[0]]));break;case"int":typeof et[nt[0]]=="string"&&(et[nt[0]]=parseInt(et[nt[0]],10));break}}}function parse_wb_defaults(et){push_defaults(et.WBProps,WBPropsDef),push_defaults(et.CalcPr,CalcPrDef),push_defaults_array(et.WBView,WBViewDef),push_defaults_array(et.Sheets,SheetDef),_ssfopts.date1904=parsexmlbool(et.WBProps.date1904)}function safe1904(et){return!et.Workbook||!et.Workbook.WBProps?"false":parsexmlbool(et.Workbook.WBProps.date1904)?"true":"false"}var badchars="][*?/\\".split("");function check_ws_name(et,tt){if(et.length>31){if(tt)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var rt=!0;return badchars.forEach(function(nt){if(et.indexOf(nt)!=-1){if(!tt)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");rt=!1}}),rt}function check_wb_names(et,tt,rt){et.forEach(function(nt,at){check_ws_name(nt);for(var it=0;it<at;++it)if(nt==et[it])throw new Error("Duplicate Sheet Name: "+nt);if(rt){var st=tt&&tt[at]&&tt[at].CodeName||nt;if(st.charCodeAt(0)==95&&st.length>22)throw new Error("Bad Code Name: Worksheet"+st)}})}function check_wb(et){if(!et||!et.SheetNames||!et.Sheets)throw new Error("Invalid Workbook");if(!et.SheetNames.length)throw new Error("Workbook is empty");var tt=et.Workbook&&et.Workbook.Sheets||[];check_wb_names(et.SheetNames,tt,!!et.vbaraw);for(var rt=0;rt<et.SheetNames.length;++rt)check_ws(et.Sheets[et.SheetNames[rt]],et.SheetNames[rt],rt)}var wbnsregex=/<\w+:workbook/;function parse_wb_xml(et,tt){if(!et)throw new Error("Could not find file");var rt={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},nt=!1,at="xmlns",it={},st=0;if(et.replace(tagregex,function(lt,ct){var ut=parsexmltag(lt);switch(strip_ns(ut[0])){case"<?xml":break;case"<workbook":lt.match(wbnsregex)&&(at="xmlns"+lt.match(/<(\w+):/)[1]),rt.xmlns=ut[at];break;case"</workbook>":break;case"<fileVersion":delete ut[0],rt.AppVersion=ut;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":WBPropsDef.forEach(function(dt){if(ut[dt[0]]!=null)switch(dt[2]){case"bool":rt.WBProps[dt[0]]=parsexmlbool(ut[dt[0]]);break;case"int":rt.WBProps[dt[0]]=parseInt(ut[dt[0]],10);break;default:rt.WBProps[dt[0]]=ut[dt[0]]}}),ut.codeName&&(rt.WBProps.CodeName=utf8read(ut.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete ut[0],rt.WBView.push(ut);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(ut.state){case"hidden":ut.Hidden=1;break;case"veryHidden":ut.Hidden=2;break;default:ut.Hidden=0}delete ut.state,ut.name=unescapexml(utf8read(ut.name)),delete ut[0],rt.Sheets.push(ut);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":nt=!0;break;case"</definedNames>":nt=!1;break;case"<definedName":it={},it.Name=utf8read(ut.name),ut.comment&&(it.Comment=ut.comment),ut.localSheetId&&(it.Sheet=+ut.localSheetId),parsexmlbool(ut.hidden||"0")&&(it.Hidden=!0),st=ct+lt.length;break;case"</definedName>":it.Ref=unescapexml(utf8read(et.slice(st,ct))),rt.Names.push(it);break;case"<definedName/>":break;case"<calcPr":delete ut[0],rt.CalcPr=ut;break;case"<calcPr/>":delete ut[0],rt.CalcPr=ut;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":nt=!0;break;case"</ext>":nt=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":nt=!0;break;case"</AlternateContent>":nt=!1;break;case"<revisionPtr":break;default:if(!nt&&tt.WTF)throw new Error("unrecognized "+ut[0]+" in workbook")}return lt}),XMLNS_main.indexOf(rt.xmlns)===-1)throw new Error("Unknown Namespace: "+rt.xmlns);return parse_wb_defaults(rt),rt}function write_wb_xml(et){var tt=[XML_HEADER];tt[tt.length]=writextag("workbook",null,{xmlns:XMLNS_main[0],"xmlns:r":XMLNS.r});var rt=et.Workbook&&(et.Workbook.Names||[]).length>0,nt={codeName:"ThisWorkbook"};et.Workbook&&et.Workbook.WBProps&&(WBPropsDef.forEach(function(ot){et.Workbook.WBProps[ot[0]]!=null&&et.Workbook.WBProps[ot[0]]!=ot[1]&&(nt[ot[0]]=et.Workbook.WBProps[ot[0]])}),et.Workbook.WBProps.CodeName&&(nt.codeName=et.Workbook.WBProps.CodeName,delete nt.CodeName)),tt[tt.length]=writextag("workbookPr",null,nt);var at=et.Workbook&&et.Workbook.Sheets||[],it=0;if(at&&at[0]&&at[0].Hidden){for(tt[tt.length]="<bookViews>",it=0;it!=et.SheetNames.length&&!(!at[it]||!at[it].Hidden);++it);it==et.SheetNames.length&&(it=0),tt[tt.length]='<workbookView firstSheet="'+it+'" activeTab="'+it+'"/>',tt[tt.length]="</bookViews>"}for(tt[tt.length]="<sheets>",it=0;it!=et.SheetNames.length;++it){var st={name:escapexml(et.SheetNames[it].slice(0,31))};if(st.sheetId=""+(it+1),st["r:id"]="rId"+(it+1),at[it])switch(at[it].Hidden){case 1:st.state="hidden";break;case 2:st.state="veryHidden";break}tt[tt.length]=writextag("sheet",null,st)}return tt[tt.length]="</sheets>",rt&&(tt[tt.length]="<definedNames>",et.Workbook&&et.Workbook.Names&&et.Workbook.Names.forEach(function(ot){var lt={name:ot.Name};ot.Comment&&(lt.comment=ot.Comment),ot.Sheet!=null&&(lt.localSheetId=""+ot.Sheet),ot.Hidden&&(lt.hidden="1"),ot.Ref&&(tt[tt.length]=writextag("definedName",escapexml(ot.Ref),lt))}),tt[tt.length]="</definedNames>"),tt.length>2&&(tt[tt.length]="</workbook>",tt[1]=tt[1].replace("/>",">")),tt.join("")}function parse_BrtBundleSh(et,tt){var rt={};return rt.Hidden=et.read_shift(4),rt.iTabID=et.read_shift(4),rt.strRelID=parse_RelID(et),rt.name=parse_XLWideString(et),rt}function write_BrtBundleSh(et,tt){return tt||(tt=new_buf(127)),tt.write_shift(4,et.Hidden),tt.write_shift(4,et.iTabID),write_RelID(et.strRelID,tt),write_XLWideString(et.name.slice(0,31),tt),tt.length>tt.l?tt.slice(0,tt.l):tt}function parse_BrtWbProp(et,tt){var rt={},nt=et.read_shift(4);rt.defaultThemeVersion=et.read_shift(4);var at=tt>8?parse_XLWideString(et):"";return at.length>0&&(rt.CodeName=at),rt.autoCompressPictures=!!(nt&65536),rt.backupFile=!!(nt&64),rt.checkCompatibility=!!(nt&4096),rt.date1904=!!(nt&1),rt.filterPrivacy=!!(nt&8),rt.hidePivotFieldList=!!(nt&1024),rt.promptedSolutions=!!(nt&16),rt.publishItems=!!(nt&2048),rt.refreshAllConnections=!!(nt&262144),rt.saveExternalLinkValues=!!(nt&128),rt.showBorderUnselectedTables=!!(nt&4),rt.showInkAnnotation=!!(nt&32),rt.showObjects=["all","placeholders","none"][nt>>13&3],rt.showPivotChartFilter=!!(nt&32768),rt.updateLinks=["userSet","never","always"][nt>>8&3],rt}function write_BrtWbProp(et,tt){tt||(tt=new_buf(72));var rt=0;return et&&et.filterPrivacy&&(rt|=8),tt.write_shift(4,rt),tt.write_shift(4,0),write_XLSBCodeName(et&&et.CodeName||"ThisWorkbook",tt),tt.slice(0,tt.l)}function parse_BrtFRTArchID$(et,tt){var rt={};return et.read_shift(4),rt.ArchID=et.read_shift(4),et.l+=tt-8,rt}function parse_BrtName(et,tt,rt){var nt=et.l+tt;et.l+=4,et.l+=1;var at=et.read_shift(4),it=parse_XLNameWideString(et),st=parse_XLSBNameParsedFormula(et,0,rt),ot=parse_XLNullableWideString(et);et.l=nt;var lt={Name:it,Ptg:st};return at<268435455&&(lt.Sheet=at),ot&&(lt.Comment=ot),lt}function parse_wb_bin(et,tt){var rt={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},nt=[],at=!1;tt||(tt={}),tt.biff=12;var it=[],st=[[]];return st.SheetNames=[],st.XTI=[],XLSBRecordEnum[16]={n:"BrtFRTArchID$",f:parse_BrtFRTArchID$},recordhopper(et,function(lt,ct,ut){switch(ut){case 156:st.SheetNames.push(lt.name),rt.Sheets.push(lt);break;case 153:rt.WBProps=lt;break;case 39:lt.Sheet!=null&&(tt.SID=lt.Sheet),lt.Ref=stringify_formula(lt.Ptg,null,null,st,tt),delete tt.SID,delete lt.Ptg,it.push(lt);break;case 1036:break;case 357:case 358:case 355:case 667:st[0].length?st.push([ut,lt]):st[0]=[ut,lt],st[st.length-1].XTI=[];break;case 362:st.length===0&&(st[0]=[],st[0].XTI=[]),st[st.length-1].XTI=st[st.length-1].XTI.concat(lt),st.XTI=st.XTI.concat(lt);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:nt.push(ut),at=!0;break;case 36:nt.pop(),at=!1;break;case 37:nt.push(ut),at=!0;break;case 38:nt.pop(),at=!1;break;case 16:break;default:if(!ct.T){if(!at||tt.WTF&&nt[nt.length-1]!=37&&nt[nt.length-1]!=35)throw new Error("Unexpected record 0x"+ut.toString(16))}}},tt),parse_wb_defaults(rt),rt.Names=it,rt.supbooks=st,rt}function write_BUNDLESHS(et,tt){write_record(et,143);for(var rt=0;rt!=tt.SheetNames.length;++rt){var nt=tt.Workbook&&tt.Workbook.Sheets&&tt.Workbook.Sheets[rt]&&tt.Workbook.Sheets[rt].Hidden||0,at={Hidden:nt,iTabID:rt+1,strRelID:"rId"+(rt+1),name:tt.SheetNames[rt]};write_record(et,156,write_BrtBundleSh(at))}write_record(et,144)}function write_BrtFileVersion(et,tt){tt||(tt=new_buf(127));for(var rt=0;rt!=4;++rt)tt.write_shift(4,0);return write_XLWideString("SheetJS",tt),write_XLWideString(XLSX.version,tt),write_XLWideString(XLSX.version,tt),write_XLWideString("7262",tt),tt.length>tt.l?tt.slice(0,tt.l):tt}function write_BrtBookView(et,tt){tt||(tt=new_buf(29)),tt.write_shift(-4,0),tt.write_shift(-4,460),tt.write_shift(4,28800),tt.write_shift(4,17600),tt.write_shift(4,500),tt.write_shift(4,et),tt.write_shift(4,et);var rt=120;return tt.write_shift(1,rt),tt.length>tt.l?tt.slice(0,tt.l):tt}function write_BOOKVIEWS(et,tt){if(!(!tt.Workbook||!tt.Workbook.Sheets)){for(var rt=tt.Workbook.Sheets,nt=0,at=-1,it=-1;nt<rt.length;++nt)!rt[nt]||!rt[nt].Hidden&&at==-1?at=nt:rt[nt].Hidden==1&&it==-1&&(it=nt);it>at||(write_record(et,135),write_record(et,158,write_BrtBookView(at)),write_record(et,136))}}function write_wb_bin(et,tt){var rt=buf_array();return write_record(rt,131),write_record(rt,128,write_BrtFileVersion()),write_record(rt,153,write_BrtWbProp(et.Workbook&&et.Workbook.WBProps||null)),write_BOOKVIEWS(rt,et),write_BUNDLESHS(rt,et),write_record(rt,132),rt.end()}function parse_wb(et,tt,rt){return tt.slice(-4)===".bin"?parse_wb_bin(et,rt):parse_wb_xml(et,rt)}function parse_ws(et,tt,rt,nt,at,it,st,ot){return tt.slice(-4)===".bin"?parse_ws_bin(et,nt,rt,at,it,st,ot):parse_ws_xml(et,nt,rt,at,it,st,ot)}function parse_cs(et,tt,rt,nt,at,it,st,ot){return tt.slice(-4)===".bin"?parse_cs_bin(et,nt,rt,at,it):parse_cs_xml(et,nt,rt,at,it)}function parse_ms(et,tt,rt,nt,at,it,st,ot){return tt.slice(-4)===".bin"?parse_ms_bin():parse_ms_xml()}function parse_ds(et,tt,rt,nt,at,it,st,ot){return tt.slice(-4)===".bin"?parse_ds_bin():parse_ds_xml()}function parse_sty(et,tt,rt,nt){return tt.slice(-4)===".bin"?parse_sty_bin(et,rt,nt):parse_sty_xml(et,rt,nt)}function parse_theme(et,tt,rt){return parse_theme_xml(et,rt)}function parse_sst(et,tt,rt){return tt.slice(-4)===".bin"?parse_sst_bin(et,rt):parse_sst_xml(et,rt)}function parse_cmnt(et,tt,rt){return tt.slice(-4)===".bin"?parse_comments_bin(et,rt):parse_comments_xml(et,rt)}function parse_cc(et,tt,rt){return tt.slice(-4)===".bin"?parse_cc_bin(et):parse_cc_xml(et)}function parse_xlink(et,tt,rt,nt){return rt.slice(-4)===".bin"?parse_xlink_bin(et,tt,rt,nt):void 0}function parse_xlmeta(et,tt,rt){return tt.slice(-4)===".bin"?parse_xlmeta_bin(et,tt,rt):parse_xlmeta_xml(et,tt,rt)}function write_wb(et,tt,rt){return(tt.slice(-4)===".bin"?write_wb_bin:write_wb_xml)(et)}function write_ws(et,tt,rt,nt,at){return(tt.slice(-4)===".bin"?write_ws_bin:write_ws_xml)(et,rt,nt,at)}function write_sty(et,tt,rt){return(tt.slice(-4)===".bin"?write_sty_bin:write_sty_xml)(et,rt)}function write_sst(et,tt,rt){return(tt.slice(-4)===".bin"?write_sst_bin:write_sst_xml)(et,rt)}function write_cmnt(et,tt,rt){return(tt.slice(-4)===".bin"?write_comments_bin:write_comments_xml)(et)}function write_xlmeta(et){return(et.slice(-4)===".bin"?write_xlmeta_bin:write_xlmeta_xml)()}var attregexg2=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,attregex2=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function xlml_parsexmltag(et,tt){var rt=et.split(/\s+/),nt=[];if(tt||(nt[0]=rt[0]),rt.length===1)return nt;var at=et.match(attregexg2),it,st,ot,lt;if(at)for(lt=0;lt!=at.length;++lt)it=at[lt].match(attregex2),(st=it[1].indexOf(":"))===-1?nt[it[1]]=it[2].slice(1,it[2].length-1):(it[1].slice(0,6)==="xmlns:"?ot="xmlns"+it[1].slice(6):ot=it[1].slice(st+1),nt[ot]=it[2].slice(1,it[2].length-1));return nt}function xlml_parsexmltagobj(et){var tt=et.split(/\s+/),rt={};if(tt.length===1)return rt;var nt=et.match(attregexg2),at,it,st,ot;if(nt)for(ot=0;ot!=nt.length;++ot)at=nt[ot].match(attregex2),(it=at[1].indexOf(":"))===-1?rt[at[1]]=at[2].slice(1,at[2].length-1):(at[1].slice(0,6)==="xmlns:"?st="xmlns"+at[1].slice(6):st=at[1].slice(it+1),rt[st]=at[2].slice(1,at[2].length-1));return rt}var XLMLFormatMap;function xlml_format(et,tt){var rt=XLMLFormatMap[et]||unescapexml(et);return rt==="General"?SSF_general(tt):SSF_format(rt,tt)}function xlml_set_custprop(et,tt,rt,nt){var at=nt;switch((rt[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":at=parsexmlbool(nt);break;case"i2":case"int":at=parseInt(nt,10);break;case"r4":case"float":at=parseFloat(nt);break;case"date":case"dateTime.tz":at=parseDate$1(nt);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+rt[0])}et[unescapexml(tt)]=at}function safe_format_xlml(et,tt,rt){if(et.t!=="z"){if(!rt||rt.cellText!==!1)try{et.t==="e"?et.w=et.w||BErr[et.v]:tt==="General"?et.t==="n"?(et.v|0)===et.v?et.w=et.v.toString(10):et.w=SSF_general_num(et.v):et.w=SSF_general(et.v):et.w=xlml_format(tt||"General",et.v)}catch(it){if(rt.WTF)throw it}try{var nt=XLMLFormatMap[tt]||tt||"General";if(rt.cellNF&&(et.z=nt),rt.cellDates&&et.t=="n"&&fmt_is_date(nt)){var at=SSF_parse_date_code(et.v);at&&(et.t="d",et.v=new Date(at.y,at.m-1,at.d,at.H,at.M,at.S,at.u))}}catch(it){if(rt.WTF)throw it}}}function process_style_xlml(et,tt,rt){if(rt.cellStyles&&tt.Interior){var nt=tt.Interior;nt.Pattern&&(nt.patternType=XLMLPatternTypeMap[nt.Pattern]||nt.Pattern)}et[tt.ID]=tt}function parse_xlml_data(et,tt,rt,nt,at,it,st,ot,lt,ct){var ut="General",dt=nt.StyleID,ft={};ct=ct||{};var ht=[],gt=0;for(dt===void 0&&ot&&(dt=ot.StyleID),dt===void 0&&st&&(dt=st.StyleID);it[dt]!==void 0&&(it[dt].nf&&(ut=it[dt].nf),it[dt].Interior&&ht.push(it[dt].Interior),!!it[dt].Parent);)dt=it[dt].Parent;switch(rt.Type){case"Boolean":nt.t="b",nt.v=parsexmlbool(et);break;case"String":nt.t="s",nt.r=xlml_fixstr(unescapexml(et)),nt.v=et.indexOf("<")>-1?unescapexml(tt||et).replace(/<.*?>/g,""):nt.r;break;case"DateTime":et.slice(-1)!="Z"&&(et+="Z"),nt.v=(parseDate$1(et)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),nt.v!==nt.v?nt.v=unescapexml(et):nt.v<60&&(nt.v=nt.v-1),(!ut||ut=="General")&&(ut="yyyy-mm-dd");case"Number":nt.v===void 0&&(nt.v=+et),nt.t||(nt.t="n");break;case"Error":nt.t="e",nt.v=RBErr[et],ct.cellText!==!1&&(nt.w=et);break;default:et==""&&tt==""?nt.t="z":(nt.t="s",nt.v=xlml_fixstr(tt||et));break}if(safe_format_xlml(nt,ut,ct),ct.cellFormula!==!1)if(nt.Formula){var mt=unescapexml(nt.Formula);mt.charCodeAt(0)==61&&(mt=mt.slice(1)),nt.f=rc_to_a1(mt,at),delete nt.Formula,nt.ArrayRange=="RC"?nt.F=rc_to_a1("RC:RC",at):nt.ArrayRange&&(nt.F=rc_to_a1(nt.ArrayRange,at),lt.push([safe_decode_range(nt.F),nt.F]))}else for(gt=0;gt<lt.length;++gt)at.r>=lt[gt][0].s.r&&at.r<=lt[gt][0].e.r&&at.c>=lt[gt][0].s.c&&at.c<=lt[gt][0].e.c&&(nt.F=lt[gt][1]);ct.cellStyles&&(ht.forEach(function(xt){!ft.patternType&&xt.patternType&&(ft.patternType=xt.patternType)}),nt.s=ft),nt.StyleID!==void 0&&(nt.ixfe=nt.StyleID)}function xlml_clean_comment(et){et.t=et.v||"",et.t=et.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),et.v=et.w=et.ixfe=void 0}function parse_xlml_xml(et,tt){var rt=tt||{};make_ssf();var nt=debom(xlml_normalize(et));(rt.type=="binary"||rt.type=="array"||rt.type=="base64")&&(nt=utf8read(nt));var at=nt.slice(0,1024).toLowerCase(),it=!1;if(at=at.replace(/".*?"/g,""),(at.indexOf(">")&1023)>Math.min(at.indexOf(",")&1023,at.indexOf(";")&1023)){var st=dup(rt);return st.type="string",PRN.to_workbook(nt,st)}if(at.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ir){at.indexOf("<"+Ir)>=0&&(it=!0)}),it)return html_to_workbook(nt,rt);XLMLFormatMap={"General Number":"General","General Date":table_fmt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":table_fmt[15],"Short Date":table_fmt[14],"Long Time":table_fmt[19],"Medium Time":table_fmt[18],"Short Time":table_fmt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:table_fmt[2],Standard:table_fmt[4],Percent:table_fmt[10],Scientific:table_fmt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var ot,lt=[],ct,ut={},dt=[],ft=rt.dense?[]:{},ht="",gt={},mt={},xt=xlml_parsexmltag('<Data ss:Type="String">'),vt=0,_t=0,yt=0,St={s:{r:2e6,c:2e6},e:{r:0,c:0}},bt={},Et={},Tt="",At=0,Ct=[],kt={},Pt={},Dt=0,Ft=[],Ot=[],It={},Bt=[],qt,Ut=!1,Ht=[],Qt=[],ir={},Xt=0,Lt=0,jt={Sheets:[],WBProps:{date1904:!1}},Nt={};xlmlregex.lastIndex=0,nt=nt.replace(/<!--([\s\S]*?)-->/mg,"");for(var Mt="";ot=xlmlregex.exec(nt);)switch(ot[3]=(Mt=ot[3]).toLowerCase()){case"data":if(Mt=="data"){if(ot[1]==="/"){if((ct=lt.pop())[0]!==ot[3])throw new Error("Bad state: "+ct.join("|"))}else ot[0].charAt(ot[0].length-2)!=="/"&&lt.push([ot[3],!0]);break}if(lt[lt.length-1][1])break;ot[1]==="/"?parse_xlml_data(nt.slice(vt,ot.index),Tt,xt,lt[lt.length-1][0]=="comment"?It:gt,{c:_t,r:yt},bt,Bt[_t],mt,Ht,rt):(Tt="",xt=xlml_parsexmltag(ot[0]),vt=ot.index+ot[0].length);break;case"cell":if(ot[1]==="/")if(Ot.length>0&&(gt.c=Ot),(!rt.sheetRows||rt.sheetRows>yt)&&gt.v!==void 0&&(rt.dense?(ft[yt]||(ft[yt]=[]),ft[yt][_t]=gt):ft[encode_col(_t)+encode_row(yt)]=gt),gt.HRef&&(gt.l={Target:unescapexml(gt.HRef)},gt.HRefScreenTip&&(gt.l.Tooltip=gt.HRefScreenTip),delete gt.HRef,delete gt.HRefScreenTip),(gt.MergeAcross||gt.MergeDown)&&(Xt=_t+(parseInt(gt.MergeAcross,10)|0),Lt=yt+(parseInt(gt.MergeDown,10)|0),Ct.push({s:{c:_t,r:yt},e:{c:Xt,r:Lt}})),!rt.sheetStubs)gt.MergeAcross?_t=Xt+1:++_t;else if(gt.MergeAcross||gt.MergeDown){for(var Vt=_t;Vt<=Xt;++Vt)for(var Gt=yt;Gt<=Lt;++Gt)(Vt>_t||Gt>yt)&&(rt.dense?(ft[Gt]||(ft[Gt]=[]),ft[Gt][Vt]={t:"z"}):ft[encode_col(Vt)+encode_row(Gt)]={t:"z"});_t=Xt+1}else++_t;else gt=xlml_parsexmltagobj(ot[0]),gt.Index&&(_t=+gt.Index-1),_t<St.s.c&&(St.s.c=_t),_t>St.e.c&&(St.e.c=_t),ot[0].slice(-2)==="/>"&&++_t,Ot=[];break;case"row":ot[1]==="/"||ot[0].slice(-2)==="/>"?(yt<St.s.r&&(St.s.r=yt),yt>St.e.r&&(St.e.r=yt),ot[0].slice(-2)==="/>"&&(mt=xlml_parsexmltag(ot[0]),mt.Index&&(yt=+mt.Index-1)),_t=0,++yt):(mt=xlml_parsexmltag(ot[0]),mt.Index&&(yt=+mt.Index-1),ir={},(mt.AutoFitHeight=="0"||mt.Height)&&(ir.hpx=parseInt(mt.Height,10),ir.hpt=px2pt(ir.hpx),Qt[yt]=ir),mt.Hidden=="1"&&(ir.hidden=!0,Qt[yt]=ir));break;case"worksheet":if(ot[1]==="/"){if((ct=lt.pop())[0]!==ot[3])throw new Error("Bad state: "+ct.join("|"));dt.push(ht),St.s.r<=St.e.r&&St.s.c<=St.e.c&&(ft["!ref"]=encode_range(St),rt.sheetRows&&rt.sheetRows<=St.e.r&&(ft["!fullref"]=ft["!ref"],St.e.r=rt.sheetRows-1,ft["!ref"]=encode_range(St))),Ct.length&&(ft["!merges"]=Ct),Bt.length>0&&(ft["!cols"]=Bt),Qt.length>0&&(ft["!rows"]=Qt),ut[ht]=ft}else St={s:{r:2e6,c:2e6},e:{r:0,c:0}},yt=_t=0,lt.push([ot[3],!1]),ct=xlml_parsexmltag(ot[0]),ht=unescapexml(ct.Name),ft=rt.dense?[]:{},Ct=[],Ht=[],Qt=[],Nt={name:ht,Hidden:0},jt.Sheets.push(Nt);break;case"table":if(ot[1]==="/"){if((ct=lt.pop())[0]!==ot[3])throw new Error("Bad state: "+ct.join("|"))}else{if(ot[0].slice(-2)=="/>")break;lt.push([ot[3],!1]),Bt=[],Ut=!1}break;case"style":ot[1]==="/"?process_style_xlml(bt,Et,rt):Et=xlml_parsexmltag(ot[0]);break;case"numberformat":Et.nf=unescapexml(xlml_parsexmltag(ot[0]).Format||"General"),XLMLFormatMap[Et.nf]&&(Et.nf=XLMLFormatMap[Et.nf]);for(var Zt=0;Zt!=392&&table_fmt[Zt]!=Et.nf;++Zt);if(Zt==392){for(Zt=57;Zt!=392;++Zt)if(table_fmt[Zt]==null){SSF_load(Et.nf,Zt);break}}break;case"column":if(lt[lt.length-1][0]!=="table")break;if(qt=xlml_parsexmltag(ot[0]),qt.Hidden&&(qt.hidden=!0,delete qt.Hidden),qt.Width&&(qt.wpx=parseInt(qt.Width,10)),!Ut&&qt.wpx>10){Ut=!0,MDW=DEF_MDW;for(var er=0;er<Bt.length;++er)Bt[er]&&process_col(Bt[er])}Ut&&process_col(qt),Bt[qt.Index-1||Bt.length]=qt;for(var ar=0;ar<+qt.Span;++ar)Bt[Bt.length]=dup(qt);break;case"namedrange":if(ot[1]==="/")break;jt.Names||(jt.Names=[]);var Kt=parsexmltag(ot[0]),pr={Name:Kt.Name,Ref:rc_to_a1(Kt.RefersTo.slice(1),{r:0,c:0})};jt.Sheets.length>0&&(pr.Sheet=jt.Sheets.length-1),jt.Names.push(pr);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(ot[0].slice(-2)==="/>")break;ot[1]==="/"?Tt+=nt.slice(At,ot.index):At=ot.index+ot[0].length;break;case"interior":if(!rt.cellStyles)break;Et.Interior=xlml_parsexmltag(ot[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(ot[0].slice(-2)==="/>")break;ot[1]==="/"?xlml_set_prop(kt,Mt,nt.slice(Dt,ot.index)):Dt=ot.index+ot[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(ot[1]==="/"){if((ct=lt.pop())[0]!==ot[3])throw new Error("Bad state: "+ct.join("|"))}else lt.push([ot[3],!1]);break;case"comment":if(ot[1]==="/"){if((ct=lt.pop())[0]!==ot[3])throw new Error("Bad state: "+ct.join("|"));xlml_clean_comment(It),Ot.push(It)}else lt.push([ot[3],!1]),ct=xlml_parsexmltag(ot[0]),It={a:ct.Author};break;case"autofilter":if(ot[1]==="/"){if((ct=lt.pop())[0]!==ot[3])throw new Error("Bad state: "+ct.join("|"))}else if(ot[0].charAt(ot[0].length-2)!=="/"){var fr=xlml_parsexmltag(ot[0]);ft["!autofilter"]={ref:rc_to_a1(fr.Range).replace(/\$/g,"")},lt.push([ot[3],!0])}break;case"name":break;case"datavalidation":if(ot[1]==="/"){if((ct=lt.pop())[0]!==ot[3])throw new Error("Bad state: "+ct.join("|"))}else ot[0].charAt(ot[0].length-2)!=="/"&&lt.push([ot[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(ot[1]==="/"){if((ct=lt.pop())[0]!==ot[3])throw new Error("Bad state: "+ct.join("|"))}else ot[0].charAt(ot[0].length-2)!=="/"&&lt.push([ot[3],!0]);break;case"null":break;default:if(lt.length==0&&ot[3]=="document"||lt.length==0&&ot[3]=="uof")return parse_fods(nt,rt);var vr=!0;switch(lt[lt.length-1][0]){case"officedocumentsettings":switch(ot[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:vr=!1}break;case"componentoptions":switch(ot[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:vr=!1}break;case"excelworkbook":switch(ot[3]){case"date1904":jt.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:vr=!1}break;case"workbookoptions":switch(ot[3]){case"owcversion":break;case"height":break;case"width":break;default:vr=!1}break;case"worksheetoptions":switch(ot[3]){case"visible":if(ot[0].slice(-2)!=="/>")if(ot[1]==="/")switch(nt.slice(Dt,ot.index)){case"SheetHidden":Nt.Hidden=1;break;case"SheetVeryHidden":Nt.Hidden=2;break}else Dt=ot.index+ot[0].length;break;case"header":ft["!margins"]||default_margins(ft["!margins"]={},"xlml"),isNaN(+parsexmltag(ot[0]).Margin)||(ft["!margins"].header=+parsexmltag(ot[0]).Margin);break;case"footer":ft["!margins"]||default_margins(ft["!margins"]={},"xlml"),isNaN(+parsexmltag(ot[0]).Margin)||(ft["!margins"].footer=+parsexmltag(ot[0]).Margin);break;case"pagemargins":var wr=parsexmltag(ot[0]);ft["!margins"]||default_margins(ft["!margins"]={},"xlml"),isNaN(+wr.Top)||(ft["!margins"].top=+wr.Top),isNaN(+wr.Left)||(ft["!margins"].left=+wr.Left),isNaN(+wr.Right)||(ft["!margins"].right=+wr.Right),isNaN(+wr.Bottom)||(ft["!margins"].bottom=+wr.Bottom);break;case"displayrighttoleft":jt.Views||(jt.Views=[]),jt.Views[0]||(jt.Views[0]={}),jt.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":ft["!outline"]||(ft["!outline"]={}),ft["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":ft["!outline"]||(ft["!outline"]={}),ft["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:vr=!1}break;case"pivottable":case"pivotcache":switch(ot[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:vr=!1}break;case"pagebreaks":switch(ot[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:vr=!1}break;case"autofilter":switch(ot[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:vr=!1}break;case"querytable":switch(ot[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:vr=!1}break;case"datavalidation":switch(ot[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:vr=!1}break;case"sorting":case"conditionalformatting":switch(ot[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:vr=!1}break;case"mapinfo":case"schema":case"data":switch(ot[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:vr=!1}break;case"smarttags":break;default:vr=!1;break}if(vr||ot[3].match(/!\[CDATA/))break;if(!lt[lt.length-1][1])throw"Unrecognized tag: "+ot[3]+"|"+lt.join("|");if(lt[lt.length-1][0]==="customdocumentproperties"){if(ot[0].slice(-2)==="/>")break;ot[1]==="/"?xlml_set_custprop(Pt,Mt,Ft,nt.slice(Dt,ot.index)):(Ft=ot,Dt=ot.index+ot[0].length);break}if(rt.WTF)throw"Unrecognized tag: "+ot[3]+"|"+lt.join("|")}var hr={};return!rt.bookSheets&&!rt.bookProps&&(hr.Sheets=ut),hr.SheetNames=dt,hr.Workbook=jt,hr.SSF=dup(table_fmt),hr.Props=kt,hr.Custprops=Pt,hr}function parse_xlml(et,tt){switch(fix_read_opts(tt=tt||{}),tt.type||"base64"){case"base64":return parse_xlml_xml(Base64_decode(et),tt);case"binary":case"buffer":case"file":return parse_xlml_xml(et,tt);case"array":return parse_xlml_xml(a2s(et),tt)}}function write_props_xlml(et,tt){var rt=[];return et.Props&&rt.push(xlml_write_docprops(et.Props,tt)),et.Custprops&&rt.push(xlml_write_custprops(et.Props,et.Custprops)),rt.join("")}function write_wb_xlml(){return""}function write_sty_xlml(et,tt){var rt=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return tt.cellXfs.forEach(function(nt,at){var it=[];it.push(writextag("NumberFormat",null,{"ss:Format":escapexml(table_fmt[nt.numFmtId])}));var st={"ss:ID":"s"+(21+at)};rt.push(writextag("Style",it.join(""),st))}),writextag("Styles",rt.join(""))}function write_name_xlml(et){return writextag("NamedRange",null,{"ss:Name":et.Name,"ss:RefersTo":"="+a1_to_rc(et.Ref,{r:0,c:0})})}function write_names_xlml(et){if(!((et||{}).Workbook||{}).Names)return"";for(var tt=et.Workbook.Names,rt=[],nt=0;nt<tt.length;++nt){var at=tt[nt];at.Sheet==null&&(at.Name.match(/^_xlfn\./)||rt.push(write_name_xlml(at)))}return writextag("Names",rt.join(""))}function write_ws_xlml_names(et,tt,rt,nt){if(!et||!((nt||{}).Workbook||{}).Names)return"";for(var at=nt.Workbook.Names,it=[],st=0;st<at.length;++st){var ot=at[st];ot.Sheet==rt&&(ot.Name.match(/^_xlfn\./)||it.push(write_name_xlml(ot)))}return it.join("")}function write_ws_xlml_wsopts(et,tt,rt,nt){if(!et)return"";var at=[];if(et["!margins"]&&(at.push("<PageSetup>"),et["!margins"].header&&at.push(writextag("Header",null,{"x:Margin":et["!margins"].header})),et["!margins"].footer&&at.push(writextag("Footer",null,{"x:Margin":et["!margins"].footer})),at.push(writextag("PageMargins",null,{"x:Bottom":et["!margins"].bottom||"0.75","x:Left":et["!margins"].left||"0.7","x:Right":et["!margins"].right||"0.7","x:Top":et["!margins"].top||"0.75"})),at.push("</PageSetup>")),nt&&nt.Workbook&&nt.Workbook.Sheets&&nt.Workbook.Sheets[rt])if(nt.Workbook.Sheets[rt].Hidden)at.push(writextag("Visible",nt.Workbook.Sheets[rt].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var it=0;it<rt&&!(nt.Workbook.Sheets[it]&&!nt.Workbook.Sheets[it].Hidden);++it);it==rt&&at.push("<Selected/>")}return((((nt||{}).Workbook||{}).Views||[])[0]||{}).RTL&&at.push("<DisplayRightToLeft/>"),et["!protect"]&&(at.push(writetag("ProtectContents","True")),et["!protect"].objects&&at.push(writetag("ProtectObjects","True")),et["!protect"].scenarios&&at.push(writetag("ProtectScenarios","True")),et["!protect"].selectLockedCells!=null&&!et["!protect"].selectLockedCells?at.push(writetag("EnableSelection","NoSelection")):et["!protect"].selectUnlockedCells!=null&&!et["!protect"].selectUnlockedCells&&at.push(writetag("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(st){et["!protect"][st[0]]&&at.push("<"+st[1]+"/>")})),at.length==0?"":writextag("WorksheetOptions",at.join(""),{xmlns:XLMLNS.x})}function write_ws_xlml_comment(et){return et.map(function(tt){var rt=xlml_unfixstr(tt.t||""),nt=writextag("ss:Data",rt,{xmlns:"http://www.w3.org/TR/REC-html40"});return writextag("Comment",nt,{"ss:Author":tt.a})}).join("")}function write_ws_xlml_cell(et,tt,rt,nt,at,it,st){if(!et||et.v==null&&et.f==null)return"";var ot={};if(et.f&&(ot["ss:Formula"]="="+escapexml(a1_to_rc(et.f,st))),et.F&&et.F.slice(0,tt.length)==tt){var lt=decode_cell(et.F.slice(tt.length+1));ot["ss:ArrayRange"]="RC:R"+(lt.r==st.r?"":"["+(lt.r-st.r)+"]")+"C"+(lt.c==st.c?"":"["+(lt.c-st.c)+"]")}if(et.l&&et.l.Target&&(ot["ss:HRef"]=escapexml(et.l.Target),et.l.Tooltip&&(ot["x:HRefScreenTip"]=escapexml(et.l.Tooltip))),rt["!merges"])for(var ct=rt["!merges"],ut=0;ut!=ct.length;++ut)ct[ut].s.c!=st.c||ct[ut].s.r!=st.r||(ct[ut].e.c>ct[ut].s.c&&(ot["ss:MergeAcross"]=ct[ut].e.c-ct[ut].s.c),ct[ut].e.r>ct[ut].s.r&&(ot["ss:MergeDown"]=ct[ut].e.r-ct[ut].s.r));var dt="",ft="";switch(et.t){case"z":if(!nt.sheetStubs)return"";break;case"n":dt="Number",ft=String(et.v);break;case"b":dt="Boolean",ft=et.v?"1":"0";break;case"e":dt="Error",ft=BErr[et.v];break;case"d":dt="DateTime",ft=new Date(et.v).toISOString(),et.z==null&&(et.z=et.z||table_fmt[14]);break;case"s":dt="String",ft=escapexlml(et.v||"");break}var ht=get_cell_style(nt.cellXfs,et,nt);ot["ss:StyleID"]="s"+(21+ht),ot["ss:Index"]=st.c+1;var gt=et.v!=null?ft:"",mt=et.t=="z"?"":'<Data ss:Type="'+dt+'">'+gt+"</Data>";return(et.c||[]).length>0&&(mt+=write_ws_xlml_comment(et.c)),writextag("Cell",mt,ot)}function write_ws_xlml_row(et,tt){var rt='<Row ss:Index="'+(et+1)+'"';return tt&&(tt.hpt&&!tt.hpx&&(tt.hpx=pt2px(tt.hpt)),tt.hpx&&(rt+=' ss:AutoFitHeight="0" ss:Height="'+tt.hpx+'"'),tt.hidden&&(rt+=' ss:Hidden="1"')),rt+">"}function write_ws_xlml_table(et,tt,rt,nt){if(!et["!ref"])return"";var at=safe_decode_range(et["!ref"]),it=et["!merges"]||[],st=0,ot=[];et["!cols"]&&et["!cols"].forEach(function(xt,vt){process_col(xt);var _t=!!xt.width,yt=col_obj_w(vt,xt),St={"ss:Index":vt+1};_t&&(St["ss:Width"]=width2px(yt.width)),xt.hidden&&(St["ss:Hidden"]="1"),ot.push(writextag("Column",null,St))});for(var lt=Array.isArray(et),ct=at.s.r;ct<=at.e.r;++ct){for(var ut=[write_ws_xlml_row(ct,(et["!rows"]||[])[ct])],dt=at.s.c;dt<=at.e.c;++dt){var ft=!1;for(st=0;st!=it.length;++st)if(!(it[st].s.c>dt)&&!(it[st].s.r>ct)&&!(it[st].e.c<dt)&&!(it[st].e.r<ct)){(it[st].s.c!=dt||it[st].s.r!=ct)&&(ft=!0);break}if(!ft){var ht={r:ct,c:dt},gt=encode_cell(ht),mt=lt?(et[ct]||[])[dt]:et[gt];ut.push(write_ws_xlml_cell(mt,gt,et,tt,rt,nt,ht))}}ut.push("</Row>"),ut.length>2&&ot.push(ut.join(""))}return ot.join("")}function write_ws_xlml(et,tt,rt){var nt=[],at=rt.SheetNames[et],it=rt.Sheets[at],st=it?write_ws_xlml_names(it,tt,et,rt):"";return st.length>0&&nt.push("<Names>"+st+"</Names>"),st=it?write_ws_xlml_table(it,tt,et,rt):"",st.length>0&&nt.push("<Table>"+st+"</Table>"),nt.push(write_ws_xlml_wsopts(it,tt,et,rt)),nt.join("")}function write_xlml(et,tt){tt||(tt={}),et.SSF||(et.SSF=dup(table_fmt)),et.SSF&&(make_ssf(),SSF_load_table(et.SSF),tt.revssf=evert_num(et.SSF),tt.revssf[et.SSF[65535]]=0,tt.ssf=et.SSF,tt.cellXfs=[],get_cell_style(tt.cellXfs,{},{revssf:{General:0}}));var rt=[];rt.push(write_props_xlml(et,tt)),rt.push(write_wb_xlml()),rt.push(""),rt.push("");for(var nt=0;nt<et.SheetNames.length;++nt)rt.push(writextag("Worksheet",write_ws_xlml(nt,tt,et),{"ss:Name":escapexml(et.SheetNames[nt])}));return rt[2]=write_sty_xlml(et,tt),rt[3]=write_names_xlml(et),XML_HEADER+writextag("Workbook",rt.join(""),{xmlns:XLMLNS.ss,"xmlns:o":XLMLNS.o,"xmlns:x":XLMLNS.x,"xmlns:ss":XLMLNS.ss,"xmlns:dt":XLMLNS.dt,"xmlns:html":XLMLNS.html})}function parse_compobj(et){var tt={},rt=et.content;if(rt.l=28,tt.AnsiUserType=rt.read_shift(0,"lpstr-ansi"),tt.AnsiClipboardFormat=parse_ClipboardFormatOrAnsiString(rt),rt.length-rt.l<=4)return tt;var nt=rt.read_shift(4);if(nt==0||nt>40||(rt.l-=4,tt.Reserved1=rt.read_shift(0,"lpstr-ansi"),rt.length-rt.l<=4)||(nt=rt.read_shift(4),nt!==1907505652)||(tt.UnicodeClipboardFormat=parse_ClipboardFormatOrUnicodeString(rt),nt=rt.read_shift(4),nt==0||nt>40))return tt;rt.l-=4,tt.Reserved2=rt.read_shift(0,"lpwstr")}var CONTINUE_RT=[60,1084,2066,2165,2175];function slurp(et,tt,rt,nt,at){var it=nt,st=[],ot=rt.slice(rt.l,rt.l+it);if(at&&at.enc&&at.enc.insitu&&ot.length>0)switch(et){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:at.enc.insitu(ot)}st.push(ot),rt.l+=it;for(var lt=__readUInt16LE(rt,rt.l),ct=XLSRecordEnum[lt],ut=0;ct!=null&&CONTINUE_RT.indexOf(lt)>-1;)it=__readUInt16LE(rt,rt.l+2),ut=rt.l+4,lt==2066?ut+=4:(lt==2165||lt==2175)&&(ut+=12),ot=rt.slice(ut,rt.l+4+it),st.push(ot),rt.l+=4+it,ct=XLSRecordEnum[lt=__readUInt16LE(rt,rt.l)];var dt=bconcat(st);prep_blob(dt,0);var ft=0;dt.lens=[];for(var ht=0;ht<st.length;++ht)dt.lens.push(ft),ft+=st[ht].length;if(dt.length<nt)throw"XLS Record 0x"+et.toString(16)+" Truncated: "+dt.length+" < "+nt;return tt.f(dt,dt.length,at)}function safe_format_xf(et,tt,rt){if(et.t!=="z"&&et.XF){var nt=0;try{nt=et.z||et.XF.numFmtId||0,tt.cellNF&&(et.z=table_fmt[nt])}catch(it){if(tt.WTF)throw it}if(!tt||tt.cellText!==!1)try{et.t==="e"?et.w=et.w||BErr[et.v]:nt===0||nt=="General"?et.t==="n"?(et.v|0)===et.v?et.w=et.v.toString(10):et.w=SSF_general_num(et.v):et.w=SSF_general(et.v):et.w=SSF_format(nt,et.v,{date1904:!!rt,dateNF:tt&&tt.dateNF})}catch(it){if(tt.WTF)throw it}if(tt.cellDates&&nt&&et.t=="n"&&fmt_is_date(table_fmt[nt]||String(nt))){var at=SSF_parse_date_code(et.v);at&&(et.t="d",et.v=new Date(at.y,at.m-1,at.d,at.H,at.M,at.S,at.u))}}}function make_cell(et,tt,rt){return{v:et,ixfe:tt,t:rt}}function parse_workbook(et,tt){var rt={opts:{}},nt={},at=tt.dense?[]:{},it={},st={},ot=null,lt=[],ct="",ut={},dt,ft="",ht,gt,mt,xt,vt={},_t=[],yt,St,bt=[],Et=[],Tt={Sheets:[],WBProps:{date1904:!1},Views:[{}]},At={},Ct=function($r){return $r<8?XLSIcv[$r]:$r<64&&Et[$r-8]||XLSIcv[$r]},kt=function($r,Yr,rn){var nn=Yr.XF.data;if(!(!nn||!nn.patternType||!rn||!rn.cellStyles)){Yr.s={},Yr.s.patternType=nn.patternType;var hn;(hn=rgb2Hex(Ct(nn.icvFore)))&&(Yr.s.fgColor={rgb:hn}),(hn=rgb2Hex(Ct(nn.icvBack)))&&(Yr.s.bgColor={rgb:hn})}},Pt=function($r,Yr,rn){if(!(ir>1)&&!(rn.sheetRows&&$r.r>=rn.sheetRows)){if(rn.cellStyles&&Yr.XF&&Yr.XF.data&&kt($r,Yr,rn),delete Yr.ixfe,delete Yr.XF,dt=$r,ft=encode_cell($r),(!st||!st.s||!st.e)&&(st={s:{r:0,c:0},e:{r:0,c:0}}),$r.r<st.s.r&&(st.s.r=$r.r),$r.c<st.s.c&&(st.s.c=$r.c),$r.r+1>st.e.r&&(st.e.r=$r.r+1),$r.c+1>st.e.c&&(st.e.c=$r.c+1),rn.cellFormula&&Yr.f){for(var nn=0;nn<_t.length;++nn)if(!(_t[nn][0].s.c>$r.c||_t[nn][0].s.r>$r.r)&&!(_t[nn][0].e.c<$r.c||_t[nn][0].e.r<$r.r)){Yr.F=encode_range(_t[nn][0]),(_t[nn][0].s.c!=$r.c||_t[nn][0].s.r!=$r.r)&&delete Yr.f,Yr.f&&(Yr.f=""+stringify_formula(_t[nn][1],st,$r,Ht,Dt));break}}rn.dense?(at[$r.r]||(at[$r.r]=[]),at[$r.r][$r.c]=Yr):at[ft]=Yr}},Dt={enc:!1,sbcch:0,snames:[],sharedf:vt,arrayf:_t,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!tt&&!!tt.cellStyles,WTF:!!tt&&!!tt.wtf};tt.password&&(Dt.password=tt.password);var Ft,Ot=[],It=[],Bt=[],qt=[],Ut=!1,Ht=[];Ht.SheetNames=Dt.snames,Ht.sharedf=Dt.sharedf,Ht.arrayf=Dt.arrayf,Ht.names=[],Ht.XTI=[];var Qt=0,ir=0,Xt=0,Lt=[],jt=[],Nt;Dt.codepage=1200,set_cp(1200);for(var Mt=!1;et.l<et.length-1;){var Vt=et.l,Gt=et.read_shift(2);if(Gt===0&&Qt===10)break;var Zt=et.l===et.length?0:et.read_shift(2),er=XLSRecordEnum[Gt];if(er&&er.f){if(tt.bookSheets&&Qt===133&&Gt!==133)break;if(Qt=Gt,er.r===2||er.r==12){var ar=et.read_shift(2);if(Zt-=2,!Dt.enc&&ar!==Gt&&((ar&255)<<8|ar>>8)!==Gt)throw new Error("rt mismatch: "+ar+"!="+Gt);er.r==12&&(et.l+=10,Zt-=10)}var Kt={};if(Gt===10?Kt=er.f(et,Zt,Dt):Kt=slurp(Gt,er,et,Zt,Dt),ir==0&&[9,521,1033,2057].indexOf(Qt)===-1)continue;switch(Gt){case 34:rt.opts.Date1904=Tt.WBProps.date1904=Kt;break;case 134:rt.opts.WriteProtect=!0;break;case 47:if(Dt.enc||(et.l=0),Dt.enc=Kt,!tt.password)throw new Error("File is password-protected");if(Kt.valid==null)throw new Error("Encryption scheme unsupported");if(!Kt.valid)throw new Error("Password is incorrect");break;case 92:Dt.lastuser=Kt;break;case 66:var pr=Number(Kt);switch(pr){case 21010:pr=1200;break;case 32768:pr=1e4;break;case 32769:pr=1252;break}set_cp(Dt.codepage=pr),Mt=!0;break;case 317:Dt.rrtabid=Kt;break;case 25:Dt.winlocked=Kt;break;case 439:rt.opts.RefreshAll=Kt;break;case 12:rt.opts.CalcCount=Kt;break;case 16:rt.opts.CalcDelta=Kt;break;case 17:rt.opts.CalcIter=Kt;break;case 13:rt.opts.CalcMode=Kt;break;case 14:rt.opts.CalcPrecision=Kt;break;case 95:rt.opts.CalcSaveRecalc=Kt;break;case 15:Dt.CalcRefMode=Kt;break;case 2211:rt.opts.FullCalc=Kt;break;case 129:Kt.fDialog&&(at["!type"]="dialog"),Kt.fBelow||((at["!outline"]||(at["!outline"]={})).above=!0),Kt.fRight||((at["!outline"]||(at["!outline"]={})).left=!0);break;case 224:bt.push(Kt);break;case 430:Ht.push([Kt]),Ht[Ht.length-1].XTI=[];break;case 35:case 547:Ht[Ht.length-1].push(Kt);break;case 24:case 536:Nt={Name:Kt.Name,Ref:stringify_formula(Kt.rgce,st,null,Ht,Dt)},Kt.itab>0&&(Nt.Sheet=Kt.itab-1),Ht.names.push(Nt),Ht[0]||(Ht[0]=[],Ht[0].XTI=[]),Ht[Ht.length-1].push(Kt),Kt.Name=="_xlnm._FilterDatabase"&&Kt.itab>0&&Kt.rgce&&Kt.rgce[0]&&Kt.rgce[0][0]&&Kt.rgce[0][0][0]=="PtgArea3d"&&(jt[Kt.itab-1]={ref:encode_range(Kt.rgce[0][0][1][2])});break;case 22:Dt.ExternCount=Kt;break;case 23:Ht.length==0&&(Ht[0]=[],Ht[0].XTI=[]),Ht[Ht.length-1].XTI=Ht[Ht.length-1].XTI.concat(Kt),Ht.XTI=Ht.XTI.concat(Kt);break;case 2196:if(Dt.biff<8)break;Nt!=null&&(Nt.Comment=Kt[1]);break;case 18:at["!protect"]=Kt;break;case 19:Kt!==0&&Dt.WTF&&console.error("Password verifier: "+Kt);break;case 133:it[Kt.pos]=Kt,Dt.snames.push(Kt.name);break;case 10:{if(--ir)break;if(st.e){if(st.e.r>0&&st.e.c>0){if(st.e.r--,st.e.c--,at["!ref"]=encode_range(st),tt.sheetRows&&tt.sheetRows<=st.e.r){var fr=st.e.r;st.e.r=tt.sheetRows-1,at["!fullref"]=at["!ref"],at["!ref"]=encode_range(st),st.e.r=fr}st.e.r++,st.e.c++}Ot.length>0&&(at["!merges"]=Ot),It.length>0&&(at["!objects"]=It),Bt.length>0&&(at["!cols"]=Bt),qt.length>0&&(at["!rows"]=qt),Tt.Sheets.push(At)}ct===""?ut=at:nt[ct]=at,at=tt.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(Dt.biff===8&&(Dt.biff={9:2,521:3,1033:4}[Gt]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Kt.BIFFVer]||8),Dt.biffguess=Kt.BIFFVer==0,Kt.BIFFVer==0&&Kt.dt==4096&&(Dt.biff=5,Mt=!0,set_cp(Dt.codepage=28591)),Dt.biff==8&&Kt.BIFFVer==0&&Kt.dt==16&&(Dt.biff=2),ir++)break;if(at=tt.dense?[]:{},Dt.biff<8&&!Mt&&(Mt=!0,set_cp(Dt.codepage=tt.codepage||1252)),Dt.biff<5||Kt.BIFFVer==0&&Kt.dt==4096){ct===""&&(ct="Sheet1"),st={s:{r:0,c:0},e:{r:0,c:0}};var vr={pos:et.l-Zt,name:ct};it[vr.pos]=vr,Dt.snames.push(ct)}else ct=(it[Vt]||{name:""}).name;Kt.dt==32&&(at["!type"]="chart"),Kt.dt==64&&(at["!type"]="macro"),Ot=[],It=[],Dt.arrayf=_t=[],Bt=[],qt=[],Ut=!1,At={Hidden:(it[Vt]||{hs:0}).hs,name:ct}}break;case 515:case 3:case 2:at["!type"]=="chart"&&(tt.dense?(at[Kt.r]||[])[Kt.c]:at[encode_cell({c:Kt.c,r:Kt.r})])&&++Kt.c,yt={ixfe:Kt.ixfe,XF:bt[Kt.ixfe]||{},v:Kt.val,t:"n"},Xt>0&&(yt.z=Lt[yt.ixfe>>8&63]),safe_format_xf(yt,tt,rt.opts.Date1904),Pt({c:Kt.c,r:Kt.r},yt,tt);break;case 5:case 517:yt={ixfe:Kt.ixfe,XF:bt[Kt.ixfe],v:Kt.val,t:Kt.t},Xt>0&&(yt.z=Lt[yt.ixfe>>8&63]),safe_format_xf(yt,tt,rt.opts.Date1904),Pt({c:Kt.c,r:Kt.r},yt,tt);break;case 638:yt={ixfe:Kt.ixfe,XF:bt[Kt.ixfe],v:Kt.rknum,t:"n"},Xt>0&&(yt.z=Lt[yt.ixfe>>8&63]),safe_format_xf(yt,tt,rt.opts.Date1904),Pt({c:Kt.c,r:Kt.r},yt,tt);break;case 189:for(var wr=Kt.c;wr<=Kt.C;++wr){var hr=Kt.rkrec[wr-Kt.c][0];yt={ixfe:hr,XF:bt[hr],v:Kt.rkrec[wr-Kt.c][1],t:"n"},Xt>0&&(yt.z=Lt[yt.ixfe>>8&63]),safe_format_xf(yt,tt,rt.opts.Date1904),Pt({c:wr,r:Kt.r},yt,tt)}break;case 6:case 518:case 1030:{if(Kt.val=="String"){ot=Kt;break}if(yt=make_cell(Kt.val,Kt.cell.ixfe,Kt.tt),yt.XF=bt[yt.ixfe],tt.cellFormula){var Ir=Kt.formula;if(Ir&&Ir[0]&&Ir[0][0]&&Ir[0][0][0]=="PtgExp"){var Jr=Ir[0][0][1][0],Br=Ir[0][0][1][1],Zr=encode_cell({r:Jr,c:Br});vt[Zr]?yt.f=""+stringify_formula(Kt.formula,st,Kt.cell,Ht,Dt):yt.F=((tt.dense?(at[Jr]||[])[Br]:at[Zr])||{}).F}else yt.f=""+stringify_formula(Kt.formula,st,Kt.cell,Ht,Dt)}Xt>0&&(yt.z=Lt[yt.ixfe>>8&63]),safe_format_xf(yt,tt,rt.opts.Date1904),Pt(Kt.cell,yt,tt),ot=Kt}break;case 7:case 519:if(ot)ot.val=Kt,yt=make_cell(Kt,ot.cell.ixfe,"s"),yt.XF=bt[yt.ixfe],tt.cellFormula&&(yt.f=""+stringify_formula(ot.formula,st,ot.cell,Ht,Dt)),Xt>0&&(yt.z=Lt[yt.ixfe>>8&63]),safe_format_xf(yt,tt,rt.opts.Date1904),Pt(ot.cell,yt,tt),ot=null;else throw new Error("String record expects Formula");break;case 33:case 545:{_t.push(Kt);var Fr=encode_cell(Kt[0].s);if(ht=tt.dense?(at[Kt[0].s.r]||[])[Kt[0].s.c]:at[Fr],tt.cellFormula&&ht){if(!ot||!Fr||!ht)break;ht.f=""+stringify_formula(Kt[1],st,Kt[0],Ht,Dt),ht.F=encode_range(Kt[0])}}break;case 1212:{if(!tt.cellFormula)break;if(ft){if(!ot)break;vt[encode_cell(ot.cell)]=Kt[0],ht=tt.dense?(at[ot.cell.r]||[])[ot.cell.c]:at[encode_cell(ot.cell)],(ht||{}).f=""+stringify_formula(Kt[0],st,dt,Ht,Dt)}}break;case 253:yt=make_cell(lt[Kt.isst].t,Kt.ixfe,"s"),lt[Kt.isst].h&&(yt.h=lt[Kt.isst].h),yt.XF=bt[yt.ixfe],Xt>0&&(yt.z=Lt[yt.ixfe>>8&63]),safe_format_xf(yt,tt,rt.opts.Date1904),Pt({c:Kt.c,r:Kt.r},yt,tt);break;case 513:tt.sheetStubs&&(yt={ixfe:Kt.ixfe,XF:bt[Kt.ixfe],t:"z"},Xt>0&&(yt.z=Lt[yt.ixfe>>8&63]),safe_format_xf(yt,tt,rt.opts.Date1904),Pt({c:Kt.c,r:Kt.r},yt,tt));break;case 190:if(tt.sheetStubs)for(var Cr=Kt.c;Cr<=Kt.C;++Cr){var Tr=Kt.ixfe[Cr-Kt.c];yt={ixfe:Tr,XF:bt[Tr],t:"z"},Xt>0&&(yt.z=Lt[yt.ixfe>>8&63]),safe_format_xf(yt,tt,rt.opts.Date1904),Pt({c:Cr,r:Kt.r},yt,tt)}break;case 214:case 516:case 4:yt=make_cell(Kt.val,Kt.ixfe,"s"),yt.XF=bt[yt.ixfe],Xt>0&&(yt.z=Lt[yt.ixfe>>8&63]),safe_format_xf(yt,tt,rt.opts.Date1904),Pt({c:Kt.c,r:Kt.r},yt,tt);break;case 0:case 512:ir===1&&(st=Kt);break;case 252:lt=Kt;break;case 1054:if(Dt.biff==4){Lt[Xt++]=Kt[1];for(var Dr=0;Dr<Xt+163&&table_fmt[Dr]!=Kt[1];++Dr);Dr>=163&&SSF_load(Kt[1],Xt+163)}else SSF_load(Kt[1],Kt[0]);break;case 30:{Lt[Xt++]=Kt;for(var Gr=0;Gr<Xt+163&&table_fmt[Gr]!=Kt;++Gr);Gr>=163&&SSF_load(Kt,Xt+163)}break;case 229:Ot=Ot.concat(Kt);break;case 93:It[Kt.cmo[0]]=Dt.lastobj=Kt;break;case 438:Dt.lastobj.TxO=Kt;break;case 127:Dt.lastobj.ImData=Kt;break;case 440:for(xt=Kt[0].s.r;xt<=Kt[0].e.r;++xt)for(mt=Kt[0].s.c;mt<=Kt[0].e.c;++mt)ht=tt.dense?(at[xt]||[])[mt]:at[encode_cell({c:mt,r:xt})],ht&&(ht.l=Kt[1]);break;case 2048:for(xt=Kt[0].s.r;xt<=Kt[0].e.r;++xt)for(mt=Kt[0].s.c;mt<=Kt[0].e.c;++mt)ht=tt.dense?(at[xt]||[])[mt]:at[encode_cell({c:mt,r:xt})],ht&&ht.l&&(ht.l.Tooltip=Kt[1]);break;case 28:{if(Dt.biff<=5&&Dt.biff>=2)break;ht=tt.dense?(at[Kt[0].r]||[])[Kt[0].c]:at[encode_cell(Kt[0])];var qr=It[Kt[2]];ht||(tt.dense?(at[Kt[0].r]||(at[Kt[0].r]=[]),ht=at[Kt[0].r][Kt[0].c]={t:"z"}):ht=at[encode_cell(Kt[0])]={t:"z"},st.e.r=Math.max(st.e.r,Kt[0].r),st.s.r=Math.min(st.s.r,Kt[0].r),st.e.c=Math.max(st.e.c,Kt[0].c),st.s.c=Math.min(st.s.c,Kt[0].c)),ht.c||(ht.c=[]),gt={a:Kt[1],t:qr.TxO.t},ht.c.push(gt)}break;case 2173:update_xfext(bt[Kt.ixfe],Kt.ext);break;case 125:{if(!Dt.cellStyles)break;for(;Kt.e>=Kt.s;)Bt[Kt.e--]={width:Kt.w/256,level:Kt.level||0,hidden:!!(Kt.flags&1)},Ut||(Ut=!0,find_mdw_colw(Kt.w/256)),process_col(Bt[Kt.e+1])}break;case 520:{var sn={};Kt.level!=null&&(qt[Kt.r]=sn,sn.level=Kt.level),Kt.hidden&&(qt[Kt.r]=sn,sn.hidden=!0),Kt.hpt&&(qt[Kt.r]=sn,sn.hpt=Kt.hpt,sn.hpx=pt2px(Kt.hpt))}break;case 38:case 39:case 40:case 41:at["!margins"]||default_margins(at["!margins"]={}),at["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Gt]]=Kt;break;case 161:at["!margins"]||default_margins(at["!margins"]={}),at["!margins"].header=Kt.header,at["!margins"].footer=Kt.footer;break;case 574:Kt.RTL&&(Tt.Views[0].RTL=!0);break;case 146:Et=Kt;break;case 2198:Ft=Kt;break;case 140:St=Kt;break;case 442:ct?At.CodeName=Kt||At.name:Tt.WBProps.CodeName=Kt||"ThisWorkbook";break}}else er||console.error("Missing Info for XLS Record 0x"+Gt.toString(16)),et.l+=Zt}return rt.SheetNames=keys$5(it).sort(function(Ur,$r){return Number(Ur)-Number($r)}).map(function(Ur){return it[Ur].name}),tt.bookSheets||(rt.Sheets=nt),!rt.SheetNames.length&&ut["!ref"]?(rt.SheetNames.push("Sheet1"),rt.Sheets&&(rt.Sheets.Sheet1=ut)):rt.Preamble=ut,rt.Sheets&&jt.forEach(function(Ur,$r){rt.Sheets[rt.SheetNames[$r]]["!autofilter"]=Ur}),rt.Strings=lt,rt.SSF=dup(table_fmt),Dt.enc&&(rt.Encryption=Dt.enc),Ft&&(rt.Themes=Ft),rt.Metadata={},St!==void 0&&(rt.Metadata.Country=St),Ht.names.length>0&&(Tt.Names=Ht.names),rt.Workbook=Tt,rt}var PSCLSID={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function parse_xls_props(et,tt,rt){var nt=CFB.find(et,"/!DocumentSummaryInformation");if(nt&&nt.size>0)try{var at=parse_PropertySetStream(nt,DocSummaryPIDDSI,PSCLSID.DSI);for(var it in at)tt[it]=at[it]}catch(ct){if(rt.WTF)throw ct}var st=CFB.find(et,"/!SummaryInformation");if(st&&st.size>0)try{var ot=parse_PropertySetStream(st,SummaryPIDSI,PSCLSID.SI);for(var lt in ot)tt[lt]==null&&(tt[lt]=ot[lt])}catch(ct){if(rt.WTF)throw ct}tt.HeadingPairs&&tt.TitlesOfParts&&(load_props_pairs(tt.HeadingPairs,tt.TitlesOfParts,tt,rt),delete tt.HeadingPairs,delete tt.TitlesOfParts)}function write_xls_props(et,tt){var rt=[],nt=[],at=[],it=0,st,ot=evert_key(DocSummaryPIDDSI,"n"),lt=evert_key(SummaryPIDSI,"n");if(et.Props)for(st=keys$5(et.Props),it=0;it<st.length;++it)(Object.prototype.hasOwnProperty.call(ot,st[it])?rt:Object.prototype.hasOwnProperty.call(lt,st[it])?nt:at).push([st[it],et.Props[st[it]]]);if(et.Custprops)for(st=keys$5(et.Custprops),it=0;it<st.length;++it)Object.prototype.hasOwnProperty.call(et.Props||{},st[it])||(Object.prototype.hasOwnProperty.call(ot,st[it])?rt:Object.prototype.hasOwnProperty.call(lt,st[it])?nt:at).push([st[it],et.Custprops[st[it]]]);var ct=[];for(it=0;it<at.length;++it)XLSPSSkip.indexOf(at[it][0])>-1||PseudoPropsPairs.indexOf(at[it][0])>-1||at[it][1]!=null&&ct.push(at[it]);nt.length&&CFB.utils.cfb_add(tt,"/SummaryInformation",write_PropertySetStream(nt,PSCLSID.SI,lt,SummaryPIDSI)),(rt.length||ct.length)&&CFB.utils.cfb_add(tt,"/DocumentSummaryInformation",write_PropertySetStream(rt,PSCLSID.DSI,ot,DocSummaryPIDDSI,ct.length?ct:null,PSCLSID.UDI))}function parse_xlscfb(et,tt){tt||(tt={}),fix_read_opts(tt),reset_cp(),tt.codepage&&set_ansi(tt.codepage);var rt,nt;if(et.FullPaths){if(CFB.find(et,"/encryption"))throw new Error("File is password-protected");rt=CFB.find(et,"!CompObj"),nt=CFB.find(et,"/Workbook")||CFB.find(et,"/Book")}else{switch(tt.type){case"base64":et=s2a(Base64_decode(et));break;case"binary":et=s2a(et);break;case"buffer":break;case"array":Array.isArray(et)||(et=Array.prototype.slice.call(et));break}prep_blob(et,0),nt={content:et}}var at,it;if(rt&&parse_compobj(rt),tt.bookProps&&!tt.bookSheets)at={};else{var st=has_buf?"buffer":"array";if(nt&&nt.content)at=parse_workbook(nt.content,tt);else if((it=CFB.find(et,"PerfectOffice_MAIN"))&&it.content)at=WK_.to_workbook(it.content,(tt.type=st,tt));else if((it=CFB.find(et,"NativeContent_MAIN"))&&it.content)at=WK_.to_workbook(it.content,(tt.type=st,tt));else throw(it=CFB.find(et,"MN0"))&&it.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");tt.bookVBA&&et.FullPaths&&CFB.find(et,"/_VBA_PROJECT_CUR/VBA/dir")&&(at.vbaraw=make_vba_xls(et))}var ot={};return et.FullPaths&&parse_xls_props(et,ot,tt),at.Props=at.Custprops=ot,tt.bookFiles&&(at.cfb=et),at}function write_xlscfb(et,tt){var rt=tt||{},nt=CFB.utils.cfb_new({root:"R"}),at="/Workbook";switch(rt.bookType||"xls"){case"xls":rt.bookType="biff8";case"xla":rt.bookType||(rt.bookType="xla");case"biff8":at="/Workbook",rt.biff=8;break;case"biff5":at="/Book",rt.biff=5;break;default:throw new Error("invalid type "+rt.bookType+" for XLS CFB")}return CFB.utils.cfb_add(nt,at,write_biff_buf(et,rt)),rt.biff==8&&(et.Props||et.Custprops)&&write_xls_props(et,nt),rt.biff==8&&et.vbaraw&&fill_vba_xls(nt,CFB.read(et.vbaraw,{type:typeof et.vbaraw=="string"?"binary":"buffer"})),nt}var XLSBRecordEnum={0:{f:parse_BrtRowHdr},1:{f:parse_BrtCellBlank},2:{f:parse_BrtCellRk},3:{f:parse_BrtCellError},4:{f:parse_BrtCellBool},5:{f:parse_BrtCellReal},6:{f:parse_BrtCellSt},7:{f:parse_BrtCellIsst},8:{f:parse_BrtFmlaString},9:{f:parse_BrtFmlaNum},10:{f:parse_BrtFmlaBool},11:{f:parse_BrtFmlaError},12:{f:parse_BrtShortBlank},13:{f:parse_BrtShortRk},14:{f:parse_BrtShortError},15:{f:parse_BrtShortBool},16:{f:parse_BrtShortReal},17:{f:parse_BrtShortSt},18:{f:parse_BrtShortIsst},19:{f:parse_RichStr},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:parse_BrtName},40:{},42:{},43:{f:parse_BrtFont},44:{f:parse_BrtFmt},45:{f:parse_BrtFill},46:{f:parse_BrtBorder},47:{f:parse_BrtXF},48:{},49:{f:parse_Int32LE},50:{},51:{f:parse_BrtMdb},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:parse_ColInfo},62:{f:parse_BrtCellRString},63:{f:parse_BrtCalcChainItem$},64:{f:parse_BrtDVal},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:parsenoop,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:parse_BrtBeginWsView},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:parse_BrtWsProp},148:{f:parse_BrtWsDim,p:16},151:{f:parse_BrtPane},152:{},153:{f:parse_BrtWbProp},154:{},155:{},156:{f:parse_BrtBundleSh},157:{},158:{},159:{T:1,f:parse_BrtBeginSst},160:{T:-1},161:{T:1,f:parse_UncheckedRfX},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:parse_BrtMergeCell},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:parse_BrtMdtinfo},336:{T:-1},337:{f:parse_BrtBeginEsmdb,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:parse_RelID},357:{},358:{},359:{},360:{T:1},361:{},362:{f:parse_ExternSheet},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:parse_BrtArrFmla},427:{f:parse_BrtShrFmla},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:parse_BrtMargins},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:parse_BrtWsFmtInfo},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:parse_BrtHLink},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:parse_RelID},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:parse_BrtCommentAuthor},633:{T:1},634:{T:-1},635:{T:1,f:parse_BrtBeginComment},636:{T:-1},637:{f:parse_BrtCommentText},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:parse_BrtCsProp},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:parse_BrtDVal14},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},XLSRecordEnum={6:{f:parse_Formula},10:{f:parsenoop2},12:{f:parseuint16},13:{f:parseuint16},14:{f:parsebool},15:{f:parsebool},16:{f:parse_Xnum},17:{f:parsebool},18:{f:parsebool},19:{f:parseuint16},20:{f:parse_XLHeaderFooter},21:{f:parse_XLHeaderFooter},23:{f:parse_ExternSheet},24:{f:parse_Lbl},25:{f:parsebool},26:{},27:{},28:{f:parse_Note},29:{},34:{f:parsebool},35:{f:parse_ExternName},38:{f:parse_Xnum},39:{f:parse_Xnum},40:{f:parse_Xnum},41:{f:parse_Xnum},42:{f:parsebool},43:{f:parsebool},47:{f:parse_FilePass},49:{f:parse_Font},51:{f:parseuint16},60:{},61:{f:parse_Window1},64:{f:parsebool},65:{f:parse_Pane},66:{f:parseuint16},77:{},80:{},81:{},82:{},85:{f:parseuint16},89:{},90:{},91:{},92:{f:parse_WriteAccess},93:{f:parse_Obj},94:{},95:{f:parsebool},96:{},97:{},99:{f:parsebool},125:{f:parse_ColInfo},128:{f:parse_Guts},129:{f:parse_WsBool},130:{f:parseuint16},131:{f:parsebool},132:{f:parsebool},133:{f:parse_BoundSheet8},134:{},140:{f:parse_Country},141:{f:parseuint16},144:{},146:{f:parse_Palette},151:{},152:{},153:{},154:{},155:{},156:{f:parseuint16},157:{},158:{},160:{f:parse_Scl},161:{f:parse_Setup},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:parse_MulRk},190:{f:parse_MulBlank},193:{f:parsenoop2},197:{},198:{},199:{},200:{},201:{},202:{f:parsebool},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:parseuint16},220:{},221:{f:parsebool},222:{},224:{f:parse_XF},225:{f:parse_InterfaceHdr},226:{f:parsenoop2},227:{},229:{f:parse_MergeCells},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:parse_SST},253:{f:parse_LabelSst},255:{f:parse_ExtSST},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:parseuint16a},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:parsebool},353:{f:parsenoop2},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:parse_SupBook},431:{f:parsebool},432:{},433:{},434:{},437:{},438:{f:parse_TxO},439:{f:parsebool},440:{f:parse_HLink},441:{},442:{f:parse_XLUnicodeString},443:{},444:{f:parseuint16},445:{},446:{},448:{f:parsenoop2},449:{f:parse_RecalcId,r:2},450:{f:parsenoop2},512:{f:parse_Dimensions},513:{f:parse_Blank},515:{f:parse_Number},516:{f:parse_Label},517:{f:parse_BoolErr},519:{f:parse_String},520:{f:parse_Row},523:{},545:{f:parse_Array},549:{f:parse_DefaultRowHeight},566:{},574:{f:parse_Window2},638:{f:parse_RK},659:{},1048:{},1054:{f:parse_Format},1084:{},1212:{f:parse_ShrFmla},2048:{f:parse_HLinkTooltip},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:parse_BOF},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:parsenoop2},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:parse_XFCRC,r:12},2173:{f:parse_XFExt,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:parsebool,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:parse_NameCmt,r:12},2197:{},2198:{f:parse_Theme,r:12},2199:{},2200:{},2201:{},2202:{f:parse_MTRSettings,r:12},2203:{f:parsenoop2},2204:{},2205:{},2206:{},2207:{},2211:{f:parse_ForceFullCalculation},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:parseuint16},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:parse_ShtProps},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:parse_ClrtClient},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:parse_Dimensions},1:{},2:{f:parse_BIFF2INT},3:{f:parse_BIFF2NUM},4:{f:parse_BIFF2STR},5:{f:parse_BoolErr},7:{f:parse_BIFF2STRING},8:{},9:{f:parse_BOF},11:{},22:{f:parseuint16},30:{f:parse_BIFF2Format},31:{},32:{},33:{f:parse_Array},36:{},37:{f:parse_DefaultRowHeight},50:{f:parse_BIFF2FONTXTRA},62:{},52:{},67:{},68:{f:parseuint16},69:{},86:{},126:{},127:{f:parse_ImData},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:parse_RString},223:{},234:{},354:{},421:{},518:{f:parse_Formula},521:{f:parse_BOF},536:{f:parse_Lbl},547:{f:parse_ExternName},561:{},579:{},1030:{f:parse_Formula},1033:{f:parse_BOF},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function write_biff_rec(et,tt,rt,nt){var at=tt;if(!isNaN(at)){var it=nt||(rt||[]).length||0,st=et.next(4);st.write_shift(2,at),st.write_shift(2,it),it>0&&is_buf(rt)&&et.push(rt)}}function write_biff_continue(et,tt,rt,nt){var at=nt||(rt||[]).length||0;if(at<=8224)return write_biff_rec(et,tt,rt,at);var it=tt;if(!isNaN(it)){for(var st=rt.parts||[],ot=0,lt=0,ct=0;ct+(st[ot]||8224)<=8224;)ct+=st[ot]||8224,ot++;var ut=et.next(4);for(ut.write_shift(2,it),ut.write_shift(2,ct),et.push(rt.slice(lt,lt+ct)),lt+=ct;lt<at;){for(ut=et.next(4),ut.write_shift(2,60),ct=0;ct+(st[ot]||8224)<=8224;)ct+=st[ot]||8224,ot++;ut.write_shift(2,ct),et.push(rt.slice(lt,lt+ct)),lt+=ct}}}function write_BIFF2Cell(et,tt,rt){return et||(et=new_buf(7)),et.write_shift(2,tt),et.write_shift(2,rt),et.write_shift(2,0),et.write_shift(1,0),et}function write_BIFF2BERR(et,tt,rt,nt){var at=new_buf(9);return write_BIFF2Cell(at,et,tt),write_Bes(rt,nt||"b",at),at}function write_BIFF2LABEL(et,tt,rt){var nt=new_buf(8+2*rt.length);return write_BIFF2Cell(nt,et,tt),nt.write_shift(1,rt.length),nt.write_shift(rt.length,rt,"sbcs"),nt.l<nt.length?nt.slice(0,nt.l):nt}function write_ws_biff2_cell(et,tt,rt,nt){if(tt.v!=null)switch(tt.t){case"d":case"n":var at=tt.t=="d"?datenum(parseDate$1(tt.v)):tt.v;at==(at|0)&&at>=0&&at<65536?write_biff_rec(et,2,write_BIFF2INT(rt,nt,at)):write_biff_rec(et,3,write_BIFF2NUM(rt,nt,at));return;case"b":case"e":write_biff_rec(et,5,write_BIFF2BERR(rt,nt,tt.v,tt.t));return;case"s":case"str":write_biff_rec(et,4,write_BIFF2LABEL(rt,nt,(tt.v||"").slice(0,255)));return}write_biff_rec(et,1,write_BIFF2Cell(null,rt,nt))}function write_ws_biff2(et,tt,rt,nt){var at=Array.isArray(tt),it=safe_decode_range(tt["!ref"]||"A1"),st,ot="",lt=[];if(it.e.c>255||it.e.r>16383){if(nt.WTF)throw new Error("Range "+(tt["!ref"]||"A1")+" exceeds format limit A1:IV16384");it.e.c=Math.min(it.e.c,255),it.e.r=Math.min(it.e.c,16383),st=encode_range(it)}for(var ct=it.s.r;ct<=it.e.r;++ct){ot=encode_row(ct);for(var ut=it.s.c;ut<=it.e.c;++ut){ct===it.s.r&&(lt[ut]=encode_col(ut)),st=lt[ut]+ot;var dt=at?(tt[ct]||[])[ut]:tt[st];dt&&write_ws_biff2_cell(et,dt,ct,ut)}}}function write_biff2_buf(et,tt){for(var rt=tt||{},nt=buf_array(),at=0,it=0;it<et.SheetNames.length;++it)et.SheetNames[it]==rt.sheet&&(at=it);if(at==0&&rt.sheet&&et.SheetNames[0]!=rt.sheet)throw new Error("Sheet not found: "+rt.sheet);return write_biff_rec(nt,rt.biff==4?1033:rt.biff==3?521:9,write_BOF(et,16,rt)),write_ws_biff2(nt,et.Sheets[et.SheetNames[at]],at,rt),write_biff_rec(nt,10),nt.end()}function write_FONTS_biff8(et,tt,rt){write_biff_rec(et,49,write_Font({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},rt))}function write_FMTS_biff8(et,tt,rt){tt&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(nt){for(var at=nt[0];at<=nt[1];++at)tt[at]!=null&&write_biff_rec(et,1054,write_Format(at,tt[at],rt))})}function write_FEAT(et,tt){var rt=new_buf(19);rt.write_shift(4,2151),rt.write_shift(4,0),rt.write_shift(4,0),rt.write_shift(2,3),rt.write_shift(1,1),rt.write_shift(4,0),write_biff_rec(et,2151,rt),rt=new_buf(39),rt.write_shift(4,2152),rt.write_shift(4,0),rt.write_shift(4,0),rt.write_shift(2,3),rt.write_shift(1,0),rt.write_shift(4,0),rt.write_shift(2,1),rt.write_shift(4,4),rt.write_shift(2,0),write_Ref8U(safe_decode_range(tt["!ref"]||"A1"),rt),rt.write_shift(4,4),write_biff_rec(et,2152,rt)}function write_CELLXFS_biff8(et,tt){for(var rt=0;rt<16;++rt)write_biff_rec(et,224,write_XF({numFmtId:0,style:!0},0,tt));tt.cellXfs.forEach(function(nt){write_biff_rec(et,224,write_XF(nt,0,tt))})}function write_ws_biff8_hlinks(et,tt){for(var rt=0;rt<tt["!links"].length;++rt){var nt=tt["!links"][rt];write_biff_rec(et,440,write_HLink(nt)),nt[1].Tooltip&&write_biff_rec(et,2048,write_HLinkTooltip(nt))}delete tt["!links"]}function write_ws_cols_biff8(et,tt){if(tt){var rt=0;tt.forEach(function(nt,at){++rt<=256&&nt&&write_biff_rec(et,125,write_ColInfo(col_obj_w(at,nt),at))})}}function write_ws_biff8_cell(et,tt,rt,nt,at){var it=16+get_cell_style(at.cellXfs,tt,at);if(tt.v==null&&!tt.bf){write_biff_rec(et,513,write_XLSCell(rt,nt,it));return}if(tt.bf)write_biff_rec(et,6,write_Formula(tt,rt,nt,at,it));else switch(tt.t){case"d":case"n":var st=tt.t=="d"?datenum(parseDate$1(tt.v)):tt.v;write_biff_rec(et,515,write_Number(rt,nt,st,it));break;case"b":case"e":write_biff_rec(et,517,write_BoolErr(rt,nt,tt.v,it,at,tt.t));break;case"s":case"str":if(at.bookSST){var ot=get_sst_id(at.Strings,tt.v,at.revStrings);write_biff_rec(et,253,write_LabelSst(rt,nt,ot,it))}else write_biff_rec(et,516,write_Label(rt,nt,(tt.v||"").slice(0,255),it,at));break;default:write_biff_rec(et,513,write_XLSCell(rt,nt,it))}}function write_ws_biff8(et,tt,rt){var nt=buf_array(),at=rt.SheetNames[et],it=rt.Sheets[at]||{},st=(rt||{}).Workbook||{},ot=(st.Sheets||[])[et]||{},lt=Array.isArray(it),ct=tt.biff==8,ut,dt="",ft=[],ht=safe_decode_range(it["!ref"]||"A1"),gt=ct?65536:16384;if(ht.e.c>255||ht.e.r>=gt){if(tt.WTF)throw new Error("Range "+(it["!ref"]||"A1")+" exceeds format limit A1:IV16384");ht.e.c=Math.min(ht.e.c,255),ht.e.r=Math.min(ht.e.c,gt-1)}write_biff_rec(nt,2057,write_BOF(rt,16,tt)),write_biff_rec(nt,13,writeuint16(1)),write_biff_rec(nt,12,writeuint16(100)),write_biff_rec(nt,15,writebool(!0)),write_biff_rec(nt,17,writebool(!1)),write_biff_rec(nt,16,write_Xnum(.001)),write_biff_rec(nt,95,writebool(!0)),write_biff_rec(nt,42,writebool(!1)),write_biff_rec(nt,43,writebool(!1)),write_biff_rec(nt,130,writeuint16(1)),write_biff_rec(nt,128,write_Guts([0,0])),write_biff_rec(nt,131,writebool(!1)),write_biff_rec(nt,132,writebool(!1)),ct&&write_ws_cols_biff8(nt,it["!cols"]),write_biff_rec(nt,512,write_Dimensions(ht,tt)),ct&&(it["!links"]=[]);for(var mt=ht.s.r;mt<=ht.e.r;++mt){dt=encode_row(mt);for(var xt=ht.s.c;xt<=ht.e.c;++xt){mt===ht.s.r&&(ft[xt]=encode_col(xt)),ut=ft[xt]+dt;var vt=lt?(it[mt]||[])[xt]:it[ut];vt&&(write_ws_biff8_cell(nt,vt,mt,xt,tt),ct&&vt.l&&it["!links"].push([ut,vt.l]))}}var _t=ot.CodeName||ot.name||at;return ct&&write_biff_rec(nt,574,write_Window2((st.Views||[])[0])),ct&&(it["!merges"]||[]).length&&write_biff_rec(nt,229,write_MergeCells(it["!merges"])),ct&&write_ws_biff8_hlinks(nt,it),write_biff_rec(nt,442,write_XLUnicodeString(_t)),ct&&write_FEAT(nt,it),write_biff_rec(nt,10),nt.end()}function write_biff8_global(et,tt,rt){var nt=buf_array(),at=(et||{}).Workbook||{},it=at.Sheets||[],st=at.WBProps||{},ot=rt.biff==8,lt=rt.biff==5;if(write_biff_rec(nt,2057,write_BOF(et,5,rt)),rt.bookType=="xla"&&write_biff_rec(nt,135),write_biff_rec(nt,225,ot?writeuint16(1200):null),write_biff_rec(nt,193,writezeroes(2)),lt&&write_biff_rec(nt,191),lt&&write_biff_rec(nt,192),write_biff_rec(nt,226),write_biff_rec(nt,92,write_WriteAccess("SheetJS",rt)),write_biff_rec(nt,66,writeuint16(ot?1200:1252)),ot&&write_biff_rec(nt,353,writeuint16(0)),ot&&write_biff_rec(nt,448),write_biff_rec(nt,317,write_RRTabId(et.SheetNames.length)),ot&&et.vbaraw&&write_biff_rec(nt,211),ot&&et.vbaraw){var ct=st.CodeName||"ThisWorkbook";write_biff_rec(nt,442,write_XLUnicodeString(ct))}write_biff_rec(nt,156,writeuint16(17)),write_biff_rec(nt,25,writebool(!1)),write_biff_rec(nt,18,writebool(!1)),write_biff_rec(nt,19,writeuint16(0)),ot&&write_biff_rec(nt,431,writebool(!1)),ot&&write_biff_rec(nt,444,writeuint16(0)),write_biff_rec(nt,61,write_Window1()),write_biff_rec(nt,64,writebool(!1)),write_biff_rec(nt,141,writeuint16(0)),write_biff_rec(nt,34,writebool(safe1904(et)=="true")),write_biff_rec(nt,14,writebool(!0)),ot&&write_biff_rec(nt,439,writebool(!1)),write_biff_rec(nt,218,writeuint16(0)),write_FONTS_biff8(nt,et,rt),write_FMTS_biff8(nt,et.SSF,rt),write_CELLXFS_biff8(nt,rt),ot&&write_biff_rec(nt,352,writebool(!1));var ut=nt.end(),dt=buf_array();ot&&write_biff_rec(dt,140,write_Country()),ot&&rt.Strings&&write_biff_continue(dt,252,write_SST(rt.Strings)),write_biff_rec(dt,10);var ft=dt.end(),ht=buf_array(),gt=0,mt=0;for(mt=0;mt<et.SheetNames.length;++mt)gt+=(ot?12:11)+(ot?2:1)*et.SheetNames[mt].length;var xt=ut.length+gt+ft.length;for(mt=0;mt<et.SheetNames.length;++mt){var vt=it[mt]||{};write_biff_rec(ht,133,write_BoundSheet8({pos:xt,hs:vt.Hidden||0,dt:0,name:et.SheetNames[mt]},rt)),xt+=tt[mt].length}var _t=ht.end();if(gt!=_t.length)throw new Error("BS8 "+gt+" != "+_t.length);var yt=[];return ut.length&&yt.push(ut),_t.length&&yt.push(_t),ft.length&&yt.push(ft),bconcat(yt)}function write_biff8_buf(et,tt){var rt=tt||{},nt=[];et&&!et.SSF&&(et.SSF=dup(table_fmt)),et&&et.SSF&&(make_ssf(),SSF_load_table(et.SSF),rt.revssf=evert_num(et.SSF),rt.revssf[et.SSF[65535]]=0,rt.ssf=et.SSF),rt.Strings=[],rt.Strings.Count=0,rt.Strings.Unique=0,fix_write_opts(rt),rt.cellXfs=[],get_cell_style(rt.cellXfs,{},{revssf:{General:0}}),et.Props||(et.Props={});for(var at=0;at<et.SheetNames.length;++at)nt[nt.length]=write_ws_biff8(at,rt,et);return nt.unshift(write_biff8_global(et,nt,rt)),bconcat(nt)}function write_biff_buf(et,tt){for(var rt=0;rt<=et.SheetNames.length;++rt){var nt=et.Sheets[et.SheetNames[rt]];if(!(!nt||!nt["!ref"])){var at=decode_range(nt["!ref"]);at.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+et.SheetNames[rt]+"' extends beyond column IV (255).  Data may be lost.")}}var it=tt||{};switch(it.biff||2){case 8:case 5:return write_biff8_buf(et,tt);case 4:case 3:case 2:return write_biff2_buf(et,tt)}throw new Error("invalid type "+it.bookType+" for BIFF")}function html_to_sheet(et,tt){var rt=tt||{},nt=rt.dense?[]:{};et=et.replace(/<!--.*?-->/g,"");var at=et.match(/<table/i);if(!at)throw new Error("Invalid HTML: could not find <table>");var it=et.match(/<\/table/i),st=at.index,ot=it&&it.index||et.length,lt=split_regex(et.slice(st,ot),/(:?<tr[^>]*>)/i,"<tr>"),ct=-1,ut=0,dt=0,ft=0,ht={s:{r:1e7,c:1e7},e:{r:0,c:0}},gt=[];for(st=0;st<lt.length;++st){var mt=lt[st].trim(),xt=mt.slice(0,3).toLowerCase();if(xt=="<tr"){if(++ct,rt.sheetRows&&rt.sheetRows<=ct){--ct;break}ut=0;continue}if(!(xt!="<td"&&xt!="<th")){var vt=mt.split(/<\/t[dh]>/i);for(ot=0;ot<vt.length;++ot){var _t=vt[ot].trim();if(_t.match(/<t[dh]/i)){for(var yt=_t,St=0;yt.charAt(0)=="<"&&(St=yt.indexOf(">"))>-1;)yt=yt.slice(St+1);for(var bt=0;bt<gt.length;++bt){var Et=gt[bt];Et.s.c==ut&&Et.s.r<ct&&ct<=Et.e.r&&(ut=Et.e.c+1,bt=-1)}var Tt=parsexmltag(_t.slice(0,_t.indexOf(">")));ft=Tt.colspan?+Tt.colspan:1,((dt=+Tt.rowspan)>1||ft>1)&&gt.push({s:{r:ct,c:ut},e:{r:ct+(dt||1)-1,c:ut+ft-1}});var At=Tt.t||Tt["data-t"]||"";if(!yt.length){ut+=ft;continue}if(yt=htmldecode(yt),ht.s.r>ct&&(ht.s.r=ct),ht.e.r<ct&&(ht.e.r=ct),ht.s.c>ut&&(ht.s.c=ut),ht.e.c<ut&&(ht.e.c=ut),!yt.length){ut+=ft;continue}var Ct={t:"s",v:yt};rt.raw||!yt.trim().length||At=="s"||(yt==="TRUE"?Ct={t:"b",v:!0}:yt==="FALSE"?Ct={t:"b",v:!1}:isNaN(fuzzynum(yt))?isNaN(fuzzydate(yt).getDate())||(Ct={t:"d",v:parseDate$1(yt)},rt.cellDates||(Ct={t:"n",v:datenum(Ct.v)}),Ct.z=rt.dateNF||table_fmt[14]):Ct={t:"n",v:fuzzynum(yt)}),rt.dense?(nt[ct]||(nt[ct]=[]),nt[ct][ut]=Ct):nt[encode_cell({r:ct,c:ut})]=Ct,ut+=ft}}}}return nt["!ref"]=encode_range(ht),gt.length&&(nt["!merges"]=gt),nt}function make_html_row(et,tt,rt,nt){for(var at=et["!merges"]||[],it=[],st=tt.s.c;st<=tt.e.c;++st){for(var ot=0,lt=0,ct=0;ct<at.length;++ct)if(!(at[ct].s.r>rt||at[ct].s.c>st)&&!(at[ct].e.r<rt||at[ct].e.c<st)){if(at[ct].s.r<rt||at[ct].s.c<st){ot=-1;break}ot=at[ct].e.r-at[ct].s.r+1,lt=at[ct].e.c-at[ct].s.c+1;break}if(!(ot<0)){var ut=encode_cell({r:rt,c:st}),dt=nt.dense?(et[rt]||[])[st]:et[ut],ft=dt&&dt.v!=null&&(dt.h||escapehtml(dt.w||(format_cell(dt),dt.w)||""))||"",ht={};ot>1&&(ht.rowspan=ot),lt>1&&(ht.colspan=lt),nt.editable?ft='<span contenteditable="true">'+ft+"</span>":dt&&(ht["data-t"]=dt&&dt.t||"z",dt.v!=null&&(ht["data-v"]=dt.v),dt.z!=null&&(ht["data-z"]=dt.z),dt.l&&(dt.l.Target||"#").charAt(0)!="#"&&(ft='<a href="'+dt.l.Target+'">'+ft+"</a>")),ht.id=(nt.id||"sjs")+"-"+ut,it.push(writextag("td",ft,ht))}}var gt="<tr>";return gt+it.join("")+"</tr>"}var HTML_BEGIN='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',HTML_END="</body></html>";function html_to_workbook(et,tt){var rt=et.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!rt||rt.length==0)throw new Error("Invalid HTML: could not find <table>");if(rt.length==1)return sheet_to_workbook(html_to_sheet(rt[0],tt),tt);var nt=book_new();return rt.forEach(function(at,it){book_append_sheet(nt,html_to_sheet(at,tt),"Sheet"+(it+1))}),nt}function make_html_preamble(et,tt,rt){var nt=[];return nt.join("")+"<table"+(rt&&rt.id?' id="'+rt.id+'"':"")+">"}function sheet_to_html(et,tt){var rt=tt||{},nt=rt.header!=null?rt.header:HTML_BEGIN,at=rt.footer!=null?rt.footer:HTML_END,it=[nt],st=decode_range(et["!ref"]);rt.dense=Array.isArray(et),it.push(make_html_preamble(et,st,rt));for(var ot=st.s.r;ot<=st.e.r;++ot)it.push(make_html_row(et,st,ot,rt));return it.push("</table>"+at),it.join("")}function sheet_add_dom(et,tt,rt){var nt=rt||{},at=0,it=0;if(nt.origin!=null)if(typeof nt.origin=="number")at=nt.origin;else{var st=typeof nt.origin=="string"?decode_cell(nt.origin):nt.origin;at=st.r,it=st.c}var ot=tt.getElementsByTagName("tr"),lt=Math.min(nt.sheetRows||1e7,ot.length),ct={s:{r:0,c:0},e:{r:at,c:it}};if(et["!ref"]){var ut=decode_range(et["!ref"]);ct.s.r=Math.min(ct.s.r,ut.s.r),ct.s.c=Math.min(ct.s.c,ut.s.c),ct.e.r=Math.max(ct.e.r,ut.e.r),ct.e.c=Math.max(ct.e.c,ut.e.c),at==-1&&(ct.e.r=at=ut.e.r+1)}var dt=[],ft=0,ht=et["!rows"]||(et["!rows"]=[]),gt=0,mt=0,xt=0,vt=0,_t=0,yt=0;for(et["!cols"]||(et["!cols"]=[]);gt<ot.length&&mt<lt;++gt){var St=ot[gt];if(is_dom_element_hidden(St)){if(nt.display)continue;ht[mt]={hidden:!0}}var bt=St.children;for(xt=vt=0;xt<bt.length;++xt){var Et=bt[xt];if(!(nt.display&&is_dom_element_hidden(Et))){var Tt=Et.hasAttribute("data-v")?Et.getAttribute("data-v"):Et.hasAttribute("v")?Et.getAttribute("v"):htmldecode(Et.innerHTML),At=Et.getAttribute("data-z")||Et.getAttribute("z");for(ft=0;ft<dt.length;++ft){var Ct=dt[ft];Ct.s.c==vt+it&&Ct.s.r<mt+at&&mt+at<=Ct.e.r&&(vt=Ct.e.c+1-it,ft=-1)}yt=+Et.getAttribute("colspan")||1,((_t=+Et.getAttribute("rowspan")||1)>1||yt>1)&&dt.push({s:{r:mt+at,c:vt+it},e:{r:mt+at+(_t||1)-1,c:vt+it+(yt||1)-1}});var kt={t:"s",v:Tt},Pt=Et.getAttribute("data-t")||Et.getAttribute("t")||"";Tt!=null&&(Tt.length==0?kt.t=Pt||"z":nt.raw||Tt.trim().length==0||Pt=="s"||(Tt==="TRUE"?kt={t:"b",v:!0}:Tt==="FALSE"?kt={t:"b",v:!1}:isNaN(fuzzynum(Tt))?isNaN(fuzzydate(Tt).getDate())||(kt={t:"d",v:parseDate$1(Tt)},nt.cellDates||(kt={t:"n",v:datenum(kt.v)}),kt.z=nt.dateNF||table_fmt[14]):kt={t:"n",v:fuzzynum(Tt)})),kt.z===void 0&&At!=null&&(kt.z=At);var Dt="",Ft=Et.getElementsByTagName("A");if(Ft&&Ft.length)for(var Ot=0;Ot<Ft.length&&!(Ft[Ot].hasAttribute("href")&&(Dt=Ft[Ot].getAttribute("href"),Dt.charAt(0)!="#"));++Ot);Dt&&Dt.charAt(0)!="#"&&(kt.l={Target:Dt}),nt.dense?(et[mt+at]||(et[mt+at]=[]),et[mt+at][vt+it]=kt):et[encode_cell({c:vt+it,r:mt+at})]=kt,ct.e.c<vt+it&&(ct.e.c=vt+it),vt+=yt}}++mt}return dt.length&&(et["!merges"]=(et["!merges"]||[]).concat(dt)),ct.e.r=Math.max(ct.e.r,mt-1+at),et["!ref"]=encode_range(ct),mt>=lt&&(et["!fullref"]=encode_range((ct.e.r=ot.length-gt+mt-1+at,ct))),et}function parse_dom_table(et,tt){var rt=tt||{},nt=rt.dense?[]:{};return sheet_add_dom(nt,et,tt)}function table_to_book(et,tt){return sheet_to_workbook(parse_dom_table(et,tt),tt)}function is_dom_element_hidden(et){var tt="",rt=get_get_computed_style_function(et);return rt&&(tt=rt(et).getPropertyValue("display")),tt||(tt=et.style&&et.style.display),tt==="none"}function get_get_computed_style_function(et){return et.ownerDocument.defaultView&&typeof et.ownerDocument.defaultView.getComputedStyle=="function"?et.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function parse_text_p(et){var tt=et.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(nt,at){return Array(parseInt(at,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),rt=unescapexml(tt.replace(/<[^>]*>/g,""));return[rt]}var number_formats_ods={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function parse_content_xml(et,tt){var rt=tt||{},nt=xlml_normalize(et),at=[],it,st,ot={name:""},lt="",ct=0,ut,dt,ft={},ht=[],gt=rt.dense?[]:{},mt,xt,vt={value:""},_t="",yt=0,St=[],bt=-1,Et=-1,Tt={s:{r:1e6,c:1e7},e:{r:0,c:0}},At=0,Ct={},kt=[],Pt={},Dt=0,Ft=0,Ot=[],It=1,Bt=1,qt=[],Ut={Names:[]},Ht={},Qt=["",""],ir=[],Xt={},Lt="",jt=0,Nt=!1,Mt=!1,Vt=0;for(xlmlregex.lastIndex=0,nt=nt.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");mt=xlmlregex.exec(nt);)switch(mt[3]=mt[3].replace(/_.*$/,"")){case"table":case"":mt[1]==="/"?(Tt.e.c>=Tt.s.c&&Tt.e.r>=Tt.s.r?gt["!ref"]=encode_range(Tt):gt["!ref"]="A1:A1",rt.sheetRows>0&&rt.sheetRows<=Tt.e.r&&(gt["!fullref"]=gt["!ref"],Tt.e.r=rt.sheetRows-1,gt["!ref"]=encode_range(Tt)),kt.length&&(gt["!merges"]=kt),Ot.length&&(gt["!rows"]=Ot),ut.name=ut.||ut.name,typeof JSON<"u"&&JSON.stringify(ut),ht.push(ut.name),ft[ut.name]=gt,Mt=!1):mt[0].charAt(mt[0].length-2)!=="/"&&(ut=parsexmltag(mt[0],!1),bt=Et=-1,Tt.s.r=Tt.s.c=1e7,Tt.e.r=Tt.e.c=0,gt=rt.dense?[]:{},kt=[],Ot=[],Mt=!0);break;case"table-row-group":mt[1]==="/"?--At:++At;break;case"table-row":case"":if(mt[1]==="/"){bt+=It,It=1;break}if(dt=parsexmltag(mt[0],!1),dt.?bt=dt.-1:bt==-1&&(bt=0),It=+dt["number-rows-repeated"]||1,It<10)for(Vt=0;Vt<It;++Vt)At>0&&(Ot[bt+Vt]={level:At});Et=-1;break;case"covered-table-cell":mt[1]!=="/"&&++Et,rt.sheetStubs&&(rt.dense?(gt[bt]||(gt[bt]=[]),gt[bt][Et]={t:"z"}):gt[encode_cell({r:bt,c:Et})]={t:"z"}),_t="",St=[];break;case"table-cell":case"":if(mt[0].charAt(mt[0].length-2)==="/")++Et,vt=parsexmltag(mt[0],!1),Bt=parseInt(vt["number-columns-repeated"]||"1",10),xt={t:"z",v:null},vt.formula&&rt.cellFormula!=!1&&(xt.f=ods_to_csf_formula(unescapexml(vt.formula))),(vt.||vt["value-type"])=="string"&&(xt.t="s",xt.v=unescapexml(vt["string-value"]||""),rt.dense?(gt[bt]||(gt[bt]=[]),gt[bt][Et]=xt):gt[encode_cell({r:bt,c:Et})]=xt),Et+=Bt-1;else if(mt[1]!=="/"){++Et,_t="",yt=0,St=[],Bt=1;var Gt=It?bt+It-1:bt;if(Et>Tt.e.c&&(Tt.e.c=Et),Et<Tt.s.c&&(Tt.s.c=Et),bt<Tt.s.r&&(Tt.s.r=bt),Gt>Tt.e.r&&(Tt.e.r=Gt),vt=parsexmltag(mt[0],!1),ir=[],Xt={},xt={t:vt.||vt["value-type"],v:null},rt.cellFormula)if(vt.formula&&(vt.formula=unescapexml(vt.formula)),vt["number-matrix-columns-spanned"]&&vt["number-matrix-rows-spanned"]&&(Dt=parseInt(vt["number-matrix-rows-spanned"],10)||0,Ft=parseInt(vt["number-matrix-columns-spanned"],10)||0,Pt={s:{r:bt,c:Et},e:{r:bt+Dt-1,c:Et+Ft-1}},xt.F=encode_range(Pt),qt.push([Pt,xt.F])),vt.formula)xt.f=ods_to_csf_formula(vt.formula);else for(Vt=0;Vt<qt.length;++Vt)bt>=qt[Vt][0].s.r&&bt<=qt[Vt][0].e.r&&Et>=qt[Vt][0].s.c&&Et<=qt[Vt][0].e.c&&(xt.F=qt[Vt][1]);switch((vt["number-columns-spanned"]||vt["number-rows-spanned"])&&(Dt=parseInt(vt["number-rows-spanned"],10)||0,Ft=parseInt(vt["number-columns-spanned"],10)||0,Pt={s:{r:bt,c:Et},e:{r:bt+Dt-1,c:Et+Ft-1}},kt.push(Pt)),vt["number-columns-repeated"]&&(Bt=parseInt(vt["number-columns-repeated"],10)),xt.t){case"boolean":xt.t="b",xt.v=parsexmlbool(vt["boolean-value"]);break;case"float":xt.t="n",xt.v=parseFloat(vt.value);break;case"percentage":xt.t="n",xt.v=parseFloat(vt.value);break;case"currency":xt.t="n",xt.v=parseFloat(vt.value);break;case"date":xt.t="d",xt.v=parseDate$1(vt["date-value"]),rt.cellDates||(xt.t="n",xt.v=datenum(xt.v)),xt.z="m/d/yy";break;case"time":xt.t="n",xt.v=parse_isodur(vt["time-value"])/86400,rt.cellDates&&(xt.t="d",xt.v=numdate(xt.v)),xt.z="HH:MM:SS";break;case"number":xt.t="n",xt.v=parseFloat(vt.);break;default:if(xt.t==="string"||xt.t==="text"||!xt.t)xt.t="s",vt["string-value"]!=null&&(_t=unescapexml(vt["string-value"]),St=[]);else throw new Error("Unsupported value type "+xt.t)}}else{if(Nt=!1,xt.t==="s"&&(xt.v=_t||"",St.length&&(xt.R=St),Nt=yt==0),Ht.Target&&(xt.l=Ht),ir.length>0&&(xt.c=ir,ir=[]),_t&&rt.cellText!==!1&&(xt.w=_t),Nt&&(xt.t="z",delete xt.v),(!Nt||rt.sheetStubs)&&!(rt.sheetRows&&rt.sheetRows<=bt))for(var Zt=0;Zt<It;++Zt){if(Bt=parseInt(vt["number-columns-repeated"]||"1",10),rt.dense)for(gt[bt+Zt]||(gt[bt+Zt]=[]),gt[bt+Zt][Et]=Zt==0?xt:dup(xt);--Bt>0;)gt[bt+Zt][Et+Bt]=dup(xt);else for(gt[encode_cell({r:bt+Zt,c:Et})]=xt;--Bt>0;)gt[encode_cell({r:bt+Zt,c:Et+Bt})]=dup(xt);Tt.e.c<=Et&&(Tt.e.c=Et)}Bt=parseInt(vt["number-columns-repeated"]||"1",10),Et+=Bt-1,Bt=0,xt={},_t="",St=[]}Ht={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(mt[1]==="/"){if((it=at.pop())[0]!==mt[3])throw"Bad state: "+it}else mt[0].charAt(mt[0].length-2)!=="/"&&at.push([mt[3],!0]);break;case"annotation":if(mt[1]==="/"){if((it=at.pop())[0]!==mt[3])throw"Bad state: "+it;Xt.t=_t,St.length&&(Xt.R=St),Xt.a=Lt,ir.push(Xt)}else mt[0].charAt(mt[0].length-2)!=="/"&&at.push([mt[3],!1]);Lt="",jt=0,_t="",yt=0,St=[];break;case"creator":mt[1]==="/"?Lt=nt.slice(jt,mt.index):jt=mt.index+mt[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(mt[1]==="/"){if((it=at.pop())[0]!==mt[3])throw"Bad state: "+it}else mt[0].charAt(mt[0].length-2)!=="/"&&at.push([mt[3],!1]);_t="",yt=0,St=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(mt[1]==="/"){if(Ct[ot.name]=lt,(it=at.pop())[0]!==mt[3])throw"Bad state: "+it}else mt[0].charAt(mt[0].length-2)!=="/"&&(lt="",ot=parsexmltag(mt[0],!1),at.push([mt[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(at[at.length-1][0]){case"time-style":case"date-style":st=parsexmltag(mt[0],!1),lt+=number_formats_ods[mt[3]][st.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(at[at.length-1][0]){case"time-style":case"date-style":st=parsexmltag(mt[0],!1),lt+=number_formats_ods[mt[3]][st.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(mt[0].slice(-2)==="/>")break;if(mt[1]==="/")switch(at[at.length-1][0]){case"number-style":case"date-style":case"time-style":lt+=nt.slice(ct,mt.index);break}else ct=mt.index+mt[0].length;break;case"named-range":st=parsexmltag(mt[0],!1),Qt=ods_to_csf_3D(st["cell-range-address"]);var er={Name:st.name,Ref:Qt[0]+"!"+Qt[1]};Mt&&(er.Sheet=ht.length),Ut.Names.push(er);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(at[at.length-1][0])>-1)break;if(mt[1]==="/"&&(!vt||!vt["string-value"])){var ar=parse_text_p(nt.slice(yt,mt.index));_t=(_t.length>0?_t+`
`:"")+ar[0]}else parsexmltag(mt[0],!1),yt=mt.index+mt[0].length;break;case"s":break;case"database-range":if(mt[1]==="/")break;try{Qt=ods_to_csf_3D(parsexmltag(mt[0])["target-range-address"]),ft[Qt[0]]["!autofilter"]={ref:Qt[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(mt[1]!=="/"){if(Ht=parsexmltag(mt[0],!1),!Ht.href)break;Ht.Target=unescapexml(Ht.href),delete Ht.href,Ht.Target.charAt(0)=="#"&&Ht.Target.indexOf(".")>-1?(Qt=ods_to_csf_3D(Ht.Target.slice(1)),Ht.Target="#"+Qt[0]+"!"+Qt[1]):Ht.Target.match(/^\.\.[\\\/]/)&&(Ht.Target=Ht.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(mt[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(rt.WTF)throw new Error(mt)}}var Kt={Sheets:ft,SheetNames:ht,Workbook:Ut};return rt.bookSheets&&delete Kt.Sheets,Kt}function parse_ods(et,tt){tt=tt||{},safegetzipfile(et,"META-INF/manifest.xml")&&parse_manifest(getzipdata(et,"META-INF/manifest.xml"),tt);var rt=getzipstr(et,"content.xml");if(!rt)throw new Error("Missing content.xml in ODS / UOF file");var nt=parse_content_xml(utf8read(rt),tt);return safegetzipfile(et,"meta.xml")&&(nt.Props=parse_core_props(getzipdata(et,"meta.xml"))),nt}function parse_fods(et,tt){return parse_content_xml(et,tt)}var write_styles_ods=function(){var et=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),tt="<office:document-styles "+wxt_helper({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+et+"</office:document-styles>";return function(){return XML_HEADER+tt}}(),write_content_ods=function(){var et=function(it){return escapexml(it).replace(/  +/g,function(st){return'<text:s text:c="'+st.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},tt=`          <table:table-cell />
`,rt=`          <table:covered-table-cell/>
`,nt=function(it,st,ot){var lt=[];lt.push('      <table:table table:name="'+escapexml(st.SheetNames[ot])+`" table:style-name="ta1">
`);var ct=0,ut=0,dt=decode_range(it["!ref"]||"A1"),ft=it["!merges"]||[],ht=0,gt=Array.isArray(it);if(it["!cols"])for(ut=0;ut<=dt.e.c;++ut)lt.push("        <table:table-column"+(it["!cols"][ut]?' table:style-name="co'+it["!cols"][ut].ods+'"':"")+`></table:table-column>
`);var mt="",xt=it["!rows"]||[];for(ct=0;ct<dt.s.r;++ct)mt=xt[ct]?' table:style-name="ro'+xt[ct].ods+'"':"",lt.push("        <table:table-row"+mt+`></table:table-row>
`);for(;ct<=dt.e.r;++ct){for(mt=xt[ct]?' table:style-name="ro'+xt[ct].ods+'"':"",lt.push("        <table:table-row"+mt+`>
`),ut=0;ut<dt.s.c;++ut)lt.push(tt);for(;ut<=dt.e.c;++ut){var vt=!1,_t={},yt="";for(ht=0;ht!=ft.length;++ht)if(!(ft[ht].s.c>ut)&&!(ft[ht].s.r>ct)&&!(ft[ht].e.c<ut)&&!(ft[ht].e.r<ct)){(ft[ht].s.c!=ut||ft[ht].s.r!=ct)&&(vt=!0),_t["table:number-columns-spanned"]=ft[ht].e.c-ft[ht].s.c+1,_t["table:number-rows-spanned"]=ft[ht].e.r-ft[ht].s.r+1;break}if(vt){lt.push(rt);continue}var St=encode_cell({r:ct,c:ut}),bt=gt?(it[ct]||[])[ut]:it[St];if(bt&&bt.f&&(_t["table:formula"]=escapexml(csf_to_ods_formula(bt.f)),bt.F&&bt.F.slice(0,St.length)==St)){var Et=decode_range(bt.F);_t["table:number-matrix-columns-spanned"]=Et.e.c-Et.s.c+1,_t["table:number-matrix-rows-spanned"]=Et.e.r-Et.s.r+1}if(!bt){lt.push(tt);continue}switch(bt.t){case"b":yt=bt.v?"TRUE":"FALSE",_t["office:value-type"]="boolean",_t["office:boolean-value"]=bt.v?"true":"false";break;case"n":yt=bt.w||String(bt.v||0),_t["office:value-type"]="float",_t["office:value"]=bt.v||0;break;case"s":case"str":yt=bt.v==null?"":bt.v,_t["office:value-type"]="string";break;case"d":yt=bt.w||parseDate$1(bt.v).toISOString(),_t["office:value-type"]="date",_t["office:date-value"]=parseDate$1(bt.v).toISOString(),_t["table:style-name"]="ce1";break;default:lt.push(tt);continue}var Tt=et(yt);if(bt.l&&bt.l.Target){var At=bt.l.Target;At=At.charAt(0)=="#"?"#"+csf_to_ods_3D(At.slice(1)):At,At.charAt(0)!="#"&&!At.match(/^\w+:/)&&(At="../"+At),Tt=writextag("text:a",Tt,{"xlink:href":At.replace(/&/g,"&amp;")})}lt.push("          "+writextag("table:table-cell",writextag("text:p",Tt,{}),_t)+`
`)}lt.push(`        </table:table-row>
`)}return lt.push(`      </table:table>
`),lt.join("")},at=function(it,st){it.push(` <office:automatic-styles>
`),it.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),it.push(`   <number:month number:style="long"/>
`),it.push(`   <number:text>/</number:text>
`),it.push(`   <number:day number:style="long"/>
`),it.push(`   <number:text>/</number:text>
`),it.push(`   <number:year/>
`),it.push(`  </number:date-style>
`);var ot=0;st.SheetNames.map(function(ct){return st.Sheets[ct]}).forEach(function(ct){if(ct&&ct["!cols"]){for(var ut=0;ut<ct["!cols"].length;++ut)if(ct["!cols"][ut]){var dt=ct["!cols"][ut];if(dt.width==null&&dt.wpx==null&&dt.wch==null)continue;process_col(dt),dt.ods=ot;var ft=ct["!cols"][ut].wpx+"px";it.push('  <style:style style:name="co'+ot+`" style:family="table-column">
`),it.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+ft+`"/>
`),it.push(`  </style:style>
`),++ot}}});var lt=0;st.SheetNames.map(function(ct){return st.Sheets[ct]}).forEach(function(ct){if(ct&&ct["!rows"]){for(var ut=0;ut<ct["!rows"].length;++ut)if(ct["!rows"][ut]){ct["!rows"][ut].ods=lt;var dt=ct["!rows"][ut].hpx+"px";it.push('  <style:style style:name="ro'+lt+`" style:family="table-row">
`),it.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+dt+`"/>
`),it.push(`  </style:style>
`),++lt}}}),it.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),it.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),it.push(`  </style:style>
`),it.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),it.push(` </office:automatic-styles>
`)};return function(st,ot){var lt=[XML_HEADER],ct=wxt_helper({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),ut=wxt_helper({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});ot.bookType=="fods"?(lt.push("<office:document"+ct+ut+`>
`),lt.push(write_meta_ods().replace(/office:document-meta/g,"office:meta"))):lt.push("<office:document-content"+ct+`>
`),at(lt,st),lt.push(`  <office:body>
`),lt.push(`    <office:spreadsheet>
`);for(var dt=0;dt!=st.SheetNames.length;++dt)lt.push(nt(st.Sheets[st.SheetNames[dt]],st,dt));return lt.push(`    </office:spreadsheet>
`),lt.push(`  </office:body>
`),ot.bookType=="fods"?lt.push("</office:document>"):lt.push("</office:document-content>"),lt.join("")}}();function write_ods(et,tt){if(tt.bookType=="fods")return write_content_ods(et,tt);var rt=zip_new(),nt="",at=[],it=[];return nt="mimetype",zip_add_file(rt,nt,"application/vnd.oasis.opendocument.spreadsheet"),nt="content.xml",zip_add_file(rt,nt,write_content_ods(et,tt)),at.push([nt,"text/xml"]),it.push([nt,"ContentFile"]),nt="styles.xml",zip_add_file(rt,nt,write_styles_ods(et,tt)),at.push([nt,"text/xml"]),it.push([nt,"StylesFile"]),nt="meta.xml",zip_add_file(rt,nt,XML_HEADER+write_meta_ods()),at.push([nt,"text/xml"]),it.push([nt,"MetadataFile"]),nt="manifest.rdf",zip_add_file(rt,nt,write_rdf(it)),at.push([nt,"application/rdf+xml"]),nt="META-INF/manifest.xml",zip_add_file(rt,nt,write_manifest(at)),rt}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function u8_to_dataview(et){return new DataView(et.buffer,et.byteOffset,et.byteLength)}function u8str(et){return typeof TextDecoder<"u"?new TextDecoder().decode(et):utf8read(a2s(et))}function stru8(et){return typeof TextEncoder<"u"?new TextEncoder().encode(et):s2a(utf8write(et))}function u8contains(et,tt){e:for(var rt=0;rt<=et.length-tt.length;++rt){for(var nt=0;nt<tt.length;++nt)if(et[rt+nt]!=tt[nt])continue e;return!0}return!1}function u8concat(et){var tt=et.reduce(function(at,it){return at+it.length},0),rt=new Uint8Array(tt),nt=0;return et.forEach(function(at){rt.set(at,nt),nt+=at.length}),rt}function popcnt(et){return et-=et>>1&1431655765,et=(et&858993459)+(et>>2&858993459),(et+(et>>4)&252645135)*16843009>>>24}function readDecimal128LE(et,tt){for(var rt=(et[tt+15]&127)<<7|et[tt+14]>>1,nt=et[tt+14]&1,at=tt+13;at>=tt;--at)nt=nt*256+et[at];return(et[tt+15]&128?-nt:nt)*Math.pow(10,rt-6176)}function writeDecimal128LE(et,tt,rt){var nt=Math.floor(rt==0?0:Math.LOG10E*Math.log(Math.abs(rt)))+6176-20,at=rt/Math.pow(10,nt-6176);et[tt+15]|=nt>>7,et[tt+14]|=(nt&127)<<1;for(var it=0;at>=1;++it,at/=256)et[tt+it]=at&255;et[tt+15]|=rt>=0?0:128}function parse_varint49(et,tt){var rt=tt?tt[0]:0,nt=et[rt]&127;e:if(et[rt++]>=128&&(nt|=(et[rt]&127)<<7,et[rt++]<128||(nt|=(et[rt]&127)<<14,et[rt++]<128)||(nt|=(et[rt]&127)<<21,et[rt++]<128)||(nt+=(et[rt]&127)*Math.pow(2,28),++rt,et[rt++]<128)||(nt+=(et[rt]&127)*Math.pow(2,35),++rt,et[rt++]<128)||(nt+=(et[rt]&127)*Math.pow(2,42),++rt,et[rt++]<128)))break e;return tt&&(tt[0]=rt),nt}function write_varint49(et){var tt=new Uint8Array(7);tt[0]=et&127;var rt=1;e:if(et>127){if(tt[rt-1]|=128,tt[rt]=et>>7&127,++rt,et<=16383||(tt[rt-1]|=128,tt[rt]=et>>14&127,++rt,et<=2097151)||(tt[rt-1]|=128,tt[rt]=et>>21&127,++rt,et<=268435455)||(tt[rt-1]|=128,tt[rt]=et/256>>>21&127,++rt,et<=34359738367)||(tt[rt-1]|=128,tt[rt]=et/65536>>>21&127,++rt,et<=4398046511103))break e;tt[rt-1]|=128,tt[rt]=et/16777216>>>21&127,++rt}return tt.slice(0,rt)}function varint_to_i32(et){var tt=0,rt=et[tt]&127;e:if(et[tt++]>=128){if(rt|=(et[tt]&127)<<7,et[tt++]<128||(rt|=(et[tt]&127)<<14,et[tt++]<128)||(rt|=(et[tt]&127)<<21,et[tt++]<128))break e;rt|=(et[tt]&127)<<28}return rt}function parse_shallow(et){for(var tt=[],rt=[0];rt[0]<et.length;){var nt=rt[0],at=parse_varint49(et,rt),it=at&7;at=Math.floor(at/8);var st=0,ot;if(at==0)break;switch(it){case 0:{for(var lt=rt[0];et[rt[0]++]>=128;);ot=et.slice(lt,rt[0])}break;case 5:st=4,ot=et.slice(rt[0],rt[0]+st),rt[0]+=st;break;case 1:st=8,ot=et.slice(rt[0],rt[0]+st),rt[0]+=st;break;case 2:st=parse_varint49(et,rt),ot=et.slice(rt[0],rt[0]+st),rt[0]+=st;break;case 3:case 4:default:throw new Error("PB Type ".concat(it," for Field ").concat(at," at offset ").concat(nt))}var ct={data:ot,type:it};tt[at]==null?tt[at]=[ct]:tt[at].push(ct)}return tt}function write_shallow(et){var tt=[];return et.forEach(function(rt,nt){rt.forEach(function(at){at.data&&(tt.push(write_varint49(nt*8+at.type)),at.type==2&&tt.push(write_varint49(at.data.length)),tt.push(at.data))})}),u8concat(tt)}function mappa(et,tt){return(et==null?void 0:et.map(function(rt){return tt(rt.data)}))||[]}function parse_iwa_file(et){for(var tt,rt=[],nt=[0];nt[0]<et.length;){var at=parse_varint49(et,nt),it=parse_shallow(et.slice(nt[0],nt[0]+at));nt[0]+=at;var st={id:varint_to_i32(it[1][0].data),messages:[]};it[2].forEach(function(ot){var lt=parse_shallow(ot.data),ct=varint_to_i32(lt[3][0].data);st.messages.push({meta:lt,data:et.slice(nt[0],nt[0]+ct)}),nt[0]+=ct}),(tt=it[3])!=null&&tt[0]&&(st.merge=varint_to_i32(it[3][0].data)>>>0>0),rt.push(st)}return rt}function write_iwa_file(et){var tt=[];return et.forEach(function(rt){var nt=[];nt[1]=[{data:write_varint49(rt.id),type:0}],nt[2]=[],rt.merge!=null&&(nt[3]=[{data:write_varint49(+!!rt.merge),type:0}]);var at=[];rt.messages.forEach(function(st){at.push(st.data),st.meta[3]=[{type:0,data:write_varint49(st.data.length)}],nt[2].push({data:write_shallow(st.meta),type:2})});var it=write_shallow(nt);tt.push(write_varint49(it.length)),tt.push(it),at.forEach(function(st){return tt.push(st)})}),u8concat(tt)}function parse_snappy_chunk(et,tt){if(et!=0)throw new Error("Unexpected Snappy chunk type ".concat(et));for(var rt=[0],nt=parse_varint49(tt,rt),at=[];rt[0]<tt.length;){var it=tt[rt[0]]&3;if(it==0){var st=tt[rt[0]++]>>2;if(st<60)++st;else{var ot=st-59;st=tt[rt[0]],ot>1&&(st|=tt[rt[0]+1]<<8),ot>2&&(st|=tt[rt[0]+2]<<16),ot>3&&(st|=tt[rt[0]+3]<<24),st>>>=0,st++,rt[0]+=ot}at.push(tt.slice(rt[0],rt[0]+st)),rt[0]+=st;continue}else{var lt=0,ct=0;if(it==1?(ct=(tt[rt[0]]>>2&7)+4,lt=(tt[rt[0]++]&224)<<3,lt|=tt[rt[0]++]):(ct=(tt[rt[0]++]>>2)+1,it==2?(lt=tt[rt[0]]|tt[rt[0]+1]<<8,rt[0]+=2):(lt=(tt[rt[0]]|tt[rt[0]+1]<<8|tt[rt[0]+2]<<16|tt[rt[0]+3]<<24)>>>0,rt[0]+=4)),at=[u8concat(at)],lt==0)throw new Error("Invalid offset 0");if(lt>at[0].length)throw new Error("Invalid offset beyond length");if(ct>=lt)for(at.push(at[0].slice(-lt)),ct-=lt;ct>=at[at.length-1].length;)at.push(at[at.length-1]),ct-=at[at.length-1].length;at.push(at[0].slice(-lt,-lt+ct))}}var ut=u8concat(at);if(ut.length!=nt)throw new Error("Unexpected length: ".concat(ut.length," != ").concat(nt));return ut}function decompress_iwa_file(et){for(var tt=[],rt=0;rt<et.length;){var nt=et[rt++],at=et[rt]|et[rt+1]<<8|et[rt+2]<<16;rt+=3,tt.push(parse_snappy_chunk(nt,et.slice(rt,rt+at))),rt+=at}if(rt!==et.length)throw new Error("data is not a valid framed stream!");return u8concat(tt)}function compress_iwa_file(et){for(var tt=[],rt=0;rt<et.length;){var nt=Math.min(et.length-rt,268435455),at=new Uint8Array(4);tt.push(at);var it=write_varint49(nt),st=it.length;tt.push(it),nt<=60?(st++,tt.push(new Uint8Array([nt-1<<2]))):nt<=256?(st+=2,tt.push(new Uint8Array([240,nt-1&255]))):nt<=65536?(st+=3,tt.push(new Uint8Array([244,nt-1&255,nt-1>>8&255]))):nt<=16777216?(st+=4,tt.push(new Uint8Array([248,nt-1&255,nt-1>>8&255,nt-1>>16&255]))):nt<=4294967296&&(st+=5,tt.push(new Uint8Array([252,nt-1&255,nt-1>>8&255,nt-1>>16&255,nt-1>>>24&255]))),tt.push(et.slice(rt,rt+nt)),st+=nt,at[0]=0,at[1]=st&255,at[2]=st>>8&255,at[3]=st>>16&255,rt+=nt}return u8concat(tt)}function parse_old_storage(et,tt,rt,nt){var at=u8_to_dataview(et),it=at.getUint32(4,!0),st=(nt>1?12:8)+popcnt(it&(nt>1?3470:398))*4,ot=-1,lt=-1,ct=NaN,ut=new Date(2001,0,1);it&512&&(ot=at.getUint32(st,!0),st+=4),st+=popcnt(it&(nt>1?12288:4096))*4,it&16&&(lt=at.getUint32(st,!0),st+=4),it&32&&(ct=at.getFloat64(st,!0),st+=8),it&64&&(ut.setTime(ut.getTime()+at.getFloat64(st,!0)*1e3),st+=8);var dt;switch(et[2]){case 0:break;case 2:dt={t:"n",v:ct};break;case 3:dt={t:"s",v:tt[lt]};break;case 5:dt={t:"d",v:ut};break;case 6:dt={t:"b",v:ct>0};break;case 7:dt={t:"n",v:ct/86400};break;case 8:dt={t:"e",v:0};break;case 9:if(ot>-1)dt={t:"s",v:rt[ot]};else if(lt>-1)dt={t:"s",v:tt[lt]};else if(!isNaN(ct))dt={t:"n",v:ct};else throw new Error("Unsupported cell type ".concat(et.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(et.slice(0,4)))}return dt}function parse_new_storage(et,tt,rt){var nt=u8_to_dataview(et),at=nt.getUint32(8,!0),it=12,st=-1,ot=-1,lt=NaN,ct=NaN,ut=new Date(2001,0,1);at&1&&(lt=readDecimal128LE(et,it),it+=16),at&2&&(ct=nt.getFloat64(it,!0),it+=8),at&4&&(ut.setTime(ut.getTime()+nt.getFloat64(it,!0)*1e3),it+=8),at&8&&(ot=nt.getUint32(it,!0),it+=4),at&16&&(st=nt.getUint32(it,!0),it+=4);var dt;switch(et[1]){case 0:break;case 2:dt={t:"n",v:lt};break;case 3:dt={t:"s",v:tt[ot]};break;case 5:dt={t:"d",v:ut};break;case 6:dt={t:"b",v:ct>0};break;case 7:dt={t:"n",v:ct/86400};break;case 8:dt={t:"e",v:0};break;case 9:if(st>-1)dt={t:"s",v:rt[st]};else throw new Error("Unsupported cell type ".concat(et[1]," : ").concat(at&31," : ").concat(et.slice(0,4)));break;case 10:dt={t:"n",v:lt};break;default:throw new Error("Unsupported cell type ".concat(et[1]," : ").concat(at&31," : ").concat(et.slice(0,4)))}return dt}function write_new_storage(et,tt){var rt=new Uint8Array(32),nt=u8_to_dataview(rt),at=12,it=0;switch(rt[0]=5,et.t){case"n":rt[1]=2,writeDecimal128LE(rt,at,et.v),it|=1,at+=16;break;case"b":rt[1]=6,nt.setFloat64(at,et.v?1:0,!0),it|=2,at+=8;break;case"s":if(tt.indexOf(et.v)==-1)throw new Error("Value ".concat(et.v," missing from SST!"));rt[1]=3,nt.setUint32(at,tt.indexOf(et.v),!0),it|=8,at+=4;break;default:throw"unsupported cell type "+et.t}return nt.setUint32(8,it,!0),rt.slice(0,at)}function write_old_storage(et,tt){var rt=new Uint8Array(32),nt=u8_to_dataview(rt),at=12,it=0;switch(rt[0]=3,et.t){case"n":rt[2]=2,nt.setFloat64(at,et.v,!0),it|=32,at+=8;break;case"b":rt[2]=6,nt.setFloat64(at,et.v?1:0,!0),it|=32,at+=8;break;case"s":if(tt.indexOf(et.v)==-1)throw new Error("Value ".concat(et.v," missing from SST!"));rt[2]=3,nt.setUint32(at,tt.indexOf(et.v),!0),it|=16,at+=4;break;default:throw"unsupported cell type "+et.t}return nt.setUint32(4,it,!0),rt.slice(0,at)}function parse_cell_storage(et,tt,rt){switch(et[0]){case 0:case 1:case 2:case 3:return parse_old_storage(et,tt,rt,et[0]);case 5:return parse_new_storage(et,tt,rt);default:throw new Error("Unsupported payload version ".concat(et[0]))}}function parse_TSP_Reference(et){var tt=parse_shallow(et);return parse_varint49(tt[1][0].data)}function parse_TST_TableDataList(et,tt){var rt=parse_shallow(tt.data),nt=varint_to_i32(rt[1][0].data),at=rt[3],it=[];return(at||[]).forEach(function(st){var ot=parse_shallow(st.data),lt=varint_to_i32(ot[1][0].data)>>>0;switch(nt){case 1:it[lt]=u8str(ot[3][0].data);break;case 8:{var ct=et[parse_TSP_Reference(ot[9][0].data)][0],ut=parse_shallow(ct.data),dt=et[parse_TSP_Reference(ut[1][0].data)][0],ft=varint_to_i32(dt.meta[1][0].data);if(ft!=2001)throw new Error("2000 unexpected reference to ".concat(ft));var ht=parse_shallow(dt.data);it[lt]=ht[3].map(function(gt){return u8str(gt.data)}).join("")}break}}),it}function parse_TST_TileRowInfo(et,tt){var rt,nt,at,it,st,ot,lt,ct,ut,dt,ft,ht,gt,mt,xt=parse_shallow(et),vt=varint_to_i32(xt[1][0].data)>>>0,_t=varint_to_i32(xt[2][0].data)>>>0,yt=((nt=(rt=xt[8])==null?void 0:rt[0])==null?void 0:nt.data)&&varint_to_i32(xt[8][0].data)>0||!1,St,bt;if((it=(at=xt[7])==null?void 0:at[0])!=null&&it.data&&tt!=0)St=(ot=(st=xt[7])==null?void 0:st[0])==null?void 0:ot.data,bt=(ct=(lt=xt[6])==null?void 0:lt[0])==null?void 0:ct.data;else if((dt=(ut=xt[4])==null?void 0:ut[0])!=null&&dt.data&&tt!=1)St=(ht=(ft=xt[4])==null?void 0:ft[0])==null?void 0:ht.data,bt=(mt=(gt=xt[3])==null?void 0:gt[0])==null?void 0:mt.data;else throw"NUMBERS Tile missing ".concat(tt," cell storage");for(var Et=yt?4:1,Tt=u8_to_dataview(St),At=[],Ct=0;Ct<St.length/2;++Ct){var kt=Tt.getUint16(Ct*2,!0);kt<65535&&At.push([Ct,kt])}if(At.length!=_t)throw"Expected ".concat(_t," cells, found ").concat(At.length);var Pt=[];for(Ct=0;Ct<At.length-1;++Ct)Pt[At[Ct][0]]=bt.subarray(At[Ct][1]*Et,At[Ct+1][1]*Et);return At.length>=1&&(Pt[At[At.length-1][0]]=bt.subarray(At[At.length-1][1]*Et)),{R:vt,cells:Pt}}function parse_TST_Tile(et,tt){var rt,nt=parse_shallow(tt.data),at=(rt=nt==null?void 0:nt[7])!=null&&rt[0]?varint_to_i32(nt[7][0].data)>>>0>0?1:0:-1,it=mappa(nt[5],function(st){return parse_TST_TileRowInfo(st,at)});return{nrows:varint_to_i32(nt[4][0].data)>>>0,data:it.reduce(function(st,ot){return st[ot.R]||(st[ot.R]=[]),ot.cells.forEach(function(lt,ct){if(st[ot.R][ct])throw new Error("Duplicate cell r=".concat(ot.R," c=").concat(ct));st[ot.R][ct]=lt}),st},[])}}function parse_TST_TableModelArchive(et,tt,rt){var nt,at=parse_shallow(tt.data),it={s:{r:0,c:0},e:{r:0,c:0}};if(it.e.r=(varint_to_i32(at[6][0].data)>>>0)-1,it.e.r<0)throw new Error("Invalid row varint ".concat(at[6][0].data));if(it.e.c=(varint_to_i32(at[7][0].data)>>>0)-1,it.e.c<0)throw new Error("Invalid col varint ".concat(at[7][0].data));rt["!ref"]=encode_range(it);var st=parse_shallow(at[4][0].data),ot=parse_TST_TableDataList(et,et[parse_TSP_Reference(st[4][0].data)][0]),lt=(nt=st[17])!=null&&nt[0]?parse_TST_TableDataList(et,et[parse_TSP_Reference(st[17][0].data)][0]):[],ct=parse_shallow(st[3][0].data),ut=0;ct[1].forEach(function(dt){var ft=parse_shallow(dt.data),ht=et[parse_TSP_Reference(ft[2][0].data)][0],gt=varint_to_i32(ht.meta[1][0].data);if(gt!=6002)throw new Error("6001 unexpected reference to ".concat(gt));var mt=parse_TST_Tile(et,ht);mt.data.forEach(function(xt,vt){xt.forEach(function(_t,yt){var St=encode_cell({r:ut+vt,c:yt}),bt=parse_cell_storage(_t,ot,lt);bt&&(rt[St]=bt)})}),ut+=mt.nrows})}function parse_TST_TableInfoArchive(et,tt){var rt=parse_shallow(tt.data),nt={"!ref":"A1"},at=et[parse_TSP_Reference(rt[2][0].data)],it=varint_to_i32(at[0].meta[1][0].data);if(it!=6001)throw new Error("6000 unexpected reference to ".concat(it));return parse_TST_TableModelArchive(et,at[0],nt),nt}function parse_TN_SheetArchive(et,tt){var rt,nt=parse_shallow(tt.data),at={name:(rt=nt[1])!=null&&rt[0]?u8str(nt[1][0].data):"",sheets:[]},it=mappa(nt[2],parse_TSP_Reference);return it.forEach(function(st){et[st].forEach(function(ot){var lt=varint_to_i32(ot.meta[1][0].data);lt==6e3&&at.sheets.push(parse_TST_TableInfoArchive(et,ot))})}),at}function parse_TN_DocumentArchive(et,tt){var rt=book_new(),nt=parse_shallow(tt.data),at=mappa(nt[1],parse_TSP_Reference);if(at.forEach(function(it){et[it].forEach(function(st){var ot=varint_to_i32(st.meta[1][0].data);if(ot==2){var lt=parse_TN_SheetArchive(et,st);lt.sheets.forEach(function(ct,ut){book_append_sheet(rt,ct,ut==0?lt.name:lt.name+"_"+ut,!0)})}})}),rt.SheetNames.length==0)throw new Error("Empty NUMBERS file");return rt}function parse_numbers_iwa(et){var tt,rt,nt,at,it={},st=[];if(et.FullPaths.forEach(function(lt){if(lt.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),et.FileIndex.forEach(function(lt){if(lt.name.match(/\.iwa$/)){var ct;try{ct=decompress_iwa_file(lt.content)}catch(dt){return console.log("?? "+lt.content.length+" "+(dt.message||dt))}var ut;try{ut=parse_iwa_file(ct)}catch(dt){return console.log("## "+(dt.message||dt))}ut.forEach(function(dt){it[dt.id]=dt.messages,st.push(dt.id)})}}),!st.length)throw new Error("File has no messages");var ot=((at=(nt=(rt=(tt=it==null?void 0:it[1])==null?void 0:tt[0])==null?void 0:rt.meta)==null?void 0:nt[1])==null?void 0:at[0].data)&&varint_to_i32(it[1][0].meta[1][0].data)==1&&it[1][0];if(ot||st.forEach(function(lt){it[lt].forEach(function(ct){var ut=varint_to_i32(ct.meta[1][0].data)>>>0;if(ut==1)if(!ot)ot=ct;else throw new Error("Document has multiple roots")})}),!ot)throw new Error("Cannot find Document root");return parse_TN_DocumentArchive(it,ot)}function write_tile_row(et,tt,rt){var nt,at,it,st;if(!((nt=et[6])!=null&&nt[0])||!((at=et[7])!=null&&at[0]))throw"Mutation only works on post-BNC storages!";var ot=((st=(it=et[8])==null?void 0:it[0])==null?void 0:st.data)&&varint_to_i32(et[8][0].data)>0||!1;if(ot)throw"Math only works with normal offsets";for(var lt=0,ct=u8_to_dataview(et[7][0].data),ut=0,dt=[],ft=u8_to_dataview(et[4][0].data),ht=0,gt=[],mt=0;mt<tt.length;++mt){if(tt[mt]==null){ct.setUint16(mt*2,65535,!0),ft.setUint16(mt*2,65535);continue}ct.setUint16(mt*2,ut,!0),ft.setUint16(mt*2,ht,!0);var xt,vt;switch(typeof tt[mt]){case"string":xt=write_new_storage({t:"s",v:tt[mt]},rt),vt=write_old_storage({t:"s",v:tt[mt]},rt);break;case"number":xt=write_new_storage({t:"n",v:tt[mt]},rt),vt=write_old_storage({t:"n",v:tt[mt]},rt);break;case"boolean":xt=write_new_storage({t:"b",v:tt[mt]},rt),vt=write_old_storage({t:"b",v:tt[mt]},rt);break;default:throw new Error("Unsupported value "+tt[mt])}dt.push(xt),ut+=xt.length,gt.push(vt),ht+=vt.length,++lt}for(et[2][0].data=write_varint49(lt);mt<et[7][0].data.length/2;++mt)ct.setUint16(mt*2,65535,!0),ft.setUint16(mt*2,65535,!0);return et[6][0].data=u8concat(dt),et[3][0].data=u8concat(gt),lt}function write_numbers_iwa(et,tt){if(!tt||!tt.numbers)throw new Error("Must pass a `numbers` option -- check the README");var rt=et.Sheets[et.SheetNames[0]];et.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var nt=decode_range(rt["!ref"]);nt.s.r=nt.s.c=0;var at=!1;nt.e.c>9&&(at=!0,nt.e.c=9),nt.e.r>49&&(at=!0,nt.e.r=49),at&&console.error("The Numbers writer is currently limited to ".concat(encode_range(nt)));var it=sheet_to_json(rt,{range:nt,header:1}),st=["~Sh33tJ5~"];it.forEach(function(Lt){return Lt.forEach(function(jt){typeof jt=="string"&&st.push(jt)})});var ot={},lt=[],ct=CFB.read(tt.numbers,{type:"base64"});ct.FileIndex.map(function(Lt,jt){return[Lt,ct.FullPaths[jt]]}).forEach(function(Lt){var jt=Lt[0],Nt=Lt[1];if(jt.type==2&&jt.name.match(/\.iwa/)){var Mt=jt.content,Vt=decompress_iwa_file(Mt),Gt=parse_iwa_file(Vt);Gt.forEach(function(Zt){lt.push(Zt.id),ot[Zt.id]={deps:[],location:Nt,type:varint_to_i32(Zt.messages[0].meta[1][0].data)}})}}),lt.sort(function(Lt,jt){return Lt-jt});var ut=lt.filter(function(Lt){return Lt>1}).map(function(Lt){return[Lt,write_varint49(Lt)]});ct.FileIndex.map(function(Lt,jt){return[Lt,ct.FullPaths[jt]]}).forEach(function(Lt){var jt=Lt[0];if(Lt[1],!!jt.name.match(/\.iwa/)){var Nt=parse_iwa_file(decompress_iwa_file(jt.content));Nt.forEach(function(Mt){Mt.messages.forEach(function(Vt){ut.forEach(function(Gt){Mt.messages.some(function(Zt){return varint_to_i32(Zt.meta[1][0].data)!=11006&&u8contains(Zt.data,Gt[1])})&&ot[Gt[0]].deps.push(Mt.id)})})})}});for(var dt=CFB.find(ct,ot[1].location),ft=parse_iwa_file(decompress_iwa_file(dt.content)),ht,gt=0;gt<ft.length;++gt){var mt=ft[gt];mt.id==1&&(ht=mt)}var xt=parse_TSP_Reference(parse_shallow(ht.messages[0].data)[1][0].data);for(dt=CFB.find(ct,ot[xt].location),ft=parse_iwa_file(decompress_iwa_file(dt.content)),gt=0;gt<ft.length;++gt)mt=ft[gt],mt.id==xt&&(ht=mt);for(xt=parse_TSP_Reference(parse_shallow(ht.messages[0].data)[2][0].data),dt=CFB.find(ct,ot[xt].location),ft=parse_iwa_file(decompress_iwa_file(dt.content)),gt=0;gt<ft.length;++gt)mt=ft[gt],mt.id==xt&&(ht=mt);for(xt=parse_TSP_Reference(parse_shallow(ht.messages[0].data)[2][0].data),dt=CFB.find(ct,ot[xt].location),ft=parse_iwa_file(decompress_iwa_file(dt.content)),gt=0;gt<ft.length;++gt)mt=ft[gt],mt.id==xt&&(ht=mt);var vt=parse_shallow(ht.messages[0].data);{vt[6][0].data=write_varint49(nt.e.r+1),vt[7][0].data=write_varint49(nt.e.c+1);var _t=parse_TSP_Reference(vt[46][0].data),yt=CFB.find(ct,ot[_t].location),St=parse_iwa_file(decompress_iwa_file(yt.content));{for(var bt=0;bt<St.length&&St[bt].id!=_t;++bt);if(St[bt].id!=_t)throw"Bad ColumnRowUIDMapArchive";var Et=parse_shallow(St[bt].messages[0].data);Et[1]=[],Et[2]=[],Et[3]=[];for(var Tt=0;Tt<=nt.e.c;++Tt){var At=[];At[1]=At[2]=[{type:0,data:write_varint49(Tt+420690)}],Et[1].push({type:2,data:write_shallow(At)}),Et[2].push({type:0,data:write_varint49(Tt)}),Et[3].push({type:0,data:write_varint49(Tt)})}Et[4]=[],Et[5]=[],Et[6]=[];for(var Ct=0;Ct<=nt.e.r;++Ct)At=[],At[1]=At[2]=[{type:0,data:write_varint49(Ct+726270)}],Et[4].push({type:2,data:write_shallow(At)}),Et[5].push({type:0,data:write_varint49(Ct)}),Et[6].push({type:0,data:write_varint49(Ct)});St[bt].messages[0].data=write_shallow(Et)}yt.content=compress_iwa_file(write_iwa_file(St)),yt.size=yt.content.length,delete vt[46];var kt=parse_shallow(vt[4][0].data);{kt[7][0].data=write_varint49(nt.e.r+1);var Pt=parse_shallow(kt[1][0].data),Dt=parse_TSP_Reference(Pt[2][0].data);yt=CFB.find(ct,ot[Dt].location),St=parse_iwa_file(decompress_iwa_file(yt.content));{if(St[0].id!=Dt)throw"Bad HeaderStorageBucket";var Ft=parse_shallow(St[0].messages[0].data);for(Ct=0;Ct<it.length;++Ct){var Ot=parse_shallow(Ft[2][0].data);Ot[1][0].data=write_varint49(Ct),Ot[4][0].data=write_varint49(it[Ct].length),Ft[2][Ct]={type:Ft[2][0].type,data:write_shallow(Ot)}}St[0].messages[0].data=write_shallow(Ft)}yt.content=compress_iwa_file(write_iwa_file(St)),yt.size=yt.content.length;var It=parse_TSP_Reference(kt[2][0].data);yt=CFB.find(ct,ot[It].location),St=parse_iwa_file(decompress_iwa_file(yt.content));{if(St[0].id!=It)throw"Bad HeaderStorageBucket";for(Ft=parse_shallow(St[0].messages[0].data),Tt=0;Tt<=nt.e.c;++Tt)Ot=parse_shallow(Ft[2][0].data),Ot[1][0].data=write_varint49(Tt),Ot[4][0].data=write_varint49(nt.e.r+1),Ft[2][Tt]={type:Ft[2][0].type,data:write_shallow(Ot)};St[0].messages[0].data=write_shallow(Ft)}yt.content=compress_iwa_file(write_iwa_file(St)),yt.size=yt.content.length;var Bt=parse_TSP_Reference(kt[4][0].data);(function(){for(var Lt=CFB.find(ct,ot[Bt].location),jt=parse_iwa_file(decompress_iwa_file(Lt.content)),Nt,Mt=0;Mt<jt.length;++Mt){var Vt=jt[Mt];Vt.id==Bt&&(Nt=Vt)}var Gt=parse_shallow(Nt.messages[0].data);{Gt[3]=[];var Zt=[];st.forEach(function(Kt,pr){Zt[1]=[{type:0,data:write_varint49(pr)}],Zt[2]=[{type:0,data:write_varint49(1)}],Zt[3]=[{type:2,data:stru8(Kt)}],Gt[3].push({type:2,data:write_shallow(Zt)})})}Nt.messages[0].data=write_shallow(Gt);var er=write_iwa_file(jt),ar=compress_iwa_file(er);Lt.content=ar,Lt.size=Lt.content.length})();var qt=parse_shallow(kt[3][0].data);{var Ut=qt[1][0];delete qt[2];var Ht=parse_shallow(Ut.data);{var Qt=parse_TSP_Reference(Ht[2][0].data);(function(){for(var Lt=CFB.find(ct,ot[Qt].location),jt=parse_iwa_file(decompress_iwa_file(Lt.content)),Nt,Mt=0;Mt<jt.length;++Mt){var Vt=jt[Mt];Vt.id==Qt&&(Nt=Vt)}var Gt=parse_shallow(Nt.messages[0].data);{delete Gt[6],delete qt[7];var Zt=new Uint8Array(Gt[5][0].data);Gt[5]=[];for(var er=0,ar=0;ar<=nt.e.r;++ar){var Kt=parse_shallow(Zt);er+=write_tile_row(Kt,it[ar],st),Kt[1][0].data=write_varint49(ar),Gt[5].push({data:write_shallow(Kt),type:2})}Gt[1]=[{type:0,data:write_varint49(nt.e.c+1)}],Gt[2]=[{type:0,data:write_varint49(nt.e.r+1)}],Gt[3]=[{type:0,data:write_varint49(er)}],Gt[4]=[{type:0,data:write_varint49(nt.e.r+1)}]}Nt.messages[0].data=write_shallow(Gt);var pr=write_iwa_file(jt),fr=compress_iwa_file(pr);Lt.content=fr,Lt.size=Lt.content.length})()}Ut.data=write_shallow(Ht)}kt[3][0].data=write_shallow(qt)}vt[4][0].data=write_shallow(kt)}ht.messages[0].data=write_shallow(vt);var ir=write_iwa_file(ft),Xt=compress_iwa_file(ir);return dt.content=Xt,dt.size=dt.content.length,ct}function fix_opts_func(et){return function(rt){for(var nt=0;nt!=et.length;++nt){var at=et[nt];rt[at[0]]===void 0&&(rt[at[0]]=at[1]),at[2]==="n"&&(rt[at[0]]=Number(rt[at[0]]))}}}function fix_read_opts(et){fix_opts_func([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(et)}function fix_write_opts(et){fix_opts_func([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(et)}function get_sheet_type(et){return RELS.WS.indexOf(et)>-1?"sheet":et==RELS.CS?"chart":et==RELS.DS?"dialog":et==RELS.MS?"macro":et&&et.length?et:"sheet"}function safe_parse_wbrels(et,tt){if(!et)return 0;try{et=tt.map(function(nt){return nt.id||(nt.id=nt.strRelID),[nt.name,et["!id"][nt.id].Target,get_sheet_type(et["!id"][nt.id].Type)]})}catch{return null}return!et||et.length===0?null:et}function safe_parse_sheet(et,tt,rt,nt,at,it,st,ot,lt,ct,ut,dt){try{it[nt]=parse_rels(getzipstr(et,rt,!0),tt);var ft=getzipdata(et,tt),ht;switch(ot){case"sheet":ht=parse_ws(ft,tt,at,lt,it[nt],ct,ut,dt);break;case"chart":if(ht=parse_cs(ft,tt,at,lt,it[nt],ct,ut,dt),!ht||!ht["!drawel"])break;var gt=resolve_path(ht["!drawel"].Target,tt),mt=get_rels_path(gt),xt=parse_drawing(getzipstr(et,gt,!0),parse_rels(getzipstr(et,mt,!0),gt)),vt=resolve_path(xt,gt),_t=get_rels_path(vt);ht=parse_chart(getzipstr(et,vt,!0),vt,lt,parse_rels(getzipstr(et,_t,!0),vt),ct,ht);break;case"macro":ht=parse_ms(ft,tt,at,lt,it[nt],ct,ut,dt);break;case"dialog":ht=parse_ds(ft,tt,at,lt,it[nt],ct,ut,dt);break;default:throw new Error("Unrecognized sheet type "+ot)}st[nt]=ht;var yt=[];it&&it[nt]&&keys$5(it[nt]).forEach(function(St){var bt="";if(it[nt][St].Type==RELS.CMNT){bt=resolve_path(it[nt][St].Target,tt);var Et=parse_cmnt(getzipdata(et,bt,!0),bt,lt);if(!Et||!Et.length)return;sheet_insert_comments(ht,Et,!1)}it[nt][St].Type==RELS.TCMNT&&(bt=resolve_path(it[nt][St].Target,tt),yt=yt.concat(parse_tcmnt_xml(getzipdata(et,bt,!0),lt)))}),yt&&yt.length&&sheet_insert_comments(ht,yt,!0,lt.people||[])}catch(St){if(lt.WTF)throw St}}function strip_front_slash(et){return et.charAt(0)=="/"?et.slice(1):et}function parse_zip(et,tt){if(make_ssf(),tt=tt||{},fix_read_opts(tt),safegetzipfile(et,"META-INF/manifest.xml")||safegetzipfile(et,"objectdata.xml"))return parse_ods(et,tt);if(safegetzipfile(et,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof parse_numbers_iwa<"u"){if(et.FileIndex)return parse_numbers_iwa(et);var rt=CFB.utils.cfb_new();return zipentries(et).forEach(function(Ot){zip_add_file(rt,Ot,getzipbin(et,Ot))}),parse_numbers_iwa(rt)}throw new Error("Unsupported NUMBERS file")}if(!safegetzipfile(et,"[Content_Types].xml"))throw safegetzipfile(et,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):safegetzipfile(et,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var nt=zipentries(et),at=parse_ct(getzipstr(et,"[Content_Types].xml")),it=!1,st,ot;if(at.workbooks.length===0&&(ot="xl/workbook.xml",getzipdata(et,ot,!0)&&at.workbooks.push(ot)),at.workbooks.length===0){if(ot="xl/workbook.bin",!getzipdata(et,ot,!0))throw new Error("Could not find workbook");at.workbooks.push(ot),it=!0}at.workbooks[0].slice(-3)=="bin"&&(it=!0);var lt={},ct={};if(!tt.bookSheets&&!tt.bookProps){if(strs=[],at.sst)try{strs=parse_sst(getzipdata(et,strip_front_slash(at.sst)),at.sst,tt)}catch(Ot){if(tt.WTF)throw Ot}tt.cellStyles&&at.themes.length&&(lt=parse_theme(getzipstr(et,at.themes[0].replace(/^\//,""),!0)||"",at.themes[0],tt)),at.style&&(ct=parse_sty(getzipdata(et,strip_front_slash(at.style)),at.style,lt,tt))}at.links.map(function(Ot){try{var It=parse_rels(getzipstr(et,get_rels_path(strip_front_slash(Ot))),Ot);return parse_xlink(getzipdata(et,strip_front_slash(Ot)),It,Ot,tt)}catch{}});var ut=parse_wb(getzipdata(et,strip_front_slash(at.workbooks[0])),at.workbooks[0],tt),dt={},ft="";at.coreprops.length&&(ft=getzipdata(et,strip_front_slash(at.coreprops[0]),!0),ft&&(dt=parse_core_props(ft)),at.extprops.length!==0&&(ft=getzipdata(et,strip_front_slash(at.extprops[0]),!0),ft&&parse_ext_props(ft,dt,tt)));var ht={};(!tt.bookSheets||tt.bookProps)&&at.custprops.length!==0&&(ft=getzipstr(et,strip_front_slash(at.custprops[0]),!0),ft&&(ht=parse_cust_props(ft,tt)));var gt={};if((tt.bookSheets||tt.bookProps)&&(ut.Sheets?st=ut.Sheets.map(function(It){return It.name}):dt.Worksheets&&dt.SheetNames.length>0&&(st=dt.SheetNames),tt.bookProps&&(gt.Props=dt,gt.Custprops=ht),tt.bookSheets&&typeof st<"u"&&(gt.SheetNames=st),tt.bookSheets?gt.SheetNames:tt.bookProps))return gt;st={};var mt={};tt.bookDeps&&at.calcchain&&(mt=parse_cc(getzipdata(et,strip_front_slash(at.calcchain)),at.calcchain));var xt=0,vt={},_t,yt;{var St=ut.Sheets;dt.Worksheets=St.length,dt.SheetNames=[];for(var bt=0;bt!=St.length;++bt)dt.SheetNames[bt]=St[bt].name}var Et=it?"bin":"xml",Tt=at.workbooks[0].lastIndexOf("/"),At=(at.workbooks[0].slice(0,Tt+1)+"_rels/"+at.workbooks[0].slice(Tt+1)+".rels").replace(/^\//,"");safegetzipfile(et,At)||(At="xl/_rels/workbook."+Et+".rels");var Ct=parse_rels(getzipstr(et,At,!0),At.replace(/_rels.*/,"s5s"));(at.metadata||[]).length>=1&&(tt.xlmeta=parse_xlmeta(getzipdata(et,strip_front_slash(at.metadata[0])),at.metadata[0],tt)),(at.people||[]).length>=1&&(tt.people=parse_people_xml(getzipdata(et,strip_front_slash(at.people[0])),tt)),Ct&&(Ct=safe_parse_wbrels(Ct,ut.Sheets));var kt=getzipdata(et,"xl/worksheets/sheet.xml",!0)?1:0;e:for(xt=0;xt!=dt.Worksheets;++xt){var Pt="sheet";if(Ct&&Ct[xt]?(_t="xl/"+Ct[xt][1].replace(/[\/]?xl\//,""),safegetzipfile(et,_t)||(_t=Ct[xt][1]),safegetzipfile(et,_t)||(_t=At.replace(/_rels\/.*$/,"")+Ct[xt][1]),Pt=Ct[xt][2]):(_t="xl/worksheets/sheet"+(xt+1-kt)+"."+Et,_t=_t.replace(/sheet0\./,"sheet.")),yt=_t.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),tt&&tt.sheets!=null)switch(typeof tt.sheets){case"number":if(xt!=tt.sheets)continue e;break;case"string":if(dt.SheetNames[xt].toLowerCase()!=tt.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(tt.sheets)){for(var Dt=!1,Ft=0;Ft!=tt.sheets.length;++Ft)typeof tt.sheets[Ft]=="number"&&tt.sheets[Ft]==xt&&(Dt=1),typeof tt.sheets[Ft]=="string"&&tt.sheets[Ft].toLowerCase()==dt.SheetNames[xt].toLowerCase()&&(Dt=1);if(!Dt)continue e}}safe_parse_sheet(et,_t,yt,dt.SheetNames[xt],xt,vt,st,Pt,tt,ut,lt,ct)}return gt={Directory:at,Workbook:ut,Props:dt,Custprops:ht,Deps:mt,Sheets:st,SheetNames:dt.SheetNames,Strings:strs,Styles:ct,Themes:lt,SSF:dup(table_fmt)},tt&&tt.bookFiles&&(et.files?(gt.keys=nt,gt.files=et.files):(gt.keys=[],gt.files={},et.FullPaths.forEach(function(Ot,It){Ot=Ot.replace(/^Root Entry[\/]/,""),gt.keys.push(Ot),gt.files[Ot]=et.FileIndex[It]}))),tt&&tt.bookVBA&&(at.vba.length>0?gt.vbaraw=getzipdata(et,strip_front_slash(at.vba[0]),!0):at.defaults&&at.defaults.bin===CT_VBA&&(gt.vbaraw=getzipdata(et,"xl/vbaProject.bin",!0))),gt}function parse_xlsxcfb(et,tt){var rt=tt||{},nt="Workbook",at=CFB.find(et,nt);try{if(nt="/!DataSpaces/Version",at=CFB.find(et,nt),!at||!at.content)throw new Error("ECMA-376 Encrypted file missing "+nt);if(parse_DataSpaceVersionInfo(at.content),nt="/!DataSpaces/DataSpaceMap",at=CFB.find(et,nt),!at||!at.content)throw new Error("ECMA-376 Encrypted file missing "+nt);var it=parse_DataSpaceMap(at.content);if(it.length!==1||it[0].comps.length!==1||it[0].comps[0].t!==0||it[0].name!=="StrongEncryptionDataSpace"||it[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+nt);if(nt="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",at=CFB.find(et,nt),!at||!at.content)throw new Error("ECMA-376 Encrypted file missing "+nt);var st=parse_DataSpaceDefinition(at.content);if(st.length!=1||st[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+nt);if(nt="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",at=CFB.find(et,nt),!at||!at.content)throw new Error("ECMA-376 Encrypted file missing "+nt);parse_Primary(at.content)}catch{}if(nt="/EncryptionInfo",at=CFB.find(et,nt),!at||!at.content)throw new Error("ECMA-376 Encrypted file missing "+nt);var ot=parse_EncryptionInfo(at.content);if(nt="/EncryptedPackage",at=CFB.find(et,nt),!at||!at.content)throw new Error("ECMA-376 Encrypted file missing "+nt);if(ot[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(ot[1],at.content,rt.password||"",rt);if(ot[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(ot[1],at.content,rt.password||"",rt);throw new Error("File is password-protected")}function write_zip(et,tt){return tt.bookType=="ods"?write_ods(et,tt):tt.bookType=="numbers"?write_numbers_iwa(et,tt):tt.bookType=="xlsb"?write_zip_xlsxb(et,tt):write_zip_xlsx(et,tt)}function write_zip_xlsxb(et,tt){_shapeid=1024,et&&!et.SSF&&(et.SSF=dup(table_fmt)),et&&et.SSF&&(make_ssf(),SSF_load_table(et.SSF),tt.revssf=evert_num(et.SSF),tt.revssf[et.SSF[65535]]=0,tt.ssf=et.SSF),tt.rels={},tt.wbrels={},tt.Strings=[],tt.Strings.Count=0,tt.Strings.Unique=0,browser_has_Map?tt.revStrings=new Map:(tt.revStrings={},tt.revStrings.foo=[],delete tt.revStrings.foo);var rt=tt.bookType=="xlsb"?"bin":"xml",nt=VBAFMTS.indexOf(tt.bookType)>-1,at=new_ct();fix_write_opts(tt=tt||{});var it=zip_new(),st="",ot=0;if(tt.cellXfs=[],get_cell_style(tt.cellXfs,{},{revssf:{General:0}}),et.Props||(et.Props={}),st="docProps/core.xml",zip_add_file(it,st,write_core_props(et.Props,tt)),at.coreprops.push(st),add_rels(tt.rels,2,st,RELS.CORE_PROPS),st="docProps/app.xml",!(et.Props&&et.Props.SheetNames))if(!et.Workbook||!et.Workbook.Sheets)et.Props.SheetNames=et.SheetNames;else{for(var lt=[],ct=0;ct<et.SheetNames.length;++ct)(et.Workbook.Sheets[ct]||{}).Hidden!=2&&lt.push(et.SheetNames[ct]);et.Props.SheetNames=lt}for(et.Props.Worksheets=et.Props.SheetNames.length,zip_add_file(it,st,write_ext_props(et.Props)),at.extprops.push(st),add_rels(tt.rels,3,st,RELS.EXT_PROPS),et.Custprops!==et.Props&&keys$5(et.Custprops||{}).length>0&&(st="docProps/custom.xml",zip_add_file(it,st,write_cust_props(et.Custprops)),at.custprops.push(st),add_rels(tt.rels,4,st,RELS.CUST_PROPS)),ot=1;ot<=et.SheetNames.length;++ot){var ut={"!id":{}},dt=et.Sheets[et.SheetNames[ot-1]],ft=(dt||{})["!type"]||"sheet";switch(ft){case"chart":default:st="xl/worksheets/sheet"+ot+"."+rt,zip_add_file(it,st,write_ws(ot-1,st,tt,et,ut)),at.sheets.push(st),add_rels(tt.wbrels,-1,"worksheets/sheet"+ot+"."+rt,RELS.WS[0])}if(dt){var ht=dt["!comments"],gt=!1,mt="";ht&&ht.length>0&&(mt="xl/comments"+ot+"."+rt,zip_add_file(it,mt,write_cmnt(ht,mt)),at.comments.push(mt),add_rels(ut,-1,"../comments"+ot+"."+rt,RELS.CMNT),gt=!0),dt["!legacy"]&&gt&&zip_add_file(it,"xl/drawings/vmlDrawing"+ot+".vml",write_comments_vml(ot,dt["!comments"])),delete dt["!comments"],delete dt["!legacy"]}ut["!id"].rId1&&zip_add_file(it,get_rels_path(st),write_rels(ut))}return tt.Strings!=null&&tt.Strings.length>0&&(st="xl/sharedStrings."+rt,zip_add_file(it,st,write_sst(tt.Strings,st,tt)),at.strs.push(st),add_rels(tt.wbrels,-1,"sharedStrings."+rt,RELS.SST)),st="xl/workbook."+rt,zip_add_file(it,st,write_wb(et,st)),at.workbooks.push(st),add_rels(tt.rels,1,st,RELS.WB),st="xl/theme/theme1.xml",zip_add_file(it,st,write_theme(et.Themes,tt)),at.themes.push(st),add_rels(tt.wbrels,-1,"theme/theme1.xml",RELS.THEME),st="xl/styles."+rt,zip_add_file(it,st,write_sty(et,st,tt)),at.styles.push(st),add_rels(tt.wbrels,-1,"styles."+rt,RELS.STY),et.vbaraw&&nt&&(st="xl/vbaProject.bin",zip_add_file(it,st,et.vbaraw),at.vba.push(st),add_rels(tt.wbrels,-1,"vbaProject.bin",RELS.VBA)),st="xl/metadata."+rt,zip_add_file(it,st,write_xlmeta(st)),at.metadata.push(st),add_rels(tt.wbrels,-1,"metadata."+rt,RELS.XLMETA),zip_add_file(it,"[Content_Types].xml",write_ct(at,tt)),zip_add_file(it,"_rels/.rels",write_rels(tt.rels)),zip_add_file(it,"xl/_rels/workbook."+rt+".rels",write_rels(tt.wbrels)),delete tt.revssf,delete tt.ssf,it}function write_zip_xlsx(et,tt){_shapeid=1024,et&&!et.SSF&&(et.SSF=dup(table_fmt)),et&&et.SSF&&(make_ssf(),SSF_load_table(et.SSF),tt.revssf=evert_num(et.SSF),tt.revssf[et.SSF[65535]]=0,tt.ssf=et.SSF),tt.rels={},tt.wbrels={},tt.Strings=[],tt.Strings.Count=0,tt.Strings.Unique=0,browser_has_Map?tt.revStrings=new Map:(tt.revStrings={},tt.revStrings.foo=[],delete tt.revStrings.foo);var rt="xml",nt=VBAFMTS.indexOf(tt.bookType)>-1,at=new_ct();fix_write_opts(tt=tt||{});var it=zip_new(),st="",ot=0;if(tt.cellXfs=[],get_cell_style(tt.cellXfs,{},{revssf:{General:0}}),et.Props||(et.Props={}),st="docProps/core.xml",zip_add_file(it,st,write_core_props(et.Props,tt)),at.coreprops.push(st),add_rels(tt.rels,2,st,RELS.CORE_PROPS),st="docProps/app.xml",!(et.Props&&et.Props.SheetNames))if(!et.Workbook||!et.Workbook.Sheets)et.Props.SheetNames=et.SheetNames;else{for(var lt=[],ct=0;ct<et.SheetNames.length;++ct)(et.Workbook.Sheets[ct]||{}).Hidden!=2&&lt.push(et.SheetNames[ct]);et.Props.SheetNames=lt}et.Props.Worksheets=et.Props.SheetNames.length,zip_add_file(it,st,write_ext_props(et.Props)),at.extprops.push(st),add_rels(tt.rels,3,st,RELS.EXT_PROPS),et.Custprops!==et.Props&&keys$5(et.Custprops||{}).length>0&&(st="docProps/custom.xml",zip_add_file(it,st,write_cust_props(et.Custprops)),at.custprops.push(st),add_rels(tt.rels,4,st,RELS.CUST_PROPS));var ut=["SheetJ5"];for(tt.tcid=0,ot=1;ot<=et.SheetNames.length;++ot){var dt={"!id":{}},ft=et.Sheets[et.SheetNames[ot-1]],ht=(ft||{})["!type"]||"sheet";switch(ht){case"chart":default:st="xl/worksheets/sheet"+ot+"."+rt,zip_add_file(it,st,write_ws_xml(ot-1,tt,et,dt)),at.sheets.push(st),add_rels(tt.wbrels,-1,"worksheets/sheet"+ot+"."+rt,RELS.WS[0])}if(ft){var gt=ft["!comments"],mt=!1,xt="";if(gt&&gt.length>0){var vt=!1;gt.forEach(function(_t){_t[1].forEach(function(yt){yt.T==!0&&(vt=!0)})}),vt&&(xt="xl/threadedComments/threadedComment"+ot+"."+rt,zip_add_file(it,xt,write_tcmnt_xml(gt,ut,tt)),at.threadedcomments.push(xt),add_rels(dt,-1,"../threadedComments/threadedComment"+ot+"."+rt,RELS.TCMNT)),xt="xl/comments"+ot+"."+rt,zip_add_file(it,xt,write_comments_xml(gt)),at.comments.push(xt),add_rels(dt,-1,"../comments"+ot+"."+rt,RELS.CMNT),mt=!0}ft["!legacy"]&&mt&&zip_add_file(it,"xl/drawings/vmlDrawing"+ot+".vml",write_comments_vml(ot,ft["!comments"])),delete ft["!comments"],delete ft["!legacy"]}dt["!id"].rId1&&zip_add_file(it,get_rels_path(st),write_rels(dt))}return tt.Strings!=null&&tt.Strings.length>0&&(st="xl/sharedStrings."+rt,zip_add_file(it,st,write_sst_xml(tt.Strings,tt)),at.strs.push(st),add_rels(tt.wbrels,-1,"sharedStrings."+rt,RELS.SST)),st="xl/workbook."+rt,zip_add_file(it,st,write_wb_xml(et)),at.workbooks.push(st),add_rels(tt.rels,1,st,RELS.WB),st="xl/theme/theme1.xml",zip_add_file(it,st,write_theme(et.Themes,tt)),at.themes.push(st),add_rels(tt.wbrels,-1,"theme/theme1.xml",RELS.THEME),st="xl/styles."+rt,zip_add_file(it,st,write_sty_xml(et,tt)),at.styles.push(st),add_rels(tt.wbrels,-1,"styles."+rt,RELS.STY),et.vbaraw&&nt&&(st="xl/vbaProject.bin",zip_add_file(it,st,et.vbaraw),at.vba.push(st),add_rels(tt.wbrels,-1,"vbaProject.bin",RELS.VBA)),st="xl/metadata."+rt,zip_add_file(it,st,write_xlmeta_xml()),at.metadata.push(st),add_rels(tt.wbrels,-1,"metadata."+rt,RELS.XLMETA),ut.length>1&&(st="xl/persons/person.xml",zip_add_file(it,st,write_people_xml(ut)),at.people.push(st),add_rels(tt.wbrels,-1,"persons/person.xml",RELS.PEOPLE)),zip_add_file(it,"[Content_Types].xml",write_ct(at,tt)),zip_add_file(it,"_rels/.rels",write_rels(tt.rels)),zip_add_file(it,"xl/_rels/workbook."+rt+".rels",write_rels(tt.wbrels)),delete tt.revssf,delete tt.ssf,it}function firstbyte(et,tt){var rt="";switch((tt||{}).type||"base64"){case"buffer":return[et[0],et[1],et[2],et[3],et[4],et[5],et[6],et[7]];case"base64":rt=Base64_decode(et.slice(0,12));break;case"binary":rt=et;break;case"array":return[et[0],et[1],et[2],et[3],et[4],et[5],et[6],et[7]];default:throw new Error("Unrecognized type "+(tt&&tt.type||"undefined"))}return[rt.charCodeAt(0),rt.charCodeAt(1),rt.charCodeAt(2),rt.charCodeAt(3),rt.charCodeAt(4),rt.charCodeAt(5),rt.charCodeAt(6),rt.charCodeAt(7)]}function read_cfb(et,tt){return CFB.find(et,"EncryptedPackage")?parse_xlsxcfb(et,tt):parse_xlscfb(et,tt)}function read_zip(et,tt){var rt,nt=et,at=tt||{};return at.type||(at.type=has_buf&&Buffer.isBuffer(et)?"buffer":"base64"),rt=zip_read(nt,at),parse_zip(rt,at)}function read_plaintext(et,tt){var rt=0;e:for(;rt<et.length;)switch(et.charCodeAt(rt)){case 10:case 13:case 32:++rt;break;case 60:return parse_xlml(et.slice(rt),tt);default:break e}return PRN.to_workbook(et,tt)}function read_plaintext_raw(et,tt){var rt="",nt=firstbyte(et,tt);switch(tt.type){case"base64":rt=Base64_decode(et);break;case"binary":rt=et;break;case"buffer":rt=et.toString("binary");break;case"array":rt=cc2str(et);break;default:throw new Error("Unrecognized type "+tt.type)}return nt[0]==239&&nt[1]==187&&nt[2]==191&&(rt=utf8read(rt)),tt.type="binary",read_plaintext(rt,tt)}function read_utf16(et,tt){var rt=et;return tt.type=="base64"&&(rt=Base64_decode(rt)),rt=$cptable.utils.decode(1200,rt.slice(2),"str"),tt.type="binary",read_plaintext(rt,tt)}function bstrify(et){return et.match(/[^\x00-\x7F]/)?utf8write(et):et}function read_prn(et,tt,rt,nt){return nt?(rt.type="string",PRN.to_workbook(et,rt)):PRN.to_workbook(tt,rt)}function readSync(et,tt){reset_cp();var rt=tt||{};if(typeof ArrayBuffer<"u"&&et instanceof ArrayBuffer)return readSync(new Uint8Array(et),(rt=dup(rt),rt.type="array",rt));typeof Uint8Array<"u"&&et instanceof Uint8Array&&!rt.type&&(rt.type=typeof Deno<"u"?"buffer":"array");var nt=et,at=[0,0,0,0],it=!1;if(rt.cellStyles&&(rt.cellNF=!0,rt.sheetStubs=!0),_ssfopts={},rt.dateNF&&(_ssfopts.dateNF=rt.dateNF),rt.type||(rt.type=has_buf&&Buffer.isBuffer(et)?"buffer":"base64"),rt.type=="file"&&(rt.type=has_buf?"buffer":"binary",nt=read_binary(et),typeof Uint8Array<"u"&&!has_buf&&(rt.type="array")),rt.type=="string"&&(it=!0,rt.type="binary",rt.codepage=65001,nt=bstrify(et)),rt.type=="array"&&typeof Uint8Array<"u"&&et instanceof Uint8Array&&typeof ArrayBuffer<"u"){var st=new ArrayBuffer(3),ot=new Uint8Array(st);if(ot.foo="bar",!ot.foo)return rt=dup(rt),rt.type="array",readSync(ab2a(nt),rt)}switch((at=firstbyte(nt,rt))[0]){case 208:if(at[1]===207&&at[2]===17&&at[3]===224&&at[4]===161&&at[5]===177&&at[6]===26&&at[7]===225)return read_cfb(CFB.read(nt,rt),rt);break;case 9:if(at[1]<=8)return parse_xlscfb(nt,rt);break;case 60:return parse_xlml(nt,rt);case 73:if(at[1]===73&&at[2]===42&&at[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(at[1]===68)return read_wb_ID(nt,rt);break;case 84:if(at[1]===65&&at[2]===66&&at[3]===76)return DIF.to_workbook(nt,rt);break;case 80:return at[1]===75&&at[2]<9&&at[3]<9?read_zip(nt,rt):read_prn(et,nt,rt,it);case 239:return at[3]===60?parse_xlml(nt,rt):read_prn(et,nt,rt,it);case 255:if(at[1]===254)return read_utf16(nt,rt);if(at[1]===0&&at[2]===2&&at[3]===0)return WK_.to_workbook(nt,rt);break;case 0:if(at[1]===0&&(at[2]>=2&&at[3]===0||at[2]===0&&(at[3]===8||at[3]===9)))return WK_.to_workbook(nt,rt);break;case 3:case 131:case 139:case 140:return DBF.to_workbook(nt,rt);case 123:if(at[1]===92&&at[2]===114&&at[3]===116)return RTF.to_workbook(nt,rt);break;case 10:case 13:case 32:return read_plaintext_raw(nt,rt);case 137:if(at[1]===80&&at[2]===78&&at[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return DBF_SUPPORTED_VERSIONS.indexOf(at[0])>-1&&at[2]<=12&&at[3]<=31?DBF.to_workbook(nt,rt):read_prn(et,nt,rt,it)}function write_cfb_ctr(et,tt){switch(tt.type){case"base64":case"binary":break;case"buffer":case"array":tt.type="";break;case"file":return write_dl(tt.file,CFB.write(et,{type:has_buf?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+tt.bookType+"' files");default:throw new Error("Unrecognized type "+tt.type)}return CFB.write(et,tt)}function write_zip_type(et,tt){var rt=dup(tt||{}),nt=write_zip(et,rt);return write_zip_denouement(nt,rt)}function write_zip_denouement(et,tt){var rt={},nt=has_buf?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(tt.compression&&(rt.compression="DEFLATE"),tt.password)rt.type=nt;else switch(tt.type){case"base64":rt.type="base64";break;case"binary":rt.type="string";break;case"string":throw new Error("'string' output type invalid for '"+tt.bookType+"' files");case"buffer":case"file":rt.type=nt;break;default:throw new Error("Unrecognized type "+tt.type)}var at=et.FullPaths?CFB.write(et,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[rt.type]||rt.type,compression:!!tt.compression}):et.generate(rt);if(typeof Deno<"u"&&typeof at=="string"){if(tt.type=="binary"||tt.type=="base64")return at;at=new Uint8Array(s2ab(at))}return tt.password&&typeof encrypt_agile<"u"?write_cfb_ctr(encrypt_agile(at,tt.password),tt):tt.type==="file"?write_dl(tt.file,at):tt.type=="string"?utf8read(at):at}function write_cfb_type(et,tt){var rt=tt||{},nt=write_xlscfb(et,rt);return write_cfb_ctr(nt,rt)}function write_string_type(et,tt,rt){rt||(rt="");var nt=rt+et;switch(tt.type){case"base64":return Base64_encode(utf8write(nt));case"binary":return utf8write(nt);case"string":return et;case"file":return write_dl(tt.file,nt,"utf8");case"buffer":return has_buf?Buffer_from(nt,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(nt):write_string_type(nt,{type:"binary"}).split("").map(function(at){return at.charCodeAt(0)})}throw new Error("Unrecognized type "+tt.type)}function write_stxt_type(et,tt){switch(tt.type){case"base64":return Base64_encode(et);case"binary":return et;case"string":return et;case"file":return write_dl(tt.file,et,"binary");case"buffer":return has_buf?Buffer_from(et,"binary"):et.split("").map(function(rt){return rt.charCodeAt(0)})}throw new Error("Unrecognized type "+tt.type)}function write_binary_type(et,tt){switch(tt.type){case"string":case"base64":case"binary":for(var rt="",nt=0;nt<et.length;++nt)rt+=String.fromCharCode(et[nt]);return tt.type=="base64"?Base64_encode(rt):tt.type=="string"?utf8read(rt):rt;case"file":return write_dl(tt.file,et);case"buffer":return et;default:throw new Error("Unrecognized type "+tt.type)}}function writeSync(et,tt){reset_cp(),check_wb(et);var rt=dup(tt||{});if(rt.cellStyles&&(rt.cellNF=!0,rt.sheetStubs=!0),rt.type=="array"){rt.type="binary";var nt=writeSync(et,rt);return rt.type="array",s2ab(nt)}var at=0;if(rt.sheet&&(typeof rt.sheet=="number"?at=rt.sheet:at=et.SheetNames.indexOf(rt.sheet),!et.SheetNames[at]))throw new Error("Sheet not found: "+rt.sheet+" : "+typeof rt.sheet);switch(rt.bookType||"xlsb"){case"xml":case"xlml":return write_string_type(write_xlml(et,rt),rt);case"slk":case"sylk":return write_string_type(SYLK.from_sheet(et.Sheets[et.SheetNames[at]],rt),rt);case"htm":case"html":return write_string_type(sheet_to_html(et.Sheets[et.SheetNames[at]],rt),rt);case"txt":return write_stxt_type(sheet_to_txt(et.Sheets[et.SheetNames[at]],rt),rt);case"csv":return write_string_type(sheet_to_csv(et.Sheets[et.SheetNames[at]],rt),rt,"\uFEFF");case"dif":return write_string_type(DIF.from_sheet(et.Sheets[et.SheetNames[at]],rt),rt);case"dbf":return write_binary_type(DBF.from_sheet(et.Sheets[et.SheetNames[at]],rt),rt);case"prn":return write_string_type(PRN.from_sheet(et.Sheets[et.SheetNames[at]],rt),rt);case"rtf":return write_string_type(RTF.from_sheet(et.Sheets[et.SheetNames[at]],rt),rt);case"eth":return write_string_type(ETH.from_sheet(et.Sheets[et.SheetNames[at]],rt),rt);case"fods":return write_string_type(write_ods(et,rt),rt);case"wk1":return write_binary_type(WK_.sheet_to_wk1(et.Sheets[et.SheetNames[at]],rt),rt);case"wk3":return write_binary_type(WK_.book_to_wk3(et,rt),rt);case"biff2":rt.biff||(rt.biff=2);case"biff3":rt.biff||(rt.biff=3);case"biff4":return rt.biff||(rt.biff=4),write_binary_type(write_biff_buf(et,rt),rt);case"biff5":rt.biff||(rt.biff=5);case"biff8":case"xla":case"xls":return rt.biff||(rt.biff=8),write_cfb_type(et,rt);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return write_zip_type(et,rt);default:throw new Error("Unrecognized bookType |"+rt.bookType+"|")}}function resolve_book_type(et){if(!et.bookType){var tt={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},rt=et.file.slice(et.file.lastIndexOf(".")).toLowerCase();rt.match(/^\.[a-z]+$/)&&(et.bookType=rt.slice(1)),et.bookType=tt[et.bookType]||et.bookType}}function writeFileSync(et,tt,rt){var nt=rt||{};return nt.type="file",nt.file=tt,resolve_book_type(nt),writeSync(et,nt)}function make_json_row(et,tt,rt,nt,at,it,st,ot){var lt=encode_row(rt),ct=ot.defval,ut=ot.raw||!Object.prototype.hasOwnProperty.call(ot,"raw"),dt=!0,ft=at===1?[]:{};if(at!==1)if(Object.defineProperty)try{Object.defineProperty(ft,"__rowNum__",{value:rt,enumerable:!1})}catch{ft.__rowNum__=rt}else ft.__rowNum__=rt;if(!st||et[rt])for(var ht=tt.s.c;ht<=tt.e.c;++ht){var gt=st?et[rt][ht]:et[nt[ht]+lt];if(gt===void 0||gt.t===void 0){if(ct===void 0)continue;it[ht]!=null&&(ft[it[ht]]=ct);continue}var mt=gt.v;switch(gt.t){case"z":if(mt==null)break;continue;case"e":mt=mt==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+gt.t)}if(it[ht]!=null){if(mt==null)if(gt.t=="e"&&mt===null)ft[it[ht]]=null;else if(ct!==void 0)ft[it[ht]]=ct;else if(ut&&mt===null)ft[it[ht]]=null;else continue;else ft[it[ht]]=ut&&(gt.t!=="n"||gt.t==="n"&&ot.rawNumbers!==!1)?mt:format_cell(gt,mt,ot);mt!=null&&(dt=!1)}}return{row:ft,isempty:dt}}function sheet_to_json(et,tt){if(et==null||et["!ref"]==null)return[];var rt={t:"n",v:0},nt=0,at=1,it=[],st=0,ot="",lt={s:{r:0,c:0},e:{r:0,c:0}},ct=tt||{},ut=ct.range!=null?ct.range:et["!ref"];switch(ct.header===1?nt=1:ct.header==="A"?nt=2:Array.isArray(ct.header)?nt=3:ct.header==null&&(nt=0),typeof ut){case"string":lt=safe_decode_range(ut);break;case"number":lt=safe_decode_range(et["!ref"]),lt.s.r=ut;break;default:lt=ut}nt>0&&(at=0);var dt=encode_row(lt.s.r),ft=[],ht=[],gt=0,mt=0,xt=Array.isArray(et),vt=lt.s.r,_t=0,yt={};xt&&!et[vt]&&(et[vt]=[]);var St=ct.skipHidden&&et["!cols"]||[],bt=ct.skipHidden&&et["!rows"]||[];for(_t=lt.s.c;_t<=lt.e.c;++_t)if(!(St[_t]||{}).hidden)switch(ft[_t]=encode_col(_t),rt=xt?et[vt][_t]:et[ft[_t]+dt],nt){case 1:it[_t]=_t-lt.s.c;break;case 2:it[_t]=ft[_t];break;case 3:it[_t]=ct.header[_t-lt.s.c];break;default:if(rt==null&&(rt={w:"__EMPTY",t:"s"}),ot=st=format_cell(rt,null,ct),mt=yt[st]||0,!mt)yt[st]=1;else{do ot=st+"_"+mt++;while(yt[ot]);yt[st]=mt,yt[ot]=1}it[_t]=ot}for(vt=lt.s.r+at;vt<=lt.e.r;++vt)if(!(bt[vt]||{}).hidden){var Et=make_json_row(et,lt,vt,ft,nt,it,xt,ct);(Et.isempty===!1||(nt===1?ct.blankrows!==!1:ct.blankrows))&&(ht[gt++]=Et.row)}return ht.length=gt,ht}var qreg=/"/g;function make_csv_row(et,tt,rt,nt,at,it,st,ot){for(var lt=!0,ct=[],ut="",dt=encode_row(rt),ft=tt.s.c;ft<=tt.e.c;++ft)if(nt[ft]){var ht=ot.dense?(et[rt]||[])[ft]:et[nt[ft]+dt];if(ht==null)ut="";else if(ht.v!=null){lt=!1,ut=""+(ot.rawNumbers&&ht.t=="n"?ht.v:format_cell(ht,null,ot));for(var gt=0,mt=0;gt!==ut.length;++gt)if((mt=ut.charCodeAt(gt))===at||mt===it||mt===34||ot.forceQuotes){ut='"'+ut.replace(qreg,'""')+'"';break}ut=="ID"&&(ut='"ID"')}else ht.f!=null&&!ht.F?(lt=!1,ut="="+ht.f,ut.indexOf(",")>=0&&(ut='"'+ut.replace(qreg,'""')+'"')):ut="";ct.push(ut)}return ot.blankrows===!1&&lt?null:ct.join(st)}function sheet_to_csv(et,tt){var rt=[],nt=tt??{};if(et==null||et["!ref"]==null)return"";var at=safe_decode_range(et["!ref"]),it=nt.FS!==void 0?nt.FS:",",st=it.charCodeAt(0),ot=nt.RS!==void 0?nt.RS:`
`,lt=ot.charCodeAt(0),ct=new RegExp((it=="|"?"\\|":it)+"+$"),ut="",dt=[];nt.dense=Array.isArray(et);for(var ft=nt.skipHidden&&et["!cols"]||[],ht=nt.skipHidden&&et["!rows"]||[],gt=at.s.c;gt<=at.e.c;++gt)(ft[gt]||{}).hidden||(dt[gt]=encode_col(gt));for(var mt=0,xt=at.s.r;xt<=at.e.r;++xt)(ht[xt]||{}).hidden||(ut=make_csv_row(et,at,xt,dt,st,lt,it,nt),ut!=null&&(nt.strip&&(ut=ut.replace(ct,"")),(ut||nt.blankrows!==!1)&&rt.push((mt++?ot:"")+ut)));return delete nt.dense,rt.join("")}function sheet_to_txt(et,tt){tt||(tt={}),tt.FS="	",tt.RS=`
`;var rt=sheet_to_csv(et,tt);return rt}function sheet_to_formulae(et){var tt="",rt,nt="";if(et==null||et["!ref"]==null)return[];var at=safe_decode_range(et["!ref"]),it="",st=[],ot,lt=[],ct=Array.isArray(et);for(ot=at.s.c;ot<=at.e.c;++ot)st[ot]=encode_col(ot);for(var ut=at.s.r;ut<=at.e.r;++ut)for(it=encode_row(ut),ot=at.s.c;ot<=at.e.c;++ot)if(tt=st[ot]+it,rt=ct?(et[ut]||[])[ot]:et[tt],nt="",rt!==void 0){if(rt.F!=null){if(tt=rt.F,!rt.f)continue;nt=rt.f,tt.indexOf(":")==-1&&(tt=tt+":"+tt)}if(rt.f!=null)nt=rt.f;else{if(rt.t=="z")continue;if(rt.t=="n"&&rt.v!=null)nt=""+rt.v;else if(rt.t=="b")nt=rt.v?"TRUE":"FALSE";else if(rt.w!==void 0)nt="'"+rt.w;else{if(rt.v===void 0)continue;rt.t=="s"?nt="'"+rt.v:nt=""+rt.v}}lt[lt.length]=tt+"="+nt}return lt}function sheet_add_json(et,tt,rt){var nt=rt||{},at=+!nt.skipHeader,it=et||{},st=0,ot=0;if(it&&nt.origin!=null)if(typeof nt.origin=="number")st=nt.origin;else{var lt=typeof nt.origin=="string"?decode_cell(nt.origin):nt.origin;st=lt.r,ot=lt.c}var ct,ut={s:{c:0,r:0},e:{c:ot,r:st+tt.length-1+at}};if(it["!ref"]){var dt=safe_decode_range(it["!ref"]);ut.e.c=Math.max(ut.e.c,dt.e.c),ut.e.r=Math.max(ut.e.r,dt.e.r),st==-1&&(st=dt.e.r+1,ut.e.r=st+tt.length-1+at)}else st==-1&&(st=0,ut.e.r=tt.length-1+at);var ft=nt.header||[],ht=0;tt.forEach(function(mt,xt){keys$5(mt).forEach(function(vt){(ht=ft.indexOf(vt))==-1&&(ft[ht=ft.length]=vt);var _t=mt[vt],yt="z",St="",bt=encode_cell({c:ot+ht,r:st+xt+at});ct=ws_get_cell_stub(it,bt),_t&&typeof _t=="object"&&!(_t instanceof Date)?it[bt]=_t:(typeof _t=="number"?yt="n":typeof _t=="boolean"?yt="b":typeof _t=="string"?yt="s":_t instanceof Date?(yt="d",nt.cellDates||(yt="n",_t=datenum(_t)),St=nt.dateNF||table_fmt[14]):_t===null&&nt.nullError&&(yt="e",_t=0),ct?(ct.t=yt,ct.v=_t,delete ct.w,delete ct.R,St&&(ct.z=St)):it[bt]=ct={t:yt,v:_t},St&&(ct.z=St))})}),ut.e.c=Math.max(ut.e.c,ot+ft.length-1);var gt=encode_row(st);if(at)for(ht=0;ht<ft.length;++ht)it[encode_col(ht+ot)+gt]={t:"s",v:ft[ht]};return it["!ref"]=encode_range(ut),it}function json_to_sheet(et,tt){return sheet_add_json(null,et,tt)}function ws_get_cell_stub(et,tt,rt){if(typeof tt=="string"){if(Array.isArray(et)){var nt=decode_cell(tt);return et[nt.r]||(et[nt.r]=[]),et[nt.r][nt.c]||(et[nt.r][nt.c]={t:"z"})}return et[tt]||(et[tt]={t:"z"})}return typeof tt!="number"?ws_get_cell_stub(et,encode_cell(tt)):ws_get_cell_stub(et,encode_cell({r:tt,c:rt||0}))}function wb_sheet_idx(et,tt){if(typeof tt=="number"){if(tt>=0&&et.SheetNames.length>tt)return tt;throw new Error("Cannot find sheet # "+tt)}else if(typeof tt=="string"){var rt=et.SheetNames.indexOf(tt);if(rt>-1)return rt;throw new Error("Cannot find sheet name |"+tt+"|")}else throw new Error("Cannot find sheet |"+tt+"|")}function book_new(){return{SheetNames:[],Sheets:{}}}function book_append_sheet(et,tt,rt,nt){var at=1;if(!rt)for(;at<=65535&&et.SheetNames.indexOf(rt="Sheet"+at)!=-1;++at,rt=void 0);if(!rt||et.SheetNames.length>=65535)throw new Error("Too many worksheets");if(nt&&et.SheetNames.indexOf(rt)>=0){var it=rt.match(/(^.*?)(\d+)$/);at=it&&+it[2]||0;var st=it&&it[1]||rt;for(++at;at<=65535&&et.SheetNames.indexOf(rt=st+at)!=-1;++at);}if(check_ws_name(rt),et.SheetNames.indexOf(rt)>=0)throw new Error("Worksheet with name |"+rt+"| already exists!");return et.SheetNames.push(rt),et.Sheets[rt]=tt,rt}function book_set_sheet_visibility(et,tt,rt){et.Workbook||(et.Workbook={}),et.Workbook.Sheets||(et.Workbook.Sheets=[]);var nt=wb_sheet_idx(et,tt);switch(et.Workbook.Sheets[nt]||(et.Workbook.Sheets[nt]={}),rt){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+rt)}et.Workbook.Sheets[nt].Hidden=rt}function cell_set_number_format(et,tt){return et.z=tt,et}function cell_set_hyperlink(et,tt,rt){return tt?(et.l={Target:tt},rt&&(et.l.Tooltip=rt)):delete et.l,et}function cell_set_internal_link(et,tt,rt){return cell_set_hyperlink(et,"#"+tt,rt)}function cell_add_comment(et,tt,rt){et.c||(et.c=[]),et.c.push({t:tt,a:rt||"SheetJS"})}function sheet_set_array_formula(et,tt,rt,nt){for(var at=typeof tt!="string"?tt:safe_decode_range(tt),it=typeof tt=="string"?tt:encode_range(tt),st=at.s.r;st<=at.e.r;++st)for(var ot=at.s.c;ot<=at.e.c;++ot){var lt=ws_get_cell_stub(et,st,ot);lt.t="n",lt.F=it,delete lt.v,st==at.s.r&&ot==at.s.c&&(lt.f=rt,nt&&(lt.D=!0))}return et}var utils$7={encode_col,encode_row,encode_cell,encode_range,decode_col,decode_row,split_cell,decode_cell,decode_range,format_cell,sheet_add_aoa,sheet_add_json,sheet_add_dom,aoa_to_sheet,json_to_sheet,table_to_sheet:parse_dom_table,table_to_book,sheet_to_csv,sheet_to_txt,sheet_to_json,sheet_to_html,sheet_to_formulae,sheet_to_row_object_array:sheet_to_json,sheet_get_cell:ws_get_cell_stub,book_new,book_append_sheet,book_set_sheet_visibility,cell_set_number_format,cell_set_hyperlink,cell_set_internal_link,cell_add_comment,sheet_set_array_formula,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const parseExcelDate=et=>{if(!et)return null;if(typeof et=="number"){const tt=SSF.parse_date_code(et);if(tt)return new Date(tt.y,tt.m-1,tt.d)}if(typeof et=="string"){try{const rt=parse$2(et,"dd/MM/yyyy",new Date);if(!isNaN(rt))return rt}catch{}try{const rt=parse$2(et,"yyyy-MM-dd",new Date);if(!isNaN(rt))return rt}catch{}const tt=new Date(et);if(!isNaN(tt))return tt}return null},calculateAge=et=>{if(!et)return null;const tt=parseExcelDate(et);return!tt||isNaN(tt)?null:differenceInYears(new Date,tt)},getAgeCategory=et=>et==null?"N/A":et<30?"< 30 Tahun":et>=30&&et<=58?"30-58 Tahun":"> 58 Tahun",calculateWorkDuration=et=>{if(!et)return{years:null,months:null,days:null};const tt=parseExcelDate(et);if(!tt||isNaN(tt))return{years:null,months:null,days:null};const rt=new Date,nt=differenceInYears(rt,tt),at=addYears(tt,nt),it=differenceInMonths(rt,at),st=addMonths(at,it),ot=differenceInDays(rt,st);return{years:nt,months:it,days:ot}},getWorkDurationCategory=et=>et==null?"N/A":et<5?"< 5 Tahun":et<=10?"5-10 Tahun":"> 10 Tahun",mapEmployeeDataFromSupabase=et=>{if(!et)return null;const tt=calculateAge(et.birth_date),{years:rt,months:nt,days:at}=calculateWorkDuration(et.join_date);return{id:et.id,name:et.name,birthDate:et.birth_date?format$1(parseExcelDate(et.birth_date),"yyyy-MM-dd"):null,nik:et.nik,position:et.position,division:et.division,joinDate:et.join_date?format$1(parseExcelDate(et.join_date),"yyyy-MM-dd"):null,gender:et.gender,address:et.address,phone:et.phone,email:et.email,status:et.status,photo:et.photo,workLocation:et.work_location,education:et.education,area:et.area,activeStatus:et.active_status,terminationDate:et.termination_date?format$1(parseExcelDate(et.termination_date),"yyyy-MM-dd"):null,bpjsNumber:et.bpjs_number,directManagerId:et.direct_manager_id,directManager:et.manager,project:et.project,npwp:et.npwp,ptkp_status:et.ptkp_status,dependents_count:et.dependents_count,createdAt:et.created_at,updatedAt:et.updated_at,age:tt,ageCategory:getAgeCategory(tt),workDurationYears:rt,workDurationMonths:nt,workDurationDays:at,workDurationCategory:getWorkDurationCategory(rt)}},mapEmployeeDataToSupabase=et=>{const{birthDate:tt,joinDate:rt,workLocation:nt,education:at,area:it,activeStatus:st,terminationDate:ot,bpjsNumber:lt,directManagerId:ct,directManager:ut,project:dt,npwp:ft,ptkp_status:ht,dependents_count:gt,age:mt,ageCategory:xt,workDurationYears:vt,workDurationMonths:_t,workDurationDays:yt,workDurationCategory:St,createdAt:bt,updatedAt:Et,id:Tt,...At}=et,Ct={...At,birth_date:tt?format$1(parseExcelDate(tt),"yyyy-MM-dd"):null,join_date:rt?format$1(parseExcelDate(rt),"yyyy-MM-dd"):null,work_location:nt,education:at,area:it,active_status:st,termination_date:ot?format$1(parseExcelDate(ot),"yyyy-MM-dd"):null,bpjs_number:lt,direct_manager_id:ct||null,project:dt,npwp:ft,ptkp_status:ht,dependents_count:gt,email:et.email||null};return Object.keys(Ct).forEach(kt=>{Ct[kt]===void 0&&(Ct[kt]=null)}),Ct},generateExcelTemplateData=()=>{const et=["STATUS KARYAWAN","NIK","NAMA","ALAMAT","NO HP","JENIS KELAMIN","TGL LAHIR (DD/MM/YYYY)","PENDIDIKAN","TGL MULAI KERJA (DD/MM/YYYY)","LOKASI KERJA","AREA","JABATAN","DIVISI","STATUS AKTIF","TGL KELUAR (DD/MM/YYYY)","BPJS","EMAIL (Opsional)","PASSWORD (Opsional)","DIRECT MANAGER (NAMA ATAU NIK)","NPWP (Opsional)","STATUS PTKP (Opsional)","JUMLAH TANGGUNGAN (Opsional)"],rt=[et,Object.values({"STATUS KARYAWAN":"Kontrak",NIK:"1234567890123456",NAMA:"Nama Contoh Karyawan",ALAMAT:"Jl. Contoh No. 123","NO HP":"081234567890","JENIS KELAMIN":"Laki-laki","TGL LAHIR (DD/MM/YYYY)":"15/01/1990",PENDIDIKAN:"S1","TGL MULAI KERJA (DD/MM/YYYY)":"01/06/2020","LOKASI KERJA":"HEAD OFFICE",AREA:"Jakarta",JABATAN:"STAF",DIVISI:"IT","STATUS AKTIF":"Aktif","TGL KELUAR (DD/MM/YYYY)":"",BPJS:"0001234567890","EMAIL (Opsional)":"karyawan.contoh@email.com","PASSWORD (Opsional)":"","DIRECT MANAGER (NAMA ATAU NIK)":"Nama Manager Contoh","NPWP (Opsional)":"12.345.678.9-012.000","STATUS PTKP (Opsional)":"K/1","JUMLAH TANGGUNGAN (Opsional)":"1"})],nt=utils$7.aoa_to_sheet(rt),at=et.map(st=>({wch:st.length+5}));nt["!cols"]=at;const it=utils$7.book_new();return utils$7.book_append_sheet(it,nt,"TemplateKaryawan"),it},createExportData=et=>et.map(tt=>({"STATUS KARYAWAN":tt.status,NIK:tt.nik,NAMA:tt.name,ALAMAT:tt.address,"NO HP":tt.phone,"JENIS KELAMIN":tt.gender,"TGL LAHIR (DD/MM/YYYY)":tt.birthDate?format$1(parseExcelDate(tt.birthDate),"dd/MM/yyyy"):"N/A",PENDIDIKAN:tt.education,"TGL MULAI KERJA (DD/MM/YYYY)":tt.joinDate?format$1(parseExcelDate(tt.joinDate),"dd/MM/yyyy"):"N/A","LOKASI KERJA":tt.workLocation,AREA:tt.area,JABATAN:tt.position,DIVISI:tt.division,"STATUS AKTIF":tt.activeStatus,"TGL KELUAR (DD/MM/YYYY)":tt.terminationDate?format$1(parseExcelDate(tt.terminationDate),"dd/MM/yyyy"):"",BPJS:tt.bpjsNumber,EMAIL:tt.email||"","DIRECT MANAGER":tt.directManager?tt.directManager.name:"","NPWP (Opsional)":tt.npwp||"","STATUS PTKP (Opsional)":tt.ptkp_status||"","JUMLAH TANGGUNGAN (Opsional)":tt.dependents_count??""})),addLog=async({userId:et,userName:tt,userRole:rt,action:nt,targetType:at,targetId:it,targetName:st,details:ot})=>{try{const{error:lt}=await supabase.from("activity_logs").insert([{user_id:et,user_name:tt,user_role:rt,action:nt,target_type:at,target_id:it,target_name:st,details:ot}]);lt&&console.error("Failed to add activity log:",lt)}catch(lt){console.error("Exception in addLog:",lt)}},AuthContext=reactExports.createContext(null),useAuth=()=>{const et=reactExports.useContext(AuthContext);if(!et)throw new Error("useAuth must be used inside AuthProvider");return et},AuthProvider=({children:et})=>{const[tt,rt]=reactExports.useState(null),[nt,at]=reactExports.useState(!0);reactExports.useEffect(()=>{it()},[]);const it=async()=>{try{const{data:ut}=await supabase.auth.getSession();if(!ut.session){localStorage.removeItem("currentUser"),rt(null);return}const dt=await st(ut.session.user.id);rt(dt),localStorage.setItem("currentUser",JSON.stringify(dt))}catch{rt(null)}finally{at(!1)}},st=async ut=>{const{data:dt,error:ft}=await supabase.from("profiles").select(`
      id,
      role,
      is_active,
      employees (*)
    `).eq("id",ut).single();if(ft||!dt)throw new Error("Profile tidak ditemukan");if(!dt.is_active)throw new Error("Akun tidak aktif");const ht=dt.employees??null,gt=ht?!!ht.is_direct_pm:!1,mt=ht?await ct(ht.id):!1;return{id:dt.id,role:dt.role,name:(ht==null?void 0:ht.name)??dt.email,email:dt.email,isPM:gt,isDirectManager:mt,employeeData:ht?mapEmployeeDataFromSupabase(ht):null}},ot=async ut=>{at(!0);const dt=await st(ut.id);rt(dt),localStorage.setItem("currentUser",JSON.stringify(dt)),addLog({userId:dt.id,userName:dt.name||dt.email,userRole:dt.role,action:"LOGIN",targetType:"SESSION",details:{message:`User ${dt.name||dt.email} logged in.`}}),at(!1)},lt=async()=>{await supabase.auth.signOut(),rt(null),localStorage.removeItem("currentUser")},ct=async ut=>{const{count:dt,error:ft}=await supabase.from("employees").select("id",{count:"exact",head:!0}).eq("direct_manager_id",ut);return ft?!1:dt>0};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:{user:tt,loading:nt,login:ot,logout:lt},children:et})};function r$1(et){var tt,rt,nt="";if(typeof et=="string"||typeof et=="number")nt+=et;else if(typeof et=="object")if(Array.isArray(et)){var at=et.length;for(tt=0;tt<at;tt++)et[tt]&&(rt=r$1(et[tt]))&&(nt&&(nt+=" "),nt+=rt)}else for(rt in et)et[rt]&&(nt&&(nt+=" "),nt+=rt);return nt}function clsx(){for(var et,tt,rt=0,nt="",at=arguments.length;rt<at;rt++)(et=arguments[rt])&&(tt=r$1(et))&&(nt&&(nt+=" "),nt+=tt);return nt}function twJoin(){for(var et=0,tt,rt,nt="";et<arguments.length;)(tt=arguments[et++])&&(rt=toValue(tt))&&(nt&&(nt+=" "),nt+=rt);return nt}function toValue(et){if(typeof et=="string")return et;for(var tt,rt="",nt=0;nt<et.length;nt++)et[nt]&&(tt=toValue(et[nt]))&&(rt&&(rt+=" "),rt+=tt);return rt}var CLASS_PART_SEPARATOR="-";function createClassUtils(et){var tt=createClassMap(et),rt=et.conflictingClassGroups,nt=et.conflictingClassGroupModifiers,at=nt===void 0?{}:nt;function it(ot){var lt=ot.split(CLASS_PART_SEPARATOR);return lt[0]===""&&lt.length!==1&&lt.shift(),getGroupRecursive(lt,tt)||getGroupIdForArbitraryProperty(ot)}function st(ot,lt){var ct=rt[ot]||[];return lt&&at[ot]?[].concat(ct,at[ot]):ct}return{getClassGroupId:it,getConflictingClassGroupIds:st}}function getGroupRecursive(et,tt){var st;if(et.length===0)return tt.classGroupId;var rt=et[0],nt=tt.nextPart.get(rt),at=nt?getGroupRecursive(et.slice(1),nt):void 0;if(at)return at;if(tt.validators.length!==0){var it=et.join(CLASS_PART_SEPARATOR);return(st=tt.validators.find(function(ot){var lt=ot.validator;return lt(it)}))==null?void 0:st.classGroupId}}var arbitraryPropertyRegex=/^\[(.+)\]$/;function getGroupIdForArbitraryProperty(et){if(arbitraryPropertyRegex.test(et)){var tt=arbitraryPropertyRegex.exec(et)[1],rt=tt==null?void 0:tt.substring(0,tt.indexOf(":"));if(rt)return"arbitrary.."+rt}}function createClassMap(et){var tt=et.theme,rt=et.prefix,nt={nextPart:new Map,validators:[]},at=getPrefixedClassGroupEntries(Object.entries(et.classGroups),rt);return at.forEach(function(it){var st=it[0],ot=it[1];processClassesRecursively(ot,nt,st,tt)}),nt}function processClassesRecursively(et,tt,rt,nt){et.forEach(function(at){if(typeof at=="string"){var it=at===""?tt:getPart(tt,at);it.classGroupId=rt;return}if(typeof at=="function"){if(isThemeGetter(at)){processClassesRecursively(at(nt),tt,rt,nt);return}tt.validators.push({validator:at,classGroupId:rt});return}Object.entries(at).forEach(function(st){var ot=st[0],lt=st[1];processClassesRecursively(lt,getPart(tt,ot),rt,nt)})})}function getPart(et,tt){var rt=et;return tt.split(CLASS_PART_SEPARATOR).forEach(function(nt){rt.nextPart.has(nt)||rt.nextPart.set(nt,{nextPart:new Map,validators:[]}),rt=rt.nextPart.get(nt)}),rt}function isThemeGetter(et){return et.isThemeGetter}function getPrefixedClassGroupEntries(et,tt){return tt?et.map(function(rt){var nt=rt[0],at=rt[1],it=at.map(function(st){return typeof st=="string"?tt+st:typeof st=="object"?Object.fromEntries(Object.entries(st).map(function(ot){var lt=ot[0],ct=ot[1];return[tt+lt,ct]})):st});return[nt,it]}):et}function createLruCache(et){if(et<1)return{get:function(){},set:function(){}};var tt=0,rt=new Map,nt=new Map;function at(it,st){rt.set(it,st),tt++,tt>et&&(tt=0,nt=rt,rt=new Map)}return{get:function(st){var ot=rt.get(st);if(ot!==void 0)return ot;if((ot=nt.get(st))!==void 0)return at(st,ot),ot},set:function(st,ot){rt.has(st)?rt.set(st,ot):at(st,ot)}}}var IMPORTANT_MODIFIER="!";function createSplitModifiers(et){var tt=et.separator||":",rt=tt.length===1,nt=tt[0],at=tt.length;return function(st){for(var ot=[],lt=0,ct=0,ut,dt=0;dt<st.length;dt++){var ft=st[dt];if(lt===0){if(ft===nt&&(rt||st.slice(dt,dt+at)===tt)){ot.push(st.slice(ct,dt)),ct=dt+at;continue}if(ft==="/"){ut=dt;continue}}ft==="["?lt++:ft==="]"&&lt--}var ht=ot.length===0?st:st.substring(ct),gt=ht.startsWith(IMPORTANT_MODIFIER),mt=gt?ht.substring(1):ht,xt=ut&&ut>ct?ut-ct:void 0;return{modifiers:ot,hasImportantModifier:gt,baseClassName:mt,maybePostfixModifierPosition:xt}}}function sortModifiers(et){if(et.length<=1)return et;var tt=[],rt=[];return et.forEach(function(nt){var at=nt[0]==="[";at?(tt.push.apply(tt,rt.sort().concat([nt])),rt=[]):rt.push(nt)}),tt.push.apply(tt,rt.sort()),tt}function createConfigUtils(et){return{cache:createLruCache(et.cacheSize),splitModifiers:createSplitModifiers(et),...createClassUtils(et)}}var SPLIT_CLASSES_REGEX=/\s+/;function mergeClassList(et,tt){var rt=tt.splitModifiers,nt=tt.getClassGroupId,at=tt.getConflictingClassGroupIds,it=new Set;return et.trim().split(SPLIT_CLASSES_REGEX).map(function(st){var ot=rt(st),lt=ot.modifiers,ct=ot.hasImportantModifier,ut=ot.baseClassName,dt=ot.maybePostfixModifierPosition,ft=nt(dt?ut.substring(0,dt):ut),ht=!!dt;if(!ft){if(!dt)return{isTailwindClass:!1,originalClassName:st};if(ft=nt(ut),!ft)return{isTailwindClass:!1,originalClassName:st};ht=!1}var gt=sortModifiers(lt).join(":"),mt=ct?gt+IMPORTANT_MODIFIER:gt;return{isTailwindClass:!0,modifierId:mt,classGroupId:ft,originalClassName:st,hasPostfixModifier:ht}}).reverse().filter(function(st){if(!st.isTailwindClass)return!0;var ot=st.modifierId,lt=st.classGroupId,ct=st.hasPostfixModifier,ut=ot+lt;return it.has(ut)?!1:(it.add(ut),at(lt,ct).forEach(function(dt){return it.add(ot+dt)}),!0)}).reverse().map(function(st){return st.originalClassName}).join(" ")}function createTailwindMerge(){for(var et=arguments.length,tt=new Array(et),rt=0;rt<et;rt++)tt[rt]=arguments[rt];var nt,at,it,st=ot;function ot(ct){var ut=tt[0],dt=tt.slice(1),ft=dt.reduce(function(ht,gt){return gt(ht)},ut());return nt=createConfigUtils(ft),at=nt.cache.get,it=nt.cache.set,st=lt,lt(ct)}function lt(ct){var ut=at(ct);if(ut)return ut;var dt=mergeClassList(ct,nt);return it(ct,dt),dt}return function(){return st(twJoin.apply(null,arguments))}}function fromTheme(et){var tt=function(nt){return nt[et]||[]};return tt.isThemeGetter=!0,tt}var arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,shadowRegex=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function isLength$4(et){return isNumber$4(et)||stringLengths.has(et)||fractionRegex.test(et)||isArbitraryLength(et)}function isArbitraryLength(et){return getIsArbitraryValue(et,"length",isLengthOnly)}function isArbitrarySize(et){return getIsArbitraryValue(et,"size",isNever)}function isArbitraryPosition(et){return getIsArbitraryValue(et,"position",isNever)}function isArbitraryUrl(et){return getIsArbitraryValue(et,"url",isUrl)}function isArbitraryNumber(et){return getIsArbitraryValue(et,"number",isNumber$4)}function isNumber$4(et){return!Number.isNaN(Number(et))}function isPercent$1(et){return et.endsWith("%")&&isNumber$4(et.slice(0,-1))}function isInteger(et){return isIntegerOnly(et)||getIsArbitraryValue(et,"number",isIntegerOnly)}function isArbitraryValue(et){return arbitraryValueRegex.test(et)}function isAny(){return!0}function isTshirtSize(et){return tshirtUnitRegex.test(et)}function isArbitraryShadow(et){return getIsArbitraryValue(et,"",isShadow)}function getIsArbitraryValue(et,tt,rt){var nt=arbitraryValueRegex.exec(et);return nt?nt[1]?nt[1]===tt:rt(nt[2]):!1}function isLengthOnly(et){return lengthUnitRegex.test(et)}function isNever(){return!1}function isUrl(et){return et.startsWith("url(")}function isIntegerOnly(et){return Number.isInteger(Number(et))}function isShadow(et){return shadowRegex.test(et)}function getDefaultConfig(){var et=fromTheme("colors"),tt=fromTheme("spacing"),rt=fromTheme("blur"),nt=fromTheme("brightness"),at=fromTheme("borderColor"),it=fromTheme("borderRadius"),st=fromTheme("borderSpacing"),ot=fromTheme("borderWidth"),lt=fromTheme("contrast"),ct=fromTheme("grayscale"),ut=fromTheme("hueRotate"),dt=fromTheme("invert"),ft=fromTheme("gap"),ht=fromTheme("gradientColorStops"),gt=fromTheme("gradientColorStopPositions"),mt=fromTheme("inset"),xt=fromTheme("margin"),vt=fromTheme("opacity"),_t=fromTheme("padding"),yt=fromTheme("saturate"),St=fromTheme("scale"),bt=fromTheme("sepia"),Et=fromTheme("skew"),Tt=fromTheme("space"),At=fromTheme("translate"),Ct=function(){return["auto","contain","none"]},kt=function(){return["auto","hidden","clip","visible","scroll"]},Pt=function(){return["auto",isArbitraryValue,tt]},Dt=function(){return[isArbitraryValue,tt]},Ft=function(){return["",isLength$4]},Ot=function(){return["auto",isNumber$4,isArbitraryValue]},It=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},Bt=function(){return["solid","dashed","dotted","double","none"]},qt=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},Ut=function(){return["start","end","center","between","around","evenly","stretch"]},Ht=function(){return["","0",isArbitraryValue]},Qt=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},ir=function(){return[isNumber$4,isArbitraryNumber]},Xt=function(){return[isNumber$4,isArbitraryValue]};return{cacheSize:500,theme:{colors:[isAny],spacing:[isLength$4],blur:["none","",isTshirtSize,isArbitraryValue],brightness:ir(),borderColor:[et],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:Dt(),borderWidth:Ft(),contrast:ir(),grayscale:Ht(),hueRotate:Xt(),invert:Ht(),gap:Dt(),gradientColorStops:[et],gradientColorStopPositions:[isPercent$1,isArbitraryLength],inset:Pt(),margin:Pt(),opacity:ir(),padding:Dt(),saturate:ir(),scale:ir(),sepia:Ht(),skew:Xt(),space:Dt(),translate:Dt()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":Qt()}],"break-before":[{"break-before":Qt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(It(),[isArbitraryValue])}],overflow:[{overflow:kt()}],"overflow-x":[{"overflow-x":kt()}],"overflow-y":[{"overflow-y":kt()}],overscroll:[{overscroll:Ct()}],"overscroll-x":[{"overscroll-x":Ct()}],"overscroll-y":[{"overscroll-y":Ct()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[mt]}],"inset-x":[{"inset-x":[mt]}],"inset-y":[{"inset-y":[mt]}],start:[{start:[mt]}],end:[{end:[mt]}],top:[{top:[mt]}],right:[{right:[mt]}],bottom:[{bottom:[mt]}],left:[{left:[mt]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger]}],basis:[{basis:Pt()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:Ht()}],shrink:[{shrink:Ht()}],order:[{order:["first","last","none",isInteger]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger]},isArbitraryValue]}],"col-start":[{"col-start":Ot()}],"col-end":[{"col-end":Ot()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger]},isArbitraryValue]}],"row-start":[{"row-start":Ot()}],"row-end":[{"row-end":Ot()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[ft]}],"gap-x":[{"gap-x":[ft]}],"gap-y":[{"gap-y":[ft]}],"justify-content":[{justify:["normal"].concat(Ut())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(Ut(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(Ut(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_t]}],px:[{px:[_t]}],py:[{py:[_t]}],ps:[{ps:[_t]}],pe:[{pe:[_t]}],pt:[{pt:[_t]}],pr:[{pr:[_t]}],pb:[{pb:[_t]}],pl:[{pl:[_t]}],m:[{m:[xt]}],mx:[{mx:[xt]}],my:[{my:[xt]}],ms:[{ms:[xt]}],me:[{me:[xt]}],mt:[{mt:[xt]}],mr:[{mr:[xt]}],mb:[{mb:[xt]}],ml:[{ml:[xt]}],"space-x":[{"space-x":[Tt]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Tt]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",isArbitraryValue,tt]}],"min-w":[{"min-w":["min","max","fit",isArbitraryValue,isLength$4]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize,isArbitraryValue]}],h:[{h:[isArbitraryValue,tt,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",isArbitraryValue,isLength$4]}],"max-h":[{"max-h":[isArbitraryValue,tt,"min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber$4,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isArbitraryValue,isLength$4]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[et]}],"placeholder-opacity":[{"placeholder-opacity":[vt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[et]}],"text-opacity":[{"text-opacity":[vt]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(Bt(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength$4]}],"underline-offset":[{"underline-offset":["auto",isArbitraryValue,isLength$4]}],"text-decoration-color":[{decoration:[et]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:Dt()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[vt]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(It(),[isArbitraryPosition])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryUrl]}],"bg-color":[{bg:[et]}],"gradient-from-pos":[{from:[gt]}],"gradient-via-pos":[{via:[gt]}],"gradient-to-pos":[{to:[gt]}],"gradient-from":[{from:[ht]}],"gradient-via":[{via:[ht]}],"gradient-to":[{to:[ht]}],rounded:[{rounded:[it]}],"rounded-s":[{"rounded-s":[it]}],"rounded-e":[{"rounded-e":[it]}],"rounded-t":[{"rounded-t":[it]}],"rounded-r":[{"rounded-r":[it]}],"rounded-b":[{"rounded-b":[it]}],"rounded-l":[{"rounded-l":[it]}],"rounded-ss":[{"rounded-ss":[it]}],"rounded-se":[{"rounded-se":[it]}],"rounded-ee":[{"rounded-ee":[it]}],"rounded-es":[{"rounded-es":[it]}],"rounded-tl":[{"rounded-tl":[it]}],"rounded-tr":[{"rounded-tr":[it]}],"rounded-br":[{"rounded-br":[it]}],"rounded-bl":[{"rounded-bl":[it]}],"border-w":[{border:[ot]}],"border-w-x":[{"border-x":[ot]}],"border-w-y":[{"border-y":[ot]}],"border-w-s":[{"border-s":[ot]}],"border-w-e":[{"border-e":[ot]}],"border-w-t":[{"border-t":[ot]}],"border-w-r":[{"border-r":[ot]}],"border-w-b":[{"border-b":[ot]}],"border-w-l":[{"border-l":[ot]}],"border-opacity":[{"border-opacity":[vt]}],"border-style":[{border:[].concat(Bt(),["hidden"])}],"divide-x":[{"divide-x":[ot]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[ot]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[vt]}],"divide-style":[{divide:Bt()}],"border-color":[{border:[at]}],"border-color-x":[{"border-x":[at]}],"border-color-y":[{"border-y":[at]}],"border-color-t":[{"border-t":[at]}],"border-color-r":[{"border-r":[at]}],"border-color-b":[{"border-b":[at]}],"border-color-l":[{"border-l":[at]}],"divide-color":[{divide:[at]}],"outline-style":[{outline:[""].concat(Bt())}],"outline-offset":[{"outline-offset":[isArbitraryValue,isLength$4]}],"outline-w":[{outline:[isLength$4]}],"outline-color":[{outline:[et]}],"ring-w":[{ring:Ft()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[et]}],"ring-opacity":[{"ring-opacity":[vt]}],"ring-offset-w":[{"ring-offset":[isLength$4]}],"ring-offset-color":[{"ring-offset":[et]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[vt]}],"mix-blend":[{"mix-blend":qt()}],"bg-blend":[{"bg-blend":qt()}],filter:[{filter:["","none"]}],blur:[{blur:[rt]}],brightness:[{brightness:[nt]}],contrast:[{contrast:[lt]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[ct]}],"hue-rotate":[{"hue-rotate":[ut]}],invert:[{invert:[dt]}],saturate:[{saturate:[yt]}],sepia:[{sepia:[bt]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[rt]}],"backdrop-brightness":[{"backdrop-brightness":[nt]}],"backdrop-contrast":[{"backdrop-contrast":[lt]}],"backdrop-grayscale":[{"backdrop-grayscale":[ct]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ut]}],"backdrop-invert":[{"backdrop-invert":[dt]}],"backdrop-opacity":[{"backdrop-opacity":[vt]}],"backdrop-saturate":[{"backdrop-saturate":[yt]}],"backdrop-sepia":[{"backdrop-sepia":[bt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[st]}],"border-spacing-x":[{"border-spacing-x":[st]}],"border-spacing-y":[{"border-spacing-y":[st]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:Xt()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:Xt()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[St]}],"scale-x":[{"scale-x":[St]}],"scale-y":[{"scale-y":[St]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[At]}],"translate-y":[{"translate-y":[At]}],"skew-x":[{"skew-x":[Et]}],"skew-y":[{"skew-y":[Et]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",et]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[et]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Dt()}],"scroll-mx":[{"scroll-mx":Dt()}],"scroll-my":[{"scroll-my":Dt()}],"scroll-ms":[{"scroll-ms":Dt()}],"scroll-me":[{"scroll-me":Dt()}],"scroll-mt":[{"scroll-mt":Dt()}],"scroll-mr":[{"scroll-mr":Dt()}],"scroll-mb":[{"scroll-mb":Dt()}],"scroll-ml":[{"scroll-ml":Dt()}],"scroll-p":[{"scroll-p":Dt()}],"scroll-px":[{"scroll-px":Dt()}],"scroll-py":[{"scroll-py":Dt()}],"scroll-ps":[{"scroll-ps":Dt()}],"scroll-pe":[{"scroll-pe":Dt()}],"scroll-pt":[{"scroll-pt":Dt()}],"scroll-pr":[{"scroll-pr":Dt()}],"scroll-pb":[{"scroll-pb":Dt()}],"scroll-pl":[{"scroll-pl":Dt()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[et,"none"]}],"stroke-w":[{stroke:[isLength$4,isArbitraryNumber]}],stroke:[{stroke:[et,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var twMerge=createTailwindMerge(getDefaultConfig);function cn(...et){return twMerge(clsx(et))}function composeEventHandlers(et,tt,{checkForDefaultPrevented:rt=!0}={}){return function(at){if(et==null||et(at),rt===!1||!at.defaultPrevented)return tt==null?void 0:tt(at)}}function setRef(et,tt){if(typeof et=="function")return et(tt);et!=null&&(et.current=tt)}function composeRefs(...et){return tt=>{let rt=!1;const nt=et.map(at=>{const it=setRef(at,tt);return!rt&&typeof it=="function"&&(rt=!0),it});if(rt)return()=>{for(let at=0;at<nt.length;at++){const it=nt[at];typeof it=="function"?it():setRef(et[at],null)}}}}function useComposedRefs(...et){return reactExports.useCallback(composeRefs(...et),et)}function createContext2(et,tt){const rt=reactExports.createContext(tt),nt=it=>{const{children:st,...ot}=it,lt=reactExports.useMemo(()=>ot,Object.values(ot));return jsxRuntimeExports.jsx(rt.Provider,{value:lt,children:st})};nt.displayName=et+"Provider";function at(it){const st=reactExports.useContext(rt);if(st)return st;if(tt!==void 0)return tt;throw new Error(`\`${it}\` must be used within \`${et}\``)}return[nt,at]}function createContextScope$1(et,tt=[]){let rt=[];function nt(it,st){const ot=reactExports.createContext(st),lt=rt.length;rt=[...rt,st];const ct=dt=>{var vt;const{scope:ft,children:ht,...gt}=dt,mt=((vt=ft==null?void 0:ft[et])==null?void 0:vt[lt])||ot,xt=reactExports.useMemo(()=>gt,Object.values(gt));return jsxRuntimeExports.jsx(mt.Provider,{value:xt,children:ht})};ct.displayName=it+"Provider";function ut(dt,ft){var mt;const ht=((mt=ft==null?void 0:ft[et])==null?void 0:mt[lt])||ot,gt=reactExports.useContext(ht);if(gt)return gt;if(st!==void 0)return st;throw new Error(`\`${dt}\` must be used within \`${it}\``)}return[ct,ut]}const at=()=>{const it=rt.map(st=>reactExports.createContext(st));return function(ot){const lt=(ot==null?void 0:ot[et])||it;return reactExports.useMemo(()=>({[`__scope${et}`]:{...ot,[et]:lt}}),[ot,lt])}};return at.scopeName=et,[nt,composeContextScopes$1(at,...tt)]}function composeContextScopes$1(...et){const tt=et[0];if(et.length===1)return tt;const rt=()=>{const nt=et.map(at=>({useScope:at(),scopeName:at.scopeName}));return function(it){const st=nt.reduce((ot,{useScope:lt,scopeName:ct})=>{const dt=lt(it)[`__scope${ct}`];return{...ot,...dt}},{});return reactExports.useMemo(()=>({[`__scope${tt.scopeName}`]:st}),[st])}};return rt.scopeName=tt.scopeName,rt}function createSlot$6(et){const tt=createSlotClone$6(et),rt=reactExports.forwardRef((nt,at)=>{const{children:it,...st}=nt,ot=reactExports.Children.toArray(it),lt=ot.find(isSlottable$6);if(lt){const ct=lt.props.children,ut=ot.map(dt=>dt===lt?reactExports.Children.count(ct)>1?reactExports.Children.only(null):reactExports.isValidElement(ct)?ct.props.children:null:dt);return jsxRuntimeExports.jsx(tt,{...st,ref:at,children:reactExports.isValidElement(ct)?reactExports.cloneElement(ct,void 0,ut):null})}return jsxRuntimeExports.jsx(tt,{...st,ref:at,children:it})});return rt.displayName=`${et}.Slot`,rt}function createSlotClone$6(et){const tt=reactExports.forwardRef((rt,nt)=>{const{children:at,...it}=rt;if(reactExports.isValidElement(at)){const st=getElementRef$7(at),ot=mergeProps$6(it,at.props);return at.type!==reactExports.Fragment&&(ot.ref=nt?composeRefs(nt,st):st),reactExports.cloneElement(at,ot)}return reactExports.Children.count(at)>1?reactExports.Children.only(null):null});return tt.displayName=`${et}.SlotClone`,tt}var SLOTTABLE_IDENTIFIER$6=Symbol("radix.slottable");function isSlottable$6(et){return reactExports.isValidElement(et)&&typeof et.type=="function"&&"__radixId"in et.type&&et.type.__radixId===SLOTTABLE_IDENTIFIER$6}function mergeProps$6(et,tt){const rt={...tt};for(const nt in tt){const at=et[nt],it=tt[nt];/^on[A-Z]/.test(nt)?at&&it?rt[nt]=(...ot)=>{const lt=it(...ot);return at(...ot),lt}:at&&(rt[nt]=at):nt==="style"?rt[nt]={...at,...it}:nt==="className"&&(rt[nt]=[at,it].filter(Boolean).join(" "))}return{...et,...rt}}function getElementRef$7(et){var nt,at;let tt=(nt=Object.getOwnPropertyDescriptor(et.props,"ref"))==null?void 0:nt.get,rt=tt&&"isReactWarning"in tt&&tt.isReactWarning;return rt?et.ref:(tt=(at=Object.getOwnPropertyDescriptor(et,"ref"))==null?void 0:at.get,rt=tt&&"isReactWarning"in tt&&tt.isReactWarning,rt?et.props.ref:et.props.ref||et.ref)}function createCollection(et){const tt=et+"CollectionProvider",[rt,nt]=createContextScope$1(tt),[at,it]=rt(tt,{collectionRef:{current:null},itemMap:new Map}),st=mt=>{const{scope:xt,children:vt}=mt,_t=React$1.useRef(null),yt=React$1.useRef(new Map).current;return jsxRuntimeExports.jsx(at,{scope:xt,itemMap:yt,collectionRef:_t,children:vt})};st.displayName=tt;const ot=et+"CollectionSlot",lt=createSlot$6(ot),ct=React$1.forwardRef((mt,xt)=>{const{scope:vt,children:_t}=mt,yt=it(ot,vt),St=useComposedRefs(xt,yt.collectionRef);return jsxRuntimeExports.jsx(lt,{ref:St,children:_t})});ct.displayName=ot;const ut=et+"CollectionItemSlot",dt="data-radix-collection-item",ft=createSlot$6(ut),ht=React$1.forwardRef((mt,xt)=>{const{scope:vt,children:_t,...yt}=mt,St=React$1.useRef(null),bt=useComposedRefs(xt,St),Et=it(ut,vt);return React$1.useEffect(()=>(Et.itemMap.set(St,{ref:St,...yt}),()=>void Et.itemMap.delete(St))),jsxRuntimeExports.jsx(ft,{[dt]:"",ref:bt,children:_t})});ht.displayName=ut;function gt(mt){const xt=it(et+"CollectionConsumer",mt);return React$1.useCallback(()=>{const _t=xt.collectionRef.current;if(!_t)return[];const yt=Array.from(_t.querySelectorAll(`[${dt}]`));return Array.from(xt.itemMap.values()).sort((Et,Tt)=>yt.indexOf(Et.ref.current)-yt.indexOf(Tt.ref.current))},[xt.collectionRef,xt.itemMap])}return[{Provider:st,Slot:ct,ItemSlot:ht},gt,nt]}function createSlot$5(et){const tt=createSlotClone$5(et),rt=reactExports.forwardRef((nt,at)=>{const{children:it,...st}=nt,ot=reactExports.Children.toArray(it),lt=ot.find(isSlottable$5);if(lt){const ct=lt.props.children,ut=ot.map(dt=>dt===lt?reactExports.Children.count(ct)>1?reactExports.Children.only(null):reactExports.isValidElement(ct)?ct.props.children:null:dt);return jsxRuntimeExports.jsx(tt,{...st,ref:at,children:reactExports.isValidElement(ct)?reactExports.cloneElement(ct,void 0,ut):null})}return jsxRuntimeExports.jsx(tt,{...st,ref:at,children:it})});return rt.displayName=`${et}.Slot`,rt}function createSlotClone$5(et){const tt=reactExports.forwardRef((rt,nt)=>{const{children:at,...it}=rt;if(reactExports.isValidElement(at)){const st=getElementRef$6(at),ot=mergeProps$5(it,at.props);return at.type!==reactExports.Fragment&&(ot.ref=nt?composeRefs(nt,st):st),reactExports.cloneElement(at,ot)}return reactExports.Children.count(at)>1?reactExports.Children.only(null):null});return tt.displayName=`${et}.SlotClone`,tt}var SLOTTABLE_IDENTIFIER$5=Symbol("radix.slottable");function isSlottable$5(et){return reactExports.isValidElement(et)&&typeof et.type=="function"&&"__radixId"in et.type&&et.type.__radixId===SLOTTABLE_IDENTIFIER$5}function mergeProps$5(et,tt){const rt={...tt};for(const nt in tt){const at=et[nt],it=tt[nt];/^on[A-Z]/.test(nt)?at&&it?rt[nt]=(...ot)=>{const lt=it(...ot);return at(...ot),lt}:at&&(rt[nt]=at):nt==="style"?rt[nt]={...at,...it}:nt==="className"&&(rt[nt]=[at,it].filter(Boolean).join(" "))}return{...et,...rt}}function getElementRef$6(et){var nt,at;let tt=(nt=Object.getOwnPropertyDescriptor(et.props,"ref"))==null?void 0:nt.get,rt=tt&&"isReactWarning"in tt&&tt.isReactWarning;return rt?et.ref:(tt=(at=Object.getOwnPropertyDescriptor(et,"ref"))==null?void 0:at.get,rt=tt&&"isReactWarning"in tt&&tt.isReactWarning,rt?et.props.ref:et.props.ref||et.ref)}var NODES$2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$2=NODES$2.reduce((et,tt)=>{const rt=createSlot$5(`Primitive.${tt}`),nt=reactExports.forwardRef((at,it)=>{const{asChild:st,...ot}=at,lt=st?rt:tt;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(lt,{...ot,ref:it})});return nt.displayName=`Primitive.${tt}`,{...et,[tt]:nt}},{});function dispatchDiscreteCustomEvent(et,tt){et&&reactDomExports.flushSync(()=>et.dispatchEvent(tt))}function useCallbackRef$1(et){const tt=reactExports.useRef(et);return reactExports.useEffect(()=>{tt.current=et}),reactExports.useMemo(()=>(...rt)=>{var nt;return(nt=tt.current)==null?void 0:nt.call(tt,...rt)},[])}function useEscapeKeydown(et,tt=globalThis==null?void 0:globalThis.document){const rt=useCallbackRef$1(et);reactExports.useEffect(()=>{const nt=at=>{at.key==="Escape"&&rt(at)};return tt.addEventListener("keydown",nt,{capture:!0}),()=>tt.removeEventListener("keydown",nt,{capture:!0})},[rt,tt])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((et,tt)=>{const{disableOutsidePointerEvents:rt=!1,onEscapeKeyDown:nt,onPointerDownOutside:at,onFocusOutside:it,onInteractOutside:st,onDismiss:ot,...lt}=et,ct=reactExports.useContext(DismissableLayerContext),[ut,dt]=reactExports.useState(null),ft=(ut==null?void 0:ut.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,ht]=reactExports.useState({}),gt=useComposedRefs(tt,Tt=>dt(Tt)),mt=Array.from(ct.layers),[xt]=[...ct.layersWithOutsidePointerEventsDisabled].slice(-1),vt=mt.indexOf(xt),_t=ut?mt.indexOf(ut):-1,yt=ct.layersWithOutsidePointerEventsDisabled.size>0,St=_t>=vt,bt=usePointerDownOutside(Tt=>{const At=Tt.target,Ct=[...ct.branches].some(kt=>kt.contains(At));!St||Ct||(at==null||at(Tt),st==null||st(Tt),Tt.defaultPrevented||ot==null||ot())},ft),Et=useFocusOutside(Tt=>{const At=Tt.target;[...ct.branches].some(kt=>kt.contains(At))||(it==null||it(Tt),st==null||st(Tt),Tt.defaultPrevented||ot==null||ot())},ft);return useEscapeKeydown(Tt=>{_t===ct.layers.size-1&&(nt==null||nt(Tt),!Tt.defaultPrevented&&ot&&(Tt.preventDefault(),ot()))},ft),reactExports.useEffect(()=>{if(ut)return rt&&(ct.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=ft.body.style.pointerEvents,ft.body.style.pointerEvents="none"),ct.layersWithOutsidePointerEventsDisabled.add(ut)),ct.layers.add(ut),dispatchUpdate(),()=>{rt&&ct.layersWithOutsidePointerEventsDisabled.size===1&&(ft.body.style.pointerEvents=originalBodyPointerEvents)}},[ut,ft,rt,ct]),reactExports.useEffect(()=>()=>{ut&&(ct.layers.delete(ut),ct.layersWithOutsidePointerEventsDisabled.delete(ut),dispatchUpdate())},[ut,ct]),reactExports.useEffect(()=>{const Tt=()=>ht({});return document.addEventListener(CONTEXT_UPDATE,Tt),()=>document.removeEventListener(CONTEXT_UPDATE,Tt)},[]),jsxRuntimeExports.jsx(Primitive$2.div,{...lt,ref:gt,style:{pointerEvents:yt?St?"auto":"none":void 0,...et.style},onFocusCapture:composeEventHandlers(et.onFocusCapture,Et.onFocusCapture),onBlurCapture:composeEventHandlers(et.onBlurCapture,Et.onBlurCapture),onPointerDownCapture:composeEventHandlers(et.onPointerDownCapture,bt.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((et,tt)=>{const rt=reactExports.useContext(DismissableLayerContext),nt=reactExports.useRef(null),at=useComposedRefs(tt,nt);return reactExports.useEffect(()=>{const it=nt.current;if(it)return rt.branches.add(it),()=>{rt.branches.delete(it)}},[rt.branches]),jsxRuntimeExports.jsx(Primitive$2.div,{...et,ref:at})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(et,tt=globalThis==null?void 0:globalThis.document){const rt=useCallbackRef$1(et),nt=reactExports.useRef(!1),at=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const it=ot=>{if(ot.target&&!nt.current){let lt=function(){handleAndDispatchCustomEvent$1(POINTER_DOWN_OUTSIDE,rt,ct,{discrete:!0})};const ct={originalEvent:ot};ot.pointerType==="touch"?(tt.removeEventListener("click",at.current),at.current=lt,tt.addEventListener("click",at.current,{once:!0})):lt()}else tt.removeEventListener("click",at.current);nt.current=!1},st=window.setTimeout(()=>{tt.addEventListener("pointerdown",it)},0);return()=>{window.clearTimeout(st),tt.removeEventListener("pointerdown",it),tt.removeEventListener("click",at.current)}},[tt,rt]),{onPointerDownCapture:()=>nt.current=!0}}function useFocusOutside(et,tt=globalThis==null?void 0:globalThis.document){const rt=useCallbackRef$1(et),nt=reactExports.useRef(!1);return reactExports.useEffect(()=>{const at=it=>{it.target&&!nt.current&&handleAndDispatchCustomEvent$1(FOCUS_OUTSIDE,rt,{originalEvent:it},{discrete:!1})};return tt.addEventListener("focusin",at),()=>tt.removeEventListener("focusin",at)},[tt,rt]),{onFocusCapture:()=>nt.current=!0,onBlurCapture:()=>nt.current=!1}}function dispatchUpdate(){const et=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(et)}function handleAndDispatchCustomEvent$1(et,tt,rt,{discrete:nt}){const at=rt.originalEvent.target,it=new CustomEvent(et,{bubbles:!1,cancelable:!0,detail:rt});tt&&at.addEventListener(et,tt,{once:!0}),nt?dispatchDiscreteCustomEvent(at,it):at.dispatchEvent(it)}var Root$6=DismissableLayer,Branch=DismissableLayerBranch,useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},PORTAL_NAME$5="Portal",Portal$4=reactExports.forwardRef((et,tt)=>{var ot;const{container:rt,...nt}=et,[at,it]=reactExports.useState(!1);useLayoutEffect2(()=>it(!0),[]);const st=rt||at&&((ot=globalThis==null?void 0:globalThis.document)==null?void 0:ot.body);return st?$7SXl2$reactdom.createPortal(jsxRuntimeExports.jsx(Primitive$2.div,{...nt,ref:tt}),st):null});Portal$4.displayName=PORTAL_NAME$5;function useStateMachine$1(et,tt){return reactExports.useReducer((rt,nt)=>tt[rt][nt]??rt,et)}var Presence=et=>{const{present:tt,children:rt}=et,nt=usePresence$1(tt),at=typeof rt=="function"?rt({present:nt.isPresent}):reactExports.Children.only(rt),it=useComposedRefs(nt.ref,getElementRef$5(at));return typeof rt=="function"||nt.isPresent?reactExports.cloneElement(at,{ref:it}):null};Presence.displayName="Presence";function usePresence$1(et){const[tt,rt]=reactExports.useState(),nt=reactExports.useRef(null),at=reactExports.useRef(et),it=reactExports.useRef("none"),st=et?"mounted":"unmounted",[ot,lt]=useStateMachine$1(st,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const ct=getAnimationName(nt.current);it.current=ot==="mounted"?ct:"none"},[ot]),useLayoutEffect2(()=>{const ct=nt.current,ut=at.current;if(ut!==et){const ft=it.current,ht=getAnimationName(ct);et?lt("MOUNT"):ht==="none"||(ct==null?void 0:ct.display)==="none"?lt("UNMOUNT"):lt(ut&&ft!==ht?"ANIMATION_OUT":"UNMOUNT"),at.current=et}},[et,lt]),useLayoutEffect2(()=>{if(tt){let ct;const ut=tt.ownerDocument.defaultView??window,dt=ht=>{const mt=getAnimationName(nt.current).includes(CSS.escape(ht.animationName));if(ht.target===tt&&mt&&(lt("ANIMATION_END"),!at.current)){const xt=tt.style.animationFillMode;tt.style.animationFillMode="forwards",ct=ut.setTimeout(()=>{tt.style.animationFillMode==="forwards"&&(tt.style.animationFillMode=xt)})}},ft=ht=>{ht.target===tt&&(it.current=getAnimationName(nt.current))};return tt.addEventListener("animationstart",ft),tt.addEventListener("animationcancel",dt),tt.addEventListener("animationend",dt),()=>{ut.clearTimeout(ct),tt.removeEventListener("animationstart",ft),tt.removeEventListener("animationcancel",dt),tt.removeEventListener("animationend",dt)}}else lt("ANIMATION_END")},[tt,lt]),{isPresent:["mounted","unmountSuspended"].includes(ot),ref:reactExports.useCallback(ct=>{nt.current=ct?getComputedStyle(ct):null,rt(ct)},[])}}function getAnimationName(et){return(et==null?void 0:et.animationName)||"none"}function getElementRef$5(et){var nt,at;let tt=(nt=Object.getOwnPropertyDescriptor(et.props,"ref"))==null?void 0:nt.get,rt=tt&&"isReactWarning"in tt&&tt.isReactWarning;return rt?et.ref:(tt=(at=Object.getOwnPropertyDescriptor(et,"ref"))==null?void 0:at.get,rt=tt&&"isReactWarning"in tt&&tt.isReactWarning,rt?et.props.ref:et.props.ref||et.ref)}var useInsertionEffect=$2AODx$react[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:et,defaultProp:tt,onChange:rt=()=>{},caller:nt}){const[at,it,st]=useUncontrolledState({defaultProp:tt,onChange:rt}),ot=et!==void 0,lt=ot?et:at;{const ut=reactExports.useRef(et!==void 0);reactExports.useEffect(()=>{const dt=ut.current;dt!==ot&&console.warn(`${nt} is changing from ${dt?"controlled":"uncontrolled"} to ${ot?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),ut.current=ot},[ot,nt])}const ct=reactExports.useCallback(ut=>{var dt;if(ot){const ft=isFunction$4(ut)?ut(et):ut;ft!==et&&((dt=st.current)==null||dt.call(st,ft))}else it(ut)},[ot,et,it,st]);return[lt,ct]}function useUncontrolledState({defaultProp:et,onChange:tt}){const[rt,nt]=reactExports.useState(et),at=reactExports.useRef(rt),it=reactExports.useRef(tt);return useInsertionEffect(()=>{it.current=tt},[tt]),reactExports.useEffect(()=>{var st;at.current!==rt&&((st=it.current)==null||st.call(it,rt),at.current=rt)},[rt,at]),[rt,nt,it]}function isFunction$4(et){return typeof et=="function"}var VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME$3="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((et,tt)=>jsxRuntimeExports.jsx(Primitive$2.span,{...et,ref:tt,style:{...VISUALLY_HIDDEN_STYLES,...et.style}}));VisuallyHidden.displayName=NAME$3;var PROVIDER_NAME="ToastProvider",[Collection$3,useCollection$3,createCollectionScope$3]=createCollection("Toast"),[createToastContext,createToastScope]=createContextScope$1("Toast",[createCollectionScope$3]),[ToastProviderProvider,useToastProviderContext]=createToastContext(PROVIDER_NAME),ToastProvider$1=et=>{const{__scopeToast:tt,label:rt="Notification",duration:nt=5e3,swipeDirection:at="right",swipeThreshold:it=50,children:st}=et,[ot,lt]=reactExports.useState(null),[ct,ut]=reactExports.useState(0),dt=reactExports.useRef(!1),ft=reactExports.useRef(!1);return rt.trim()||console.error(`Invalid prop \`label\` supplied to \`${PROVIDER_NAME}\`. Expected non-empty \`string\`.`),jsxRuntimeExports.jsx(Collection$3.Provider,{scope:tt,children:jsxRuntimeExports.jsx(ToastProviderProvider,{scope:tt,label:rt,duration:nt,swipeDirection:at,swipeThreshold:it,toastCount:ct,viewport:ot,onViewportChange:lt,onToastAdd:reactExports.useCallback(()=>ut(ht=>ht+1),[]),onToastRemove:reactExports.useCallback(()=>ut(ht=>ht-1),[]),isFocusedToastEscapeKeyDownRef:dt,isClosePausedRef:ft,children:st})})};ToastProvider$1.displayName=PROVIDER_NAME;var VIEWPORT_NAME$2="ToastViewport",VIEWPORT_DEFAULT_HOTKEY=["F8"],VIEWPORT_PAUSE="toast.viewportPause",VIEWPORT_RESUME="toast.viewportResume",ToastViewport$1=reactExports.forwardRef((et,tt)=>{const{__scopeToast:rt,hotkey:nt=VIEWPORT_DEFAULT_HOTKEY,label:at="Notifications ({hotkey})",...it}=et,st=useToastProviderContext(VIEWPORT_NAME$2,rt),ot=useCollection$3(rt),lt=reactExports.useRef(null),ct=reactExports.useRef(null),ut=reactExports.useRef(null),dt=reactExports.useRef(null),ft=useComposedRefs(tt,dt,st.onViewportChange),ht=nt.join("+").replace(/Key/g,"").replace(/Digit/g,""),gt=st.toastCount>0;reactExports.useEffect(()=>{const xt=vt=>{var yt;nt.length!==0&&nt.every(St=>vt[St]||vt.code===St)&&((yt=dt.current)==null||yt.focus())};return document.addEventListener("keydown",xt),()=>document.removeEventListener("keydown",xt)},[nt]),reactExports.useEffect(()=>{const xt=lt.current,vt=dt.current;if(gt&&xt&&vt){const _t=()=>{if(!st.isClosePausedRef.current){const Et=new CustomEvent(VIEWPORT_PAUSE);vt.dispatchEvent(Et),st.isClosePausedRef.current=!0}},yt=()=>{if(st.isClosePausedRef.current){const Et=new CustomEvent(VIEWPORT_RESUME);vt.dispatchEvent(Et),st.isClosePausedRef.current=!1}},St=Et=>{!xt.contains(Et.relatedTarget)&&yt()},bt=()=>{xt.contains(document.activeElement)||yt()};return xt.addEventListener("focusin",_t),xt.addEventListener("focusout",St),xt.addEventListener("pointermove",_t),xt.addEventListener("pointerleave",bt),window.addEventListener("blur",_t),window.addEventListener("focus",yt),()=>{xt.removeEventListener("focusin",_t),xt.removeEventListener("focusout",St),xt.removeEventListener("pointermove",_t),xt.removeEventListener("pointerleave",bt),window.removeEventListener("blur",_t),window.removeEventListener("focus",yt)}}},[gt,st.isClosePausedRef]);const mt=reactExports.useCallback(({tabbingDirection:xt})=>{const _t=ot().map(yt=>{const St=yt.ref.current,bt=[St,...getTabbableCandidates$1(St)];return xt==="forwards"?bt:bt.reverse()});return(xt==="forwards"?_t.reverse():_t).flat()},[ot]);return reactExports.useEffect(()=>{const xt=dt.current;if(xt){const vt=_t=>{var bt,Et,Tt;const yt=_t.altKey||_t.ctrlKey||_t.metaKey;if(_t.key==="Tab"&&!yt){const At=document.activeElement,Ct=_t.shiftKey;if(_t.target===xt&&Ct){(bt=ct.current)==null||bt.focus();return}const Dt=mt({tabbingDirection:Ct?"backwards":"forwards"}),Ft=Dt.findIndex(Ot=>Ot===At);focusFirst$3(Dt.slice(Ft+1))?_t.preventDefault():Ct?(Et=ct.current)==null||Et.focus():(Tt=ut.current)==null||Tt.focus()}};return xt.addEventListener("keydown",vt),()=>xt.removeEventListener("keydown",vt)}},[ot,mt]),jsxRuntimeExports.jsxs(Branch,{ref:lt,role:"region","aria-label":at.replace("{hotkey}",ht),tabIndex:-1,style:{pointerEvents:gt?void 0:"none"},children:[gt&&jsxRuntimeExports.jsx(FocusProxy,{ref:ct,onFocusFromOutsideViewport:()=>{const xt=mt({tabbingDirection:"forwards"});focusFirst$3(xt)}}),jsxRuntimeExports.jsx(Collection$3.Slot,{scope:rt,children:jsxRuntimeExports.jsx(Primitive$2.ol,{tabIndex:-1,...it,ref:ft})}),gt&&jsxRuntimeExports.jsx(FocusProxy,{ref:ut,onFocusFromOutsideViewport:()=>{const xt=mt({tabbingDirection:"backwards"});focusFirst$3(xt)}})]})});ToastViewport$1.displayName=VIEWPORT_NAME$2;var FOCUS_PROXY_NAME="ToastFocusProxy",FocusProxy=reactExports.forwardRef((et,tt)=>{const{__scopeToast:rt,onFocusFromOutsideViewport:nt,...at}=et,it=useToastProviderContext(FOCUS_PROXY_NAME,rt);return jsxRuntimeExports.jsx(VisuallyHidden,{tabIndex:0,...at,ref:tt,style:{position:"fixed"},onFocus:st=>{var ct;const ot=st.relatedTarget;!((ct=it.viewport)!=null&&ct.contains(ot))&&nt()}})});FocusProxy.displayName=FOCUS_PROXY_NAME;var TOAST_NAME="Toast",TOAST_SWIPE_START="toast.swipeStart",TOAST_SWIPE_MOVE="toast.swipeMove",TOAST_SWIPE_CANCEL="toast.swipeCancel",TOAST_SWIPE_END="toast.swipeEnd",Toast$1=reactExports.forwardRef((et,tt)=>{const{forceMount:rt,open:nt,defaultOpen:at,onOpenChange:it,...st}=et,[ot,lt]=useControllableState({prop:nt,defaultProp:at??!0,onChange:it,caller:TOAST_NAME});return jsxRuntimeExports.jsx(Presence,{present:rt||ot,children:jsxRuntimeExports.jsx(ToastImpl,{open:ot,...st,ref:tt,onClose:()=>lt(!1),onPause:useCallbackRef$1(et.onPause),onResume:useCallbackRef$1(et.onResume),onSwipeStart:composeEventHandlers(et.onSwipeStart,ct=>{ct.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:composeEventHandlers(et.onSwipeMove,ct=>{const{x:ut,y:dt}=ct.detail.delta;ct.currentTarget.setAttribute("data-swipe","move"),ct.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${ut}px`),ct.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${dt}px`)}),onSwipeCancel:composeEventHandlers(et.onSwipeCancel,ct=>{ct.currentTarget.setAttribute("data-swipe","cancel"),ct.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),ct.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),ct.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),ct.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:composeEventHandlers(et.onSwipeEnd,ct=>{const{x:ut,y:dt}=ct.detail.delta;ct.currentTarget.setAttribute("data-swipe","end"),ct.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),ct.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),ct.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${ut}px`),ct.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${dt}px`),lt(!1)})})})});Toast$1.displayName=TOAST_NAME;var[ToastInteractiveProvider,useToastInteractiveContext]=createToastContext(TOAST_NAME,{onClose(){}}),ToastImpl=reactExports.forwardRef((et,tt)=>{const{__scopeToast:rt,type:nt="foreground",duration:at,open:it,onClose:st,onEscapeKeyDown:ot,onPause:lt,onResume:ct,onSwipeStart:ut,onSwipeMove:dt,onSwipeCancel:ft,onSwipeEnd:ht,...gt}=et,mt=useToastProviderContext(TOAST_NAME,rt),[xt,vt]=reactExports.useState(null),_t=useComposedRefs(tt,Ot=>vt(Ot)),yt=reactExports.useRef(null),St=reactExports.useRef(null),bt=at||mt.duration,Et=reactExports.useRef(0),Tt=reactExports.useRef(bt),At=reactExports.useRef(0),{onToastAdd:Ct,onToastRemove:kt}=mt,Pt=useCallbackRef$1(()=>{var It;(xt==null?void 0:xt.contains(document.activeElement))&&((It=mt.viewport)==null||It.focus()),st()}),Dt=reactExports.useCallback(Ot=>{!Ot||Ot===1/0||(window.clearTimeout(At.current),Et.current=new Date().getTime(),At.current=window.setTimeout(Pt,Ot))},[Pt]);reactExports.useEffect(()=>{const Ot=mt.viewport;if(Ot){const It=()=>{Dt(Tt.current),ct==null||ct()},Bt=()=>{const qt=new Date().getTime()-Et.current;Tt.current=Tt.current-qt,window.clearTimeout(At.current),lt==null||lt()};return Ot.addEventListener(VIEWPORT_PAUSE,Bt),Ot.addEventListener(VIEWPORT_RESUME,It),()=>{Ot.removeEventListener(VIEWPORT_PAUSE,Bt),Ot.removeEventListener(VIEWPORT_RESUME,It)}}},[mt.viewport,bt,lt,ct,Dt]),reactExports.useEffect(()=>{it&&!mt.isClosePausedRef.current&&Dt(bt)},[it,bt,mt.isClosePausedRef,Dt]),reactExports.useEffect(()=>(Ct(),()=>kt()),[Ct,kt]);const Ft=reactExports.useMemo(()=>xt?getAnnounceTextContent(xt):null,[xt]);return mt.viewport?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Ft&&jsxRuntimeExports.jsx(ToastAnnounce,{__scopeToast:rt,role:"status","aria-live":nt==="foreground"?"assertive":"polite",children:Ft}),jsxRuntimeExports.jsx(ToastInteractiveProvider,{scope:rt,onClose:Pt,children:reactDomExports.createPortal(jsxRuntimeExports.jsx(Collection$3.ItemSlot,{scope:rt,children:jsxRuntimeExports.jsx(Root$6,{asChild:!0,onEscapeKeyDown:composeEventHandlers(ot,()=>{mt.isFocusedToastEscapeKeyDownRef.current||Pt(),mt.isFocusedToastEscapeKeyDownRef.current=!1}),children:jsxRuntimeExports.jsx(Primitive$2.li,{tabIndex:0,"data-state":it?"open":"closed","data-swipe-direction":mt.swipeDirection,...gt,ref:_t,style:{userSelect:"none",touchAction:"none",...et.style},onKeyDown:composeEventHandlers(et.onKeyDown,Ot=>{Ot.key==="Escape"&&(ot==null||ot(Ot.nativeEvent),Ot.nativeEvent.defaultPrevented||(mt.isFocusedToastEscapeKeyDownRef.current=!0,Pt()))}),onPointerDown:composeEventHandlers(et.onPointerDown,Ot=>{Ot.button===0&&(yt.current={x:Ot.clientX,y:Ot.clientY})}),onPointerMove:composeEventHandlers(et.onPointerMove,Ot=>{if(!yt.current)return;const It=Ot.clientX-yt.current.x,Bt=Ot.clientY-yt.current.y,qt=!!St.current,Ut=["left","right"].includes(mt.swipeDirection),Ht=["left","up"].includes(mt.swipeDirection)?Math.min:Math.max,Qt=Ut?Ht(0,It):0,ir=Ut?0:Ht(0,Bt),Xt=Ot.pointerType==="touch"?10:2,Lt={x:Qt,y:ir},jt={originalEvent:Ot,delta:Lt};qt?(St.current=Lt,handleAndDispatchCustomEvent(TOAST_SWIPE_MOVE,dt,jt,{discrete:!1})):isDeltaInDirection(Lt,mt.swipeDirection,Xt)?(St.current=Lt,handleAndDispatchCustomEvent(TOAST_SWIPE_START,ut,jt,{discrete:!1}),Ot.target.setPointerCapture(Ot.pointerId)):(Math.abs(It)>Xt||Math.abs(Bt)>Xt)&&(yt.current=null)}),onPointerUp:composeEventHandlers(et.onPointerUp,Ot=>{const It=St.current,Bt=Ot.target;if(Bt.hasPointerCapture(Ot.pointerId)&&Bt.releasePointerCapture(Ot.pointerId),St.current=null,yt.current=null,It){const qt=Ot.currentTarget,Ut={originalEvent:Ot,delta:It};isDeltaInDirection(It,mt.swipeDirection,mt.swipeThreshold)?handleAndDispatchCustomEvent(TOAST_SWIPE_END,ht,Ut,{discrete:!0}):handleAndDispatchCustomEvent(TOAST_SWIPE_CANCEL,ft,Ut,{discrete:!0}),qt.addEventListener("click",Ht=>Ht.preventDefault(),{once:!0})}})})})}),mt.viewport)})]}):null}),ToastAnnounce=et=>{const{__scopeToast:tt,children:rt,...nt}=et,at=useToastProviderContext(TOAST_NAME,tt),[it,st]=reactExports.useState(!1),[ot,lt]=reactExports.useState(!1);return useNextFrame(()=>st(!0)),reactExports.useEffect(()=>{const ct=window.setTimeout(()=>lt(!0),1e3);return()=>window.clearTimeout(ct)},[]),ot?null:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,children:jsxRuntimeExports.jsx(VisuallyHidden,{...nt,children:it&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[at.label," ",rt]})})})},TITLE_NAME$1="ToastTitle",ToastTitle$1=reactExports.forwardRef((et,tt)=>{const{__scopeToast:rt,...nt}=et;return jsxRuntimeExports.jsx(Primitive$2.div,{...nt,ref:tt})});ToastTitle$1.displayName=TITLE_NAME$1;var DESCRIPTION_NAME$1="ToastDescription",ToastDescription$1=reactExports.forwardRef((et,tt)=>{const{__scopeToast:rt,...nt}=et;return jsxRuntimeExports.jsx(Primitive$2.div,{...nt,ref:tt})});ToastDescription$1.displayName=DESCRIPTION_NAME$1;var ACTION_NAME="ToastAction",ToastAction$1=reactExports.forwardRef((et,tt)=>{const{altText:rt,...nt}=et;return rt.trim()?jsxRuntimeExports.jsx(ToastAnnounceExclude,{altText:rt,asChild:!0,children:jsxRuntimeExports.jsx(ToastClose$1,{...nt,ref:tt})}):(console.error(`Invalid prop \`altText\` supplied to \`${ACTION_NAME}\`. Expected non-empty \`string\`.`),null)});ToastAction$1.displayName=ACTION_NAME;var CLOSE_NAME$2="ToastClose",ToastClose$1=reactExports.forwardRef((et,tt)=>{const{__scopeToast:rt,...nt}=et,at=useToastInteractiveContext(CLOSE_NAME$2,rt);return jsxRuntimeExports.jsx(ToastAnnounceExclude,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",...nt,ref:tt,onClick:composeEventHandlers(et.onClick,at.onClose)})})});ToastClose$1.displayName=CLOSE_NAME$2;var ToastAnnounceExclude=reactExports.forwardRef((et,tt)=>{const{__scopeToast:rt,altText:nt,...at}=et;return jsxRuntimeExports.jsx(Primitive$2.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":nt||void 0,...at,ref:tt})});function getAnnounceTextContent(et){const tt=[];return Array.from(et.childNodes).forEach(nt=>{if(nt.nodeType===nt.TEXT_NODE&&nt.textContent&&tt.push(nt.textContent),isHTMLElement$1(nt)){const at=nt.ariaHidden||nt.hidden||nt.style.display==="none",it=nt.dataset.radixToastAnnounceExclude==="";if(!at)if(it){const st=nt.dataset.radixToastAnnounceAlt;st&&tt.push(st)}else tt.push(...getAnnounceTextContent(nt))}}),tt}function handleAndDispatchCustomEvent(et,tt,rt,{discrete:nt}){const at=rt.originalEvent.currentTarget,it=new CustomEvent(et,{bubbles:!0,cancelable:!0,detail:rt});tt&&at.addEventListener(et,tt,{once:!0}),nt?dispatchDiscreteCustomEvent(at,it):at.dispatchEvent(it)}var isDeltaInDirection=(et,tt,rt=0)=>{const nt=Math.abs(et.x),at=Math.abs(et.y),it=nt>at;return tt==="left"||tt==="right"?it&&nt>rt:!it&&at>rt};function useNextFrame(et=()=>{}){const tt=useCallbackRef$1(et);useLayoutEffect2(()=>{let rt=0,nt=0;return rt=window.requestAnimationFrame(()=>nt=window.requestAnimationFrame(tt)),()=>{window.cancelAnimationFrame(rt),window.cancelAnimationFrame(nt)}},[tt])}function isHTMLElement$1(et){return et.nodeType===et.ELEMENT_NODE}function getTabbableCandidates$1(et){const tt=[],rt=document.createTreeWalker(et,NodeFilter.SHOW_ELEMENT,{acceptNode:nt=>{const at=nt.tagName==="INPUT"&&nt.type==="hidden";return nt.disabled||nt.hidden||at?NodeFilter.FILTER_SKIP:nt.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;rt.nextNode();)tt.push(rt.currentNode);return tt}function focusFirst$3(et){const tt=document.activeElement;return et.some(rt=>rt===tt?!0:(rt.focus(),document.activeElement!==tt))}var Provider=ToastProvider$1,Viewport$2=ToastViewport$1,Root2$5=Toast$1,Title$1=ToastTitle$1,Description$1=ToastDescription$1,Action=ToastAction$1,Close$1=ToastClose$1;const falsyToString=et=>typeof et=="boolean"?`${et}`:et===0?"0":et,cx$1=clsx,cva=(et,tt)=>rt=>{var nt;if((tt==null?void 0:tt.variants)==null)return cx$1(et,rt==null?void 0:rt.class,rt==null?void 0:rt.className);const{variants:at,defaultVariants:it}=tt,st=Object.keys(at).map(ct=>{const ut=rt==null?void 0:rt[ct],dt=it==null?void 0:it[ct];if(ut===null)return null;const ft=falsyToString(ut)||falsyToString(dt);return at[ct][ft]}),ot=rt&&Object.entries(rt).reduce((ct,ut)=>{let[dt,ft]=ut;return ft===void 0||(ct[dt]=ft),ct},{}),lt=tt==null||(nt=tt.compoundVariants)===null||nt===void 0?void 0:nt.reduce((ct,ut)=>{let{class:dt,className:ft,...ht}=ut;return Object.entries(ht).every(gt=>{let[mt,xt]=gt;return Array.isArray(xt)?xt.includes({...it,...ot}[mt]):{...it,...ot}[mt]===xt})?[...ct,dt,ft]:ct},[]);return cx$1(et,st,lt,rt==null?void 0:rt.class,rt==null?void 0:rt.className)};var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const toKebabCase=et=>et.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(et,tt)=>{const rt=reactExports.forwardRef(({color:nt="currentColor",size:at=24,strokeWidth:it=2,absoluteStrokeWidth:st,children:ot,...lt},ct)=>reactExports.createElement("svg",{ref:ct,...defaultAttributes,width:at,height:at,stroke:nt,strokeWidth:st?Number(it)*24/Number(at):it,className:`lucide lucide-${toKebabCase(et)}`,...lt},[...tt.map(([ut,dt])=>reactExports.createElement(ut,dt)),...(Array.isArray(ot)?ot:[ot])||[]]));return rt.displayName=`${et}`,rt},Activity=createLucideIcon("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),AlarmClock=createLucideIcon("AlarmClock",[["circle",{cx:"12",cy:"13",r:"8",key:"3y4lt7"}],["path",{d:"M12 9v4l2 2",key:"1c63tq"}],["path",{d:"M5 3 2 6",key:"18tl5t"}],["path",{d:"m22 6-3-3",key:"1opdir"}],["path",{d:"M6.38 18.7 4 21",key:"17xu3x"}],["path",{d:"M17.64 18.67 20 21",key:"kv2oe2"}]]),AlertTriangle=createLucideIcon("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ArrowLeft=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ArrowUpDown=createLucideIcon("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),Award=createLucideIcon("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Bell=createLucideIcon("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),BookOpen=createLucideIcon("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Briefcase=createLucideIcon("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),Building=createLucideIcon("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Cake=createLucideIcon("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v2",key:"kqglng"}],["path",{d:"M12 8v2",key:"1woqiv"}],["path",{d:"M17 8v2",key:"teptal"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]]),CalendarClock=createLucideIcon("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.25V14",key:"re2vv1"}],["path",{d:"M22 16a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z",key:"ame013"}]]),CalendarDays=createLucideIcon("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Camera=createLucideIcon("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),CheckCircle=createLucideIcon("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Check=createLucideIcon("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ChevronUp=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),ChevronsUpDown=createLucideIcon("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]),Circle=createLucideIcon("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Columns=createLucideIcon("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),EyeOff=createLucideIcon("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Eye=createLucideIcon("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),FileClock=createLucideIcon("FileClock",[["path",{d:"M16 22h2c.5 0 1-.2 1.4-.6.4-.4.6-.9.6-1.4V7.5L14.5 2H6c-.5 0-1 .2-1.4.6C4.2 3 4 3.5 4 4v3",key:"9lo3o3"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}],["path",{d:"M9.5 17.5 8 16.25V14",key:"1o80t2"}]]),FileText=createLucideIcon("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),File$1=createLucideIcon("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),Filter=createLucideIcon("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Fingerprint=createLucideIcon("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]),History=createLucideIcon("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Info=createLucideIcon("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),LayoutDashboard=createLucideIcon("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Loader2=createLucideIcon("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),LogIn=createLucideIcon("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),MapPin=createLucideIcon("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Map$5=createLucideIcon("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),Megaphone=createLucideIcon("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),Menu$1=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),MessageSquare=createLucideIcon("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Moon=createLucideIcon("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),PenSquare=createLucideIcon("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Pen=createLucideIcon("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),Phone=createLucideIcon("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),PieChart$1=createLucideIcon("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),PlusCircle=createLucideIcon("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Printer=createLucideIcon("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),RefreshCw=createLucideIcon("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Send=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Settings=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ShieldCheck=createLucideIcon("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ShoppingBasket=createLucideIcon("ShoppingBasket",[["path",{d:"m5 11 4-7",key:"116ra9"}],["path",{d:"m19 11-4-7",key:"cnml18"}],["path",{d:"M2 11h20",key:"3eubbj"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8c.9 0 1.8-.7 2-1.6l1.7-7.4",key:"1x2lvw"}],["path",{d:"m9 11 1 9",key:"1ojof7"}],["path",{d:"M4.5 15.5h15",key:"13mye1"}],["path",{d:"m15 11-1 9",key:"5wnq3a"}]]),SlidersHorizontal=createLucideIcon("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),Sun=createLucideIcon("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),ThumbsUp=createLucideIcon("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),UserCheck=createLucideIcon("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),UserCircle=createLucideIcon("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),UserCog2=createLucideIcon("UserCog2",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"8",cy:"9",r:"4",key:"143rtg"}],["path",{d:"M10.5 13.5A6 6 0 0 0 2 19",key:"ih5ja7"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),UserMinus=createLucideIcon("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),UserPlus=createLucideIcon("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),UserX=createLucideIcon("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Users=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),XCircle=createLucideIcon("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),X$1=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ToastProvider=Provider,ToastViewport=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(Viewport$2,{ref:rt,className:cn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:right-0 sm:top-16 sm:flex-col md:max-w-[420px]",et),...tt}));ToastViewport.displayName=Viewport$2.displayName;const toastVariants=cva("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Toast=React$1.forwardRef(({className:et,variant:tt,...rt},nt)=>jsxRuntimeExports.jsx(Root2$5,{ref:nt,className:cn(toastVariants({variant:tt}),et),...rt}));Toast.displayName=Root2$5.displayName;const ToastAction=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(Action,{ref:rt,className:cn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",et),...tt}));ToastAction.displayName=Action.displayName;const ToastClose=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(Close$1,{ref:rt,className:cn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-100 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",et),"toast-close":"",...tt,children:jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"})}));ToastClose.displayName=Close$1.displayName;const ToastTitle=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(Title$1,{ref:rt,className:cn("text-sm font-semibold",et),...tt}));ToastTitle.displayName=Title$1.displayName;const ToastDescription=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(Description$1,{ref:rt,className:cn("text-sm opacity-90",et),...tt}));ToastDescription.displayName=Description$1.displayName;const TOAST_LIMIT=1;let count$2=0;function generateId(){return count$2=(count$2+1)%Number.MAX_VALUE,count$2.toString()}const toastStore={state:{toasts:[]},listeners:[],getState:()=>toastStore.state,setState:et=>{typeof et=="function"?toastStore.state=et(toastStore.state):toastStore.state={...toastStore.state,...et},toastStore.listeners.forEach(tt=>tt(toastStore.state))},subscribe:et=>(toastStore.listeners.push(et),()=>{toastStore.listeners=toastStore.listeners.filter(tt=>tt!==et)})},toast=({...et})=>{const tt=generateId(),rt=at=>toastStore.setState(it=>({...it,toasts:it.toasts.map(st=>st.id===tt?{...st,...at}:st)})),nt=()=>toastStore.setState(at=>({...at,toasts:at.toasts.filter(it=>it.id!==tt)}));return toastStore.setState(at=>({...at,toasts:[{...et,id:tt,dismiss:nt},...at.toasts].slice(0,TOAST_LIMIT)})),{id:tt,dismiss:nt,update:rt}};function useToast(){const[et,tt]=reactExports.useState(toastStore.getState());return reactExports.useEffect(()=>toastStore.subscribe(nt=>{tt(nt)}),[]),reactExports.useEffect(()=>{const rt=[];return et.toasts.forEach(nt=>{if(nt.duration===1/0)return;const at=setTimeout(()=>{nt.dismiss()},nt.duration||1e3);rt.push(at)}),()=>{rt.forEach(nt=>clearTimeout(nt))}},[et.toasts]),{toast,toasts:et.toasts}}function Toaster(){const{toasts:et}=useToast();return jsxRuntimeExports.jsxs(ToastProvider,{children:[et.map(({id:tt,title:rt,description:nt,action:at,...it})=>jsxRuntimeExports.jsxs(Toast,{...it,children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-1",children:[rt&&jsxRuntimeExports.jsx(ToastTitle,{children:rt}),nt&&jsxRuntimeExports.jsx(ToastDescription,{children:nt})]}),at,jsxRuntimeExports.jsx(ToastClose,{})]},tt)),jsxRuntimeExports.jsx(ToastViewport,{})]})}var REACT_LAZY_TYPE=Symbol.for("react.lazy"),use=$2AODx$react[" use ".trim().toString()];function isPromiseLike(et){return typeof et=="object"&&et!==null&&"then"in et}function isLazyComponent(et){return et!=null&&typeof et=="object"&&"$$typeof"in et&&et.$$typeof===REACT_LAZY_TYPE&&"_payload"in et&&isPromiseLike(et._payload)}function createSlot$4(et){const tt=createSlotClone$4(et),rt=reactExports.forwardRef((nt,at)=>{let{children:it,...st}=nt;isLazyComponent(it)&&typeof use=="function"&&(it=use(it._payload));const ot=reactExports.Children.toArray(it),lt=ot.find(isSlottable$4);if(lt){const ct=lt.props.children,ut=ot.map(dt=>dt===lt?reactExports.Children.count(ct)>1?reactExports.Children.only(null):reactExports.isValidElement(ct)?ct.props.children:null:dt);return jsxRuntimeExports.jsx(tt,{...st,ref:at,children:reactExports.isValidElement(ct)?reactExports.cloneElement(ct,void 0,ut):null})}return jsxRuntimeExports.jsx(tt,{...st,ref:at,children:it})});return rt.displayName=`${et}.Slot`,rt}var Slot$4=createSlot$4("Slot");function createSlotClone$4(et){const tt=reactExports.forwardRef((rt,nt)=>{let{children:at,...it}=rt;if(isLazyComponent(at)&&typeof use=="function"&&(at=use(at._payload)),reactExports.isValidElement(at)){const st=getElementRef$4(at),ot=mergeProps$4(it,at.props);return at.type!==reactExports.Fragment&&(ot.ref=nt?composeRefs(nt,st):st),reactExports.cloneElement(at,ot)}return reactExports.Children.count(at)>1?reactExports.Children.only(null):null});return tt.displayName=`${et}.SlotClone`,tt}var SLOTTABLE_IDENTIFIER$4=Symbol("radix.slottable");function isSlottable$4(et){return reactExports.isValidElement(et)&&typeof et.type=="function"&&"__radixId"in et.type&&et.type.__radixId===SLOTTABLE_IDENTIFIER$4}function mergeProps$4(et,tt){const rt={...tt};for(const nt in tt){const at=et[nt],it=tt[nt];/^on[A-Z]/.test(nt)?at&&it?rt[nt]=(...ot)=>{const lt=it(...ot);return at(...ot),lt}:at&&(rt[nt]=at):nt==="style"?rt[nt]={...at,...it}:nt==="className"&&(rt[nt]=[at,it].filter(Boolean).join(" "))}return{...et,...rt}}function getElementRef$4(et){var nt,at;let tt=(nt=Object.getOwnPropertyDescriptor(et.props,"ref"))==null?void 0:nt.get,rt=tt&&"isReactWarning"in tt&&tt.isReactWarning;return rt?et.ref:(tt=(at=Object.getOwnPropertyDescriptor(et,"ref"))==null?void 0:at.get,rt=tt&&"isReactWarning"in tt&&tt.isReactWarning,rt?et.props.ref:et.props.ref||et.ref)}const buttonVariants=cva("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",orange:"border border-input bg-orange-500 text-white hover:bg-orange-700 hover:text-white",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=React$1.forwardRef(({className:et,variant:tt,size:rt,asChild:nt=!1,...at},it)=>{const st=nt?Slot$4:"button";return jsxRuntimeExports.jsx(st,{className:cn(buttonVariants({variant:tt,size:rt,className:et})),ref:it,...at})});Button.displayName="Button";const Input=React$1.forwardRef(({className:et,type:tt,...rt},nt)=>jsxRuntimeExports.jsx("input",{type:tt,className:cn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",et),ref:nt,...rt}));Input.displayName="Input";var NODES$1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$1=NODES$1.reduce((et,tt)=>{const rt=createSlot$4(`Primitive.${tt}`),nt=reactExports.forwardRef((at,it)=>{const{asChild:st,...ot}=at,lt=st?rt:tt;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(lt,{...ot,ref:it})});return nt.displayName=`Primitive.${tt}`,{...et,[tt]:nt}},{}),NAME$2="Label",Label$4=reactExports.forwardRef((et,tt)=>jsxRuntimeExports.jsx(Primitive$1.label,{...et,ref:tt,onMouseDown:rt=>{var at;rt.target.closest("button, input, select, textarea")||((at=et.onMouseDown)==null||at.call(et,rt),!rt.defaultPrevented&&rt.detail>1&&rt.preventDefault())}}));Label$4.displayName=NAME$2;var Root$5=Label$4;const labelVariants=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label$3=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(Root$5,{ref:rt,className:cn(labelVariants(),et),...tt}));Label$3.displayName=Root$5.displayName;const Card=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx("div",{ref:rt,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",et),...tt}));Card.displayName="Card";const CardHeader=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx("div",{ref:rt,className:cn("flex flex-col space-y-1.5 p-6",et),...tt}));CardHeader.displayName="CardHeader";const CardTitle=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx("h3",{ref:rt,className:cn("text-2xl font-semibold leading-none tracking-tight",et),...tt}));CardTitle.displayName="CardTitle";const CardDescription=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx("p",{ref:rt,className:cn("text-sm text-muted-foreground",et),...tt}));CardDescription.displayName="CardDescription";const CardContent=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx("div",{ref:rt,className:cn("p-6 pt-0",et),...tt}));CardContent.displayName="CardContent";const CardFooter=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx("div",{ref:rt,className:cn("flex items-center p-6 pt-0",et),...tt}));CardFooter.displayName="CardFooter";const MotionConfigContext=reactExports.createContext({transformPagePoint:et=>et,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser$1=typeof document<"u",useIsomorphicLayoutEffect$1=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1}),camelToDash=et=>et.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);function useVisualElement(et,tt,rt,nt){const{visualElement:at}=reactExports.useContext(MotionContext),it=reactExports.useContext(LazyContext),st=reactExports.useContext(PresenceContext),ot=reactExports.useContext(MotionConfigContext).reducedMotion,lt=reactExports.useRef();nt=nt||it.renderer,!lt.current&&nt&&(lt.current=nt(et,{visualState:tt,parent:at,props:rt,presenceContext:st,blockInitialAnimation:st?st.initial===!1:!1,reducedMotionConfig:ot}));const ct=lt.current;reactExports.useInsertionEffect(()=>{ct&&ct.update(rt,st)});const ut=reactExports.useRef(!!(rt[optimizedAppearDataAttribute]&&!window.HandoffComplete));return useIsomorphicLayoutEffect$1(()=>{ct&&(ct.render(),ut.current&&ct.animationState&&ct.animationState.animateChanges())}),reactExports.useEffect(()=>{ct&&(ct.updateFeatures(),!ut.current&&ct.animationState&&ct.animationState.animateChanges(),ut.current&&(ut.current=!1,window.HandoffComplete=!0))}),ct}function isRefObject(et){return et&&typeof et=="object"&&Object.prototype.hasOwnProperty.call(et,"current")}function useMotionRef(et,tt,rt){return reactExports.useCallback(nt=>{nt&&et.mount&&et.mount(nt),tt&&(nt?tt.mount(nt):tt.unmount()),rt&&(typeof rt=="function"?rt(nt):isRefObject(rt)&&(rt.current=nt))},[tt])}function isVariantLabel(et){return typeof et=="string"||Array.isArray(et)}function isAnimationControls(et){return et!==null&&typeof et=="object"&&typeof et.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(et){return isAnimationControls(et.animate)||variantProps.some(tt=>isVariantLabel(et[tt]))}function isVariantNode(et){return!!(isControllingVariants(et)||et.variants)}function getCurrentTreeVariants(et,tt){if(isControllingVariants(et)){const{initial:rt,animate:nt}=et;return{initial:rt===!1||isVariantLabel(rt)?rt:void 0,animate:isVariantLabel(nt)?nt:void 0}}return et.inherit!==!1?tt:{}}function useCreateMotionContext(et){const{initial:tt,animate:rt}=getCurrentTreeVariants(et,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:tt,animate:rt}),[variantLabelsAsDependency(tt),variantLabelsAsDependency(rt)])}function variantLabelsAsDependency(et){return Array.isArray(et)?et.join(" "):et}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const et in featureProps)featureDefinitions[et]={isEnabled:tt=>featureProps[et].some(rt=>!!tt[rt])};function loadFeatures(et){for(const tt in et)featureDefinitions[tt]={...featureDefinitions[tt],...et[tt]}}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function createMotionComponent({preloadedFeatures:et,createVisualElement:tt,useRender:rt,useVisualState:nt,Component:at}){et&&loadFeatures(et);function it(ot,lt){let ct;const ut={...reactExports.useContext(MotionConfigContext),...ot,layoutId:useLayoutId(ot)},{isStatic:dt}=ut,ft=useCreateMotionContext(ot),ht=nt(ot,dt);if(!dt&&isBrowser$1){ft.visualElement=useVisualElement(at,ht,ut,tt);const gt=reactExports.useContext(SwitchLayoutGroupContext),mt=reactExports.useContext(LazyContext).strict;ft.visualElement&&(ct=ft.visualElement.loadFeatures(ut,mt,et,gt))}return reactExports.createElement(MotionContext.Provider,{value:ft},ct&&ft.visualElement?reactExports.createElement(ct,{visualElement:ft.visualElement,...ut}):null,rt(at,ot,useMotionRef(ht,ft.visualElement,lt),ht,dt,ft.visualElement))}const st=reactExports.forwardRef(it);return st[motionComponentSymbol]=at,st}function useLayoutId({layoutId:et}){const tt=reactExports.useContext(LayoutGroupContext).id;return tt&&et!==void 0?tt+"-"+et:et}function createMotionProxy(et){function tt(nt,at={}){return createMotionComponent(et(nt,at))}if(typeof Proxy>"u")return tt;const rt=new Map;return new Proxy(tt,{get:(nt,at)=>(rt.has(at)||rt.set(at,tt(at)),rt.get(at))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(et){return typeof et!="string"||et.includes("-")?!1:!!(lowercaseSVGElements.indexOf(et)>-1||/[A-Z]/.test(et))}const scaleCorrectors={};function addScaleCorrector(et){Object.assign(scaleCorrectors,et)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(et,{layout:tt,layoutId:rt}){return transformProps.has(et)||et.startsWith("origin")||(tt||rt!==void 0)&&(!!scaleCorrectors[et]||et==="opacity")}const isMotionValue=et=>!!(et&&et.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(et,{enableHardwareAcceleration:tt=!0,allowTransformNone:rt=!0},nt,at){let it="";for(let st=0;st<numTransforms;st++){const ot=transformPropOrder[st];if(et[ot]!==void 0){const lt=translateAlias[ot]||ot;it+=`${lt}(${et[ot]}) `}}return tt&&!et.z&&(it+="translateZ(0)"),it=it.trim(),at?it=at(et,nt?"":it):rt&&nt&&(it="none"),it}const checkStringStartsWith=et=>tt=>typeof tt=="string"&&tt.startsWith(et),isCSSVariableName=checkStringStartsWith("--"),isCSSVariableToken=checkStringStartsWith("var(--"),cssVariableRegex=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,getValueAsType=(et,tt)=>tt&&typeof et=="number"?tt.transform(et):et,clamp$2=(et,tt,rt)=>Math.min(Math.max(rt,et),tt),number$3={test:et=>typeof et=="number",parse:parseFloat,transform:et=>et},alpha$1={...number$3,transform:et=>clamp$2(0,1,et)},scale$1={...number$3,default:1},sanitize=et=>Math.round(et*1e5)/1e5,floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex$1=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function isString$3(et){return typeof et=="string"}const createUnitType=et=>({test:tt=>isString$3(tt)&&tt.endsWith(et)&&tt.split(" ").length===1,parse:parseFloat,transform:tt=>`${tt}${et}`}),degrees$1=createUnitType("deg"),percent=createUnitType("%"),px$1=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:et=>percent.parse(et)/100,transform:et=>percent.transform(et*100)},int={...number$3,transform:Math.round},numberValueTypes={borderWidth:px$1,borderTopWidth:px$1,borderRightWidth:px$1,borderBottomWidth:px$1,borderLeftWidth:px$1,borderRadius:px$1,radius:px$1,borderTopLeftRadius:px$1,borderTopRightRadius:px$1,borderBottomRightRadius:px$1,borderBottomLeftRadius:px$1,width:px$1,maxWidth:px$1,height:px$1,maxHeight:px$1,size:px$1,top:px$1,right:px$1,bottom:px$1,left:px$1,padding:px$1,paddingTop:px$1,paddingRight:px$1,paddingBottom:px$1,paddingLeft:px$1,margin:px$1,marginTop:px$1,marginRight:px$1,marginBottom:px$1,marginLeft:px$1,rotate:degrees$1,rotateX:degrees$1,rotateY:degrees$1,rotateZ:degrees$1,scale:scale$1,scaleX:scale$1,scaleY:scale$1,scaleZ:scale$1,skew:degrees$1,skewX:degrees$1,skewY:degrees$1,distance:px$1,translateX:px$1,translateY:px$1,translateZ:px$1,x:px$1,y:px$1,z:px$1,perspective:px$1,transformPerspective:px$1,opacity:alpha$1,originX:progressPercentage,originY:progressPercentage,originZ:px$1,zIndex:int,fillOpacity:alpha$1,strokeOpacity:alpha$1,numOctaves:int};function buildHTMLStyles(et,tt,rt,nt){const{style:at,vars:it,transform:st,transformOrigin:ot}=et;let lt=!1,ct=!1,ut=!0;for(const dt in tt){const ft=tt[dt];if(isCSSVariableName(dt)){it[dt]=ft;continue}const ht=numberValueTypes[dt],gt=getValueAsType(ft,ht);if(transformProps.has(dt)){if(lt=!0,st[dt]=gt,!ut)continue;ft!==(ht.default||0)&&(ut=!1)}else dt.startsWith("origin")?(ct=!0,ot[dt]=gt):at[dt]=gt}if(tt.transform||(lt||nt?at.transform=buildTransform(et.transform,rt,ut,nt):at.transform&&(at.transform="none")),ct){const{originX:dt="50%",originY:ft="50%",originZ:ht=0}=ot;at.transformOrigin=`${dt} ${ft} ${ht}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(et,tt,rt){for(const nt in tt)!isMotionValue(tt[nt])&&!isForcedMotionValue(nt,rt)&&(et[nt]=tt[nt])}function useInitialMotionValues({transformTemplate:et},tt,rt){return reactExports.useMemo(()=>{const nt=createHtmlRenderState();return buildHTMLStyles(nt,tt,{enableHardwareAcceleration:!rt},et),Object.assign({},nt.vars,nt.style)},[tt])}function useStyle(et,tt,rt){const nt=et.style||{},at={};return copyRawValuesOnly(at,nt,et),Object.assign(at,useInitialMotionValues(et,tt,rt)),et.transformValues?et.transformValues(at):at}function useHTMLProps(et,tt,rt){const nt={},at=useStyle(et,tt,rt);return et.drag&&et.dragListener!==!1&&(nt.draggable=!1,at.userSelect=at.WebkitUserSelect=at.WebkitTouchCallout="none",at.touchAction=et.drag===!0?"none":`pan-${et.drag==="x"?"y":"x"}`),et.tabIndex===void 0&&(et.onTap||et.onTapStart||et.whileTap)&&(nt.tabIndex=0),nt.style=at,nt}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(et){return et.startsWith("while")||et.startsWith("drag")&&et!=="draggable"||et.startsWith("layout")||et.startsWith("onTap")||et.startsWith("onPan")||et.startsWith("onLayout")||validMotionProps.has(et)}let shouldForward=et=>!isValidMotionProp(et);function loadExternalIsValidProp(et){et&&(shouldForward=tt=>tt.startsWith("on")?!isValidMotionProp(tt):et(tt))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps$1(et,tt,rt){const nt={};for(const at in et)at==="values"&&typeof et.values=="object"||(shouldForward(at)||rt===!0&&isValidMotionProp(at)||!tt&&!isValidMotionProp(at)||et.draggable&&at.startsWith("onDrag"))&&(nt[at]=et[at]);return nt}function calcOrigin$1(et,tt,rt){return typeof et=="string"?et:px$1.transform(tt+rt*et)}function calcSVGTransformOrigin(et,tt,rt){const nt=calcOrigin$1(tt,et.x,et.width),at=calcOrigin$1(rt,et.y,et.height);return`${nt} ${at}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(et,tt,rt=1,nt=0,at=!0){et.pathLength=1;const it=at?dashKeys:camelKeys;et[it.offset]=px$1.transform(-nt);const st=px$1.transform(tt),ot=px$1.transform(rt);et[it.array]=`${st} ${ot}`}function buildSVGAttrs(et,{attrX:tt,attrY:rt,attrScale:nt,originX:at,originY:it,pathLength:st,pathSpacing:ot=1,pathOffset:lt=0,...ct},ut,dt,ft){if(buildHTMLStyles(et,ct,ut,ft),dt){et.style.viewBox&&(et.attrs.viewBox=et.style.viewBox);return}et.attrs=et.style,et.style={};const{attrs:ht,style:gt,dimensions:mt}=et;ht.transform&&(mt&&(gt.transform=ht.transform),delete ht.transform),mt&&(at!==void 0||it!==void 0||gt.transform)&&(gt.transformOrigin=calcSVGTransformOrigin(mt,at!==void 0?at:.5,it!==void 0?it:.5)),tt!==void 0&&(ht.x=tt),rt!==void 0&&(ht.y=rt),nt!==void 0&&(ht.scale=nt),st!==void 0&&buildSVGPath(ht,st,ot,lt,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=et=>typeof et=="string"&&et.toLowerCase()==="svg";function useSVGProps(et,tt,rt,nt){const at=reactExports.useMemo(()=>{const it=createSvgRenderState();return buildSVGAttrs(it,tt,{enableHardwareAcceleration:!1},isSVGTag(nt),et.transformTemplate),{...it.attrs,style:{...it.style}}},[tt]);if(et.style){const it={};copyRawValuesOnly(it,et.style,et),at.style={...it,...at.style}}return at}function createUseRender(et=!1){return(rt,nt,at,{latestValues:it},st)=>{const lt=(isSVGComponent(rt)?useSVGProps:useHTMLProps)(nt,it,st,rt),ut={...filterProps$1(nt,typeof rt=="string",et),...lt,ref:at},{children:dt}=nt,ft=reactExports.useMemo(()=>isMotionValue(dt)?dt.get():dt,[dt]);return reactExports.createElement(rt,{...ut,children:ft})}}function renderHTML(et,{style:tt,vars:rt},nt,at){Object.assign(et.style,tt,at&&at.getProjectionStyles(nt));for(const it in rt)et.style.setProperty(it,rt[it])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(et,tt,rt,nt){renderHTML(et,tt,void 0,nt);for(const at in tt.attrs)et.setAttribute(camelCaseAttributes.has(at)?at:camelToDash(at),tt.attrs[at])}function scrapeMotionValuesFromProps$1(et,tt){const{style:rt}=et,nt={};for(const at in rt)(isMotionValue(rt[at])||tt.style&&isMotionValue(tt.style[at])||isForcedMotionValue(at,et))&&(nt[at]=rt[at]);return nt}function scrapeMotionValuesFromProps(et,tt){const rt=scrapeMotionValuesFromProps$1(et,tt);for(const nt in et)if(isMotionValue(et[nt])||isMotionValue(tt[nt])){const at=transformPropOrder.indexOf(nt)!==-1?"attr"+nt.charAt(0).toUpperCase()+nt.substring(1):nt;rt[at]=et[nt]}return rt}function resolveVariantFromProps(et,tt,rt,nt={},at={}){return typeof tt=="function"&&(tt=tt(rt!==void 0?rt:et.custom,nt,at)),typeof tt=="string"&&(tt=et.variants&&et.variants[tt]),typeof tt=="function"&&(tt=tt(rt!==void 0?rt:et.custom,nt,at)),tt}function useConstant(et){const tt=reactExports.useRef(null);return tt.current===null&&(tt.current=et()),tt.current}const isKeyframesTarget=et=>Array.isArray(et),isCustomValue=et=>!!(et&&typeof et=="object"&&et.mix&&et.toValue),resolveFinalValueInKeyframes=et=>isKeyframesTarget(et)?et[et.length-1]||0:et;function resolveMotionValue(et){const tt=isMotionValue(et)?et.get():et;return isCustomValue(tt)?tt.toValue():tt}function makeState({scrapeMotionValuesFromProps:et,createRenderState:tt,onMount:rt},nt,at,it){const st={latestValues:makeLatestValues(nt,at,it,et),renderState:tt()};return rt&&(st.mount=ot=>rt(nt,ot,st)),st}const makeUseVisualState=et=>(tt,rt)=>{const nt=reactExports.useContext(MotionContext),at=reactExports.useContext(PresenceContext),it=()=>makeState(et,tt,nt,at);return rt?it():useConstant(it)};function makeLatestValues(et,tt,rt,nt){const at={},it=nt(et,{});for(const ft in it)at[ft]=resolveMotionValue(it[ft]);let{initial:st,animate:ot}=et;const lt=isControllingVariants(et),ct=isVariantNode(et);tt&&ct&&!lt&&et.inherit!==!1&&(st===void 0&&(st=tt.initial),ot===void 0&&(ot=tt.animate));let ut=rt?rt.initial===!1:!1;ut=ut||st===!1;const dt=ut?ot:st;return dt&&typeof dt!="boolean"&&!isAnimationControls(dt)&&(Array.isArray(dt)?dt:[dt]).forEach(ht=>{const gt=resolveVariantFromProps(et,ht);if(!gt)return;const{transitionEnd:mt,transition:xt,...vt}=gt;for(const _t in vt){let yt=vt[_t];if(Array.isArray(yt)){const St=ut?yt.length-1:0;yt=yt[St]}yt!==null&&(at[_t]=yt)}for(const _t in mt)at[_t]=mt[_t]}),at}const noop$4=et=>et;class Queue{constructor(){this.order=[],this.scheduled=new Set}add(tt){if(!this.scheduled.has(tt))return this.scheduled.add(tt),this.order.push(tt),!0}remove(tt){const rt=this.order.indexOf(tt);rt!==-1&&(this.order.splice(rt,1),this.scheduled.delete(tt))}clear(){this.order.length=0,this.scheduled.clear()}}function createRenderStep(et){let tt=new Queue,rt=new Queue,nt=0,at=!1,it=!1;const st=new WeakSet,ot={schedule:(lt,ct=!1,ut=!1)=>{const dt=ut&&at,ft=dt?tt:rt;return ct&&st.add(lt),ft.add(lt)&&dt&&at&&(nt=tt.order.length),lt},cancel:lt=>{rt.remove(lt),st.delete(lt)},process:lt=>{if(at){it=!0;return}if(at=!0,[tt,rt]=[rt,tt],rt.clear(),nt=tt.order.length,nt)for(let ct=0;ct<nt;ct++){const ut=tt.order[ct];ut(lt),st.has(ut)&&(ot.schedule(ut),et())}at=!1,it&&(it=!1,ot.process(lt))}};return ot}const stepsOrder=["prepare","read","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(et,tt){let rt=!1,nt=!0;const at={delta:0,timestamp:0,isProcessing:!1},it=stepsOrder.reduce((dt,ft)=>(dt[ft]=createRenderStep(()=>rt=!0),dt),{}),st=dt=>it[dt].process(at),ot=()=>{const dt=performance.now();rt=!1,at.delta=nt?1e3/60:Math.max(Math.min(dt-at.timestamp,maxElapsed),1),at.timestamp=dt,at.isProcessing=!0,stepsOrder.forEach(st),at.isProcessing=!1,rt&&tt&&(nt=!1,et(ot))},lt=()=>{rt=!0,nt=!0,at.isProcessing||et(ot)};return{schedule:stepsOrder.reduce((dt,ft)=>{const ht=it[ft];return dt[ft]=(gt,mt=!1,xt=!1)=>(rt||lt(),ht.schedule(gt,mt,xt)),dt},{}),cancel:dt=>stepsOrder.forEach(ft=>it[ft].cancel(dt)),state:at,steps:it}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$4,!0),svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(et,tt,{renderState:rt,latestValues:nt})=>{frame.read(()=>{try{rt.dimensions=typeof tt.getBBox=="function"?tt.getBBox():tt.getBoundingClientRect()}catch{rt.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(rt,nt,{enableHardwareAcceleration:!1},isSVGTag(tt.tagName),et.transformTemplate),renderSVG(tt,rt)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(et,{forwardMotionProps:tt=!1},rt,nt){return{...isSVGComponent(et)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:rt,useRender:createUseRender(tt),createVisualElement:nt,Component:et}}function addDomEvent(et,tt,rt,nt={passive:!0}){return et.addEventListener(tt,rt,nt),()=>et.removeEventListener(tt,rt)}const isPrimaryPointer=et=>et.pointerType==="mouse"?typeof et.button!="number"||et.button<=0:et.isPrimary!==!1;function extractEventInfo(et,tt="page"){return{point:{x:et[tt+"X"],y:et[tt+"Y"]}}}const addPointerInfo=et=>tt=>isPrimaryPointer(tt)&&et(tt,extractEventInfo(tt));function addPointerEvent(et,tt,rt,nt){return addDomEvent(et,tt,addPointerInfo(rt),nt)}const combineFunctions=(et,tt)=>rt=>tt(et(rt)),pipe=(...et)=>et.reduce(combineFunctions);function createLock(et){let tt=null;return()=>{const rt=()=>{tt=null};return tt===null?(tt=et,rt):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(et){let tt=!1;if(et==="y")tt=globalVerticalLock();else if(et==="x")tt=globalHorizontalLock();else{const rt=globalHorizontalLock(),nt=globalVerticalLock();rt&&nt?tt=()=>{rt(),nt()}:(rt&&rt(),nt&&nt())}return tt}function isDragActive(){const et=getGlobalLock(!0);return et?(et(),!1):!0}class Feature{constructor(tt){this.isMounted=!1,this.node=tt}update(){}}function addHoverEvent(et,tt){const rt="pointer"+(tt?"enter":"leave"),nt="onHover"+(tt?"Start":"End"),at=(it,st)=>{if(it.pointerType==="touch"||isDragActive())return;const ot=et.getProps();et.animationState&&ot.whileHover&&et.animationState.setActive("whileHover",tt),ot[nt]&&frame.update(()=>ot[nt](it,st))};return addPointerEvent(et.current,rt,at,{passive:!et.getProps()[nt]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let tt=!1;try{tt=this.node.current.matches(":focus-visible")}catch{tt=!0}!tt||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(et,tt)=>tt?et===tt?!0:isNodeOrChild(et,tt.parentElement):!1;function fireSyntheticPointerEvent(et,tt){if(!tt)return;const rt=new PointerEvent("pointer"+et);tt(rt,extractEventInfo(rt))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop$4,this.removeEndListeners=noop$4,this.removeAccessibleListeners=noop$4,this.startPointerPress=(tt,rt)=>{if(this.isPressing)return;this.removeEndListeners();const nt=this.node.getProps(),it=addPointerEvent(window,"pointerup",(ot,lt)=>{if(!this.checkPressEnd())return;const{onTap:ct,onTapCancel:ut,globalTapTarget:dt}=this.node.getProps();frame.update(()=>{!dt&&!isNodeOrChild(this.node.current,ot.target)?ut&&ut(ot,lt):ct&&ct(ot,lt)})},{passive:!(nt.onTap||nt.onPointerUp)}),st=addPointerEvent(window,"pointercancel",(ot,lt)=>this.cancelPress(ot,lt),{passive:!(nt.onTapCancel||nt.onPointerCancel)});this.removeEndListeners=pipe(it,st),this.startPress(tt,rt)},this.startAccessiblePress=()=>{const tt=it=>{if(it.key!=="Enter"||this.isPressing)return;const st=ot=>{ot.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(lt,ct)=>{const{onTap:ut}=this.node.getProps();ut&&frame.update(()=>ut(lt,ct))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",st),fireSyntheticPointerEvent("down",(ot,lt)=>{this.startPress(ot,lt)})},rt=addDomEvent(this.node.current,"keydown",tt),nt=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(it,st)=>this.cancelPress(it,st))},at=addDomEvent(this.node.current,"blur",nt);this.removeAccessibleListeners=pipe(rt,at)}}startPress(tt,rt){this.isPressing=!0;const{onTapStart:nt,whileTap:at}=this.node.getProps();at&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),nt&&frame.update(()=>nt(tt,rt))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(tt,rt){if(!this.checkPressEnd())return;const{onTapCancel:nt}=this.node.getProps();nt&&frame.update(()=>nt(tt,rt))}mount(){const tt=this.node.getProps(),rt=addPointerEvent(tt.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(tt.onTapStart||tt.onPointerStart)}),nt=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(rt,nt)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=et=>{const tt=observerCallbacks.get(et.target);tt&&tt(et)},fireAllObserverCallbacks=et=>{et.forEach(fireObserverCallback)};function initIntersectionObserver({root:et,...tt}){const rt=et||document;observers.has(rt)||observers.set(rt,{});const nt=observers.get(rt),at=JSON.stringify(tt);return nt[at]||(nt[at]=new IntersectionObserver(fireAllObserverCallbacks,{root:et,...tt})),nt[at]}function observeIntersection(et,tt,rt){const nt=initIntersectionObserver(tt);return observerCallbacks.set(et,rt),nt.observe(et),()=>{observerCallbacks.delete(et),nt.unobserve(et)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:tt={}}=this.node.getProps(),{root:rt,margin:nt,amount:at="some",once:it}=tt,st={root:rt?rt.current:void 0,rootMargin:nt,threshold:typeof at=="number"?at:thresholdNames[at]},ot=lt=>{const{isIntersecting:ct}=lt;if(this.isInView===ct||(this.isInView=ct,it&&!ct&&this.hasEnteredView))return;ct&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",ct);const{onViewportEnter:ut,onViewportLeave:dt}=this.node.getProps(),ft=ct?ut:dt;ft&&ft(lt)};return observeIntersection(this.node.current,st,ot)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:tt,prevProps:rt}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(tt,rt))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:et={}},{viewport:tt={}}={}){return rt=>et[rt]!==tt[rt]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(et,tt){if(!Array.isArray(tt))return!1;const rt=tt.length;if(rt!==et.length)return!1;for(let nt=0;nt<rt;nt++)if(tt[nt]!==et[nt])return!1;return!0}function getCurrent(et){const tt={};return et.values.forEach((rt,nt)=>tt[nt]=rt.get()),tt}function getVelocity$1(et){const tt={};return et.values.forEach((rt,nt)=>tt[nt]=rt.getVelocity()),tt}function resolveVariant(et,tt,rt){const nt=et.getProps();return resolveVariantFromProps(nt,tt,rt!==void 0?rt:nt.custom,getCurrent(et),getVelocity$1(et))}let warning$2=noop$4,invariant$1=noop$4;const secondsToMilliseconds=et=>et*1e3,millisecondsToSeconds=et=>et/1e3,instantAnimationState={current:!1},isBezierDefinition=et=>Array.isArray(et)&&typeof et[0]=="number";function isWaapiSupportedEasing(et){return!!(!et||typeof et=="string"&&supportedWaapiEasing[et]||isBezierDefinition(et)||Array.isArray(et)&&et.every(isWaapiSupportedEasing))}const cubicBezierAsString=([et,tt,rt,nt])=>`cubic-bezier(${et}, ${tt}, ${rt}, ${nt})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(et){if(et)return isBezierDefinition(et)?cubicBezierAsString(et):Array.isArray(et)?et.map(mapEasingToNativeEasing):supportedWaapiEasing[et]}function animateStyle(et,tt,rt,{delay:nt=0,duration:at,repeat:it=0,repeatType:st="loop",ease:ot,times:lt}={}){const ct={[tt]:rt};lt&&(ct.offset=lt);const ut=mapEasingToNativeEasing(ot);return Array.isArray(ut)&&(ct.easing=ut),et.animate(ct,{delay:nt,duration:at,easing:Array.isArray(ut)?"linear":ut,fill:"both",iterations:it+1,direction:st==="reverse"?"alternate":"normal"})}function getFinalKeyframe(et,{repeat:tt,repeatType:rt="loop"}){const nt=tt&&rt!=="loop"&&tt%2===1?0:et.length-1;return et[nt]}const calcBezier=(et,tt,rt)=>(((1-3*rt+3*tt)*et+(3*rt-6*tt))*et+3*tt)*et,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(et,tt,rt,nt,at){let it,st,ot=0;do st=tt+(rt-tt)/2,it=calcBezier(st,nt,at)-et,it>0?rt=st:tt=st;while(Math.abs(it)>subdivisionPrecision&&++ot<subdivisionMaxIterations);return st}function cubicBezier$1(et,tt,rt,nt){if(et===tt&&rt===nt)return noop$4;const at=it=>binarySubdivide(it,0,1,et,rt);return it=>it===0||it===1?it:calcBezier(at(it),tt,nt)}const easeIn=cubicBezier$1(.42,0,1,1),easeOut=cubicBezier$1(0,0,.58,1),easeInOut=cubicBezier$1(.42,0,.58,1),isEasingArray=et=>Array.isArray(et)&&typeof et[0]!="number",mirrorEasing=et=>tt=>tt<=.5?et(2*tt)/2:(2-et(2*(1-tt)))/2,reverseEasing=et=>tt=>1-et(1-tt),circIn=et=>1-Math.sin(Math.acos(et)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier$1(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=et=>(et*=2)<1?.5*backIn(et):.5*(2-Math.pow(2,-10*(et-1))),easingLookup={linear:noop$4,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=et=>{if(Array.isArray(et)){invariant$1(et.length===4);const[tt,rt,nt,at]=et;return cubicBezier$1(tt,rt,nt,at)}else if(typeof et=="string")return easingLookup[et];return et},isColorString=(et,tt)=>rt=>!!(isString$3(rt)&&singleColorRegex.test(rt)&&rt.startsWith(et)||tt&&Object.prototype.hasOwnProperty.call(rt,tt)),splitColor=(et,tt,rt)=>nt=>{if(!isString$3(nt))return nt;const[at,it,st,ot]=nt.match(floatRegex);return{[et]:parseFloat(at),[tt]:parseFloat(it),[rt]:parseFloat(st),alpha:ot!==void 0?parseFloat(ot):1}},clampRgbUnit=et=>clamp$2(0,255,et),rgbUnit={...number$3,transform:et=>Math.round(clampRgbUnit(et))},rgba$1={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:et,green:tt,blue:rt,alpha:nt=1})=>"rgba("+rgbUnit.transform(et)+", "+rgbUnit.transform(tt)+", "+rgbUnit.transform(rt)+", "+sanitize(alpha$1.transform(nt))+")"};function parseHex(et){let tt="",rt="",nt="",at="";return et.length>5?(tt=et.substring(1,3),rt=et.substring(3,5),nt=et.substring(5,7),at=et.substring(7,9)):(tt=et.substring(1,2),rt=et.substring(2,3),nt=et.substring(3,4),at=et.substring(4,5),tt+=tt,rt+=rt,nt+=nt,at+=at),{red:parseInt(tt,16),green:parseInt(rt,16),blue:parseInt(nt,16),alpha:at?parseInt(at,16)/255:1}}const hex$1={test:isColorString("#"),parse:parseHex,transform:rgba$1.transform},hsla$1={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:et,saturation:tt,lightness:rt,alpha:nt=1})=>"hsla("+Math.round(et)+", "+percent.transform(sanitize(tt))+", "+percent.transform(sanitize(rt))+", "+sanitize(alpha$1.transform(nt))+")"},color$1={test:et=>rgba$1.test(et)||hex$1.test(et)||hsla$1.test(et),parse:et=>rgba$1.test(et)?rgba$1.parse(et):hsla$1.test(et)?hsla$1.parse(et):hex$1.parse(et),transform:et=>isString$3(et)?et:et.hasOwnProperty("red")?rgba$1.transform(et):hsla$1.transform(et)},mix=(et,tt,rt)=>-rt*et+rt*tt+et;function hueToRgb(et,tt,rt){return rt<0&&(rt+=1),rt>1&&(rt-=1),rt<1/6?et+(tt-et)*6*rt:rt<1/2?tt:rt<2/3?et+(tt-et)*(2/3-rt)*6:et}function hslaToRgba({hue:et,saturation:tt,lightness:rt,alpha:nt}){et/=360,tt/=100,rt/=100;let at=0,it=0,st=0;if(!tt)at=it=st=rt;else{const ot=rt<.5?rt*(1+tt):rt+tt-rt*tt,lt=2*rt-ot;at=hueToRgb(lt,ot,et+1/3),it=hueToRgb(lt,ot,et),st=hueToRgb(lt,ot,et-1/3)}return{red:Math.round(at*255),green:Math.round(it*255),blue:Math.round(st*255),alpha:nt}}const mixLinearColor=(et,tt,rt)=>{const nt=et*et;return Math.sqrt(Math.max(0,rt*(tt*tt-nt)+nt))},colorTypes=[hex$1,rgba$1,hsla$1],getColorType=et=>colorTypes.find(tt=>tt.test(et));function asRGBA(et){const tt=getColorType(et);let rt=tt.parse(et);return tt===hsla$1&&(rt=hslaToRgba(rt)),rt}const mixColor=(et,tt)=>{const rt=asRGBA(et),nt=asRGBA(tt),at={...rt};return it=>(at.red=mixLinearColor(rt.red,nt.red,it),at.green=mixLinearColor(rt.green,nt.green,it),at.blue=mixLinearColor(rt.blue,nt.blue,it),at.alpha=mix(rt.alpha,nt.alpha,it),rgba$1.transform(at))};function test(et){var tt,rt;return isNaN(et)&&isString$3(et)&&(((tt=et.match(floatRegex))===null||tt===void 0?void 0:tt.length)||0)+(((rt=et.match(colorRegex$1))===null||rt===void 0?void 0:rt.length)||0)>0}const cssVarTokeniser={regex:cssVariableRegex,countKey:"Vars",token:"${v}",parse:noop$4},colorTokeniser={regex:colorRegex$1,countKey:"Colors",token:"${c}",parse:color$1.parse},numberTokeniser={regex:floatRegex,countKey:"Numbers",token:"${n}",parse:number$3.parse};function tokenise(et,{regex:tt,countKey:rt,token:nt,parse:at}){const it=et.tokenised.match(tt);it&&(et["num"+rt]=it.length,et.tokenised=et.tokenised.replace(tt,nt),et.values.push(...it.map(at)))}function analyseComplexValue(et){const tt=et.toString(),rt={value:tt,tokenised:tt,values:[],numVars:0,numColors:0,numNumbers:0};return rt.value.includes("var(--")&&tokenise(rt,cssVarTokeniser),tokenise(rt,colorTokeniser),tokenise(rt,numberTokeniser),rt}function parseComplexValue(et){return analyseComplexValue(et).values}function createTransformer(et){const{values:tt,numColors:rt,numVars:nt,tokenised:at}=analyseComplexValue(et),it=tt.length;return st=>{let ot=at;for(let lt=0;lt<it;lt++)lt<nt?ot=ot.replace(cssVarTokeniser.token,st[lt]):lt<nt+rt?ot=ot.replace(colorTokeniser.token,color$1.transform(st[lt])):ot=ot.replace(numberTokeniser.token,sanitize(st[lt]));return ot}}const convertNumbersToZero=et=>typeof et=="number"?0:et;function getAnimatableNone$1(et){const tt=parseComplexValue(et);return createTransformer(et)(tt.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},mixImmediate=(et,tt)=>rt=>`${rt>0?tt:et}`;function getMixer(et,tt){return typeof et=="number"?rt=>mix(et,tt,rt):color$1.test(et)?mixColor(et,tt):et.startsWith("var(")?mixImmediate(et,tt):mixComplex(et,tt)}const mixArray=(et,tt)=>{const rt=[...et],nt=rt.length,at=et.map((it,st)=>getMixer(it,tt[st]));return it=>{for(let st=0;st<nt;st++)rt[st]=at[st](it);return rt}},mixObject=(et,tt)=>{const rt={...et,...tt},nt={};for(const at in rt)et[at]!==void 0&&tt[at]!==void 0&&(nt[at]=getMixer(et[at],tt[at]));return at=>{for(const it in nt)rt[it]=nt[it](at);return rt}},mixComplex=(et,tt)=>{const rt=complex.createTransformer(tt),nt=analyseComplexValue(et),at=analyseComplexValue(tt);return nt.numVars===at.numVars&&nt.numColors===at.numColors&&nt.numNumbers>=at.numNumbers?pipe(mixArray(nt.values,at.values),rt):mixImmediate(et,tt)},progress=(et,tt,rt)=>{const nt=tt-et;return nt===0?1:(rt-et)/nt},mixNumber=(et,tt)=>rt=>mix(et,tt,rt);function detectMixerFactory(et){return typeof et=="number"?mixNumber:typeof et=="string"?color$1.test(et)?mixColor:mixComplex:Array.isArray(et)?mixArray:typeof et=="object"?mixObject:mixNumber}function createMixers(et,tt,rt){const nt=[],at=rt||detectMixerFactory(et[0]),it=et.length-1;for(let st=0;st<it;st++){let ot=at(et[st],et[st+1]);if(tt){const lt=Array.isArray(tt)?tt[st]||noop$4:tt;ot=pipe(lt,ot)}nt.push(ot)}return nt}function interpolate$1(et,tt,{clamp:rt=!0,ease:nt,mixer:at}={}){const it=et.length;if(invariant$1(it===tt.length),it===1)return()=>tt[0];et[0]>et[it-1]&&(et=[...et].reverse(),tt=[...tt].reverse());const st=createMixers(tt,nt,at),ot=st.length,lt=ct=>{let ut=0;if(ot>1)for(;ut<et.length-2&&!(ct<et[ut+1]);ut++);const dt=progress(et[ut],et[ut+1],ct);return st[ut](dt)};return rt?ct=>lt(clamp$2(et[0],et[it-1],ct)):lt}function fillOffset(et,tt){const rt=et[et.length-1];for(let nt=1;nt<=tt;nt++){const at=progress(0,tt,nt);et.push(mix(rt,1,at))}}function defaultOffset(et){const tt=[0];return fillOffset(tt,et.length-1),tt}function convertOffsetToTimes(et,tt){return et.map(rt=>rt*tt)}function defaultEasing(et,tt){return et.map(()=>tt||easeInOut).splice(0,et.length-1)}function keyframes({duration:et=300,keyframes:tt,times:rt,ease:nt="easeInOut"}){const at=isEasingArray(nt)?nt.map(easingDefinitionToFunction):easingDefinitionToFunction(nt),it={done:!1,value:tt[0]},st=convertOffsetToTimes(rt&&rt.length===tt.length?rt:defaultOffset(tt),et),ot=interpolate$1(st,tt,{ease:Array.isArray(at)?at:defaultEasing(tt,at)});return{calculatedDuration:et,next:lt=>(it.value=ot(lt),it.done=lt>=et,it)}}function velocityPerSecond(et,tt){return tt?et*(1e3/tt):0}const velocitySampleDuration=5;function calcGeneratorVelocity(et,tt,rt){const nt=Math.max(tt-velocitySampleDuration,0);return velocityPerSecond(rt-et(nt),tt-nt)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:et=800,bounce:tt=.25,velocity:rt=0,mass:nt=1}){let at,it;warning$2(et<=secondsToMilliseconds(maxDuration$1));let st=1-tt;st=clamp$2(minDamping,maxDamping,st),et=clamp$2(minDuration,maxDuration$1,millisecondsToSeconds(et)),st<1?(at=ct=>{const ut=ct*st,dt=ut*et,ft=ut-rt,ht=calcAngularFreq(ct,st),gt=Math.exp(-dt);return safeMin-ft/ht*gt},it=ct=>{const dt=ct*st*et,ft=dt*rt+rt,ht=Math.pow(st,2)*Math.pow(ct,2)*et,gt=Math.exp(-dt),mt=calcAngularFreq(Math.pow(ct,2),st);return(-at(ct)+safeMin>0?-1:1)*((ft-ht)*gt)/mt}):(at=ct=>{const ut=Math.exp(-ct*et),dt=(ct-rt)*et+1;return-safeMin+ut*dt},it=ct=>{const ut=Math.exp(-ct*et),dt=(rt-ct)*(et*et);return ut*dt});const ot=5/et,lt=approximateRoot(at,it,ot);if(et=secondsToMilliseconds(et),isNaN(lt))return{stiffness:100,damping:10,duration:et};{const ct=Math.pow(lt,2)*nt;return{stiffness:ct,damping:st*2*Math.sqrt(nt*ct),duration:et}}}const rootIterations=12;function approximateRoot(et,tt,rt){let nt=rt;for(let at=1;at<rootIterations;at++)nt=nt-et(nt)/tt(nt);return nt}function calcAngularFreq(et,tt){return et*Math.sqrt(1-tt*tt)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(et,tt){return tt.some(rt=>et[rt]!==void 0)}function getSpringOptions(et){let tt={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...et};if(!isSpringType(et,physicsKeys)&&isSpringType(et,durationKeys)){const rt=findSpring(et);tt={...tt,...rt,mass:1},tt.isResolvedFromDuration=!0}return tt}function spring({keyframes:et,restDelta:tt,restSpeed:rt,...nt}){const at=et[0],it=et[et.length-1],st={done:!1,value:at},{stiffness:ot,damping:lt,mass:ct,duration:ut,velocity:dt,isResolvedFromDuration:ft}=getSpringOptions({...nt,velocity:-millisecondsToSeconds(nt.velocity||0)}),ht=dt||0,gt=lt/(2*Math.sqrt(ot*ct)),mt=it-at,xt=millisecondsToSeconds(Math.sqrt(ot/ct)),vt=Math.abs(mt)<5;rt||(rt=vt?.01:2),tt||(tt=vt?.005:.5);let _t;if(gt<1){const yt=calcAngularFreq(xt,gt);_t=St=>{const bt=Math.exp(-gt*xt*St);return it-bt*((ht+gt*xt*mt)/yt*Math.sin(yt*St)+mt*Math.cos(yt*St))}}else if(gt===1)_t=yt=>it-Math.exp(-xt*yt)*(mt+(ht+xt*mt)*yt);else{const yt=xt*Math.sqrt(gt*gt-1);_t=St=>{const bt=Math.exp(-gt*xt*St),Et=Math.min(yt*St,300);return it-bt*((ht+gt*xt*mt)*Math.sinh(Et)+yt*mt*Math.cosh(Et))/yt}}return{calculatedDuration:ft&&ut||null,next:yt=>{const St=_t(yt);if(ft)st.done=yt>=ut;else{let bt=ht;yt!==0&&(gt<1?bt=calcGeneratorVelocity(_t,yt,St):bt=0);const Et=Math.abs(bt)<=rt,Tt=Math.abs(it-St)<=tt;st.done=Et&&Tt}return st.value=st.done?it:St,st}}}function inertia({keyframes:et,velocity:tt=0,power:rt=.8,timeConstant:nt=325,bounceDamping:at=10,bounceStiffness:it=500,modifyTarget:st,min:ot,max:lt,restDelta:ct=.5,restSpeed:ut}){const dt=et[0],ft={done:!1,value:dt},ht=At=>ot!==void 0&&At<ot||lt!==void 0&&At>lt,gt=At=>ot===void 0?lt:lt===void 0||Math.abs(ot-At)<Math.abs(lt-At)?ot:lt;let mt=rt*tt;const xt=dt+mt,vt=st===void 0?xt:st(xt);vt!==xt&&(mt=vt-dt);const _t=At=>-mt*Math.exp(-At/nt),yt=At=>vt+_t(At),St=At=>{const Ct=_t(At),kt=yt(At);ft.done=Math.abs(Ct)<=ct,ft.value=ft.done?vt:kt};let bt,Et;const Tt=At=>{ht(ft.value)&&(bt=At,Et=spring({keyframes:[ft.value,gt(ft.value)],velocity:calcGeneratorVelocity(yt,At,ft.value),damping:at,stiffness:it,restDelta:ct,restSpeed:ut}))};return Tt(0),{calculatedDuration:null,next:At=>{let Ct=!1;return!Et&&bt===void 0&&(Ct=!0,St(At),Tt(At)),bt!==void 0&&At>bt?Et.next(At-bt):(!Ct&&St(At),ft)}}}const frameloopDriver=et=>{const tt=({timestamp:rt})=>et(rt);return{start:()=>frame.update(tt,!0),stop:()=>cancelFrame(tt),now:()=>frameData.isProcessing?frameData.timestamp:performance.now()}},maxGeneratorDuration=2e4;function calcGeneratorDuration(et){let tt=0;const rt=50;let nt=et.next(tt);for(;!nt.done&&tt<maxGeneratorDuration;)tt+=rt,nt=et.next(tt);return tt>=maxGeneratorDuration?1/0:tt}const types={decay:inertia,inertia,tween:keyframes,keyframes,spring};function animateValue({autoplay:et=!0,delay:tt=0,driver:rt=frameloopDriver,keyframes:nt,type:at="keyframes",repeat:it=0,repeatDelay:st=0,repeatType:ot="loop",onPlay:lt,onStop:ct,onComplete:ut,onUpdate:dt,...ft}){let ht=1,gt=!1,mt,xt;const vt=()=>{xt=new Promise(ir=>{mt=ir})};vt();let _t;const yt=types[at]||keyframes;let St;yt!==keyframes&&typeof nt[0]!="number"&&(St=interpolate$1([0,100],nt,{clamp:!1}),nt=[0,100]);const bt=yt({...ft,keyframes:nt});let Et;ot==="mirror"&&(Et=yt({...ft,keyframes:[...nt].reverse(),velocity:-(ft.velocity||0)}));let Tt="idle",At=null,Ct=null,kt=null;bt.calculatedDuration===null&&it&&(bt.calculatedDuration=calcGeneratorDuration(bt));const{calculatedDuration:Pt}=bt;let Dt=1/0,Ft=1/0;Pt!==null&&(Dt=Pt+st,Ft=Dt*(it+1)-st);let Ot=0;const It=ir=>{if(Ct===null)return;ht>0&&(Ct=Math.min(Ct,ir)),ht<0&&(Ct=Math.min(ir-Ft/ht,Ct)),At!==null?Ot=At:Ot=Math.round(ir-Ct)*ht;const Xt=Ot-tt*(ht>=0?1:-1),Lt=ht>=0?Xt<0:Xt>Ft;Ot=Math.max(Xt,0),Tt==="finished"&&At===null&&(Ot=Ft);let jt=Ot,Nt=bt;if(it){const Zt=Math.min(Ot,Ft)/Dt;let er=Math.floor(Zt),ar=Zt%1;!ar&&Zt>=1&&(ar=1),ar===1&&er--,er=Math.min(er,it+1),!!(er%2)&&(ot==="reverse"?(ar=1-ar,st&&(ar-=st/Dt)):ot==="mirror"&&(Nt=Et)),jt=clamp$2(0,1,ar)*Dt}const Mt=Lt?{done:!1,value:nt[0]}:Nt.next(jt);St&&(Mt.value=St(Mt.value));let{done:Vt}=Mt;!Lt&&Pt!==null&&(Vt=ht>=0?Ot>=Ft:Ot<=0);const Gt=At===null&&(Tt==="finished"||Tt==="running"&&Vt);return dt&&dt(Mt.value),Gt&&Ut(),Mt},Bt=()=>{_t&&_t.stop(),_t=void 0},qt=()=>{Tt="idle",Bt(),mt(),vt(),Ct=kt=null},Ut=()=>{Tt="finished",ut&&ut(),Bt(),mt()},Ht=()=>{if(gt)return;_t||(_t=rt(It));const ir=_t.now();lt&&lt(),At!==null?Ct=ir-At:(!Ct||Tt==="finished")&&(Ct=ir),Tt==="finished"&&vt(),kt=Ct,At=null,Tt="running",_t.start()};et&&Ht();const Qt={then(ir,Xt){return xt.then(ir,Xt)},get time(){return millisecondsToSeconds(Ot)},set time(ir){ir=secondsToMilliseconds(ir),Ot=ir,At!==null||!_t||ht===0?At=ir:Ct=_t.now()-ir/ht},get duration(){const ir=bt.calculatedDuration===null?calcGeneratorDuration(bt):bt.calculatedDuration;return millisecondsToSeconds(ir)},get speed(){return ht},set speed(ir){ir===ht||!_t||(ht=ir,Qt.time=millisecondsToSeconds(Ot))},get state(){return Tt},play:Ht,pause:()=>{Tt="paused",At=Ot},stop:()=>{gt=!0,Tt!=="idle"&&(Tt="idle",ct&&ct(),qt())},cancel:()=>{kt!==null&&It(kt),qt()},complete:()=>{Tt="finished"},sample:ir=>(Ct=0,It(ir))};return Qt}function memo(et){let tt;return()=>(tt===void 0&&(tt=et()),tt)}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),acceleratedValues=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),sampleDelta=10,maxDuration=2e4,requiresPregeneratedKeyframes=(et,tt)=>tt.type==="spring"||et==="backgroundColor"||!isWaapiSupportedEasing(tt.ease);function createAcceleratedAnimation(et,tt,{onUpdate:rt,onComplete:nt,...at}){if(!(supportsWaapi()&&acceleratedValues.has(tt)&&!at.repeatDelay&&at.repeatType!=="mirror"&&at.damping!==0&&at.type!=="inertia"))return!1;let st=!1,ot,lt,ct=!1;const ut=()=>{lt=new Promise(yt=>{ot=yt})};ut();let{keyframes:dt,duration:ft=300,ease:ht,times:gt}=at;if(requiresPregeneratedKeyframes(tt,at)){const yt=animateValue({...at,repeat:0,delay:0});let St={done:!1,value:dt[0]};const bt=[];let Et=0;for(;!St.done&&Et<maxDuration;)St=yt.sample(Et),bt.push(St.value),Et+=sampleDelta;gt=void 0,dt=bt,ft=Et-sampleDelta,ht="linear"}const mt=animateStyle(et.owner.current,tt,dt,{...at,duration:ft,ease:ht,times:gt}),xt=()=>{ct=!1,mt.cancel()},vt=()=>{ct=!0,frame.update(xt),ot(),ut()};return mt.onfinish=()=>{ct||(et.set(getFinalKeyframe(dt,at)),nt&&nt(),vt())},{then(yt,St){return lt.then(yt,St)},attachTimeline(yt){return mt.timeline=yt,mt.onfinish=null,noop$4},get time(){return millisecondsToSeconds(mt.currentTime||0)},set time(yt){mt.currentTime=secondsToMilliseconds(yt)},get speed(){return mt.playbackRate},set speed(yt){mt.playbackRate=yt},get duration(){return millisecondsToSeconds(ft)},play:()=>{st||(mt.play(),cancelFrame(xt))},pause:()=>mt.pause(),stop:()=>{if(st=!0,mt.playState==="idle")return;const{currentTime:yt}=mt;if(yt){const St=animateValue({...at,autoplay:!1});et.setWithVelocity(St.sample(yt-sampleDelta).value,St.sample(yt).value,sampleDelta)}vt()},complete:()=>{ct||mt.finish()},cancel:vt}}function createInstantAnimation({keyframes:et,delay:tt,onUpdate:rt,onComplete:nt}){const at=()=>(rt&&rt(et[et.length-1]),nt&&nt(),{time:0,speed:1,duration:0,play:noop$4,pause:noop$4,stop:noop$4,then:it=>(it(),Promise.resolve()),cancel:noop$4,complete:noop$4});return tt?animateValue({keyframes:[0,1],duration:0,delay:tt,onComplete:at}):at()}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=et=>({type:"spring",stiffness:550,damping:et===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(et,{keyframes:tt})=>tt.length>2?keyframesTransition:transformProps.has(et)?et.startsWith("scale")?criticallyDampedSpring(tt[1]):underDampedSpring:ease,isAnimatable=(et,tt)=>et==="zIndex"?!1:!!(typeof tt=="number"||Array.isArray(tt)||typeof tt=="string"&&(complex.test(tt)||tt==="0")&&!tt.startsWith("url(")),maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(et){const[tt,rt]=et.slice(0,-1).split("(");if(tt==="drop-shadow")return et;const[nt]=rt.match(floatRegex)||[];if(!nt)return et;const at=rt.replace(nt,"");let it=maxDefaults.has(tt)?1:0;return nt!==rt&&(it*=100),tt+"("+it+at+")"}const functionRegex=/([a-z-]*)\(.*?\)/g,filter={...complex,getAnimatableNone:et=>{const tt=et.match(functionRegex);return tt?tt.map(applyDefaultFilter).join(" "):et}},defaultValueTypes={...numberValueTypes,color:color$1,backgroundColor:color$1,outlineColor:color$1,fill:color$1,stroke:color$1,borderColor:color$1,borderTopColor:color$1,borderRightColor:color$1,borderBottomColor:color$1,borderLeftColor:color$1,filter,WebkitFilter:filter},getDefaultValueType=et=>defaultValueTypes[et];function getAnimatableNone(et,tt){let rt=getDefaultValueType(et);return rt!==filter&&(rt=complex),rt.getAnimatableNone?rt.getAnimatableNone(tt):void 0}const isZeroValueString=et=>/^0[^.\s]+$/.test(et);function isNone(et){if(typeof et=="number")return et===0;if(et!==null)return et==="none"||et==="0"||isZeroValueString(et)}function getKeyframes(et,tt,rt,nt){const at=isAnimatable(tt,rt);let it;Array.isArray(rt)?it=[...rt]:it=[null,rt];const st=nt.from!==void 0?nt.from:et.get();let ot;const lt=[];for(let ct=0;ct<it.length;ct++)it[ct]===null&&(it[ct]=ct===0?st:it[ct-1]),isNone(it[ct])&&lt.push(ct),typeof it[ct]=="string"&&it[ct]!=="none"&&it[ct]!=="0"&&(ot=it[ct]);if(at&&lt.length&&ot)for(let ct=0;ct<lt.length;ct++){const ut=lt[ct];it[ut]=getAnimatableNone(tt,ot)}return it}function isTransitionDefined({when:et,delay:tt,delayChildren:rt,staggerChildren:nt,staggerDirection:at,repeat:it,repeatType:st,repeatDelay:ot,from:lt,elapsed:ct,...ut}){return!!Object.keys(ut).length}function getValueTransition(et,tt){return et[tt]||et.default||et}const MotionGlobalConfig={skipAnimations:!1},animateMotionValue=(et,tt,rt,nt={})=>at=>{const it=getValueTransition(nt,et)||{},st=it.delay||nt.delay||0;let{elapsed:ot=0}=nt;ot=ot-secondsToMilliseconds(st);const lt=getKeyframes(tt,et,rt,it),ct=lt[0],ut=lt[lt.length-1],dt=isAnimatable(et,ct),ft=isAnimatable(et,ut);let ht={keyframes:lt,velocity:tt.getVelocity(),ease:"easeOut",...it,delay:-ot,onUpdate:gt=>{tt.set(gt),it.onUpdate&&it.onUpdate(gt)},onComplete:()=>{at(),it.onComplete&&it.onComplete()}};if(isTransitionDefined(it)||(ht={...ht,...getDefaultTransition(et,ht)}),ht.duration&&(ht.duration=secondsToMilliseconds(ht.duration)),ht.repeatDelay&&(ht.repeatDelay=secondsToMilliseconds(ht.repeatDelay)),!dt||!ft||instantAnimationState.current||it.type===!1||MotionGlobalConfig.skipAnimations)return createInstantAnimation(ht);if(!nt.isHandoff&&tt.owner&&tt.owner.current instanceof HTMLElement&&!tt.owner.getProps().onUpdate){const gt=createAcceleratedAnimation(tt,et,ht);if(gt)return gt}return animateValue(ht)};function isWillChangeMotionValue(et){return!!(isMotionValue(et)&&et.add)}const isNumericalString=et=>/^\-?\d*\.?\d+$/.test(et);function addUniqueItem(et,tt){et.indexOf(tt)===-1&&et.push(tt)}function removeItem(et,tt){const rt=et.indexOf(tt);rt>-1&&et.splice(rt,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(tt){return addUniqueItem(this.subscriptions,tt),()=>removeItem(this.subscriptions,tt)}notify(tt,rt,nt){const at=this.subscriptions.length;if(at)if(at===1)this.subscriptions[0](tt,rt,nt);else for(let it=0;it<at;it++){const st=this.subscriptions[it];st&&st(tt,rt,nt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const isFloat=et=>!isNaN(parseFloat(et));class MotionValue{constructor(tt,rt={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(nt,at=!0)=>{this.prev=this.current,this.current=nt;const{delta:it,timestamp:st}=frameData;this.lastUpdated!==st&&(this.timeDelta=it,this.lastUpdated=st,frame.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),at&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>frame.postRender(this.velocityCheck),this.velocityCheck=({timestamp:nt})=>{nt!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=tt,this.canTrackVelocity=isFloat(this.current),this.owner=rt.owner}onChange(tt){return this.on("change",tt)}on(tt,rt){this.events[tt]||(this.events[tt]=new SubscriptionManager);const nt=this.events[tt].add(rt);return tt==="change"?()=>{nt(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:nt}clearListeners(){for(const tt in this.events)this.events[tt].clear()}attach(tt,rt){this.passiveEffect=tt,this.stopPassiveEffect=rt}set(tt,rt=!0){!rt||!this.passiveEffect?this.updateAndNotify(tt,rt):this.passiveEffect(tt,this.updateAndNotify)}setWithVelocity(tt,rt,nt){this.set(rt),this.prev=tt,this.timeDelta=nt}jump(tt){this.updateAndNotify(tt),this.prev=tt,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(tt){return this.stop(),new Promise(rt=>{this.hasAnimated=!0,this.animation=tt(rt),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(et,tt){return new MotionValue(et,tt)}const testValueType=et=>tt=>tt.test(et),auto={test:et=>et==="auto",parse:et=>et},dimensionValueTypes=[number$3,px$1,percent,degrees$1,vw,vh,auto],findDimensionValueType=et=>dimensionValueTypes.find(testValueType(et)),valueTypes=[...dimensionValueTypes,color$1,complex],findValueType=et=>valueTypes.find(testValueType(et));function setMotionValue(et,tt,rt){et.hasValue(tt)?et.getValue(tt).set(rt):et.addValue(tt,motionValue(rt))}function setTarget(et,tt){const rt=resolveVariant(et,tt);let{transitionEnd:nt={},transition:at={},...it}=rt?et.makeTargetAnimatable(rt,!1):{};it={...it,...nt};for(const st in it){const ot=resolveFinalValueInKeyframes(it[st]);setMotionValue(et,st,ot)}}function checkTargetForNewValues(et,tt,rt){var nt,at;const it=Object.keys(tt).filter(ot=>!et.hasValue(ot)),st=it.length;if(st)for(let ot=0;ot<st;ot++){const lt=it[ot],ct=tt[lt];let ut=null;Array.isArray(ct)&&(ut=ct[0]),ut===null&&(ut=(at=(nt=rt[lt])!==null&&nt!==void 0?nt:et.readValue(lt))!==null&&at!==void 0?at:tt[lt]),ut!=null&&(typeof ut=="string"&&(isNumericalString(ut)||isZeroValueString(ut))?ut=parseFloat(ut):!findValueType(ut)&&complex.test(ct)&&(ut=getAnimatableNone(lt,ct)),et.addValue(lt,motionValue(ut,{owner:et})),rt[lt]===void 0&&(rt[lt]=ut),ut!==null&&et.setBaseTarget(lt,ut))}}function getOriginFromTransition(et,tt){return tt?(tt[et]||tt.default||tt).from:void 0}function getOrigin(et,tt,rt){const nt={};for(const at in et){const it=getOriginFromTransition(at,tt);if(it!==void 0)nt[at]=it;else{const st=rt.getValue(at);st&&(nt[at]=st.get())}}return nt}function shouldBlockAnimation({protectedKeys:et,needsAnimating:tt},rt){const nt=et.hasOwnProperty(rt)&&tt[rt]!==!0;return tt[rt]=!1,nt}function hasKeyframesChanged(et,tt){const rt=et.get();if(Array.isArray(tt)){for(let nt=0;nt<tt.length;nt++)if(tt[nt]!==rt)return!0}else return rt!==tt}function animateTarget(et,tt,{delay:rt=0,transitionOverride:nt,type:at}={}){let{transition:it=et.getDefaultTransition(),transitionEnd:st,...ot}=et.makeTargetAnimatable(tt);const lt=et.getValue("willChange");nt&&(it=nt);const ct=[],ut=at&&et.animationState&&et.animationState.getState()[at];for(const dt in ot){const ft=et.getValue(dt),ht=ot[dt];if(!ft||ht===void 0||ut&&shouldBlockAnimation(ut,dt))continue;const gt={delay:rt,elapsed:0,...getValueTransition(it||{},dt)};if(window.HandoffAppearAnimations){const vt=et.getProps()[optimizedAppearDataAttribute];if(vt){const _t=window.HandoffAppearAnimations(vt,dt,ft,frame);_t!==null&&(gt.elapsed=_t,gt.isHandoff=!0)}}let mt=!gt.isHandoff&&!hasKeyframesChanged(ft,ht);if(gt.type==="spring"&&(ft.getVelocity()||gt.velocity)&&(mt=!1),ft.animation&&(mt=!1),mt)continue;ft.start(animateMotionValue(dt,ft,ht,et.shouldReduceMotion&&transformProps.has(dt)?{type:!1}:gt));const xt=ft.animation;isWillChangeMotionValue(lt)&&(lt.add(dt),xt.then(()=>lt.remove(dt))),ct.push(xt)}return st&&Promise.all(ct).then(()=>{st&&setTarget(et,st)}),ct}function animateVariant(et,tt,rt={}){const nt=resolveVariant(et,tt,rt.custom);let{transition:at=et.getDefaultTransition()||{}}=nt||{};rt.transitionOverride&&(at=rt.transitionOverride);const it=nt?()=>Promise.all(animateTarget(et,nt,rt)):()=>Promise.resolve(),st=et.variantChildren&&et.variantChildren.size?(lt=0)=>{const{delayChildren:ct=0,staggerChildren:ut,staggerDirection:dt}=at;return animateChildren(et,tt,ct+lt,ut,dt,rt)}:()=>Promise.resolve(),{when:ot}=at;if(ot){const[lt,ct]=ot==="beforeChildren"?[it,st]:[st,it];return lt().then(()=>ct())}else return Promise.all([it(),st(rt.delay)])}function animateChildren(et,tt,rt=0,nt=0,at=1,it){const st=[],ot=(et.variantChildren.size-1)*nt,lt=at===1?(ct=0)=>ct*nt:(ct=0)=>ot-ct*nt;return Array.from(et.variantChildren).sort(sortByTreeOrder).forEach((ct,ut)=>{ct.notify("AnimationStart",tt),st.push(animateVariant(ct,tt,{...it,delay:rt+lt(ut)}).then(()=>ct.notify("AnimationComplete",tt)))}),Promise.all(st)}function sortByTreeOrder(et,tt){return et.sortNodePosition(tt)}function animateVisualElement(et,tt,rt={}){et.notify("AnimationStart",tt);let nt;if(Array.isArray(tt)){const at=tt.map(it=>animateVariant(et,it,rt));nt=Promise.all(at)}else if(typeof tt=="string")nt=animateVariant(et,tt,rt);else{const at=typeof tt=="function"?resolveVariant(et,tt,rt.custom):tt;nt=Promise.all(animateTarget(et,at,rt))}return nt.then(()=>et.notify("AnimationComplete",tt))}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(et){return tt=>Promise.all(tt.map(({animation:rt,options:nt})=>animateVisualElement(et,rt,nt)))}function createAnimationState(et){let tt=animateList(et);const rt=createState();let nt=!0;const at=(lt,ct)=>{const ut=resolveVariant(et,ct);if(ut){const{transition:dt,transitionEnd:ft,...ht}=ut;lt={...lt,...ht,...ft}}return lt};function it(lt){tt=lt(et)}function st(lt,ct){const ut=et.getProps(),dt=et.getVariantContext(!0)||{},ft=[],ht=new Set;let gt={},mt=1/0;for(let vt=0;vt<numAnimationTypes;vt++){const _t=reversePriorityOrder[vt],yt=rt[_t],St=ut[_t]!==void 0?ut[_t]:dt[_t],bt=isVariantLabel(St),Et=_t===ct?yt.isActive:null;Et===!1&&(mt=vt);let Tt=St===dt[_t]&&St!==ut[_t]&&bt;if(Tt&&nt&&et.manuallyAnimateOnMount&&(Tt=!1),yt.protectedKeys={...gt},!yt.isActive&&Et===null||!St&&!yt.prevProp||isAnimationControls(St)||typeof St=="boolean")continue;let Ct=checkVariantsDidChange(yt.prevProp,St)||_t===ct&&yt.isActive&&!Tt&&bt||vt>mt&&bt,kt=!1;const Pt=Array.isArray(St)?St:[St];let Dt=Pt.reduce(at,{});Et===!1&&(Dt={});const{prevResolvedValues:Ft={}}=yt,Ot={...Ft,...Dt},It=Bt=>{Ct=!0,ht.has(Bt)&&(kt=!0,ht.delete(Bt)),yt.needsAnimating[Bt]=!0};for(const Bt in Ot){const qt=Dt[Bt],Ut=Ft[Bt];if(gt.hasOwnProperty(Bt))continue;let Ht=!1;isKeyframesTarget(qt)&&isKeyframesTarget(Ut)?Ht=!shallowCompare(qt,Ut):Ht=qt!==Ut,Ht?qt!==void 0?It(Bt):ht.add(Bt):qt!==void 0&&ht.has(Bt)?It(Bt):yt.protectedKeys[Bt]=!0}yt.prevProp=St,yt.prevResolvedValues=Dt,yt.isActive&&(gt={...gt,...Dt}),nt&&et.blockInitialAnimation&&(Ct=!1),Ct&&(!Tt||kt)&&ft.push(...Pt.map(Bt=>({animation:Bt,options:{type:_t,...lt}})))}if(ht.size){const vt={};ht.forEach(_t=>{const yt=et.getBaseTarget(_t);yt!==void 0&&(vt[_t]=yt)}),ft.push({animation:vt})}let xt=!!ft.length;return nt&&(ut.initial===!1||ut.initial===ut.animate)&&!et.manuallyAnimateOnMount&&(xt=!1),nt=!1,xt?tt(ft):Promise.resolve()}function ot(lt,ct,ut){var dt;if(rt[lt].isActive===ct)return Promise.resolve();(dt=et.variantChildren)===null||dt===void 0||dt.forEach(ht=>{var gt;return(gt=ht.animationState)===null||gt===void 0?void 0:gt.setActive(lt,ct)}),rt[lt].isActive=ct;const ft=st(ut,lt);for(const ht in rt)rt[ht].protectedKeys={};return ft}return{animateChanges:st,setActive:ot,setAnimateFunction:it,getState:()=>rt}}function checkVariantsDidChange(et,tt){return typeof tt=="string"?tt!==et:Array.isArray(tt)?!shallowCompare(tt,et):!1}function createTypeState(et=!1){return{isActive:et,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor(tt){super(tt),tt.animationState||(tt.animationState=createAnimationState(tt))}updateAnimationControlsSubscription(){const{animate:tt}=this.node.getProps();this.unmount(),isAnimationControls(tt)&&(this.unmount=tt.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:tt}=this.node.getProps(),{animate:rt}=this.node.prevProps||{};tt!==rt&&this.updateAnimationControlsSubscription()}unmount(){}}let id$2=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$2++}update(){if(!this.node.presenceContext)return;const{isPresent:tt,onExitComplete:rt,custom:nt}=this.node.presenceContext,{isPresent:at}=this.node.prevPresenceContext||{};if(!this.node.animationState||tt===at)return;const it=this.node.animationState.setActive("exit",!tt,{custom:nt??this.node.getProps().custom});rt&&!tt&&it.then(()=>rt(this.id))}mount(){const{register:tt}=this.node.presenceContext||{};tt&&(this.unmount=tt(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(et,tt)=>Math.abs(et-tt);function distance2D(et,tt){const rt=distance(et.x,tt.x),nt=distance(et.y,tt.y);return Math.sqrt(rt**2+nt**2)}class PanSession{constructor(tt,rt,{transformPagePoint:nt,contextWindow:at,dragSnapToOrigin:it=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const dt=getPanInfo(this.lastMoveEventInfo,this.history),ft=this.startEvent!==null,ht=distance2D(dt.offset,{x:0,y:0})>=3;if(!ft&&!ht)return;const{point:gt}=dt,{timestamp:mt}=frameData;this.history.push({...gt,timestamp:mt});const{onStart:xt,onMove:vt}=this.handlers;ft||(xt&&xt(this.lastMoveEvent,dt),this.startEvent=this.lastMoveEvent),vt&&vt(this.lastMoveEvent,dt)},this.handlePointerMove=(dt,ft)=>{this.lastMoveEvent=dt,this.lastMoveEventInfo=transformPoint(ft,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(dt,ft)=>{this.end();const{onEnd:ht,onSessionEnd:gt,resumeAnimation:mt}=this.handlers;if(this.dragSnapToOrigin&&mt&&mt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const xt=getPanInfo(dt.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(ft,this.transformPagePoint),this.history);this.startEvent&&ht&&ht(dt,xt),gt&&gt(dt,xt)},!isPrimaryPointer(tt))return;this.dragSnapToOrigin=it,this.handlers=rt,this.transformPagePoint=nt,this.contextWindow=at||window;const st=extractEventInfo(tt),ot=transformPoint(st,this.transformPagePoint),{point:lt}=ot,{timestamp:ct}=frameData;this.history=[{...lt,timestamp:ct}];const{onSessionStart:ut}=rt;ut&&ut(tt,getPanInfo(ot,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(tt){this.handlers=tt}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(et,tt){return tt?{point:tt(et.point)}:et}function subtractPoint(et,tt){return{x:et.x-tt.x,y:et.y-tt.y}}function getPanInfo({point:et},tt){return{point:et,delta:subtractPoint(et,lastDevicePoint(tt)),offset:subtractPoint(et,startDevicePoint(tt)),velocity:getVelocity(tt,.1)}}function startDevicePoint(et){return et[0]}function lastDevicePoint(et){return et[et.length-1]}function getVelocity(et,tt){if(et.length<2)return{x:0,y:0};let rt=et.length-1,nt=null;const at=lastDevicePoint(et);for(;rt>=0&&(nt=et[rt],!(at.timestamp-nt.timestamp>secondsToMilliseconds(tt)));)rt--;if(!nt)return{x:0,y:0};const it=millisecondsToSeconds(at.timestamp-nt.timestamp);if(it===0)return{x:0,y:0};const st={x:(at.x-nt.x)/it,y:(at.y-nt.y)/it};return st.x===1/0&&(st.x=0),st.y===1/0&&(st.y=0),st}function calcLength(et){return et.max-et.min}function isNear(et,tt=0,rt=.01){return Math.abs(et-tt)<=rt}function calcAxisDelta(et,tt,rt,nt=.5){et.origin=nt,et.originPoint=mix(tt.min,tt.max,et.origin),et.scale=calcLength(rt)/calcLength(tt),(isNear(et.scale,1,1e-4)||isNaN(et.scale))&&(et.scale=1),et.translate=mix(rt.min,rt.max,et.origin)-et.originPoint,(isNear(et.translate)||isNaN(et.translate))&&(et.translate=0)}function calcBoxDelta(et,tt,rt,nt){calcAxisDelta(et.x,tt.x,rt.x,nt?nt.originX:void 0),calcAxisDelta(et.y,tt.y,rt.y,nt?nt.originY:void 0)}function calcRelativeAxis(et,tt,rt){et.min=rt.min+tt.min,et.max=et.min+calcLength(tt)}function calcRelativeBox(et,tt,rt){calcRelativeAxis(et.x,tt.x,rt.x),calcRelativeAxis(et.y,tt.y,rt.y)}function calcRelativeAxisPosition(et,tt,rt){et.min=tt.min-rt.min,et.max=et.min+calcLength(tt)}function calcRelativePosition(et,tt,rt){calcRelativeAxisPosition(et.x,tt.x,rt.x),calcRelativeAxisPosition(et.y,tt.y,rt.y)}function applyConstraints(et,{min:tt,max:rt},nt){return tt!==void 0&&et<tt?et=nt?mix(tt,et,nt.min):Math.max(et,tt):rt!==void 0&&et>rt&&(et=nt?mix(rt,et,nt.max):Math.min(et,rt)),et}function calcRelativeAxisConstraints(et,tt,rt){return{min:tt!==void 0?et.min+tt:void 0,max:rt!==void 0?et.max+rt-(et.max-et.min):void 0}}function calcRelativeConstraints(et,{top:tt,left:rt,bottom:nt,right:at}){return{x:calcRelativeAxisConstraints(et.x,rt,at),y:calcRelativeAxisConstraints(et.y,tt,nt)}}function calcViewportAxisConstraints(et,tt){let rt=tt.min-et.min,nt=tt.max-et.max;return tt.max-tt.min<et.max-et.min&&([rt,nt]=[nt,rt]),{min:rt,max:nt}}function calcViewportConstraints(et,tt){return{x:calcViewportAxisConstraints(et.x,tt.x),y:calcViewportAxisConstraints(et.y,tt.y)}}function calcOrigin(et,tt){let rt=.5;const nt=calcLength(et),at=calcLength(tt);return at>nt?rt=progress(tt.min,tt.max-nt,et.min):nt>at&&(rt=progress(et.min,et.max-at,tt.min)),clamp$2(0,1,rt)}function rebaseAxisConstraints(et,tt){const rt={};return tt.min!==void 0&&(rt.min=tt.min-et.min),tt.max!==void 0&&(rt.max=tt.max-et.min),rt}const defaultElastic=.35;function resolveDragElastic(et=defaultElastic){return et===!1?et=0:et===!0&&(et=defaultElastic),{x:resolveAxisElastic(et,"left","right"),y:resolveAxisElastic(et,"top","bottom")}}function resolveAxisElastic(et,tt,rt){return{min:resolvePointElastic(et,tt),max:resolvePointElastic(et,rt)}}function resolvePointElastic(et,tt){return typeof et=="number"?et:et[tt]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(et){return[et("x"),et("y")]}function convertBoundingBoxToBox({top:et,left:tt,right:rt,bottom:nt}){return{x:{min:tt,max:rt},y:{min:et,max:nt}}}function convertBoxToBoundingBox({x:et,y:tt}){return{top:tt.min,right:et.max,bottom:tt.max,left:et.min}}function transformBoxPoints(et,tt){if(!tt)return et;const rt=tt({x:et.left,y:et.top}),nt=tt({x:et.right,y:et.bottom});return{top:rt.y,left:rt.x,bottom:nt.y,right:nt.x}}function isIdentityScale(et){return et===void 0||et===1}function hasScale({scale:et,scaleX:tt,scaleY:rt}){return!isIdentityScale(et)||!isIdentityScale(tt)||!isIdentityScale(rt)}function hasTransform(et){return hasScale(et)||has2DTranslate(et)||et.z||et.rotate||et.rotateX||et.rotateY}function has2DTranslate(et){return is2DTranslate(et.x)||is2DTranslate(et.y)}function is2DTranslate(et){return et&&et!=="0%"}function scalePoint(et,tt,rt){const nt=et-rt,at=tt*nt;return rt+at}function applyPointDelta(et,tt,rt,nt,at){return at!==void 0&&(et=scalePoint(et,at,nt)),scalePoint(et,rt,nt)+tt}function applyAxisDelta(et,tt=0,rt=1,nt,at){et.min=applyPointDelta(et.min,tt,rt,nt,at),et.max=applyPointDelta(et.max,tt,rt,nt,at)}function applyBoxDelta(et,{x:tt,y:rt}){applyAxisDelta(et.x,tt.translate,tt.scale,tt.originPoint),applyAxisDelta(et.y,rt.translate,rt.scale,rt.originPoint)}function applyTreeDeltas(et,tt,rt,nt=!1){const at=rt.length;if(!at)return;tt.x=tt.y=1;let it,st;for(let ot=0;ot<at;ot++){it=rt[ot],st=it.projectionDelta;const lt=it.instance;lt&&lt.style&&lt.style.display==="contents"||(nt&&it.options.layoutScroll&&it.scroll&&it!==it.root&&transformBox(et,{x:-it.scroll.offset.x,y:-it.scroll.offset.y}),st&&(tt.x*=st.x.scale,tt.y*=st.y.scale,applyBoxDelta(et,st)),nt&&hasTransform(it.latestValues)&&transformBox(et,it.latestValues))}tt.x=snapToDefault(tt.x),tt.y=snapToDefault(tt.y)}function snapToDefault(et){return Number.isInteger(et)||et>1.0000000000001||et<.999999999999?et:1}function translateAxis(et,tt){et.min=et.min+tt,et.max=et.max+tt}function transformAxis(et,tt,[rt,nt,at]){const it=tt[at]!==void 0?tt[at]:.5,st=mix(et.min,et.max,it);applyAxisDelta(et,tt[rt],tt[nt],st,tt.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(et,tt){transformAxis(et.x,tt,xKeys$1),transformAxis(et.y,tt,yKeys$1)}function measureViewportBox(et,tt){return convertBoundingBoxToBox(transformBoxPoints(et.getBoundingClientRect(),tt))}function measurePageBox(et,tt,rt){const nt=measureViewportBox(et,rt),{scroll:at}=tt;return at&&(translateAxis(nt.x,at.offset.x),translateAxis(nt.y,at.offset.y)),nt}const getContextWindow=({current:et})=>et?et.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(tt){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=tt}start(tt,{snapToCursor:rt=!1}={}){const{presenceContext:nt}=this.visualElement;if(nt&&nt.isPresent===!1)return;const at=ut=>{const{dragSnapToOrigin:dt}=this.getProps();dt?this.pauseAnimation():this.stopAnimation(),rt&&this.snapToCursor(extractEventInfo(ut,"page").point)},it=(ut,dt)=>{const{drag:ft,dragPropagation:ht,onDragStart:gt}=this.getProps();if(ft&&!ht&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(ft),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(xt=>{let vt=this.getAxisMotionValue(xt).get()||0;if(percent.test(vt)){const{projection:_t}=this.visualElement;if(_t&&_t.layout){const yt=_t.layout.layoutBox[xt];yt&&(vt=calcLength(yt)*(parseFloat(vt)/100))}}this.originPoint[xt]=vt}),gt&&frame.update(()=>gt(ut,dt),!1,!0);const{animationState:mt}=this.visualElement;mt&&mt.setActive("whileDrag",!0)},st=(ut,dt)=>{const{dragPropagation:ft,dragDirectionLock:ht,onDirectionLock:gt,onDrag:mt}=this.getProps();if(!ft&&!this.openGlobalLock)return;const{offset:xt}=dt;if(ht&&this.currentDirection===null){this.currentDirection=getCurrentDirection(xt),this.currentDirection!==null&&gt&&gt(this.currentDirection);return}this.updateAxis("x",dt.point,xt),this.updateAxis("y",dt.point,xt),this.visualElement.render(),mt&&mt(ut,dt)},ot=(ut,dt)=>this.stop(ut,dt),lt=()=>eachAxis(ut=>{var dt;return this.getAnimationState(ut)==="paused"&&((dt=this.getAxisMotionValue(ut).animation)===null||dt===void 0?void 0:dt.play())}),{dragSnapToOrigin:ct}=this.getProps();this.panSession=new PanSession(tt,{onSessionStart:at,onStart:it,onMove:st,onSessionEnd:ot,resumeAnimation:lt},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:ct,contextWindow:getContextWindow(this.visualElement)})}stop(tt,rt){const nt=this.isDragging;if(this.cancel(),!nt)return;const{velocity:at}=rt;this.startAnimation(at);const{onDragEnd:it}=this.getProps();it&&frame.update(()=>it(tt,rt))}cancel(){this.isDragging=!1;const{projection:tt,animationState:rt}=this.visualElement;tt&&(tt.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:nt}=this.getProps();!nt&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),rt&&rt.setActive("whileDrag",!1)}updateAxis(tt,rt,nt){const{drag:at}=this.getProps();if(!nt||!shouldDrag(tt,at,this.currentDirection))return;const it=this.getAxisMotionValue(tt);let st=this.originPoint[tt]+nt[tt];this.constraints&&this.constraints[tt]&&(st=applyConstraints(st,this.constraints[tt],this.elastic[tt])),it.set(st)}resolveConstraints(){var tt;const{dragConstraints:rt,dragElastic:nt}=this.getProps(),at=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(tt=this.visualElement.projection)===null||tt===void 0?void 0:tt.layout,it=this.constraints;rt&&isRefObject(rt)?this.constraints||(this.constraints=this.resolveRefConstraints()):rt&&at?this.constraints=calcRelativeConstraints(at.layoutBox,rt):this.constraints=!1,this.elastic=resolveDragElastic(nt),it!==this.constraints&&at&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(st=>{this.getAxisMotionValue(st)&&(this.constraints[st]=rebaseAxisConstraints(at.layoutBox[st],this.constraints[st]))})}resolveRefConstraints(){const{dragConstraints:tt,onMeasureDragConstraints:rt}=this.getProps();if(!tt||!isRefObject(tt))return!1;const nt=tt.current,{projection:at}=this.visualElement;if(!at||!at.layout)return!1;const it=measurePageBox(nt,at.root,this.visualElement.getTransformPagePoint());let st=calcViewportConstraints(at.layout.layoutBox,it);if(rt){const ot=rt(convertBoxToBoundingBox(st));this.hasMutatedConstraints=!!ot,ot&&(st=convertBoundingBoxToBox(ot))}return st}startAnimation(tt){const{drag:rt,dragMomentum:nt,dragElastic:at,dragTransition:it,dragSnapToOrigin:st,onDragTransitionEnd:ot}=this.getProps(),lt=this.constraints||{},ct=eachAxis(ut=>{if(!shouldDrag(ut,rt,this.currentDirection))return;let dt=lt&&lt[ut]||{};st&&(dt={min:0,max:0});const ft=at?200:1e6,ht=at?40:1e7,gt={type:"inertia",velocity:nt?tt[ut]:0,bounceStiffness:ft,bounceDamping:ht,timeConstant:750,restDelta:1,restSpeed:10,...it,...dt};return this.startAxisValueAnimation(ut,gt)});return Promise.all(ct).then(ot)}startAxisValueAnimation(tt,rt){const nt=this.getAxisMotionValue(tt);return nt.start(animateMotionValue(tt,nt,0,rt))}stopAnimation(){eachAxis(tt=>this.getAxisMotionValue(tt).stop())}pauseAnimation(){eachAxis(tt=>{var rt;return(rt=this.getAxisMotionValue(tt).animation)===null||rt===void 0?void 0:rt.pause()})}getAnimationState(tt){var rt;return(rt=this.getAxisMotionValue(tt).animation)===null||rt===void 0?void 0:rt.state}getAxisMotionValue(tt){const rt="_drag"+tt.toUpperCase(),nt=this.visualElement.getProps(),at=nt[rt];return at||this.visualElement.getValue(tt,(nt.initial?nt.initial[tt]:void 0)||0)}snapToCursor(tt){eachAxis(rt=>{const{drag:nt}=this.getProps();if(!shouldDrag(rt,nt,this.currentDirection))return;const{projection:at}=this.visualElement,it=this.getAxisMotionValue(rt);if(at&&at.layout){const{min:st,max:ot}=at.layout.layoutBox[rt];it.set(tt[rt]-mix(st,ot,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:tt,dragConstraints:rt}=this.getProps(),{projection:nt}=this.visualElement;if(!isRefObject(rt)||!nt||!this.constraints)return;this.stopAnimation();const at={x:0,y:0};eachAxis(st=>{const ot=this.getAxisMotionValue(st);if(ot){const lt=ot.get();at[st]=calcOrigin({min:lt,max:lt},this.constraints[st])}});const{transformTemplate:it}=this.visualElement.getProps();this.visualElement.current.style.transform=it?it({},""):"none",nt.root&&nt.root.updateScroll(),nt.updateLayout(),this.resolveConstraints(),eachAxis(st=>{if(!shouldDrag(st,tt,null))return;const ot=this.getAxisMotionValue(st),{min:lt,max:ct}=this.constraints[st];ot.set(mix(lt,ct,at[st]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const tt=this.visualElement.current,rt=addPointerEvent(tt,"pointerdown",lt=>{const{drag:ct,dragListener:ut=!0}=this.getProps();ct&&ut&&this.start(lt)}),nt=()=>{const{dragConstraints:lt}=this.getProps();isRefObject(lt)&&(this.constraints=this.resolveRefConstraints())},{projection:at}=this.visualElement,it=at.addEventListener("measure",nt);at&&!at.layout&&(at.root&&at.root.updateScroll(),at.updateLayout()),nt();const st=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),ot=at.addEventListener("didUpdate",({delta:lt,hasLayoutChanged:ct})=>{this.isDragging&&ct&&(eachAxis(ut=>{const dt=this.getAxisMotionValue(ut);dt&&(this.originPoint[ut]+=lt[ut].translate,dt.set(dt.get()+lt[ut].translate))}),this.visualElement.render())});return()=>{st(),rt(),it(),ot&&ot()}}getProps(){const tt=this.visualElement.getProps(),{drag:rt=!1,dragDirectionLock:nt=!1,dragPropagation:at=!1,dragConstraints:it=!1,dragElastic:st=defaultElastic,dragMomentum:ot=!0}=tt;return{...tt,drag:rt,dragDirectionLock:nt,dragPropagation:at,dragConstraints:it,dragElastic:st,dragMomentum:ot}}}function shouldDrag(et,tt,rt){return(tt===!0||tt===et)&&(rt===null||rt===et)}function getCurrentDirection(et,tt=10){let rt=null;return Math.abs(et.y)>tt?rt="y":Math.abs(et.x)>tt&&(rt="x"),rt}class DragGesture extends Feature{constructor(tt){super(tt),this.removeGroupControls=noop$4,this.removeListeners=noop$4,this.controls=new VisualElementDragControls(tt)}mount(){const{dragControls:tt}=this.node.getProps();tt&&(this.removeGroupControls=tt.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$4}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=et=>(tt,rt)=>{et&&frame.update(()=>et(tt,rt))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$4}onPointerDown(tt){this.session=new PanSession(tt,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:tt,onPanStart:rt,onPan:nt,onPanEnd:at}=this.node.getProps();return{onSessionStart:asyncHandler(tt),onStart:asyncHandler(rt),onMove:nt,onEnd:(it,st)=>{delete this.session,at&&frame.update(()=>at(it,st))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",tt=>this.onPointerDown(tt))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const et=reactExports.useContext(PresenceContext);if(et===null)return[!0,null];const{isPresent:tt,onExitComplete:rt,register:nt}=et,at=reactExports.useId();return reactExports.useEffect(()=>nt(at),[]),!tt&&rt?[!1,()=>rt&&rt(at)]:[!0]}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(et,tt){return tt.max===tt.min?0:et/(tt.max-tt.min)*100}const correctBorderRadius={correct:(et,tt)=>{if(!tt.target)return et;if(typeof et=="string")if(px$1.test(et))et=parseFloat(et);else return et;const rt=pixelsToPercent(et,tt.target.x),nt=pixelsToPercent(et,tt.target.y);return`${rt}% ${nt}%`}},correctBoxShadow={correct:(et,{treeScale:tt,projectionDelta:rt})=>{const nt=et,at=complex.parse(et);if(at.length>5)return nt;const it=complex.createTransformer(et),st=typeof at[0]!="number"?1:0,ot=rt.x.scale*tt.x,lt=rt.y.scale*tt.y;at[0+st]/=ot,at[1+st]/=lt;const ct=mix(ot,lt,.5);return typeof at[2+st]=="number"&&(at[2+st]/=ct),typeof at[3+st]=="number"&&(at[3+st]/=ct),it(at)}};class MeasureLayoutWithContext extends React$1.Component{componentDidMount(){const{visualElement:tt,layoutGroup:rt,switchLayoutGroup:nt,layoutId:at}=this.props,{projection:it}=tt;addScaleCorrector(defaultScaleCorrectors),it&&(rt.group&&rt.group.add(it),nt&&nt.register&&at&&nt.register(it),it.root.didUpdate(),it.addEventListener("animationComplete",()=>{this.safeToRemove()}),it.setOptions({...it.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(tt){const{layoutDependency:rt,visualElement:nt,drag:at,isPresent:it}=this.props,st=nt.projection;return st&&(st.isPresent=it,at||tt.layoutDependency!==rt||rt===void 0?st.willUpdate():this.safeToRemove(),tt.isPresent!==it&&(it?st.promote():st.relegate()||frame.postRender(()=>{const ot=st.getStack();(!ot||!ot.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:tt}=this.props.visualElement;tt&&(tt.root.didUpdate(),queueMicrotask(()=>{!tt.currentAnimation&&tt.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:tt,layoutGroup:rt,switchLayoutGroup:nt}=this.props,{projection:at}=tt;at&&(at.scheduleCheckAfterUnmount(),rt&&rt.group&&rt.group.remove(at),nt&&nt.deregister&&nt.deregister(at))}safeToRemove(){const{safeToRemove:tt}=this.props;tt&&tt()}render(){return null}}function MeasureLayout(et){const[tt,rt]=usePresence(),nt=reactExports.useContext(LayoutGroupContext);return React$1.createElement(MeasureLayoutWithContext,{...et,layoutGroup:nt,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:tt,safeToRemove:rt})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber$1=et=>typeof et=="string"?parseFloat(et):et,isPx=et=>typeof et=="number"||px$1.test(et);function mixValues(et,tt,rt,nt,at,it){at?(et.opacity=mix(0,rt.opacity!==void 0?rt.opacity:1,easeCrossfadeIn(nt)),et.opacityExit=mix(tt.opacity!==void 0?tt.opacity:1,0,easeCrossfadeOut(nt))):it&&(et.opacity=mix(tt.opacity!==void 0?tt.opacity:1,rt.opacity!==void 0?rt.opacity:1,nt));for(let st=0;st<numBorders;st++){const ot=`border${borders[st]}Radius`;let lt=getRadius(tt,ot),ct=getRadius(rt,ot);if(lt===void 0&&ct===void 0)continue;lt||(lt=0),ct||(ct=0),lt===0||ct===0||isPx(lt)===isPx(ct)?(et[ot]=Math.max(mix(asNumber$1(lt),asNumber$1(ct),nt),0),(percent.test(ct)||percent.test(lt))&&(et[ot]+="%")):et[ot]=ct}(tt.rotate||rt.rotate)&&(et.rotate=mix(tt.rotate||0,rt.rotate||0,nt))}function getRadius(et,tt){return et[tt]!==void 0?et[tt]:et.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$4);function compress(et,tt,rt){return nt=>nt<et?0:nt>tt?1:rt(progress(et,tt,nt))}function copyAxisInto(et,tt){et.min=tt.min,et.max=tt.max}function copyBoxInto(et,tt){copyAxisInto(et.x,tt.x),copyAxisInto(et.y,tt.y)}function removePointDelta(et,tt,rt,nt,at){return et-=tt,et=scalePoint(et,1/rt,nt),at!==void 0&&(et=scalePoint(et,1/at,nt)),et}function removeAxisDelta(et,tt=0,rt=1,nt=.5,at,it=et,st=et){if(percent.test(tt)&&(tt=parseFloat(tt),tt=mix(st.min,st.max,tt/100)-st.min),typeof tt!="number")return;let ot=mix(it.min,it.max,nt);et===it&&(ot-=tt),et.min=removePointDelta(et.min,tt,rt,ot,at),et.max=removePointDelta(et.max,tt,rt,ot,at)}function removeAxisTransforms(et,tt,[rt,nt,at],it,st){removeAxisDelta(et,tt[rt],tt[nt],tt[at],tt.scale,it,st)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(et,tt,rt,nt){removeAxisTransforms(et.x,tt,xKeys,rt?rt.x:void 0,nt?nt.x:void 0),removeAxisTransforms(et.y,tt,yKeys,rt?rt.y:void 0,nt?nt.y:void 0)}function isAxisDeltaZero(et){return et.translate===0&&et.scale===1}function isDeltaZero(et){return isAxisDeltaZero(et.x)&&isAxisDeltaZero(et.y)}function boxEquals(et,tt){return et.x.min===tt.x.min&&et.x.max===tt.x.max&&et.y.min===tt.y.min&&et.y.max===tt.y.max}function boxEqualsRounded(et,tt){return Math.round(et.x.min)===Math.round(tt.x.min)&&Math.round(et.x.max)===Math.round(tt.x.max)&&Math.round(et.y.min)===Math.round(tt.y.min)&&Math.round(et.y.max)===Math.round(tt.y.max)}function aspectRatio(et){return calcLength(et.x)/calcLength(et.y)}class NodeStack{constructor(){this.members=[]}add(tt){addUniqueItem(this.members,tt),tt.scheduleRender()}remove(tt){if(removeItem(this.members,tt),tt===this.prevLead&&(this.prevLead=void 0),tt===this.lead){const rt=this.members[this.members.length-1];rt&&this.promote(rt)}}relegate(tt){const rt=this.members.findIndex(at=>tt===at);if(rt===0)return!1;let nt;for(let at=rt;at>=0;at--){const it=this.members[at];if(it.isPresent!==!1){nt=it;break}}return nt?(this.promote(nt),!0):!1}promote(tt,rt){const nt=this.lead;if(tt!==nt&&(this.prevLead=nt,this.lead=tt,tt.show(),nt)){nt.instance&&nt.scheduleRender(),tt.scheduleRender(),tt.resumeFrom=nt,rt&&(tt.resumeFrom.preserveOpacity=!0),nt.snapshot&&(tt.snapshot=nt.snapshot,tt.snapshot.latestValues=nt.animationValues||nt.latestValues),tt.root&&tt.root.isUpdating&&(tt.isLayoutDirty=!0);const{crossfade:at}=tt.options;at===!1&&nt.hide()}}exitAnimationComplete(){this.members.forEach(tt=>{const{options:rt,resumingFrom:nt}=tt;rt.onExitComplete&&rt.onExitComplete(),nt&&nt.options.onExitComplete&&nt.options.onExitComplete()})}scheduleRender(){this.members.forEach(tt=>{tt.instance&&tt.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(et,tt,rt){let nt="";const at=et.x.translate/tt.x,it=et.y.translate/tt.y;if((at||it)&&(nt=`translate3d(${at}px, ${it}px, 0) `),(tt.x!==1||tt.y!==1)&&(nt+=`scale(${1/tt.x}, ${1/tt.y}) `),rt){const{rotate:lt,rotateX:ct,rotateY:ut}=rt;lt&&(nt+=`rotate(${lt}deg) `),ct&&(nt+=`rotateX(${ct}deg) `),ut&&(nt+=`rotateY(${ut}deg) `)}const st=et.x.scale*tt.x,ot=et.y.scale*tt.y;return(st!==1||ot!==1)&&(nt+=`scale(${st}, ${ot})`),nt||"none"}const compareByDepth=(et,tt)=>et.depth-tt.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(tt){addUniqueItem(this.children,tt),this.isDirty=!0}remove(tt){removeItem(this.children,tt),this.isDirty=!0}forEach(tt){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(tt)}}function delay(et,tt){const rt=performance.now(),nt=({timestamp:at})=>{const it=at-rt;it>=tt&&(cancelFrame(nt),et(it-tt))};return frame.read(nt,!0),()=>cancelFrame(nt)}function record(et){window.MotionDebug&&window.MotionDebug.record(et)}function isSVGElement(et){return et instanceof SVGElement&&et.tagName!=="svg"}function animateSingleValue(et,tt,rt){const nt=isMotionValue(et)?et:motionValue(et);return nt.start(animateMotionValue("",nt,tt,rt)),nt.animation}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id$1=0;const projectionFrameData={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function createProjectionNode({attachResizeListener:et,defaultParent:tt,measureScroll:rt,checkIsScrollRoot:nt,resetTransform:at}){return class{constructor(st={},ot=tt==null?void 0:tt()){this.id=id$1++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,projectionFrameData.totalNodes=projectionFrameData.resolvedTargetDeltas=projectionFrameData.recalculatedProjection=0,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),record(projectionFrameData)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=st,this.root=ot?ot.root||ot:this,this.path=ot?[...ot.path,ot]:[],this.parent=ot,this.depth=ot?ot.depth+1:0;for(let lt=0;lt<this.path.length;lt++)this.path[lt].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(st,ot){return this.eventHandlers.has(st)||this.eventHandlers.set(st,new SubscriptionManager),this.eventHandlers.get(st).add(ot)}notifyListeners(st,...ot){const lt=this.eventHandlers.get(st);lt&&lt.notify(...ot)}hasListeners(st){return this.eventHandlers.has(st)}mount(st,ot=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(st),this.instance=st;const{layoutId:lt,layout:ct,visualElement:ut}=this.options;if(ut&&!ut.current&&ut.mount(st),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),ot&&(ct||lt)&&(this.isLayoutDirty=!0),et){let dt;const ft=()=>this.root.updateBlockedByResize=!1;et(st,()=>{this.root.updateBlockedByResize=!0,dt&&dt(),dt=delay(ft,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}lt&&this.root.registerSharedNode(lt,this),this.options.animate!==!1&&ut&&(lt||ct)&&this.addEventListener("didUpdate",({delta:dt,hasLayoutChanged:ft,hasRelativeTargetChanged:ht,layout:gt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const mt=this.options.transition||ut.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:xt,onLayoutAnimationComplete:vt}=ut.getProps(),_t=!this.targetLayout||!boxEqualsRounded(this.targetLayout,gt)||ht,yt=!ft&&ht;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||yt||ft&&(_t||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(dt,yt);const St={...getValueTransition(mt,"layout"),onPlay:xt,onComplete:vt};(ut.shouldReduceMotion||this.options.layoutRoot)&&(St.delay=0,St.type=!1),this.startAnimation(St)}else ft||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=gt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const st=this.getStack();st&&st.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetRotation),this.animationId++)}getTransformTemplate(){const{visualElement:st}=this.options;return st&&st.getProps().transformTemplate}willUpdate(st=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let ut=0;ut<this.path.length;ut++){const dt=this.path[ut];dt.shouldResetTransform=!0,dt.updateScroll("snapshot"),dt.options.layoutRoot&&dt.willUpdate(!1)}const{layoutId:ot,layout:lt}=this.options;if(ot===void 0&&!lt)return;const ct=this.getTransformTemplate();this.prevTransformTemplateValue=ct?ct(this.latestValues,""):void 0,this.updateSnapshot(),st&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const ot=performance.now();frameData.delta=clamp$2(0,1e3/60,ot-frameData.timestamp),frameData.timestamp=ot,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let lt=0;lt<this.path.length;lt++)this.path[lt].updateScroll();const st=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:ot}=this.options;ot&&ot.notify("LayoutMeasure",this.layout.layoutBox,st?st.layoutBox:void 0)}updateScroll(st="measure"){let ot=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===st&&(ot=!1),ot&&(this.scroll={animationId:this.root.animationId,phase:st,isRoot:nt(this.instance),offset:rt(this.instance)})}resetTransform(){if(!at)return;const st=this.isLayoutDirty||this.shouldResetTransform,ot=this.projectionDelta&&!isDeltaZero(this.projectionDelta),lt=this.getTransformTemplate(),ct=lt?lt(this.latestValues,""):void 0,ut=ct!==this.prevTransformTemplateValue;st&&(ot||hasTransform(this.latestValues)||ut)&&(at(this.instance,ct),this.shouldResetTransform=!1,this.scheduleRender())}measure(st=!0){const ot=this.measurePageBox();let lt=this.removeElementScroll(ot);return st&&(lt=this.removeTransform(lt)),roundBox(lt),{animationId:this.root.animationId,measuredBox:ot,layoutBox:lt,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:st}=this.options;if(!st)return createBox();const ot=st.measureViewportBox(),{scroll:lt}=this.root;return lt&&(translateAxis(ot.x,lt.offset.x),translateAxis(ot.y,lt.offset.y)),ot}removeElementScroll(st){const ot=createBox();copyBoxInto(ot,st);for(let lt=0;lt<this.path.length;lt++){const ct=this.path[lt],{scroll:ut,options:dt}=ct;if(ct!==this.root&&ut&&dt.layoutScroll){if(ut.isRoot){copyBoxInto(ot,st);const{scroll:ft}=this.root;ft&&(translateAxis(ot.x,-ft.offset.x),translateAxis(ot.y,-ft.offset.y))}translateAxis(ot.x,ut.offset.x),translateAxis(ot.y,ut.offset.y)}}return ot}applyTransform(st,ot=!1){const lt=createBox();copyBoxInto(lt,st);for(let ct=0;ct<this.path.length;ct++){const ut=this.path[ct];!ot&&ut.options.layoutScroll&&ut.scroll&&ut!==ut.root&&transformBox(lt,{x:-ut.scroll.offset.x,y:-ut.scroll.offset.y}),hasTransform(ut.latestValues)&&transformBox(lt,ut.latestValues)}return hasTransform(this.latestValues)&&transformBox(lt,this.latestValues),lt}removeTransform(st){const ot=createBox();copyBoxInto(ot,st);for(let lt=0;lt<this.path.length;lt++){const ct=this.path[lt];if(!ct.instance||!hasTransform(ct.latestValues))continue;hasScale(ct.latestValues)&&ct.updateSnapshot();const ut=createBox(),dt=ct.measurePageBox();copyBoxInto(ut,dt),removeBoxTransforms(ot,ct.latestValues,ct.snapshot?ct.snapshot.layoutBox:void 0,ut)}return hasTransform(this.latestValues)&&removeBoxTransforms(ot,this.latestValues),ot}setTargetDelta(st){this.targetDelta=st,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(st){this.options={...this.options,...st,crossfade:st.crossfade!==void 0?st.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(st=!1){var ot;const lt=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=lt.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=lt.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=lt.isSharedProjectionDirty);const ct=!!this.resumingFrom||this!==lt;if(!(st||ct&&this.isSharedProjectionDirty||this.isProjectionDirty||!((ot=this.parent)===null||ot===void 0)&&ot.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:dt,layoutId:ft}=this.options;if(!(!this.layout||!(dt||ft))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const ht=this.getClosestProjectingParent();ht&&ht.layout&&this.animationProgress!==1?(this.relativeParent=ht,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,ht.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const ht=this.getClosestProjectingParent();ht&&!!ht.resumingFrom==!!this.resumingFrom&&!ht.options.layoutScroll&&ht.target&&this.animationProgress!==1?(this.relativeParent=ht,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,ht.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}projectionFrameData.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var st;const ot=this.getLead(),lt=!!this.resumingFrom||this!==ot;let ct=!0;if((this.isProjectionDirty||!((st=this.parent)===null||st===void 0)&&st.isProjectionDirty)&&(ct=!1),lt&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(ct=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(ct=!1),ct)return;const{layout:ut,layoutId:dt}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(ut||dt))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const ft=this.treeScale.x,ht=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,lt),ot.layout&&!ot.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(ot.target=ot.layout.layoutBox);const{target:gt}=ot;if(!gt){this.projectionTransform&&(this.projectionDelta=createDelta(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const mt=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,gt,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==mt||this.treeScale.x!==ft||this.treeScale.y!==ht)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",gt)),projectionFrameData.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(st=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),st){const ot=this.getStack();ot&&ot.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(st,ot=!1){const lt=this.snapshot,ct=lt?lt.latestValues:{},ut={...this.latestValues},dt=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!ot;const ft=createBox(),ht=lt?lt.source:void 0,gt=this.layout?this.layout.source:void 0,mt=ht!==gt,xt=this.getStack(),vt=!xt||xt.members.length<=1,_t=!!(mt&&!vt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let yt;this.mixTargetDelta=St=>{const bt=St/1e3;mixAxisDelta(dt.x,st.x,bt),mixAxisDelta(dt.y,st.y,bt),this.setTargetDelta(dt),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(ft,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,ft,bt),yt&&boxEquals(this.relativeTarget,yt)&&(this.isProjectionDirty=!1),yt||(yt=createBox()),copyBoxInto(yt,this.relativeTarget)),mt&&(this.animationValues=ut,mixValues(ut,ct,this.latestValues,bt,_t,vt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=bt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(st){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...st,onUpdate:ot=>{this.mixTargetDelta(ot),st.onUpdate&&st.onUpdate(ot)},onComplete:()=>{st.onComplete&&st.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const st=this.getStack();st&&st.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const st=this.getLead();let{targetWithTransforms:ot,target:lt,layout:ct,latestValues:ut}=st;if(!(!ot||!lt||!ct)){if(this!==st&&this.layout&&ct&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,ct.layoutBox)){lt=this.target||createBox();const dt=calcLength(this.layout.layoutBox.x);lt.x.min=st.target.x.min,lt.x.max=lt.x.min+dt;const ft=calcLength(this.layout.layoutBox.y);lt.y.min=st.target.y.min,lt.y.max=lt.y.min+ft}copyBoxInto(ot,lt),transformBox(ot,ut),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,ot,ut)}}registerSharedNode(st,ot){this.sharedNodes.has(st)||this.sharedNodes.set(st,new NodeStack),this.sharedNodes.get(st).add(ot);const ct=ot.options.initialPromotionConfig;ot.promote({transition:ct?ct.transition:void 0,preserveFollowOpacity:ct&&ct.shouldPreserveFollowOpacity?ct.shouldPreserveFollowOpacity(ot):void 0})}isLead(){const st=this.getStack();return st?st.lead===this:!0}getLead(){var st;const{layoutId:ot}=this.options;return ot?((st=this.getStack())===null||st===void 0?void 0:st.lead)||this:this}getPrevLead(){var st;const{layoutId:ot}=this.options;return ot?(st=this.getStack())===null||st===void 0?void 0:st.prevLead:void 0}getStack(){const{layoutId:st}=this.options;if(st)return this.root.sharedNodes.get(st)}promote({needsReset:st,transition:ot,preserveFollowOpacity:lt}={}){const ct=this.getStack();ct&&ct.promote(this,lt),st&&(this.projectionDelta=void 0,this.needsReset=!0),ot&&this.setOptions({transition:ot})}relegate(){const st=this.getStack();return st?st.relegate(this):!1}resetRotation(){const{visualElement:st}=this.options;if(!st)return;let ot=!1;const{latestValues:lt}=st;if((lt.rotate||lt.rotateX||lt.rotateY||lt.rotateZ)&&(ot=!0),!ot)return;const ct={};for(let ut=0;ut<transformAxes.length;ut++){const dt="rotate"+transformAxes[ut];lt[dt]&&(ct[dt]=lt[dt],st.setStaticValue(dt,0))}st.render();for(const ut in ct)st.setStaticValue(ut,ct[ut]);st.scheduleRender()}getProjectionStyles(st){var ot,lt;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const ct={visibility:""},ut=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,ct.opacity="",ct.pointerEvents=resolveMotionValue(st==null?void 0:st.pointerEvents)||"",ct.transform=ut?ut(this.latestValues,""):"none",ct;const dt=this.getLead();if(!this.projectionDelta||!this.layout||!dt.target){const mt={};return this.options.layoutId&&(mt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,mt.pointerEvents=resolveMotionValue(st==null?void 0:st.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(mt.transform=ut?ut({},""):"none",this.hasProjected=!1),mt}const ft=dt.animationValues||dt.latestValues;this.applyTransformsToTarget(),ct.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,ft),ut&&(ct.transform=ut(ft,ct.transform));const{x:ht,y:gt}=this.projectionDelta;ct.transformOrigin=`${ht.origin*100}% ${gt.origin*100}% 0`,dt.animationValues?ct.opacity=dt===this?(lt=(ot=ft.opacity)!==null&&ot!==void 0?ot:this.latestValues.opacity)!==null&&lt!==void 0?lt:1:this.preserveOpacity?this.latestValues.opacity:ft.opacityExit:ct.opacity=dt===this?ft.opacity!==void 0?ft.opacity:"":ft.opacityExit!==void 0?ft.opacityExit:0;for(const mt in scaleCorrectors){if(ft[mt]===void 0)continue;const{correct:xt,applyTo:vt}=scaleCorrectors[mt],_t=ct.transform==="none"?ft[mt]:xt(ft[mt],dt);if(vt){const yt=vt.length;for(let St=0;St<yt;St++)ct[vt[St]]=_t}else ct[mt]=_t}return this.options.layoutId&&(ct.pointerEvents=dt===this?resolveMotionValue(st==null?void 0:st.pointerEvents)||"":"none"),ct}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(st=>{var ot;return(ot=st.currentAnimation)===null||ot===void 0?void 0:ot.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(et){et.updateLayout()}function notifyLayoutUpdate(et){var tt;const rt=((tt=et.resumeFrom)===null||tt===void 0?void 0:tt.snapshot)||et.snapshot;if(et.isLead()&&et.layout&&rt&&et.hasListeners("didUpdate")){const{layoutBox:nt,measuredBox:at}=et.layout,{animationType:it}=et.options,st=rt.source!==et.layout.source;it==="size"?eachAxis(dt=>{const ft=st?rt.measuredBox[dt]:rt.layoutBox[dt],ht=calcLength(ft);ft.min=nt[dt].min,ft.max=ft.min+ht}):shouldAnimatePositionOnly(it,rt.layoutBox,nt)&&eachAxis(dt=>{const ft=st?rt.measuredBox[dt]:rt.layoutBox[dt],ht=calcLength(nt[dt]);ft.max=ft.min+ht,et.relativeTarget&&!et.currentAnimation&&(et.isProjectionDirty=!0,et.relativeTarget[dt].max=et.relativeTarget[dt].min+ht)});const ot=createDelta();calcBoxDelta(ot,nt,rt.layoutBox);const lt=createDelta();st?calcBoxDelta(lt,et.applyTransform(at,!0),rt.measuredBox):calcBoxDelta(lt,nt,rt.layoutBox);const ct=!isDeltaZero(ot);let ut=!1;if(!et.resumeFrom){const dt=et.getClosestProjectingParent();if(dt&&!dt.resumeFrom){const{snapshot:ft,layout:ht}=dt;if(ft&&ht){const gt=createBox();calcRelativePosition(gt,rt.layoutBox,ft.layoutBox);const mt=createBox();calcRelativePosition(mt,nt,ht.layoutBox),boxEqualsRounded(gt,mt)||(ut=!0),dt.options.layoutRoot&&(et.relativeTarget=mt,et.relativeTargetOrigin=gt,et.relativeParent=dt)}}}et.notifyListeners("didUpdate",{layout:nt,snapshot:rt,delta:lt,layoutDelta:ot,hasLayoutChanged:ct,hasRelativeTargetChanged:ut})}else if(et.isLead()){const{onExitComplete:nt}=et.options;nt&&nt()}et.options.transition=void 0}function propagateDirtyNodes(et){projectionFrameData.totalNodes++,et.parent&&(et.isProjecting()||(et.isProjectionDirty=et.parent.isProjectionDirty),et.isSharedProjectionDirty||(et.isSharedProjectionDirty=!!(et.isProjectionDirty||et.parent.isProjectionDirty||et.parent.isSharedProjectionDirty)),et.isTransformDirty||(et.isTransformDirty=et.parent.isTransformDirty))}function cleanDirtyNodes(et){et.isProjectionDirty=et.isSharedProjectionDirty=et.isTransformDirty=!1}function clearSnapshot(et){et.clearSnapshot()}function clearMeasurements(et){et.clearMeasurements()}function clearIsLayoutDirty(et){et.isLayoutDirty=!1}function resetTransformStyle(et){const{visualElement:tt}=et.options;tt&&tt.getProps().onBeforeLayoutMeasure&&tt.notify("BeforeLayoutMeasure"),et.resetTransform()}function finishAnimation(et){et.finishAnimation(),et.targetDelta=et.relativeTarget=et.target=void 0,et.isProjectionDirty=!0}function resolveTargetDelta(et){et.resolveTargetDelta()}function calcProjection(et){et.calcProjection()}function resetRotation(et){et.resetRotation()}function removeLeadSnapshots(et){et.removeLeadSnapshot()}function mixAxisDelta(et,tt,rt){et.translate=mix(tt.translate,0,rt),et.scale=mix(tt.scale,1,rt),et.origin=tt.origin,et.originPoint=tt.originPoint}function mixAxis(et,tt,rt,nt){et.min=mix(tt.min,rt.min,nt),et.max=mix(tt.max,rt.max,nt)}function mixBox(et,tt,rt,nt){mixAxis(et.x,tt.x,rt.x,nt),mixAxis(et.y,tt.y,rt.y,nt)}function hasOpacityCrossfade(et){return et.animationValues&&et.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=et=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(et),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$4;function roundAxis(et){et.min=roundPoint(et.min),et.max=roundPoint(et.max)}function roundBox(et){roundAxis(et.x),roundAxis(et.y)}function shouldAnimatePositionOnly(et,tt,rt){return et==="position"||et==="preserve-aspect"&&!isNear(aspectRatio(tt),aspectRatio(rt),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(et,tt)=>addDomEvent(et,"resize",tt),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:et=>({x:et.scrollLeft,y:et.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const et=new DocumentProjectionNode({});et.mount(window),et.setOptions({layoutScroll:!0}),rootProjectionNode.current=et}return rootProjectionNode.current},resetTransform:(et,tt)=>{et.style.transform=tt!==void 0?tt:"none"},checkIsScrollRoot:et=>window.getComputedStyle(et).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},splitCSSVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function parseCSSVariable(et){const tt=splitCSSVariableRegex.exec(et);if(!tt)return[,];const[,rt,nt]=tt;return[rt,nt]}function getVariableValue(et,tt,rt=1){const[nt,at]=parseCSSVariable(et);if(!nt)return;const it=window.getComputedStyle(tt).getPropertyValue(nt);if(it){const st=it.trim();return isNumericalString(st)?parseFloat(st):st}else return isCSSVariableToken(at)?getVariableValue(at,tt,rt+1):at}function resolveCSSVariables(et,{...tt},rt){const nt=et.current;if(!(nt instanceof Element))return{target:tt,transitionEnd:rt};rt&&(rt={...rt}),et.values.forEach(at=>{const it=at.get();if(!isCSSVariableToken(it))return;const st=getVariableValue(it,nt);st&&at.set(st)});for(const at in tt){const it=tt[at];if(!isCSSVariableToken(it))continue;const st=getVariableValue(it,nt);st&&(tt[at]=st,rt||(rt={}),rt[at]===void 0&&(rt[at]=it))}return{target:tt,transitionEnd:rt}}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isPositionalKey=et=>positionalKeys.has(et),hasPositionalKey=et=>Object.keys(et).some(isPositionalKey),isNumOrPxType=et=>et===number$3||et===px$1,getPosFromMatrix=(et,tt)=>parseFloat(et.split(", ")[tt]),getTranslateFromMatrix=(et,tt)=>(rt,{transform:nt})=>{if(nt==="none"||!nt)return 0;const at=nt.match(/^matrix3d\((.+)\)$/);if(at)return getPosFromMatrix(at[1],tt);{const it=nt.match(/^matrix\((.+)\)$/);return it?getPosFromMatrix(it[1],et):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(et=>!transformKeys.has(et));function removeNonTranslationalTransform(et){const tt=[];return nonTranslationalTransformKeys.forEach(rt=>{const nt=et.getValue(rt);nt!==void 0&&(tt.push([rt,nt.get()]),nt.set(rt.startsWith("scale")?1:0))}),tt.length&&et.render(),tt}const positionalValues={width:({x:et},{paddingLeft:tt="0",paddingRight:rt="0"})=>et.max-et.min-parseFloat(tt)-parseFloat(rt),height:({y:et},{paddingTop:tt="0",paddingBottom:rt="0"})=>et.max-et.min-parseFloat(tt)-parseFloat(rt),top:(et,{top:tt})=>parseFloat(tt),left:(et,{left:tt})=>parseFloat(tt),bottom:({y:et},{top:tt})=>parseFloat(tt)+(et.max-et.min),right:({x:et},{left:tt})=>parseFloat(tt)+(et.max-et.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const convertChangedValueTypes=(et,tt,rt)=>{const nt=tt.measureViewportBox(),at=tt.current,it=getComputedStyle(at),{display:st}=it,ot={};st==="none"&&tt.setStaticValue("display",et.display||"block"),rt.forEach(ct=>{ot[ct]=positionalValues[ct](nt,it)}),tt.render();const lt=tt.measureViewportBox();return rt.forEach(ct=>{const ut=tt.getValue(ct);ut&&ut.jump(ot[ct]),et[ct]=positionalValues[ct](lt,it)}),et},checkAndConvertChangedValueTypes=(et,tt,rt={},nt={})=>{tt={...tt},nt={...nt};const at=Object.keys(tt).filter(isPositionalKey);let it=[],st=!1;const ot=[];if(at.forEach(lt=>{const ct=et.getValue(lt);if(!et.hasValue(lt))return;let ut=rt[lt],dt=findDimensionValueType(ut);const ft=tt[lt];let ht;if(isKeyframesTarget(ft)){const gt=ft.length,mt=ft[0]===null?1:0;ut=ft[mt],dt=findDimensionValueType(ut);for(let xt=mt;xt<gt&&ft[xt]!==null;xt++)ht?invariant$1(findDimensionValueType(ft[xt])===ht):ht=findDimensionValueType(ft[xt])}else ht=findDimensionValueType(ft);if(dt!==ht)if(isNumOrPxType(dt)&&isNumOrPxType(ht)){const gt=ct.get();typeof gt=="string"&&ct.set(parseFloat(gt)),typeof ft=="string"?tt[lt]=parseFloat(ft):Array.isArray(ft)&&ht===px$1&&(tt[lt]=ft.map(parseFloat))}else dt!=null&&dt.transform&&(ht!=null&&ht.transform)&&(ut===0||ft===0)?ut===0?ct.set(ht.transform(ut)):tt[lt]=dt.transform(ft):(st||(it=removeNonTranslationalTransform(et),st=!0),ot.push(lt),nt[lt]=nt[lt]!==void 0?nt[lt]:tt[lt],ct.jump(ft))}),ot.length){const lt=ot.indexOf("height")>=0?window.pageYOffset:null,ct=convertChangedValueTypes(tt,et,ot);return it.length&&it.forEach(([ut,dt])=>{et.getValue(ut).set(dt)}),et.render(),isBrowser$1&&lt!==null&&window.scrollTo({top:lt}),{target:ct,transitionEnd:nt}}else return{target:tt,transitionEnd:nt}};function unitConversion(et,tt,rt,nt){return hasPositionalKey(tt)?checkAndConvertChangedValueTypes(et,tt,rt,nt):{target:tt,transitionEnd:nt}}const parseDomVariant=(et,tt,rt,nt)=>{const at=resolveCSSVariables(et,tt,nt);return tt=at.target,nt=at.transitionEnd,unitConversion(et,tt,rt,nt)},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const et=window.matchMedia("(prefers-reduced-motion)"),tt=()=>prefersReducedMotion.current=et.matches;et.addListener(tt),tt()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(et,tt,rt){const{willChange:nt}=tt;for(const at in tt){const it=tt[at],st=rt[at];if(isMotionValue(it))et.addValue(at,it),isWillChangeMotionValue(nt)&&nt.add(at);else if(isMotionValue(st))et.addValue(at,motionValue(it,{owner:et})),isWillChangeMotionValue(nt)&&nt.remove(at);else if(st!==it)if(et.hasValue(at)){const ot=et.getValue(at);!ot.hasAnimated&&ot.set(it)}else{const ot=et.getStaticValue(at);et.addValue(at,motionValue(ot!==void 0?ot:it,{owner:et}))}}for(const at in rt)tt[at]===void 0&&et.removeValue(at);return tt}const visualElementStore=new WeakMap,featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length,propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;class VisualElement{constructor({parent:tt,props:rt,presenceContext:nt,reducedMotionConfig:at,visualState:it},st={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>frame.render(this.render,!1,!0);const{latestValues:ot,renderState:lt}=it;this.latestValues=ot,this.baseTarget={...ot},this.initialValues=rt.initial?{...ot}:{},this.renderState=lt,this.parent=tt,this.props=rt,this.presenceContext=nt,this.depth=tt?tt.depth+1:0,this.reducedMotionConfig=at,this.options=st,this.isControllingVariants=isControllingVariants(rt),this.isVariantNode=isVariantNode(rt),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(tt&&tt.current);const{willChange:ct,...ut}=this.scrapeMotionValuesFromProps(rt,{});for(const dt in ut){const ft=ut[dt];ot[dt]!==void 0&&isMotionValue(ft)&&(ft.set(ot[dt],!1),isWillChangeMotionValue(ct)&&ct.add(dt))}}scrapeMotionValuesFromProps(tt,rt){return{}}mount(tt){this.current=tt,visualElementStore.set(tt,this),this.projection&&!this.projection.instance&&this.projection.mount(tt),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((rt,nt)=>this.bindToMotionValue(nt,rt)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(tt=>tt()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const tt in this.events)this.events[tt].clear();for(const tt in this.features)this.features[tt].unmount();this.current=null}bindToMotionValue(tt,rt){const nt=transformProps.has(tt),at=rt.on("change",st=>{this.latestValues[tt]=st,this.props.onUpdate&&frame.update(this.notifyUpdate,!1,!0),nt&&this.projection&&(this.projection.isTransformDirty=!0)}),it=rt.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(tt,()=>{at(),it()})}sortNodePosition(tt){return!this.current||!this.sortInstanceNodePosition||this.type!==tt.type?0:this.sortInstanceNodePosition(this.current,tt.current)}loadFeatures({children:tt,...rt},nt,at,it){let st,ot;for(let lt=0;lt<numFeatures;lt++){const ct=featureNames[lt],{isEnabled:ut,Feature:dt,ProjectionNode:ft,MeasureLayout:ht}=featureDefinitions[ct];ft&&(st=ft),ut(rt)&&(!this.features[ct]&&dt&&(this.features[ct]=new dt(this)),ht&&(ot=ht))}if((this.type==="html"||this.type==="svg")&&!this.projection&&st){this.projection=new st(this.latestValues,this.parent&&this.parent.projection);const{layoutId:lt,layout:ct,drag:ut,dragConstraints:dt,layoutScroll:ft,layoutRoot:ht}=rt;this.projection.setOptions({layoutId:lt,layout:ct,alwaysMeasureLayout:!!ut||dt&&isRefObject(dt),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof ct=="string"?ct:"both",initialPromotionConfig:it,layoutScroll:ft,layoutRoot:ht})}return ot}updateFeatures(){for(const tt in this.features){const rt=this.features[tt];rt.isMounted?rt.update():(rt.mount(),rt.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(tt){return this.latestValues[tt]}setStaticValue(tt,rt){this.latestValues[tt]=rt}makeTargetAnimatable(tt,rt=!0){return this.makeTargetAnimatableFromInstance(tt,this.props,rt)}update(tt,rt){(tt.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=tt,this.prevPresenceContext=this.presenceContext,this.presenceContext=rt;for(let nt=0;nt<propEventHandlers.length;nt++){const at=propEventHandlers[nt];this.propEventSubscriptions[at]&&(this.propEventSubscriptions[at](),delete this.propEventSubscriptions[at]);const it=tt["on"+at];it&&(this.propEventSubscriptions[at]=this.on(at,it))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(tt,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(tt){return this.props.variants?this.props.variants[tt]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(tt=!1){if(tt)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const nt=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(nt.initial=this.props.initial),nt}const rt={};for(let nt=0;nt<numVariantProps;nt++){const at=variantProps[nt],it=this.props[at];(isVariantLabel(it)||it===!1)&&(rt[at]=it)}return rt}addVariantChild(tt){const rt=this.getClosestVariantNode();if(rt)return rt.variantChildren&&rt.variantChildren.add(tt),()=>rt.variantChildren.delete(tt)}addValue(tt,rt){rt!==this.values.get(tt)&&(this.removeValue(tt),this.bindToMotionValue(tt,rt)),this.values.set(tt,rt),this.latestValues[tt]=rt.get()}removeValue(tt){this.values.delete(tt);const rt=this.valueSubscriptions.get(tt);rt&&(rt(),this.valueSubscriptions.delete(tt)),delete this.latestValues[tt],this.removeValueFromRenderState(tt,this.renderState)}hasValue(tt){return this.values.has(tt)}getValue(tt,rt){if(this.props.values&&this.props.values[tt])return this.props.values[tt];let nt=this.values.get(tt);return nt===void 0&&rt!==void 0&&(nt=motionValue(rt,{owner:this}),this.addValue(tt,nt)),nt}readValue(tt){var rt;return this.latestValues[tt]!==void 0||!this.current?this.latestValues[tt]:(rt=this.getBaseTargetFromProps(this.props,tt))!==null&&rt!==void 0?rt:this.readValueFromInstance(this.current,tt,this.options)}setBaseTarget(tt,rt){this.baseTarget[tt]=rt}getBaseTarget(tt){var rt;const{initial:nt}=this.props,at=typeof nt=="string"||typeof nt=="object"?(rt=resolveVariantFromProps(this.props,nt))===null||rt===void 0?void 0:rt[tt]:void 0;if(nt&&at!==void 0)return at;const it=this.getBaseTargetFromProps(this.props,tt);return it!==void 0&&!isMotionValue(it)?it:this.initialValues[tt]!==void 0&&at===void 0?void 0:this.baseTarget[tt]}on(tt,rt){return this.events[tt]||(this.events[tt]=new SubscriptionManager),this.events[tt].add(rt)}notify(tt,...rt){this.events[tt]&&this.events[tt].notify(...rt)}}class DOMVisualElement extends VisualElement{sortInstanceNodePosition(tt,rt){return tt.compareDocumentPosition(rt)&2?1:-1}getBaseTargetFromProps(tt,rt){return tt.style?tt.style[rt]:void 0}removeValueFromRenderState(tt,{vars:rt,style:nt}){delete rt[tt],delete nt[tt]}makeTargetAnimatableFromInstance({transition:tt,transitionEnd:rt,...nt},{transformValues:at},it){let st=getOrigin(nt,tt||{},this);if(at&&(rt&&(rt=at(rt)),nt&&(nt=at(nt)),st&&(st=at(st))),it){checkTargetForNewValues(this,nt,st);const ot=parseDomVariant(this,nt,st,rt);rt=ot.transitionEnd,nt=ot.target}return{transition:tt,transitionEnd:rt,...nt}}}function getComputedStyle$2(et){return window.getComputedStyle(et)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html"}readValueFromInstance(tt,rt){if(transformProps.has(rt)){const nt=getDefaultValueType(rt);return nt&&nt.default||0}else{const nt=getComputedStyle$2(tt),at=(isCSSVariableName(rt)?nt.getPropertyValue(rt):nt[rt])||0;return typeof at=="string"?at.trim():at}}measureInstanceViewportBox(tt,{transformPagePoint:rt}){return measureViewportBox(tt,rt)}build(tt,rt,nt,at){buildHTMLStyles(tt,rt,nt,at.transformTemplate)}scrapeMotionValuesFromProps(tt,rt){return scrapeMotionValuesFromProps$1(tt,rt)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:tt}=this.props;isMotionValue(tt)&&(this.childSubscription=tt.on("change",rt=>{this.current&&(this.current.textContent=`${rt}`)}))}renderInstance(tt,rt,nt,at){renderHTML(tt,rt,nt,at)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(tt,rt){return tt[rt]}readValueFromInstance(tt,rt){if(transformProps.has(rt)){const nt=getDefaultValueType(rt);return nt&&nt.default||0}return rt=camelCaseAttributes.has(rt)?rt:camelToDash(rt),tt.getAttribute(rt)}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps(tt,rt){return scrapeMotionValuesFromProps(tt,rt)}build(tt,rt,nt,at){buildSVGAttrs(tt,rt,nt,this.isSVGTag,at.transformTemplate)}renderInstance(tt,rt,nt,at){renderSVG(tt,rt,nt,at)}mount(tt){this.isSVGTag=isSVGTag(tt.tagName),super.mount(tt)}}const createDomVisualElement=(et,tt)=>isSVGComponent(et)?new SVGVisualElement(tt,{enableHardwareAcceleration:!1}):new HTMLVisualElement(tt,{enableHardwareAcceleration:!0}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy((et,tt)=>createDomMotionConfig(et,tt,preloadedFeatures,createDomVisualElement));function useIsMounted(){const et=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>(et.current=!0,()=>{et.current=!1}),[]),et}function useForceUpdate(){const et=useIsMounted(),[tt,rt]=reactExports.useState(0),nt=reactExports.useCallback(()=>{et.current&&rt(tt+1)},[tt]);return[reactExports.useCallback(()=>frame.postRender(nt),[nt]),tt]}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(tt){const rt=this.props.childRef.current;if(rt&&tt.isPresent&&!this.props.isPresent){const nt=this.props.sizeRef.current;nt.height=rt.offsetHeight||0,nt.width=rt.offsetWidth||0,nt.top=rt.offsetTop,nt.left=rt.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:et,isPresent:tt}){const rt=reactExports.useId(),nt=reactExports.useRef(null),at=reactExports.useRef({width:0,height:0,top:0,left:0});return reactExports.useInsertionEffect(()=>{const{width:it,height:st,top:ot,left:lt}=at.current;if(tt||!nt.current||!it||!st)return;nt.current.dataset.motionPopId=rt;const ct=document.createElement("style");return document.head.appendChild(ct),ct.sheet&&ct.sheet.insertRule(`
          [data-motion-pop-id="${rt}"] {
            position: absolute !important;
            width: ${it}px !important;
            height: ${st}px !important;
            top: ${ot}px !important;
            left: ${lt}px !important;
          }
        `),()=>{document.head.removeChild(ct)}},[tt]),reactExports.createElement(PopChildMeasure,{isPresent:tt,childRef:nt,sizeRef:at},reactExports.cloneElement(et,{ref:nt}))}const PresenceChild=({children:et,initial:tt,isPresent:rt,onExitComplete:nt,custom:at,presenceAffectsLayout:it,mode:st})=>{const ot=useConstant(newChildrenMap),lt=reactExports.useId(),ct=reactExports.useMemo(()=>({id:lt,initial:tt,isPresent:rt,custom:at,onExitComplete:ut=>{ot.set(ut,!0);for(const dt of ot.values())if(!dt)return;nt&&nt()},register:ut=>(ot.set(ut,!1),()=>ot.delete(ut))}),it?void 0:[rt]);return reactExports.useMemo(()=>{ot.forEach((ut,dt)=>ot.set(dt,!1))},[rt]),reactExports.useEffect(()=>{!rt&&!ot.size&&nt&&nt()},[rt]),st==="popLayout"&&(et=reactExports.createElement(PopChild,{isPresent:rt},et)),reactExports.createElement(PresenceContext.Provider,{value:ct},et)};function newChildrenMap(){return new Map}function useUnmountEffect(et){return reactExports.useEffect(()=>()=>et(),[])}const getChildKey=et=>et.key||"";function updateChildLookup(et,tt){et.forEach(rt=>{const nt=getChildKey(rt);tt.set(nt,rt)})}function onlyElements(et){const tt=[];return reactExports.Children.forEach(et,rt=>{reactExports.isValidElement(rt)&&tt.push(rt)}),tt}const AnimatePresence=({children:et,custom:tt,initial:rt=!0,onExitComplete:nt,exitBeforeEnter:at,presenceAffectsLayout:it=!0,mode:st="sync"})=>{const ot=reactExports.useContext(LayoutGroupContext).forceRender||useForceUpdate()[0],lt=useIsMounted(),ct=onlyElements(et);let ut=ct;const dt=reactExports.useRef(new Map).current,ft=reactExports.useRef(ut),ht=reactExports.useRef(new Map).current,gt=reactExports.useRef(!0);if(useIsomorphicLayoutEffect$1(()=>{gt.current=!1,updateChildLookup(ct,ht),ft.current=ut}),useUnmountEffect(()=>{gt.current=!0,ht.clear(),dt.clear()}),gt.current)return reactExports.createElement(reactExports.Fragment,null,ut.map(_t=>reactExports.createElement(PresenceChild,{key:getChildKey(_t),isPresent:!0,initial:rt?void 0:!1,presenceAffectsLayout:it,mode:st},_t)));ut=[...ut];const mt=ft.current.map(getChildKey),xt=ct.map(getChildKey),vt=mt.length;for(let _t=0;_t<vt;_t++){const yt=mt[_t];xt.indexOf(yt)===-1&&!dt.has(yt)&&dt.set(yt,void 0)}return st==="wait"&&dt.size&&(ut=[]),dt.forEach((_t,yt)=>{if(xt.indexOf(yt)!==-1)return;const St=ht.get(yt);if(!St)return;const bt=mt.indexOf(yt);let Et=_t;if(!Et){const Tt=()=>{dt.delete(yt);const At=Array.from(ht.keys()).filter(Ct=>!xt.includes(Ct));if(At.forEach(Ct=>ht.delete(Ct)),ft.current=ct.filter(Ct=>{const kt=getChildKey(Ct);return kt===yt||At.includes(kt)}),!dt.size){if(lt.current===!1)return;ot(),nt&&nt()}};Et=reactExports.createElement(PresenceChild,{key:getChildKey(St),isPresent:!1,onExitComplete:Tt,custom:tt,presenceAffectsLayout:it,mode:st},St),dt.set(yt,Et)}ut.splice(bt,0,Et)}),ut=ut.map(_t=>{const yt=_t.key;return dt.has(yt)?_t:reactExports.createElement(PresenceChild,{key:getChildKey(_t),isPresent:!0,presenceAffectsLayout:it,mode:st},_t)}),reactExports.createElement(reactExports.Fragment,null,dt.size?ut:ut.map(_t=>reactExports.cloneElement(_t)))},LoginPage=()=>{const[et,tt]=reactExports.useState(""),[rt,nt]=reactExports.useState(""),[at,it]=reactExports.useState(!1),[st,ot]=reactExports.useState(!1),{login:lt}=useAuth(),{theme:ct,toggleTheme:ut}=useTheme(),dt=useNavigate(),ft=async ht=>{var gt,mt;if(ht.preventDefault(),!et||!rt){toast({title:"Input Tidak Lengkap",description:"Email dan password harus diisi.",variant:"destructive"});return}ot(!0);try{const{data:xt,error:vt}=await supabase.auth.signInWithPassword({email:et,password:rt});if(vt||!(xt!=null&&xt.user))throw new Error("Email atau password salah");const _t=xt.user,{data:yt,error:St}=await supabase.from("profiles").select(`
        id,
        role,
        is_active,
        employees (*)
      `).eq("id",_t.id).maybeSingle();if(!yt)throw new Error("Profile tidak ditemukan");if(!yt.is_active)throw new Error("Akun tidak aktif");const bt={id:_t.id,email:_t.email,role:yt.role,name:((gt=yt.employees)==null?void 0:gt.name)??_t.email,photo:((mt=yt.employees)==null?void 0:mt.photo)??null,employeeData:yt.employees??null};lt(bt),toast({title:"Login Berhasil",description:`Selamat datang, ${bt.name}`});const Et=yt.role.toLowerCase();["super admin"].includes(Et)?dt("/admin/dashboard"):dt("/employee/dashboard")}catch(xt){console.error("LOGIN ERROR:",xt),toast({title:"Login Gagal",description:xt.message||"Terjadi kesalahan saat login",variant:"destructive"})}finally{ot(!1)}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-900 dark:via-blue-900 dark:to-indigo-900 p-4",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-4 right-4",children:jsxRuntimeExports.jsx(Button,{variant:"outline",size:"icon",onClick:ut,className:"glass-effect",children:ct==="light"?jsxRuntimeExports.jsx(Moon,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Sun,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[jsxRuntimeExports.jsx(motion.div,{animate:{y:[0,-20,0]},transition:{duration:6,repeat:1/0},className:"absolute top-20 left-20 w-20 h-20 bg-blue-200/30 dark:bg-blue-500/20 rounded-full blur-xl"}),jsxRuntimeExports.jsx(motion.div,{animate:{y:[0,20,0]},transition:{duration:8,repeat:1/0},className:"absolute bottom-20 right-20 w-32 h-32 bg-purple-200/30 dark:bg-purple-500/20 rounded-full blur-xl"}),jsxRuntimeExports.jsx(motion.div,{animate:{y:[0,-15,0]},transition:{duration:7,repeat:1/0},className:"absolute top-1/2 left-10 w-16 h-16 bg-indigo-200/30 dark:bg-indigo-500/20 rounded-full blur-xl"})]}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-2xl",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"text-center space-y-4",children:[jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"mx-auto w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:jsxRuntimeExports.jsx(Users,{className:"h-8 w-8 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"HRIS Technology"}),jsxRuntimeExports.jsx(CardDescription,{className:"text-base mt-2",children:"Masuk ke sistem manajemen karyawan"})]})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-6",children:jsxRuntimeExports.jsxs("form",{onSubmit:ft,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"email",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",placeholder:"Masukkan email Anda",value:et,onChange:ht=>tt(ht.target.value),required:!0,className:"bg-white/50 dark:bg-black/20 border-white/20"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"password",children:"Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Input,{id:"password",type:at?"text":"password",placeholder:"Masukkan password Anda",value:rt,onChange:ht=>nt(ht.target.value),required:!0,className:"bg-white/50 dark:bg-black/20 border-white/20 pr-10"}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>it(!at),children:at?jsxRuntimeExports.jsx(EyeOff,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})})]})]}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg",disabled:st,children:st?"Memproses...":"Masuk"})]})})]})})]})};var DirectionContext=reactExports.createContext(void 0);function useDirection(et){const tt=reactExports.useContext(DirectionContext);return et||tt||"ltr"}var count$1=0;function useFocusGuards(){reactExports.useEffect(()=>{const et=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",et[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",et[1]??createFocusGuard()),count$1++,()=>{count$1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(tt=>tt.remove()),count$1--}},[])}function createFocusGuard(){const et=document.createElement("span");return et.setAttribute("data-radix-focus-guard",""),et.tabIndex=0,et.style.outline="none",et.style.opacity="0",et.style.position="fixed",et.style.pointerEvents="none",et}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((et,tt)=>{const{loop:rt=!1,trapped:nt=!1,onMountAutoFocus:at,onUnmountAutoFocus:it,...st}=et,[ot,lt]=reactExports.useState(null),ct=useCallbackRef$1(at),ut=useCallbackRef$1(it),dt=reactExports.useRef(null),ft=useComposedRefs(tt,mt=>lt(mt)),ht=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(nt){let mt=function(yt){if(ht.paused||!ot)return;const St=yt.target;ot.contains(St)?dt.current=St:focus(dt.current,{select:!0})},xt=function(yt){if(ht.paused||!ot)return;const St=yt.relatedTarget;St!==null&&(ot.contains(St)||focus(dt.current,{select:!0}))},vt=function(yt){if(document.activeElement===document.body)for(const bt of yt)bt.removedNodes.length>0&&focus(ot)};document.addEventListener("focusin",mt),document.addEventListener("focusout",xt);const _t=new MutationObserver(vt);return ot&&_t.observe(ot,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",mt),document.removeEventListener("focusout",xt),_t.disconnect()}}},[nt,ot,ht.paused]),reactExports.useEffect(()=>{if(ot){focusScopesStack.add(ht);const mt=document.activeElement;if(!ot.contains(mt)){const vt=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS$1);ot.addEventListener(AUTOFOCUS_ON_MOUNT,ct),ot.dispatchEvent(vt),vt.defaultPrevented||(focusFirst$2(removeLinks(getTabbableCandidates(ot)),{select:!0}),document.activeElement===mt&&focus(ot))}return()=>{ot.removeEventListener(AUTOFOCUS_ON_MOUNT,ct),setTimeout(()=>{const vt=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS$1);ot.addEventListener(AUTOFOCUS_ON_UNMOUNT,ut),ot.dispatchEvent(vt),vt.defaultPrevented||focus(mt??document.body,{select:!0}),ot.removeEventListener(AUTOFOCUS_ON_UNMOUNT,ut),focusScopesStack.remove(ht)},0)}}},[ot,ct,ut,ht]);const gt=reactExports.useCallback(mt=>{if(!rt&&!nt||ht.paused)return;const xt=mt.key==="Tab"&&!mt.altKey&&!mt.ctrlKey&&!mt.metaKey,vt=document.activeElement;if(xt&&vt){const _t=mt.currentTarget,[yt,St]=getTabbableEdges(_t);yt&&St?!mt.shiftKey&&vt===St?(mt.preventDefault(),rt&&focus(yt,{select:!0})):mt.shiftKey&&vt===yt&&(mt.preventDefault(),rt&&focus(St,{select:!0})):vt===_t&&mt.preventDefault()}},[rt,nt,ht.paused]);return jsxRuntimeExports.jsx(Primitive$2.div,{tabIndex:-1,...st,ref:ft,onKeyDown:gt})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst$2(et,{select:tt=!1}={}){const rt=document.activeElement;for(const nt of et)if(focus(nt,{select:tt}),document.activeElement!==rt)return}function getTabbableEdges(et){const tt=getTabbableCandidates(et),rt=findVisible(tt,et),nt=findVisible(tt.reverse(),et);return[rt,nt]}function getTabbableCandidates(et){const tt=[],rt=document.createTreeWalker(et,NodeFilter.SHOW_ELEMENT,{acceptNode:nt=>{const at=nt.tagName==="INPUT"&&nt.type==="hidden";return nt.disabled||nt.hidden||at?NodeFilter.FILTER_SKIP:nt.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;rt.nextNode();)tt.push(rt.currentNode);return tt}function findVisible(et,tt){for(const rt of et)if(!isHidden(rt,{upTo:tt}))return rt}function isHidden(et,{upTo:tt}){if(getComputedStyle(et).visibility==="hidden")return!0;for(;et;){if(tt!==void 0&&et===tt)return!1;if(getComputedStyle(et).display==="none")return!0;et=et.parentElement}return!1}function isSelectableInput(et){return et instanceof HTMLInputElement&&"select"in et}function focus(et,{select:tt=!1}={}){if(et&&et.focus){const rt=document.activeElement;et.focus({preventScroll:!0}),et!==rt&&isSelectableInput(et)&&tt&&et.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let et=[];return{add(tt){const rt=et[0];tt!==rt&&(rt==null||rt.pause()),et=arrayRemove(et,tt),et.unshift(tt)},remove(tt){var rt;et=arrayRemove(et,tt),(rt=et[0])==null||rt.resume()}}}function arrayRemove(et,tt){const rt=[...et],nt=rt.indexOf(tt);return nt!==-1&&rt.splice(nt,1),rt}function removeLinks(et){return et.filter(tt=>tt.tagName!=="A")}var useReactId=$2AODx$react[" useId ".trim().toString()]||(()=>{}),count=0;function useId(et){const[tt,rt]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{et||rt(nt=>nt??String(count++))},[et]),et||(tt?`radix-${tt}`:"")}const sides=["top","right","bottom","left"],min$3=Math.min,max$3=Math.max,round$1=Math.round,floor=Math.floor,createCoords=et=>({x:et,y:et}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(et,tt,rt){return max$3(et,min$3(tt,rt))}function evaluate(et,tt){return typeof et=="function"?et(tt):et}function getSide(et){return et.split("-")[0]}function getAlignment(et){return et.split("-")[1]}function getOppositeAxis(et){return et==="x"?"y":"x"}function getAxisLength(et){return et==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(et){return yAxisSides.has(getSide(et))?"y":"x"}function getAlignmentAxis(et){return getOppositeAxis(getSideAxis(et))}function getAlignmentSides(et,tt,rt){rt===void 0&&(rt=!1);const nt=getAlignment(et),at=getAlignmentAxis(et),it=getAxisLength(at);let st=at==="x"?nt===(rt?"end":"start")?"right":"left":nt==="start"?"bottom":"top";return tt.reference[it]>tt.floating[it]&&(st=getOppositePlacement(st)),[st,getOppositePlacement(st)]}function getExpandedPlacements(et){const tt=getOppositePlacement(et);return[getOppositeAlignmentPlacement(et),tt,getOppositeAlignmentPlacement(tt)]}function getOppositeAlignmentPlacement(et){return et.replace(/start|end/g,tt=>oppositeAlignmentMap[tt])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(et,tt,rt){switch(et){case"top":case"bottom":return rt?tt?rlPlacement:lrPlacement:tt?lrPlacement:rlPlacement;case"left":case"right":return tt?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(et,tt,rt,nt){const at=getAlignment(et);let it=getSideList(getSide(et),rt==="start",nt);return at&&(it=it.map(st=>st+"-"+at),tt&&(it=it.concat(it.map(getOppositeAlignmentPlacement)))),it}function getOppositePlacement(et){return et.replace(/left|right|bottom|top/g,tt=>oppositeSideMap[tt])}function expandPaddingObject(et){return{top:0,right:0,bottom:0,left:0,...et}}function getPaddingObject(et){return typeof et!="number"?expandPaddingObject(et):{top:et,right:et,bottom:et,left:et}}function rectToClientRect(et){const{x:tt,y:rt,width:nt,height:at}=et;return{width:nt,height:at,top:rt,left:tt,right:tt+nt,bottom:rt+at,x:tt,y:rt}}function computeCoordsFromPlacement(et,tt,rt){let{reference:nt,floating:at}=et;const it=getSideAxis(tt),st=getAlignmentAxis(tt),ot=getAxisLength(st),lt=getSide(tt),ct=it==="y",ut=nt.x+nt.width/2-at.width/2,dt=nt.y+nt.height/2-at.height/2,ft=nt[ot]/2-at[ot]/2;let ht;switch(lt){case"top":ht={x:ut,y:nt.y-at.height};break;case"bottom":ht={x:ut,y:nt.y+nt.height};break;case"right":ht={x:nt.x+nt.width,y:dt};break;case"left":ht={x:nt.x-at.width,y:dt};break;default:ht={x:nt.x,y:nt.y}}switch(getAlignment(tt)){case"start":ht[st]-=ft*(rt&&ct?-1:1);break;case"end":ht[st]+=ft*(rt&&ct?-1:1);break}return ht}const computePosition$1=async(et,tt,rt)=>{const{placement:nt="bottom",strategy:at="absolute",middleware:it=[],platform:st}=rt,ot=it.filter(Boolean),lt=await(st.isRTL==null?void 0:st.isRTL(tt));let ct=await st.getElementRects({reference:et,floating:tt,strategy:at}),{x:ut,y:dt}=computeCoordsFromPlacement(ct,nt,lt),ft=nt,ht={},gt=0;for(let mt=0;mt<ot.length;mt++){const{name:xt,fn:vt}=ot[mt],{x:_t,y:yt,data:St,reset:bt}=await vt({x:ut,y:dt,initialPlacement:nt,placement:ft,strategy:at,middlewareData:ht,rects:ct,platform:st,elements:{reference:et,floating:tt}});ut=_t??ut,dt=yt??dt,ht={...ht,[xt]:{...ht[xt],...St}},bt&&gt<=50&&(gt++,typeof bt=="object"&&(bt.placement&&(ft=bt.placement),bt.rects&&(ct=bt.rects===!0?await st.getElementRects({reference:et,floating:tt,strategy:at}):bt.rects),{x:ut,y:dt}=computeCoordsFromPlacement(ct,ft,lt)),mt=-1)}return{x:ut,y:dt,placement:ft,strategy:at,middlewareData:ht}};async function detectOverflow(et,tt){var rt;tt===void 0&&(tt={});const{x:nt,y:at,platform:it,rects:st,elements:ot,strategy:lt}=et,{boundary:ct="clippingAncestors",rootBoundary:ut="viewport",elementContext:dt="floating",altBoundary:ft=!1,padding:ht=0}=evaluate(tt,et),gt=getPaddingObject(ht),xt=ot[ft?dt==="floating"?"reference":"floating":dt],vt=rectToClientRect(await it.getClippingRect({element:(rt=await(it.isElement==null?void 0:it.isElement(xt)))==null||rt?xt:xt.contextElement||await(it.getDocumentElement==null?void 0:it.getDocumentElement(ot.floating)),boundary:ct,rootBoundary:ut,strategy:lt})),_t=dt==="floating"?{x:nt,y:at,width:st.floating.width,height:st.floating.height}:st.reference,yt=await(it.getOffsetParent==null?void 0:it.getOffsetParent(ot.floating)),St=await(it.isElement==null?void 0:it.isElement(yt))?await(it.getScale==null?void 0:it.getScale(yt))||{x:1,y:1}:{x:1,y:1},bt=rectToClientRect(it.convertOffsetParentRelativeRectToViewportRelativeRect?await it.convertOffsetParentRelativeRectToViewportRelativeRect({elements:ot,rect:_t,offsetParent:yt,strategy:lt}):_t);return{top:(vt.top-bt.top+gt.top)/St.y,bottom:(bt.bottom-vt.bottom+gt.bottom)/St.y,left:(vt.left-bt.left+gt.left)/St.x,right:(bt.right-vt.right+gt.right)/St.x}}const arrow$3=et=>({name:"arrow",options:et,async fn(tt){const{x:rt,y:nt,placement:at,rects:it,platform:st,elements:ot,middlewareData:lt}=tt,{element:ct,padding:ut=0}=evaluate(et,tt)||{};if(ct==null)return{};const dt=getPaddingObject(ut),ft={x:rt,y:nt},ht=getAlignmentAxis(at),gt=getAxisLength(ht),mt=await st.getDimensions(ct),xt=ht==="y",vt=xt?"top":"left",_t=xt?"bottom":"right",yt=xt?"clientHeight":"clientWidth",St=it.reference[gt]+it.reference[ht]-ft[ht]-it.floating[gt],bt=ft[ht]-it.reference[ht],Et=await(st.getOffsetParent==null?void 0:st.getOffsetParent(ct));let Tt=Et?Et[yt]:0;(!Tt||!await(st.isElement==null?void 0:st.isElement(Et)))&&(Tt=ot.floating[yt]||it.floating[gt]);const At=St/2-bt/2,Ct=Tt/2-mt[gt]/2-1,kt=min$3(dt[vt],Ct),Pt=min$3(dt[_t],Ct),Dt=kt,Ft=Tt-mt[gt]-Pt,Ot=Tt/2-mt[gt]/2+At,It=clamp$1(Dt,Ot,Ft),Bt=!lt.arrow&&getAlignment(at)!=null&&Ot!==It&&it.reference[gt]/2-(Ot<Dt?kt:Pt)-mt[gt]/2<0,qt=Bt?Ot<Dt?Ot-Dt:Ot-Ft:0;return{[ht]:ft[ht]+qt,data:{[ht]:It,centerOffset:Ot-It-qt,...Bt&&{alignmentOffset:qt}},reset:Bt}}}),flip$2=function(et){return et===void 0&&(et={}),{name:"flip",options:et,async fn(tt){var rt,nt;const{placement:at,middlewareData:it,rects:st,initialPlacement:ot,platform:lt,elements:ct}=tt,{mainAxis:ut=!0,crossAxis:dt=!0,fallbackPlacements:ft,fallbackStrategy:ht="bestFit",fallbackAxisSideDirection:gt="none",flipAlignment:mt=!0,...xt}=evaluate(et,tt);if((rt=it.arrow)!=null&&rt.alignmentOffset)return{};const vt=getSide(at),_t=getSideAxis(ot),yt=getSide(ot)===ot,St=await(lt.isRTL==null?void 0:lt.isRTL(ct.floating)),bt=ft||(yt||!mt?[getOppositePlacement(ot)]:getExpandedPlacements(ot)),Et=gt!=="none";!ft&&Et&&bt.push(...getOppositeAxisPlacements(ot,mt,gt,St));const Tt=[ot,...bt],At=await detectOverflow(tt,xt),Ct=[];let kt=((nt=it.flip)==null?void 0:nt.overflows)||[];if(ut&&Ct.push(At[vt]),dt){const Ot=getAlignmentSides(at,st,St);Ct.push(At[Ot[0]],At[Ot[1]])}if(kt=[...kt,{placement:at,overflows:Ct}],!Ct.every(Ot=>Ot<=0)){var Pt,Dt;const Ot=(((Pt=it.flip)==null?void 0:Pt.index)||0)+1,It=Tt[Ot];if(It&&(!(dt==="alignment"?_t!==getSideAxis(It):!1)||kt.every(Ut=>getSideAxis(Ut.placement)===_t?Ut.overflows[0]>0:!0)))return{data:{index:Ot,overflows:kt},reset:{placement:It}};let Bt=(Dt=kt.filter(qt=>qt.overflows[0]<=0).sort((qt,Ut)=>qt.overflows[1]-Ut.overflows[1])[0])==null?void 0:Dt.placement;if(!Bt)switch(ht){case"bestFit":{var Ft;const qt=(Ft=kt.filter(Ut=>{if(Et){const Ht=getSideAxis(Ut.placement);return Ht===_t||Ht==="y"}return!0}).map(Ut=>[Ut.placement,Ut.overflows.filter(Ht=>Ht>0).reduce((Ht,Qt)=>Ht+Qt,0)]).sort((Ut,Ht)=>Ut[1]-Ht[1])[0])==null?void 0:Ft[0];qt&&(Bt=qt);break}case"initialPlacement":Bt=ot;break}if(at!==Bt)return{reset:{placement:Bt}}}return{}}}};function getSideOffsets(et,tt){return{top:et.top-tt.height,right:et.right-tt.width,bottom:et.bottom-tt.height,left:et.left-tt.width}}function isAnySideFullyClipped(et){return sides.some(tt=>et[tt]>=0)}const hide$2=function(et){return et===void 0&&(et={}),{name:"hide",options:et,async fn(tt){const{rects:rt}=tt,{strategy:nt="referenceHidden",...at}=evaluate(et,tt);switch(nt){case"referenceHidden":{const it=await detectOverflow(tt,{...at,elementContext:"reference"}),st=getSideOffsets(it,rt.reference);return{data:{referenceHiddenOffsets:st,referenceHidden:isAnySideFullyClipped(st)}}}case"escaped":{const it=await detectOverflow(tt,{...at,altBoundary:!0}),st=getSideOffsets(it,rt.floating);return{data:{escapedOffsets:st,escaped:isAnySideFullyClipped(st)}}}default:return{}}}}},originSides=new Set(["left","top"]);async function convertValueToCoords(et,tt){const{placement:rt,platform:nt,elements:at}=et,it=await(nt.isRTL==null?void 0:nt.isRTL(at.floating)),st=getSide(rt),ot=getAlignment(rt),lt=getSideAxis(rt)==="y",ct=originSides.has(st)?-1:1,ut=it&&lt?-1:1,dt=evaluate(tt,et);let{mainAxis:ft,crossAxis:ht,alignmentAxis:gt}=typeof dt=="number"?{mainAxis:dt,crossAxis:0,alignmentAxis:null}:{mainAxis:dt.mainAxis||0,crossAxis:dt.crossAxis||0,alignmentAxis:dt.alignmentAxis};return ot&&typeof gt=="number"&&(ht=ot==="end"?gt*-1:gt),lt?{x:ht*ut,y:ft*ct}:{x:ft*ct,y:ht*ut}}const offset$2=function(et){return et===void 0&&(et=0),{name:"offset",options:et,async fn(tt){var rt,nt;const{x:at,y:it,placement:st,middlewareData:ot}=tt,lt=await convertValueToCoords(tt,et);return st===((rt=ot.offset)==null?void 0:rt.placement)&&(nt=ot.arrow)!=null&&nt.alignmentOffset?{}:{x:at+lt.x,y:it+lt.y,data:{...lt,placement:st}}}}},shift$2=function(et){return et===void 0&&(et={}),{name:"shift",options:et,async fn(tt){const{x:rt,y:nt,placement:at}=tt,{mainAxis:it=!0,crossAxis:st=!1,limiter:ot={fn:xt=>{let{x:vt,y:_t}=xt;return{x:vt,y:_t}}},...lt}=evaluate(et,tt),ct={x:rt,y:nt},ut=await detectOverflow(tt,lt),dt=getSideAxis(getSide(at)),ft=getOppositeAxis(dt);let ht=ct[ft],gt=ct[dt];if(it){const xt=ft==="y"?"top":"left",vt=ft==="y"?"bottom":"right",_t=ht+ut[xt],yt=ht-ut[vt];ht=clamp$1(_t,ht,yt)}if(st){const xt=dt==="y"?"top":"left",vt=dt==="y"?"bottom":"right",_t=gt+ut[xt],yt=gt-ut[vt];gt=clamp$1(_t,gt,yt)}const mt=ot.fn({...tt,[ft]:ht,[dt]:gt});return{...mt,data:{x:mt.x-rt,y:mt.y-nt,enabled:{[ft]:it,[dt]:st}}}}}},limitShift$2=function(et){return et===void 0&&(et={}),{options:et,fn(tt){const{x:rt,y:nt,placement:at,rects:it,middlewareData:st}=tt,{offset:ot=0,mainAxis:lt=!0,crossAxis:ct=!0}=evaluate(et,tt),ut={x:rt,y:nt},dt=getSideAxis(at),ft=getOppositeAxis(dt);let ht=ut[ft],gt=ut[dt];const mt=evaluate(ot,tt),xt=typeof mt=="number"?{mainAxis:mt,crossAxis:0}:{mainAxis:0,crossAxis:0,...mt};if(lt){const yt=ft==="y"?"height":"width",St=it.reference[ft]-it.floating[yt]+xt.mainAxis,bt=it.reference[ft]+it.reference[yt]-xt.mainAxis;ht<St?ht=St:ht>bt&&(ht=bt)}if(ct){var vt,_t;const yt=ft==="y"?"width":"height",St=originSides.has(getSide(at)),bt=it.reference[dt]-it.floating[yt]+(St&&((vt=st.offset)==null?void 0:vt[dt])||0)+(St?0:xt.crossAxis),Et=it.reference[dt]+it.reference[yt]+(St?0:((_t=st.offset)==null?void 0:_t[dt])||0)-(St?xt.crossAxis:0);gt<bt?gt=bt:gt>Et&&(gt=Et)}return{[ft]:ht,[dt]:gt}}}},size$2=function(et){return et===void 0&&(et={}),{name:"size",options:et,async fn(tt){var rt,nt;const{placement:at,rects:it,platform:st,elements:ot}=tt,{apply:lt=()=>{},...ct}=evaluate(et,tt),ut=await detectOverflow(tt,ct),dt=getSide(at),ft=getAlignment(at),ht=getSideAxis(at)==="y",{width:gt,height:mt}=it.floating;let xt,vt;dt==="top"||dt==="bottom"?(xt=dt,vt=ft===(await(st.isRTL==null?void 0:st.isRTL(ot.floating))?"start":"end")?"left":"right"):(vt=dt,xt=ft==="end"?"top":"bottom");const _t=mt-ut.top-ut.bottom,yt=gt-ut.left-ut.right,St=min$3(mt-ut[xt],_t),bt=min$3(gt-ut[vt],yt),Et=!tt.middlewareData.shift;let Tt=St,At=bt;if((rt=tt.middlewareData.shift)!=null&&rt.enabled.x&&(At=yt),(nt=tt.middlewareData.shift)!=null&&nt.enabled.y&&(Tt=_t),Et&&!ft){const kt=max$3(ut.left,0),Pt=max$3(ut.right,0),Dt=max$3(ut.top,0),Ft=max$3(ut.bottom,0);ht?At=gt-2*(kt!==0||Pt!==0?kt+Pt:max$3(ut.left,ut.right)):Tt=mt-2*(Dt!==0||Ft!==0?Dt+Ft:max$3(ut.top,ut.bottom))}await lt({...tt,availableWidth:At,availableHeight:Tt});const Ct=await st.getDimensions(ot.floating);return gt!==Ct.width||mt!==Ct.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(et){return isNode(et)?(et.nodeName||"").toLowerCase():"#document"}function getWindow(et){var tt;return(et==null||(tt=et.ownerDocument)==null?void 0:tt.defaultView)||window}function getDocumentElement(et){var tt;return(tt=(isNode(et)?et.ownerDocument:et.document)||window.document)==null?void 0:tt.documentElement}function isNode(et){return hasWindow()?et instanceof Node||et instanceof getWindow(et).Node:!1}function isElement(et){return hasWindow()?et instanceof Element||et instanceof getWindow(et).Element:!1}function isHTMLElement(et){return hasWindow()?et instanceof HTMLElement||et instanceof getWindow(et).HTMLElement:!1}function isShadowRoot(et){return!hasWindow()||typeof ShadowRoot>"u"?!1:et instanceof ShadowRoot||et instanceof getWindow(et).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(et){const{overflow:tt,overflowX:rt,overflowY:nt,display:at}=getComputedStyle$1(et);return/auto|scroll|overlay|hidden|clip/.test(tt+nt+rt)&&!invalidOverflowDisplayValues.has(at)}const tableElements=new Set(["table","td","th"]);function isTableElement(et){return tableElements.has(getNodeName(et))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(et){return topLayerSelectors.some(tt=>{try{return et.matches(tt)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(et){const tt=isWebKit(),rt=isElement(et)?getComputedStyle$1(et):et;return transformProperties.some(nt=>rt[nt]?rt[nt]!=="none":!1)||(rt.containerType?rt.containerType!=="normal":!1)||!tt&&(rt.backdropFilter?rt.backdropFilter!=="none":!1)||!tt&&(rt.filter?rt.filter!=="none":!1)||willChangeValues.some(nt=>(rt.willChange||"").includes(nt))||containValues.some(nt=>(rt.contain||"").includes(nt))}function getContainingBlock(et){let tt=getParentNode(et);for(;isHTMLElement(tt)&&!isLastTraversableNode(tt);){if(isContainingBlock(tt))return tt;if(isTopLayer(tt))return null;tt=getParentNode(tt)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(et){return lastTraversableNodeNames.has(getNodeName(et))}function getComputedStyle$1(et){return getWindow(et).getComputedStyle(et)}function getNodeScroll(et){return isElement(et)?{scrollLeft:et.scrollLeft,scrollTop:et.scrollTop}:{scrollLeft:et.scrollX,scrollTop:et.scrollY}}function getParentNode(et){if(getNodeName(et)==="html")return et;const tt=et.assignedSlot||et.parentNode||isShadowRoot(et)&&et.host||getDocumentElement(et);return isShadowRoot(tt)?tt.host:tt}function getNearestOverflowAncestor(et){const tt=getParentNode(et);return isLastTraversableNode(tt)?et.ownerDocument?et.ownerDocument.body:et.body:isHTMLElement(tt)&&isOverflowElement(tt)?tt:getNearestOverflowAncestor(tt)}function getOverflowAncestors(et,tt,rt){var nt;tt===void 0&&(tt=[]),rt===void 0&&(rt=!0);const at=getNearestOverflowAncestor(et),it=at===((nt=et.ownerDocument)==null?void 0:nt.body),st=getWindow(at);if(it){const ot=getFrameElement(st);return tt.concat(st,st.visualViewport||[],isOverflowElement(at)?at:[],ot&&rt?getOverflowAncestors(ot):[])}return tt.concat(at,getOverflowAncestors(at,[],rt))}function getFrameElement(et){return et.parent&&Object.getPrototypeOf(et.parent)?et.frameElement:null}function getCssDimensions(et){const tt=getComputedStyle$1(et);let rt=parseFloat(tt.width)||0,nt=parseFloat(tt.height)||0;const at=isHTMLElement(et),it=at?et.offsetWidth:rt,st=at?et.offsetHeight:nt,ot=round$1(rt)!==it||round$1(nt)!==st;return ot&&(rt=it,nt=st),{width:rt,height:nt,$:ot}}function unwrapElement(et){return isElement(et)?et:et.contextElement}function getScale(et){const tt=unwrapElement(et);if(!isHTMLElement(tt))return createCoords(1);const rt=tt.getBoundingClientRect(),{width:nt,height:at,$:it}=getCssDimensions(tt);let st=(it?round$1(rt.width):rt.width)/nt,ot=(it?round$1(rt.height):rt.height)/at;return(!st||!Number.isFinite(st))&&(st=1),(!ot||!Number.isFinite(ot))&&(ot=1),{x:st,y:ot}}const noOffsets=createCoords(0);function getVisualOffsets(et){const tt=getWindow(et);return!isWebKit()||!tt.visualViewport?noOffsets:{x:tt.visualViewport.offsetLeft,y:tt.visualViewport.offsetTop}}function shouldAddVisualOffsets(et,tt,rt){return tt===void 0&&(tt=!1),!rt||tt&&rt!==getWindow(et)?!1:tt}function getBoundingClientRect(et,tt,rt,nt){tt===void 0&&(tt=!1),rt===void 0&&(rt=!1);const at=et.getBoundingClientRect(),it=unwrapElement(et);let st=createCoords(1);tt&&(nt?isElement(nt)&&(st=getScale(nt)):st=getScale(et));const ot=shouldAddVisualOffsets(it,rt,nt)?getVisualOffsets(it):createCoords(0);let lt=(at.left+ot.x)/st.x,ct=(at.top+ot.y)/st.y,ut=at.width/st.x,dt=at.height/st.y;if(it){const ft=getWindow(it),ht=nt&&isElement(nt)?getWindow(nt):nt;let gt=ft,mt=getFrameElement(gt);for(;mt&&nt&&ht!==gt;){const xt=getScale(mt),vt=mt.getBoundingClientRect(),_t=getComputedStyle$1(mt),yt=vt.left+(mt.clientLeft+parseFloat(_t.paddingLeft))*xt.x,St=vt.top+(mt.clientTop+parseFloat(_t.paddingTop))*xt.y;lt*=xt.x,ct*=xt.y,ut*=xt.x,dt*=xt.y,lt+=yt,ct+=St,gt=getWindow(mt),mt=getFrameElement(gt)}}return rectToClientRect({width:ut,height:dt,x:lt,y:ct})}function getWindowScrollBarX(et,tt){const rt=getNodeScroll(et).scrollLeft;return tt?tt.left+rt:getBoundingClientRect(getDocumentElement(et)).left+rt}function getHTMLOffset(et,tt){const rt=et.getBoundingClientRect(),nt=rt.left+tt.scrollLeft-getWindowScrollBarX(et,rt),at=rt.top+tt.scrollTop;return{x:nt,y:at}}function convertOffsetParentRelativeRectToViewportRelativeRect(et){let{elements:tt,rect:rt,offsetParent:nt,strategy:at}=et;const it=at==="fixed",st=getDocumentElement(nt),ot=tt?isTopLayer(tt.floating):!1;if(nt===st||ot&&it)return rt;let lt={scrollLeft:0,scrollTop:0},ct=createCoords(1);const ut=createCoords(0),dt=isHTMLElement(nt);if((dt||!dt&&!it)&&((getNodeName(nt)!=="body"||isOverflowElement(st))&&(lt=getNodeScroll(nt)),isHTMLElement(nt))){const ht=getBoundingClientRect(nt);ct=getScale(nt),ut.x=ht.x+nt.clientLeft,ut.y=ht.y+nt.clientTop}const ft=st&&!dt&&!it?getHTMLOffset(st,lt):createCoords(0);return{width:rt.width*ct.x,height:rt.height*ct.y,x:rt.x*ct.x-lt.scrollLeft*ct.x+ut.x+ft.x,y:rt.y*ct.y-lt.scrollTop*ct.y+ut.y+ft.y}}function getClientRects(et){return Array.from(et.getClientRects())}function getDocumentRect(et){const tt=getDocumentElement(et),rt=getNodeScroll(et),nt=et.ownerDocument.body,at=max$3(tt.scrollWidth,tt.clientWidth,nt.scrollWidth,nt.clientWidth),it=max$3(tt.scrollHeight,tt.clientHeight,nt.scrollHeight,nt.clientHeight);let st=-rt.scrollLeft+getWindowScrollBarX(et);const ot=-rt.scrollTop;return getComputedStyle$1(nt).direction==="rtl"&&(st+=max$3(tt.clientWidth,nt.clientWidth)-at),{width:at,height:it,x:st,y:ot}}const SCROLLBAR_MAX=25;function getViewportRect(et,tt){const rt=getWindow(et),nt=getDocumentElement(et),at=rt.visualViewport;let it=nt.clientWidth,st=nt.clientHeight,ot=0,lt=0;if(at){it=at.width,st=at.height;const ut=isWebKit();(!ut||ut&&tt==="fixed")&&(ot=at.offsetLeft,lt=at.offsetTop)}const ct=getWindowScrollBarX(nt);if(ct<=0){const ut=nt.ownerDocument,dt=ut.body,ft=getComputedStyle(dt),ht=ut.compatMode==="CSS1Compat"&&parseFloat(ft.marginLeft)+parseFloat(ft.marginRight)||0,gt=Math.abs(nt.clientWidth-dt.clientWidth-ht);gt<=SCROLLBAR_MAX&&(it-=gt)}else ct<=SCROLLBAR_MAX&&(it+=ct);return{width:it,height:st,x:ot,y:lt}}const absoluteOrFixed=new Set(["absolute","fixed"]);function getInnerBoundingClientRect(et,tt){const rt=getBoundingClientRect(et,!0,tt==="fixed"),nt=rt.top+et.clientTop,at=rt.left+et.clientLeft,it=isHTMLElement(et)?getScale(et):createCoords(1),st=et.clientWidth*it.x,ot=et.clientHeight*it.y,lt=at*it.x,ct=nt*it.y;return{width:st,height:ot,x:lt,y:ct}}function getClientRectFromClippingAncestor(et,tt,rt){let nt;if(tt==="viewport")nt=getViewportRect(et,rt);else if(tt==="document")nt=getDocumentRect(getDocumentElement(et));else if(isElement(tt))nt=getInnerBoundingClientRect(tt,rt);else{const at=getVisualOffsets(et);nt={x:tt.x-at.x,y:tt.y-at.y,width:tt.width,height:tt.height}}return rectToClientRect(nt)}function hasFixedPositionAncestor(et,tt){const rt=getParentNode(et);return rt===tt||!isElement(rt)||isLastTraversableNode(rt)?!1:getComputedStyle$1(rt).position==="fixed"||hasFixedPositionAncestor(rt,tt)}function getClippingElementAncestors(et,tt){const rt=tt.get(et);if(rt)return rt;let nt=getOverflowAncestors(et,[],!1).filter(ot=>isElement(ot)&&getNodeName(ot)!=="body"),at=null;const it=getComputedStyle$1(et).position==="fixed";let st=it?getParentNode(et):et;for(;isElement(st)&&!isLastTraversableNode(st);){const ot=getComputedStyle$1(st),lt=isContainingBlock(st);!lt&&ot.position==="fixed"&&(at=null),(it?!lt&&!at:!lt&&ot.position==="static"&&!!at&&absoluteOrFixed.has(at.position)||isOverflowElement(st)&&!lt&&hasFixedPositionAncestor(et,st))?nt=nt.filter(ut=>ut!==st):at=ot,st=getParentNode(st)}return tt.set(et,nt),nt}function getClippingRect(et){let{element:tt,boundary:rt,rootBoundary:nt,strategy:at}=et;const st=[...rt==="clippingAncestors"?isTopLayer(tt)?[]:getClippingElementAncestors(tt,this._c):[].concat(rt),nt],ot=st[0],lt=st.reduce((ct,ut)=>{const dt=getClientRectFromClippingAncestor(tt,ut,at);return ct.top=max$3(dt.top,ct.top),ct.right=min$3(dt.right,ct.right),ct.bottom=min$3(dt.bottom,ct.bottom),ct.left=max$3(dt.left,ct.left),ct},getClientRectFromClippingAncestor(tt,ot,at));return{width:lt.right-lt.left,height:lt.bottom-lt.top,x:lt.left,y:lt.top}}function getDimensions(et){const{width:tt,height:rt}=getCssDimensions(et);return{width:tt,height:rt}}function getRectRelativeToOffsetParent(et,tt,rt){const nt=isHTMLElement(tt),at=getDocumentElement(tt),it=rt==="fixed",st=getBoundingClientRect(et,!0,it,tt);let ot={scrollLeft:0,scrollTop:0};const lt=createCoords(0);function ct(){lt.x=getWindowScrollBarX(at)}if(nt||!nt&&!it)if((getNodeName(tt)!=="body"||isOverflowElement(at))&&(ot=getNodeScroll(tt)),nt){const ht=getBoundingClientRect(tt,!0,it,tt);lt.x=ht.x+tt.clientLeft,lt.y=ht.y+tt.clientTop}else at&&ct();it&&!nt&&at&&ct();const ut=at&&!nt&&!it?getHTMLOffset(at,ot):createCoords(0),dt=st.left+ot.scrollLeft-lt.x-ut.x,ft=st.top+ot.scrollTop-lt.y-ut.y;return{x:dt,y:ft,width:st.width,height:st.height}}function isStaticPositioned(et){return getComputedStyle$1(et).position==="static"}function getTrueOffsetParent(et,tt){if(!isHTMLElement(et)||getComputedStyle$1(et).position==="fixed")return null;if(tt)return tt(et);let rt=et.offsetParent;return getDocumentElement(et)===rt&&(rt=rt.ownerDocument.body),rt}function getOffsetParent(et,tt){const rt=getWindow(et);if(isTopLayer(et))return rt;if(!isHTMLElement(et)){let at=getParentNode(et);for(;at&&!isLastTraversableNode(at);){if(isElement(at)&&!isStaticPositioned(at))return at;at=getParentNode(at)}return rt}let nt=getTrueOffsetParent(et,tt);for(;nt&&isTableElement(nt)&&isStaticPositioned(nt);)nt=getTrueOffsetParent(nt,tt);return nt&&isLastTraversableNode(nt)&&isStaticPositioned(nt)&&!isContainingBlock(nt)?rt:nt||getContainingBlock(et)||rt}const getElementRects=async function(et){const tt=this.getOffsetParent||getOffsetParent,rt=this.getDimensions,nt=await rt(et.floating);return{reference:getRectRelativeToOffsetParent(et.reference,await tt(et.floating),et.strategy),floating:{x:0,y:0,width:nt.width,height:nt.height}}};function isRTL(et){return getComputedStyle$1(et).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(et,tt){return et.x===tt.x&&et.y===tt.y&&et.width===tt.width&&et.height===tt.height}function observeMove(et,tt){let rt=null,nt;const at=getDocumentElement(et);function it(){var ot;clearTimeout(nt),(ot=rt)==null||ot.disconnect(),rt=null}function st(ot,lt){ot===void 0&&(ot=!1),lt===void 0&&(lt=1),it();const ct=et.getBoundingClientRect(),{left:ut,top:dt,width:ft,height:ht}=ct;if(ot||tt(),!ft||!ht)return;const gt=floor(dt),mt=floor(at.clientWidth-(ut+ft)),xt=floor(at.clientHeight-(dt+ht)),vt=floor(ut),yt={rootMargin:-gt+"px "+-mt+"px "+-xt+"px "+-vt+"px",threshold:max$3(0,min$3(1,lt))||1};let St=!0;function bt(Et){const Tt=Et[0].intersectionRatio;if(Tt!==lt){if(!St)return st();Tt?st(!1,Tt):nt=setTimeout(()=>{st(!1,1e-7)},1e3)}Tt===1&&!rectsAreEqual(ct,et.getBoundingClientRect())&&st(),St=!1}try{rt=new IntersectionObserver(bt,{...yt,root:at.ownerDocument})}catch{rt=new IntersectionObserver(bt,yt)}rt.observe(et)}return st(!0),it}function autoUpdate(et,tt,rt,nt){nt===void 0&&(nt={});const{ancestorScroll:at=!0,ancestorResize:it=!0,elementResize:st=typeof ResizeObserver=="function",layoutShift:ot=typeof IntersectionObserver=="function",animationFrame:lt=!1}=nt,ct=unwrapElement(et),ut=at||it?[...ct?getOverflowAncestors(ct):[],...getOverflowAncestors(tt)]:[];ut.forEach(vt=>{at&&vt.addEventListener("scroll",rt,{passive:!0}),it&&vt.addEventListener("resize",rt)});const dt=ct&&ot?observeMove(ct,rt):null;let ft=-1,ht=null;st&&(ht=new ResizeObserver(vt=>{let[_t]=vt;_t&&_t.target===ct&&ht&&(ht.unobserve(tt),cancelAnimationFrame(ft),ft=requestAnimationFrame(()=>{var yt;(yt=ht)==null||yt.observe(tt)})),rt()}),ct&&!lt&&ht.observe(ct),ht.observe(tt));let gt,mt=lt?getBoundingClientRect(et):null;lt&&xt();function xt(){const vt=getBoundingClientRect(et);mt&&!rectsAreEqual(mt,vt)&&rt(),mt=vt,gt=requestAnimationFrame(xt)}return rt(),()=>{var vt;ut.forEach(_t=>{at&&_t.removeEventListener("scroll",rt),it&&_t.removeEventListener("resize",rt)}),dt==null||dt(),(vt=ht)==null||vt.disconnect(),ht=null,lt&&cancelAnimationFrame(gt)}}const offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(et,tt,rt)=>{const nt=new Map,at={platform,...rt},it={...at.platform,_c:nt};return computePosition$1(et,tt,{...at,platform:it})};var isClient=typeof document<"u",noop$3=function(){},index$1=isClient?reactExports.useLayoutEffect:noop$3;function deepEqual$1(et,tt){if(et===tt)return!0;if(typeof et!=typeof tt)return!1;if(typeof et=="function"&&et.toString()===tt.toString())return!0;let rt,nt,at;if(et&&tt&&typeof et=="object"){if(Array.isArray(et)){if(rt=et.length,rt!==tt.length)return!1;for(nt=rt;nt--!==0;)if(!deepEqual$1(et[nt],tt[nt]))return!1;return!0}if(at=Object.keys(et),rt=at.length,rt!==Object.keys(tt).length)return!1;for(nt=rt;nt--!==0;)if(!{}.hasOwnProperty.call(tt,at[nt]))return!1;for(nt=rt;nt--!==0;){const it=at[nt];if(!(it==="_owner"&&et.$$typeof)&&!deepEqual$1(et[it],tt[it]))return!1}return!0}return et!==et&&tt!==tt}function getDPR(et){return typeof window>"u"?1:(et.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(et,tt){const rt=getDPR(et);return Math.round(tt*rt)/rt}function useLatestRef(et){const tt=reactExports.useRef(et);return index$1(()=>{tt.current=et}),tt}function useFloating(et){et===void 0&&(et={});const{placement:tt="bottom",strategy:rt="absolute",middleware:nt=[],platform:at,elements:{reference:it,floating:st}={},transform:ot=!0,whileElementsMounted:lt,open:ct}=et,[ut,dt]=reactExports.useState({x:0,y:0,strategy:rt,placement:tt,middlewareData:{},isPositioned:!1}),[ft,ht]=reactExports.useState(nt);deepEqual$1(ft,nt)||ht(nt);const[gt,mt]=reactExports.useState(null),[xt,vt]=reactExports.useState(null),_t=reactExports.useCallback(Ut=>{Ut!==Et.current&&(Et.current=Ut,mt(Ut))},[]),yt=reactExports.useCallback(Ut=>{Ut!==Tt.current&&(Tt.current=Ut,vt(Ut))},[]),St=it||gt,bt=st||xt,Et=reactExports.useRef(null),Tt=reactExports.useRef(null),At=reactExports.useRef(ut),Ct=lt!=null,kt=useLatestRef(lt),Pt=useLatestRef(at),Dt=useLatestRef(ct),Ft=reactExports.useCallback(()=>{if(!Et.current||!Tt.current)return;const Ut={placement:tt,strategy:rt,middleware:ft};Pt.current&&(Ut.platform=Pt.current),computePosition(Et.current,Tt.current,Ut).then(Ht=>{const Qt={...Ht,isPositioned:Dt.current!==!1};Ot.current&&!deepEqual$1(At.current,Qt)&&(At.current=Qt,reactDomExports.flushSync(()=>{dt(Qt)}))})},[ft,tt,rt,Pt,Dt]);index$1(()=>{ct===!1&&At.current.isPositioned&&(At.current.isPositioned=!1,dt(Ut=>({...Ut,isPositioned:!1})))},[ct]);const Ot=reactExports.useRef(!1);index$1(()=>(Ot.current=!0,()=>{Ot.current=!1}),[]),index$1(()=>{if(St&&(Et.current=St),bt&&(Tt.current=bt),St&&bt){if(kt.current)return kt.current(St,bt,Ft);Ft()}},[St,bt,Ft,kt,Ct]);const It=reactExports.useMemo(()=>({reference:Et,floating:Tt,setReference:_t,setFloating:yt}),[_t,yt]),Bt=reactExports.useMemo(()=>({reference:St,floating:bt}),[St,bt]),qt=reactExports.useMemo(()=>{const Ut={position:rt,left:0,top:0};if(!Bt.floating)return Ut;const Ht=roundByDPR(Bt.floating,ut.x),Qt=roundByDPR(Bt.floating,ut.y);return ot?{...Ut,transform:"translate("+Ht+"px, "+Qt+"px)",...getDPR(Bt.floating)>=1.5&&{willChange:"transform"}}:{position:rt,left:Ht,top:Qt}},[rt,ot,Bt.floating,ut.x,ut.y]);return reactExports.useMemo(()=>({...ut,update:Ft,refs:It,elements:Bt,floatingStyles:qt}),[ut,Ft,It,Bt,qt])}const arrow$1=et=>{function tt(rt){return{}.hasOwnProperty.call(rt,"current")}return{name:"arrow",options:et,fn(rt){const{element:nt,padding:at}=typeof et=="function"?et(rt):et;return nt&&tt(nt)?nt.current!=null?arrow$2({element:nt.current,padding:at}).fn(rt):{}:nt?arrow$2({element:nt,padding:at}).fn(rt):{}}}},offset=(et,tt)=>({...offset$1(et),options:[et,tt]}),shift=(et,tt)=>({...shift$1(et),options:[et,tt]}),limitShift=(et,tt)=>({...limitShift$1(et),options:[et,tt]}),flip=(et,tt)=>({...flip$1(et),options:[et,tt]}),size=(et,tt)=>({...size$1(et),options:[et,tt]}),hide=(et,tt)=>({...hide$1(et),options:[et,tt]}),arrow=(et,tt)=>({...arrow$1(et),options:[et,tt]});var NAME$1="Arrow",Arrow$1=reactExports.forwardRef((et,tt)=>{const{children:rt,width:nt=10,height:at=5,...it}=et;return jsxRuntimeExports.jsx(Primitive$2.svg,{...it,ref:tt,width:nt,height:at,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:et.asChild?rt:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$1;var Root$4=Arrow$1;function useSize(et){const[tt,rt]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(et){rt({width:et.offsetWidth,height:et.offsetHeight});const nt=new ResizeObserver(at=>{if(!Array.isArray(at)||!at.length)return;const it=at[0];let st,ot;if("borderBoxSize"in it){const lt=it.borderBoxSize,ct=Array.isArray(lt)?lt[0]:lt;st=ct.inlineSize,ot=ct.blockSize}else st=et.offsetWidth,ot=et.offsetHeight;rt({width:st,height:ot})});return nt.observe(et,{box:"border-box"}),()=>nt.unobserve(et)}else rt(void 0)},[et]),tt}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope$1(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=et=>{const{__scopePopper:tt,children:rt}=et,[nt,at]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:tt,anchor:nt,onAnchorChange:at,children:rt})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME$2="PopperAnchor",PopperAnchor=reactExports.forwardRef((et,tt)=>{const{__scopePopper:rt,virtualRef:nt,...at}=et,it=usePopperContext(ANCHOR_NAME$2,rt),st=reactExports.useRef(null),ot=useComposedRefs(tt,st),lt=reactExports.useRef(null);return reactExports.useEffect(()=>{const ct=lt.current;lt.current=(nt==null?void 0:nt.current)||st.current,ct!==lt.current&&it.onAnchorChange(lt.current)}),nt?null:jsxRuntimeExports.jsx(Primitive$2.div,{...at,ref:ot})});PopperAnchor.displayName=ANCHOR_NAME$2;var CONTENT_NAME$6="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$6),PopperContent=reactExports.forwardRef((et,tt)=>{var Vt,Gt,Zt,er,ar,Kt;const{__scopePopper:rt,side:nt="bottom",sideOffset:at=0,align:it="center",alignOffset:st=0,arrowPadding:ot=0,avoidCollisions:lt=!0,collisionBoundary:ct=[],collisionPadding:ut=0,sticky:dt="partial",hideWhenDetached:ft=!1,updatePositionStrategy:ht="optimized",onPlaced:gt,...mt}=et,xt=usePopperContext(CONTENT_NAME$6,rt),[vt,_t]=reactExports.useState(null),yt=useComposedRefs(tt,pr=>_t(pr)),[St,bt]=reactExports.useState(null),Et=useSize(St),Tt=(Et==null?void 0:Et.width)??0,At=(Et==null?void 0:Et.height)??0,Ct=nt+(it!=="center"?"-"+it:""),kt=typeof ut=="number"?ut:{top:0,right:0,bottom:0,left:0,...ut},Pt=Array.isArray(ct)?ct:[ct],Dt=Pt.length>0,Ft={padding:kt,boundary:Pt.filter(isNotNull),altBoundary:Dt},{refs:Ot,floatingStyles:It,placement:Bt,isPositioned:qt,middlewareData:Ut}=useFloating({strategy:"fixed",placement:Ct,whileElementsMounted:(...pr)=>autoUpdate(...pr,{animationFrame:ht==="always"}),elements:{reference:xt.anchor},middleware:[offset({mainAxis:at+At,alignmentAxis:st}),lt&&shift({mainAxis:!0,crossAxis:!1,limiter:dt==="partial"?limitShift():void 0,...Ft}),lt&&flip({...Ft}),size({...Ft,apply:({elements:pr,rects:fr,availableWidth:vr,availableHeight:wr})=>{const{width:hr,height:Ir}=fr.reference,Jr=pr.floating.style;Jr.setProperty("--radix-popper-available-width",`${vr}px`),Jr.setProperty("--radix-popper-available-height",`${wr}px`),Jr.setProperty("--radix-popper-anchor-width",`${hr}px`),Jr.setProperty("--radix-popper-anchor-height",`${Ir}px`)}}),St&&arrow({element:St,padding:ot}),transformOrigin({arrowWidth:Tt,arrowHeight:At}),ft&&hide({strategy:"referenceHidden",...Ft})]}),[Ht,Qt]=getSideAndAlignFromPlacement(Bt),ir=useCallbackRef$1(gt);useLayoutEffect2(()=>{qt&&(ir==null||ir())},[qt,ir]);const Xt=(Vt=Ut.arrow)==null?void 0:Vt.x,Lt=(Gt=Ut.arrow)==null?void 0:Gt.y,jt=((Zt=Ut.arrow)==null?void 0:Zt.centerOffset)!==0,[Nt,Mt]=reactExports.useState();return useLayoutEffect2(()=>{vt&&Mt(window.getComputedStyle(vt).zIndex)},[vt]),jsxRuntimeExports.jsx("div",{ref:Ot.setFloating,"data-radix-popper-content-wrapper":"",style:{...It,transform:qt?It.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Nt,"--radix-popper-transform-origin":[(er=Ut.transformOrigin)==null?void 0:er.x,(ar=Ut.transformOrigin)==null?void 0:ar.y].join(" "),...((Kt=Ut.hide)==null?void 0:Kt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:et.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:rt,placedSide:Ht,onArrowChange:bt,arrowX:Xt,arrowY:Lt,shouldHideArrow:jt,children:jsxRuntimeExports.jsx(Primitive$2.div,{"data-side":Ht,"data-align":Qt,...mt,ref:yt,style:{...mt.style,animation:qt?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$6;var ARROW_NAME$4="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function(tt,rt){const{__scopePopper:nt,...at}=tt,it=useContentContext(ARROW_NAME$4,nt),st=OPPOSITE_SIDE[it.placedSide];return jsxRuntimeExports.jsx("span",{ref:it.onArrowChange,style:{position:"absolute",left:it.arrowX,top:it.arrowY,[st]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[it.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[it.placedSide],visibility:it.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$4,{...at,ref:rt,style:{...at.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$4;function isNotNull(et){return et!==null}var transformOrigin=et=>({name:"transformOrigin",options:et,fn(tt){var xt,vt,_t;const{placement:rt,rects:nt,middlewareData:at}=tt,st=((xt=at.arrow)==null?void 0:xt.centerOffset)!==0,ot=st?0:et.arrowWidth,lt=st?0:et.arrowHeight,[ct,ut]=getSideAndAlignFromPlacement(rt),dt={start:"0%",center:"50%",end:"100%"}[ut],ft=(((vt=at.arrow)==null?void 0:vt.x)??0)+ot/2,ht=(((_t=at.arrow)==null?void 0:_t.y)??0)+lt/2;let gt="",mt="";return ct==="bottom"?(gt=st?dt:`${ft}px`,mt=`${-lt}px`):ct==="top"?(gt=st?dt:`${ft}px`,mt=`${nt.floating.height+lt}px`):ct==="right"?(gt=`${-lt}px`,mt=st?dt:`${ht}px`):ct==="left"&&(gt=`${nt.floating.width+lt}px`,mt=st?dt:`${ht}px`),{data:{x:gt,y:mt}}}});function getSideAndAlignFromPlacement(et){const[tt,rt="center"]=et.split("-");return[tt,rt]}var Root2$4=Popper,Anchor=PopperAnchor,Content$2=PopperContent,Arrow=PopperArrow,ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS={bubbles:!1,cancelable:!0},GROUP_NAME$3="RovingFocusGroup",[Collection$2,useCollection$2,createCollectionScope$2]=createCollection(GROUP_NAME$3),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope$1(GROUP_NAME$3,[createCollectionScope$2]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME$3),RovingFocusGroup=reactExports.forwardRef((et,tt)=>jsxRuntimeExports.jsx(Collection$2.Provider,{scope:et.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection$2.Slot,{scope:et.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...et,ref:tt})})}));RovingFocusGroup.displayName=GROUP_NAME$3;var RovingFocusGroupImpl=reactExports.forwardRef((et,tt)=>{const{__scopeRovingFocusGroup:rt,orientation:nt,loop:at=!1,dir:it,currentTabStopId:st,defaultCurrentTabStopId:ot,onCurrentTabStopIdChange:lt,onEntryFocus:ct,preventScrollOnEntryFocus:ut=!1,...dt}=et,ft=reactExports.useRef(null),ht=useComposedRefs(tt,ft),gt=useDirection(it),[mt,xt]=useControllableState({prop:st,defaultProp:ot??null,onChange:lt,caller:GROUP_NAME$3}),[vt,_t]=reactExports.useState(!1),yt=useCallbackRef$1(ct),St=useCollection$2(rt),bt=reactExports.useRef(!1),[Et,Tt]=reactExports.useState(0);return reactExports.useEffect(()=>{const At=ft.current;if(At)return At.addEventListener(ENTRY_FOCUS,yt),()=>At.removeEventListener(ENTRY_FOCUS,yt)},[yt]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:rt,orientation:nt,dir:gt,loop:at,currentTabStopId:mt,onItemFocus:reactExports.useCallback(At=>xt(At),[xt]),onItemShiftTab:reactExports.useCallback(()=>_t(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>Tt(At=>At+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>Tt(At=>At-1),[]),children:jsxRuntimeExports.jsx(Primitive$2.div,{tabIndex:vt||Et===0?-1:0,"data-orientation":nt,...dt,ref:ht,style:{outline:"none",...et.style},onMouseDown:composeEventHandlers(et.onMouseDown,()=>{bt.current=!0}),onFocus:composeEventHandlers(et.onFocus,At=>{const Ct=!bt.current;if(At.target===At.currentTarget&&Ct&&!vt){const kt=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS);if(At.currentTarget.dispatchEvent(kt),!kt.defaultPrevented){const Pt=St().filter(Bt=>Bt.focusable),Dt=Pt.find(Bt=>Bt.active),Ft=Pt.find(Bt=>Bt.id===mt),It=[Dt,Ft,...Pt].filter(Boolean).map(Bt=>Bt.ref.current);focusFirst$1(It,ut)}}bt.current=!1}),onBlur:composeEventHandlers(et.onBlur,()=>_t(!1))})})}),ITEM_NAME$3="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((et,tt)=>{const{__scopeRovingFocusGroup:rt,focusable:nt=!0,active:at=!1,tabStopId:it,children:st,...ot}=et,lt=useId(),ct=it||lt,ut=useRovingFocusContext(ITEM_NAME$3,rt),dt=ut.currentTabStopId===ct,ft=useCollection$2(rt),{onFocusableItemAdd:ht,onFocusableItemRemove:gt,currentTabStopId:mt}=ut;return reactExports.useEffect(()=>{if(nt)return ht(),()=>gt()},[nt,ht,gt]),jsxRuntimeExports.jsx(Collection$2.ItemSlot,{scope:rt,id:ct,focusable:nt,active:at,children:jsxRuntimeExports.jsx(Primitive$2.span,{tabIndex:dt?0:-1,"data-orientation":ut.orientation,...ot,ref:tt,onMouseDown:composeEventHandlers(et.onMouseDown,xt=>{nt?ut.onItemFocus(ct):xt.preventDefault()}),onFocus:composeEventHandlers(et.onFocus,()=>ut.onItemFocus(ct)),onKeyDown:composeEventHandlers(et.onKeyDown,xt=>{if(xt.key==="Tab"&&xt.shiftKey){ut.onItemShiftTab();return}if(xt.target!==xt.currentTarget)return;const vt=getFocusIntent(xt,ut.orientation,ut.dir);if(vt!==void 0){if(xt.metaKey||xt.ctrlKey||xt.altKey||xt.shiftKey)return;xt.preventDefault();let yt=ft().filter(St=>St.focusable).map(St=>St.ref.current);if(vt==="last")yt.reverse();else if(vt==="prev"||vt==="next"){vt==="prev"&&yt.reverse();const St=yt.indexOf(xt.currentTarget);yt=ut.loop?wrapArray$2(yt,St+1):yt.slice(St+1)}setTimeout(()=>focusFirst$1(yt))}}),children:typeof st=="function"?st({isCurrentTabStop:dt,hasTabStop:mt!=null}):st})})});RovingFocusGroupItem.displayName=ITEM_NAME$3;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(et,tt){return tt!=="rtl"?et:et==="ArrowLeft"?"ArrowRight":et==="ArrowRight"?"ArrowLeft":et}function getFocusIntent(et,tt,rt){const nt=getDirectionAwareKey(et.key,rt);if(!(tt==="vertical"&&["ArrowLeft","ArrowRight"].includes(nt))&&!(tt==="horizontal"&&["ArrowUp","ArrowDown"].includes(nt)))return MAP_KEY_TO_FOCUS_INTENT[nt]}function focusFirst$1(et,tt=!1){const rt=document.activeElement;for(const nt of et)if(nt===rt||(nt.focus({preventScroll:tt}),document.activeElement!==rt))return}function wrapArray$2(et,tt){return et.map((rt,nt)=>et[(tt+nt)%et.length])}var Root$3=RovingFocusGroup,Item$1=RovingFocusGroupItem;function createSlot$3(et){const tt=createSlotClone$3(et),rt=reactExports.forwardRef((nt,at)=>{const{children:it,...st}=nt,ot=reactExports.Children.toArray(it),lt=ot.find(isSlottable$3);if(lt){const ct=lt.props.children,ut=ot.map(dt=>dt===lt?reactExports.Children.count(ct)>1?reactExports.Children.only(null):reactExports.isValidElement(ct)?ct.props.children:null:dt);return jsxRuntimeExports.jsx(tt,{...st,ref:at,children:reactExports.isValidElement(ct)?reactExports.cloneElement(ct,void 0,ut):null})}return jsxRuntimeExports.jsx(tt,{...st,ref:at,children:it})});return rt.displayName=`${et}.Slot`,rt}function createSlotClone$3(et){const tt=reactExports.forwardRef((rt,nt)=>{const{children:at,...it}=rt;if(reactExports.isValidElement(at)){const st=getElementRef$3(at),ot=mergeProps$3(it,at.props);return at.type!==reactExports.Fragment&&(ot.ref=nt?composeRefs(nt,st):st),reactExports.cloneElement(at,ot)}return reactExports.Children.count(at)>1?reactExports.Children.only(null):null});return tt.displayName=`${et}.SlotClone`,tt}var SLOTTABLE_IDENTIFIER$3=Symbol("radix.slottable");function isSlottable$3(et){return reactExports.isValidElement(et)&&typeof et.type=="function"&&"__radixId"in et.type&&et.type.__radixId===SLOTTABLE_IDENTIFIER$3}function mergeProps$3(et,tt){const rt={...tt};for(const nt in tt){const at=et[nt],it=tt[nt];/^on[A-Z]/.test(nt)?at&&it?rt[nt]=(...ot)=>{const lt=it(...ot);return at(...ot),lt}:at&&(rt[nt]=at):nt==="style"?rt[nt]={...at,...it}:nt==="className"&&(rt[nt]=[at,it].filter(Boolean).join(" "))}return{...et,...rt}}function getElementRef$3(et){var nt,at;let tt=(nt=Object.getOwnPropertyDescriptor(et.props,"ref"))==null?void 0:nt.get,rt=tt&&"isReactWarning"in tt&&tt.isReactWarning;return rt?et.ref:(tt=(at=Object.getOwnPropertyDescriptor(et,"ref"))==null?void 0:at.get,rt=tt&&"isReactWarning"in tt&&tt.isReactWarning,rt?et.props.ref:et.props.ref||et.ref)}var getDefaultParent=function(et){if(typeof document>"u")return null;var tt=Array.isArray(et)?et[0]:et;return tt.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(et){return et&&(et.host||unwrapHost(et.parentNode))},correctTargets=function(et,tt){return tt.map(function(rt){if(et.contains(rt))return rt;var nt=unwrapHost(rt);return nt&&et.contains(nt)?nt:(console.error("aria-hidden",rt,"in not contained inside",et,". Doing nothing"),null)}).filter(function(rt){return!!rt})},applyAttributeToOthers=function(et,tt,rt,nt){var at=correctTargets(tt,Array.isArray(et)?et:[et]);markerMap[rt]||(markerMap[rt]=new WeakMap);var it=markerMap[rt],st=[],ot=new Set,lt=new Set(at),ct=function(dt){!dt||ot.has(dt)||(ot.add(dt),ct(dt.parentNode))};at.forEach(ct);var ut=function(dt){!dt||lt.has(dt)||Array.prototype.forEach.call(dt.children,function(ft){if(ot.has(ft))ut(ft);else try{var ht=ft.getAttribute(nt),gt=ht!==null&&ht!=="false",mt=(counterMap.get(ft)||0)+1,xt=(it.get(ft)||0)+1;counterMap.set(ft,mt),it.set(ft,xt),st.push(ft),mt===1&&gt&&uncontrolledNodes.set(ft,!0),xt===1&&ft.setAttribute(rt,"true"),gt||ft.setAttribute(nt,"true")}catch(vt){console.error("aria-hidden: cannot operate on ",ft,vt)}})};return ut(tt),ot.clear(),lockCount++,function(){st.forEach(function(dt){var ft=counterMap.get(dt)-1,ht=it.get(dt)-1;counterMap.set(dt,ft),it.set(dt,ht),ft||(uncontrolledNodes.has(dt)||dt.removeAttribute(nt),uncontrolledNodes.delete(dt)),ht||dt.removeAttribute(rt)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(et,tt,rt){rt===void 0&&(rt="data-aria-hidden");var nt=Array.from(Array.isArray(et)?et:[et]),at=tt||getDefaultParent(et);return at?(nt.push.apply(nt,Array.from(at.querySelectorAll("[aria-live], script"))),applyAttributeToOthers(nt,at,rt,"aria-hidden")):function(){return null}},zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(et,tt){return typeof et=="function"?et(tt):et&&(et.current=tt),et}function useCallbackRef(et,tt){var rt=reactExports.useState(function(){return{value:et,callback:tt,facade:{get current(){return rt.value},set current(nt){var at=rt.value;at!==nt&&(rt.value=nt,rt.callback(nt,at))}}}})[0];return rt.callback=tt,rt.facade}var useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(et,tt){var rt=useCallbackRef(tt||null,function(nt){return et.forEach(function(at){return assignRef(at,nt)})});return useIsomorphicLayoutEffect(function(){var nt=currentValues.get(rt);if(nt){var at=new Set(nt),it=new Set(et),st=rt.current;at.forEach(function(ot){it.has(ot)||assignRef(ot,null)}),it.forEach(function(ot){at.has(ot)||assignRef(ot,st)})}currentValues.set(rt,et)},[et]),rt}function ItoI(et){return et}function innerCreateMedium(et,tt){tt===void 0&&(tt=ItoI);var rt=[],nt=!1,at={read:function(){if(nt)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return rt.length?rt[rt.length-1]:et},useMedium:function(it){var st=tt(it,nt);return rt.push(st),function(){rt=rt.filter(function(ot){return ot!==st})}},assignSyncMedium:function(it){for(nt=!0;rt.length;){var st=rt;rt=[],st.forEach(it)}rt={push:function(ot){return it(ot)},filter:function(){return rt}}},assignMedium:function(it){nt=!0;var st=[];if(rt.length){var ot=rt;rt=[],ot.forEach(it),st=rt}var lt=function(){var ut=st;st=[],ut.forEach(it)},ct=function(){return Promise.resolve().then(lt)};ct(),rt={push:function(ut){st.push(ut),ct()},filter:function(ut){return st=st.filter(ut),rt}}}};return at}function createSidecarMedium(et){et===void 0&&(et={});var tt=innerCreateMedium(null);return tt.options=__assign$1({async:!0,ssr:!1},et),tt}var SideCar$2=function(et){var tt=et.sideCar,rt=__rest$5(et,["sideCar"]);if(!tt)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var nt=tt.read();if(!nt)throw new Error("Sidecar medium not found");return reactExports.createElement(nt,__assign$1({},rt))};SideCar$2.isSideCarExport=!0;function exportSidecar(et,tt){return et.useMedium(tt),SideCar$2}var effectCar$1=createSidecarMedium(),nothing$1=function(){},RemoveScroll$2=reactExports.forwardRef(function(et,tt){var rt=reactExports.useRef(null),nt=reactExports.useState({onScrollCapture:nothing$1,onWheelCapture:nothing$1,onTouchMoveCapture:nothing$1}),at=nt[0],it=nt[1],st=et.forwardProps,ot=et.children,lt=et.className,ct=et.removeScrollBar,ut=et.enabled,dt=et.shards,ft=et.sideCar,ht=et.noRelative,gt=et.noIsolation,mt=et.inert,xt=et.allowPinchZoom,vt=et.as,_t=vt===void 0?"div":vt,yt=et.gapMode,St=__rest$5(et,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),bt=ft,Et=useMergeRefs([rt,tt]),Tt=__assign$1(__assign$1({},St),at);return reactExports.createElement(reactExports.Fragment,null,ut&&reactExports.createElement(bt,{sideCar:effectCar$1,removeScrollBar:ct,shards:dt,noRelative:ht,noIsolation:gt,inert:mt,setCallbacks:it,allowPinchZoom:!!xt,lockRef:rt,gapMode:yt}),st?reactExports.cloneElement(reactExports.Children.only(ot),__assign$1(__assign$1({},Tt),{ref:Et})):reactExports.createElement(_t,__assign$1({},Tt,{className:lt,ref:Et}),ot))});RemoveScroll$2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll$2.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var currentNonce,getNonce=function(){if(currentNonce)return currentNonce;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var et=document.createElement("style");et.type="text/css";var tt=getNonce();return tt&&et.setAttribute("nonce",tt),et}function injectStyles(et,tt){et.styleSheet?et.styleSheet.cssText=tt:et.appendChild(document.createTextNode(tt))}function insertStyleTag(et){var tt=document.head||document.getElementsByTagName("head")[0];tt.appendChild(et)}var stylesheetSingleton=function(){var et=0,tt=null;return{add:function(rt){et==0&&(tt=makeStyleTag())&&(injectStyles(tt,rt),insertStyleTag(tt)),et++},remove:function(){et--,!et&&tt&&(tt.parentNode&&tt.parentNode.removeChild(tt),tt=null)}}},styleHookSingleton=function(){var et=stylesheetSingleton();return function(tt,rt){reactExports.useEffect(function(){return et.add(tt),function(){et.remove()}},[tt&&rt])}},styleSingleton=function(){var et=styleHookSingleton(),tt=function(rt){var nt=rt.styles,at=rt.dynamic;return et(nt,at),null};return tt},zeroGap={left:0,top:0,right:0,gap:0},parse$1=function(et){return parseInt(et||"",10)||0},getOffset$1=function(et){var tt=window.getComputedStyle(document.body),rt=tt[et==="padding"?"paddingLeft":"marginLeft"],nt=tt[et==="padding"?"paddingTop":"marginTop"],at=tt[et==="padding"?"paddingRight":"marginRight"];return[parse$1(rt),parse$1(nt),parse$1(at)]},getGapWidth=function(et){if(et===void 0&&(et="margin"),typeof window>"u")return zeroGap;var tt=getOffset$1(et),rt=document.documentElement.clientWidth,nt=window.innerWidth;return{left:tt[0],top:tt[1],right:tt[2],gap:Math.max(0,nt-rt+tt[2]-tt[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(et,tt,rt,nt){var at=et.left,it=et.top,st=et.right,ot=et.gap;return rt===void 0&&(rt="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(nt,`;
   padding-right: `).concat(ot,"px ").concat(nt,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(nt,`;
    overscroll-behavior: contain;
    `).concat([tt&&"position: relative ".concat(nt,";"),rt==="margin"&&`
    padding-left: `.concat(at,`px;
    padding-top: `).concat(it,`px;
    padding-right: `).concat(st,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(ot,"px ").concat(nt,`;
    `),rt==="padding"&&"padding-right: ".concat(ot,"px ").concat(nt,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(ot,"px ").concat(nt,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(ot,"px ").concat(nt,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(nt,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(nt,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(ot,`px;
  }
`)},getCurrentUseCounter=function(){var et=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(et)?et:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var et=getCurrentUseCounter()-1;et<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,et.toString())}},[])},RemoveScrollBar=function(et){var tt=et.noRelative,rt=et.noImportant,nt=et.gapMode,at=nt===void 0?"margin":nt;useLockAttribute();var it=reactExports.useMemo(function(){return getGapWidth(at)},[at]);return reactExports.createElement(Style,{styles:getStyles(it,!tt,at,rt?"":"!important")})},passiveSupported$1=!1;if(typeof window<"u")try{var options$1=Object.defineProperty({},"passive",{get:function(){return passiveSupported$1=!0,!0}});window.addEventListener("test",options$1,options$1),window.removeEventListener("test",options$1,options$1)}catch{passiveSupported$1=!1}var nonPassive$1=passiveSupported$1?{passive:!1}:!1,alwaysContainsScroll=function(et){return et.tagName==="TEXTAREA"},elementCanBeScrolled=function(et,tt){if(!(et instanceof Element))return!1;var rt=window.getComputedStyle(et);return rt[tt]!=="hidden"&&!(rt.overflowY===rt.overflowX&&!alwaysContainsScroll(et)&&rt[tt]==="visible")},elementCouldBeVScrolled$1=function(et){return elementCanBeScrolled(et,"overflowY")},elementCouldBeHScrolled$1=function(et){return elementCanBeScrolled(et,"overflowX")},locationCouldBeScrolled$1=function(et,tt){var rt=tt.ownerDocument,nt=tt;do{typeof ShadowRoot<"u"&&nt instanceof ShadowRoot&&(nt=nt.host);var at=elementCouldBeScrolled$1(et,nt);if(at){var it=getScrollVariables$1(et,nt),st=it[1],ot=it[2];if(st>ot)return!0}nt=nt.parentNode}while(nt&&nt!==rt.body);return!1},getVScrollVariables$1=function(et){var tt=et.scrollTop,rt=et.scrollHeight,nt=et.clientHeight;return[tt,rt,nt]},getHScrollVariables$1=function(et){var tt=et.scrollLeft,rt=et.scrollWidth,nt=et.clientWidth;return[tt,rt,nt]},elementCouldBeScrolled$1=function(et,tt){return et==="v"?elementCouldBeVScrolled$1(tt):elementCouldBeHScrolled$1(tt)},getScrollVariables$1=function(et,tt){return et==="v"?getVScrollVariables$1(tt):getHScrollVariables$1(tt)},getDirectionFactor$1=function(et,tt){return et==="h"&&tt==="rtl"?-1:1},handleScroll$1=function(et,tt,rt,nt,at){var it=getDirectionFactor$1(et,window.getComputedStyle(tt).direction),st=it*nt,ot=rt.target,lt=tt.contains(ot),ct=!1,ut=st>0,dt=0,ft=0;do{if(!ot)break;var ht=getScrollVariables$1(et,ot),gt=ht[0],mt=ht[1],xt=ht[2],vt=mt-xt-it*gt;(gt||vt)&&elementCouldBeScrolled$1(et,ot)&&(dt+=vt,ft+=gt);var _t=ot.parentNode;ot=_t&&_t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_t.host:_t}while(!lt&&ot!==document.body||lt&&(tt.contains(ot)||tt===ot));return(ut&&(at&&Math.abs(dt)<1||!at&&st>dt)||!ut&&(at&&Math.abs(ft)<1||!at&&-st>ft))&&(ct=!0),ct},getTouchXY$1=function(et){return"changedTouches"in et?[et.changedTouches[0].clientX,et.changedTouches[0].clientY]:[0,0]},getDeltaXY$1=function(et){return[et.deltaX,et.deltaY]},extractRef$1=function(et){return et&&"current"in et?et.current:et},deltaCompare$1=function(et,tt){return et[0]===tt[0]&&et[1]===tt[1]},generateStyle$1=function(et){return`
  .block-interactivity-`.concat(et,` {pointer-events: none;}
  .allow-interactivity-`).concat(et,` {pointer-events: all;}
`)},idCounter$2=0,lockStack$1=[];function RemoveScrollSideCar$1(et){var tt=reactExports.useRef([]),rt=reactExports.useRef([0,0]),nt=reactExports.useRef(),at=reactExports.useState(idCounter$2++)[0],it=reactExports.useState(styleSingleton)[0],st=reactExports.useRef(et);reactExports.useEffect(function(){st.current=et},[et]),reactExports.useEffect(function(){if(et.inert){document.body.classList.add("block-interactivity-".concat(at));var mt=__spreadArray$1([et.lockRef.current],(et.shards||[]).map(extractRef$1),!0).filter(Boolean);return mt.forEach(function(xt){return xt.classList.add("allow-interactivity-".concat(at))}),function(){document.body.classList.remove("block-interactivity-".concat(at)),mt.forEach(function(xt){return xt.classList.remove("allow-interactivity-".concat(at))})}}},[et.inert,et.lockRef.current,et.shards]);var ot=reactExports.useCallback(function(mt,xt){if("touches"in mt&&mt.touches.length===2||mt.type==="wheel"&&mt.ctrlKey)return!st.current.allowPinchZoom;var vt=getTouchXY$1(mt),_t=rt.current,yt="deltaX"in mt?mt.deltaX:_t[0]-vt[0],St="deltaY"in mt?mt.deltaY:_t[1]-vt[1],bt,Et=mt.target,Tt=Math.abs(yt)>Math.abs(St)?"h":"v";if("touches"in mt&&Tt==="h"&&Et.type==="range")return!1;var At=locationCouldBeScrolled$1(Tt,Et);if(!At)return!0;if(At?bt=Tt:(bt=Tt==="v"?"h":"v",At=locationCouldBeScrolled$1(Tt,Et)),!At)return!1;if(!nt.current&&"changedTouches"in mt&&(yt||St)&&(nt.current=bt),!bt)return!0;var Ct=nt.current||bt;return handleScroll$1(Ct,xt,mt,Ct==="h"?yt:St,!0)},[]),lt=reactExports.useCallback(function(mt){var xt=mt;if(!(!lockStack$1.length||lockStack$1[lockStack$1.length-1]!==it)){var vt="deltaY"in xt?getDeltaXY$1(xt):getTouchXY$1(xt),_t=tt.current.filter(function(bt){return bt.name===xt.type&&(bt.target===xt.target||xt.target===bt.shadowParent)&&deltaCompare$1(bt.delta,vt)})[0];if(_t&&_t.should){xt.cancelable&&xt.preventDefault();return}if(!_t){var yt=(st.current.shards||[]).map(extractRef$1).filter(Boolean).filter(function(bt){return bt.contains(xt.target)}),St=yt.length>0?ot(xt,yt[0]):!st.current.noIsolation;St&&xt.cancelable&&xt.preventDefault()}}},[]),ct=reactExports.useCallback(function(mt,xt,vt,_t){var yt={name:mt,delta:xt,target:vt,should:_t,shadowParent:getOutermostShadowParent(vt)};tt.current.push(yt),setTimeout(function(){tt.current=tt.current.filter(function(St){return St!==yt})},1)},[]),ut=reactExports.useCallback(function(mt){rt.current=getTouchXY$1(mt),nt.current=void 0},[]),dt=reactExports.useCallback(function(mt){ct(mt.type,getDeltaXY$1(mt),mt.target,ot(mt,et.lockRef.current))},[]),ft=reactExports.useCallback(function(mt){ct(mt.type,getTouchXY$1(mt),mt.target,ot(mt,et.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack$1.push(it),et.setCallbacks({onScrollCapture:dt,onWheelCapture:dt,onTouchMoveCapture:ft}),document.addEventListener("wheel",lt,nonPassive$1),document.addEventListener("touchmove",lt,nonPassive$1),document.addEventListener("touchstart",ut,nonPassive$1),function(){lockStack$1=lockStack$1.filter(function(mt){return mt!==it}),document.removeEventListener("wheel",lt,nonPassive$1),document.removeEventListener("touchmove",lt,nonPassive$1),document.removeEventListener("touchstart",ut,nonPassive$1)}},[]);var ht=et.removeScrollBar,gt=et.inert;return reactExports.createElement(reactExports.Fragment,null,gt?reactExports.createElement(it,{styles:generateStyle$1(at)}):null,ht?reactExports.createElement(RemoveScrollBar,{noRelative:et.noRelative,gapMode:et.gapMode}):null)}function getOutermostShadowParent(et){for(var tt=null;et!==null;)et instanceof ShadowRoot&&(tt=et.host,et=et.host),et=et.parentNode;return tt}const SideCar$1=exportSidecar(effectCar$1,RemoveScrollSideCar$1);var ReactRemoveScroll$1=reactExports.forwardRef(function(et,tt){return reactExports.createElement(RemoveScroll$2,__assign$1({},et,{ref:tt,sideCar:SideCar$1}))});ReactRemoveScroll$1.classNames=RemoveScroll$2.classNames;const RemoveScroll$1=ReactRemoveScroll$1;var SELECTION_KEYS$1=["Enter"," "],FIRST_KEYS=["ArrowDown","PageUp","Home"],LAST_KEYS=["ArrowUp","PageDown","End"],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],SUB_OPEN_KEYS={ltr:[...SELECTION_KEYS$1,"ArrowRight"],rtl:[...SELECTION_KEYS$1,"ArrowLeft"]},SUB_CLOSE_KEYS={ltr:["ArrowLeft"],rtl:["ArrowRight"]},MENU_NAME="Menu",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(MENU_NAME),[createMenuContext,createMenuScope]=createContextScope$1(MENU_NAME,[createCollectionScope$1,createPopperScope,createRovingFocusGroupScope]),usePopperScope$2=createPopperScope(),useRovingFocusGroupScope$1=createRovingFocusGroupScope(),[MenuProvider,useMenuContext]=createMenuContext(MENU_NAME),[MenuRootProvider,useMenuRootContext]=createMenuContext(MENU_NAME),Menu=et=>{const{__scopeMenu:tt,open:rt=!1,children:nt,dir:at,onOpenChange:it,modal:st=!0}=et,ot=usePopperScope$2(tt),[lt,ct]=reactExports.useState(null),ut=reactExports.useRef(!1),dt=useCallbackRef$1(it),ft=useDirection(at);return reactExports.useEffect(()=>{const ht=()=>{ut.current=!0,document.addEventListener("pointerdown",gt,{capture:!0,once:!0}),document.addEventListener("pointermove",gt,{capture:!0,once:!0})},gt=()=>ut.current=!1;return document.addEventListener("keydown",ht,{capture:!0}),()=>{document.removeEventListener("keydown",ht,{capture:!0}),document.removeEventListener("pointerdown",gt,{capture:!0}),document.removeEventListener("pointermove",gt,{capture:!0})}},[]),jsxRuntimeExports.jsx(Root2$4,{...ot,children:jsxRuntimeExports.jsx(MenuProvider,{scope:tt,open:rt,onOpenChange:dt,content:lt,onContentChange:ct,children:jsxRuntimeExports.jsx(MenuRootProvider,{scope:tt,onClose:reactExports.useCallback(()=>dt(!1),[dt]),isUsingKeyboardRef:ut,dir:ft,modal:st,children:nt})})})};Menu.displayName=MENU_NAME;var ANCHOR_NAME$1="MenuAnchor",MenuAnchor=reactExports.forwardRef((et,tt)=>{const{__scopeMenu:rt,...nt}=et,at=usePopperScope$2(rt);return jsxRuntimeExports.jsx(Anchor,{...at,...nt,ref:tt})});MenuAnchor.displayName=ANCHOR_NAME$1;var PORTAL_NAME$4="MenuPortal",[PortalProvider$2,usePortalContext$2]=createMenuContext(PORTAL_NAME$4,{forceMount:void 0}),MenuPortal=et=>{const{__scopeMenu:tt,forceMount:rt,children:nt,container:at}=et,it=useMenuContext(PORTAL_NAME$4,tt);return jsxRuntimeExports.jsx(PortalProvider$2,{scope:tt,forceMount:rt,children:jsxRuntimeExports.jsx(Presence,{present:rt||it.open,children:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,container:at,children:nt})})})};MenuPortal.displayName=PORTAL_NAME$4;var CONTENT_NAME$5="MenuContent",[MenuContentProvider,useMenuContentContext]=createMenuContext(CONTENT_NAME$5),MenuContent=reactExports.forwardRef((et,tt)=>{const rt=usePortalContext$2(CONTENT_NAME$5,et.__scopeMenu),{forceMount:nt=rt.forceMount,...at}=et,it=useMenuContext(CONTENT_NAME$5,et.__scopeMenu),st=useMenuRootContext(CONTENT_NAME$5,et.__scopeMenu);return jsxRuntimeExports.jsx(Collection$1.Provider,{scope:et.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:nt||it.open,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:et.__scopeMenu,children:st.modal?jsxRuntimeExports.jsx(MenuRootContentModal,{...at,ref:tt}):jsxRuntimeExports.jsx(MenuRootContentNonModal,{...at,ref:tt})})})})}),MenuRootContentModal=reactExports.forwardRef((et,tt)=>{const rt=useMenuContext(CONTENT_NAME$5,et.__scopeMenu),nt=reactExports.useRef(null),at=useComposedRefs(tt,nt);return reactExports.useEffect(()=>{const it=nt.current;if(it)return hideOthers(it)},[]),jsxRuntimeExports.jsx(MenuContentImpl,{...et,ref:at,trapFocus:rt.open,disableOutsidePointerEvents:rt.open,disableOutsideScroll:!0,onFocusOutside:composeEventHandlers(et.onFocusOutside,it=>it.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>rt.onOpenChange(!1)})}),MenuRootContentNonModal=reactExports.forwardRef((et,tt)=>{const rt=useMenuContext(CONTENT_NAME$5,et.__scopeMenu);return jsxRuntimeExports.jsx(MenuContentImpl,{...et,ref:tt,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>rt.onOpenChange(!1)})}),Slot$3=createSlot$3("MenuContent.ScrollLock"),MenuContentImpl=reactExports.forwardRef((et,tt)=>{const{__scopeMenu:rt,loop:nt=!1,trapFocus:at,onOpenAutoFocus:it,onCloseAutoFocus:st,disableOutsidePointerEvents:ot,onEntryFocus:lt,onEscapeKeyDown:ct,onPointerDownOutside:ut,onFocusOutside:dt,onInteractOutside:ft,onDismiss:ht,disableOutsideScroll:gt,...mt}=et,xt=useMenuContext(CONTENT_NAME$5,rt),vt=useMenuRootContext(CONTENT_NAME$5,rt),_t=usePopperScope$2(rt),yt=useRovingFocusGroupScope$1(rt),St=useCollection$1(rt),[bt,Et]=reactExports.useState(null),Tt=reactExports.useRef(null),At=useComposedRefs(tt,Tt,xt.onContentChange),Ct=reactExports.useRef(0),kt=reactExports.useRef(""),Pt=reactExports.useRef(0),Dt=reactExports.useRef(null),Ft=reactExports.useRef("right"),Ot=reactExports.useRef(0),It=gt?RemoveScroll$1:reactExports.Fragment,Bt=gt?{as:Slot$3,allowPinchZoom:!0}:void 0,qt=Ht=>{var Vt,Gt;const Qt=kt.current+Ht,ir=St().filter(Zt=>!Zt.disabled),Xt=document.activeElement,Lt=(Vt=ir.find(Zt=>Zt.ref.current===Xt))==null?void 0:Vt.textValue,jt=ir.map(Zt=>Zt.textValue),Nt=getNextMatch(jt,Qt,Lt),Mt=(Gt=ir.find(Zt=>Zt.textValue===Nt))==null?void 0:Gt.ref.current;(function Zt(er){kt.current=er,window.clearTimeout(Ct.current),er!==""&&(Ct.current=window.setTimeout(()=>Zt(""),1e3))})(Qt),Mt&&setTimeout(()=>Mt.focus())};reactExports.useEffect(()=>()=>window.clearTimeout(Ct.current),[]),useFocusGuards();const Ut=reactExports.useCallback(Ht=>{var ir,Xt;return Ft.current===((ir=Dt.current)==null?void 0:ir.side)&&isPointerInGraceArea(Ht,(Xt=Dt.current)==null?void 0:Xt.area)},[]);return jsxRuntimeExports.jsx(MenuContentProvider,{scope:rt,searchRef:kt,onItemEnter:reactExports.useCallback(Ht=>{Ut(Ht)&&Ht.preventDefault()},[Ut]),onItemLeave:reactExports.useCallback(Ht=>{var Qt;Ut(Ht)||((Qt=Tt.current)==null||Qt.focus(),Et(null))},[Ut]),onTriggerLeave:reactExports.useCallback(Ht=>{Ut(Ht)&&Ht.preventDefault()},[Ut]),pointerGraceTimerRef:Pt,onPointerGraceIntentChange:reactExports.useCallback(Ht=>{Dt.current=Ht},[]),children:jsxRuntimeExports.jsx(It,{...Bt,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:at,onMountAutoFocus:composeEventHandlers(it,Ht=>{var Qt;Ht.preventDefault(),(Qt=Tt.current)==null||Qt.focus({preventScroll:!0})}),onUnmountAutoFocus:st,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:ot,onEscapeKeyDown:ct,onPointerDownOutside:ut,onFocusOutside:dt,onInteractOutside:ft,onDismiss:ht,children:jsxRuntimeExports.jsx(Root$3,{asChild:!0,...yt,dir:vt.dir,orientation:"vertical",loop:nt,currentTabStopId:bt,onCurrentTabStopIdChange:Et,onEntryFocus:composeEventHandlers(lt,Ht=>{vt.isUsingKeyboardRef.current||Ht.preventDefault()}),preventScrollOnEntryFocus:!0,children:jsxRuntimeExports.jsx(Content$2,{role:"menu","aria-orientation":"vertical","data-state":getOpenState(xt.open),"data-radix-menu-content":"",dir:vt.dir,..._t,...mt,ref:At,style:{outline:"none",...mt.style},onKeyDown:composeEventHandlers(mt.onKeyDown,Ht=>{const ir=Ht.target.closest("[data-radix-menu-content]")===Ht.currentTarget,Xt=Ht.ctrlKey||Ht.altKey||Ht.metaKey,Lt=Ht.key.length===1;ir&&(Ht.key==="Tab"&&Ht.preventDefault(),!Xt&&Lt&&qt(Ht.key));const jt=Tt.current;if(Ht.target!==jt||!FIRST_LAST_KEYS.includes(Ht.key))return;Ht.preventDefault();const Mt=St().filter(Vt=>!Vt.disabled).map(Vt=>Vt.ref.current);LAST_KEYS.includes(Ht.key)&&Mt.reverse(),focusFirst(Mt)}),onBlur:composeEventHandlers(et.onBlur,Ht=>{Ht.currentTarget.contains(Ht.target)||(window.clearTimeout(Ct.current),kt.current="")}),onPointerMove:composeEventHandlers(et.onPointerMove,whenMouse(Ht=>{const Qt=Ht.target,ir=Ot.current!==Ht.clientX;if(Ht.currentTarget.contains(Qt)&&ir){const Xt=Ht.clientX>Ot.current?"right":"left";Ft.current=Xt,Ot.current=Ht.clientX}}))})})})})})})});MenuContent.displayName=CONTENT_NAME$5;var GROUP_NAME$2="MenuGroup",MenuGroup=reactExports.forwardRef((et,tt)=>{const{__scopeMenu:rt,...nt}=et;return jsxRuntimeExports.jsx(Primitive$2.div,{role:"group",...nt,ref:tt})});MenuGroup.displayName=GROUP_NAME$2;var LABEL_NAME$2="MenuLabel",MenuLabel=reactExports.forwardRef((et,tt)=>{const{__scopeMenu:rt,...nt}=et;return jsxRuntimeExports.jsx(Primitive$2.div,{...nt,ref:tt})});MenuLabel.displayName=LABEL_NAME$2;var ITEM_NAME$2="MenuItem",ITEM_SELECT="menu.itemSelect",MenuItem=reactExports.forwardRef((et,tt)=>{const{disabled:rt=!1,onSelect:nt,...at}=et,it=reactExports.useRef(null),st=useMenuRootContext(ITEM_NAME$2,et.__scopeMenu),ot=useMenuContentContext(ITEM_NAME$2,et.__scopeMenu),lt=useComposedRefs(tt,it),ct=reactExports.useRef(!1),ut=()=>{const dt=it.current;if(!rt&&dt){const ft=new CustomEvent(ITEM_SELECT,{bubbles:!0,cancelable:!0});dt.addEventListener(ITEM_SELECT,ht=>nt==null?void 0:nt(ht),{once:!0}),dispatchDiscreteCustomEvent(dt,ft),ft.defaultPrevented?ct.current=!1:st.onClose()}};return jsxRuntimeExports.jsx(MenuItemImpl,{...at,ref:lt,disabled:rt,onClick:composeEventHandlers(et.onClick,ut),onPointerDown:dt=>{var ft;(ft=et.onPointerDown)==null||ft.call(et,dt),ct.current=!0},onPointerUp:composeEventHandlers(et.onPointerUp,dt=>{var ft;ct.current||(ft=dt.currentTarget)==null||ft.click()}),onKeyDown:composeEventHandlers(et.onKeyDown,dt=>{const ft=ot.searchRef.current!=="";rt||ft&&dt.key===" "||SELECTION_KEYS$1.includes(dt.key)&&(dt.currentTarget.click(),dt.preventDefault())})})});MenuItem.displayName=ITEM_NAME$2;var MenuItemImpl=reactExports.forwardRef((et,tt)=>{const{__scopeMenu:rt,disabled:nt=!1,textValue:at,...it}=et,st=useMenuContentContext(ITEM_NAME$2,rt),ot=useRovingFocusGroupScope$1(rt),lt=reactExports.useRef(null),ct=useComposedRefs(tt,lt),[ut,dt]=reactExports.useState(!1),[ft,ht]=reactExports.useState("");return reactExports.useEffect(()=>{const gt=lt.current;gt&&ht((gt.textContent??"").trim())},[it.children]),jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:rt,disabled:nt,textValue:at??ft,children:jsxRuntimeExports.jsx(Item$1,{asChild:!0,...ot,focusable:!nt,children:jsxRuntimeExports.jsx(Primitive$2.div,{role:"menuitem","data-highlighted":ut?"":void 0,"aria-disabled":nt||void 0,"data-disabled":nt?"":void 0,...it,ref:ct,onPointerMove:composeEventHandlers(et.onPointerMove,whenMouse(gt=>{nt?st.onItemLeave(gt):(st.onItemEnter(gt),gt.defaultPrevented||gt.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:composeEventHandlers(et.onPointerLeave,whenMouse(gt=>st.onItemLeave(gt))),onFocus:composeEventHandlers(et.onFocus,()=>dt(!0)),onBlur:composeEventHandlers(et.onBlur,()=>dt(!1))})})})}),CHECKBOX_ITEM_NAME$1="MenuCheckboxItem",MenuCheckboxItem=reactExports.forwardRef((et,tt)=>{const{checked:rt=!1,onCheckedChange:nt,...at}=et;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:et.__scopeMenu,checked:rt,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemcheckbox","aria-checked":isIndeterminate(rt)?"mixed":rt,...at,ref:tt,"data-state":getCheckedState(rt),onSelect:composeEventHandlers(at.onSelect,()=>nt==null?void 0:nt(isIndeterminate(rt)?!0:!rt),{checkForDefaultPrevented:!1})})})});MenuCheckboxItem.displayName=CHECKBOX_ITEM_NAME$1;var RADIO_GROUP_NAME$1="MenuRadioGroup",[RadioGroupProvider,useRadioGroupContext]=createMenuContext(RADIO_GROUP_NAME$1,{value:void 0,onValueChange:()=>{}}),MenuRadioGroup=reactExports.forwardRef((et,tt)=>{const{value:rt,onValueChange:nt,...at}=et,it=useCallbackRef$1(nt);return jsxRuntimeExports.jsx(RadioGroupProvider,{scope:et.__scopeMenu,value:rt,onValueChange:it,children:jsxRuntimeExports.jsx(MenuGroup,{...at,ref:tt})})});MenuRadioGroup.displayName=RADIO_GROUP_NAME$1;var RADIO_ITEM_NAME$1="MenuRadioItem",MenuRadioItem=reactExports.forwardRef((et,tt)=>{const{value:rt,...nt}=et,at=useRadioGroupContext(RADIO_ITEM_NAME$1,et.__scopeMenu),it=rt===at.value;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:et.__scopeMenu,checked:it,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemradio","aria-checked":it,...nt,ref:tt,"data-state":getCheckedState(it),onSelect:composeEventHandlers(nt.onSelect,()=>{var st;return(st=at.onValueChange)==null?void 0:st.call(at,rt)},{checkForDefaultPrevented:!1})})})});MenuRadioItem.displayName=RADIO_ITEM_NAME$1;var ITEM_INDICATOR_NAME$1="MenuItemIndicator",[ItemIndicatorProvider,useItemIndicatorContext]=createMenuContext(ITEM_INDICATOR_NAME$1,{checked:!1}),MenuItemIndicator=reactExports.forwardRef((et,tt)=>{const{__scopeMenu:rt,forceMount:nt,...at}=et,it=useItemIndicatorContext(ITEM_INDICATOR_NAME$1,rt);return jsxRuntimeExports.jsx(Presence,{present:nt||isIndeterminate(it.checked)||it.checked===!0,children:jsxRuntimeExports.jsx(Primitive$2.span,{...at,ref:tt,"data-state":getCheckedState(it.checked)})})});MenuItemIndicator.displayName=ITEM_INDICATOR_NAME$1;var SEPARATOR_NAME$2="MenuSeparator",MenuSeparator=reactExports.forwardRef((et,tt)=>{const{__scopeMenu:rt,...nt}=et;return jsxRuntimeExports.jsx(Primitive$2.div,{role:"separator","aria-orientation":"horizontal",...nt,ref:tt})});MenuSeparator.displayName=SEPARATOR_NAME$2;var ARROW_NAME$3="MenuArrow",MenuArrow=reactExports.forwardRef((et,tt)=>{const{__scopeMenu:rt,...nt}=et,at=usePopperScope$2(rt);return jsxRuntimeExports.jsx(Arrow,{...at,...nt,ref:tt})});MenuArrow.displayName=ARROW_NAME$3;var SUB_NAME="MenuSub",[MenuSubProvider,useMenuSubContext]=createMenuContext(SUB_NAME),SUB_TRIGGER_NAME$1="MenuSubTrigger",MenuSubTrigger=reactExports.forwardRef((et,tt)=>{const rt=useMenuContext(SUB_TRIGGER_NAME$1,et.__scopeMenu),nt=useMenuRootContext(SUB_TRIGGER_NAME$1,et.__scopeMenu),at=useMenuSubContext(SUB_TRIGGER_NAME$1,et.__scopeMenu),it=useMenuContentContext(SUB_TRIGGER_NAME$1,et.__scopeMenu),st=reactExports.useRef(null),{pointerGraceTimerRef:ot,onPointerGraceIntentChange:lt}=it,ct={__scopeMenu:et.__scopeMenu},ut=reactExports.useCallback(()=>{st.current&&window.clearTimeout(st.current),st.current=null},[]);return reactExports.useEffect(()=>ut,[ut]),reactExports.useEffect(()=>{const dt=ot.current;return()=>{window.clearTimeout(dt),lt(null)}},[ot,lt]),jsxRuntimeExports.jsx(MenuAnchor,{asChild:!0,...ct,children:jsxRuntimeExports.jsx(MenuItemImpl,{id:at.triggerId,"aria-haspopup":"menu","aria-expanded":rt.open,"aria-controls":at.contentId,"data-state":getOpenState(rt.open),...et,ref:composeRefs(tt,at.onTriggerChange),onClick:dt=>{var ft;(ft=et.onClick)==null||ft.call(et,dt),!(et.disabled||dt.defaultPrevented)&&(dt.currentTarget.focus(),rt.open||rt.onOpenChange(!0))},onPointerMove:composeEventHandlers(et.onPointerMove,whenMouse(dt=>{it.onItemEnter(dt),!dt.defaultPrevented&&!et.disabled&&!rt.open&&!st.current&&(it.onPointerGraceIntentChange(null),st.current=window.setTimeout(()=>{rt.onOpenChange(!0),ut()},100))})),onPointerLeave:composeEventHandlers(et.onPointerLeave,whenMouse(dt=>{var ht,gt;ut();const ft=(ht=rt.content)==null?void 0:ht.getBoundingClientRect();if(ft){const mt=(gt=rt.content)==null?void 0:gt.dataset.side,xt=mt==="right",vt=xt?-5:5,_t=ft[xt?"left":"right"],yt=ft[xt?"right":"left"];it.onPointerGraceIntentChange({area:[{x:dt.clientX+vt,y:dt.clientY},{x:_t,y:ft.top},{x:yt,y:ft.top},{x:yt,y:ft.bottom},{x:_t,y:ft.bottom}],side:mt}),window.clearTimeout(ot.current),ot.current=window.setTimeout(()=>it.onPointerGraceIntentChange(null),300)}else{if(it.onTriggerLeave(dt),dt.defaultPrevented)return;it.onPointerGraceIntentChange(null)}})),onKeyDown:composeEventHandlers(et.onKeyDown,dt=>{var ht;const ft=it.searchRef.current!=="";et.disabled||ft&&dt.key===" "||SUB_OPEN_KEYS[nt.dir].includes(dt.key)&&(rt.onOpenChange(!0),(ht=rt.content)==null||ht.focus(),dt.preventDefault())})})})});MenuSubTrigger.displayName=SUB_TRIGGER_NAME$1;var SUB_CONTENT_NAME$1="MenuSubContent",MenuSubContent=reactExports.forwardRef((et,tt)=>{const rt=usePortalContext$2(CONTENT_NAME$5,et.__scopeMenu),{forceMount:nt=rt.forceMount,...at}=et,it=useMenuContext(CONTENT_NAME$5,et.__scopeMenu),st=useMenuRootContext(CONTENT_NAME$5,et.__scopeMenu),ot=useMenuSubContext(SUB_CONTENT_NAME$1,et.__scopeMenu),lt=reactExports.useRef(null),ct=useComposedRefs(tt,lt);return jsxRuntimeExports.jsx(Collection$1.Provider,{scope:et.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:nt||it.open,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:et.__scopeMenu,children:jsxRuntimeExports.jsx(MenuContentImpl,{id:ot.contentId,"aria-labelledby":ot.triggerId,...at,ref:ct,align:"start",side:st.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:ut=>{var dt;st.isUsingKeyboardRef.current&&((dt=lt.current)==null||dt.focus()),ut.preventDefault()},onCloseAutoFocus:ut=>ut.preventDefault(),onFocusOutside:composeEventHandlers(et.onFocusOutside,ut=>{ut.target!==ot.trigger&&it.onOpenChange(!1)}),onEscapeKeyDown:composeEventHandlers(et.onEscapeKeyDown,ut=>{st.onClose(),ut.preventDefault()}),onKeyDown:composeEventHandlers(et.onKeyDown,ut=>{var ht;const dt=ut.currentTarget.contains(ut.target),ft=SUB_CLOSE_KEYS[st.dir].includes(ut.key);dt&&ft&&(it.onOpenChange(!1),(ht=ot.trigger)==null||ht.focus(),ut.preventDefault())})})})})})});MenuSubContent.displayName=SUB_CONTENT_NAME$1;function getOpenState(et){return et?"open":"closed"}function isIndeterminate(et){return et==="indeterminate"}function getCheckedState(et){return isIndeterminate(et)?"indeterminate":et?"checked":"unchecked"}function focusFirst(et){const tt=document.activeElement;for(const rt of et)if(rt===tt||(rt.focus(),document.activeElement!==tt))return}function wrapArray$1(et,tt){return et.map((rt,nt)=>et[(tt+nt)%et.length])}function getNextMatch(et,tt,rt){const at=tt.length>1&&Array.from(tt).every(ct=>ct===tt[0])?tt[0]:tt,it=rt?et.indexOf(rt):-1;let st=wrapArray$1(et,Math.max(it,0));at.length===1&&(st=st.filter(ct=>ct!==rt));const lt=st.find(ct=>ct.toLowerCase().startsWith(at.toLowerCase()));return lt!==rt?lt:void 0}function isPointInPolygon(et,tt){const{x:rt,y:nt}=et;let at=!1;for(let it=0,st=tt.length-1;it<tt.length;st=it++){const ot=tt[it],lt=tt[st],ct=ot.x,ut=ot.y,dt=lt.x,ft=lt.y;ut>nt!=ft>nt&&rt<(dt-ct)*(nt-ut)/(ft-ut)+ct&&(at=!at)}return at}function isPointerInGraceArea(et,tt){if(!tt)return!1;const rt={x:et.clientX,y:et.clientY};return isPointInPolygon(rt,tt)}function whenMouse(et){return tt=>tt.pointerType==="mouse"?et(tt):void 0}var Root3=Menu,Anchor2=MenuAnchor,Portal$3=MenuPortal,Content2$3=MenuContent,Group=MenuGroup,Label$2=MenuLabel,Item2$1=MenuItem,CheckboxItem=MenuCheckboxItem,RadioGroup=MenuRadioGroup,RadioItem=MenuRadioItem,ItemIndicator$1=MenuItemIndicator,Separator$1=MenuSeparator,Arrow2=MenuArrow,SubTrigger=MenuSubTrigger,SubContent=MenuSubContent,DROPDOWN_MENU_NAME="DropdownMenu",[createDropdownMenuContext,createDropdownMenuScope]=createContextScope$1(DROPDOWN_MENU_NAME,[createMenuScope]),useMenuScope=createMenuScope(),[DropdownMenuProvider,useDropdownMenuContext]=createDropdownMenuContext(DROPDOWN_MENU_NAME),DropdownMenu$1=et=>{const{__scopeDropdownMenu:tt,children:rt,dir:nt,open:at,defaultOpen:it,onOpenChange:st,modal:ot=!0}=et,lt=useMenuScope(tt),ct=reactExports.useRef(null),[ut,dt]=useControllableState({prop:at,defaultProp:it??!1,onChange:st,caller:DROPDOWN_MENU_NAME});return jsxRuntimeExports.jsx(DropdownMenuProvider,{scope:tt,triggerId:useId(),triggerRef:ct,contentId:useId(),open:ut,onOpenChange:dt,onOpenToggle:reactExports.useCallback(()=>dt(ft=>!ft),[dt]),modal:ot,children:jsxRuntimeExports.jsx(Root3,{...lt,open:ut,onOpenChange:dt,dir:nt,modal:ot,children:rt})})};DropdownMenu$1.displayName=DROPDOWN_MENU_NAME;var TRIGGER_NAME$4="DropdownMenuTrigger",DropdownMenuTrigger$1=reactExports.forwardRef((et,tt)=>{const{__scopeDropdownMenu:rt,disabled:nt=!1,...at}=et,it=useDropdownMenuContext(TRIGGER_NAME$4,rt),st=useMenuScope(rt);return jsxRuntimeExports.jsx(Anchor2,{asChild:!0,...st,children:jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",id:it.triggerId,"aria-haspopup":"menu","aria-expanded":it.open,"aria-controls":it.open?it.contentId:void 0,"data-state":it.open?"open":"closed","data-disabled":nt?"":void 0,disabled:nt,...at,ref:composeRefs(tt,it.triggerRef),onPointerDown:composeEventHandlers(et.onPointerDown,ot=>{!nt&&ot.button===0&&ot.ctrlKey===!1&&(it.onOpenToggle(),it.open||ot.preventDefault())}),onKeyDown:composeEventHandlers(et.onKeyDown,ot=>{nt||(["Enter"," "].includes(ot.key)&&it.onOpenToggle(),ot.key==="ArrowDown"&&it.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(ot.key)&&ot.preventDefault())})})})});DropdownMenuTrigger$1.displayName=TRIGGER_NAME$4;var PORTAL_NAME$3="DropdownMenuPortal",DropdownMenuPortal=et=>{const{__scopeDropdownMenu:tt,...rt}=et,nt=useMenuScope(tt);return jsxRuntimeExports.jsx(Portal$3,{...nt,...rt})};DropdownMenuPortal.displayName=PORTAL_NAME$3;var CONTENT_NAME$4="DropdownMenuContent",DropdownMenuContent$1=reactExports.forwardRef((et,tt)=>{const{__scopeDropdownMenu:rt,...nt}=et,at=useDropdownMenuContext(CONTENT_NAME$4,rt),it=useMenuScope(rt),st=reactExports.useRef(!1);return jsxRuntimeExports.jsx(Content2$3,{id:at.contentId,"aria-labelledby":at.triggerId,...it,...nt,ref:tt,onCloseAutoFocus:composeEventHandlers(et.onCloseAutoFocus,ot=>{var lt;st.current||(lt=at.triggerRef.current)==null||lt.focus(),st.current=!1,ot.preventDefault()}),onInteractOutside:composeEventHandlers(et.onInteractOutside,ot=>{const lt=ot.detail.originalEvent,ct=lt.button===0&&lt.ctrlKey===!0,ut=lt.button===2||ct;(!at.modal||ut)&&(st.current=!0)}),style:{...et.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuContent$1.displayName=CONTENT_NAME$4;var GROUP_NAME$1="DropdownMenuGroup",DropdownMenuGroup=reactExports.forwardRef((et,tt)=>{const{__scopeDropdownMenu:rt,...nt}=et,at=useMenuScope(rt);return jsxRuntimeExports.jsx(Group,{...at,...nt,ref:tt})});DropdownMenuGroup.displayName=GROUP_NAME$1;var LABEL_NAME$1="DropdownMenuLabel",DropdownMenuLabel$1=reactExports.forwardRef((et,tt)=>{const{__scopeDropdownMenu:rt,...nt}=et,at=useMenuScope(rt);return jsxRuntimeExports.jsx(Label$2,{...at,...nt,ref:tt})});DropdownMenuLabel$1.displayName=LABEL_NAME$1;var ITEM_NAME$1="DropdownMenuItem",DropdownMenuItem$1=reactExports.forwardRef((et,tt)=>{const{__scopeDropdownMenu:rt,...nt}=et,at=useMenuScope(rt);return jsxRuntimeExports.jsx(Item2$1,{...at,...nt,ref:tt})});DropdownMenuItem$1.displayName=ITEM_NAME$1;var CHECKBOX_ITEM_NAME="DropdownMenuCheckboxItem",DropdownMenuCheckboxItem$1=reactExports.forwardRef((et,tt)=>{const{__scopeDropdownMenu:rt,...nt}=et,at=useMenuScope(rt);return jsxRuntimeExports.jsx(CheckboxItem,{...at,...nt,ref:tt})});DropdownMenuCheckboxItem$1.displayName=CHECKBOX_ITEM_NAME;var RADIO_GROUP_NAME="DropdownMenuRadioGroup",DropdownMenuRadioGroup=reactExports.forwardRef((et,tt)=>{const{__scopeDropdownMenu:rt,...nt}=et,at=useMenuScope(rt);return jsxRuntimeExports.jsx(RadioGroup,{...at,...nt,ref:tt})});DropdownMenuRadioGroup.displayName=RADIO_GROUP_NAME;var RADIO_ITEM_NAME="DropdownMenuRadioItem",DropdownMenuRadioItem$1=reactExports.forwardRef((et,tt)=>{const{__scopeDropdownMenu:rt,...nt}=et,at=useMenuScope(rt);return jsxRuntimeExports.jsx(RadioItem,{...at,...nt,ref:tt})});DropdownMenuRadioItem$1.displayName=RADIO_ITEM_NAME;var INDICATOR_NAME="DropdownMenuItemIndicator",DropdownMenuItemIndicator=reactExports.forwardRef((et,tt)=>{const{__scopeDropdownMenu:rt,...nt}=et,at=useMenuScope(rt);return jsxRuntimeExports.jsx(ItemIndicator$1,{...at,...nt,ref:tt})});DropdownMenuItemIndicator.displayName=INDICATOR_NAME;var SEPARATOR_NAME$1="DropdownMenuSeparator",DropdownMenuSeparator$1=reactExports.forwardRef((et,tt)=>{const{__scopeDropdownMenu:rt,...nt}=et,at=useMenuScope(rt);return jsxRuntimeExports.jsx(Separator$1,{...at,...nt,ref:tt})});DropdownMenuSeparator$1.displayName=SEPARATOR_NAME$1;var ARROW_NAME$2="DropdownMenuArrow",DropdownMenuArrow=reactExports.forwardRef((et,tt)=>{const{__scopeDropdownMenu:rt,...nt}=et,at=useMenuScope(rt);return jsxRuntimeExports.jsx(Arrow2,{...at,...nt,ref:tt})});DropdownMenuArrow.displayName=ARROW_NAME$2;var SUB_TRIGGER_NAME="DropdownMenuSubTrigger",DropdownMenuSubTrigger$1=reactExports.forwardRef((et,tt)=>{const{__scopeDropdownMenu:rt,...nt}=et,at=useMenuScope(rt);return jsxRuntimeExports.jsx(SubTrigger,{...at,...nt,ref:tt})});DropdownMenuSubTrigger$1.displayName=SUB_TRIGGER_NAME;var SUB_CONTENT_NAME="DropdownMenuSubContent",DropdownMenuSubContent$1=reactExports.forwardRef((et,tt)=>{const{__scopeDropdownMenu:rt,...nt}=et,at=useMenuScope(rt);return jsxRuntimeExports.jsx(SubContent,{...at,...nt,ref:tt,style:{...et.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuSubContent$1.displayName=SUB_CONTENT_NAME;var Root2$3=DropdownMenu$1,Trigger$3=DropdownMenuTrigger$1,Portal2=DropdownMenuPortal,Content2$2=DropdownMenuContent$1,Label2=DropdownMenuLabel$1,Item2=DropdownMenuItem$1,CheckboxItem2=DropdownMenuCheckboxItem$1,RadioItem2=DropdownMenuRadioItem$1,ItemIndicator2=DropdownMenuItemIndicator,Separator2=DropdownMenuSeparator$1,SubTrigger2=DropdownMenuSubTrigger$1,SubContent2=DropdownMenuSubContent$1;const DropdownMenu=Root2$3,DropdownMenuTrigger=Trigger$3,DropdownMenuSubTrigger=React$1.forwardRef(({className:et,inset:tt,children:rt,...nt},at)=>jsxRuntimeExports.jsxs(SubTrigger2,{ref:at,className:cn("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",tt&&"pl-8",et),...nt,children:[rt,jsxRuntimeExports.jsx(ChevronRight,{className:"ml-auto h-4 w-4"})]}));DropdownMenuSubTrigger.displayName=SubTrigger2.displayName;const DropdownMenuSubContent=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(SubContent2,{ref:rt,className:cn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",et),...tt}));DropdownMenuSubContent.displayName=SubContent2.displayName;const DropdownMenuContent=React$1.forwardRef(({className:et,sideOffset:tt=4,...rt},nt)=>jsxRuntimeExports.jsx(Portal2,{children:jsxRuntimeExports.jsx(Content2$2,{ref:nt,sideOffset:tt,className:cn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",et),...rt})}));DropdownMenuContent.displayName=Content2$2.displayName;const DropdownMenuItem=React$1.forwardRef(({className:et,inset:tt,...rt},nt)=>jsxRuntimeExports.jsx(Item2,{ref:nt,className:cn("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",tt&&"pl-8",et),...rt}));DropdownMenuItem.displayName=Item2.displayName;const DropdownMenuCheckboxItem=React$1.forwardRef(({className:et,children:tt,checked:rt,...nt},at)=>jsxRuntimeExports.jsxs(CheckboxItem2,{ref:at,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",et),checked:rt,...nt,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),tt]}));DropdownMenuCheckboxItem.displayName=CheckboxItem2.displayName;const DropdownMenuRadioItem=React$1.forwardRef(({className:et,children:tt,...rt},nt)=>jsxRuntimeExports.jsxs(RadioItem2,{ref:nt,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",et),...rt,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2,{children:jsxRuntimeExports.jsx(Circle,{className:"h-2 w-2 fill-current"})})}),tt]}));DropdownMenuRadioItem.displayName=RadioItem2.displayName;const DropdownMenuLabel=React$1.forwardRef(({className:et,inset:tt,...rt},nt)=>jsxRuntimeExports.jsx(Label2,{ref:nt,className:cn("px-2 py-1.5 text-sm font-semibold",tt&&"pl-8",et),...rt}));DropdownMenuLabel.displayName=Label2.displayName;const DropdownMenuSeparator=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(Separator2,{ref:rt,className:cn("-mx-1 my-1 h-px bg-muted",et),...tt}));DropdownMenuSeparator.displayName=Separator2.displayName;const getNavLinks=(et,tt)=>{if(et.role==="Admin"&&tt==="admin")return[{to:"/admin/attendance-management",icon:Fingerprint,text:"Manajemen Absensi"}];if(et.role==="Super Admin")return[{to:"/admin/dashboard",icon:LayoutDashboard,text:"Dashboard"},{to:"/admin/employees",icon:Users,text:"Manajemen Karyawan"},{to:"/admin/direct-manager",icon:UserCheck,text:"Direct Manager"},{to:"/admin/announcements",icon:Megaphone,text:"Pengumuman"},{to:"/admin/leave-management",icon:Briefcase,text:"Manajemen Cuti"},{to:"/admin/contract-management",icon:FileText,text:"Manajemen Kontrak"},{to:"/admin/attendance-management",icon:Fingerprint,text:"Manajemen Absensi"},{to:"/admin/organization-chart",icon:ShoppingBasket,text:"Struktur Organisasi"},{to:"/admin/settings",icon:Settings,text:"Pengaturan"},{to:"/admin/activity-log",icon:History,text:"Log Aktivitas"}];const rt=[{to:"/employee/dashboard",icon:LayoutDashboard,text:"Dashboard"},{to:"/employee/attendance",icon:Fingerprint,text:"Absensi"},{to:"/employee/leave-request",icon:Briefcase,text:"Pengajuan Cuti / Dinas"},{to:"/employee/profile",icon:UserCircle,text:"Profil Saya"}];return et.isPM&&rt.splice(2,0,{to:"/employee/pm-attendance",icon:UserCheck,text:"Absensi Tim"}),et.isDirectManager&&rt.splice(2,0,{to:"/employee/my-team",icon:UserCog2,text:"Tim Saya"}),rt},Sidebar=({isOpen:et,isCollapsed:tt,toggleSidebar:rt,toggleCollapse:nt,onLogout:at,activeRole:it,setActiveRole:st})=>{const{user:ot,logout:lt}=useAuth();useNavigate(),useLocation(),reactExports.useState(!1);const{theme:ct,toggleTheme:ut}=useTheme(),dt=getNavLinks(ot,it),ft={open:{x:0},closed:{x:"-100%"}},ht={open:{opacity:1,y:0,transition:{staggerChildren:.05,delayChildren:.2}},closed:{opacity:0,y:20}},gt={open:{opacity:1,y:0},closed:{opacity:0,y:20}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AnimatePresence,{children:et&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-40 lg:hidden",onClick:rt})}),jsxRuntimeExports.jsxs(motion.aside,{variants:ft,initial:"closed",animate:et?"open":"closed",transition:{type:"spring",stiffness:300,damping:30},className:`
    fixed top-0 left-0 h-full
    w-[80vw] max-w-[320px]
    lg:w-64
    ${tt?"lg:w-[80px]":"lg:w-64"}
    bg-card text-card-foreground
    border-r border-border z-50
    flex flex-col transition-all duration-100
    lg:translate-x-0
    overflow-y-auto
  `,children:[jsxRuntimeExports.jsxs("div",{className:"p-4 flex items-center justify-between ",children:[!tt&&jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"HRIS Famika"}),jsxRuntimeExports.jsx("button",{onClick:nt,className:"hidden  lg:flex text-muted-foreground hover:text-foreground",children:tt?jsxRuntimeExports.jsx(ChevronRight,{className:"h-6 w-6"}):jsxRuntimeExports.jsx(ChevronLeft,{className:"h-6 w-6 "})}),jsxRuntimeExports.jsx("button",{onClick:rt,className:"lg:hidden text-muted-foreground hover:text-foreground",children:jsxRuntimeExports.jsx(X$1,{className:"h-6 w-6"})})]}),jsxRuntimeExports.jsx(motion.nav,{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto sidebar-scroll",variants:ht,children:dt.map(mt=>jsxRuntimeExports.jsx(motion.div,{variants:gt,children:jsxRuntimeExports.jsxs(NavLink,{to:mt.to,onClick:()=>{window.innerWidth<1024&&rt()},className:({isActive:xt})=>`
  flex items-center
  ${tt?"justify-center px-0":"px-4"}
  py-2.5 rounded-lg transition-all duration-200 text-sm font-medium
  ${xt?"bg-primary text-primary-foreground shadow-md":"hover:bg-muted"}
  `,children:[jsxRuntimeExports.jsx(mt.icon,{className:`h-5 w-5 ${tt?"":"mr-3"}`}),!tt&&jsxRuntimeExports.jsx("span",{children:mt.text})]})},mt.to))}),ot.role==="Admin"&&jsxRuntimeExports.jsx("button",{className:"w-fit mx-auto mb-2 bg-gradient-to-r from-indigo-700 to-purple-800 hover:from-indigo-800 hover:to-indigo-900 text-white px-4 py-2 rounded-xl font-bold",onClick:()=>{st(it==="admin"?"employee":"admin")},children:it==="admin"?"Beralih ke Akun Karyawan":"Beralih ke Akun Admin"}),jsxRuntimeExports.jsxs(motion.div,{className:"p-4 border-t",variants:ht,children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",onClick:at,className:"w-full justify-start space-x-3 text-red-500 hover:text-red-500 hover:bg-red-500/10",children:[jsxRuntimeExports.jsx(LogOut,{className:"h-5 w-5"}),!tt&&jsxRuntimeExports.jsx("span",{children:"Logout"})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center mt-4",children:jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:ut,className:"rounded-full",children:ct==="dark"?jsxRuntimeExports.jsx(Sun,{className:"h-5 w-5"}):jsxRuntimeExports.jsx(Moon,{className:"h-5 w-5"})})})]})]})]})},Header=({toggleSidebar:et,isDesktop:tt,onLogout:rt,toggleCollapse:nt,notifications:at,unreadCount:it,onOpenNotifications:st})=>{const{user:ot}=useAuth(),lt=useNavigate(),ct=()=>{const ut=ot.role==="admin"?"/admin/announcements":"/employee/dashboard";lt(ut)};return jsxRuntimeExports.jsxs("header",{className:`fixed top-0 inset-x-0 z-40
  h-16
  bg-card/80 backdrop-blur-lg
  border-b border-border
  flex items-center justify-between
  px-4 md:px-8
  lg:static lg:z-auto
`,children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:tt?nt:et,className:"lg:hidden",children:jsxRuntimeExports.jsx(Menu$1,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("div",{className:"lg:hidden"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 ml-auto",children:[jsxRuntimeExports.jsxs(DropdownMenu,{onOpenChange:ut=>{ut&&st()},children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"icon",className:"relative",children:[jsxRuntimeExports.jsx(Bell,{className:"h-5 w-5"}),it>0&&jsxRuntimeExports.jsxs("span",{className:"absolute top-1 right-1 flex h-2.5 w-2.5",children:[jsxRuntimeExports.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),jsxRuntimeExports.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-red-500"})]})]})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",className:"w-80 md:w-96",children:[jsxRuntimeExports.jsxs(DropdownMenuLabel,{className:"flex justify-between items-center px-3 py-2",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Notifikasi"}),it>0&&jsxRuntimeExports.jsxs("span",{className:"text-xs bg-primary text-primary-foreground rounded-full px-2 py-0.5",children:[it," Baru"]})]}),jsxRuntimeExports.jsx(DropdownMenuSeparator,{}),jsxRuntimeExports.jsx("div",{className:"max-h-80 overflow-y-auto",children:at.length>0?at.map(ut=>jsxRuntimeExports.jsxs(DropdownMenuItem,{onSelect:ct,className:"cursor-pointer items-start p-3 gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-8 w-8 flex-shrink-0 rounded-full bg-blue-100 dark:bg-blue-900/50",children:jsxRuntimeExports.jsx(Megaphone,{className:"h-4 w-4 text-blue-500"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col w-full",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm text-foreground leading-tight whitespace-normal",children:ut.title}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(ut.created_at).toLocaleString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]},ut.id)):jsxRuntimeExports.jsx("div",{className:"p-4 text-sm text-center text-muted-foreground",children:"Tidak ada notifikasi baru."})}),at.length>0&&jsxRuntimeExports.jsx(DropdownMenuSeparator,{}),jsxRuntimeExports.jsx(DropdownMenuItem,{onSelect:ct,className:"justify-center cursor-pointer p-2 text-sm font-medium text-primary hover:text-primary focus:text-primary focus:bg-accent",children:"Lihat semua pengumuman"})]})]}),jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"rounded-full",children:jsxRuntimeExports.jsx(UserCircle,{className:"h-8 w-8 text-muted-foreground"})})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",className:"w-48 border-none",children:[!tt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(DropdownMenuItem,{onSelect:et,className:"cursor-pointer gap-2",children:[jsxRuntimeExports.jsx(Menu$1,{className:"h-4 w-4"}),"Menu"]}),jsxRuntimeExports.jsx(DropdownMenuSeparator,{})]}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onSelect:()=>lt(ot.role==="admin"?"/admin/profile":"/employee/profile"),className:"cursor-pointer gap-2",children:[jsxRuntimeExports.jsx(UserCircle,{className:"h-4 w-4"}),"Profile"]}),jsxRuntimeExports.jsx(DropdownMenuSeparator,{}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onSelect:rt,className:"cursor-pointer gap-2 text-red-600 focus:text-red-600",children:[jsxRuntimeExports.jsx(LogOut,{className:"h-4 w-4"}),"Logout"]})]})]})]})]})},Layout=({children:et})=>{const[tt,rt]=reactExports.useState(!1),{user:nt}=useAuth(),at=useLocation(),[it,st]=reactExports.useState(window.matchMedia("(min-width: 1024px)").matches),{toast:ot}=useToast(),lt=useNavigate(),[ct,ut]=reactExports.useState([]),[dt,ft]=reactExports.useState(0),[ht,gt]=reactExports.useState(!1),mt=()=>{gt(!ht)},xt=Ct=>{if(!Ct)return null;const kt=localStorage.getItem("activeRole");return kt||(Ct.role==="Admin"||Ct.role==="Admin","employee")},[vt,_t]=reactExports.useState(()=>xt(nt));reactExports.useEffect(()=>{vt&&localStorage.setItem("activeRole",vt)},[vt]),reactExports.useEffect(()=>{!vt||!nt||nt.role==="Admin"&&(vt==="admin"?at.pathname.startsWith("/admin")||lt("/admin/attendance-management",{replace:!0}):at.pathname.startsWith("/employee")||lt("/employee/dashboard",{replace:!0}))},[vt,nt,at.pathname,lt]);const{logout:yt}=useAuth(),St=async()=>{nt&&await addLog({userId:nt.id,userName:nt.name||nt.email,userRole:nt.role,action:"LOGOUT",targetType:"SESSION",details:{message:`User ${nt.name||nt.email} logged out.`}}),await yt(),lt("/login")},bt=reactExports.useCallback(Ct=>{ot({duration:9e3,title:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Megaphone,{className:"h-6 w-6 text-blue-500"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-lg",children:"Pengumuman Baru!"})]}),description:jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:Ct.title}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-muted-foreground whitespace-pre-line",children:Ct.content})]})})},[ot,lt,nt]),Et=reactExports.useCallback(async(Ct=!1)=>{if(nt)try{let kt=supabase.from("announcements").select("*").order("created_at",{ascending:!1}).limit(10);(nt==null?void 0:nt.role)==="employee"&&(kt=kt.or("audience.eq.all,audience.is.null"));const{data:Pt,error:Dt}=await kt;if(Dt)throw Dt;const Ft=Pt||[];ut(Ft.slice(0,5));const Ot=JSON.parse(localStorage.getItem("seen_announcements")||"[]"),It=Ft.filter(Bt=>!Ot.includes(Bt.id)).length;if(ft(It),Ct){const Bt=Ft.filter(qt=>!Ot.includes(qt.id));if(Bt.length>0){bt(Bt[0]);const qt=[...new Set([...Ot,Bt[0].id])];localStorage.setItem("seen_announcements",JSON.stringify(qt)),ft(It-1)}}}catch(kt){console.error("Error fetching notifications:",kt)}},[nt,bt]);reactExports.useEffect(()=>{Et(!0)},[Et]),reactExports.useEffect(()=>{if(!nt)return;const Ct=supabase.channel("announcements-channel").on("postgres_changes",{event:"INSERT",schema:"public",table:"announcements"},kt=>{const Pt=kt.new;(nt==null?void 0:nt.role)==="employee"&&Pt.audience==="admin"||(bt(Pt),Et())}).subscribe();return()=>{supabase.removeChannel(Ct)}},[nt,lt,Et,bt]);const Tt=()=>{if(dt>0){const Ct=ct.map(Dt=>Dt.id),kt=JSON.parse(localStorage.getItem("seen_announcements")||"[]"),Pt=[...new Set([...kt,...Ct])];localStorage.setItem("seen_announcements",JSON.stringify(Pt)),ft(0)}};reactExports.useEffect(()=>{const Ct=window.matchMedia("(min-width: 1024px)"),kt=()=>{st(Ct.matches),Ct.matches&&rt(!1)};return Ct.addEventListener("change",kt),()=>Ct.removeEventListener("change",kt)},[]);const At=()=>{rt(!tt)};return at.pathname==="/login"||!nt?jsxRuntimeExports.jsx("main",{children:et}):jsxRuntimeExports.jsxs("div",{className:"flex min-h-screen bg-background overflow-x-hidden",children:[jsxRuntimeExports.jsx(Sidebar,{isOpen:tt||it,isCollapsed:ht,toggleSidebar:At,toggleCollapse:mt,onLogout:St,activeRole:vt,setActiveRole:_t}),jsxRuntimeExports.jsxs("div",{className:`
    flex-1 flex flex-col min-w-0
    transition-all duration-300
    ${it?ht?"lg:pl-20":"lg:pl-64":""}
  `,children:[jsxRuntimeExports.jsx(Header,{toggleSidebar:At,isDesktop:it,onLogout:St,toggleCollapse:mt,notifications:ct,unreadCount:dt,onOpenNotifications:Tt}),jsxRuntimeExports.jsx("main",{className:"flex-1 min-w-0 mt-12 md:mt-1 p-4 sm:p-6 md:p-8 overflow-y-auto overflow-x-hidden",children:et})]})]})},camelToSnakeCase=et=>et==="workDurationYears"?"join_date":et.replace(/[A-Z]/g,tt=>`_${tt.toLowerCase()}`),getEmployees=async(et="name",tt=!0)=>{let rt=[],nt=0;const at=1e3;let it=!0;const st=camelToSnakeCase(et);for(;it;){let lt=supabase.from("employees").select("*, manager:direct_manager_id ( name )").range(nt,nt+at-1);et!=="age"?lt=lt.order(st,{ascending:tt}):lt=lt.order("name",{ascending:!0});const{data:ct,error:ut}=await lt;if(ut)throw console.error("Error fetching employees in range:",ut),ut;ct&&rt.push(...ct),(!ct||ct.length<at)&&(it=!1),nt+=at}const ot=rt.map(lt=>mapEmployeeDataFromSupabase(lt));return et==="age"?ot.sort((lt,ct)=>{const ut=lt.age===null?tt?1/0:-1/0:lt.age,dt=ct.age===null?tt?1/0:-1/0:ct.age;return ut<dt?tt?-1:1:ut>ct.age?tt?1:-1:0}):et==="workDurationYears"&&ot.sort((lt,ct)=>{const ut=lt.workDurationYears===null?tt?1/0:-1/0:lt.workDurationYears*365+lt.workDurationMonths*30+lt.workDurationDays,dt=ct.workDurationYears===null?tt?1/0:-1/0:ct.workDurationYears*365+ct.workDurationMonths*30+ct.workDurationDays;return ut<dt?tt?-1:1:ut>dt?tt?1:-1:0}),ot},getEmployeeById=async et=>{const{data:tt,error:rt}=await supabase.from("employees").select("*, manager:direct_manager_id ( id, name, position )").eq("id",et).single();if(rt)throw console.error("Error fetching employee by ID:",rt),rt;return tt?mapEmployeeDataFromSupabase(tt):null},addEmployee=async(et,tt)=>{const rt=mapEmployeeDataToSupabase(et);et.password&&et.password.trim()!==""&&(rt.password=et.password);const{data:nt,error:at}=await supabase.functions.invoke("employee-sync",{body:{mode:"create",payload:rt,email:et.email}});if(at)throw console.error("Edge create error:",at),at;return tt&&await addLog({userId:tt.id,userName:tt.name||tt.email,userRole:tt.role,action:"CREATE",targetType:"EMPLOYEE",targetName:et.name}),nt},updateEmployee=async(et,tt,rt)=>{const{id:nt,password:at,...it}=et,st=mapEmployeeDataToSupabase(it);at&&at.trim()!==""&&(st.password=at);const{data:ot,error:lt}=await supabase.functions.invoke("employee-sync",{body:{mode:"update",employeeId:nt,payload:st}});if(lt)throw console.error("Edge update error:",lt),lt;if(tt){const ct={};for(const ut in st)st[ut]!==rt[ut]&&(ct[ut]={from:rt[ut],to:st[ut]});await addLog({userId:tt.id,userName:tt.name||tt.email,userRole:tt.role,action:"UPDATE",targetType:"EMPLOYEE",targetId:nt,targetName:et.name,details:{changes:ct}})}return ot},deleteEmployee=async(et,tt,rt)=>{const{error:nt}=await supabase.from("employees").delete().eq("id",et);if(nt)throw console.error("Error deleting employee:",nt),nt;tt&&await addLog({userId:tt.id,userName:tt.name||tt.email,userRole:tt.role,action:"DELETE",targetType:"EMPLOYEE",targetId:et,targetName:rt})},useDashboardStats=()=>{const[et,tt]=reactExports.useState([]),[rt,nt]=reactExports.useState([]);reactExports.useState([]);const[at,it]=reactExports.useState([]),[st,ot]=reactExports.useState(!0);return reactExports.useEffect(()=>{(async()=>{ot(!0);try{const ut=await getEmployees();tt(ut);const dt=startOfDay(new Date),ft=addDays(dt,30),{data:ht,error:gt}=await supabase.from("employee_contracts").select("*, employee:employees (id, name, nik, photo)").not("end_date","is",null).gte("end_date",format$1(dt,"yyyy-MM-dd")).lte("end_date",format$1(ft,"yyyy-MM-dd")).order("end_date",{ascending:!0});if(gt)throw gt;const mt=(ht||[]).map(_t=>({..._t,employee:_t.employee||{id:_t.employee_id,name:"Karyawan Tidak Ditemukan",nik:"-",photo:null}})).filter(_t=>ut.some(yt=>yt.id===_t.employee_id&&yt.activeStatus==="Aktif"));nt(mt);const xt=dt.getFullYear(),vt=ut.filter(_t=>_t.birthDate&&_t.activeStatus==="Aktif").map(_t=>{const yt=parseISO(_t.birthDate),St=new Date(xt,getMonth(yt),getDate(yt));return{..._t,birthdayThisYear:St}}).filter(_t=>isWithinInterval(_t.birthdayThisYear,{start:dt,end:ft})).sort((_t,yt)=>_t.birthdayThisYear-yt.birthdayThisYear);it(vt)}catch(ut){toast({title:"Error",description:"Gagal memuat data dasbor: "+ut.message,variant:"destructive"})}finally{ot(!1)}})()},[]),reactExports.useMemo(()=>{if(et.length===0)return{employees:[],loading:!0,expiringContracts:[],mppEmployees:[],upcomingBirthdays:[],employmentStatus:[],activeStatusDistribution:[],ageCategory:[],genderDiversity:[],lengthOfService:[],jobLevel:[],provinceDistribution:[]};const ct=startOfDay(new Date),ut=et.length,dt=et.reduce((kt,Pt)=>(kt[Pt.status]=(kt[Pt.status]||0)+1,kt),{}),ft=Object.entries(dt).map(([kt,Pt])=>({name:kt,value:Pt,description:`Karyawan ${kt.toLowerCase()}`,icon:kt==="Tetap"?UserCheck:kt==="Kontrak"?Briefcase:UserPlus,color:kt==="Tetap"?"from-green-500 to-green-600":kt==="Kontrak"?"from-blue-500 to-blue-600":"from-orange-500 to-orange-600",bgColor:kt==="Tetap"?"bg-green-50 dark:bg-green-900/20":kt==="Kontrak"?"bg-blue-50 dark:bg-blue-900/20":"bg-orange-50 dark:bg-orange-900/20",percentage:ut>0?Pt/ut*100:0,filter:{type:"status",value:kt}}));ft.unshift({name:"Total Karyawan",value:ut,description:"Semua karyawan terdaftar",icon:Users,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20",filter:{type:"all"}});const ht=et.reduce((kt,Pt)=>{const Dt=Pt.activeStatus||"Tidak Diketahui";return kt[Dt]=(kt[Dt]||0)+1,kt},{}),gt=Object.entries(ht).map(([kt,Pt])=>{let Dt=UserCheck,Ft="from-gray-500 to-gray-600",Ot="bg-gray-50 dark:bg-gray-900/20";switch(kt){case"Aktif":Dt=UserCheck,Ft="from-green-500 to-green-600",Ot="bg-green-50 dark:bg-green-900/20";break;case"Tidak Aktif":Dt=UserX,Ft="from-red-500 to-red-600",Ot="bg-red-50 dark:bg-red-900/20";break;case"Cuti":Dt=Clock,Ft="from-yellow-500 to-yellow-600",Ot="bg-yellow-50 dark:bg-yellow-900/20";break;case"Resign":Dt=UserMinus,Ft="from-slate-500 to-slate-600",Ot="bg-slate-50 dark:bg-slate-900/20";break}return{name:kt,value:Pt,description:`Karyawan dengan status ${kt.toLowerCase()}`,icon:Dt,color:Ft,bgColor:Ot,percentage:ut>0?Pt/ut*100:0,filter:{type:"activeStatus",value:kt}}}),mt=et.reduce((kt,Pt)=>(Pt.age===null||Pt.age===void 0||(Pt.age<30?kt.under30=(kt.under30||0)+1:Pt.age>=30&&Pt.age<=58?kt.between30_58=(kt.between30_58||0)+1:Pt.age>58&&(kt.over58=(kt.over58||0)+1)),kt),{under30:0,between30_58:0,over58:0}),xt=[{name:"< 30 Tahun",value:mt.under30,percentage:ut>0?mt.under30/ut*100:0,description:"Usia di bawah 30 tahun",filter:{type:"age",value:"under30"}},{name:"30-58 Tahun",value:mt.between30_58,percentage:ut>0?mt.between30_58/ut*100:0,description:"Usia 30 hingga 58 tahun",filter:{type:"age",value:"between30_58"}},{name:"> 58 Tahun",value:mt.over58,percentage:ut>0?mt.over58/ut*100:0,description:"Usia di atas 58 tahun",filter:{type:"age",value:"over58"}}],vt=et.reduce((kt,Pt)=>(kt[Pt.gender]=(kt[Pt.gender]||0)+1,kt),{}),_t=Object.entries(vt).map(([kt,Pt])=>({name:kt,value:Pt,percentage:ut>0?Pt/ut:0,filter:{type:"gender",value:kt}})),yt=et.reduce((kt,Pt)=>(Pt.workDurationYears===null||Pt.workDurationYears===void 0||(Pt.workDurationYears<5?kt.under5=(kt.under5||0)+1:Pt.workDurationYears>10?kt.over10=(kt.over10||0)+1:kt.between5_10=(kt.between5_10||0)+1),kt),{under5:0,over10:0,between5_10:0}),St=[{name:"< 5 Tahun",value:yt.under5,percentage:ut>0?yt.under5/ut*100:0,description:"Masa kerja di bawah 5 tahun",filter:{type:"service",value:"under5"}},{name:"5-10 Tahun",value:yt.between5_10,percentage:ut>0?yt.between5_10/ut*100:0,description:"Masa kerja 5 hingga 10 tahun",filter:{type:"service",value:"between5_10"}},{name:"> 10 Tahun",value:yt.over10,percentage:ut>0?yt.over10/ut*100:0,description:"Masa kerja di atas 10 tahun",filter:{type:"service",value:"over10"}}],bt=et.reduce((kt,Pt)=>{const Dt=Pt.position||"Tidak Diketahui";return kt[Dt]=(kt[Dt]||0)+1,kt},{}),Et=Object.entries(bt).map(([kt,Pt])=>({name:kt,value:Pt,percentage:ut>0?Pt/ut*100:0,filter:{type:"position",value:kt}})).sort((kt,Pt)=>Pt.value-kt.value),Tt=et.reduce((kt,Pt)=>{const Dt=Pt.area||"Tidak Diketahui";return kt[Dt]=(kt[Dt]||0)+1,kt},{}),At=Object.entries(Tt).map(([kt,Pt])=>({name:kt,value:Pt,percentage:ut>0?Pt/ut*100:0,filter:{type:"area",value:kt}})).sort((kt,Pt)=>Pt.value-kt.value),Ct=et.filter(kt=>kt.age===57&&kt.activeStatus==="Aktif").map(kt=>{const Pt=parseISO(kt.birthDate),Dt=addYears(Pt,58),Ft=differenceInDays(Dt,ct),Ot=Math.floor(Ft/30),It=Ft%30;return{...kt,retirementDate:format$1(Dt,"dd MMMM yyyy"),timeRemaining:{months:Ot,days:It}}}).sort((kt,Pt)=>kt.timeRemaining.months*30+kt.timeRemaining.days-(Pt.timeRemaining.months*30+Pt.timeRemaining.days));return{employees:et,loading:st,expiringContracts:rt,mppEmployees:Ct,upcomingBirthdays:at,employmentStatus:ft,activeStatusDistribution:gt,ageCategory:xt,genderDiversity:_t,lengthOfService:St,jobLevel:Et,provinceDistribution:At}},[et,st,rt,at])},StatCard=({title:et,value:tt,description:rt,icon:nt,color:at,bgColor:it,percentage:st,onClick:ot})=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Math.random()*.2},onClick:ot,className:ot?"cursor-pointer h-full":"h-full",children:jsxRuntimeExports.jsxs(Card,{className:`${it} border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 h-full flex flex-col`,children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium text-muted-foreground",children:et}),jsxRuntimeExports.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-r ${at}`,children:jsxRuntimeExports.jsx(nt,{className:"h-4 w-4 text-white"})})]}),jsxRuntimeExports.jsxs(CardContent,{className:"flex flex-col justify-end flex-grow",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:tt}),st!==void 0&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[st.toFixed(1),"% dari total"]}),rt&&jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:rt})]})]})});var isArray$e=Array.isArray,isArray_1=isArray$e,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$9=freeGlobal||freeSelf||Function("return this")(),_root=root$9,root$8=_root,Symbol$7=root$8.Symbol,_Symbol=Symbol$7,Symbol$6=_Symbol,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$6?Symbol$6.toStringTag:void 0;function getRawTag$1(et){var tt=hasOwnProperty$a.call(et,symToStringTag$1),rt=et[symToStringTag$1];try{et[symToStringTag$1]=void 0;var nt=!0}catch{}var at=nativeObjectToString$1.call(et);return nt&&(tt?et[symToStringTag$1]=rt:delete et[symToStringTag$1]),at}var _getRawTag=getRawTag$1,objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString$1(et){return nativeObjectToString.call(et)}var _objectToString=objectToString$1,Symbol$5=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$5?Symbol$5.toStringTag:void 0;function baseGetTag$9(et){return et==null?et===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(et)?getRawTag(et):objectToString(et)}var _baseGetTag=baseGetTag$9;function isObjectLike$9(et){return et!=null&&typeof et=="object"}var isObjectLike_1=isObjectLike$9,baseGetTag$8=_baseGetTag,isObjectLike$8=isObjectLike_1,symbolTag$1="[object Symbol]";function isSymbol$6(et){return typeof et=="symbol"||isObjectLike$8(et)&&baseGetTag$8(et)==symbolTag$1}var isSymbol_1=isSymbol$6,isArray$d=isArray_1,isSymbol$5=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(et,tt){if(isArray$d(et))return!1;var rt=typeof et;return rt=="number"||rt=="symbol"||rt=="boolean"||et==null||isSymbol$5(et)?!0:reIsPlainProp.test(et)||!reIsDeepProp.test(et)||tt!=null&&et in Object(tt)}var _isKey=isKey$3;function isObject$7(et){var tt=typeof et;return et!=null&&(tt=="object"||tt=="function")}var isObject_1=isObject$7;const isObject$8=getDefaultExportFromCjs(isObject_1);var baseGetTag$7=_baseGetTag,isObject$6=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(et){if(!isObject$6(et))return!1;var tt=baseGetTag$7(et);return tt==funcTag$1||tt==genTag||tt==asyncTag||tt==proxyTag}var isFunction_1=isFunction$2;const isFunction$3=getDefaultExportFromCjs(isFunction_1);var root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var et=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return et?"Symbol(src)_1."+et:""}();function isMasked$1(et){return!!maskSrcKey&&maskSrcKey in et}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$2(et){if(et!=null){try{return funcToString$2.call(et)}catch{}try{return et+""}catch{}}return""}var _toSource=toSource$2,isFunction$1=isFunction_1,isMasked=_isMasked,isObject$5=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(et){if(!isObject$5(et)||isMasked(et))return!1;var tt=isFunction$1(et)?reIsNative:reIsHostCtor;return tt.test(toSource$1(et))}var _baseIsNative=baseIsNative$1;function getValue$1(et,tt){return et==null?void 0:et[tt]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(et,tt){var rt=getValue(et,tt);return baseIsNative(rt)?rt:void 0}var _getNative=getNative$7,getNative$6=_getNative,nativeCreate$4=getNative$6(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(et){var tt=this.has(et)&&delete this.__data__[et];return this.size-=tt?1:0,tt}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function hashGet$1(et){var tt=this.__data__;if(nativeCreate$2){var rt=tt[et];return rt===HASH_UNDEFINED$2?void 0:rt}return hasOwnProperty$8.call(tt,et)?tt[et]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashHas$1(et){var tt=this.__data__;return nativeCreate$1?tt[et]!==void 0:hasOwnProperty$7.call(tt,et)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(et,tt){var rt=this.__data__;return this.size+=this.has(et)?0:1,rt[et]=nativeCreate&&tt===void 0?HASH_UNDEFINED$1:tt,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(et){var tt=-1,rt=et==null?0:et.length;for(this.clear();++tt<rt;){var nt=et[tt];this.set(nt[0],nt[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$3(et,tt){return et===tt||et!==et&&tt!==tt}var eq_1=eq$3,eq$2=eq_1;function assocIndexOf$4(et,tt){for(var rt=et.length;rt--;)if(eq$2(et[rt][0],tt))return rt;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(et){var tt=this.__data__,rt=assocIndexOf$3(tt,et);if(rt<0)return!1;var nt=tt.length-1;return rt==nt?tt.pop():splice.call(tt,rt,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(et){var tt=this.__data__,rt=assocIndexOf$2(tt,et);return rt<0?void 0:tt[rt][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(et){return assocIndexOf$1(this.__data__,et)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(et,tt){var rt=this.__data__,nt=assocIndexOf(rt,et);return nt<0?(++this.size,rt.push([et,tt])):rt[nt][1]=tt,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(et){var tt=-1,rt=et==null?0:et.length;for(this.clear();++tt<rt;){var nt=et[tt];this.set(nt[0],nt[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,getNative$5=_getNative,root$6=_root,Map$4=getNative$5(root$6,"Map"),_Map=Map$4,Hash=_Hash,ListCache$3=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$3),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(et){var tt=typeof et;return tt=="string"||tt=="number"||tt=="symbol"||tt=="boolean"?et!=="__proto__":et===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(et,tt){var rt=et.__data__;return isKeyable(tt)?rt[typeof tt=="string"?"string":"hash"]:rt.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(et){var tt=getMapData$3(this,et).delete(et);return this.size-=tt?1:0,tt}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(et){return getMapData$2(this,et).get(et)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(et){return getMapData$1(this,et).has(et)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(et,tt){var rt=getMapData(this,et),nt=rt.size;return rt.set(et,tt),this.size+=rt.size==nt?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(et){var tt=-1,rt=et==null?0:et.length;for(this.clear();++tt<rt;){var nt=et[tt];this.set(nt[0],nt[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,MapCache$2=_MapCache,FUNC_ERROR_TEXT$2="Expected a function";function memoize$2(et,tt){if(typeof et!="function"||tt!=null&&typeof tt!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var rt=function(){var nt=arguments,at=tt?tt.apply(this,nt):nt[0],it=rt.cache;if(it.has(at))return it.get(at);var st=et.apply(this,nt);return rt.cache=it.set(at,st)||it,st};return rt.cache=new(memoize$2.Cache||MapCache$2),rt}memoize$2.Cache=MapCache$2;var memoize_1=memoize$2;const memoize$3=getDefaultExportFromCjs(memoize_1);var memoize$1=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(et){var tt=memoize$1(et,function(nt){return rt.size===MAX_MEMOIZE_SIZE&&rt.clear(),nt}),rt=tt.cache;return tt}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(et){var tt=[];return et.charCodeAt(0)===46&&tt.push(""),et.replace(rePropName,function(rt,nt,at,it){tt.push(at?it.replace(reEscapeChar,"$1"):nt||rt)}),tt}),_stringToPath=stringToPath$1;function arrayMap$3(et,tt){for(var rt=-1,nt=et==null?0:et.length,at=Array(nt);++rt<nt;)at[rt]=tt(et[rt],rt,et);return at}var _arrayMap=arrayMap$3,Symbol$4=_Symbol,arrayMap$2=_arrayMap,isArray$c=isArray_1,isSymbol$4=isSymbol_1,INFINITY$3=1/0,symbolProto$1=Symbol$4?Symbol$4.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(et){if(typeof et=="string")return et;if(isArray$c(et))return arrayMap$2(et,baseToString$1)+"";if(isSymbol$4(et))return symbolToString?symbolToString.call(et):"";var tt=et+"";return tt=="0"&&1/et==-INFINITY$3?"-0":tt}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$6(et){return et==null?"":baseToString(et)}var toString_1=toString$6,isArray$b=isArray_1,isKey$2=_isKey,stringToPath=_stringToPath,toString$5=toString_1;function castPath$2(et,tt){return isArray$b(et)?et:isKey$2(et,tt)?[et]:stringToPath(toString$5(et))}var _castPath=castPath$2,isSymbol$3=isSymbol_1,INFINITY$2=1/0;function toKey$4(et){if(typeof et=="string"||isSymbol$3(et))return et;var tt=et+"";return tt=="0"&&1/et==-INFINITY$2?"-0":tt}var _toKey=toKey$4,castPath$1=_castPath,toKey$3=_toKey;function baseGet$3(et,tt){tt=castPath$1(tt,et);for(var rt=0,nt=tt.length;et!=null&&rt<nt;)et=et[toKey$3(tt[rt++])];return rt&&rt==nt?et:void 0}var _baseGet=baseGet$3,baseGet$2=_baseGet;function get$1(et,tt,rt){var nt=et==null?void 0:baseGet$2(et,tt);return nt===void 0?rt:nt}var get_1=get$1;const get$2=getDefaultExportFromCjs(get_1);function isNil(et){return et==null}var isNil_1=isNil;const isNil$1=getDefaultExportFromCjs(isNil_1);var baseGetTag$6=_baseGetTag,isArray$a=isArray_1,isObjectLike$7=isObjectLike_1,stringTag$2="[object String]";function isString$1(et){return typeof et=="string"||!isArray$a(et)&&isObjectLike$7(et)&&baseGetTag$6(et)==stringTag$2}var isString_1=isString$1;const isString$2=getDefaultExportFromCjs(isString_1);var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=Symbol.for("react.element"),c$3=Symbol.for("react.portal"),d$1=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f$1=Symbol.for("react.profiler"),g$1=Symbol.for("react.provider"),h$1=Symbol.for("react.context"),k$3=Symbol.for("react.server_context"),l$1=Symbol.for("react.forward_ref"),m$2=Symbol.for("react.suspense"),n$1=Symbol.for("react.suspense_list"),p$2=Symbol.for("react.memo"),q$2=Symbol.for("react.lazy"),t$1=Symbol.for("react.offscreen"),u$2;u$2=Symbol.for("react.module.reference");function v$1(et){if(typeof et=="object"&&et!==null){var tt=et.$$typeof;switch(tt){case b$1:switch(et=et.type,et){case d$1:case f$1:case e:case m$2:case n$1:return et;default:switch(et=et&&et.$$typeof,et){case k$3:case h$1:case l$1:case q$2:case p$2:case g$1:return et;default:return tt}}case c$3:return tt}}}reactIs_production_min.ContextConsumer=h$1;reactIs_production_min.ContextProvider=g$1;reactIs_production_min.Element=b$1;reactIs_production_min.ForwardRef=l$1;reactIs_production_min.Fragment=d$1;reactIs_production_min.Lazy=q$2;reactIs_production_min.Memo=p$2;reactIs_production_min.Portal=c$3;reactIs_production_min.Profiler=f$1;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m$2;reactIs_production_min.SuspenseList=n$1;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(et){return v$1(et)===h$1};reactIs_production_min.isContextProvider=function(et){return v$1(et)===g$1};reactIs_production_min.isElement=function(et){return typeof et=="object"&&et!==null&&et.$$typeof===b$1};reactIs_production_min.isForwardRef=function(et){return v$1(et)===l$1};reactIs_production_min.isFragment=function(et){return v$1(et)===d$1};reactIs_production_min.isLazy=function(et){return v$1(et)===q$2};reactIs_production_min.isMemo=function(et){return v$1(et)===p$2};reactIs_production_min.isPortal=function(et){return v$1(et)===c$3};reactIs_production_min.isProfiler=function(et){return v$1(et)===f$1};reactIs_production_min.isStrictMode=function(et){return v$1(et)===e};reactIs_production_min.isSuspense=function(et){return v$1(et)===m$2};reactIs_production_min.isSuspenseList=function(et){return v$1(et)===n$1};reactIs_production_min.isValidElementType=function(et){return typeof et=="string"||typeof et=="function"||et===d$1||et===f$1||et===e||et===m$2||et===n$1||et===t$1||typeof et=="object"&&et!==null&&(et.$$typeof===q$2||et.$$typeof===p$2||et.$$typeof===g$1||et.$$typeof===h$1||et.$$typeof===l$1||et.$$typeof===u$2||et.getModuleId!==void 0)};reactIs_production_min.typeOf=v$1;reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports,baseGetTag$5=_baseGetTag,isObjectLike$6=isObjectLike_1,numberTag$2="[object Number]";function isNumber$2(et){return typeof et=="number"||isObjectLike$6(et)&&baseGetTag$5(et)==numberTag$2}var isNumber_1=isNumber$2;const isNumber$3=getDefaultExportFromCjs(isNumber_1);var isNumber$1=isNumber_1;function isNaN$1(et){return isNumber$1(et)&&et!=+et}var _isNaN=isNaN$1;const isNan=getDefaultExportFromCjs(_isNaN);var mathSign=function(tt){return tt===0?0:tt>0?1:-1},isPercent=function(tt){return isString$2(tt)&&tt.indexOf("%")===tt.length-1},isNumber=function(tt){return isNumber$3(tt)&&!isNan(tt)},isNumOrStr=function(tt){return isNumber(tt)||isString$2(tt)},idCounter$1=0,uniqueId=function(tt){var rt=++idCounter$1;return"".concat(tt||"").concat(rt)},getPercentValue=function(tt,rt){var nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,at=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(tt)&&!isString$2(tt))return nt;var it;if(isPercent(tt)){var st=tt.indexOf("%");it=rt*parseFloat(tt.slice(0,st))/100}else it=+tt;return isNan(it)&&(it=nt),at&&it>rt&&(it=rt),it},getAnyElementOfObject=function(tt){if(!tt)return null;var rt=Object.keys(tt);return rt&&rt.length?tt[rt[0]]:null},hasDuplicate=function(tt){if(!Array.isArray(tt))return!1;for(var rt=tt.length,nt={},at=0;at<rt;at++)if(!nt[tt[at]])nt[tt[at]]=!0;else return!0;return!1},interpolateNumber$2=function(tt,rt){return isNumber(tt)&&isNumber(rt)?function(nt){return tt+nt*(rt-tt)}:function(){return rt}};function findEntryInArray(et,tt,rt){return!et||!et.length?null:et.find(function(nt){return nt&&(typeof tt=="function"?tt(nt):get$2(nt,tt))===rt})}function shallowEqual(et,tt){for(var rt in et)if({}.hasOwnProperty.call(et,rt)&&(!{}.hasOwnProperty.call(tt,rt)||et[rt]!==tt[rt]))return!1;for(var nt in tt)if({}.hasOwnProperty.call(tt,nt)&&!{}.hasOwnProperty.call(et,nt))return!1;return!0}function _typeof$C(et){"@babel/helpers - typeof";return _typeof$C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$C(et)}var SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=function(tt,rt){if(!tt||typeof tt=="function"||typeof tt=="boolean")return null;var nt=tt;if(reactExports.isValidElement(tt)&&(nt=tt.props),!isObject$8(nt))return null;var at={};return Object.keys(nt).forEach(function(it){EventKeys.includes(it)&&(at[it]=rt||function(st){return nt[it](nt,st)})}),at},getEventHandlerOfChild=function(tt,rt,nt){return function(at){return tt(rt,nt,at),null}},adaptEventsOfChild=function(tt,rt,nt){if(!isObject$8(tt)||_typeof$C(tt)!=="object")return null;var at=null;return Object.keys(tt).forEach(function(it){var st=tt[it];EventKeys.includes(it)&&typeof st=="function"&&(at||(at={}),at[it]=getEventHandlerOfChild(st,rt,nt))}),at},_excluded$e=["children"],_excluded2$4=["children"];function _objectWithoutProperties$e(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$e(et,tt),nt,at;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(et);for(at=0;at<it.length;at++)nt=it[at],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$e(et,tt){if(et==null)return{};var rt={};for(var nt in et)if(Object.prototype.hasOwnProperty.call(et,nt)){if(tt.indexOf(nt)>=0)continue;rt[nt]=et[nt]}return rt}var REACT_BROWSER_EVENT_MAP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},getDisplayName=function(tt){return typeof tt=="string"?tt:tt?tt.displayName||tt.name||"Component":""},lastChildren=null,lastResult=null,toArray=function et(tt){if(tt===lastChildren&&Array.isArray(lastResult))return lastResult;var rt=[];return reactExports.Children.forEach(tt,function(nt){isNil$1(nt)||(reactIsExports.isFragment(nt)?rt=rt.concat(et(nt.props.children)):rt.push(nt))}),lastResult=rt,lastChildren=tt,rt};function findAllByType(et,tt){var rt=[],nt=[];return Array.isArray(tt)?nt=tt.map(function(at){return getDisplayName(at)}):nt=[getDisplayName(tt)],toArray(et).forEach(function(at){var it=get$2(at,"type.displayName")||get$2(at,"type.name");nt.indexOf(it)!==-1&&rt.push(at)}),rt}function findChildByType(et,tt){var rt=findAllByType(et,tt);return rt&&rt[0]}var validateWidthHeight=function(tt){if(!tt||!tt.props)return!1;var rt=tt.props,nt=rt.width,at=rt.height;return!(!isNumber(nt)||nt<=0||!isNumber(at)||at<=0)},SVG_TAGS=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],isSvgElement=function(tt){return tt&&tt.type&&isString$2(tt.type)&&SVG_TAGS.indexOf(tt.type)>=0},isValidSpreadableProp=function(tt,rt,nt,at){var it,st=(it=FilteredElementKeyMap==null?void 0:FilteredElementKeyMap[at])!==null&&it!==void 0?it:[];return rt.startsWith("data-")||!isFunction$3(tt)&&(at&&st.includes(rt)||SVGElementPropKeys.includes(rt))||nt&&EventKeys.includes(rt)},filterProps=function(tt,rt,nt){if(!tt||typeof tt=="function"||typeof tt=="boolean")return null;var at=tt;if(reactExports.isValidElement(tt)&&(at=tt.props),!isObject$8(at))return null;var it={};return Object.keys(at).forEach(function(st){var ot;isValidSpreadableProp((ot=at)===null||ot===void 0?void 0:ot[st],st,rt,nt)&&(it[st]=at[st])}),it},isChildrenEqual=function et(tt,rt){if(tt===rt)return!0;var nt=reactExports.Children.count(tt);if(nt!==reactExports.Children.count(rt))return!1;if(nt===0)return!0;if(nt===1)return isSingleChildEqual(Array.isArray(tt)?tt[0]:tt,Array.isArray(rt)?rt[0]:rt);for(var at=0;at<nt;at++){var it=tt[at],st=rt[at];if(Array.isArray(it)||Array.isArray(st)){if(!et(it,st))return!1}else if(!isSingleChildEqual(it,st))return!1}return!0},isSingleChildEqual=function(tt,rt){if(isNil$1(tt)&&isNil$1(rt))return!0;if(!isNil$1(tt)&&!isNil$1(rt)){var nt=tt.props||{},at=nt.children,it=_objectWithoutProperties$e(nt,_excluded$e),st=rt.props||{},ot=st.children,lt=_objectWithoutProperties$e(st,_excluded2$4);return at&&ot?shallowEqual(it,lt)&&isChildrenEqual(at,ot):!at&&!ot?shallowEqual(it,lt):!1}return!1},renderByOrder=function(tt,rt){var nt=[],at={};return toArray(tt).forEach(function(it,st){if(isSvgElement(it))nt.push(it);else if(it){var ot=getDisplayName(it.type),lt=rt[ot]||{},ct=lt.handler,ut=lt.once;if(ct&&(!ut||!at[ot])){var dt=ct(it,ot,st);nt.push(dt),at[ot]=!0}}}),nt},getReactEventByType=function(tt){var rt=tt&&tt.type;return rt&&REACT_BROWSER_EVENT_MAP[rt]?REACT_BROWSER_EVENT_MAP[rt]:null},parseChildIndex=function(tt,rt){return toArray(rt).indexOf(tt)},_excluded$d=["children","width","height","viewBox","className","style","title","desc"];function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$p.apply(this,arguments)}function _objectWithoutProperties$d(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$d(et,tt),nt,at;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(et);for(at=0;at<it.length;at++)nt=it[at],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$d(et,tt){if(et==null)return{};var rt={};for(var nt in et)if(Object.prototype.hasOwnProperty.call(et,nt)){if(tt.indexOf(nt)>=0)continue;rt[nt]=et[nt]}return rt}function Surface(et){var tt=et.children,rt=et.width,nt=et.height,at=et.viewBox,it=et.className,st=et.style,ot=et.title,lt=et.desc,ct=_objectWithoutProperties$d(et,_excluded$d),ut=at||{width:rt,height:nt,x:0,y:0},dt=clsx("recharts-surface",it);return React$1.createElement("svg",_extends$p({},filterProps(ct,!0,"svg"),{className:dt,width:rt,height:nt,style:st,viewBox:"".concat(ut.x," ").concat(ut.y," ").concat(ut.width," ").concat(ut.height)}),React$1.createElement("title",null,ot),React$1.createElement("desc",null,lt),tt)}var _excluded$c=["children","className"];function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$o.apply(this,arguments)}function _objectWithoutProperties$c(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$c(et,tt),nt,at;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(et);for(at=0;at<it.length;at++)nt=it[at],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$c(et,tt){if(et==null)return{};var rt={};for(var nt in et)if(Object.prototype.hasOwnProperty.call(et,nt)){if(tt.indexOf(nt)>=0)continue;rt[nt]=et[nt]}return rt}var Layer=React$1.forwardRef(function(et,tt){var rt=et.children,nt=et.className,at=_objectWithoutProperties$c(et,_excluded$c),it=clsx("recharts-layer",nt);return React$1.createElement("g",_extends$o({className:it},filterProps(at,!0),{ref:tt}),rt)}),warn=function(tt,rt){for(var nt=arguments.length,at=new Array(nt>2?nt-2:0),it=2;it<nt;it++)at[it-2]=arguments[it]};function baseSlice$1(et,tt,rt){var nt=-1,at=et.length;tt<0&&(tt=-tt>at?0:at+tt),rt=rt>at?at:rt,rt<0&&(rt+=at),at=tt>rt?0:rt-tt>>>0,tt>>>=0;for(var it=Array(at);++nt<at;)it[nt]=et[nt+tt];return it}var _baseSlice=baseSlice$1,baseSlice=_baseSlice;function castSlice$1(et,tt,rt){var nt=et.length;return rt=rt===void 0?nt:rt,!tt&&rt>=nt?et:baseSlice(et,tt,rt)}var _castSlice=castSlice$1,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode$2(et){return reHasUnicode.test(et)}var _hasUnicode=hasUnicode$2;function asciiToArray$1(et){return et.split("")}var _asciiToArray=asciiToArray$1,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray$1(et){return et.match(reUnicode)||[]}var _unicodeToArray=unicodeToArray$1,asciiToArray=_asciiToArray,hasUnicode$1=_hasUnicode,unicodeToArray=_unicodeToArray;function stringToArray$1(et){return hasUnicode$1(et)?unicodeToArray(et):asciiToArray(et)}var _stringToArray=stringToArray$1,castSlice=_castSlice,hasUnicode=_hasUnicode,stringToArray=_stringToArray,toString$4=toString_1;function createCaseFirst$1(et){return function(tt){tt=toString$4(tt);var rt=hasUnicode(tt)?stringToArray(tt):void 0,nt=rt?rt[0]:tt.charAt(0),at=rt?castSlice(rt,1).join(""):tt.slice(1);return nt[et]()+at}}var _createCaseFirst=createCaseFirst$1,createCaseFirst=_createCaseFirst,upperFirst=createCaseFirst("toUpperCase"),upperFirst_1=upperFirst;const upperFirst$1=getDefaultExportFromCjs(upperFirst_1);function constant$3(et){return function(){return et}}const cos$1=Math.cos,sin$1=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(et){this._+=et[0];for(let tt=1,rt=et.length;tt<rt;++tt)this._+=arguments[tt]+et[tt]}function appendRound(et){let tt=Math.floor(et);if(!(tt>=0))throw new Error(`invalid digits: ${et}`);if(tt>15)return append;const rt=10**tt;return function(nt){this._+=nt[0];for(let at=1,it=nt.length;at<it;++at)this._+=Math.round(arguments[at]*rt)/rt+nt[at]}}class Path{constructor(tt){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=tt==null?append:appendRound(tt)}moveTo(tt,rt){this._append`M${this._x0=this._x1=+tt},${this._y0=this._y1=+rt}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(tt,rt){this._append`L${this._x1=+tt},${this._y1=+rt}`}quadraticCurveTo(tt,rt,nt,at){this._append`Q${+tt},${+rt},${this._x1=+nt},${this._y1=+at}`}bezierCurveTo(tt,rt,nt,at,it,st){this._append`C${+tt},${+rt},${+nt},${+at},${this._x1=+it},${this._y1=+st}`}arcTo(tt,rt,nt,at,it){if(tt=+tt,rt=+rt,nt=+nt,at=+at,it=+it,it<0)throw new Error(`negative radius: ${it}`);let st=this._x1,ot=this._y1,lt=nt-tt,ct=at-rt,ut=st-tt,dt=ot-rt,ft=ut*ut+dt*dt;if(this._x1===null)this._append`M${this._x1=tt},${this._y1=rt}`;else if(ft>epsilon)if(!(Math.abs(dt*lt-ct*ut)>epsilon)||!it)this._append`L${this._x1=tt},${this._y1=rt}`;else{let ht=nt-st,gt=at-ot,mt=lt*lt+ct*ct,xt=ht*ht+gt*gt,vt=Math.sqrt(mt),_t=Math.sqrt(ft),yt=it*Math.tan((pi-Math.acos((mt+ft-xt)/(2*vt*_t)))/2),St=yt/_t,bt=yt/vt;Math.abs(St-1)>epsilon&&this._append`L${tt+St*ut},${rt+St*dt}`,this._append`A${it},${it},0,0,${+(dt*ht>ut*gt)},${this._x1=tt+bt*lt},${this._y1=rt+bt*ct}`}}arc(tt,rt,nt,at,it,st){if(tt=+tt,rt=+rt,nt=+nt,st=!!st,nt<0)throw new Error(`negative radius: ${nt}`);let ot=nt*Math.cos(at),lt=nt*Math.sin(at),ct=tt+ot,ut=rt+lt,dt=1^st,ft=st?at-it:it-at;this._x1===null?this._append`M${ct},${ut}`:(Math.abs(this._x1-ct)>epsilon||Math.abs(this._y1-ut)>epsilon)&&this._append`L${ct},${ut}`,nt&&(ft<0&&(ft=ft%tau+tau),ft>tauEpsilon?this._append`A${nt},${nt},0,1,${dt},${tt-ot},${rt-lt}A${nt},${nt},0,1,${dt},${this._x1=ct},${this._y1=ut}`:ft>epsilon&&this._append`A${nt},${nt},0,${+(ft>=pi)},${dt},${this._x1=tt+nt*Math.cos(it)},${this._y1=rt+nt*Math.sin(it)}`)}rect(tt,rt,nt,at){this._append`M${this._x0=this._x1=+tt},${this._y0=this._y1=+rt}h${nt=+nt}v${+at}h${-nt}Z`}toString(){return this._}}function withPath(et){let tt=3;return et.digits=function(rt){if(!arguments.length)return tt;if(rt==null)tt=null;else{const nt=Math.floor(rt);if(!(nt>=0))throw new RangeError(`invalid digits: ${rt}`);tt=nt}return et},()=>new Path(tt)}function array(et){return typeof et=="object"&&"length"in et?et:Array.from(et)}function Linear(et){this._context=et}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(et,tt){switch(et=+et,tt=+tt,this._point){case 0:this._point=1,this._line?this._context.lineTo(et,tt):this._context.moveTo(et,tt);break;case 1:this._point=2;default:this._context.lineTo(et,tt);break}}};function curveLinear(et){return new Linear(et)}function x$1(et){return et[0]}function y$1(et){return et[1]}function shapeLine(et,tt){var rt=constant$3(!0),nt=null,at=curveLinear,it=null,st=withPath(ot);et=typeof et=="function"?et:et===void 0?x$1:constant$3(et),tt=typeof tt=="function"?tt:tt===void 0?y$1:constant$3(tt);function ot(lt){var ct,ut=(lt=array(lt)).length,dt,ft=!1,ht;for(nt==null&&(it=at(ht=st())),ct=0;ct<=ut;++ct)!(ct<ut&&rt(dt=lt[ct],ct,lt))===ft&&((ft=!ft)?it.lineStart():it.lineEnd()),ft&&it.point(+et(dt,ct,lt),+tt(dt,ct,lt));if(ht)return it=null,ht+""||null}return ot.x=function(lt){return arguments.length?(et=typeof lt=="function"?lt:constant$3(+lt),ot):et},ot.y=function(lt){return arguments.length?(tt=typeof lt=="function"?lt:constant$3(+lt),ot):tt},ot.defined=function(lt){return arguments.length?(rt=typeof lt=="function"?lt:constant$3(!!lt),ot):rt},ot.curve=function(lt){return arguments.length?(at=lt,nt!=null&&(it=at(nt)),ot):at},ot.context=function(lt){return arguments.length?(lt==null?nt=it=null:it=at(nt=lt),ot):nt},ot}function shapeArea(et,tt,rt){var nt=null,at=constant$3(!0),it=null,st=curveLinear,ot=null,lt=withPath(ct);et=typeof et=="function"?et:et===void 0?x$1:constant$3(+et),tt=typeof tt=="function"?tt:constant$3(tt===void 0?0:+tt),rt=typeof rt=="function"?rt:rt===void 0?y$1:constant$3(+rt);function ct(dt){var ft,ht,gt,mt=(dt=array(dt)).length,xt,vt=!1,_t,yt=new Array(mt),St=new Array(mt);for(it==null&&(ot=st(_t=lt())),ft=0;ft<=mt;++ft){if(!(ft<mt&&at(xt=dt[ft],ft,dt))===vt)if(vt=!vt)ht=ft,ot.areaStart(),ot.lineStart();else{for(ot.lineEnd(),ot.lineStart(),gt=ft-1;gt>=ht;--gt)ot.point(yt[gt],St[gt]);ot.lineEnd(),ot.areaEnd()}vt&&(yt[ft]=+et(xt,ft,dt),St[ft]=+tt(xt,ft,dt),ot.point(nt?+nt(xt,ft,dt):yt[ft],rt?+rt(xt,ft,dt):St[ft]))}if(_t)return ot=null,_t+""||null}function ut(){return shapeLine().defined(at).curve(st).context(it)}return ct.x=function(dt){return arguments.length?(et=typeof dt=="function"?dt:constant$3(+dt),nt=null,ct):et},ct.x0=function(dt){return arguments.length?(et=typeof dt=="function"?dt:constant$3(+dt),ct):et},ct.x1=function(dt){return arguments.length?(nt=dt==null?null:typeof dt=="function"?dt:constant$3(+dt),ct):nt},ct.y=function(dt){return arguments.length?(tt=typeof dt=="function"?dt:constant$3(+dt),rt=null,ct):tt},ct.y0=function(dt){return arguments.length?(tt=typeof dt=="function"?dt:constant$3(+dt),ct):tt},ct.y1=function(dt){return arguments.length?(rt=dt==null?null:typeof dt=="function"?dt:constant$3(+dt),ct):rt},ct.lineX0=ct.lineY0=function(){return ut().x(et).y(tt)},ct.lineY1=function(){return ut().x(et).y(rt)},ct.lineX1=function(){return ut().x(nt).y(tt)},ct.defined=function(dt){return arguments.length?(at=typeof dt=="function"?dt:constant$3(!!dt),ct):at},ct.curve=function(dt){return arguments.length?(st=dt,it!=null&&(ot=st(it)),ct):st},ct.context=function(dt){return arguments.length?(dt==null?it=ot=null:ot=st(it=dt),ct):it},ct}class Bump{constructor(tt,rt){this._context=tt,this._x=rt}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(tt,rt){switch(tt=+tt,rt=+rt,this._point){case 0:{this._point=1,this._line?this._context.lineTo(tt,rt):this._context.moveTo(tt,rt);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+tt)/2,this._y0,this._x0,rt,tt,rt):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+rt)/2,tt,this._y0,tt,rt);break}}this._x0=tt,this._y0=rt}}function bumpX(et){return new Bump(et,!0)}function bumpY(et){return new Bump(et,!1)}const symbolCircle={draw(et,tt){const rt=sqrt$1(tt/pi$1);et.moveTo(rt,0),et.arc(0,0,rt,0,tau$1)}},symbolCross={draw(et,tt){const rt=sqrt$1(tt/5)/2;et.moveTo(-3*rt,-rt),et.lineTo(-rt,-rt),et.lineTo(-rt,-3*rt),et.lineTo(rt,-3*rt),et.lineTo(rt,-rt),et.lineTo(3*rt,-rt),et.lineTo(3*rt,rt),et.lineTo(rt,rt),et.lineTo(rt,3*rt),et.lineTo(-rt,3*rt),et.lineTo(-rt,rt),et.lineTo(-3*rt,rt),et.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(et,tt){const rt=sqrt$1(tt/tan30_2),nt=rt*tan30;et.moveTo(0,-rt),et.lineTo(nt,0),et.lineTo(0,rt),et.lineTo(-nt,0),et.closePath()}},symbolSquare={draw(et,tt){const rt=sqrt$1(tt),nt=-rt/2;et.rect(nt,nt,rt,rt)}},ka=.8908130915292852,kr=sin$1(pi$1/10)/sin$1(7*pi$1/10),kx=sin$1(tau$1/10)*kr,ky=-cos$1(tau$1/10)*kr,symbolStar={draw(et,tt){const rt=sqrt$1(tt*ka),nt=kx*rt,at=ky*rt;et.moveTo(0,-rt),et.lineTo(nt,at);for(let it=1;it<5;++it){const st=tau$1*it/5,ot=cos$1(st),lt=sin$1(st);et.lineTo(lt*rt,-ot*rt),et.lineTo(ot*nt-lt*at,lt*nt+ot*at)}et.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(et,tt){const rt=-sqrt$1(tt/(sqrt3*3));et.moveTo(0,rt*2),et.lineTo(-sqrt3*rt,-rt),et.lineTo(sqrt3*rt,-rt),et.closePath()}},c$2=-.5,s$1=sqrt$1(3)/2,k$2=1/sqrt$1(12),a$2=(k$2/2+1)*3,symbolWye={draw(et,tt){const rt=sqrt$1(tt/a$2),nt=rt/2,at=rt*k$2,it=nt,st=rt*k$2+rt,ot=-it,lt=st;et.moveTo(nt,at),et.lineTo(it,st),et.lineTo(ot,lt),et.lineTo(c$2*nt-s$1*at,s$1*nt+c$2*at),et.lineTo(c$2*it-s$1*st,s$1*it+c$2*st),et.lineTo(c$2*ot-s$1*lt,s$1*ot+c$2*lt),et.lineTo(c$2*nt+s$1*at,c$2*at-s$1*nt),et.lineTo(c$2*it+s$1*st,c$2*st-s$1*it),et.lineTo(c$2*ot+s$1*lt,c$2*lt-s$1*ot),et.closePath()}};function Symbol$3(et,tt){let rt=null,nt=withPath(at);et=typeof et=="function"?et:constant$3(et||symbolCircle),tt=typeof tt=="function"?tt:constant$3(tt===void 0?64:+tt);function at(){let it;if(rt||(rt=it=nt()),et.apply(this,arguments).draw(rt,+tt.apply(this,arguments)),it)return rt=null,it+""||null}return at.type=function(it){return arguments.length?(et=typeof it=="function"?it:constant$3(it),at):et},at.size=function(it){return arguments.length?(tt=typeof it=="function"?it:constant$3(+it),at):tt},at.context=function(it){return arguments.length?(rt=it??null,at):rt},at}function noop$2(){}function point$2(et,tt,rt){et._context.bezierCurveTo((2*et._x0+et._x1)/3,(2*et._y0+et._y1)/3,(et._x0+2*et._x1)/3,(et._y0+2*et._y1)/3,(et._x0+4*et._x1+tt)/6,(et._y0+4*et._y1+rt)/6)}function Basis(et){this._context=et}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(et,tt){switch(et=+et,tt=+tt,this._point){case 0:this._point=1,this._line?this._context.lineTo(et,tt):this._context.moveTo(et,tt);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,et,tt);break}this._x0=this._x1,this._x1=et,this._y0=this._y1,this._y1=tt}};function curveBasis(et){return new Basis(et)}function BasisClosed(et){this._context=et}BasisClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(et,tt){switch(et=+et,tt=+tt,this._point){case 0:this._point=1,this._x2=et,this._y2=tt;break;case 1:this._point=2,this._x3=et,this._y3=tt;break;case 2:this._point=3,this._x4=et,this._y4=tt,this._context.moveTo((this._x0+4*this._x1+et)/6,(this._y0+4*this._y1+tt)/6);break;default:point$2(this,et,tt);break}this._x0=this._x1,this._x1=et,this._y0=this._y1,this._y1=tt}};function curveBasisClosed(et){return new BasisClosed(et)}function BasisOpen(et){this._context=et}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(et,tt){switch(et=+et,tt=+tt,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var rt=(this._x0+4*this._x1+et)/6,nt=(this._y0+4*this._y1+tt)/6;this._line?this._context.lineTo(rt,nt):this._context.moveTo(rt,nt);break;case 3:this._point=4;default:point$2(this,et,tt);break}this._x0=this._x1,this._x1=et,this._y0=this._y1,this._y1=tt}};function curveBasisOpen(et){return new BasisOpen(et)}function LinearClosed(et){this._context=et}LinearClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(et,tt){et=+et,tt=+tt,this._point?this._context.lineTo(et,tt):(this._point=1,this._context.moveTo(et,tt))}};function curveLinearClosed(et){return new LinearClosed(et)}function sign(et){return et<0?-1:1}function slope3(et,tt,rt){var nt=et._x1-et._x0,at=tt-et._x1,it=(et._y1-et._y0)/(nt||at<0&&-0),st=(rt-et._y1)/(at||nt<0&&-0),ot=(it*at+st*nt)/(nt+at);return(sign(it)+sign(st))*Math.min(Math.abs(it),Math.abs(st),.5*Math.abs(ot))||0}function slope2(et,tt){var rt=et._x1-et._x0;return rt?(3*(et._y1-et._y0)/rt-tt)/2:tt}function point$1(et,tt,rt){var nt=et._x0,at=et._y0,it=et._x1,st=et._y1,ot=(it-nt)/3;et._context.bezierCurveTo(nt+ot,at+ot*tt,it-ot,st-ot*rt,it,st)}function MonotoneX(et){this._context=et}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(et,tt){var rt=NaN;if(et=+et,tt=+tt,!(et===this._x1&&tt===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(et,tt):this._context.moveTo(et,tt);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,rt=slope3(this,et,tt)),rt);break;default:point$1(this,this._t0,rt=slope3(this,et,tt));break}this._x0=this._x1,this._x1=et,this._y0=this._y1,this._y1=tt,this._t0=rt}}};function MonotoneY(et){this._context=new ReflectContext(et)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(et,tt){MonotoneX.prototype.point.call(this,tt,et)};function ReflectContext(et){this._context=et}ReflectContext.prototype={moveTo:function(et,tt){this._context.moveTo(tt,et)},closePath:function(){this._context.closePath()},lineTo:function(et,tt){this._context.lineTo(tt,et)},bezierCurveTo:function(et,tt,rt,nt,at,it){this._context.bezierCurveTo(tt,et,nt,rt,it,at)}};function monotoneX(et){return new MonotoneX(et)}function monotoneY(et){return new MonotoneY(et)}function Natural(et){this._context=et}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var et=this._x,tt=this._y,rt=et.length;if(rt)if(this._line?this._context.lineTo(et[0],tt[0]):this._context.moveTo(et[0],tt[0]),rt===2)this._context.lineTo(et[1],tt[1]);else for(var nt=controlPoints(et),at=controlPoints(tt),it=0,st=1;st<rt;++it,++st)this._context.bezierCurveTo(nt[0][it],at[0][it],nt[1][it],at[1][it],et[st],tt[st]);(this._line||this._line!==0&&rt===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(et,tt){this._x.push(+et),this._y.push(+tt)}};function controlPoints(et){var tt,rt=et.length-1,nt,at=new Array(rt),it=new Array(rt),st=new Array(rt);for(at[0]=0,it[0]=2,st[0]=et[0]+2*et[1],tt=1;tt<rt-1;++tt)at[tt]=1,it[tt]=4,st[tt]=4*et[tt]+2*et[tt+1];for(at[rt-1]=2,it[rt-1]=7,st[rt-1]=8*et[rt-1]+et[rt],tt=1;tt<rt;++tt)nt=at[tt]/it[tt-1],it[tt]-=nt,st[tt]-=nt*st[tt-1];for(at[rt-1]=st[rt-1]/it[rt-1],tt=rt-2;tt>=0;--tt)at[tt]=(st[tt]-at[tt+1])/it[tt];for(it[rt-1]=(et[rt]+at[rt-1])/2,tt=0;tt<rt-1;++tt)it[tt]=2*et[tt+1]-at[tt+1];return[at,it]}function curveNatural(et){return new Natural(et)}function Step(et,tt){this._context=et,this._t=tt}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(et,tt){switch(et=+et,tt=+tt,this._point){case 0:this._point=1,this._line?this._context.lineTo(et,tt):this._context.moveTo(et,tt);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,tt),this._context.lineTo(et,tt);else{var rt=this._x*(1-this._t)+et*this._t;this._context.lineTo(rt,this._y),this._context.lineTo(rt,tt)}break}}this._x=et,this._y=tt}};function curveStep(et){return new Step(et,.5)}function stepBefore(et){return new Step(et,0)}function stepAfter(et){return new Step(et,1)}function stackOffsetNone(et,tt){if((st=et.length)>1)for(var rt=1,nt,at,it=et[tt[0]],st,ot=it.length;rt<st;++rt)for(at=it,it=et[tt[rt]],nt=0;nt<ot;++nt)it[nt][1]+=it[nt][0]=isNaN(at[nt][1])?at[nt][0]:at[nt][1]}function stackOrderNone(et){for(var tt=et.length,rt=new Array(tt);--tt>=0;)rt[tt]=tt;return rt}function stackValue(et,tt){return et[tt]}function stackSeries(et){const tt=[];return tt.key=et,tt}function shapeStack(){var et=constant$3([]),tt=stackOrderNone,rt=stackOffsetNone,nt=stackValue;function at(it){var st=Array.from(et.apply(this,arguments),stackSeries),ot,lt=st.length,ct=-1,ut;for(const dt of it)for(ot=0,++ct;ot<lt;++ot)(st[ot][ct]=[0,+nt(dt,st[ot].key,ct,it)]).data=dt;for(ot=0,ut=array(tt(st));ot<lt;++ot)st[ut[ot]].index=ot;return rt(st,ut),st}return at.keys=function(it){return arguments.length?(et=typeof it=="function"?it:constant$3(Array.from(it)),at):et},at.value=function(it){return arguments.length?(nt=typeof it=="function"?it:constant$3(+it),at):nt},at.order=function(it){return arguments.length?(tt=it==null?stackOrderNone:typeof it=="function"?it:constant$3(Array.from(it)),at):tt},at.offset=function(it){return arguments.length?(rt=it??stackOffsetNone,at):rt},at}function stackOffsetExpand(et,tt){if((nt=et.length)>0){for(var rt,nt,at=0,it=et[0].length,st;at<it;++at){for(st=rt=0;rt<nt;++rt)st+=et[rt][at][1]||0;if(st)for(rt=0;rt<nt;++rt)et[rt][at][1]/=st}stackOffsetNone(et,tt)}}function stackOffsetSilhouette(et,tt){if((at=et.length)>0){for(var rt=0,nt=et[tt[0]],at,it=nt.length;rt<it;++rt){for(var st=0,ot=0;st<at;++st)ot+=et[st][rt][1]||0;nt[rt][1]+=nt[rt][0]=-ot/2}stackOffsetNone(et,tt)}}function stackOffsetWiggle(et,tt){if(!(!((st=et.length)>0)||!((it=(at=et[tt[0]]).length)>0))){for(var rt=0,nt=1,at,it,st;nt<it;++nt){for(var ot=0,lt=0,ct=0;ot<st;++ot){for(var ut=et[tt[ot]],dt=ut[nt][1]||0,ft=ut[nt-1][1]||0,ht=(dt-ft)/2,gt=0;gt<ot;++gt){var mt=et[tt[gt]],xt=mt[nt][1]||0,vt=mt[nt-1][1]||0;ht+=xt-vt}lt+=dt,ct+=ht*dt}at[nt-1][1]+=at[nt-1][0]=rt,lt&&(rt-=ct/lt)}at[nt-1][1]+=at[nt-1][0]=rt,stackOffsetNone(et,tt)}}function _typeof$B(et){"@babel/helpers - typeof";return _typeof$B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$B(et)}var _excluded$b=["type","size","sizeType"];function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$n.apply(this,arguments)}function ownKeys$w(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$w(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$w(Object(rt),!0).forEach(function(nt){_defineProperty$A(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$w(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$A(et,tt,rt){return tt=_toPropertyKey$A(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$A(et){var tt=_toPrimitive$A(et,"string");return _typeof$B(tt)=="symbol"?tt:tt+""}function _toPrimitive$A(et,tt){if(_typeof$B(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$B(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _objectWithoutProperties$b(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$b(et,tt),nt,at;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(et);for(at=0;at<it.length;at++)nt=it[at],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$b(et,tt){if(et==null)return{};var rt={};for(var nt in et)if(Object.prototype.hasOwnProperty.call(et,nt)){if(tt.indexOf(nt)>=0)continue;rt[nt]=et[nt]}return rt}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$2=Math.PI/180,getSymbolFactory=function(tt){var rt="symbol".concat(upperFirst$1(tt));return symbolFactories[rt]||symbolCircle},calculateAreaSize=function(tt,rt,nt){if(rt==="area")return tt;switch(nt){case"cross":return 5*tt*tt/9;case"diamond":return .5*tt*tt/Math.sqrt(3);case"square":return tt*tt;case"star":{var at=18*RADIAN$2;return 1.25*tt*tt*(Math.tan(at)-Math.tan(at*2)*Math.pow(Math.tan(at),2))}case"triangle":return Math.sqrt(3)*tt*tt/4;case"wye":return(21-10*Math.sqrt(3))*tt*tt/8;default:return Math.PI*tt*tt/4}},registerSymbol=function(tt,rt){symbolFactories["symbol".concat(upperFirst$1(tt))]=rt},Symbols=function(tt){var rt=tt.type,nt=rt===void 0?"circle":rt,at=tt.size,it=at===void 0?64:at,st=tt.sizeType,ot=st===void 0?"area":st,lt=_objectWithoutProperties$b(tt,_excluded$b),ct=_objectSpread$w(_objectSpread$w({},lt),{},{type:nt,size:it,sizeType:ot}),ut=function(){var xt=getSymbolFactory(nt),vt=Symbol$3().type(xt).size(calculateAreaSize(it,ot,nt));return vt()},dt=ct.className,ft=ct.cx,ht=ct.cy,gt=filterProps(ct,!0);return ft===+ft&&ht===+ht&&it===+it?React$1.createElement("path",_extends$n({},gt,{className:clsx("recharts-symbols",dt),transform:"translate(".concat(ft,", ").concat(ht,")"),d:ut()})):null};Symbols.registerSymbol=registerSymbol;function _typeof$A(et){"@babel/helpers - typeof";return _typeof$A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$A(et)}function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$m.apply(this,arguments)}function ownKeys$v(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$v(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$v(Object(rt),!0).forEach(function(nt){_defineProperty$z(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$v(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _classCallCheck$g(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$g(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$z(nt.key),nt)}}function _createClass$g(et,tt,rt){return tt&&_defineProperties$g(et.prototype,tt),rt&&_defineProperties$g(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper$c(et,tt,rt){return tt=_getPrototypeOf$d(tt),_possibleConstructorReturn$d(et,_isNativeReflectConstruct$d()?Reflect.construct(tt,rt||[],_getPrototypeOf$d(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn$d(et,tt){if(tt&&(_typeof$A(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$d(et)}function _assertThisInitialized$d(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct$d(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$d=function(){return!!et})()}function _getPrototypeOf$d(et){return _getPrototypeOf$d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$d(et)}function _inherits$d(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$d(et,tt)}function _setPrototypeOf$d(et,tt){return _setPrototypeOf$d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,at){return nt.__proto__=at,nt},_setPrototypeOf$d(et,tt)}function _defineProperty$z(et,tt,rt){return tt=_toPropertyKey$z(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$z(et){var tt=_toPrimitive$z(et,"string");return _typeof$A(tt)=="symbol"?tt:tt+""}function _toPrimitive$z(et,tt){if(_typeof$A(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$A(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var SIZE=32,DefaultLegendContent=function(et){function tt(){return _classCallCheck$g(this,tt),_callSuper$c(this,tt,arguments)}return _inherits$d(tt,et),_createClass$g(tt,[{key:"renderIcon",value:function(nt){var at=this.props.inactiveColor,it=SIZE/2,st=SIZE/6,ot=SIZE/3,lt=nt.inactive?at:nt.color;if(nt.type==="plainline")return React$1.createElement("line",{strokeWidth:4,fill:"none",stroke:lt,strokeDasharray:nt.payload.strokeDasharray,x1:0,y1:it,x2:SIZE,y2:it,className:"recharts-legend-icon"});if(nt.type==="line")return React$1.createElement("path",{strokeWidth:4,fill:"none",stroke:lt,d:"M0,".concat(it,"h").concat(ot,`
            A`).concat(st,",").concat(st,",0,1,1,").concat(2*ot,",").concat(it,`
            H`).concat(SIZE,"M").concat(2*ot,",").concat(it,`
            A`).concat(st,",").concat(st,",0,1,1,").concat(ot,",").concat(it),className:"recharts-legend-icon"});if(nt.type==="rect")return React$1.createElement("path",{stroke:"none",fill:lt,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(React$1.isValidElement(nt.legendIcon)){var ct=_objectSpread$v({},nt);return delete ct.legendIcon,React$1.cloneElement(nt.legendIcon,ct)}return React$1.createElement(Symbols,{fill:lt,cx:it,cy:it,size:SIZE,sizeType:"diameter",type:nt.type})}},{key:"renderItems",value:function(){var nt=this,at=this.props,it=at.payload,st=at.iconSize,ot=at.layout,lt=at.formatter,ct=at.inactiveColor,ut={x:0,y:0,width:SIZE,height:SIZE},dt={display:ot==="horizontal"?"inline-block":"block",marginRight:10},ft={display:"inline-block",verticalAlign:"middle",marginRight:4};return it.map(function(ht,gt){var mt=ht.formatter||lt,xt=clsx(_defineProperty$z(_defineProperty$z({"recharts-legend-item":!0},"legend-item-".concat(gt),!0),"inactive",ht.inactive));if(ht.type==="none")return null;var vt=isFunction$3(ht.value)?null:ht.value;warn(!isFunction$3(ht.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _t=ht.inactive?ct:ht.color;return React$1.createElement("li",_extends$m({className:xt,style:dt,key:"legend-item-".concat(gt)},adaptEventsOfChild(nt.props,ht,gt)),React$1.createElement(Surface,{width:st,height:st,viewBox:ut,style:ft},nt.renderIcon(ht)),React$1.createElement("span",{className:"recharts-legend-item-text",style:{color:_t}},mt?mt(vt,ht,gt):vt))})}},{key:"render",value:function(){var nt=this.props,at=nt.payload,it=nt.layout,st=nt.align;if(!at||!at.length)return null;var ot={padding:0,margin:0,textAlign:it==="horizontal"?st:"left"};return React$1.createElement("ul",{className:"recharts-default-legend",style:ot},this.renderItems())}}])}(reactExports.PureComponent);_defineProperty$z(DefaultLegendContent,"displayName","Legend");_defineProperty$z(DefaultLegendContent,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ListCache$2=_ListCache;function stackClear$1(){this.__data__=new ListCache$2,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(et){var tt=this.__data__,rt=tt.delete(et);return this.size=tt.size,rt}var _stackDelete=stackDelete$1;function stackGet$1(et){return this.__data__.get(et)}var _stackGet=stackGet$1;function stackHas$1(et){return this.__data__.has(et)}var _stackHas=stackHas$1,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE$1=200;function stackSet$1(et,tt){var rt=this.__data__;if(rt instanceof ListCache$1){var nt=rt.__data__;if(!Map$2||nt.length<LARGE_ARRAY_SIZE$1-1)return nt.push([et,tt]),this.size=++rt.size,this;rt=this.__data__=new MapCache$1(nt)}return rt.set(et,tt),this.size=rt.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$2(et){var tt=this.__data__=new ListCache(et);this.size=tt.size}Stack$2.prototype.clear=stackClear;Stack$2.prototype.delete=stackDelete;Stack$2.prototype.get=stackGet;Stack$2.prototype.has=stackHas;Stack$2.prototype.set=stackSet;var _Stack=Stack$2,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(et){return this.__data__.set(et,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(et){return this.__data__.has(et)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$2(et){var tt=-1,rt=et==null?0:et.length;for(this.__data__=new MapCache;++tt<rt;)this.add(et[tt])}SetCache$2.prototype.add=SetCache$2.prototype.push=setCacheAdd;SetCache$2.prototype.has=setCacheHas;var _SetCache=SetCache$2;function arraySome$2(et,tt){for(var rt=-1,nt=et==null?0:et.length;++rt<nt;)if(tt(et[rt],rt,et))return!0;return!1}var _arraySome=arraySome$2;function cacheHas$2(et,tt){return et.has(tt)}var _cacheHas=cacheHas$2,SetCache$1=_SetCache,arraySome$1=_arraySome,cacheHas$1=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(et,tt,rt,nt,at,it){var st=rt&COMPARE_PARTIAL_FLAG$5,ot=et.length,lt=tt.length;if(ot!=lt&&!(st&&lt>ot))return!1;var ct=it.get(et),ut=it.get(tt);if(ct&&ut)return ct==tt&&ut==et;var dt=-1,ft=!0,ht=rt&COMPARE_UNORDERED_FLAG$3?new SetCache$1:void 0;for(it.set(et,tt),it.set(tt,et);++dt<ot;){var gt=et[dt],mt=tt[dt];if(nt)var xt=st?nt(mt,gt,dt,tt,et,it):nt(gt,mt,dt,et,tt,it);if(xt!==void 0){if(xt)continue;ft=!1;break}if(ht){if(!arraySome$1(tt,function(vt,_t){if(!cacheHas$1(ht,_t)&&(gt===vt||at(gt,vt,rt,nt,it)))return ht.push(_t)})){ft=!1;break}}else if(!(gt===mt||at(gt,mt,rt,nt,it))){ft=!1;break}}return it.delete(et),it.delete(tt),ft}var _equalArrays=equalArrays$2,root$5=_root,Uint8Array$2=root$5.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(et){var tt=-1,rt=Array(et.size);return et.forEach(function(nt,at){rt[++tt]=[at,nt]}),rt}var _mapToArray=mapToArray$1;function setToArray$3(et){var tt=-1,rt=Array(et.size);return et.forEach(function(nt){rt[++tt]=nt}),rt}var _setToArray=setToArray$3,Symbol$2=_Symbol,Uint8Array$1=_Uint8Array,eq$1=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray$2=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$2="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(et,tt,rt,nt,at,it,st){switch(rt){case dataViewTag$2:if(et.byteLength!=tt.byteLength||et.byteOffset!=tt.byteOffset)return!1;et=et.buffer,tt=tt.buffer;case arrayBufferTag$1:return!(et.byteLength!=tt.byteLength||!it(new Uint8Array$1(et),new Uint8Array$1(tt)));case boolTag$2:case dateTag$1:case numberTag$1:return eq$1(+et,+tt);case errorTag$1:return et.name==tt.name&&et.message==tt.message;case regexpTag$1:case stringTag$1:return et==tt+"";case mapTag$2:var ot=mapToArray;case setTag$2:var lt=nt&COMPARE_PARTIAL_FLAG$4;if(ot||(ot=setToArray$2),et.size!=tt.size&&!lt)return!1;var ct=st.get(et);if(ct)return ct==tt;nt|=COMPARE_UNORDERED_FLAG$2,st.set(et,tt);var ut=equalArrays$1(ot(et),ot(tt),nt,at,it,st);return st.delete(et),ut;case symbolTag:if(symbolValueOf)return symbolValueOf.call(et)==symbolValueOf.call(tt)}return!1}var _equalByTag=equalByTag$1;function arrayPush$2(et,tt){for(var rt=-1,nt=tt.length,at=et.length;++rt<nt;)et[at+rt]=tt[rt];return et}var _arrayPush=arrayPush$2,arrayPush$1=_arrayPush,isArray$9=isArray_1;function baseGetAllKeys$1(et,tt,rt){var nt=tt(et);return isArray$9(et)?nt:arrayPush$1(nt,rt(et))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(et,tt){for(var rt=-1,nt=et==null?0:et.length,at=0,it=[];++rt<nt;){var st=et[rt];tt(st,rt,et)&&(it[at++]=st)}return it}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$7=Object.prototype,propertyIsEnumerable$1=objectProto$7.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(et){return et==null?[]:(et=Object(et),arrayFilter(nativeGetSymbols(et),function(tt){return propertyIsEnumerable$1.call(et,tt)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(et,tt){for(var rt=-1,nt=Array(et);++rt<et;)nt[rt]=tt(rt);return nt}var _baseTimes=baseTimes$1,baseGetTag$4=_baseGetTag,isObjectLike$5=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(et){return isObjectLike$5(et)&&baseGetTag$4(et)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$4=isObjectLike_1,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments$3=baseIsArguments(function(){return arguments}())?baseIsArguments:function(et){return isObjectLike$4(et)&&hasOwnProperty$6.call(et,"callee")&&!propertyIsEnumerable.call(et,"callee")},isArguments_1=isArguments$3,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$2.exports;(function(et,tt){var rt=_root,nt=stubFalse_1,at=tt&&!tt.nodeType&&tt,it=at&&!0&&et&&!et.nodeType&&et,st=it&&it.exports===at,ot=st?rt.Buffer:void 0,lt=ot?ot.isBuffer:void 0,ct=lt||nt;et.exports=ct})(isBuffer$2,isBuffer$2.exports);var isBufferExports=isBuffer$2.exports,MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$3(et,tt){var rt=typeof et;return tt=tt??MAX_SAFE_INTEGER$2,!!tt&&(rt=="number"||rt!="symbol"&&reIsUint.test(et))&&et>-1&&et%1==0&&et<tt}var _isIndex=isIndex$3,MAX_SAFE_INTEGER$1=9007199254740991;function isLength$3(et){return typeof et=="number"&&et>-1&&et%1==0&&et<=MAX_SAFE_INTEGER$1}var isLength_1=isLength$3,baseGetTag$3=_baseGetTag,isLength$2=isLength_1,isObjectLike$3=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$3="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(et){return isObjectLike$3(et)&&isLength$2(et.length)&&!!typedArrayTags[baseGetTag$3(et)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$2(et){return function(tt){return et(tt)}}var _baseUnary=baseUnary$2,_nodeUtil={exports:{}};_nodeUtil.exports;(function(et,tt){var rt=_freeGlobal,nt=tt&&!tt.nodeType&&tt,at=nt&&!0&&et&&!et.nodeType&&et,it=at&&at.exports===nt,st=it&&rt.process,ot=function(){try{var lt=at&&at.require&&at.require("util").types;return lt||st&&st.binding&&st.binding("util")}catch{}}();et.exports=ot})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$1=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$3=nodeIsTypedArray?baseUnary$1(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$3,baseTimes=_baseTimes,isArguments$2=isArguments_1,isArray$8=isArray_1,isBuffer$1=isBufferExports,isIndex$2=_isIndex,isTypedArray$2=isTypedArray_1,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function arrayLikeKeys$1(et,tt){var rt=isArray$8(et),nt=!rt&&isArguments$2(et),at=!rt&&!nt&&isBuffer$1(et),it=!rt&&!nt&&!at&&isTypedArray$2(et),st=rt||nt||at||it,ot=st?baseTimes(et.length,String):[],lt=ot.length;for(var ct in et)(tt||hasOwnProperty$5.call(et,ct))&&!(st&&(ct=="length"||at&&(ct=="offset"||ct=="parent")||it&&(ct=="buffer"||ct=="byteLength"||ct=="byteOffset")||isIndex$2(ct,lt)))&&ot.push(ct);return ot}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$4=Object.prototype;function isPrototype$1(et){var tt=et&&et.constructor,rt=typeof tt=="function"&&tt.prototype||objectProto$4;return et===rt}var _isPrototype=isPrototype$1;function overArg$2(et,tt){return function(rt){return et(tt(rt))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$3=Object.prototype,hasOwnProperty$4=objectProto$3.hasOwnProperty;function baseKeys$1(et){if(!isPrototype(et))return nativeKeys(et);var tt=[];for(var rt in Object(et))hasOwnProperty$4.call(et,rt)&&rt!="constructor"&&tt.push(rt);return tt}var _baseKeys=baseKeys$1,isFunction=isFunction_1,isLength$1=isLength_1;function isArrayLike$4(et){return et!=null&&isLength$1(et.length)&&!isFunction(et)}var isArrayLike_1=isArrayLike$4,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$3=isArrayLike_1;function keys$4(et){return isArrayLike$3(et)?arrayLikeKeys(et):baseKeys(et)}var keys_1=keys$4,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$3=keys_1;function getAllKeys$1(et){return baseGetAllKeys(et,keys$3,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$2=Object.prototype,hasOwnProperty$3=objectProto$2.hasOwnProperty;function equalObjects$1(et,tt,rt,nt,at,it){var st=rt&COMPARE_PARTIAL_FLAG$3,ot=getAllKeys(et),lt=ot.length,ct=getAllKeys(tt),ut=ct.length;if(lt!=ut&&!st)return!1;for(var dt=lt;dt--;){var ft=ot[dt];if(!(st?ft in tt:hasOwnProperty$3.call(tt,ft)))return!1}var ht=it.get(et),gt=it.get(tt);if(ht&&gt)return ht==tt&&gt==et;var mt=!0;it.set(et,tt),it.set(tt,et);for(var xt=st;++dt<lt;){ft=ot[dt];var vt=et[ft],_t=tt[ft];if(nt)var yt=st?nt(_t,vt,ft,tt,et,it):nt(vt,_t,ft,et,tt,it);if(!(yt===void 0?vt===_t||at(vt,_t,rt,nt,it):yt)){mt=!1;break}xt||(xt=ft=="constructor")}if(mt&&!xt){var St=et.constructor,bt=tt.constructor;St!=bt&&"constructor"in et&&"constructor"in tt&&!(typeof St=="function"&&St instanceof St&&typeof bt=="function"&&bt instanceof bt)&&(mt=!1)}return it.delete(et),it.delete(tt),mt}var _equalObjects=equalObjects$1,getNative$4=_getNative,root$4=_root,DataView$2=getNative$4(root$4,"DataView"),_DataView=DataView$2,getNative$3=_getNative,root$3=_root,Promise$2=getNative$3(root$3,"Promise"),_Promise=Promise$2,getNative$2=_getNative,root$2=_root,Set$3=getNative$2(root$2,"Set"),_Set=Set$3,getNative$1=_getNative,root$1=_root,WeakMap$2=getNative$1(root$1,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$2=_Set,WeakMap$1=_WeakMap,baseGetTag$2=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$1),getTag$1=baseGetTag$2;(DataView$1&&getTag$1(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$1(new Map$1)!=mapTag||Promise$1&&getTag$1(Promise$1.resolve())!=promiseTag||Set$2&&getTag$1(new Set$2)!=setTag||WeakMap$1&&getTag$1(new WeakMap$1)!=weakMapTag)&&(getTag$1=function(et){var tt=baseGetTag$2(et),rt=tt==objectTag$2?et.constructor:void 0,nt=rt?toSource(rt):"";if(nt)switch(nt){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return tt});var _getTag=getTag$1,Stack$1=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag=_getTag,isArray$7=isArray_1,isBuffer=isBufferExports,isTypedArray$1=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag$1="[object Object]",objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function baseIsEqualDeep$1(et,tt,rt,nt,at,it){var st=isArray$7(et),ot=isArray$7(tt),lt=st?arrayTag:getTag(et),ct=ot?arrayTag:getTag(tt);lt=lt==argsTag?objectTag$1:lt,ct=ct==argsTag?objectTag$1:ct;var ut=lt==objectTag$1,dt=ct==objectTag$1,ft=lt==ct;if(ft&&isBuffer(et)){if(!isBuffer(tt))return!1;st=!0,ut=!1}if(ft&&!ut)return it||(it=new Stack$1),st||isTypedArray$1(et)?equalArrays(et,tt,rt,nt,at,it):equalByTag(et,tt,lt,rt,nt,at,it);if(!(rt&COMPARE_PARTIAL_FLAG$2)){var ht=ut&&hasOwnProperty$2.call(et,"__wrapped__"),gt=dt&&hasOwnProperty$2.call(tt,"__wrapped__");if(ht||gt){var mt=ht?et.value():et,xt=gt?tt.value():tt;return it||(it=new Stack$1),at(mt,xt,rt,nt,it)}}return ft?(it||(it=new Stack$1),equalObjects(et,tt,rt,nt,at,it)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$2=isObjectLike_1;function baseIsEqual$3(et,tt,rt,nt,at){return et===tt?!0:et==null||tt==null||!isObjectLike$2(et)&&!isObjectLike$2(tt)?et!==et&&tt!==tt:baseIsEqualDeep(et,tt,rt,nt,baseIsEqual$3,at)}var _baseIsEqual=baseIsEqual$3,Stack=_Stack,baseIsEqual$2=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(et,tt,rt,nt){var at=rt.length,it=at,st=!nt;if(et==null)return!it;for(et=Object(et);at--;){var ot=rt[at];if(st&&ot[2]?ot[1]!==et[ot[0]]:!(ot[0]in et))return!1}for(;++at<it;){ot=rt[at];var lt=ot[0],ct=et[lt],ut=ot[1];if(st&&ot[2]){if(ct===void 0&&!(lt in et))return!1}else{var dt=new Stack;if(nt)var ft=nt(ct,ut,lt,et,tt,dt);if(!(ft===void 0?baseIsEqual$2(ut,ct,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,nt,dt):ft))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$4=isObject_1;function isStrictComparable$2(et){return et===et&&!isObject$4(et)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$2=keys_1;function getMatchData$1(et){for(var tt=keys$2(et),rt=tt.length;rt--;){var nt=tt[rt],at=et[nt];tt[rt]=[nt,at,isStrictComparable$1(at)]}return tt}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(et,tt){return function(rt){return rt==null?!1:rt[et]===tt&&(tt!==void 0||et in Object(rt))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(et){var tt=getMatchData(et);return tt.length==1&&tt[0][2]?matchesStrictComparable$1(tt[0][0],tt[0][1]):function(rt){return rt===et||baseIsMatch(rt,et,tt)}}var _baseMatches=baseMatches$1;function baseHasIn$1(et,tt){return et!=null&&tt in Object(et)}var _baseHasIn=baseHasIn$1,castPath=_castPath,isArguments$1=isArguments_1,isArray$6=isArray_1,isIndex$1=_isIndex,isLength=isLength_1,toKey$2=_toKey;function hasPath$1(et,tt,rt){tt=castPath(tt,et);for(var nt=-1,at=tt.length,it=!1;++nt<at;){var st=toKey$2(tt[nt]);if(!(it=et!=null&&rt(et,st)))break;et=et[st]}return it||++nt!=at?it:(at=et==null?0:et.length,!!at&&isLength(at)&&isIndex$1(st,at)&&(isArray$6(et)||isArguments$1(et)))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(et,tt){return et!=null&&hasPath(et,tt,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual$1=_baseIsEqual,get=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(et,tt){return isKey$1(et)&&isStrictComparable(tt)?matchesStrictComparable(toKey$1(et),tt):function(rt){var nt=get(rt,et);return nt===void 0&&nt===tt?hasIn(rt,et):baseIsEqual$1(tt,nt,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$b(et){return et}var identity_1=identity$b;function baseProperty$1(et){return function(tt){return tt==null?void 0:tt[et]}}var _baseProperty=baseProperty$1,baseGet$1=_baseGet;function basePropertyDeep$1(et){return function(tt){return baseGet$1(tt,et)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey=_toKey;function property$1(et){return isKey(et)?baseProperty(toKey(et)):basePropertyDeep(et)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$a=identity_1,isArray$5=isArray_1,property=property_1;function baseIteratee$8(et){return typeof et=="function"?et:et==null?identity$a:typeof et=="object"?isArray$5(et)?baseMatchesProperty(et[0],et[1]):baseMatches(et):property(et)}var _baseIteratee=baseIteratee$8;function baseFindIndex$1(et,tt,rt,nt){for(var at=et.length,it=rt+(nt?1:-1);nt?it--:++it<at;)if(tt(et[it],it,et))return it;return-1}var _baseFindIndex=baseFindIndex$1;function baseIsNaN$1(et){return et!==et}var _baseIsNaN=baseIsNaN$1;function strictIndexOf$1(et,tt,rt){for(var nt=rt-1,at=et.length;++nt<at;)if(et[nt]===tt)return nt;return-1}var _strictIndexOf=strictIndexOf$1,baseFindIndex=_baseFindIndex,baseIsNaN=_baseIsNaN,strictIndexOf=_strictIndexOf;function baseIndexOf$1(et,tt,rt){return tt===tt?strictIndexOf(et,tt,rt):baseFindIndex(et,baseIsNaN,rt)}var _baseIndexOf=baseIndexOf$1,baseIndexOf=_baseIndexOf;function arrayIncludes$1(et,tt){var rt=et==null?0:et.length;return!!rt&&baseIndexOf(et,tt,0)>-1}var _arrayIncludes=arrayIncludes$1;function arrayIncludesWith$1(et,tt,rt){for(var nt=-1,at=et==null?0:et.length;++nt<at;)if(rt(tt,et[nt]))return!0;return!1}var _arrayIncludesWith=arrayIncludesWith$1;function noop$1(){}var noop_1=noop$1,Set$1=_Set,noop=noop_1,setToArray$1=_setToArray,INFINITY$1=1/0,createSet$1=Set$1&&1/setToArray$1(new Set$1([,-0]))[1]==INFINITY$1?function(et){return new Set$1(et)}:noop,_createSet=createSet$1,SetCache=_SetCache,arrayIncludes=_arrayIncludes,arrayIncludesWith=_arrayIncludesWith,cacheHas=_cacheHas,createSet=_createSet,setToArray=_setToArray,LARGE_ARRAY_SIZE=200;function baseUniq$1(et,tt,rt){var nt=-1,at=arrayIncludes,it=et.length,st=!0,ot=[],lt=ot;if(rt)st=!1,at=arrayIncludesWith;else if(it>=LARGE_ARRAY_SIZE){var ct=tt?null:createSet(et);if(ct)return setToArray(ct);st=!1,at=cacheHas,lt=new SetCache}else lt=tt?[]:ot;e:for(;++nt<it;){var ut=et[nt],dt=tt?tt(ut):ut;if(ut=rt||ut!==0?ut:0,st&&dt===dt){for(var ft=lt.length;ft--;)if(lt[ft]===dt)continue e;tt&&lt.push(dt),ot.push(ut)}else at(lt,dt,rt)||(lt!==ot&&lt.push(dt),ot.push(ut))}return ot}var _baseUniq=baseUniq$1,baseIteratee$7=_baseIteratee,baseUniq=_baseUniq;function uniqBy(et,tt){return et&&et.length?baseUniq(et,baseIteratee$7(tt)):[]}var uniqBy_1=uniqBy;const uniqBy$1=getDefaultExportFromCjs(uniqBy_1);function getUniqPayload(et,tt,rt){return tt===!0?uniqBy$1(et,rt):isFunction$3(tt)?uniqBy$1(et,tt):et}function _typeof$z(et){"@babel/helpers - typeof";return _typeof$z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$z(et)}var _excluded$a=["ref"];function ownKeys$u(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$u(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$u(Object(rt),!0).forEach(function(nt){_defineProperty$y(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$u(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _classCallCheck$f(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$f(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$y(nt.key),nt)}}function _createClass$f(et,tt,rt){return tt&&_defineProperties$f(et.prototype,tt),rt&&_defineProperties$f(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper$b(et,tt,rt){return tt=_getPrototypeOf$c(tt),_possibleConstructorReturn$c(et,_isNativeReflectConstruct$c()?Reflect.construct(tt,rt||[],_getPrototypeOf$c(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn$c(et,tt){if(tt&&(_typeof$z(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$c(et)}function _assertThisInitialized$c(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct$c(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$c=function(){return!!et})()}function _getPrototypeOf$c(et){return _getPrototypeOf$c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$c(et)}function _inherits$c(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$c(et,tt)}function _setPrototypeOf$c(et,tt){return _setPrototypeOf$c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,at){return nt.__proto__=at,nt},_setPrototypeOf$c(et,tt)}function _defineProperty$y(et,tt,rt){return tt=_toPropertyKey$y(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$y(et){var tt=_toPrimitive$y(et,"string");return _typeof$z(tt)=="symbol"?tt:tt+""}function _toPrimitive$y(et,tt){if(_typeof$z(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$z(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _objectWithoutProperties$a(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$a(et,tt),nt,at;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(et);for(at=0;at<it.length;at++)nt=it[at],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$a(et,tt){if(et==null)return{};var rt={};for(var nt in et)if(Object.prototype.hasOwnProperty.call(et,nt)){if(tt.indexOf(nt)>=0)continue;rt[nt]=et[nt]}return rt}function defaultUniqBy$1(et){return et.value}function renderContent$1(et,tt){if(React$1.isValidElement(et))return React$1.cloneElement(et,tt);if(typeof et=="function")return React$1.createElement(et,tt);tt.ref;var rt=_objectWithoutProperties$a(tt,_excluded$a);return React$1.createElement(DefaultLegendContent,rt)}var EPS$1=1,Legend=function(et){function tt(){var rt;_classCallCheck$f(this,tt);for(var nt=arguments.length,at=new Array(nt),it=0;it<nt;it++)at[it]=arguments[it];return rt=_callSuper$b(this,tt,[].concat(at)),_defineProperty$y(rt,"lastBoundingBox",{width:-1,height:-1}),rt}return _inherits$c(tt,et),_createClass$f(tt,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var nt=this.wrapperNode.getBoundingClientRect();return nt.height=this.wrapperNode.offsetHeight,nt.width=this.wrapperNode.offsetWidth,nt}return null}},{key:"updateBBox",value:function(){var nt=this.props.onBBoxUpdate,at=this.getBBox();at?(Math.abs(at.width-this.lastBoundingBox.width)>EPS$1||Math.abs(at.height-this.lastBoundingBox.height)>EPS$1)&&(this.lastBoundingBox.width=at.width,this.lastBoundingBox.height=at.height,nt&&nt(at)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,nt&&nt(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_objectSpread$u({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(nt){var at=this.props,it=at.layout,st=at.align,ot=at.verticalAlign,lt=at.margin,ct=at.chartWidth,ut=at.chartHeight,dt,ft;if(!nt||(nt.left===void 0||nt.left===null)&&(nt.right===void 0||nt.right===null))if(st==="center"&&it==="vertical"){var ht=this.getBBoxSnapshot();dt={left:((ct||0)-ht.width)/2}}else dt=st==="right"?{right:lt&&lt.right||0}:{left:lt&&lt.left||0};if(!nt||(nt.top===void 0||nt.top===null)&&(nt.bottom===void 0||nt.bottom===null))if(ot==="middle"){var gt=this.getBBoxSnapshot();ft={top:((ut||0)-gt.height)/2}}else ft=ot==="bottom"?{bottom:lt&&lt.bottom||0}:{top:lt&&lt.top||0};return _objectSpread$u(_objectSpread$u({},dt),ft)}},{key:"render",value:function(){var nt=this,at=this.props,it=at.content,st=at.width,ot=at.height,lt=at.wrapperStyle,ct=at.payloadUniqBy,ut=at.payload,dt=_objectSpread$u(_objectSpread$u({position:"absolute",width:st||"auto",height:ot||"auto"},this.getDefaultPosition(lt)),lt);return React$1.createElement("div",{className:"recharts-legend-wrapper",style:dt,ref:function(ht){nt.wrapperNode=ht}},renderContent$1(it,_objectSpread$u(_objectSpread$u({},this.props),{},{payload:getUniqPayload(ut,ct,defaultUniqBy$1)})))}}],[{key:"getWithHeight",value:function(nt,at){var it=_objectSpread$u(_objectSpread$u({},this.defaultProps),nt.props),st=it.layout;return st==="vertical"&&isNumber(nt.props.height)?{height:nt.props.height}:st==="horizontal"?{width:nt.props.width||at}:null}}])}(reactExports.PureComponent);_defineProperty$y(Legend,"displayName","Legend");_defineProperty$y(Legend,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Symbol$1=_Symbol,isArguments=isArguments_1,isArray$4=isArray_1,spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable$1(et){return isArray$4(et)||isArguments(et)||!!(spreadableSymbol&&et&&et[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$2(et,tt,rt,nt,at){var it=-1,st=et.length;for(rt||(rt=isFlattenable),at||(at=[]);++it<st;){var ot=et[it];tt>0&&rt(ot)?tt>1?baseFlatten$2(ot,tt-1,rt,nt,at):arrayPush(at,ot):nt||(at[at.length]=ot)}return at}var _baseFlatten=baseFlatten$2;function createBaseFor$1(et){return function(tt,rt,nt){for(var at=-1,it=Object(tt),st=nt(tt),ot=st.length;ot--;){var lt=st[et?ot:++at];if(rt(it[lt],lt,it)===!1)break}return tt}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1,baseFor=_baseFor,keys$1=keys_1;function baseForOwn$2(et,tt){return et&&baseFor(et,tt,keys$1)}var _baseForOwn=baseForOwn$2,isArrayLike$2=isArrayLike_1;function createBaseEach$1(et,tt){return function(rt,nt){if(rt==null)return rt;if(!isArrayLike$2(rt))return et(rt,nt);for(var at=rt.length,it=tt?at:-1,st=Object(rt);(tt?it--:++it<at)&&nt(st[it],it,st)!==!1;);return rt}}var _createBaseEach=createBaseEach$1,baseForOwn$1=_baseForOwn,createBaseEach=_createBaseEach,baseEach$3=createBaseEach(baseForOwn$1),_baseEach=baseEach$3,baseEach$2=_baseEach,isArrayLike$1=isArrayLike_1;function baseMap$2(et,tt){var rt=-1,nt=isArrayLike$1(et)?Array(et.length):[];return baseEach$2(et,function(at,it,st){nt[++rt]=tt(at,it,st)}),nt}var _baseMap=baseMap$2;function baseSortBy$1(et,tt){var rt=et.length;for(et.sort(tt);rt--;)et[rt]=et[rt].value;return et}var _baseSortBy=baseSortBy$1,isSymbol$2=isSymbol_1;function compareAscending$1(et,tt){if(et!==tt){var rt=et!==void 0,nt=et===null,at=et===et,it=isSymbol$2(et),st=tt!==void 0,ot=tt===null,lt=tt===tt,ct=isSymbol$2(tt);if(!ot&&!ct&&!it&&et>tt||it&&st&&lt&&!ot&&!ct||nt&&st&&lt||!rt&&lt||!at)return 1;if(!nt&&!it&&!ct&&et<tt||ct&&rt&&at&&!nt&&!it||ot&&rt&&at||!st&&at||!lt)return-1}return 0}var _compareAscending=compareAscending$1,compareAscending=_compareAscending;function compareMultiple$1(et,tt,rt){for(var nt=-1,at=et.criteria,it=tt.criteria,st=at.length,ot=rt.length;++nt<st;){var lt=compareAscending(at[nt],it[nt]);if(lt){if(nt>=ot)return lt;var ct=rt[nt];return lt*(ct=="desc"?-1:1)}}return et.index-tt.index}var _compareMultiple=compareMultiple$1,arrayMap$1=_arrayMap,baseGet=_baseGet,baseIteratee$6=_baseIteratee,baseMap$1=_baseMap,baseSortBy=_baseSortBy,baseUnary=_baseUnary,compareMultiple=_compareMultiple,identity$9=identity_1,isArray$3=isArray_1;function baseOrderBy$1(et,tt,rt){tt.length?tt=arrayMap$1(tt,function(it){return isArray$3(it)?function(st){return baseGet(st,it.length===1?it[0]:it)}:it}):tt=[identity$9];var nt=-1;tt=arrayMap$1(tt,baseUnary(baseIteratee$6));var at=baseMap$1(et,function(it,st,ot){var lt=arrayMap$1(tt,function(ct){return ct(it)});return{criteria:lt,index:++nt,value:it}});return baseSortBy(at,function(it,st){return compareMultiple(it,st,rt)})}var _baseOrderBy=baseOrderBy$1;function apply$2(et,tt,rt){switch(rt.length){case 0:return et.call(tt);case 1:return et.call(tt,rt[0]);case 2:return et.call(tt,rt[0],rt[1]);case 3:return et.call(tt,rt[0],rt[1],rt[2])}return et.apply(tt,rt)}var _apply=apply$2,apply$1=_apply,nativeMax$2=Math.max;function overRest$1(et,tt,rt){return tt=nativeMax$2(tt===void 0?et.length-1:tt,0),function(){for(var nt=arguments,at=-1,it=nativeMax$2(nt.length-tt,0),st=Array(it);++at<it;)st[at]=nt[tt+at];at=-1;for(var ot=Array(tt+1);++at<tt;)ot[at]=nt[at];return ot[tt]=rt(st),apply$1(et,this,ot)}}var _overRest=overRest$1;function constant$2(et){return function(){return et}}var constant_1=constant$2,getNative=_getNative,defineProperty$2=function(){try{var et=getNative(Object,"defineProperty");return et({},"",{}),et}catch{}}(),_defineProperty$x=defineProperty$2,constant$1=constant_1,defineProperty$1=_defineProperty$x,identity$8=identity_1,baseSetToString$1=defineProperty$1?function(et,tt){return defineProperty$1(et,"toString",{configurable:!0,enumerable:!1,value:constant$1(tt),writable:!0})}:identity$8,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(et){var tt=0,rt=0;return function(){var nt=nativeNow(),at=HOT_SPAN-(nt-rt);if(rt=nt,at>0){if(++tt>=HOT_COUNT)return arguments[0]}else tt=0;return et.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$1=shortOut(baseSetToString),_setToString=setToString$1,identity$7=identity_1,overRest=_overRest,setToString=_setToString;function baseRest$1(et,tt){return setToString(overRest(et,tt,identity$7),et+"")}var _baseRest=baseRest$1,eq=eq_1,isArrayLike=isArrayLike_1,isIndex=_isIndex,isObject$3=isObject_1;function isIterateeCall$4(et,tt,rt){if(!isObject$3(rt))return!1;var nt=typeof tt;return(nt=="number"?isArrayLike(rt)&&isIndex(tt,rt.length):nt=="string"&&tt in rt)?eq(rt[tt],et):!1}var _isIterateeCall=isIterateeCall$4,baseFlatten$1=_baseFlatten,baseOrderBy=_baseOrderBy,baseRest=_baseRest,isIterateeCall$3=_isIterateeCall,sortBy=baseRest(function(et,tt){if(et==null)return[];var rt=tt.length;return rt>1&&isIterateeCall$3(et,tt[0],tt[1])?tt=[]:rt>2&&isIterateeCall$3(tt[0],tt[1],tt[2])&&(tt=[tt[0]]),baseOrderBy(et,baseFlatten$1(tt,1),[])}),sortBy_1=sortBy;const sortBy$1=getDefaultExportFromCjs(sortBy_1);function _typeof$y(et){"@babel/helpers - typeof";return _typeof$y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$y(et)}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$l.apply(this,arguments)}function _slicedToArray$c(et,tt){return _arrayWithHoles$d(et)||_iterableToArrayLimit$c(et,tt)||_unsupportedIterableToArray$k(et,tt)||_nonIterableRest$d()}function _nonIterableRest$d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$k(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$k(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$k(et,tt)}}function _arrayLikeToArray$k(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$c(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,at,it,st,ot=[],lt=!0,ct=!1;try{if(it=(rt=rt.call(et)).next,tt===0){if(Object(rt)!==rt)return;lt=!1}else for(;!(lt=(nt=it.call(rt)).done)&&(ot.push(nt.value),ot.length!==tt);lt=!0);}catch(ut){ct=!0,at=ut}finally{try{if(!lt&&rt.return!=null&&(st=rt.return(),Object(st)!==st))return}finally{if(ct)throw at}}return ot}}function _arrayWithHoles$d(et){if(Array.isArray(et))return et}function ownKeys$t(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$t(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$t(Object(rt),!0).forEach(function(nt){_defineProperty$w(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$t(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$w(et,tt,rt){return tt=_toPropertyKey$x(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$x(et){var tt=_toPrimitive$x(et,"string");return _typeof$y(tt)=="symbol"?tt:tt+""}function _toPrimitive$x(et,tt){if(_typeof$y(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$y(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function defaultFormatter(et){return Array.isArray(et)&&isNumOrStr(et[0])&&isNumOrStr(et[1])?et.join(" ~ "):et}var DefaultTooltipContent=function(tt){var rt=tt.separator,nt=rt===void 0?" : ":rt,at=tt.contentStyle,it=at===void 0?{}:at,st=tt.itemStyle,ot=st===void 0?{}:st,lt=tt.labelStyle,ct=lt===void 0?{}:lt,ut=tt.payload,dt=tt.formatter,ft=tt.itemSorter,ht=tt.wrapperClassName,gt=tt.labelClassName,mt=tt.label,xt=tt.labelFormatter,vt=tt.accessibilityLayer,_t=vt===void 0?!1:vt,yt=function(){if(ut&&ut.length){var Dt={padding:0,margin:0},Ft=(ft?sortBy$1(ut,ft):ut).map(function(Ot,It){if(Ot.type==="none")return null;var Bt=_objectSpread$t({display:"block",paddingTop:4,paddingBottom:4,color:Ot.color||"#000"},ot),qt=Ot.formatter||dt||defaultFormatter,Ut=Ot.value,Ht=Ot.name,Qt=Ut,ir=Ht;if(qt&&Qt!=null&&ir!=null){var Xt=qt(Ut,Ht,Ot,It,ut);if(Array.isArray(Xt)){var Lt=_slicedToArray$c(Xt,2);Qt=Lt[0],ir=Lt[1]}else Qt=Xt}return React$1.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(It),style:Bt},isNumOrStr(ir)?React$1.createElement("span",{className:"recharts-tooltip-item-name"},ir):null,isNumOrStr(ir)?React$1.createElement("span",{className:"recharts-tooltip-item-separator"},nt):null,React$1.createElement("span",{className:"recharts-tooltip-item-value"},Qt),React$1.createElement("span",{className:"recharts-tooltip-item-unit"},Ot.unit||""))});return React$1.createElement("ul",{className:"recharts-tooltip-item-list",style:Dt},Ft)}return null},St=_objectSpread$t({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},it),bt=_objectSpread$t({margin:0},ct),Et=!isNil$1(mt),Tt=Et?mt:"",At=clsx("recharts-default-tooltip",ht),Ct=clsx("recharts-tooltip-label",gt);Et&&xt&&ut!==void 0&&ut!==null&&(Tt=xt(mt,ut));var kt=_t?{role:"status","aria-live":"assertive"}:{};return React$1.createElement("div",_extends$l({className:At,style:St},kt),React$1.createElement("p",{className:Ct,style:bt},React$1.isValidElement(Tt)?Tt:"".concat(Tt)),yt())};function _typeof$x(et){"@babel/helpers - typeof";return _typeof$x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$x(et)}function _defineProperty$v(et,tt,rt){return tt=_toPropertyKey$w(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$w(et){var tt=_toPrimitive$w(et,"string");return _typeof$x(tt)=="symbol"?tt:tt+""}function _toPrimitive$w(et,tt){if(_typeof$x(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$x(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(et){var tt=et.coordinate,rt=et.translateX,nt=et.translateY;return clsx(CSS_CLASS_PREFIX,_defineProperty$v(_defineProperty$v(_defineProperty$v(_defineProperty$v({},"".concat(CSS_CLASS_PREFIX,"-right"),isNumber(rt)&&tt&&isNumber(tt.x)&&rt>=tt.x),"".concat(CSS_CLASS_PREFIX,"-left"),isNumber(rt)&&tt&&isNumber(tt.x)&&rt<tt.x),"".concat(CSS_CLASS_PREFIX,"-bottom"),isNumber(nt)&&tt&&isNumber(tt.y)&&nt>=tt.y),"".concat(CSS_CLASS_PREFIX,"-top"),isNumber(nt)&&tt&&isNumber(tt.y)&&nt<tt.y))}function getTooltipTranslateXY(et){var tt=et.allowEscapeViewBox,rt=et.coordinate,nt=et.key,at=et.offsetTopLeft,it=et.position,st=et.reverseDirection,ot=et.tooltipDimension,lt=et.viewBox,ct=et.viewBoxDimension;if(it&&isNumber(it[nt]))return it[nt];var ut=rt[nt]-ot-at,dt=rt[nt]+at;if(tt[nt])return st[nt]?ut:dt;if(st[nt]){var ft=ut,ht=lt[nt];return ft<ht?Math.max(dt,lt[nt]):Math.max(ut,lt[nt])}var gt=dt+ot,mt=lt[nt]+ct;return gt>mt?Math.max(ut,lt[nt]):Math.max(dt,lt[nt])}function getTransformStyle(et){var tt=et.translateX,rt=et.translateY,nt=et.useTranslate3d;return{transform:nt?"translate3d(".concat(tt,"px, ").concat(rt,"px, 0)"):"translate(".concat(tt,"px, ").concat(rt,"px)")}}function getTooltipTranslate(et){var tt=et.allowEscapeViewBox,rt=et.coordinate,nt=et.offsetTopLeft,at=et.position,it=et.reverseDirection,st=et.tooltipBox,ot=et.useTranslate3d,lt=et.viewBox,ct,ut,dt;return st.height>0&&st.width>0&&rt?(ut=getTooltipTranslateXY({allowEscapeViewBox:tt,coordinate:rt,key:"x",offsetTopLeft:nt,position:at,reverseDirection:it,tooltipDimension:st.width,viewBox:lt,viewBoxDimension:lt.width}),dt=getTooltipTranslateXY({allowEscapeViewBox:tt,coordinate:rt,key:"y",offsetTopLeft:nt,position:at,reverseDirection:it,tooltipDimension:st.height,viewBox:lt,viewBoxDimension:lt.height}),ct=getTransformStyle({translateX:ut,translateY:dt,useTranslate3d:ot})):ct=TOOLTIP_HIDDEN,{cssProperties:ct,cssClasses:getTooltipCSSClassName({translateX:ut,translateY:dt,coordinate:rt})}}function _typeof$w(et){"@babel/helpers - typeof";return _typeof$w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$w(et)}function ownKeys$s(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$s(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$s(Object(rt),!0).forEach(function(nt){_defineProperty$u(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$s(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _classCallCheck$e(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$e(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$v(nt.key),nt)}}function _createClass$e(et,tt,rt){return tt&&_defineProperties$e(et.prototype,tt),rt&&_defineProperties$e(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper$a(et,tt,rt){return tt=_getPrototypeOf$b(tt),_possibleConstructorReturn$b(et,_isNativeReflectConstruct$b()?Reflect.construct(tt,rt||[],_getPrototypeOf$b(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn$b(et,tt){if(tt&&(_typeof$w(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$b(et)}function _assertThisInitialized$b(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct$b(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$b=function(){return!!et})()}function _getPrototypeOf$b(et){return _getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$b(et)}function _inherits$b(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$b(et,tt)}function _setPrototypeOf$b(et,tt){return _setPrototypeOf$b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,at){return nt.__proto__=at,nt},_setPrototypeOf$b(et,tt)}function _defineProperty$u(et,tt,rt){return tt=_toPropertyKey$v(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$v(et){var tt=_toPrimitive$v(et,"string");return _typeof$w(tt)=="symbol"?tt:tt+""}function _toPrimitive$v(et,tt){if(_typeof$w(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$w(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var EPSILON=1,TooltipBoundingBox=function(et){function tt(){var rt;_classCallCheck$e(this,tt);for(var nt=arguments.length,at=new Array(nt),it=0;it<nt;it++)at[it]=arguments[it];return rt=_callSuper$a(this,tt,[].concat(at)),_defineProperty$u(rt,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_defineProperty$u(rt,"handleKeyDown",function(st){if(st.key==="Escape"){var ot,lt,ct,ut;rt.setState({dismissed:!0,dismissedAtCoordinate:{x:(ot=(lt=rt.props.coordinate)===null||lt===void 0?void 0:lt.x)!==null&&ot!==void 0?ot:0,y:(ct=(ut=rt.props.coordinate)===null||ut===void 0?void 0:ut.y)!==null&&ct!==void 0?ct:0}})}}),rt}return _inherits$b(tt,et),_createClass$e(tt,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var nt=this.wrapperNode.getBoundingClientRect();(Math.abs(nt.width-this.state.lastBoundingBox.width)>EPSILON||Math.abs(nt.height-this.state.lastBoundingBox.height)>EPSILON)&&this.setState({lastBoundingBox:{width:nt.width,height:nt.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var nt,at;this.props.active&&this.updateBBox(),this.state.dismissed&&(((nt=this.props.coordinate)===null||nt===void 0?void 0:nt.x)!==this.state.dismissedAtCoordinate.x||((at=this.props.coordinate)===null||at===void 0?void 0:at.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var nt=this,at=this.props,it=at.active,st=at.allowEscapeViewBox,ot=at.animationDuration,lt=at.animationEasing,ct=at.children,ut=at.coordinate,dt=at.hasPayload,ft=at.isAnimationActive,ht=at.offset,gt=at.position,mt=at.reverseDirection,xt=at.useTranslate3d,vt=at.viewBox,_t=at.wrapperStyle,yt=getTooltipTranslate({allowEscapeViewBox:st,coordinate:ut,offsetTopLeft:ht,position:gt,reverseDirection:mt,tooltipBox:this.state.lastBoundingBox,useTranslate3d:xt,viewBox:vt}),St=yt.cssClasses,bt=yt.cssProperties,Et=_objectSpread$s(_objectSpread$s({transition:ft&&it?"transform ".concat(ot,"ms ").concat(lt):void 0},bt),{},{pointerEvents:"none",visibility:!this.state.dismissed&&it&&dt?"visible":"hidden",position:"absolute",top:0,left:0},_t);return React$1.createElement("div",{tabIndex:-1,className:St,style:Et,ref:function(At){nt.wrapperNode=At}},ct)}}])}(reactExports.PureComponent),parseIsSsrByDefault=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Global={isSsr:parseIsSsrByDefault(),get:function(tt){return Global[tt]},set:function(tt,rt){if(typeof tt=="string")Global[tt]=rt;else{var nt=Object.keys(tt);nt&&nt.length&&nt.forEach(function(at){Global[at]=tt[at]})}}};function _typeof$v(et){"@babel/helpers - typeof";return _typeof$v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$v(et)}function ownKeys$r(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$r(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$r(Object(rt),!0).forEach(function(nt){_defineProperty$t(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$r(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _classCallCheck$d(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$d(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$u(nt.key),nt)}}function _createClass$d(et,tt,rt){return tt&&_defineProperties$d(et.prototype,tt),rt&&_defineProperties$d(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper$9(et,tt,rt){return tt=_getPrototypeOf$a(tt),_possibleConstructorReturn$a(et,_isNativeReflectConstruct$a()?Reflect.construct(tt,rt||[],_getPrototypeOf$a(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn$a(et,tt){if(tt&&(_typeof$v(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$a(et)}function _assertThisInitialized$a(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct$a(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$a=function(){return!!et})()}function _getPrototypeOf$a(et){return _getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$a(et)}function _inherits$a(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$a(et,tt)}function _setPrototypeOf$a(et,tt){return _setPrototypeOf$a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,at){return nt.__proto__=at,nt},_setPrototypeOf$a(et,tt)}function _defineProperty$t(et,tt,rt){return tt=_toPropertyKey$u(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$u(et){var tt=_toPrimitive$u(et,"string");return _typeof$v(tt)=="symbol"?tt:tt+""}function _toPrimitive$u(et,tt){if(_typeof$v(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$v(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function defaultUniqBy(et){return et.dataKey}function renderContent(et,tt){return React$1.isValidElement(et)?React$1.cloneElement(et,tt):typeof et=="function"?React$1.createElement(et,tt):React$1.createElement(DefaultTooltipContent,tt)}var Tooltip=function(et){function tt(){return _classCallCheck$d(this,tt),_callSuper$9(this,tt,arguments)}return _inherits$a(tt,et),_createClass$d(tt,[{key:"render",value:function(){var nt=this,at=this.props,it=at.active,st=at.allowEscapeViewBox,ot=at.animationDuration,lt=at.animationEasing,ct=at.content,ut=at.coordinate,dt=at.filterNull,ft=at.isAnimationActive,ht=at.offset,gt=at.payload,mt=at.payloadUniqBy,xt=at.position,vt=at.reverseDirection,_t=at.useTranslate3d,yt=at.viewBox,St=at.wrapperStyle,bt=gt??[];dt&&bt.length&&(bt=getUniqPayload(gt.filter(function(Tt){return Tt.value!=null&&(Tt.hide!==!0||nt.props.includeHidden)}),mt,defaultUniqBy));var Et=bt.length>0;return React$1.createElement(TooltipBoundingBox,{allowEscapeViewBox:st,animationDuration:ot,animationEasing:lt,isAnimationActive:ft,active:it,coordinate:ut,hasPayload:Et,offset:ht,position:xt,reverseDirection:vt,useTranslate3d:_t,viewBox:yt,wrapperStyle:St},renderContent(ct,_objectSpread$r(_objectSpread$r({},this.props),{},{payload:bt})))}}])}(reactExports.PureComponent);_defineProperty$t(Tooltip,"displayName","Tooltip");_defineProperty$t(Tooltip,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Global.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var root=_root,now$1=function(){return root.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1(et){for(var tt=et.length;tt--&&reWhitespace.test(et.charAt(tt)););return tt}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(et){return et&&et.slice(0,trimmedEndIndex(et)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$2=isObject_1,isSymbol$1=isSymbol_1,NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$2(et){if(typeof et=="number")return et;if(isSymbol$1(et))return NAN;if(isObject$2(et)){var tt=typeof et.valueOf=="function"?et.valueOf():et;et=isObject$2(tt)?tt+"":tt}if(typeof et!="string")return et===0?et:+et;et=baseTrim(et);var rt=reIsBinary.test(et);return rt||reIsOctal.test(et)?freeParseInt(et.slice(2),rt?2:8):reIsBadHex.test(et)?NAN:+et}var toNumber_1=toNumber$2,isObject$1=isObject_1,now=now_1,toNumber$1=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax$1=Math.max,nativeMin=Math.min;function debounce$1(et,tt,rt){var nt,at,it,st,ot,lt,ct=0,ut=!1,dt=!1,ft=!0;if(typeof et!="function")throw new TypeError(FUNC_ERROR_TEXT$1);tt=toNumber$1(tt)||0,isObject$1(rt)&&(ut=!!rt.leading,dt="maxWait"in rt,it=dt?nativeMax$1(toNumber$1(rt.maxWait)||0,tt):it,ft="trailing"in rt?!!rt.trailing:ft);function ht(Et){var Tt=nt,At=at;return nt=at=void 0,ct=Et,st=et.apply(At,Tt),st}function gt(Et){return ct=Et,ot=setTimeout(vt,tt),ut?ht(Et):st}function mt(Et){var Tt=Et-lt,At=Et-ct,Ct=tt-Tt;return dt?nativeMin(Ct,it-At):Ct}function xt(Et){var Tt=Et-lt,At=Et-ct;return lt===void 0||Tt>=tt||Tt<0||dt&&At>=it}function vt(){var Et=now();if(xt(Et))return _t(Et);ot=setTimeout(vt,mt(Et))}function _t(Et){return ot=void 0,ft&&nt?ht(Et):(nt=at=void 0,st)}function yt(){ot!==void 0&&clearTimeout(ot),ct=0,nt=lt=at=ot=void 0}function St(){return ot===void 0?st:_t(now())}function bt(){var Et=now(),Tt=xt(Et);if(nt=arguments,at=this,lt=Et,Tt){if(ot===void 0)return gt(lt);if(dt)return clearTimeout(ot),ot=setTimeout(vt,tt),ht(lt)}return ot===void 0&&(ot=setTimeout(vt,tt)),st}return bt.cancel=yt,bt.flush=St,bt}var debounce_1=debounce$1,debounce=debounce_1,isObject=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle(et,tt,rt){var nt=!0,at=!0;if(typeof et!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(rt)&&(nt="leading"in rt?!!rt.leading:nt,at="trailing"in rt?!!rt.trailing:at),debounce(et,tt,{leading:nt,maxWait:tt,trailing:at})}var throttle_1=throttle;const throttle$1=getDefaultExportFromCjs(throttle_1);function _typeof$u(et){"@babel/helpers - typeof";return _typeof$u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$u(et)}function ownKeys$q(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$q(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$q(Object(rt),!0).forEach(function(nt){_defineProperty$s(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$q(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$s(et,tt,rt){return tt=_toPropertyKey$t(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$t(et){var tt=_toPrimitive$t(et,"string");return _typeof$u(tt)=="symbol"?tt:tt+""}function _toPrimitive$t(et,tt){if(_typeof$u(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$u(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _slicedToArray$b(et,tt){return _arrayWithHoles$c(et)||_iterableToArrayLimit$b(et,tt)||_unsupportedIterableToArray$j(et,tt)||_nonIterableRest$c()}function _nonIterableRest$c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$j(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$j(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$j(et,tt)}}function _arrayLikeToArray$j(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$b(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,at,it,st,ot=[],lt=!0,ct=!1;try{if(it=(rt=rt.call(et)).next,tt===0){if(Object(rt)!==rt)return;lt=!1}else for(;!(lt=(nt=it.call(rt)).done)&&(ot.push(nt.value),ot.length!==tt);lt=!0);}catch(ut){ct=!0,at=ut}finally{try{if(!lt&&rt.return!=null&&(st=rt.return(),Object(st)!==st))return}finally{if(ct)throw at}}return ot}}function _arrayWithHoles$c(et){if(Array.isArray(et))return et}var ResponsiveContainer=reactExports.forwardRef(function(et,tt){var rt=et.aspect,nt=et.initialDimension,at=nt===void 0?{width:-1,height:-1}:nt,it=et.width,st=it===void 0?"100%":it,ot=et.height,lt=ot===void 0?"100%":ot,ct=et.minWidth,ut=ct===void 0?0:ct,dt=et.minHeight,ft=et.maxHeight,ht=et.children,gt=et.debounce,mt=gt===void 0?0:gt,xt=et.id,vt=et.className,_t=et.onResize,yt=et.style,St=yt===void 0?{}:yt,bt=reactExports.useRef(null),Et=reactExports.useRef();Et.current=_t,reactExports.useImperativeHandle(tt,function(){return Object.defineProperty(bt.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),bt.current},configurable:!0})});var Tt=reactExports.useState({containerWidth:at.width,containerHeight:at.height}),At=_slicedToArray$b(Tt,2),Ct=At[0],kt=At[1],Pt=reactExports.useCallback(function(Ft,Ot){kt(function(It){var Bt=Math.round(Ft),qt=Math.round(Ot);return It.containerWidth===Bt&&It.containerHeight===qt?It:{containerWidth:Bt,containerHeight:qt}})},[]);reactExports.useEffect(function(){var Ft=function(Ht){var Qt,ir=Ht[0].contentRect,Xt=ir.width,Lt=ir.height;Pt(Xt,Lt),(Qt=Et.current)===null||Qt===void 0||Qt.call(Et,Xt,Lt)};mt>0&&(Ft=throttle$1(Ft,mt,{trailing:!0,leading:!1}));var Ot=new ResizeObserver(Ft),It=bt.current.getBoundingClientRect(),Bt=It.width,qt=It.height;return Pt(Bt,qt),Ot.observe(bt.current),function(){Ot.disconnect()}},[Pt,mt]);var Dt=reactExports.useMemo(function(){var Ft=Ct.containerWidth,Ot=Ct.containerHeight;if(Ft<0||Ot<0)return null;warn(isPercent(st)||isPercent(lt),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,st,lt),warn(!rt||rt>0,"The aspect(%s) must be greater than zero.",rt);var It=isPercent(st)?Ft:st,Bt=isPercent(lt)?Ot:lt;rt&&rt>0&&(It?Bt=It/rt:Bt&&(It=Bt*rt),ft&&Bt>ft&&(Bt=ft)),warn(It>0||Bt>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,It,Bt,st,lt,ut,dt,rt);var qt=!Array.isArray(ht)&&getDisplayName(ht.type).endsWith("Chart");return React$1.Children.map(ht,function(Ut){return React$1.isValidElement(Ut)?reactExports.cloneElement(Ut,_objectSpread$q({width:It,height:Bt},qt?{style:_objectSpread$q({height:"100%",width:"100%",maxHeight:Bt,maxWidth:It},Ut.props.style)}:{})):Ut})},[rt,ht,lt,ft,dt,ut,Ct,st]);return React$1.createElement("div",{id:xt?"".concat(xt):void 0,className:clsx("recharts-responsive-container",vt),style:_objectSpread$q(_objectSpread$q({},St),{},{width:st,height:lt,minWidth:ut,minHeight:dt,maxHeight:ft}),ref:bt},Dt)}),Cell=function(tt){return null};Cell.displayName="Cell";function _typeof$t(et){"@babel/helpers - typeof";return _typeof$t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$t(et)}function ownKeys$p(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$p(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$p(Object(rt),!0).forEach(function(nt){_defineProperty$r(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$p(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$r(et,tt,rt){return tt=_toPropertyKey$s(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$s(et){var tt=_toPrimitive$s(et,"string");return _typeof$t(tt)=="symbol"?tt:tt+""}function _toPrimitive$s(et,tt){if(_typeof$t(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$t(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys(et){var tt=_objectSpread$p({},et);return Object.keys(tt).forEach(function(rt){tt[rt]||delete tt[rt]}),tt}var getStringSize=function(tt){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(tt==null||Global.isSsr)return{width:0,height:0};var nt=removeInvalidKeys(rt),at=JSON.stringify({text:tt,copyStyle:nt});if(stringCache.widthCache[at])return stringCache.widthCache[at];try{var it=document.getElementById(MEASUREMENT_SPAN_ID);it||(it=document.createElement("span"),it.setAttribute("id",MEASUREMENT_SPAN_ID),it.setAttribute("aria-hidden","true"),document.body.appendChild(it));var st=_objectSpread$p(_objectSpread$p({},SPAN_STYLE),nt);Object.assign(it.style,st),it.textContent="".concat(tt);var ot=it.getBoundingClientRect(),lt={width:ot.width,height:ot.height};return stringCache.widthCache[at]=lt,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),lt}catch{return{width:0,height:0}}},getOffset=function(tt){return{top:tt.top+window.scrollY-document.documentElement.clientTop,left:tt.left+window.scrollX-document.documentElement.clientLeft}};function _typeof$s(et){"@babel/helpers - typeof";return _typeof$s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$s(et)}function _slicedToArray$a(et,tt){return _arrayWithHoles$b(et)||_iterableToArrayLimit$a(et,tt)||_unsupportedIterableToArray$i(et,tt)||_nonIterableRest$b()}function _nonIterableRest$b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$i(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$i(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$i(et,tt)}}function _arrayLikeToArray$i(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$a(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,at,it,st,ot=[],lt=!0,ct=!1;try{if(it=(rt=rt.call(et)).next,tt===0){if(Object(rt)!==rt)return;lt=!1}else for(;!(lt=(nt=it.call(rt)).done)&&(ot.push(nt.value),ot.length!==tt);lt=!0);}catch(ut){ct=!0,at=ut}finally{try{if(!lt&&rt.return!=null&&(st=rt.return(),Object(st)!==st))return}finally{if(ct)throw at}}return ot}}function _arrayWithHoles$b(et){if(Array.isArray(et))return et}function _classCallCheck$c(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$r(nt.key),nt)}}function _createClass$c(et,tt,rt){return tt&&_defineProperties$c(et.prototype,tt),rt&&_defineProperties$c(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _toPropertyKey$r(et){var tt=_toPrimitive$r(et,"string");return _typeof$s(tt)=="symbol"?tt:tt+""}function _toPrimitive$r(et,tt){if(_typeof$s(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$s(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(et,tt){return et*CONVERSION_RATES[tt]}var DecimalCSS=function(){function et(tt,rt){_classCallCheck$c(this,et),this.num=tt,this.unit=rt,this.num=tt,this.unit=rt,Number.isNaN(tt)&&(this.unit=""),rt!==""&&!CSS_LENGTH_UNIT_REGEX.test(rt)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(rt)&&(this.num=convertToPx(tt,rt),this.unit="px")}return _createClass$c(et,[{key:"add",value:function(rt){return this.unit!==rt.unit?new et(NaN,""):new et(this.num+rt.num,this.unit)}},{key:"subtract",value:function(rt){return this.unit!==rt.unit?new et(NaN,""):new et(this.num-rt.num,this.unit)}},{key:"multiply",value:function(rt){return this.unit!==""&&rt.unit!==""&&this.unit!==rt.unit?new et(NaN,""):new et(this.num*rt.num,this.unit||rt.unit)}},{key:"divide",value:function(rt){return this.unit!==""&&rt.unit!==""&&this.unit!==rt.unit?new et(NaN,""):new et(this.num/rt.num,this.unit||rt.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(rt){var nt,at=(nt=NUM_SPLIT_REGEX.exec(rt))!==null&&nt!==void 0?nt:[],it=_slicedToArray$a(at,3),st=it[1],ot=it[2];return new et(parseFloat(st),ot??"")}}])}();function calculateArithmetic(et){if(et.includes(STR_NAN))return STR_NAN;for(var tt=et;tt.includes("*")||tt.includes("/");){var rt,nt=(rt=MULTIPLY_OR_DIVIDE_REGEX.exec(tt))!==null&&rt!==void 0?rt:[],at=_slicedToArray$a(nt,4),it=at[1],st=at[2],ot=at[3],lt=DecimalCSS.parse(it??""),ct=DecimalCSS.parse(ot??""),ut=st==="*"?lt.multiply(ct):lt.divide(ct);if(ut.isNaN())return STR_NAN;tt=tt.replace(MULTIPLY_OR_DIVIDE_REGEX,ut.toString())}for(;tt.includes("+")||/.-\d+(?:\.\d+)?/.test(tt);){var dt,ft=(dt=ADD_OR_SUBTRACT_REGEX.exec(tt))!==null&&dt!==void 0?dt:[],ht=_slicedToArray$a(ft,4),gt=ht[1],mt=ht[2],xt=ht[3],vt=DecimalCSS.parse(gt??""),_t=DecimalCSS.parse(xt??""),yt=mt==="+"?vt.add(_t):vt.subtract(_t);if(yt.isNaN())return STR_NAN;tt=tt.replace(ADD_OR_SUBTRACT_REGEX,yt.toString())}return tt}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(et){for(var tt=et;tt.includes("(");){var rt=PARENTHESES_REGEX.exec(tt),nt=_slicedToArray$a(rt,2),at=nt[1];tt=tt.replace(PARENTHESES_REGEX,calculateArithmetic(at))}return tt}function evaluateExpression(et){var tt=et.replace(/\s+/g,"");return tt=calculateParentheses(tt),tt=calculateArithmetic(tt),tt}function safeEvaluateExpression(et){try{return evaluateExpression(et)}catch{return STR_NAN}}function reduceCSSCalc(et){var tt=safeEvaluateExpression(et.slice(5,-1));return tt===STR_NAN?"":tt}var _excluded$9=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$3=["dx","dy","angle","className","breakAll"];function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$k.apply(this,arguments)}function _objectWithoutProperties$9(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$9(et,tt),nt,at;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(et);for(at=0;at<it.length;at++)nt=it[at],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$9(et,tt){if(et==null)return{};var rt={};for(var nt in et)if(Object.prototype.hasOwnProperty.call(et,nt)){if(tt.indexOf(nt)>=0)continue;rt[nt]=et[nt]}return rt}function _slicedToArray$9(et,tt){return _arrayWithHoles$a(et)||_iterableToArrayLimit$9(et,tt)||_unsupportedIterableToArray$h(et,tt)||_nonIterableRest$a()}function _nonIterableRest$a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$h(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$h(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$h(et,tt)}}function _arrayLikeToArray$h(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$9(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,at,it,st,ot=[],lt=!0,ct=!1;try{if(it=(rt=rt.call(et)).next,tt===0){if(Object(rt)!==rt)return;lt=!1}else for(;!(lt=(nt=it.call(rt)).done)&&(ot.push(nt.value),ot.length!==tt);lt=!0);}catch(ut){ct=!0,at=ut}finally{try{if(!lt&&rt.return!=null&&(st=rt.return(),Object(st)!==st))return}finally{if(ct)throw at}}return ot}}function _arrayWithHoles$a(et){if(Array.isArray(et))return et}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=function(tt){var rt=tt.children,nt=tt.breakAll,at=tt.style;try{var it=[];isNil$1(rt)||(nt?it=rt.toString().split(""):it=rt.toString().split(BREAKING_SPACES));var st=it.map(function(lt){return{word:lt,width:getStringSize(lt,at).width}}),ot=nt?0:getStringSize("",at).width;return{wordsWithComputedWidth:st,spaceWidth:ot}}catch{return null}},calculateWordsByLines=function(tt,rt,nt,at,it){var st=tt.maxLines,ot=tt.children,lt=tt.style,ct=tt.breakAll,ut=isNumber(st),dt=ot,ft=function(){var It=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return It.reduce(function(Bt,qt){var Ut=qt.word,Ht=qt.width,Qt=Bt[Bt.length-1];if(Qt&&(at==null||it||Qt.width+Ht+nt<Number(at)))Qt.words.push(Ut),Qt.width+=Ht+nt;else{var ir={words:[Ut],width:Ht};Bt.push(ir)}return Bt},[])},ht=ft(rt),gt=function(It){return It.reduce(function(Bt,qt){return Bt.width>qt.width?Bt:qt})};if(!ut)return ht;for(var mt="",xt=function(It){var Bt=dt.slice(0,It),qt=calculateWordWidths({breakAll:ct,style:lt,children:Bt+mt}).wordsWithComputedWidth,Ut=ft(qt),Ht=Ut.length>st||gt(Ut).width>Number(at);return[Ht,Ut]},vt=0,_t=dt.length-1,yt=0,St;vt<=_t&&yt<=dt.length-1;){var bt=Math.floor((vt+_t)/2),Et=bt-1,Tt=xt(Et),At=_slicedToArray$9(Tt,2),Ct=At[0],kt=At[1],Pt=xt(bt),Dt=_slicedToArray$9(Pt,1),Ft=Dt[0];if(!Ct&&!Ft&&(vt=bt+1),Ct&&Ft&&(_t=bt-1),!Ct&&Ft){St=kt;break}yt++}return St||ht},getWordsWithoutCalculate=function(tt){var rt=isNil$1(tt)?[]:tt.toString().split(BREAKING_SPACES);return[{words:rt}]},getWordsByLines=function(tt){var rt=tt.width,nt=tt.scaleToFit,at=tt.children,it=tt.style,st=tt.breakAll,ot=tt.maxLines;if((rt||nt)&&!Global.isSsr){var lt,ct,ut=calculateWordWidths({breakAll:st,children:at,style:it});if(ut){var dt=ut.wordsWithComputedWidth,ft=ut.spaceWidth;lt=dt,ct=ft}else return getWordsWithoutCalculate(at);return calculateWordsByLines({breakAll:st,children:at,maxLines:ot,style:it},lt,ct,rt,nt)}return getWordsWithoutCalculate(at)},DEFAULT_FILL="#808080",Text=function(tt){var rt=tt.x,nt=rt===void 0?0:rt,at=tt.y,it=at===void 0?0:at,st=tt.lineHeight,ot=st===void 0?"1em":st,lt=tt.capHeight,ct=lt===void 0?"0.71em":lt,ut=tt.scaleToFit,dt=ut===void 0?!1:ut,ft=tt.textAnchor,ht=ft===void 0?"start":ft,gt=tt.verticalAnchor,mt=gt===void 0?"end":gt,xt=tt.fill,vt=xt===void 0?DEFAULT_FILL:xt,_t=_objectWithoutProperties$9(tt,_excluded$9),yt=reactExports.useMemo(function(){return getWordsByLines({breakAll:_t.breakAll,children:_t.children,maxLines:_t.maxLines,scaleToFit:dt,style:_t.style,width:_t.width})},[_t.breakAll,_t.children,_t.maxLines,dt,_t.style,_t.width]),St=_t.dx,bt=_t.dy,Et=_t.angle,Tt=_t.className,At=_t.breakAll,Ct=_objectWithoutProperties$9(_t,_excluded2$3);if(!isNumOrStr(nt)||!isNumOrStr(it))return null;var kt=nt+(isNumber(St)?St:0),Pt=it+(isNumber(bt)?bt:0),Dt;switch(mt){case"start":Dt=reduceCSSCalc("calc(".concat(ct,")"));break;case"middle":Dt=reduceCSSCalc("calc(".concat((yt.length-1)/2," * -").concat(ot," + (").concat(ct," / 2))"));break;default:Dt=reduceCSSCalc("calc(".concat(yt.length-1," * -").concat(ot,")"));break}var Ft=[];if(dt){var Ot=yt[0].width,It=_t.width;Ft.push("scale(".concat((isNumber(It)?It/Ot:1)/Ot,")"))}return Et&&Ft.push("rotate(".concat(Et,", ").concat(kt,", ").concat(Pt,")")),Ft.length&&(Ct.transform=Ft.join(" ")),React$1.createElement("text",_extends$k({},filterProps(Ct,!0),{x:kt,y:Pt,className:clsx("recharts-text",Tt),textAnchor:ht,fill:vt.includes("url")?DEFAULT_FILL:vt}),yt.map(function(Bt,qt){var Ut=Bt.words.join(At?"":" ");return React$1.createElement("tspan",{x:kt,dy:qt===0?Dt:ot,key:"".concat(Ut,"-").concat(qt)},Ut)}))};function ascending(et,tt){return et==null||tt==null?NaN:et<tt?-1:et>tt?1:et>=tt?0:NaN}function descending(et,tt){return et==null||tt==null?NaN:tt<et?-1:tt>et?1:tt>=et?0:NaN}function bisector(et){let tt,rt,nt;et.length!==2?(tt=ascending,rt=(ot,lt)=>ascending(et(ot),lt),nt=(ot,lt)=>et(ot)-lt):(tt=et===ascending||et===descending?et:zero$3,rt=et,nt=et);function at(ot,lt,ct=0,ut=ot.length){if(ct<ut){if(tt(lt,lt)!==0)return ut;do{const dt=ct+ut>>>1;rt(ot[dt],lt)<0?ct=dt+1:ut=dt}while(ct<ut)}return ct}function it(ot,lt,ct=0,ut=ot.length){if(ct<ut){if(tt(lt,lt)!==0)return ut;do{const dt=ct+ut>>>1;rt(ot[dt],lt)<=0?ct=dt+1:ut=dt}while(ct<ut)}return ct}function st(ot,lt,ct=0,ut=ot.length){const dt=at(ot,lt,ct,ut-1);return dt>ct&&nt(ot[dt-1],lt)>-nt(ot[dt],lt)?dt-1:dt}return{left:at,center:st,right:it}}function zero$3(){return 0}function number$2(et){return et===null?NaN:+et}function*numbers(et,tt){if(tt===void 0)for(let rt of et)rt!=null&&(rt=+rt)>=rt&&(yield rt);else{let rt=-1;for(let nt of et)(nt=tt(nt,++rt,et))!=null&&(nt=+nt)>=nt&&(yield nt)}}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;const bisect=bisectRight;class InternMap extends Map{constructor(tt,rt=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:rt}}),tt!=null)for(const[nt,at]of tt)this.set(nt,at)}get(tt){return super.get(intern_get(this,tt))}has(tt){return super.has(intern_get(this,tt))}set(tt,rt){return super.set(intern_set(this,tt),rt)}delete(tt){return super.delete(intern_delete(this,tt))}}function intern_get({_intern:et,_key:tt},rt){const nt=tt(rt);return et.has(nt)?et.get(nt):rt}function intern_set({_intern:et,_key:tt},rt){const nt=tt(rt);return et.has(nt)?et.get(nt):(et.set(nt,rt),rt)}function intern_delete({_intern:et,_key:tt},rt){const nt=tt(rt);return et.has(nt)&&(rt=et.get(nt),et.delete(nt)),rt}function keyof(et){return et!==null&&typeof et=="object"?et.valueOf():et}function compareDefined(et=ascending){if(et===ascending)return ascendingDefined;if(typeof et!="function")throw new TypeError("compare is not a function");return(tt,rt)=>{const nt=et(tt,rt);return nt||nt===0?nt:(et(rt,rt)===0)-(et(tt,tt)===0)}}function ascendingDefined(et,tt){return(et==null||!(et>=et))-(tt==null||!(tt>=tt))||(et<tt?-1:et>tt?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(et,tt,rt){const nt=(tt-et)/Math.max(0,rt),at=Math.floor(Math.log10(nt)),it=nt/Math.pow(10,at),st=it>=e10?10:it>=e5?5:it>=e2?2:1;let ot,lt,ct;return at<0?(ct=Math.pow(10,-at)/st,ot=Math.round(et*ct),lt=Math.round(tt*ct),ot/ct<et&&++ot,lt/ct>tt&&--lt,ct=-ct):(ct=Math.pow(10,at)*st,ot=Math.round(et/ct),lt=Math.round(tt/ct),ot*ct<et&&++ot,lt*ct>tt&&--lt),lt<ot&&.5<=rt&&rt<2?tickSpec(et,tt,rt*2):[ot,lt,ct]}function ticks(et,tt,rt){if(tt=+tt,et=+et,rt=+rt,!(rt>0))return[];if(et===tt)return[et];const nt=tt<et,[at,it,st]=nt?tickSpec(tt,et,rt):tickSpec(et,tt,rt);if(!(it>=at))return[];const ot=it-at+1,lt=new Array(ot);if(nt)if(st<0)for(let ct=0;ct<ot;++ct)lt[ct]=(it-ct)/-st;else for(let ct=0;ct<ot;++ct)lt[ct]=(it-ct)*st;else if(st<0)for(let ct=0;ct<ot;++ct)lt[ct]=(at+ct)/-st;else for(let ct=0;ct<ot;++ct)lt[ct]=(at+ct)*st;return lt}function tickIncrement(et,tt,rt){return tt=+tt,et=+et,rt=+rt,tickSpec(et,tt,rt)[2]}function tickStep(et,tt,rt){tt=+tt,et=+et,rt=+rt;const nt=tt<et,at=nt?tickIncrement(tt,et,rt):tickIncrement(et,tt,rt);return(nt?-1:1)*(at<0?1/-at:at)}function max$2(et,tt){let rt;if(tt===void 0)for(const nt of et)nt!=null&&(rt<nt||rt===void 0&&nt>=nt)&&(rt=nt);else{let nt=-1;for(let at of et)(at=tt(at,++nt,et))!=null&&(rt<at||rt===void 0&&at>=at)&&(rt=at)}return rt}function min$2(et,tt){let rt;if(tt===void 0)for(const nt of et)nt!=null&&(rt>nt||rt===void 0&&nt>=nt)&&(rt=nt);else{let nt=-1;for(let at of et)(at=tt(at,++nt,et))!=null&&(rt>at||rt===void 0&&at>=at)&&(rt=at)}return rt}function quickselect(et,tt,rt=0,nt=1/0,at){if(tt=Math.floor(tt),rt=Math.floor(Math.max(0,rt)),nt=Math.floor(Math.min(et.length-1,nt)),!(rt<=tt&&tt<=nt))return et;for(at=at===void 0?ascendingDefined:compareDefined(at);nt>rt;){if(nt-rt>600){const lt=nt-rt+1,ct=tt-rt+1,ut=Math.log(lt),dt=.5*Math.exp(2*ut/3),ft=.5*Math.sqrt(ut*dt*(lt-dt)/lt)*(ct-lt/2<0?-1:1),ht=Math.max(rt,Math.floor(tt-ct*dt/lt+ft)),gt=Math.min(nt,Math.floor(tt+(lt-ct)*dt/lt+ft));quickselect(et,tt,ht,gt,at)}const it=et[tt];let st=rt,ot=nt;for(swap(et,rt,tt),at(et[nt],it)>0&&swap(et,rt,nt);st<ot;){for(swap(et,st,ot),++st,--ot;at(et[st],it)<0;)++st;for(;at(et[ot],it)>0;)--ot}at(et[rt],it)===0?swap(et,rt,ot):(++ot,swap(et,ot,nt)),ot<=tt&&(rt=ot+1),tt<=ot&&(nt=ot-1)}return et}function swap(et,tt,rt){const nt=et[tt];et[tt]=et[rt],et[rt]=nt}function quantile$1(et,tt,rt){if(et=Float64Array.from(numbers(et,rt)),!(!(nt=et.length)||isNaN(tt=+tt))){if(tt<=0||nt<2)return min$2(et);if(tt>=1)return max$2(et);var nt,at=(nt-1)*tt,it=Math.floor(at),st=max$2(quickselect(et,it).subarray(0,it+1)),ot=min$2(et.subarray(it+1));return st+(ot-st)*(at-it)}}function quantileSorted(et,tt,rt=number$2){if(!(!(nt=et.length)||isNaN(tt=+tt))){if(tt<=0||nt<2)return+rt(et[0],0,et);if(tt>=1)return+rt(et[nt-1],nt-1,et);var nt,at=(nt-1)*tt,it=Math.floor(at),st=+rt(et[it],it,et),ot=+rt(et[it+1],it+1,et);return st+(ot-st)*(at-it)}}function range$4(et,tt,rt){et=+et,tt=+tt,rt=(at=arguments.length)<2?(tt=et,et=0,1):at<3?1:+rt;for(var nt=-1,at=Math.max(0,Math.ceil((tt-et)/rt))|0,it=new Array(at);++nt<at;)it[nt]=et+nt*rt;return it}function initRange(et,tt){switch(arguments.length){case 0:break;case 1:this.range(et);break;default:this.range(tt).domain(et);break}return this}function initInterpolator(et,tt){switch(arguments.length){case 0:break;case 1:{typeof et=="function"?this.interpolator(et):this.range(et);break}default:{this.domain(et),typeof tt=="function"?this.interpolator(tt):this.range(tt);break}}return this}const implicit=Symbol("implicit");function ordinal(){var et=new InternMap,tt=[],rt=[],nt=implicit;function at(it){let st=et.get(it);if(st===void 0){if(nt!==implicit)return nt;et.set(it,st=tt.push(it)-1)}return rt[st%rt.length]}return at.domain=function(it){if(!arguments.length)return tt.slice();tt=[],et=new InternMap;for(const st of it)et.has(st)||et.set(st,tt.push(st)-1);return at},at.range=function(it){return arguments.length?(rt=Array.from(it),at):rt.slice()},at.unknown=function(it){return arguments.length?(nt=it,at):nt},at.copy=function(){return ordinal(tt,rt).unknown(nt)},initRange.apply(at,arguments),at}function band(){var et=ordinal().unknown(void 0),tt=et.domain,rt=et.range,nt=0,at=1,it,st,ot=!1,lt=0,ct=0,ut=.5;delete et.unknown;function dt(){var ft=tt().length,ht=at<nt,gt=ht?at:nt,mt=ht?nt:at;it=(mt-gt)/Math.max(1,ft-lt+ct*2),ot&&(it=Math.floor(it)),gt+=(mt-gt-it*(ft-lt))*ut,st=it*(1-lt),ot&&(gt=Math.round(gt),st=Math.round(st));var xt=range$4(ft).map(function(vt){return gt+it*vt});return rt(ht?xt.reverse():xt)}return et.domain=function(ft){return arguments.length?(tt(ft),dt()):tt()},et.range=function(ft){return arguments.length?([nt,at]=ft,nt=+nt,at=+at,dt()):[nt,at]},et.rangeRound=function(ft){return[nt,at]=ft,nt=+nt,at=+at,ot=!0,dt()},et.bandwidth=function(){return st},et.step=function(){return it},et.round=function(ft){return arguments.length?(ot=!!ft,dt()):ot},et.padding=function(ft){return arguments.length?(lt=Math.min(1,ct=+ft),dt()):lt},et.paddingInner=function(ft){return arguments.length?(lt=Math.min(1,ft),dt()):lt},et.paddingOuter=function(ft){return arguments.length?(ct=+ft,dt()):ct},et.align=function(ft){return arguments.length?(ut=Math.max(0,Math.min(1,ft)),dt()):ut},et.copy=function(){return band(tt(),[nt,at]).round(ot).paddingInner(lt).paddingOuter(ct).align(ut)},initRange.apply(dt(),arguments)}function pointish(et){var tt=et.copy;return et.padding=et.paddingOuter,delete et.paddingInner,delete et.paddingOuter,et.copy=function(){return pointish(tt())},et}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(et,tt,rt){et.prototype=tt.prototype=rt,rt.constructor=et}function extend(et,tt){var rt=Object.create(et.prototype);for(var nt in tt)rt[nt]=tt[nt];return rt}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(et){return Object.assign(new this.constructor,this,et)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(et){var tt,rt;return et=(et+"").trim().toLowerCase(),(tt=reHex.exec(et))?(rt=tt[1].length,tt=parseInt(tt[1],16),rt===6?rgbn(tt):rt===3?new Rgb(tt>>8&15|tt>>4&240,tt>>4&15|tt&240,(tt&15)<<4|tt&15,1):rt===8?rgba(tt>>24&255,tt>>16&255,tt>>8&255,(tt&255)/255):rt===4?rgba(tt>>12&15|tt>>8&240,tt>>8&15|tt>>4&240,tt>>4&15|tt&240,((tt&15)<<4|tt&15)/255):null):(tt=reRgbInteger.exec(et))?new Rgb(tt[1],tt[2],tt[3],1):(tt=reRgbPercent.exec(et))?new Rgb(tt[1]*255/100,tt[2]*255/100,tt[3]*255/100,1):(tt=reRgbaInteger.exec(et))?rgba(tt[1],tt[2],tt[3],tt[4]):(tt=reRgbaPercent.exec(et))?rgba(tt[1]*255/100,tt[2]*255/100,tt[3]*255/100,tt[4]):(tt=reHslPercent.exec(et))?hsla(tt[1],tt[2]/100,tt[3]/100,1):(tt=reHslaPercent.exec(et))?hsla(tt[1],tt[2]/100,tt[3]/100,tt[4]):named.hasOwnProperty(et)?rgbn(named[et]):et==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(et){return new Rgb(et>>16&255,et>>8&255,et&255,1)}function rgba(et,tt,rt,nt){return nt<=0&&(et=tt=rt=NaN),new Rgb(et,tt,rt,nt)}function rgbConvert(et){return et instanceof Color||(et=color(et)),et?(et=et.rgb(),new Rgb(et.r,et.g,et.b,et.opacity)):new Rgb}function rgb$2(et,tt,rt,nt){return arguments.length===1?rgbConvert(et):new Rgb(et,tt,rt,nt??1)}function Rgb(et,tt,rt,nt){this.r=+et,this.g=+tt,this.b=+rt,this.opacity=+nt}define(Rgb,rgb$2,extend(Color,{brighter(et){return et=et==null?brighter:Math.pow(brighter,et),new Rgb(this.r*et,this.g*et,this.b*et,this.opacity)},darker(et){return et=et==null?darker:Math.pow(darker,et),new Rgb(this.r*et,this.g*et,this.b*et,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const et=clampa(this.opacity);return`${et===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${et===1?")":`, ${et})`}`}function clampa(et){return isNaN(et)?1:Math.max(0,Math.min(1,et))}function clampi(et){return Math.max(0,Math.min(255,Math.round(et)||0))}function hex(et){return et=clampi(et),(et<16?"0":"")+et.toString(16)}function hsla(et,tt,rt,nt){return nt<=0?et=tt=rt=NaN:rt<=0||rt>=1?et=tt=NaN:tt<=0&&(et=NaN),new Hsl(et,tt,rt,nt)}function hslConvert(et){if(et instanceof Hsl)return new Hsl(et.h,et.s,et.l,et.opacity);if(et instanceof Color||(et=color(et)),!et)return new Hsl;if(et instanceof Hsl)return et;et=et.rgb();var tt=et.r/255,rt=et.g/255,nt=et.b/255,at=Math.min(tt,rt,nt),it=Math.max(tt,rt,nt),st=NaN,ot=it-at,lt=(it+at)/2;return ot?(tt===it?st=(rt-nt)/ot+(rt<nt)*6:rt===it?st=(nt-tt)/ot+2:st=(tt-rt)/ot+4,ot/=lt<.5?it+at:2-it-at,st*=60):ot=lt>0&&lt<1?0:st,new Hsl(st,ot,lt,et.opacity)}function hsl(et,tt,rt,nt){return arguments.length===1?hslConvert(et):new Hsl(et,tt,rt,nt??1)}function Hsl(et,tt,rt,nt){this.h=+et,this.s=+tt,this.l=+rt,this.opacity=+nt}define(Hsl,hsl,extend(Color,{brighter(et){return et=et==null?brighter:Math.pow(brighter,et),new Hsl(this.h,this.s,this.l*et,this.opacity)},darker(et){return et=et==null?darker:Math.pow(darker,et),new Hsl(this.h,this.s,this.l*et,this.opacity)},rgb(){var et=this.h%360+(this.h<0)*360,tt=isNaN(et)||isNaN(this.s)?0:this.s,rt=this.l,nt=rt+(rt<.5?rt:1-rt)*tt,at=2*rt-nt;return new Rgb(hsl2rgb(et>=240?et-240:et+120,at,nt),hsl2rgb(et,at,nt),hsl2rgb(et<120?et+240:et-120,at,nt),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const et=clampa(this.opacity);return`${et===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${et===1?")":`, ${et})`}`}}));function clamph(et){return et=(et||0)%360,et<0?et+360:et}function clampt(et){return Math.max(0,Math.min(1,et||0))}function hsl2rgb(et,tt,rt){return(et<60?tt+(rt-tt)*et/60:et<180?rt:et<240?tt+(rt-tt)*(240-et)/60:tt)*255}const constant=et=>()=>et;function linear$1(et,tt){return function(rt){return et+rt*tt}}function exponential(et,tt,rt){return et=Math.pow(et,rt),tt=Math.pow(tt,rt)-et,rt=1/rt,function(nt){return Math.pow(et+nt*tt,rt)}}function gamma(et){return(et=+et)==1?nogamma:function(tt,rt){return rt-tt?exponential(tt,rt,et):constant(isNaN(tt)?rt:tt)}}function nogamma(et,tt){var rt=tt-et;return rt?linear$1(et,rt):constant(isNaN(et)?tt:et)}const rgb$1=function et(tt){var rt=gamma(tt);function nt(at,it){var st=rt((at=rgb$2(at)).r,(it=rgb$2(it)).r),ot=rt(at.g,it.g),lt=rt(at.b,it.b),ct=nogamma(at.opacity,it.opacity);return function(ut){return at.r=st(ut),at.g=ot(ut),at.b=lt(ut),at.opacity=ct(ut),at+""}}return nt.gamma=et,nt}(1);function numberArray(et,tt){tt||(tt=[]);var rt=et?Math.min(tt.length,et.length):0,nt=tt.slice(),at;return function(it){for(at=0;at<rt;++at)nt[at]=et[at]*(1-it)+tt[at]*it;return nt}}function isNumberArray(et){return ArrayBuffer.isView(et)&&!(et instanceof DataView)}function genericArray(et,tt){var rt=tt?tt.length:0,nt=et?Math.min(rt,et.length):0,at=new Array(nt),it=new Array(rt),st;for(st=0;st<nt;++st)at[st]=interpolate(et[st],tt[st]);for(;st<rt;++st)it[st]=tt[st];return function(ot){for(st=0;st<nt;++st)it[st]=at[st](ot);return it}}function date$1(et,tt){var rt=new Date;return et=+et,tt=+tt,function(nt){return rt.setTime(et*(1-nt)+tt*nt),rt}}function interpolateNumber$1(et,tt){return et=+et,tt=+tt,function(rt){return et*(1-rt)+tt*rt}}function object(et,tt){var rt={},nt={},at;(et===null||typeof et!="object")&&(et={}),(tt===null||typeof tt!="object")&&(tt={});for(at in tt)at in et?rt[at]=interpolate(et[at],tt[at]):nt[at]=tt[at];return function(it){for(at in rt)nt[at]=rt[at](it);return nt}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero$2(et){return function(){return et}}function one(et){return function(tt){return et(tt)+""}}function string(et,tt){var rt=reA.lastIndex=reB.lastIndex=0,nt,at,it,st=-1,ot=[],lt=[];for(et=et+"",tt=tt+"";(nt=reA.exec(et))&&(at=reB.exec(tt));)(it=at.index)>rt&&(it=tt.slice(rt,it),ot[st]?ot[st]+=it:ot[++st]=it),(nt=nt[0])===(at=at[0])?ot[st]?ot[st]+=at:ot[++st]=at:(ot[++st]=null,lt.push({i:st,x:interpolateNumber$1(nt,at)})),rt=reB.lastIndex;return rt<tt.length&&(it=tt.slice(rt),ot[st]?ot[st]+=it:ot[++st]=it),ot.length<2?lt[0]?one(lt[0].x):zero$2(tt):(tt=lt.length,function(ct){for(var ut=0,dt;ut<tt;++ut)ot[(dt=lt[ut]).i]=dt.x(ct);return ot.join("")})}function interpolate(et,tt){var rt=typeof tt,nt;return tt==null||rt==="boolean"?constant(tt):(rt==="number"?interpolateNumber$1:rt==="string"?(nt=color(tt))?(tt=nt,rgb$1):string:tt instanceof color?rgb$1:tt instanceof Date?date$1:isNumberArray(tt)?numberArray:Array.isArray(tt)?genericArray:typeof tt.valueOf!="function"&&typeof tt.toString!="function"||isNaN(tt)?object:interpolateNumber$1)(et,tt)}function interpolateRound(et,tt){return et=+et,tt=+tt,function(rt){return Math.round(et*(1-rt)+tt*rt)}}function piecewise(et,tt){tt===void 0&&(tt=et,et=interpolate);for(var rt=0,nt=tt.length-1,at=tt[0],it=new Array(nt<0?0:nt);rt<nt;)it[rt]=et(at,at=tt[++rt]);return function(st){var ot=Math.max(0,Math.min(nt-1,Math.floor(st*=nt)));return it[ot](st-ot)}}function constants$2(et){return function(){return et}}function number$1(et){return+et}var unit=[0,1];function identity$6(et){return et}function normalize(et,tt){return(tt-=et=+et)?function(rt){return(rt-et)/tt}:constants$2(isNaN(tt)?NaN:.5)}function clamper(et,tt){var rt;return et>tt&&(rt=et,et=tt,tt=rt),function(nt){return Math.max(et,Math.min(tt,nt))}}function bimap(et,tt,rt){var nt=et[0],at=et[1],it=tt[0],st=tt[1];return at<nt?(nt=normalize(at,nt),it=rt(st,it)):(nt=normalize(nt,at),it=rt(it,st)),function(ot){return it(nt(ot))}}function polymap(et,tt,rt){var nt=Math.min(et.length,tt.length)-1,at=new Array(nt),it=new Array(nt),st=-1;for(et[nt]<et[0]&&(et=et.slice().reverse(),tt=tt.slice().reverse());++st<nt;)at[st]=normalize(et[st],et[st+1]),it[st]=rt(tt[st],tt[st+1]);return function(ot){var lt=bisect(et,ot,1,nt)-1;return it[lt](at[lt](ot))}}function copy$1(et,tt){return tt.domain(et.domain()).range(et.range()).interpolate(et.interpolate()).clamp(et.clamp()).unknown(et.unknown())}function transformer$2(){var et=unit,tt=unit,rt=interpolate,nt,at,it,st=identity$6,ot,lt,ct;function ut(){var ft=Math.min(et.length,tt.length);return st!==identity$6&&(st=clamper(et[0],et[ft-1])),ot=ft>2?polymap:bimap,lt=ct=null,dt}function dt(ft){return ft==null||isNaN(ft=+ft)?it:(lt||(lt=ot(et.map(nt),tt,rt)))(nt(st(ft)))}return dt.invert=function(ft){return st(at((ct||(ct=ot(tt,et.map(nt),interpolateNumber$1)))(ft)))},dt.domain=function(ft){return arguments.length?(et=Array.from(ft,number$1),ut()):et.slice()},dt.range=function(ft){return arguments.length?(tt=Array.from(ft),ut()):tt.slice()},dt.rangeRound=function(ft){return tt=Array.from(ft),rt=interpolateRound,ut()},dt.clamp=function(ft){return arguments.length?(st=ft?!0:identity$6,ut()):st!==identity$6},dt.interpolate=function(ft){return arguments.length?(rt=ft,ut()):rt},dt.unknown=function(ft){return arguments.length?(it=ft,dt):it},function(ft,ht){return nt=ft,at=ht,ut()}}function continuous(){return transformer$2()(identity$6,identity$6)}function formatDecimal(et){return Math.abs(et=Math.round(et))>=1e21?et.toLocaleString("en").replace(/,/g,""):et.toString(10)}function formatDecimalParts(et,tt){if((rt=(et=tt?et.toExponential(tt-1):et.toExponential()).indexOf("e"))<0)return null;var rt,nt=et.slice(0,rt);return[nt.length>1?nt[0]+nt.slice(2):nt,+et.slice(rt+1)]}function exponent(et){return et=formatDecimalParts(Math.abs(et)),et?et[1]:NaN}function formatGroup(et,tt){return function(rt,nt){for(var at=rt.length,it=[],st=0,ot=et[0],lt=0;at>0&&ot>0&&(lt+ot+1>nt&&(ot=Math.max(1,nt-lt)),it.push(rt.substring(at-=ot,at+ot)),!((lt+=ot+1)>nt));)ot=et[st=(st+1)%et.length];return it.reverse().join(tt)}}function formatNumerals(et){return function(tt){return tt.replace(/[0-9]/g,function(rt){return et[+rt]})}}var re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(et){if(!(tt=re$1.exec(et)))throw new Error("invalid format: "+et);var tt;return new FormatSpecifier({fill:tt[1],align:tt[2],sign:tt[3],symbol:tt[4],zero:tt[5],width:tt[6],comma:tt[7],precision:tt[8]&&tt[8].slice(1),trim:tt[9],type:tt[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(et){this.fill=et.fill===void 0?" ":et.fill+"",this.align=et.align===void 0?">":et.align+"",this.sign=et.sign===void 0?"-":et.sign+"",this.symbol=et.symbol===void 0?"":et.symbol+"",this.zero=!!et.zero,this.width=et.width===void 0?void 0:+et.width,this.comma=!!et.comma,this.precision=et.precision===void 0?void 0:+et.precision,this.trim=!!et.trim,this.type=et.type===void 0?"":et.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(et){e:for(var tt=et.length,rt=1,nt=-1,at;rt<tt;++rt)switch(et[rt]){case".":nt=at=rt;break;case"0":nt===0&&(nt=rt),at=rt;break;default:if(!+et[rt])break e;nt>0&&(nt=0);break}return nt>0?et.slice(0,nt)+et.slice(at+1):et}var prefixExponent;function formatPrefixAuto(et,tt){var rt=formatDecimalParts(et,tt);if(!rt)return et+"";var nt=rt[0],at=rt[1],it=at-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(at/3)))*3)+1,st=nt.length;return it===st?nt:it>st?nt+new Array(it-st+1).join("0"):it>0?nt.slice(0,it)+"."+nt.slice(it):"0."+new Array(1-it).join("0")+formatDecimalParts(et,Math.max(0,tt+it-1))[0]}function formatRounded(et,tt){var rt=formatDecimalParts(et,tt);if(!rt)return et+"";var nt=rt[0],at=rt[1];return at<0?"0."+new Array(-at).join("0")+nt:nt.length>at+1?nt.slice(0,at+1)+"."+nt.slice(at+1):nt+new Array(at-nt.length+2).join("0")}const formatTypes={"%":(et,tt)=>(et*100).toFixed(tt),b:et=>Math.round(et).toString(2),c:et=>et+"",d:formatDecimal,e:(et,tt)=>et.toExponential(tt),f:(et,tt)=>et.toFixed(tt),g:(et,tt)=>et.toPrecision(tt),o:et=>Math.round(et).toString(8),p:(et,tt)=>formatRounded(et*100,tt),r:formatRounded,s:formatPrefixAuto,X:et=>Math.round(et).toString(16).toUpperCase(),x:et=>Math.round(et).toString(16)};function identity$5(et){return et}var map$3=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(et){var tt=et.grouping===void 0||et.thousands===void 0?identity$5:formatGroup(map$3.call(et.grouping,Number),et.thousands+""),rt=et.currency===void 0?"":et.currency[0]+"",nt=et.currency===void 0?"":et.currency[1]+"",at=et.decimal===void 0?".":et.decimal+"",it=et.numerals===void 0?identity$5:formatNumerals(map$3.call(et.numerals,String)),st=et.percent===void 0?"%":et.percent+"",ot=et.minus===void 0?"":et.minus+"",lt=et.nan===void 0?"NaN":et.nan+"";function ct(dt){dt=formatSpecifier(dt);var ft=dt.fill,ht=dt.align,gt=dt.sign,mt=dt.symbol,xt=dt.zero,vt=dt.width,_t=dt.comma,yt=dt.precision,St=dt.trim,bt=dt.type;bt==="n"?(_t=!0,bt="g"):formatTypes[bt]||(yt===void 0&&(yt=12),St=!0,bt="g"),(xt||ft==="0"&&ht==="=")&&(xt=!0,ft="0",ht="=");var Et=mt==="$"?rt:mt==="#"&&/[boxX]/.test(bt)?"0"+bt.toLowerCase():"",Tt=mt==="$"?nt:/[%p]/.test(bt)?st:"",At=formatTypes[bt],Ct=/[defgprs%]/.test(bt);yt=yt===void 0?6:/[gprs]/.test(bt)?Math.max(1,Math.min(21,yt)):Math.max(0,Math.min(20,yt));function kt(Pt){var Dt=Et,Ft=Tt,Ot,It,Bt;if(bt==="c")Ft=At(Pt)+Ft,Pt="";else{Pt=+Pt;var qt=Pt<0||1/Pt<0;if(Pt=isNaN(Pt)?lt:At(Math.abs(Pt),yt),St&&(Pt=formatTrim(Pt)),qt&&+Pt==0&&gt!=="+"&&(qt=!1),Dt=(qt?gt==="("?gt:ot:gt==="-"||gt==="("?"":gt)+Dt,Ft=(bt==="s"?prefixes[8+prefixExponent/3]:"")+Ft+(qt&&gt==="("?")":""),Ct){for(Ot=-1,It=Pt.length;++Ot<It;)if(Bt=Pt.charCodeAt(Ot),48>Bt||Bt>57){Ft=(Bt===46?at+Pt.slice(Ot+1):Pt.slice(Ot))+Ft,Pt=Pt.slice(0,Ot);break}}}_t&&!xt&&(Pt=tt(Pt,1/0));var Ut=Dt.length+Pt.length+Ft.length,Ht=Ut<vt?new Array(vt-Ut+1).join(ft):"";switch(_t&&xt&&(Pt=tt(Ht+Pt,Ht.length?vt-Ft.length:1/0),Ht=""),ht){case"<":Pt=Dt+Pt+Ft+Ht;break;case"=":Pt=Dt+Ht+Pt+Ft;break;case"^":Pt=Ht.slice(0,Ut=Ht.length>>1)+Dt+Pt+Ft+Ht.slice(Ut);break;default:Pt=Ht+Dt+Pt+Ft;break}return it(Pt)}return kt.toString=function(){return dt+""},kt}function ut(dt,ft){var ht=ct((dt=formatSpecifier(dt),dt.type="f",dt)),gt=Math.max(-8,Math.min(8,Math.floor(exponent(ft)/3)))*3,mt=Math.pow(10,-gt),xt=prefixes[8+gt/3];return function(vt){return ht(mt*vt)+xt}}return{format:ct,formatPrefix:ut}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(et){return locale$1=formatLocale$1(et),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(et){return Math.max(0,-exponent(Math.abs(et)))}function precisionPrefix(et,tt){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(tt)/3)))*3-exponent(Math.abs(et)))}function precisionRound(et,tt){return et=Math.abs(et),tt=Math.abs(tt)-et,Math.max(0,exponent(tt)-exponent(et))+1}function tickFormat(et,tt,rt,nt){var at=tickStep(et,tt,rt),it;switch(nt=formatSpecifier(nt??",f"),nt.type){case"s":{var st=Math.max(Math.abs(et),Math.abs(tt));return nt.precision==null&&!isNaN(it=precisionPrefix(at,st))&&(nt.precision=it),formatPrefix(nt,st)}case"":case"e":case"g":case"p":case"r":{nt.precision==null&&!isNaN(it=precisionRound(at,Math.max(Math.abs(et),Math.abs(tt))))&&(nt.precision=it-(nt.type==="e"));break}case"f":case"%":{nt.precision==null&&!isNaN(it=precisionFixed(at))&&(nt.precision=it-(nt.type==="%")*2);break}}return format(nt)}function linearish(et){var tt=et.domain;return et.ticks=function(rt){var nt=tt();return ticks(nt[0],nt[nt.length-1],rt??10)},et.tickFormat=function(rt,nt){var at=tt();return tickFormat(at[0],at[at.length-1],rt??10,nt)},et.nice=function(rt){rt==null&&(rt=10);var nt=tt(),at=0,it=nt.length-1,st=nt[at],ot=nt[it],lt,ct,ut=10;for(ot<st&&(ct=st,st=ot,ot=ct,ct=at,at=it,it=ct);ut-- >0;){if(ct=tickIncrement(st,ot,rt),ct===lt)return nt[at]=st,nt[it]=ot,tt(nt);if(ct>0)st=Math.floor(st/ct)*ct,ot=Math.ceil(ot/ct)*ct;else if(ct<0)st=Math.ceil(st*ct)/ct,ot=Math.floor(ot*ct)/ct;else break;lt=ct}return et},et}function linear(){var et=continuous();return et.copy=function(){return copy$1(et,linear())},initRange.apply(et,arguments),linearish(et)}function identity$4(et){var tt;function rt(nt){return nt==null||isNaN(nt=+nt)?tt:nt}return rt.invert=rt,rt.domain=rt.range=function(nt){return arguments.length?(et=Array.from(nt,number$1),rt):et.slice()},rt.unknown=function(nt){return arguments.length?(tt=nt,rt):tt},rt.copy=function(){return identity$4(et).unknown(tt)},et=arguments.length?Array.from(et,number$1):[0,1],linearish(rt)}function nice(et,tt){et=et.slice();var rt=0,nt=et.length-1,at=et[rt],it=et[nt],st;return it<at&&(st=rt,rt=nt,nt=st,st=at,at=it,it=st),et[rt]=tt.floor(at),et[nt]=tt.ceil(it),et}function transformLog(et){return Math.log(et)}function transformExp(et){return Math.exp(et)}function transformLogn(et){return-Math.log(-et)}function transformExpn(et){return-Math.exp(-et)}function pow10(et){return isFinite(et)?+("1e"+et):et<0?0:et}function powp(et){return et===10?pow10:et===Math.E?Math.exp:tt=>Math.pow(et,tt)}function logp(et){return et===Math.E?Math.log:et===10&&Math.log10||et===2&&Math.log2||(et=Math.log(et),tt=>Math.log(tt)/et)}function reflect(et){return(tt,rt)=>-et(-tt,rt)}function loggish(et){const tt=et(transformLog,transformExp),rt=tt.domain;let nt=10,at,it;function st(){return at=logp(nt),it=powp(nt),rt()[0]<0?(at=reflect(at),it=reflect(it),et(transformLogn,transformExpn)):et(transformLog,transformExp),tt}return tt.base=function(ot){return arguments.length?(nt=+ot,st()):nt},tt.domain=function(ot){return arguments.length?(rt(ot),st()):rt()},tt.ticks=ot=>{const lt=rt();let ct=lt[0],ut=lt[lt.length-1];const dt=ut<ct;dt&&([ct,ut]=[ut,ct]);let ft=at(ct),ht=at(ut),gt,mt;const xt=ot==null?10:+ot;let vt=[];if(!(nt%1)&&ht-ft<xt){if(ft=Math.floor(ft),ht=Math.ceil(ht),ct>0){for(;ft<=ht;++ft)for(gt=1;gt<nt;++gt)if(mt=ft<0?gt/it(-ft):gt*it(ft),!(mt<ct)){if(mt>ut)break;vt.push(mt)}}else for(;ft<=ht;++ft)for(gt=nt-1;gt>=1;--gt)if(mt=ft>0?gt/it(-ft):gt*it(ft),!(mt<ct)){if(mt>ut)break;vt.push(mt)}vt.length*2<xt&&(vt=ticks(ct,ut,xt))}else vt=ticks(ft,ht,Math.min(ht-ft,xt)).map(it);return dt?vt.reverse():vt},tt.tickFormat=(ot,lt)=>{if(ot==null&&(ot=10),lt==null&&(lt=nt===10?"s":","),typeof lt!="function"&&(!(nt%1)&&(lt=formatSpecifier(lt)).precision==null&&(lt.trim=!0),lt=format(lt)),ot===1/0)return lt;const ct=Math.max(1,nt*ot/tt.ticks().length);return ut=>{let dt=ut/it(Math.round(at(ut)));return dt*nt<nt-.5&&(dt*=nt),dt<=ct?lt(ut):""}},tt.nice=()=>rt(nice(rt(),{floor:ot=>it(Math.floor(at(ot))),ceil:ot=>it(Math.ceil(at(ot)))})),tt}function log(){const et=loggish(transformer$2()).domain([1,10]);return et.copy=()=>copy$1(et,log()).base(et.base()),initRange.apply(et,arguments),et}function transformSymlog(et){return function(tt){return Math.sign(tt)*Math.log1p(Math.abs(tt/et))}}function transformSymexp(et){return function(tt){return Math.sign(tt)*Math.expm1(Math.abs(tt))*et}}function symlogish(et){var tt=1,rt=et(transformSymlog(tt),transformSymexp(tt));return rt.constant=function(nt){return arguments.length?et(transformSymlog(tt=+nt),transformSymexp(tt)):tt},linearish(rt)}function symlog(){var et=symlogish(transformer$2());return et.copy=function(){return copy$1(et,symlog()).constant(et.constant())},initRange.apply(et,arguments)}function transformPow(et){return function(tt){return tt<0?-Math.pow(-tt,et):Math.pow(tt,et)}}function transformSqrt(et){return et<0?-Math.sqrt(-et):Math.sqrt(et)}function transformSquare(et){return et<0?-et*et:et*et}function powish(et){var tt=et(identity$6,identity$6),rt=1;function nt(){return rt===1?et(identity$6,identity$6):rt===.5?et(transformSqrt,transformSquare):et(transformPow(rt),transformPow(1/rt))}return tt.exponent=function(at){return arguments.length?(rt=+at,nt()):rt},linearish(tt)}function pow(){var et=powish(transformer$2());return et.copy=function(){return copy$1(et,pow()).exponent(et.exponent())},initRange.apply(et,arguments),et}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(et){return Math.sign(et)*et*et}function unsquare(et){return Math.sign(et)*Math.sqrt(Math.abs(et))}function radial(){var et=continuous(),tt=[0,1],rt=!1,nt;function at(it){var st=unsquare(et(it));return isNaN(st)?nt:rt?Math.round(st):st}return at.invert=function(it){return et.invert(square(it))},at.domain=function(it){return arguments.length?(et.domain(it),at):et.domain()},at.range=function(it){return arguments.length?(et.range((tt=Array.from(it,number$1)).map(square)),at):tt.slice()},at.rangeRound=function(it){return at.range(it).round(!0)},at.round=function(it){return arguments.length?(rt=!!it,at):rt},at.clamp=function(it){return arguments.length?(et.clamp(it),at):et.clamp()},at.unknown=function(it){return arguments.length?(nt=it,at):nt},at.copy=function(){return radial(et.domain(),tt).round(rt).clamp(et.clamp()).unknown(nt)},initRange.apply(at,arguments),linearish(at)}function quantile(){var et=[],tt=[],rt=[],nt;function at(){var st=0,ot=Math.max(1,tt.length);for(rt=new Array(ot-1);++st<ot;)rt[st-1]=quantileSorted(et,st/ot);return it}function it(st){return st==null||isNaN(st=+st)?nt:tt[bisect(rt,st)]}return it.invertExtent=function(st){var ot=tt.indexOf(st);return ot<0?[NaN,NaN]:[ot>0?rt[ot-1]:et[0],ot<rt.length?rt[ot]:et[et.length-1]]},it.domain=function(st){if(!arguments.length)return et.slice();et=[];for(let ot of st)ot!=null&&!isNaN(ot=+ot)&&et.push(ot);return et.sort(ascending),at()},it.range=function(st){return arguments.length?(tt=Array.from(st),at()):tt.slice()},it.unknown=function(st){return arguments.length?(nt=st,it):nt},it.quantiles=function(){return rt.slice()},it.copy=function(){return quantile().domain(et).range(tt).unknown(nt)},initRange.apply(it,arguments)}function quantize(){var et=0,tt=1,rt=1,nt=[.5],at=[0,1],it;function st(lt){return lt!=null&&lt<=lt?at[bisect(nt,lt,0,rt)]:it}function ot(){var lt=-1;for(nt=new Array(rt);++lt<rt;)nt[lt]=((lt+1)*tt-(lt-rt)*et)/(rt+1);return st}return st.domain=function(lt){return arguments.length?([et,tt]=lt,et=+et,tt=+tt,ot()):[et,tt]},st.range=function(lt){return arguments.length?(rt=(at=Array.from(lt)).length-1,ot()):at.slice()},st.invertExtent=function(lt){var ct=at.indexOf(lt);return ct<0?[NaN,NaN]:ct<1?[et,nt[0]]:ct>=rt?[nt[rt-1],tt]:[nt[ct-1],nt[ct]]},st.unknown=function(lt){return arguments.length&&(it=lt),st},st.thresholds=function(){return nt.slice()},st.copy=function(){return quantize().domain([et,tt]).range(at).unknown(it)},initRange.apply(linearish(st),arguments)}function threshold(){var et=[.5],tt=[0,1],rt,nt=1;function at(it){return it!=null&&it<=it?tt[bisect(et,it,0,nt)]:rt}return at.domain=function(it){return arguments.length?(et=Array.from(it),nt=Math.min(et.length,tt.length-1),at):et.slice()},at.range=function(it){return arguments.length?(tt=Array.from(it),nt=Math.min(et.length,tt.length-1),at):tt.slice()},at.invertExtent=function(it){var st=tt.indexOf(it);return[et[st-1],et[st]]},at.unknown=function(it){return arguments.length?(rt=it,at):rt},at.copy=function(){return threshold().domain(et).range(tt).unknown(rt)},initRange.apply(at,arguments)}const t0=new Date,t1=new Date;function timeInterval(et,tt,rt,nt){function at(it){return et(it=arguments.length===0?new Date:new Date(+it)),it}return at.floor=it=>(et(it=new Date(+it)),it),at.ceil=it=>(et(it=new Date(it-1)),tt(it,1),et(it),it),at.round=it=>{const st=at(it),ot=at.ceil(it);return it-st<ot-it?st:ot},at.offset=(it,st)=>(tt(it=new Date(+it),st==null?1:Math.floor(st)),it),at.range=(it,st,ot)=>{const lt=[];if(it=at.ceil(it),ot=ot==null?1:Math.floor(ot),!(it<st)||!(ot>0))return lt;let ct;do lt.push(ct=new Date(+it)),tt(it,ot),et(it);while(ct<it&&it<st);return lt},at.filter=it=>timeInterval(st=>{if(st>=st)for(;et(st),!it(st);)st.setTime(st-1)},(st,ot)=>{if(st>=st)if(ot<0)for(;++ot<=0;)for(;tt(st,-1),!it(st););else for(;--ot>=0;)for(;tt(st,1),!it(st););}),rt&&(at.count=(it,st)=>(t0.setTime(+it),t1.setTime(+st),et(t0),et(t1),Math.floor(rt(t0,t1))),at.every=it=>(it=Math.floor(it),!isFinite(it)||!(it>0)?null:it>1?at.filter(nt?st=>nt(st)%it===0:st=>at.count(0,st)%it===0):at)),at}const millisecond=timeInterval(()=>{},(et,tt)=>{et.setTime(+et+tt)},(et,tt)=>tt-et);millisecond.every=et=>(et=Math.floor(et),!isFinite(et)||!(et>0)?null:et>1?timeInterval(tt=>{tt.setTime(Math.floor(tt/et)*et)},(tt,rt)=>{tt.setTime(+tt+rt*et)},(tt,rt)=>(rt-tt)/et):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(et=>{et.setTime(et-et.getMilliseconds())},(et,tt)=>{et.setTime(+et+tt*durationSecond)},(et,tt)=>(tt-et)/durationSecond,et=>et.getUTCSeconds());second.range;const timeMinute=timeInterval(et=>{et.setTime(et-et.getMilliseconds()-et.getSeconds()*durationSecond)},(et,tt)=>{et.setTime(+et+tt*durationMinute)},(et,tt)=>(tt-et)/durationMinute,et=>et.getMinutes());timeMinute.range;const utcMinute=timeInterval(et=>{et.setUTCSeconds(0,0)},(et,tt)=>{et.setTime(+et+tt*durationMinute)},(et,tt)=>(tt-et)/durationMinute,et=>et.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(et=>{et.setTime(et-et.getMilliseconds()-et.getSeconds()*durationSecond-et.getMinutes()*durationMinute)},(et,tt)=>{et.setTime(+et+tt*durationHour)},(et,tt)=>(tt-et)/durationHour,et=>et.getHours());timeHour.range;const utcHour=timeInterval(et=>{et.setUTCMinutes(0,0,0)},(et,tt)=>{et.setTime(+et+tt*durationHour)},(et,tt)=>(tt-et)/durationHour,et=>et.getUTCHours());utcHour.range;const timeDay=timeInterval(et=>et.setHours(0,0,0,0),(et,tt)=>et.setDate(et.getDate()+tt),(et,tt)=>(tt-et-(tt.getTimezoneOffset()-et.getTimezoneOffset())*durationMinute)/durationDay,et=>et.getDate()-1);timeDay.range;const utcDay=timeInterval(et=>{et.setUTCHours(0,0,0,0)},(et,tt)=>{et.setUTCDate(et.getUTCDate()+tt)},(et,tt)=>(tt-et)/durationDay,et=>et.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(et=>{et.setUTCHours(0,0,0,0)},(et,tt)=>{et.setUTCDate(et.getUTCDate()+tt)},(et,tt)=>(tt-et)/durationDay,et=>Math.floor(et/durationDay));unixDay.range;function timeWeekday(et){return timeInterval(tt=>{tt.setDate(tt.getDate()-(tt.getDay()+7-et)%7),tt.setHours(0,0,0,0)},(tt,rt)=>{tt.setDate(tt.getDate()+rt*7)},(tt,rt)=>(rt-tt-(rt.getTimezoneOffset()-tt.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(et){return timeInterval(tt=>{tt.setUTCDate(tt.getUTCDate()-(tt.getUTCDay()+7-et)%7),tt.setUTCHours(0,0,0,0)},(tt,rt)=>{tt.setUTCDate(tt.getUTCDate()+rt*7)},(tt,rt)=>(rt-tt)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(et=>{et.setDate(1),et.setHours(0,0,0,0)},(et,tt)=>{et.setMonth(et.getMonth()+tt)},(et,tt)=>tt.getMonth()-et.getMonth()+(tt.getFullYear()-et.getFullYear())*12,et=>et.getMonth());timeMonth.range;const utcMonth=timeInterval(et=>{et.setUTCDate(1),et.setUTCHours(0,0,0,0)},(et,tt)=>{et.setUTCMonth(et.getUTCMonth()+tt)},(et,tt)=>tt.getUTCMonth()-et.getUTCMonth()+(tt.getUTCFullYear()-et.getUTCFullYear())*12,et=>et.getUTCMonth());utcMonth.range;const timeYear=timeInterval(et=>{et.setMonth(0,1),et.setHours(0,0,0,0)},(et,tt)=>{et.setFullYear(et.getFullYear()+tt)},(et,tt)=>tt.getFullYear()-et.getFullYear(),et=>et.getFullYear());timeYear.every=et=>!isFinite(et=Math.floor(et))||!(et>0)?null:timeInterval(tt=>{tt.setFullYear(Math.floor(tt.getFullYear()/et)*et),tt.setMonth(0,1),tt.setHours(0,0,0,0)},(tt,rt)=>{tt.setFullYear(tt.getFullYear()+rt*et)});timeYear.range;const utcYear=timeInterval(et=>{et.setUTCMonth(0,1),et.setUTCHours(0,0,0,0)},(et,tt)=>{et.setUTCFullYear(et.getUTCFullYear()+tt)},(et,tt)=>tt.getUTCFullYear()-et.getUTCFullYear(),et=>et.getUTCFullYear());utcYear.every=et=>!isFinite(et=Math.floor(et))||!(et>0)?null:timeInterval(tt=>{tt.setUTCFullYear(Math.floor(tt.getUTCFullYear()/et)*et),tt.setUTCMonth(0,1),tt.setUTCHours(0,0,0,0)},(tt,rt)=>{tt.setUTCFullYear(tt.getUTCFullYear()+rt*et)});utcYear.range;function ticker(et,tt,rt,nt,at,it){const st=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[it,1,durationMinute],[it,5,5*durationMinute],[it,15,15*durationMinute],[it,30,30*durationMinute],[at,1,durationHour],[at,3,3*durationHour],[at,6,6*durationHour],[at,12,12*durationHour],[nt,1,durationDay],[nt,2,2*durationDay],[rt,1,durationWeek],[tt,1,durationMonth],[tt,3,3*durationMonth],[et,1,durationYear]];function ot(ct,ut,dt){const ft=ut<ct;ft&&([ct,ut]=[ut,ct]);const ht=dt&&typeof dt.range=="function"?dt:lt(ct,ut,dt),gt=ht?ht.range(ct,+ut+1):[];return ft?gt.reverse():gt}function lt(ct,ut,dt){const ft=Math.abs(ut-ct)/dt,ht=bisector(([,,xt])=>xt).right(st,ft);if(ht===st.length)return et.every(tickStep(ct/durationYear,ut/durationYear,dt));if(ht===0)return millisecond.every(Math.max(tickStep(ct,ut,dt),1));const[gt,mt]=st[ft/st[ht-1][2]<st[ht][2]/ft?ht-1:ht];return gt.every(mt)}return[ot,lt]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(et){if(0<=et.y&&et.y<100){var tt=new Date(-1,et.m,et.d,et.H,et.M,et.S,et.L);return tt.setFullYear(et.y),tt}return new Date(et.y,et.m,et.d,et.H,et.M,et.S,et.L)}function utcDate(et){if(0<=et.y&&et.y<100){var tt=new Date(Date.UTC(-1,et.m,et.d,et.H,et.M,et.S,et.L));return tt.setUTCFullYear(et.y),tt}return new Date(Date.UTC(et.y,et.m,et.d,et.H,et.M,et.S,et.L))}function newDate(et,tt,rt){return{y:et,m:tt,d:rt,H:0,M:0,S:0,L:0}}function formatLocale(et){var tt=et.dateTime,rt=et.date,nt=et.time,at=et.periods,it=et.days,st=et.shortDays,ot=et.months,lt=et.shortMonths,ct=formatRe(at),ut=formatLookup(at),dt=formatRe(it),ft=formatLookup(it),ht=formatRe(st),gt=formatLookup(st),mt=formatRe(ot),xt=formatLookup(ot),vt=formatRe(lt),_t=formatLookup(lt),yt={a:qt,A:Ut,b:Ht,B:Qt,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:ir,q:Xt,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},St={a:Lt,A:jt,b:Nt,B:Mt,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Vt,q:Gt,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},bt={a:kt,A:Pt,b:Dt,B:Ft,c:Ot,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:Ct,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:It,X:Bt,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};yt.x=Et(rt,yt),yt.X=Et(nt,yt),yt.c=Et(tt,yt),St.x=Et(rt,St),St.X=Et(nt,St),St.c=Et(tt,St);function Et(Zt,er){return function(ar){var Kt=[],pr=-1,fr=0,vr=Zt.length,wr,hr,Ir;for(ar instanceof Date||(ar=new Date(+ar));++pr<vr;)Zt.charCodeAt(pr)===37&&(Kt.push(Zt.slice(fr,pr)),(hr=pads[wr=Zt.charAt(++pr)])!=null?wr=Zt.charAt(++pr):hr=wr==="e"?" ":"0",(Ir=er[wr])&&(wr=Ir(ar,hr)),Kt.push(wr),fr=pr+1);return Kt.push(Zt.slice(fr,pr)),Kt.join("")}}function Tt(Zt,er){return function(ar){var Kt=newDate(1900,void 0,1),pr=At(Kt,Zt,ar+="",0),fr,vr;if(pr!=ar.length)return null;if("Q"in Kt)return new Date(Kt.Q);if("s"in Kt)return new Date(Kt.s*1e3+("L"in Kt?Kt.L:0));if(er&&!("Z"in Kt)&&(Kt.Z=0),"p"in Kt&&(Kt.H=Kt.H%12+Kt.p*12),Kt.m===void 0&&(Kt.m="q"in Kt?Kt.q:0),"V"in Kt){if(Kt.V<1||Kt.V>53)return null;"w"in Kt||(Kt.w=1),"Z"in Kt?(fr=utcDate(newDate(Kt.y,0,1)),vr=fr.getUTCDay(),fr=vr>4||vr===0?utcMonday.ceil(fr):utcMonday(fr),fr=utcDay.offset(fr,(Kt.V-1)*7),Kt.y=fr.getUTCFullYear(),Kt.m=fr.getUTCMonth(),Kt.d=fr.getUTCDate()+(Kt.w+6)%7):(fr=localDate(newDate(Kt.y,0,1)),vr=fr.getDay(),fr=vr>4||vr===0?timeMonday.ceil(fr):timeMonday(fr),fr=timeDay.offset(fr,(Kt.V-1)*7),Kt.y=fr.getFullYear(),Kt.m=fr.getMonth(),Kt.d=fr.getDate()+(Kt.w+6)%7)}else("W"in Kt||"U"in Kt)&&("w"in Kt||(Kt.w="u"in Kt?Kt.u%7:"W"in Kt?1:0),vr="Z"in Kt?utcDate(newDate(Kt.y,0,1)).getUTCDay():localDate(newDate(Kt.y,0,1)).getDay(),Kt.m=0,Kt.d="W"in Kt?(Kt.w+6)%7+Kt.W*7-(vr+5)%7:Kt.w+Kt.U*7-(vr+6)%7);return"Z"in Kt?(Kt.H+=Kt.Z/100|0,Kt.M+=Kt.Z%100,utcDate(Kt)):localDate(Kt)}}function At(Zt,er,ar,Kt){for(var pr=0,fr=er.length,vr=ar.length,wr,hr;pr<fr;){if(Kt>=vr)return-1;if(wr=er.charCodeAt(pr++),wr===37){if(wr=er.charAt(pr++),hr=bt[wr in pads?er.charAt(pr++):wr],!hr||(Kt=hr(Zt,ar,Kt))<0)return-1}else if(wr!=ar.charCodeAt(Kt++))return-1}return Kt}function Ct(Zt,er,ar){var Kt=ct.exec(er.slice(ar));return Kt?(Zt.p=ut.get(Kt[0].toLowerCase()),ar+Kt[0].length):-1}function kt(Zt,er,ar){var Kt=ht.exec(er.slice(ar));return Kt?(Zt.w=gt.get(Kt[0].toLowerCase()),ar+Kt[0].length):-1}function Pt(Zt,er,ar){var Kt=dt.exec(er.slice(ar));return Kt?(Zt.w=ft.get(Kt[0].toLowerCase()),ar+Kt[0].length):-1}function Dt(Zt,er,ar){var Kt=vt.exec(er.slice(ar));return Kt?(Zt.m=_t.get(Kt[0].toLowerCase()),ar+Kt[0].length):-1}function Ft(Zt,er,ar){var Kt=mt.exec(er.slice(ar));return Kt?(Zt.m=xt.get(Kt[0].toLowerCase()),ar+Kt[0].length):-1}function Ot(Zt,er,ar){return At(Zt,tt,er,ar)}function It(Zt,er,ar){return At(Zt,rt,er,ar)}function Bt(Zt,er,ar){return At(Zt,nt,er,ar)}function qt(Zt){return st[Zt.getDay()]}function Ut(Zt){return it[Zt.getDay()]}function Ht(Zt){return lt[Zt.getMonth()]}function Qt(Zt){return ot[Zt.getMonth()]}function ir(Zt){return at[+(Zt.getHours()>=12)]}function Xt(Zt){return 1+~~(Zt.getMonth()/3)}function Lt(Zt){return st[Zt.getUTCDay()]}function jt(Zt){return it[Zt.getUTCDay()]}function Nt(Zt){return lt[Zt.getUTCMonth()]}function Mt(Zt){return ot[Zt.getUTCMonth()]}function Vt(Zt){return at[+(Zt.getUTCHours()>=12)]}function Gt(Zt){return 1+~~(Zt.getUTCMonth()/3)}return{format:function(Zt){var er=Et(Zt+="",yt);return er.toString=function(){return Zt},er},parse:function(Zt){var er=Tt(Zt+="",!1);return er.toString=function(){return Zt},er},utcFormat:function(Zt){var er=Et(Zt+="",St);return er.toString=function(){return Zt},er},utcParse:function(Zt){var er=Tt(Zt+="",!0);return er.toString=function(){return Zt},er}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(et,tt,rt){var nt=et<0?"-":"",at=(nt?-et:et)+"",it=at.length;return nt+(it<rt?new Array(rt-it+1).join(tt)+at:at)}function requote(et){return et.replace(requoteRe,"\\$&")}function formatRe(et){return new RegExp("^(?:"+et.map(requote).join("|")+")","i")}function formatLookup(et){return new Map(et.map((tt,rt)=>[tt.toLowerCase(),rt]))}function parseWeekdayNumberSunday(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+1));return nt?(et.w=+nt[0],rt+nt[0].length):-1}function parseWeekdayNumberMonday(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+1));return nt?(et.u=+nt[0],rt+nt[0].length):-1}function parseWeekNumberSunday(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+2));return nt?(et.U=+nt[0],rt+nt[0].length):-1}function parseWeekNumberISO(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+2));return nt?(et.V=+nt[0],rt+nt[0].length):-1}function parseWeekNumberMonday(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+2));return nt?(et.W=+nt[0],rt+nt[0].length):-1}function parseFullYear(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+4));return nt?(et.y=+nt[0],rt+nt[0].length):-1}function parseYear(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+2));return nt?(et.y=+nt[0]+(+nt[0]>68?1900:2e3),rt+nt[0].length):-1}function parseZone(et,tt,rt){var nt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(tt.slice(rt,rt+6));return nt?(et.Z=nt[1]?0:-(nt[2]+(nt[3]||"00")),rt+nt[0].length):-1}function parseQuarter(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+1));return nt?(et.q=nt[0]*3-3,rt+nt[0].length):-1}function parseMonthNumber(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+2));return nt?(et.m=nt[0]-1,rt+nt[0].length):-1}function parseDayOfMonth(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+2));return nt?(et.d=+nt[0],rt+nt[0].length):-1}function parseDayOfYear(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+3));return nt?(et.m=0,et.d=+nt[0],rt+nt[0].length):-1}function parseHour24(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+2));return nt?(et.H=+nt[0],rt+nt[0].length):-1}function parseMinutes(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+2));return nt?(et.M=+nt[0],rt+nt[0].length):-1}function parseSeconds(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+2));return nt?(et.S=+nt[0],rt+nt[0].length):-1}function parseMilliseconds(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+3));return nt?(et.L=+nt[0],rt+nt[0].length):-1}function parseMicroseconds(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+6));return nt?(et.L=Math.floor(nt[0]/1e3),rt+nt[0].length):-1}function parseLiteralPercent(et,tt,rt){var nt=percentRe.exec(tt.slice(rt,rt+1));return nt?rt+nt[0].length:-1}function parseUnixTimestamp(et,tt,rt){var nt=numberRe.exec(tt.slice(rt));return nt?(et.Q=+nt[0],rt+nt[0].length):-1}function parseUnixTimestampSeconds(et,tt,rt){var nt=numberRe.exec(tt.slice(rt));return nt?(et.s=+nt[0],rt+nt[0].length):-1}function formatDayOfMonth(et,tt){return pad(et.getDate(),tt,2)}function formatHour24(et,tt){return pad(et.getHours(),tt,2)}function formatHour12(et,tt){return pad(et.getHours()%12||12,tt,2)}function formatDayOfYear(et,tt){return pad(1+timeDay.count(timeYear(et),et),tt,3)}function formatMilliseconds(et,tt){return pad(et.getMilliseconds(),tt,3)}function formatMicroseconds(et,tt){return formatMilliseconds(et,tt)+"000"}function formatMonthNumber(et,tt){return pad(et.getMonth()+1,tt,2)}function formatMinutes(et,tt){return pad(et.getMinutes(),tt,2)}function formatSeconds(et,tt){return pad(et.getSeconds(),tt,2)}function formatWeekdayNumberMonday(et){var tt=et.getDay();return tt===0?7:tt}function formatWeekNumberSunday(et,tt){return pad(timeSunday.count(timeYear(et)-1,et),tt,2)}function dISO(et){var tt=et.getDay();return tt>=4||tt===0?timeThursday(et):timeThursday.ceil(et)}function formatWeekNumberISO(et,tt){return et=dISO(et),pad(timeThursday.count(timeYear(et),et)+(timeYear(et).getDay()===4),tt,2)}function formatWeekdayNumberSunday(et){return et.getDay()}function formatWeekNumberMonday(et,tt){return pad(timeMonday.count(timeYear(et)-1,et),tt,2)}function formatYear(et,tt){return pad(et.getFullYear()%100,tt,2)}function formatYearISO(et,tt){return et=dISO(et),pad(et.getFullYear()%100,tt,2)}function formatFullYear(et,tt){return pad(et.getFullYear()%1e4,tt,4)}function formatFullYearISO(et,tt){var rt=et.getDay();return et=rt>=4||rt===0?timeThursday(et):timeThursday.ceil(et),pad(et.getFullYear()%1e4,tt,4)}function formatZone(et){var tt=et.getTimezoneOffset();return(tt>0?"-":(tt*=-1,"+"))+pad(tt/60|0,"0",2)+pad(tt%60,"0",2)}function formatUTCDayOfMonth(et,tt){return pad(et.getUTCDate(),tt,2)}function formatUTCHour24(et,tt){return pad(et.getUTCHours(),tt,2)}function formatUTCHour12(et,tt){return pad(et.getUTCHours()%12||12,tt,2)}function formatUTCDayOfYear(et,tt){return pad(1+utcDay.count(utcYear(et),et),tt,3)}function formatUTCMilliseconds(et,tt){return pad(et.getUTCMilliseconds(),tt,3)}function formatUTCMicroseconds(et,tt){return formatUTCMilliseconds(et,tt)+"000"}function formatUTCMonthNumber(et,tt){return pad(et.getUTCMonth()+1,tt,2)}function formatUTCMinutes(et,tt){return pad(et.getUTCMinutes(),tt,2)}function formatUTCSeconds(et,tt){return pad(et.getUTCSeconds(),tt,2)}function formatUTCWeekdayNumberMonday(et){var tt=et.getUTCDay();return tt===0?7:tt}function formatUTCWeekNumberSunday(et,tt){return pad(utcSunday.count(utcYear(et)-1,et),tt,2)}function UTCdISO(et){var tt=et.getUTCDay();return tt>=4||tt===0?utcThursday(et):utcThursday.ceil(et)}function formatUTCWeekNumberISO(et,tt){return et=UTCdISO(et),pad(utcThursday.count(utcYear(et),et)+(utcYear(et).getUTCDay()===4),tt,2)}function formatUTCWeekdayNumberSunday(et){return et.getUTCDay()}function formatUTCWeekNumberMonday(et,tt){return pad(utcMonday.count(utcYear(et)-1,et),tt,2)}function formatUTCYear(et,tt){return pad(et.getUTCFullYear()%100,tt,2)}function formatUTCYearISO(et,tt){return et=UTCdISO(et),pad(et.getUTCFullYear()%100,tt,2)}function formatUTCFullYear(et,tt){return pad(et.getUTCFullYear()%1e4,tt,4)}function formatUTCFullYearISO(et,tt){var rt=et.getUTCDay();return et=rt>=4||rt===0?utcThursday(et):utcThursday.ceil(et),pad(et.getUTCFullYear()%1e4,tt,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(et){return+et}function formatUnixTimestampSeconds(et){return Math.floor(+et/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(et){return locale=formatLocale(et),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(et){return new Date(et)}function number(et){return et instanceof Date?+et:+new Date(+et)}function calendar(et,tt,rt,nt,at,it,st,ot,lt,ct){var ut=continuous(),dt=ut.invert,ft=ut.domain,ht=ct(".%L"),gt=ct(":%S"),mt=ct("%I:%M"),xt=ct("%I %p"),vt=ct("%a %d"),_t=ct("%b %d"),yt=ct("%B"),St=ct("%Y");function bt(Et){return(lt(Et)<Et?ht:ot(Et)<Et?gt:st(Et)<Et?mt:it(Et)<Et?xt:nt(Et)<Et?at(Et)<Et?vt:_t:rt(Et)<Et?yt:St)(Et)}return ut.invert=function(Et){return new Date(dt(Et))},ut.domain=function(Et){return arguments.length?ft(Array.from(Et,number)):ft().map(date)},ut.ticks=function(Et){var Tt=ft();return et(Tt[0],Tt[Tt.length-1],Et??10)},ut.tickFormat=function(Et,Tt){return Tt==null?bt:ct(Tt)},ut.nice=function(Et){var Tt=ft();return(!Et||typeof Et.range!="function")&&(Et=tt(Tt[0],Tt[Tt.length-1],Et??10)),Et?ft(nice(Tt,Et)):ut},ut.copy=function(){return copy$1(ut,calendar(et,tt,rt,nt,at,it,st,ot,lt,ct))},ut}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var et=0,tt=1,rt,nt,at,it,st=identity$6,ot=!1,lt;function ct(dt){return dt==null||isNaN(dt=+dt)?lt:st(at===0?.5:(dt=(it(dt)-rt)*at,ot?Math.max(0,Math.min(1,dt)):dt))}ct.domain=function(dt){return arguments.length?([et,tt]=dt,rt=it(et=+et),nt=it(tt=+tt),at=rt===nt?0:1/(nt-rt),ct):[et,tt]},ct.clamp=function(dt){return arguments.length?(ot=!!dt,ct):ot},ct.interpolator=function(dt){return arguments.length?(st=dt,ct):st};function ut(dt){return function(ft){var ht,gt;return arguments.length?([ht,gt]=ft,st=dt(ht,gt),ct):[st(0),st(1)]}}return ct.range=ut(interpolate),ct.rangeRound=ut(interpolateRound),ct.unknown=function(dt){return arguments.length?(lt=dt,ct):lt},function(dt){return it=dt,rt=dt(et),nt=dt(tt),at=rt===nt?0:1/(nt-rt),ct}}function copy(et,tt){return tt.domain(et.domain()).interpolator(et.interpolator()).clamp(et.clamp()).unknown(et.unknown())}function sequential(){var et=linearish(transformer$1()(identity$6));return et.copy=function(){return copy(et,sequential())},initInterpolator.apply(et,arguments)}function sequentialLog(){var et=loggish(transformer$1()).domain([1,10]);return et.copy=function(){return copy(et,sequentialLog()).base(et.base())},initInterpolator.apply(et,arguments)}function sequentialSymlog(){var et=symlogish(transformer$1());return et.copy=function(){return copy(et,sequentialSymlog()).constant(et.constant())},initInterpolator.apply(et,arguments)}function sequentialPow(){var et=powish(transformer$1());return et.copy=function(){return copy(et,sequentialPow()).exponent(et.exponent())},initInterpolator.apply(et,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var et=[],tt=identity$6;function rt(nt){if(nt!=null&&!isNaN(nt=+nt))return tt((bisect(et,nt,1)-1)/(et.length-1))}return rt.domain=function(nt){if(!arguments.length)return et.slice();et=[];for(let at of nt)at!=null&&!isNaN(at=+at)&&et.push(at);return et.sort(ascending),rt},rt.interpolator=function(nt){return arguments.length?(tt=nt,rt):tt},rt.range=function(){return et.map((nt,at)=>tt(at/(et.length-1)))},rt.quantiles=function(nt){return Array.from({length:nt+1},(at,it)=>quantile$1(et,it/nt))},rt.copy=function(){return sequentialQuantile(tt).domain(et)},initInterpolator.apply(rt,arguments)}function transformer(){var et=0,tt=.5,rt=1,nt=1,at,it,st,ot,lt,ct=identity$6,ut,dt=!1,ft;function ht(mt){return isNaN(mt=+mt)?ft:(mt=.5+((mt=+ut(mt))-it)*(nt*mt<nt*it?ot:lt),ct(dt?Math.max(0,Math.min(1,mt)):mt))}ht.domain=function(mt){return arguments.length?([et,tt,rt]=mt,at=ut(et=+et),it=ut(tt=+tt),st=ut(rt=+rt),ot=at===it?0:.5/(it-at),lt=it===st?0:.5/(st-it),nt=it<at?-1:1,ht):[et,tt,rt]},ht.clamp=function(mt){return arguments.length?(dt=!!mt,ht):dt},ht.interpolator=function(mt){return arguments.length?(ct=mt,ht):ct};function gt(mt){return function(xt){var vt,_t,yt;return arguments.length?([vt,_t,yt]=xt,ct=piecewise(mt,[vt,_t,yt]),ht):[ct(0),ct(.5),ct(1)]}}return ht.range=gt(interpolate),ht.rangeRound=gt(interpolateRound),ht.unknown=function(mt){return arguments.length?(ft=mt,ht):ft},function(mt){return ut=mt,at=mt(et),it=mt(tt),st=mt(rt),ot=at===it?0:.5/(it-at),lt=it===st?0:.5/(st-it),nt=it<at?-1:1,ht}}function diverging(){var et=linearish(transformer()(identity$6));return et.copy=function(){return copy(et,diverging())},initInterpolator.apply(et,arguments)}function divergingLog(){var et=loggish(transformer()).domain([.1,1,10]);return et.copy=function(){return copy(et,divergingLog()).base(et.base())},initInterpolator.apply(et,arguments)}function divergingSymlog(){var et=symlogish(transformer());return et.copy=function(){return copy(et,divergingSymlog()).constant(et.constant())},initInterpolator.apply(et,arguments)}function divergingPow(){var et=powish(transformer());return et.copy=function(){return copy(et,divergingPow()).exponent(et.exponent())},initInterpolator.apply(et,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$4,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var isSymbol=isSymbol_1;function baseExtremum$4(et,tt,rt){for(var nt=-1,at=et.length;++nt<at;){var it=et[nt],st=tt(it);if(st!=null&&(ot===void 0?st===st&&!isSymbol(st):rt(st,ot)))var ot=st,lt=it}return lt}var _baseExtremum=baseExtremum$4;function baseGt$2(et,tt){return et>tt}var _baseGt=baseGt$2,baseExtremum$3=_baseExtremum,baseGt$1=_baseGt,identity$3=identity_1;function max(et){return et&&et.length?baseExtremum$3(et,identity$3,baseGt$1):void 0}var max_1=max;const max$1=getDefaultExportFromCjs(max_1);function baseLt$2(et,tt){return et<tt}var _baseLt=baseLt$2,baseExtremum$2=_baseExtremum,baseLt$1=_baseLt,identity$2=identity_1;function min(et){return et&&et.length?baseExtremum$2(et,identity$2,baseLt$1):void 0}var min_1=min;const min$1=getDefaultExportFromCjs(min_1);var arrayMap=_arrayMap,baseIteratee$5=_baseIteratee,baseMap=_baseMap,isArray$2=isArray_1;function map$2(et,tt){var rt=isArray$2(et)?arrayMap:baseMap;return rt(et,baseIteratee$5(tt))}var map_1=map$2,baseFlatten=_baseFlatten,map$1=map_1;function flatMap(et,tt){return baseFlatten(map$1(et,tt),1)}var flatMap_1=flatMap;const flatMap$1=getDefaultExportFromCjs(flatMap_1);var baseIsEqual=_baseIsEqual;function isEqual(et,tt){return baseIsEqual(et,tt)}var isEqual_1=isEqual;const isEqual$1=getDefaultExportFromCjs(isEqual_1);var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P$1={};P$1.absoluteValue=P$1.abs=function(){var et=new this.constructor(this);return et.s&&(et.s=1),et};P$1.comparedTo=P$1.cmp=function(et){var tt,rt,nt,at,it=this;if(et=new it.constructor(et),it.s!==et.s)return it.s||-et.s;if(it.e!==et.e)return it.e>et.e^it.s<0?1:-1;for(nt=it.d.length,at=et.d.length,tt=0,rt=nt<at?nt:at;tt<rt;++tt)if(it.d[tt]!==et.d[tt])return it.d[tt]>et.d[tt]^it.s<0?1:-1;return nt===at?0:nt>at^it.s<0?1:-1};P$1.decimalPlaces=P$1.dp=function(){var et=this,tt=et.d.length-1,rt=(tt-et.e)*LOG_BASE;if(tt=et.d[tt],tt)for(;tt%10==0;tt/=10)rt--;return rt<0?0:rt};P$1.dividedBy=P$1.div=function(et){return divide(this,new this.constructor(et))};P$1.dividedToIntegerBy=P$1.idiv=function(et){var tt=this,rt=tt.constructor;return round(divide(tt,new rt(et),0,1),rt.precision)};P$1.equals=P$1.eq=function(et){return!this.cmp(et)};P$1.exponent=function(){return getBase10Exponent(this)};P$1.greaterThan=P$1.gt=function(et){return this.cmp(et)>0};P$1.greaterThanOrEqualTo=P$1.gte=function(et){return this.cmp(et)>=0};P$1.isInteger=P$1.isint=function(){return this.e>this.d.length-2};P$1.isNegative=P$1.isneg=function(){return this.s<0};P$1.isPositive=P$1.ispos=function(){return this.s>0};P$1.isZero=function(){return this.s===0};P$1.lessThan=P$1.lt=function(et){return this.cmp(et)<0};P$1.lessThanOrEqualTo=P$1.lte=function(et){return this.cmp(et)<1};P$1.logarithm=P$1.log=function(et){var tt,rt=this,nt=rt.constructor,at=nt.precision,it=at+5;if(et===void 0)et=new nt(10);else if(et=new nt(et),et.s<1||et.eq(ONE))throw Error(decimalError+"NaN");if(rt.s<1)throw Error(decimalError+(rt.s?"NaN":"-Infinity"));return rt.eq(ONE)?new nt(0):(external=!1,tt=divide(ln(rt,it),ln(et,it),it),external=!0,round(tt,at))};P$1.minus=P$1.sub=function(et){var tt=this;return et=new tt.constructor(et),tt.s==et.s?subtract(tt,et):add(tt,(et.s=-et.s,et))};P$1.modulo=P$1.mod=function(et){var tt,rt=this,nt=rt.constructor,at=nt.precision;if(et=new nt(et),!et.s)throw Error(decimalError+"NaN");return rt.s?(external=!1,tt=divide(rt,et,0,1).times(et),external=!0,rt.minus(tt)):round(new nt(rt),at)};P$1.naturalExponential=P$1.exp=function(){return exp(this)};P$1.naturalLogarithm=P$1.ln=function(){return ln(this)};P$1.negated=P$1.neg=function(){var et=new this.constructor(this);return et.s=-et.s||0,et};P$1.plus=P$1.add=function(et){var tt=this;return et=new tt.constructor(et),tt.s==et.s?add(tt,et):subtract(tt,(et.s=-et.s,et))};P$1.precision=P$1.sd=function(et){var tt,rt,nt,at=this;if(et!==void 0&&et!==!!et&&et!==1&&et!==0)throw Error(invalidArgument+et);if(tt=getBase10Exponent(at)+1,nt=at.d.length-1,rt=nt*LOG_BASE+1,nt=at.d[nt],nt){for(;nt%10==0;nt/=10)rt--;for(nt=at.d[0];nt>=10;nt/=10)rt++}return et&&tt>rt?tt:rt};P$1.squareRoot=P$1.sqrt=function(){var et,tt,rt,nt,at,it,st,ot=this,lt=ot.constructor;if(ot.s<1){if(!ot.s)return new lt(0);throw Error(decimalError+"NaN")}for(et=getBase10Exponent(ot),external=!1,at=Math.sqrt(+ot),at==0||at==1/0?(tt=digitsToString(ot.d),(tt.length+et)%2==0&&(tt+="0"),at=Math.sqrt(tt),et=mathfloor((et+1)/2)-(et<0||et%2),at==1/0?tt="5e"+et:(tt=at.toExponential(),tt=tt.slice(0,tt.indexOf("e")+1)+et),nt=new lt(tt)):nt=new lt(at.toString()),rt=lt.precision,at=st=rt+3;;)if(it=nt,nt=it.plus(divide(ot,it,st+2)).times(.5),digitsToString(it.d).slice(0,st)===(tt=digitsToString(nt.d)).slice(0,st)){if(tt=tt.slice(st-3,st+1),at==st&&tt=="4999"){if(round(it,rt+1,0),it.times(it).eq(ot)){nt=it;break}}else if(tt!="9999")break;st+=4}return external=!0,round(nt,rt)};P$1.times=P$1.mul=function(et){var tt,rt,nt,at,it,st,ot,lt,ct,ut=this,dt=ut.constructor,ft=ut.d,ht=(et=new dt(et)).d;if(!ut.s||!et.s)return new dt(0);for(et.s*=ut.s,rt=ut.e+et.e,lt=ft.length,ct=ht.length,lt<ct&&(it=ft,ft=ht,ht=it,st=lt,lt=ct,ct=st),it=[],st=lt+ct,nt=st;nt--;)it.push(0);for(nt=ct;--nt>=0;){for(tt=0,at=lt+nt;at>nt;)ot=it[at]+ht[nt]*ft[at-nt-1]+tt,it[at--]=ot%BASE|0,tt=ot/BASE|0;it[at]=(it[at]+tt)%BASE|0}for(;!it[--st];)it.pop();return tt?++rt:it.shift(),et.d=it,et.e=rt,external?round(et,dt.precision):et};P$1.toDecimalPlaces=P$1.todp=function(et,tt){var rt=this,nt=rt.constructor;return rt=new nt(rt),et===void 0?rt:(checkInt32(et,0,MAX_DIGITS),tt===void 0?tt=nt.rounding:checkInt32(tt,0,8),round(rt,et+getBase10Exponent(rt)+1,tt))};P$1.toExponential=function(et,tt){var rt,nt=this,at=nt.constructor;return et===void 0?rt=toString$3(nt,!0):(checkInt32(et,0,MAX_DIGITS),tt===void 0?tt=at.rounding:checkInt32(tt,0,8),nt=round(new at(nt),et+1,tt),rt=toString$3(nt,!0,et+1)),rt};P$1.toFixed=function(et,tt){var rt,nt,at=this,it=at.constructor;return et===void 0?toString$3(at):(checkInt32(et,0,MAX_DIGITS),tt===void 0?tt=it.rounding:checkInt32(tt,0,8),nt=round(new it(at),et+getBase10Exponent(at)+1,tt),rt=toString$3(nt.abs(),!1,et+getBase10Exponent(nt)+1),at.isneg()&&!at.isZero()?"-"+rt:rt)};P$1.toInteger=P$1.toint=function(){var et=this,tt=et.constructor;return round(new tt(et),getBase10Exponent(et)+1,tt.rounding)};P$1.toNumber=function(){return+this};P$1.toPower=P$1.pow=function(et){var tt,rt,nt,at,it,st,ot=this,lt=ot.constructor,ct=12,ut=+(et=new lt(et));if(!et.s)return new lt(ONE);if(ot=new lt(ot),!ot.s){if(et.s<1)throw Error(decimalError+"Infinity");return ot}if(ot.eq(ONE))return ot;if(nt=lt.precision,et.eq(ONE))return round(ot,nt);if(tt=et.e,rt=et.d.length-1,st=tt>=rt,it=ot.s,st){if((rt=ut<0?-ut:ut)<=MAX_SAFE_INTEGER){for(at=new lt(ONE),tt=Math.ceil(nt/LOG_BASE+4),external=!1;rt%2&&(at=at.times(ot),truncate(at.d,tt)),rt=mathfloor(rt/2),rt!==0;)ot=ot.times(ot),truncate(ot.d,tt);return external=!0,et.s<0?new lt(ONE).div(at):round(at,nt)}}else if(it<0)throw Error(decimalError+"NaN");return it=it<0&&et.d[Math.max(tt,rt)]&1?-1:1,ot.s=1,external=!1,at=et.times(ln(ot,nt+ct)),external=!0,at=exp(at),at.s=it,at};P$1.toPrecision=function(et,tt){var rt,nt,at=this,it=at.constructor;return et===void 0?(rt=getBase10Exponent(at),nt=toString$3(at,rt<=it.toExpNeg||rt>=it.toExpPos)):(checkInt32(et,1,MAX_DIGITS),tt===void 0?tt=it.rounding:checkInt32(tt,0,8),at=round(new it(at),et,tt),rt=getBase10Exponent(at),nt=toString$3(at,et<=rt||rt<=it.toExpNeg,et)),nt};P$1.toSignificantDigits=P$1.tosd=function(et,tt){var rt=this,nt=rt.constructor;return et===void 0?(et=nt.precision,tt=nt.rounding):(checkInt32(et,1,MAX_DIGITS),tt===void 0?tt=nt.rounding:checkInt32(tt,0,8)),round(new nt(rt),et,tt)};P$1.toString=P$1.valueOf=P$1.val=P$1.toJSON=P$1[Symbol.for("nodejs.util.inspect.custom")]=function(){var et=this,tt=getBase10Exponent(et),rt=et.constructor;return toString$3(et,tt<=rt.toExpNeg||tt>=rt.toExpPos)};function add(et,tt){var rt,nt,at,it,st,ot,lt,ct,ut=et.constructor,dt=ut.precision;if(!et.s||!tt.s)return tt.s||(tt=new ut(et)),external?round(tt,dt):tt;if(lt=et.d,ct=tt.d,st=et.e,at=tt.e,lt=lt.slice(),it=st-at,it){for(it<0?(nt=lt,it=-it,ot=ct.length):(nt=ct,at=st,ot=lt.length),st=Math.ceil(dt/LOG_BASE),ot=st>ot?st+1:ot+1,it>ot&&(it=ot,nt.length=1),nt.reverse();it--;)nt.push(0);nt.reverse()}for(ot=lt.length,it=ct.length,ot-it<0&&(it=ot,nt=ct,ct=lt,lt=nt),rt=0;it;)rt=(lt[--it]=lt[it]+ct[it]+rt)/BASE|0,lt[it]%=BASE;for(rt&&(lt.unshift(rt),++at),ot=lt.length;lt[--ot]==0;)lt.pop();return tt.d=lt,tt.e=at,external?round(tt,dt):tt}function checkInt32(et,tt,rt){if(et!==~~et||et<tt||et>rt)throw Error(invalidArgument+et)}function digitsToString(et){var tt,rt,nt,at=et.length-1,it="",st=et[0];if(at>0){for(it+=st,tt=1;tt<at;tt++)nt=et[tt]+"",rt=LOG_BASE-nt.length,rt&&(it+=getZeroString(rt)),it+=nt;st=et[tt],nt=st+"",rt=LOG_BASE-nt.length,rt&&(it+=getZeroString(rt))}else if(st===0)return"0";for(;st%10===0;)st/=10;return it+st}var divide=function(){function et(nt,at){var it,st=0,ot=nt.length;for(nt=nt.slice();ot--;)it=nt[ot]*at+st,nt[ot]=it%BASE|0,st=it/BASE|0;return st&&nt.unshift(st),nt}function tt(nt,at,it,st){var ot,lt;if(it!=st)lt=it>st?1:-1;else for(ot=lt=0;ot<it;ot++)if(nt[ot]!=at[ot]){lt=nt[ot]>at[ot]?1:-1;break}return lt}function rt(nt,at,it){for(var st=0;it--;)nt[it]-=st,st=nt[it]<at[it]?1:0,nt[it]=st*BASE+nt[it]-at[it];for(;!nt[0]&&nt.length>1;)nt.shift()}return function(nt,at,it,st){var ot,lt,ct,ut,dt,ft,ht,gt,mt,xt,vt,_t,yt,St,bt,Et,Tt,At,Ct=nt.constructor,kt=nt.s==at.s?1:-1,Pt=nt.d,Dt=at.d;if(!nt.s)return new Ct(nt);if(!at.s)throw Error(decimalError+"Division by zero");for(lt=nt.e-at.e,Tt=Dt.length,bt=Pt.length,ht=new Ct(kt),gt=ht.d=[],ct=0;Dt[ct]==(Pt[ct]||0);)++ct;if(Dt[ct]>(Pt[ct]||0)&&--lt,it==null?_t=it=Ct.precision:st?_t=it+(getBase10Exponent(nt)-getBase10Exponent(at))+1:_t=it,_t<0)return new Ct(0);if(_t=_t/LOG_BASE+2|0,ct=0,Tt==1)for(ut=0,Dt=Dt[0],_t++;(ct<bt||ut)&&_t--;ct++)yt=ut*BASE+(Pt[ct]||0),gt[ct]=yt/Dt|0,ut=yt%Dt|0;else{for(ut=BASE/(Dt[0]+1)|0,ut>1&&(Dt=et(Dt,ut),Pt=et(Pt,ut),Tt=Dt.length,bt=Pt.length),St=Tt,mt=Pt.slice(0,Tt),xt=mt.length;xt<Tt;)mt[xt++]=0;At=Dt.slice(),At.unshift(0),Et=Dt[0],Dt[1]>=BASE/2&&++Et;do ut=0,ot=tt(Dt,mt,Tt,xt),ot<0?(vt=mt[0],Tt!=xt&&(vt=vt*BASE+(mt[1]||0)),ut=vt/Et|0,ut>1?(ut>=BASE&&(ut=BASE-1),dt=et(Dt,ut),ft=dt.length,xt=mt.length,ot=tt(dt,mt,ft,xt),ot==1&&(ut--,rt(dt,Tt<ft?At:Dt,ft))):(ut==0&&(ot=ut=1),dt=Dt.slice()),ft=dt.length,ft<xt&&dt.unshift(0),rt(mt,dt,xt),ot==-1&&(xt=mt.length,ot=tt(Dt,mt,Tt,xt),ot<1&&(ut++,rt(mt,Tt<xt?At:Dt,xt))),xt=mt.length):ot===0&&(ut++,mt=[0]),gt[ct++]=ut,ot&&mt[0]?mt[xt++]=Pt[St]||0:(mt=[Pt[St]],xt=1);while((St++<bt||mt[0]!==void 0)&&_t--)}return gt[0]||gt.shift(),ht.e=lt,round(ht,st?it+getBase10Exponent(ht)+1:it)}}();function exp(et,tt){var rt,nt,at,it,st,ot,lt=0,ct=0,ut=et.constructor,dt=ut.precision;if(getBase10Exponent(et)>16)throw Error(exponentOutOfRange+getBase10Exponent(et));if(!et.s)return new ut(ONE);for(tt==null?(external=!1,ot=dt):ot=tt,st=new ut(.03125);et.abs().gte(.1);)et=et.times(st),ct+=5;for(nt=Math.log(mathpow(2,ct))/Math.LN10*2+5|0,ot+=nt,rt=at=it=new ut(ONE),ut.precision=ot;;){if(at=round(at.times(et),ot),rt=rt.times(++lt),st=it.plus(divide(at,rt,ot)),digitsToString(st.d).slice(0,ot)===digitsToString(it.d).slice(0,ot)){for(;ct--;)it=round(it.times(it),ot);return ut.precision=dt,tt==null?(external=!0,round(it,dt)):it}it=st}}function getBase10Exponent(et){for(var tt=et.e*LOG_BASE,rt=et.d[0];rt>=10;rt/=10)tt++;return tt}function getLn10(et,tt,rt){if(tt>et.LN10.sd())throw external=!0,rt&&(et.precision=rt),Error(decimalError+"LN10 precision limit exceeded");return round(new et(et.LN10),tt)}function getZeroString(et){for(var tt="";et--;)tt+="0";return tt}function ln(et,tt){var rt,nt,at,it,st,ot,lt,ct,ut,dt=1,ft=10,ht=et,gt=ht.d,mt=ht.constructor,xt=mt.precision;if(ht.s<1)throw Error(decimalError+(ht.s?"NaN":"-Infinity"));if(ht.eq(ONE))return new mt(0);if(tt==null?(external=!1,ct=xt):ct=tt,ht.eq(10))return tt==null&&(external=!0),getLn10(mt,ct);if(ct+=ft,mt.precision=ct,rt=digitsToString(gt),nt=rt.charAt(0),it=getBase10Exponent(ht),Math.abs(it)<15e14){for(;nt<7&&nt!=1||nt==1&&rt.charAt(1)>3;)ht=ht.times(et),rt=digitsToString(ht.d),nt=rt.charAt(0),dt++;it=getBase10Exponent(ht),nt>1?(ht=new mt("0."+rt),it++):ht=new mt(nt+"."+rt.slice(1))}else return lt=getLn10(mt,ct+2,xt).times(it+""),ht=ln(new mt(nt+"."+rt.slice(1)),ct-ft).plus(lt),mt.precision=xt,tt==null?(external=!0,round(ht,xt)):ht;for(ot=st=ht=divide(ht.minus(ONE),ht.plus(ONE),ct),ut=round(ht.times(ht),ct),at=3;;){if(st=round(st.times(ut),ct),lt=ot.plus(divide(st,new mt(at),ct)),digitsToString(lt.d).slice(0,ct)===digitsToString(ot.d).slice(0,ct))return ot=ot.times(2),it!==0&&(ot=ot.plus(getLn10(mt,ct+2,xt).times(it+""))),ot=divide(ot,new mt(dt),ct),mt.precision=xt,tt==null?(external=!0,round(ot,xt)):ot;ot=lt,at+=2}}function parseDecimal(et,tt){var rt,nt,at;for((rt=tt.indexOf("."))>-1&&(tt=tt.replace(".","")),(nt=tt.search(/e/i))>0?(rt<0&&(rt=nt),rt+=+tt.slice(nt+1),tt=tt.substring(0,nt)):rt<0&&(rt=tt.length),nt=0;tt.charCodeAt(nt)===48;)++nt;for(at=tt.length;tt.charCodeAt(at-1)===48;)--at;if(tt=tt.slice(nt,at),tt){if(at-=nt,rt=rt-nt-1,et.e=mathfloor(rt/LOG_BASE),et.d=[],nt=(rt+1)%LOG_BASE,rt<0&&(nt+=LOG_BASE),nt<at){for(nt&&et.d.push(+tt.slice(0,nt)),at-=LOG_BASE;nt<at;)et.d.push(+tt.slice(nt,nt+=LOG_BASE));tt=tt.slice(nt),nt=LOG_BASE-tt.length}else nt-=at;for(;nt--;)tt+="0";if(et.d.push(+tt),external&&(et.e>MAX_E||et.e<-MAX_E))throw Error(exponentOutOfRange+rt)}else et.s=0,et.e=0,et.d=[0];return et}function round(et,tt,rt){var nt,at,it,st,ot,lt,ct,ut,dt=et.d;for(st=1,it=dt[0];it>=10;it/=10)st++;if(nt=tt-st,nt<0)nt+=LOG_BASE,at=tt,ct=dt[ut=0];else{if(ut=Math.ceil((nt+1)/LOG_BASE),it=dt.length,ut>=it)return et;for(ct=it=dt[ut],st=1;it>=10;it/=10)st++;nt%=LOG_BASE,at=nt-LOG_BASE+st}if(rt!==void 0&&(it=mathpow(10,st-at-1),ot=ct/it%10|0,lt=tt<0||dt[ut+1]!==void 0||ct%it,lt=rt<4?(ot||lt)&&(rt==0||rt==(et.s<0?3:2)):ot>5||ot==5&&(rt==4||lt||rt==6&&(nt>0?at>0?ct/mathpow(10,st-at):0:dt[ut-1])%10&1||rt==(et.s<0?8:7))),tt<1||!dt[0])return lt?(it=getBase10Exponent(et),dt.length=1,tt=tt-it-1,dt[0]=mathpow(10,(LOG_BASE-tt%LOG_BASE)%LOG_BASE),et.e=mathfloor(-tt/LOG_BASE)||0):(dt.length=1,dt[0]=et.e=et.s=0),et;if(nt==0?(dt.length=ut,it=1,ut--):(dt.length=ut+1,it=mathpow(10,LOG_BASE-nt),dt[ut]=at>0?(ct/mathpow(10,st-at)%mathpow(10,at)|0)*it:0),lt)for(;;)if(ut==0){(dt[0]+=it)==BASE&&(dt[0]=1,++et.e);break}else{if(dt[ut]+=it,dt[ut]!=BASE)break;dt[ut--]=0,it=1}for(nt=dt.length;dt[--nt]===0;)dt.pop();if(external&&(et.e>MAX_E||et.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(et));return et}function subtract(et,tt){var rt,nt,at,it,st,ot,lt,ct,ut,dt,ft=et.constructor,ht=ft.precision;if(!et.s||!tt.s)return tt.s?tt.s=-tt.s:tt=new ft(et),external?round(tt,ht):tt;if(lt=et.d,dt=tt.d,nt=tt.e,ct=et.e,lt=lt.slice(),st=ct-nt,st){for(ut=st<0,ut?(rt=lt,st=-st,ot=dt.length):(rt=dt,nt=ct,ot=lt.length),at=Math.max(Math.ceil(ht/LOG_BASE),ot)+2,st>at&&(st=at,rt.length=1),rt.reverse(),at=st;at--;)rt.push(0);rt.reverse()}else{for(at=lt.length,ot=dt.length,ut=at<ot,ut&&(ot=at),at=0;at<ot;at++)if(lt[at]!=dt[at]){ut=lt[at]<dt[at];break}st=0}for(ut&&(rt=lt,lt=dt,dt=rt,tt.s=-tt.s),ot=lt.length,at=dt.length-ot;at>0;--at)lt[ot++]=0;for(at=dt.length;at>st;){if(lt[--at]<dt[at]){for(it=at;it&&lt[--it]===0;)lt[it]=BASE-1;--lt[it],lt[at]+=BASE}lt[at]-=dt[at]}for(;lt[--ot]===0;)lt.pop();for(;lt[0]===0;lt.shift())--nt;return lt[0]?(tt.d=lt,tt.e=nt,external?round(tt,ht):tt):new ft(0)}function toString$3(et,tt,rt){var nt,at=getBase10Exponent(et),it=digitsToString(et.d),st=it.length;return tt?(rt&&(nt=rt-st)>0?it=it.charAt(0)+"."+it.slice(1)+getZeroString(nt):st>1&&(it=it.charAt(0)+"."+it.slice(1)),it=it+(at<0?"e":"e+")+at):at<0?(it="0."+getZeroString(-at-1)+it,rt&&(nt=rt-st)>0&&(it+=getZeroString(nt))):at>=st?(it+=getZeroString(at+1-st),rt&&(nt=rt-at-1)>0&&(it=it+"."+getZeroString(nt))):((nt=at+1)<st&&(it=it.slice(0,nt)+"."+it.slice(nt)),rt&&(nt=rt-st)>0&&(at+1===st&&(it+="."),it+=getZeroString(nt))),et.s<0?"-"+it:it}function truncate(et,tt){if(et.length>tt)return et.length=tt,!0}function clone(et){var tt,rt,nt;function at(it){var st=this;if(!(st instanceof at))return new at(it);if(st.constructor=at,it instanceof at){st.s=it.s,st.e=it.e,st.d=(it=it.d)?it.slice():it;return}if(typeof it=="number"){if(it*0!==0)throw Error(invalidArgument+it);if(it>0)st.s=1;else if(it<0)it=-it,st.s=-1;else{st.s=0,st.e=0,st.d=[0];return}if(it===~~it&&it<1e7){st.e=0,st.d=[it];return}return parseDecimal(st,it.toString())}else if(typeof it!="string")throw Error(invalidArgument+it);if(it.charCodeAt(0)===45?(it=it.slice(1),st.s=-1):st.s=1,isDecimal.test(it))parseDecimal(st,it);else throw Error(invalidArgument+it)}if(at.prototype=P$1,at.ROUND_UP=0,at.ROUND_DOWN=1,at.ROUND_CEIL=2,at.ROUND_FLOOR=3,at.ROUND_HALF_UP=4,at.ROUND_HALF_DOWN=5,at.ROUND_HALF_EVEN=6,at.ROUND_HALF_CEIL=7,at.ROUND_HALF_FLOOR=8,at.clone=clone,at.config=at.set=config,et===void 0&&(et={}),et)for(nt=["precision","rounding","toExpNeg","toExpPos","LN10"],tt=0;tt<nt.length;)et.hasOwnProperty(rt=nt[tt++])||(et[rt]=this[rt]);return at.config(et),at}function config(et){if(!et||typeof et!="object")throw Error(decimalError+"Object expected");var tt,rt,nt,at=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(tt=0;tt<at.length;tt+=3)if((nt=et[rt=at[tt]])!==void 0)if(mathfloor(nt)===nt&&nt>=at[tt+1]&&nt<=at[tt+2])this[rt]=nt;else throw Error(invalidArgument+rt+": "+nt);if((nt=et[rt="LN10"])!==void 0)if(nt==Math.LN10)this[rt]=new this(nt);else throw Error(invalidArgument+rt+": "+nt);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;function _toConsumableArray$a(et){return _arrayWithoutHoles$a(et)||_iterableToArray$b(et)||_unsupportedIterableToArray$g(et)||_nonIterableSpread$a()}function _nonIterableSpread$a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$g(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$g(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$g(et,tt)}}function _iterableToArray$b(et){if(typeof Symbol<"u"&&Symbol.iterator in Object(et))return Array.from(et)}function _arrayWithoutHoles$a(et){if(Array.isArray(et))return _arrayLikeToArray$g(et)}function _arrayLikeToArray$g(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}var identity$1=function(tt){return tt},PLACE_HOLDER={"@@functional/placeholder":!0},isPlaceHolder=function(tt){return tt===PLACE_HOLDER},curry0=function(tt){return function rt(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?rt:tt.apply(void 0,arguments)}},curryN=function et(tt,rt){return tt===1?rt:curry0(function(){for(var nt=arguments.length,at=new Array(nt),it=0;it<nt;it++)at[it]=arguments[it];var st=at.filter(function(ot){return ot!==PLACE_HOLDER}).length;return st>=tt?rt.apply(void 0,at):et(tt-st,curry0(function(){for(var ot=arguments.length,lt=new Array(ot),ct=0;ct<ot;ct++)lt[ct]=arguments[ct];var ut=at.map(function(dt){return isPlaceHolder(dt)?lt.shift():dt});return rt.apply(void 0,_toConsumableArray$a(ut).concat(lt))}))})},curry=function(tt){return curryN(tt.length,tt)},range$3=function(tt,rt){for(var nt=[],at=tt;at<rt;++at)nt[at-tt]=at;return nt},map=curry(function(et,tt){return Array.isArray(tt)?tt.map(et):Object.keys(tt).map(function(rt){return tt[rt]}).map(et)}),compose=function(){for(var tt=arguments.length,rt=new Array(tt),nt=0;nt<tt;nt++)rt[nt]=arguments[nt];if(!rt.length)return identity$1;var at=rt.reverse(),it=at[0],st=at.slice(1);return function(){return st.reduce(function(ot,lt){return lt(ot)},it.apply(void 0,arguments))}},reverse=function(tt){return Array.isArray(tt)?tt.reverse():tt.split("").reverse.join("")},memoize=function(tt){var rt=null,nt=null;return function(){for(var at=arguments.length,it=new Array(at),st=0;st<at;st++)it[st]=arguments[st];return rt&&it.every(function(ot,lt){return ot===rt[lt]})||(rt=it,nt=tt.apply(void 0,it)),nt}};function getDigitCount(et){var tt;return et===0?tt=1:tt=Math.floor(new Decimal$1(et).abs().log(10).toNumber())+1,tt}function rangeStep(et,tt,rt){for(var nt=new Decimal$1(et),at=0,it=[];nt.lt(tt)&&at<1e5;)it.push(nt.toNumber()),nt=nt.add(rt),at++;return it}var interpolateNumber=curry(function(et,tt,rt){var nt=+et,at=+tt;return nt+rt*(at-nt)}),uninterpolateNumber=curry(function(et,tt,rt){var nt=tt-+et;return nt=nt||1/0,(rt-et)/nt}),uninterpolateTruncation=curry(function(et,tt,rt){var nt=tt-+et;return nt=nt||1/0,Math.max(0,Math.min(1,(rt-et)/nt))});const Arithmetic={rangeStep,getDigitCount,interpolateNumber,uninterpolateNumber,uninterpolateTruncation};function _toConsumableArray$9(et){return _arrayWithoutHoles$9(et)||_iterableToArray$a(et)||_unsupportedIterableToArray$f(et)||_nonIterableSpread$9()}function _nonIterableSpread$9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$a(et){if(typeof Symbol<"u"&&Symbol.iterator in Object(et))return Array.from(et)}function _arrayWithoutHoles$9(et){if(Array.isArray(et))return _arrayLikeToArray$f(et)}function _slicedToArray$8(et,tt){return _arrayWithHoles$9(et)||_iterableToArrayLimit$8(et,tt)||_unsupportedIterableToArray$f(et,tt)||_nonIterableRest$9()}function _nonIterableRest$9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$f(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$f(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$f(et,tt)}}function _arrayLikeToArray$f(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$8(et,tt){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(et)))){var rt=[],nt=!0,at=!1,it=void 0;try{for(var st=et[Symbol.iterator](),ot;!(nt=(ot=st.next()).done)&&(rt.push(ot.value),!(tt&&rt.length===tt));nt=!0);}catch(lt){at=!0,it=lt}finally{try{!nt&&st.return!=null&&st.return()}finally{if(at)throw it}}return rt}}function _arrayWithHoles$9(et){if(Array.isArray(et))return et}function getValidInterval(et){var tt=_slicedToArray$8(et,2),rt=tt[0],nt=tt[1],at=rt,it=nt;return rt>nt&&(at=nt,it=rt),[at,it]}function getFormatStep(et,tt,rt){if(et.lte(0))return new Decimal$1(0);var nt=Arithmetic.getDigitCount(et.toNumber()),at=new Decimal$1(10).pow(nt),it=et.div(at),st=nt!==1?.05:.1,ot=new Decimal$1(Math.ceil(it.div(st).toNumber())).add(rt).mul(st),lt=ot.mul(at);return tt?lt:new Decimal$1(Math.ceil(lt))}function getTickOfSingleValue(et,tt,rt){var nt=1,at=new Decimal$1(et);if(!at.isint()&&rt){var it=Math.abs(et);it<1?(nt=new Decimal$1(10).pow(Arithmetic.getDigitCount(et)-1),at=new Decimal$1(Math.floor(at.div(nt).toNumber())).mul(nt)):it>1&&(at=new Decimal$1(Math.floor(et)))}else et===0?at=new Decimal$1(Math.floor((tt-1)/2)):rt||(at=new Decimal$1(Math.floor(et)));var st=Math.floor((tt-1)/2),ot=compose(map(function(lt){return at.add(new Decimal$1(lt-st).mul(nt)).toNumber()}),range$3);return ot(0,tt)}function calculateStep(et,tt,rt,nt){var at=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((tt-et)/(rt-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var it=getFormatStep(new Decimal$1(tt).sub(et).div(rt-1),nt,at),st;et<=0&&tt>=0?st=new Decimal$1(0):(st=new Decimal$1(et).add(tt).div(2),st=st.sub(new Decimal$1(st).mod(it)));var ot=Math.ceil(st.sub(et).div(it).toNumber()),lt=Math.ceil(new Decimal$1(tt).sub(st).div(it).toNumber()),ct=ot+lt+1;return ct>rt?calculateStep(et,tt,rt,nt,at+1):(ct<rt&&(lt=tt>0?lt+(rt-ct):lt,ot=tt>0?ot:ot+(rt-ct)),{step:it,tickMin:st.sub(new Decimal$1(ot).mul(it)),tickMax:st.add(new Decimal$1(lt).mul(it))})}function getNiceTickValuesFn(et){var tt=_slicedToArray$8(et,2),rt=tt[0],nt=tt[1],at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,it=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,st=Math.max(at,2),ot=getValidInterval([rt,nt]),lt=_slicedToArray$8(ot,2),ct=lt[0],ut=lt[1];if(ct===-1/0||ut===1/0){var dt=ut===1/0?[ct].concat(_toConsumableArray$9(range$3(0,at-1).map(function(){return 1/0}))):[].concat(_toConsumableArray$9(range$3(0,at-1).map(function(){return-1/0})),[ut]);return rt>nt?reverse(dt):dt}if(ct===ut)return getTickOfSingleValue(ct,at,it);var ft=calculateStep(ct,ut,st,it),ht=ft.step,gt=ft.tickMin,mt=ft.tickMax,xt=Arithmetic.rangeStep(gt,mt.add(new Decimal$1(.1).mul(ht)),ht);return rt>nt?reverse(xt):xt}function getTickValuesFixedDomainFn(et,tt){var rt=_slicedToArray$8(et,2),nt=rt[0],at=rt[1],it=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,st=getValidInterval([nt,at]),ot=_slicedToArray$8(st,2),lt=ot[0],ct=ot[1];if(lt===-1/0||ct===1/0)return[nt,at];if(lt===ct)return[lt];var ut=Math.max(tt,2),dt=getFormatStep(new Decimal$1(ct).sub(lt).div(ut-1),it,0),ft=[].concat(_toConsumableArray$9(Arithmetic.rangeStep(new Decimal$1(lt),new Decimal$1(ct).sub(new Decimal$1(.99).mul(dt)),dt)),[ct]);return nt>at?reverse(ft):ft}var getNiceTickValues=memoize(getNiceTickValuesFn),getTickValuesFixedDomain=memoize(getTickValuesFixedDomainFn),isProduction=!0,prefix="Invariant failed";function invariant(et,tt){if(!et){if(isProduction)throw new Error(prefix);var rt=typeof tt=="function"?tt():tt,nt=rt?"".concat(prefix,": ").concat(rt):prefix;throw new Error(nt)}}var _excluded$8=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _typeof$r(et){"@babel/helpers - typeof";return _typeof$r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$r(et)}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$j.apply(this,arguments)}function _slicedToArray$7(et,tt){return _arrayWithHoles$8(et)||_iterableToArrayLimit$7(et,tt)||_unsupportedIterableToArray$e(et,tt)||_nonIterableRest$8()}function _nonIterableRest$8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$e(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$e(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$e(et,tt)}}function _arrayLikeToArray$e(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$7(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,at,it,st,ot=[],lt=!0,ct=!1;try{if(it=(rt=rt.call(et)).next,tt===0){if(Object(rt)!==rt)return;lt=!1}else for(;!(lt=(nt=it.call(rt)).done)&&(ot.push(nt.value),ot.length!==tt);lt=!0);}catch(ut){ct=!0,at=ut}finally{try{if(!lt&&rt.return!=null&&(st=rt.return(),Object(st)!==st))return}finally{if(ct)throw at}}return ot}}function _arrayWithHoles$8(et){if(Array.isArray(et))return et}function _objectWithoutProperties$8(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$8(et,tt),nt,at;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(et);for(at=0;at<it.length;at++)nt=it[at],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$8(et,tt){if(et==null)return{};var rt={};for(var nt in et)if(Object.prototype.hasOwnProperty.call(et,nt)){if(tt.indexOf(nt)>=0)continue;rt[nt]=et[nt]}return rt}function _classCallCheck$b(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$q(nt.key),nt)}}function _createClass$b(et,tt,rt){return tt&&_defineProperties$b(et.prototype,tt),rt&&_defineProperties$b(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper$8(et,tt,rt){return tt=_getPrototypeOf$9(tt),_possibleConstructorReturn$9(et,_isNativeReflectConstruct$9()?Reflect.construct(tt,rt||[],_getPrototypeOf$9(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn$9(et,tt){if(tt&&(_typeof$r(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$9(et)}function _assertThisInitialized$9(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct$9(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$9=function(){return!!et})()}function _getPrototypeOf$9(et){return _getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$9(et)}function _inherits$9(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$9(et,tt)}function _setPrototypeOf$9(et,tt){return _setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,at){return nt.__proto__=at,nt},_setPrototypeOf$9(et,tt)}function _defineProperty$q(et,tt,rt){return tt=_toPropertyKey$q(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$q(et){var tt=_toPrimitive$q(et,"string");return _typeof$r(tt)=="symbol"?tt:tt+""}function _toPrimitive$q(et,tt){if(_typeof$r(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$r(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var ErrorBar=function(et){function tt(){return _classCallCheck$b(this,tt),_callSuper$8(this,tt,arguments)}return _inherits$9(tt,et),_createClass$b(tt,[{key:"render",value:function(){var nt=this.props,at=nt.offset,it=nt.layout,st=nt.width,ot=nt.dataKey,lt=nt.data,ct=nt.dataPointFormatter,ut=nt.xAxis,dt=nt.yAxis,ft=_objectWithoutProperties$8(nt,_excluded$8),ht=filterProps(ft,!1);this.props.direction==="x"&&ut.type!=="number"&&invariant(!1);var gt=lt.map(function(mt){var xt=ct(mt,ot),vt=xt.x,_t=xt.y,yt=xt.value,St=xt.errorVal;if(!St)return null;var bt=[],Et,Tt;if(Array.isArray(St)){var At=_slicedToArray$7(St,2);Et=At[0],Tt=At[1]}else Et=Tt=St;if(it==="vertical"){var Ct=ut.scale,kt=_t+at,Pt=kt+st,Dt=kt-st,Ft=Ct(yt-Et),Ot=Ct(yt+Tt);bt.push({x1:Ot,y1:Pt,x2:Ot,y2:Dt}),bt.push({x1:Ft,y1:kt,x2:Ot,y2:kt}),bt.push({x1:Ft,y1:Pt,x2:Ft,y2:Dt})}else if(it==="horizontal"){var It=dt.scale,Bt=vt+at,qt=Bt-st,Ut=Bt+st,Ht=It(yt-Et),Qt=It(yt+Tt);bt.push({x1:qt,y1:Qt,x2:Ut,y2:Qt}),bt.push({x1:Bt,y1:Ht,x2:Bt,y2:Qt}),bt.push({x1:qt,y1:Ht,x2:Ut,y2:Ht})}return React$1.createElement(Layer,_extends$j({className:"recharts-errorBar",key:"bar-".concat(bt.map(function(ir){return"".concat(ir.x1,"-").concat(ir.x2,"-").concat(ir.y1,"-").concat(ir.y2)}))},ht),bt.map(function(ir){return React$1.createElement("line",_extends$j({},ir,{key:"line-".concat(ir.x1,"-").concat(ir.x2,"-").concat(ir.y1,"-").concat(ir.y2)}))}))});return React$1.createElement(Layer,{className:"recharts-errorBars"},gt)}}])}(React$1.Component);_defineProperty$q(ErrorBar,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_defineProperty$q(ErrorBar,"displayName","ErrorBar");function _typeof$q(et){"@babel/helpers - typeof";return _typeof$q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$q(et)}function ownKeys$o(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$o(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$o(Object(rt),!0).forEach(function(nt){_defineProperty$p(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$o(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$p(et,tt,rt){return tt=_toPropertyKey$p(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$p(et){var tt=_toPrimitive$p(et,"string");return _typeof$q(tt)=="symbol"?tt:tt+""}function _toPrimitive$p(et,tt){if(_typeof$q(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$q(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var getLegendProps=function(tt){var rt=tt.children,nt=tt.formattedGraphicalItems,at=tt.legendWidth,it=tt.legendContent,st=findChildByType(rt,Legend);if(!st)return null;var ot=Legend.defaultProps,lt=ot!==void 0?_objectSpread$o(_objectSpread$o({},ot),st.props):{},ct;return st.props&&st.props.payload?ct=st.props&&st.props.payload:it==="children"?ct=(nt||[]).reduce(function(ut,dt){var ft=dt.item,ht=dt.props,gt=ht.sectors||ht.data||[];return ut.concat(gt.map(function(mt){return{type:st.props.iconType||ft.props.legendType,value:mt.name,color:mt.fill,payload:mt}}))},[]):ct=(nt||[]).map(function(ut){var dt=ut.item,ft=dt.type.defaultProps,ht=ft!==void 0?_objectSpread$o(_objectSpread$o({},ft),dt.props):{},gt=ht.dataKey,mt=ht.name,xt=ht.legendType,vt=ht.hide;return{inactive:vt,dataKey:gt,type:lt.iconType||xt||"square",color:getMainColorOfGraphicItem(dt),value:mt||gt,payload:ht}}),_objectSpread$o(_objectSpread$o(_objectSpread$o({},lt),Legend.getWithHeight(st,at)),{},{payload:ct,item:st})};function _typeof$p(et){"@babel/helpers - typeof";return _typeof$p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$p(et)}function _toConsumableArray$8(et){return _arrayWithoutHoles$8(et)||_iterableToArray$9(et)||_unsupportedIterableToArray$d(et)||_nonIterableSpread$8()}function _nonIterableSpread$8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$d(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$d(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$d(et,tt)}}function _iterableToArray$9(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function _arrayWithoutHoles$8(et){if(Array.isArray(et))return _arrayLikeToArray$d(et)}function _arrayLikeToArray$d(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function ownKeys$n(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$n(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$n(Object(rt),!0).forEach(function(nt){_defineProperty$o(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$n(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$o(et,tt,rt){return tt=_toPropertyKey$o(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$o(et){var tt=_toPrimitive$o(et,"string");return _typeof$p(tt)=="symbol"?tt:tt+""}function _toPrimitive$o(et,tt){if(_typeof$p(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$p(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function getValueByDataKey(et,tt,rt){return isNil$1(et)||isNil$1(tt)?rt:isNumOrStr(tt)?get$2(et,tt,rt):isFunction$3(tt)?tt(et):rt}function getDomainOfDataByKey(et,tt,rt,nt){var at=flatMap$1(et,function(ot){return getValueByDataKey(ot,tt)});if(rt==="number"){var it=at.filter(function(ot){return isNumber(ot)||parseFloat(ot)});return it.length?[min$1(it),max$1(it)]:[1/0,-1/0]}var st=nt?at.filter(function(ot){return!isNil$1(ot)}):at;return st.map(function(ot){return isNumOrStr(ot)||ot instanceof Date?ot:""})}var calculateActiveTickIndex=function(tt){var rt,nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],at=arguments.length>2?arguments[2]:void 0,it=arguments.length>3?arguments[3]:void 0,st=-1,ot=(rt=nt==null?void 0:nt.length)!==null&&rt!==void 0?rt:0;if(ot<=1)return 0;if(it&&it.axisType==="angleAxis"&&Math.abs(Math.abs(it.range[1]-it.range[0])-360)<=1e-6)for(var lt=it.range,ct=0;ct<ot;ct++){var ut=ct>0?at[ct-1].coordinate:at[ot-1].coordinate,dt=at[ct].coordinate,ft=ct>=ot-1?at[0].coordinate:at[ct+1].coordinate,ht=void 0;if(mathSign(dt-ut)!==mathSign(ft-dt)){var gt=[];if(mathSign(ft-dt)===mathSign(lt[1]-lt[0])){ht=ft;var mt=dt+lt[1]-lt[0];gt[0]=Math.min(mt,(mt+ut)/2),gt[1]=Math.max(mt,(mt+ut)/2)}else{ht=ut;var xt=ft+lt[1]-lt[0];gt[0]=Math.min(dt,(xt+dt)/2),gt[1]=Math.max(dt,(xt+dt)/2)}var vt=[Math.min(dt,(ht+dt)/2),Math.max(dt,(ht+dt)/2)];if(tt>vt[0]&&tt<=vt[1]||tt>=gt[0]&&tt<=gt[1]){st=at[ct].index;break}}else{var _t=Math.min(ut,ft),yt=Math.max(ut,ft);if(tt>(_t+dt)/2&&tt<=(yt+dt)/2){st=at[ct].index;break}}}else for(var St=0;St<ot;St++)if(St===0&&tt<=(nt[St].coordinate+nt[St+1].coordinate)/2||St>0&&St<ot-1&&tt>(nt[St].coordinate+nt[St-1].coordinate)/2&&tt<=(nt[St].coordinate+nt[St+1].coordinate)/2||St===ot-1&&tt>(nt[St].coordinate+nt[St-1].coordinate)/2){st=nt[St].index;break}return st},getMainColorOfGraphicItem=function(tt){var rt,nt=tt,at=nt.type.displayName,it=(rt=tt.type)!==null&&rt!==void 0&&rt.defaultProps?_objectSpread$n(_objectSpread$n({},tt.type.defaultProps),tt.props):tt.props,st=it.stroke,ot=it.fill,lt;switch(at){case"Line":lt=st;break;case"Area":case"Radar":lt=st&&st!=="none"?st:ot;break;default:lt=ot;break}return lt},getBarSizeList=function(tt){var rt=tt.barSize,nt=tt.totalSize,at=tt.stackGroups,it=at===void 0?{}:at;if(!it)return{};for(var st={},ot=Object.keys(it),lt=0,ct=ot.length;lt<ct;lt++)for(var ut=it[ot[lt]].stackGroups,dt=Object.keys(ut),ft=0,ht=dt.length;ft<ht;ft++){var gt=ut[dt[ft]],mt=gt.items,xt=gt.cateAxisId,vt=mt.filter(function(Tt){return getDisplayName(Tt.type).indexOf("Bar")>=0});if(vt&&vt.length){var _t=vt[0].type.defaultProps,yt=_t!==void 0?_objectSpread$n(_objectSpread$n({},_t),vt[0].props):vt[0].props,St=yt.barSize,bt=yt[xt];st[bt]||(st[bt]=[]);var Et=isNil$1(St)?rt:St;st[bt].push({item:vt[0],stackList:vt.slice(1),barSize:isNil$1(Et)?void 0:getPercentValue(Et,nt,0)})}}return st},getBarPosition=function(tt){var rt=tt.barGap,nt=tt.barCategoryGap,at=tt.bandSize,it=tt.sizeList,st=it===void 0?[]:it,ot=tt.maxBarSize,lt=st.length;if(lt<1)return null;var ct=getPercentValue(rt,at,0,!0),ut,dt=[];if(st[0].barSize===+st[0].barSize){var ft=!1,ht=at/lt,gt=st.reduce(function(St,bt){return St+bt.barSize||0},0);gt+=(lt-1)*ct,gt>=at&&(gt-=(lt-1)*ct,ct=0),gt>=at&&ht>0&&(ft=!0,ht*=.9,gt=lt*ht);var mt=(at-gt)/2>>0,xt={offset:mt-ct,size:0};ut=st.reduce(function(St,bt){var Et={item:bt.item,position:{offset:xt.offset+xt.size+ct,size:ft?ht:bt.barSize}},Tt=[].concat(_toConsumableArray$8(St),[Et]);return xt=Tt[Tt.length-1].position,bt.stackList&&bt.stackList.length&&bt.stackList.forEach(function(At){Tt.push({item:At,position:xt})}),Tt},dt)}else{var vt=getPercentValue(nt,at,0,!0);at-2*vt-(lt-1)*ct<=0&&(ct=0);var _t=(at-2*vt-(lt-1)*ct)/lt;_t>1&&(_t>>=0);var yt=ot===+ot?Math.min(_t,ot):_t;ut=st.reduce(function(St,bt,Et){var Tt=[].concat(_toConsumableArray$8(St),[{item:bt.item,position:{offset:vt+(_t+ct)*Et+(_t-yt)/2,size:yt}}]);return bt.stackList&&bt.stackList.length&&bt.stackList.forEach(function(At){Tt.push({item:At,position:Tt[Tt.length-1].position})}),Tt},dt)}return ut},appendOffsetOfLegend=function(tt,rt,nt,at){var it=nt.children,st=nt.width,ot=nt.margin,lt=st-(ot.left||0)-(ot.right||0),ct=getLegendProps({children:it,legendWidth:lt});if(ct){var ut=at||{},dt=ut.width,ft=ut.height,ht=ct.align,gt=ct.verticalAlign,mt=ct.layout;if((mt==="vertical"||mt==="horizontal"&&gt==="middle")&&ht!=="center"&&isNumber(tt[ht]))return _objectSpread$n(_objectSpread$n({},tt),{},_defineProperty$o({},ht,tt[ht]+(dt||0)));if((mt==="horizontal"||mt==="vertical"&&ht==="center")&&gt!=="middle"&&isNumber(tt[gt]))return _objectSpread$n(_objectSpread$n({},tt),{},_defineProperty$o({},gt,tt[gt]+(ft||0)))}return tt},isErrorBarRelevantForAxis=function(tt,rt,nt){return isNil$1(rt)?!0:tt==="horizontal"?rt==="yAxis":tt==="vertical"||nt==="x"?rt==="xAxis":nt==="y"?rt==="yAxis":!0},getDomainOfErrorBars=function(tt,rt,nt,at,it){var st=rt.props.children,ot=findAllByType(st,ErrorBar).filter(function(ct){return isErrorBarRelevantForAxis(at,it,ct.props.direction)});if(ot&&ot.length){var lt=ot.map(function(ct){return ct.props.dataKey});return tt.reduce(function(ct,ut){var dt=getValueByDataKey(ut,nt);if(isNil$1(dt))return ct;var ft=Array.isArray(dt)?[min$1(dt),max$1(dt)]:[dt,dt],ht=lt.reduce(function(gt,mt){var xt=getValueByDataKey(ut,mt,0),vt=ft[0]-Math.abs(Array.isArray(xt)?xt[0]:xt),_t=ft[1]+Math.abs(Array.isArray(xt)?xt[1]:xt);return[Math.min(vt,gt[0]),Math.max(_t,gt[1])]},[1/0,-1/0]);return[Math.min(ht[0],ct[0]),Math.max(ht[1],ct[1])]},[1/0,-1/0])}return null},parseErrorBarsOfAxis=function(tt,rt,nt,at,it){var st=rt.map(function(ot){return getDomainOfErrorBars(tt,ot,nt,it,at)}).filter(function(ot){return!isNil$1(ot)});return st&&st.length?st.reduce(function(ot,lt){return[Math.min(ot[0],lt[0]),Math.max(ot[1],lt[1])]},[1/0,-1/0]):null},getDomainOfItemsWithSameAxis=function(tt,rt,nt,at,it){var st=rt.map(function(lt){var ct=lt.props.dataKey;return nt==="number"&&ct&&getDomainOfErrorBars(tt,lt,ct,at)||getDomainOfDataByKey(tt,ct,nt,it)});if(nt==="number")return st.reduce(function(lt,ct){return[Math.min(lt[0],ct[0]),Math.max(lt[1],ct[1])]},[1/0,-1/0]);var ot={};return st.reduce(function(lt,ct){for(var ut=0,dt=ct.length;ut<dt;ut++)ot[ct[ut]]||(ot[ct[ut]]=!0,lt.push(ct[ut]));return lt},[])},isCategoricalAxis=function(tt,rt){return tt==="horizontal"&&rt==="xAxis"||tt==="vertical"&&rt==="yAxis"||tt==="centric"&&rt==="angleAxis"||tt==="radial"&&rt==="radiusAxis"},getTicksOfAxis=function(tt,rt,nt){if(!tt)return null;var at=tt.scale,it=tt.duplicateDomain,st=tt.type,ot=tt.range,lt=tt.realScaleType==="scaleBand"?at.bandwidth()/2:2,ct=(rt||nt)&&st==="category"&&at.bandwidth?at.bandwidth()/lt:0;if(ct=tt.axisType==="angleAxis"&&(ot==null?void 0:ot.length)>=2?mathSign(ot[0]-ot[1])*2*ct:ct,rt&&(tt.ticks||tt.niceTicks)){var ut=(tt.ticks||tt.niceTicks).map(function(dt){var ft=it?it.indexOf(dt):dt;return{coordinate:at(ft)+ct,value:dt,offset:ct}});return ut.filter(function(dt){return!isNan(dt.coordinate)})}return tt.isCategorical&&tt.categoricalDomain?tt.categoricalDomain.map(function(dt,ft){return{coordinate:at(dt)+ct,value:dt,index:ft,offset:ct}}):at.ticks&&!nt?at.ticks(tt.tickCount).map(function(dt){return{coordinate:at(dt)+ct,value:dt,offset:ct}}):at.domain().map(function(dt,ft){return{coordinate:at(dt)+ct,value:it?it[dt]:dt,index:ft,offset:ct}})},handlerWeakMap=new WeakMap,combineEventHandlers=function(tt,rt){if(typeof rt!="function")return tt;handlerWeakMap.has(tt)||handlerWeakMap.set(tt,new WeakMap);var nt=handlerWeakMap.get(tt);if(nt.has(rt))return nt.get(rt);var at=function(){tt.apply(void 0,arguments),rt.apply(void 0,arguments)};return nt.set(rt,at),at},parseScale=function(tt,rt,nt){var at=tt.scale,it=tt.type,st=tt.layout,ot=tt.axisType;if(at==="auto")return st==="radial"&&ot==="radiusAxis"?{scale:band(),realScaleType:"band"}:st==="radial"&&ot==="angleAxis"?{scale:linear(),realScaleType:"linear"}:it==="category"&&rt&&(rt.indexOf("LineChart")>=0||rt.indexOf("AreaChart")>=0||rt.indexOf("ComposedChart")>=0&&!nt)?{scale:point(),realScaleType:"point"}:it==="category"?{scale:band(),realScaleType:"band"}:{scale:linear(),realScaleType:"linear"};if(isString$2(at)){var lt="scale".concat(upperFirst$1(at));return{scale:(d3Scales[lt]||point)(),realScaleType:d3Scales[lt]?lt:"point"}}return isFunction$3(at)?{scale:at}:{scale:point(),realScaleType:"point"}},EPS=1e-4,checkDomainOfScale=function(tt){var rt=tt.domain();if(!(!rt||rt.length<=2)){var nt=rt.length,at=tt.range(),it=Math.min(at[0],at[1])-EPS,st=Math.max(at[0],at[1])+EPS,ot=tt(rt[0]),lt=tt(rt[nt-1]);(ot<it||ot>st||lt<it||lt>st)&&tt.domain([rt[0],rt[nt-1]])}},offsetSign=function(tt){var rt=tt.length;if(!(rt<=0))for(var nt=0,at=tt[0].length;nt<at;++nt)for(var it=0,st=0,ot=0;ot<rt;++ot){var lt=isNan(tt[ot][nt][1])?tt[ot][nt][0]:tt[ot][nt][1];lt>=0?(tt[ot][nt][0]=it,tt[ot][nt][1]=it+lt,it=tt[ot][nt][1]):(tt[ot][nt][0]=st,tt[ot][nt][1]=st+lt,st=tt[ot][nt][1])}},offsetPositive=function(tt){var rt=tt.length;if(!(rt<=0))for(var nt=0,at=tt[0].length;nt<at;++nt)for(var it=0,st=0;st<rt;++st){var ot=isNan(tt[st][nt][1])?tt[st][nt][0]:tt[st][nt][1];ot>=0?(tt[st][nt][0]=it,tt[st][nt][1]=it+ot,it=tt[st][nt][1]):(tt[st][nt][0]=0,tt[st][nt][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=function(tt,rt,nt){var at=rt.map(function(ot){return ot.props.dataKey}),it=STACK_OFFSET_MAP[nt],st=shapeStack().keys(at).value(function(ot,lt){return+getValueByDataKey(ot,lt,0)}).order(stackOrderNone).offset(it);return st(tt)},getStackGroupsByAxisId=function(tt,rt,nt,at,it,st){if(!tt)return null;var ot=st?rt.reverse():rt,lt={},ct=ot.reduce(function(dt,ft){var ht,gt=(ht=ft.type)!==null&&ht!==void 0&&ht.defaultProps?_objectSpread$n(_objectSpread$n({},ft.type.defaultProps),ft.props):ft.props,mt=gt.stackId,xt=gt.hide;if(xt)return dt;var vt=gt[nt],_t=dt[vt]||{hasStack:!1,stackGroups:{}};if(isNumOrStr(mt)){var yt=_t.stackGroups[mt]||{numericAxisId:nt,cateAxisId:at,items:[]};yt.items.push(ft),_t.hasStack=!0,_t.stackGroups[mt]=yt}else _t.stackGroups[uniqueId("_stackId_")]={numericAxisId:nt,cateAxisId:at,items:[ft]};return _objectSpread$n(_objectSpread$n({},dt),{},_defineProperty$o({},vt,_t))},lt),ut={};return Object.keys(ct).reduce(function(dt,ft){var ht=ct[ft];if(ht.hasStack){var gt={};ht.stackGroups=Object.keys(ht.stackGroups).reduce(function(mt,xt){var vt=ht.stackGroups[xt];return _objectSpread$n(_objectSpread$n({},mt),{},_defineProperty$o({},xt,{numericAxisId:nt,cateAxisId:at,items:vt.items,stackedData:getStackedData(tt,vt.items,it)}))},gt)}return _objectSpread$n(_objectSpread$n({},dt),{},_defineProperty$o({},ft,ht))},ut)},getTicksOfScale=function(tt,rt){var nt=rt.realScaleType,at=rt.type,it=rt.tickCount,st=rt.originalDomain,ot=rt.allowDecimals,lt=nt||rt.scale;if(lt!=="auto"&&lt!=="linear")return null;if(it&&at==="number"&&st&&(st[0]==="auto"||st[1]==="auto")){var ct=tt.domain();if(!ct.length)return null;var ut=getNiceTickValues(ct,it,ot);return tt.domain([min$1(ut),max$1(ut)]),{niceTicks:ut}}if(it&&at==="number"){var dt=tt.domain(),ft=getTickValuesFixedDomain(dt,it,ot);return{niceTicks:ft}}return null},getStackedDataOfItem=function(tt,rt){var nt,at=(nt=tt.type)!==null&&nt!==void 0&&nt.defaultProps?_objectSpread$n(_objectSpread$n({},tt.type.defaultProps),tt.props):tt.props,it=at.stackId;if(isNumOrStr(it)){var st=rt[it];if(st){var ot=st.items.indexOf(tt);return ot>=0?st.stackedData[ot]:null}}return null},getDomainOfSingle=function(tt){return tt.reduce(function(rt,nt){return[min$1(nt.concat([rt[0]]).filter(isNumber)),max$1(nt.concat([rt[1]]).filter(isNumber))]},[1/0,-1/0])},getDomainOfStackGroups=function(tt,rt,nt){return Object.keys(tt).reduce(function(at,it){var st=tt[it],ot=st.stackedData,lt=ot.reduce(function(ct,ut){var dt=getDomainOfSingle(ut.slice(rt,nt+1));return[Math.min(ct[0],dt[0]),Math.max(ct[1],dt[1])]},[1/0,-1/0]);return[Math.min(lt[0],at[0]),Math.max(lt[1],at[1])]},[1/0,-1/0]).map(function(at){return at===1/0||at===-1/0?0:at})},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,parseSpecifiedDomain=function(tt,rt,nt){if(isFunction$3(tt))return tt(rt,nt);if(!Array.isArray(tt))return rt;var at=[];if(isNumber(tt[0]))at[0]=nt?tt[0]:Math.min(tt[0],rt[0]);else if(MIN_VALUE_REG.test(tt[0])){var it=+MIN_VALUE_REG.exec(tt[0])[1];at[0]=rt[0]-it}else isFunction$3(tt[0])?at[0]=tt[0](rt[0]):at[0]=rt[0];if(isNumber(tt[1]))at[1]=nt?tt[1]:Math.max(tt[1],rt[1]);else if(MAX_VALUE_REG.test(tt[1])){var st=+MAX_VALUE_REG.exec(tt[1])[1];at[1]=rt[1]+st}else isFunction$3(tt[1])?at[1]=tt[1](rt[1]):at[1]=rt[1];return at},getBandSizeOfAxis=function(tt,rt,nt){if(tt&&tt.scale&&tt.scale.bandwidth){var at=tt.scale.bandwidth();if(!nt||at>0)return at}if(tt&&rt&&rt.length>=2){for(var it=sortBy$1(rt,function(dt){return dt.coordinate}),st=1/0,ot=1,lt=it.length;ot<lt;ot++){var ct=it[ot],ut=it[ot-1];st=Math.min((ct.coordinate||0)-(ut.coordinate||0),st)}return st===1/0?0:st}return nt?void 0:0},parseDomainOfCategoryAxis=function(tt,rt,nt){return!tt||!tt.length||isEqual$1(tt,get$2(nt,"type.defaultProps.domain"))?rt:tt},getTooltipItem=function(tt,rt){var nt=tt.type.defaultProps?_objectSpread$n(_objectSpread$n({},tt.type.defaultProps),tt.props):tt.props,at=nt.dataKey,it=nt.name,st=nt.unit,ot=nt.formatter,lt=nt.tooltipType,ct=nt.chartType,ut=nt.hide;return _objectSpread$n(_objectSpread$n({},filterProps(tt,!1)),{},{dataKey:at,unit:st,formatter:ot,name:it||at,color:getMainColorOfGraphicItem(tt),value:getValueByDataKey(rt,at),type:lt,payload:rt,chartType:ct,hide:ut})};function _typeof$o(et){"@babel/helpers - typeof";return _typeof$o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$o(et)}function ownKeys$m(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$m(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$m(Object(rt),!0).forEach(function(nt){_defineProperty$n(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$m(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$n(et,tt,rt){return tt=_toPropertyKey$n(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$n(et){var tt=_toPrimitive$n(et,"string");return _typeof$o(tt)=="symbol"?tt:tt+""}function _toPrimitive$n(et,tt){if(_typeof$o(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$o(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _slicedToArray$6(et,tt){return _arrayWithHoles$7(et)||_iterableToArrayLimit$6(et,tt)||_unsupportedIterableToArray$c(et,tt)||_nonIterableRest$7()}function _nonIterableRest$7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$c(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$c(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$c(et,tt)}}function _arrayLikeToArray$c(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$6(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,at,it,st,ot=[],lt=!0,ct=!1;try{if(it=(rt=rt.call(et)).next,tt===0){if(Object(rt)!==rt)return;lt=!1}else for(;!(lt=(nt=it.call(rt)).done)&&(ot.push(nt.value),ot.length!==tt);lt=!0);}catch(ut){ct=!0,at=ut}finally{try{if(!lt&&rt.return!=null&&(st=rt.return(),Object(st)!==st))return}finally{if(ct)throw at}}return ot}}function _arrayWithHoles$7(et){if(Array.isArray(et))return et}var RADIAN$1=Math.PI/180,radianToDegree=function(tt){return tt*180/Math.PI},polarToCartesian=function(tt,rt,nt,at){return{x:tt+Math.cos(-RADIAN$1*at)*nt,y:rt+Math.sin(-RADIAN$1*at)*nt}},getMaxRadius=function(tt,rt){var nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(tt-(nt.left||0)-(nt.right||0)),Math.abs(rt-(nt.top||0)-(nt.bottom||0)))/2},formatAxisMap=function(tt,rt,nt,at,it){var st=tt.width,ot=tt.height,lt=tt.startAngle,ct=tt.endAngle,ut=getPercentValue(tt.cx,st,st/2),dt=getPercentValue(tt.cy,ot,ot/2),ft=getMaxRadius(st,ot,nt),ht=getPercentValue(tt.innerRadius,ft,0),gt=getPercentValue(tt.outerRadius,ft,ft*.8),mt=Object.keys(rt);return mt.reduce(function(xt,vt){var _t=rt[vt],yt=_t.domain,St=_t.reversed,bt;if(isNil$1(_t.range))at==="angleAxis"?bt=[lt,ct]:at==="radiusAxis"&&(bt=[ht,gt]),St&&(bt=[bt[1],bt[0]]);else{bt=_t.range;var Et=bt,Tt=_slicedToArray$6(Et,2);lt=Tt[0],ct=Tt[1]}var At=parseScale(_t,it),Ct=At.realScaleType,kt=At.scale;kt.domain(yt).range(bt),checkDomainOfScale(kt);var Pt=getTicksOfScale(kt,_objectSpread$m(_objectSpread$m({},_t),{},{realScaleType:Ct})),Dt=_objectSpread$m(_objectSpread$m(_objectSpread$m({},_t),Pt),{},{range:bt,radius:gt,realScaleType:Ct,scale:kt,cx:ut,cy:dt,innerRadius:ht,outerRadius:gt,startAngle:lt,endAngle:ct});return _objectSpread$m(_objectSpread$m({},xt),{},_defineProperty$n({},vt,Dt))},{})},distanceBetweenPoints=function(tt,rt){var nt=tt.x,at=tt.y,it=rt.x,st=rt.y;return Math.sqrt(Math.pow(nt-it,2)+Math.pow(at-st,2))},getAngleOfPoint=function(tt,rt){var nt=tt.x,at=tt.y,it=rt.cx,st=rt.cy,ot=distanceBetweenPoints({x:nt,y:at},{x:it,y:st});if(ot<=0)return{radius:ot};var lt=(nt-it)/ot,ct=Math.acos(lt);return at>st&&(ct=2*Math.PI-ct),{radius:ot,angle:radianToDegree(ct),angleInRadian:ct}},formatAngleOfSector=function(tt){var rt=tt.startAngle,nt=tt.endAngle,at=Math.floor(rt/360),it=Math.floor(nt/360),st=Math.min(at,it);return{startAngle:rt-st*360,endAngle:nt-st*360}},reverseFormatAngleOfSetor=function(tt,rt){var nt=rt.startAngle,at=rt.endAngle,it=Math.floor(nt/360),st=Math.floor(at/360),ot=Math.min(it,st);return tt+ot*360},inRangeOfSector=function(tt,rt){var nt=tt.x,at=tt.y,it=getAngleOfPoint({x:nt,y:at},rt),st=it.radius,ot=it.angle,lt=rt.innerRadius,ct=rt.outerRadius;if(st<lt||st>ct)return!1;if(st===0)return!0;var ut=formatAngleOfSector(rt),dt=ut.startAngle,ft=ut.endAngle,ht=ot,gt;if(dt<=ft){for(;ht>ft;)ht-=360;for(;ht<dt;)ht+=360;gt=ht>=dt&&ht<=ft}else{for(;ht>dt;)ht-=360;for(;ht<ft;)ht+=360;gt=ht>=ft&&ht<=dt}return gt?_objectSpread$m(_objectSpread$m({},rt),{},{radius:st,angle:reverseFormatAngleOfSetor(ht,rt)}):null},getTickClassName=function(tt){return!reactExports.isValidElement(tt)&&!isFunction$3(tt)&&typeof tt!="boolean"?tt.className:""};function _typeof$n(et){"@babel/helpers - typeof";return _typeof$n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$n(et)}var _excluded$7=["offset"];function _toConsumableArray$7(et){return _arrayWithoutHoles$7(et)||_iterableToArray$8(et)||_unsupportedIterableToArray$b(et)||_nonIterableSpread$7()}function _nonIterableSpread$7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$b(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$b(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$b(et,tt)}}function _iterableToArray$8(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function _arrayWithoutHoles$7(et){if(Array.isArray(et))return _arrayLikeToArray$b(et)}function _arrayLikeToArray$b(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _objectWithoutProperties$7(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$7(et,tt),nt,at;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(et);for(at=0;at<it.length;at++)nt=it[at],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$7(et,tt){if(et==null)return{};var rt={};for(var nt in et)if(Object.prototype.hasOwnProperty.call(et,nt)){if(tt.indexOf(nt)>=0)continue;rt[nt]=et[nt]}return rt}function ownKeys$l(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$l(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$l(Object(rt),!0).forEach(function(nt){_defineProperty$m(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$l(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$m(et,tt,rt){return tt=_toPropertyKey$m(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$m(et){var tt=_toPrimitive$m(et,"string");return _typeof$n(tt)=="symbol"?tt:tt+""}function _toPrimitive$m(et,tt){if(_typeof$n(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$n(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$i.apply(this,arguments)}var getLabel=function(tt){var rt=tt.value,nt=tt.formatter,at=isNil$1(tt.children)?rt:tt.children;return isFunction$3(nt)?nt(at):at},getDeltaAngle$1=function(tt,rt){var nt=mathSign(rt-tt),at=Math.min(Math.abs(rt-tt),360);return nt*at},renderRadialLabel=function(tt,rt,nt){var at=tt.position,it=tt.viewBox,st=tt.offset,ot=tt.className,lt=it,ct=lt.cx,ut=lt.cy,dt=lt.innerRadius,ft=lt.outerRadius,ht=lt.startAngle,gt=lt.endAngle,mt=lt.clockWise,xt=(dt+ft)/2,vt=getDeltaAngle$1(ht,gt),_t=vt>=0?1:-1,yt,St;at==="insideStart"?(yt=ht+_t*st,St=mt):at==="insideEnd"?(yt=gt-_t*st,St=!mt):at==="end"&&(yt=gt+_t*st,St=mt),St=vt<=0?St:!St;var bt=polarToCartesian(ct,ut,xt,yt),Et=polarToCartesian(ct,ut,xt,yt+(St?1:-1)*359),Tt="M".concat(bt.x,",").concat(bt.y,`
    A`).concat(xt,",").concat(xt,",0,1,").concat(St?0:1,`,
    `).concat(Et.x,",").concat(Et.y),At=isNil$1(tt.id)?uniqueId("recharts-radial-line-"):tt.id;return React$1.createElement("text",_extends$i({},nt,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",ot)}),React$1.createElement("defs",null,React$1.createElement("path",{id:At,d:Tt})),React$1.createElement("textPath",{xlinkHref:"#".concat(At)},rt))},getAttrsOfPolarLabel=function(tt){var rt=tt.viewBox,nt=tt.offset,at=tt.position,it=rt,st=it.cx,ot=it.cy,lt=it.innerRadius,ct=it.outerRadius,ut=it.startAngle,dt=it.endAngle,ft=(ut+dt)/2;if(at==="outside"){var ht=polarToCartesian(st,ot,ct+nt,ft),gt=ht.x,mt=ht.y;return{x:gt,y:mt,textAnchor:gt>=st?"start":"end",verticalAnchor:"middle"}}if(at==="center")return{x:st,y:ot,textAnchor:"middle",verticalAnchor:"middle"};if(at==="centerTop")return{x:st,y:ot,textAnchor:"middle",verticalAnchor:"start"};if(at==="centerBottom")return{x:st,y:ot,textAnchor:"middle",verticalAnchor:"end"};var xt=(lt+ct)/2,vt=polarToCartesian(st,ot,xt,ft),_t=vt.x,yt=vt.y;return{x:_t,y:yt,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=function(tt){var rt=tt.viewBox,nt=tt.parentViewBox,at=tt.offset,it=tt.position,st=rt,ot=st.x,lt=st.y,ct=st.width,ut=st.height,dt=ut>=0?1:-1,ft=dt*at,ht=dt>0?"end":"start",gt=dt>0?"start":"end",mt=ct>=0?1:-1,xt=mt*at,vt=mt>0?"end":"start",_t=mt>0?"start":"end";if(it==="top"){var yt={x:ot+ct/2,y:lt-dt*at,textAnchor:"middle",verticalAnchor:ht};return _objectSpread$l(_objectSpread$l({},yt),nt?{height:Math.max(lt-nt.y,0),width:ct}:{})}if(it==="bottom"){var St={x:ot+ct/2,y:lt+ut+ft,textAnchor:"middle",verticalAnchor:gt};return _objectSpread$l(_objectSpread$l({},St),nt?{height:Math.max(nt.y+nt.height-(lt+ut),0),width:ct}:{})}if(it==="left"){var bt={x:ot-xt,y:lt+ut/2,textAnchor:vt,verticalAnchor:"middle"};return _objectSpread$l(_objectSpread$l({},bt),nt?{width:Math.max(bt.x-nt.x,0),height:ut}:{})}if(it==="right"){var Et={x:ot+ct+xt,y:lt+ut/2,textAnchor:_t,verticalAnchor:"middle"};return _objectSpread$l(_objectSpread$l({},Et),nt?{width:Math.max(nt.x+nt.width-Et.x,0),height:ut}:{})}var Tt=nt?{width:ct,height:ut}:{};return it==="insideLeft"?_objectSpread$l({x:ot+xt,y:lt+ut/2,textAnchor:_t,verticalAnchor:"middle"},Tt):it==="insideRight"?_objectSpread$l({x:ot+ct-xt,y:lt+ut/2,textAnchor:vt,verticalAnchor:"middle"},Tt):it==="insideTop"?_objectSpread$l({x:ot+ct/2,y:lt+ft,textAnchor:"middle",verticalAnchor:gt},Tt):it==="insideBottom"?_objectSpread$l({x:ot+ct/2,y:lt+ut-ft,textAnchor:"middle",verticalAnchor:ht},Tt):it==="insideTopLeft"?_objectSpread$l({x:ot+xt,y:lt+ft,textAnchor:_t,verticalAnchor:gt},Tt):it==="insideTopRight"?_objectSpread$l({x:ot+ct-xt,y:lt+ft,textAnchor:vt,verticalAnchor:gt},Tt):it==="insideBottomLeft"?_objectSpread$l({x:ot+xt,y:lt+ut-ft,textAnchor:_t,verticalAnchor:ht},Tt):it==="insideBottomRight"?_objectSpread$l({x:ot+ct-xt,y:lt+ut-ft,textAnchor:vt,verticalAnchor:ht},Tt):isObject$8(it)&&(isNumber(it.x)||isPercent(it.x))&&(isNumber(it.y)||isPercent(it.y))?_objectSpread$l({x:ot+getPercentValue(it.x,ct),y:lt+getPercentValue(it.y,ut),textAnchor:"end",verticalAnchor:"end"},Tt):_objectSpread$l({x:ot+ct/2,y:lt+ut/2,textAnchor:"middle",verticalAnchor:"middle"},Tt)},isPolar=function(tt){return"cx"in tt&&isNumber(tt.cx)};function Label$1(et){var tt=et.offset,rt=tt===void 0?5:tt,nt=_objectWithoutProperties$7(et,_excluded$7),at=_objectSpread$l({offset:rt},nt),it=at.viewBox,st=at.position,ot=at.value,lt=at.children,ct=at.content,ut=at.className,dt=ut===void 0?"":ut,ft=at.textBreakAll;if(!it||isNil$1(ot)&&isNil$1(lt)&&!reactExports.isValidElement(ct)&&!isFunction$3(ct))return null;if(reactExports.isValidElement(ct))return reactExports.cloneElement(ct,at);var ht;if(isFunction$3(ct)){if(ht=reactExports.createElement(ct,at),reactExports.isValidElement(ht))return ht}else ht=getLabel(at);var gt=isPolar(it),mt=filterProps(at,!0);if(gt&&(st==="insideStart"||st==="insideEnd"||st==="end"))return renderRadialLabel(at,ht,mt);var xt=gt?getAttrsOfPolarLabel(at):getAttrsOfCartesianLabel(at);return React$1.createElement(Text,_extends$i({className:clsx("recharts-label",dt)},mt,xt,{breakAll:ft}),ht)}Label$1.displayName="Label";var parseViewBox=function(tt){var rt=tt.cx,nt=tt.cy,at=tt.angle,it=tt.startAngle,st=tt.endAngle,ot=tt.r,lt=tt.radius,ct=tt.innerRadius,ut=tt.outerRadius,dt=tt.x,ft=tt.y,ht=tt.top,gt=tt.left,mt=tt.width,xt=tt.height,vt=tt.clockWise,_t=tt.labelViewBox;if(_t)return _t;if(isNumber(mt)&&isNumber(xt)){if(isNumber(dt)&&isNumber(ft))return{x:dt,y:ft,width:mt,height:xt};if(isNumber(ht)&&isNumber(gt))return{x:ht,y:gt,width:mt,height:xt}}return isNumber(dt)&&isNumber(ft)?{x:dt,y:ft,width:0,height:0}:isNumber(rt)&&isNumber(nt)?{cx:rt,cy:nt,startAngle:it||at||0,endAngle:st||at||0,innerRadius:ct||0,outerRadius:ut||lt||ot||0,clockWise:vt}:tt.viewBox?tt.viewBox:{}},parseLabel=function(tt,rt){return tt?tt===!0?React$1.createElement(Label$1,{key:"label-implicit",viewBox:rt}):isNumOrStr(tt)?React$1.createElement(Label$1,{key:"label-implicit",viewBox:rt,value:tt}):reactExports.isValidElement(tt)?tt.type===Label$1?reactExports.cloneElement(tt,{key:"label-implicit",viewBox:rt}):React$1.createElement(Label$1,{key:"label-implicit",content:tt,viewBox:rt}):isFunction$3(tt)?React$1.createElement(Label$1,{key:"label-implicit",content:tt,viewBox:rt}):isObject$8(tt)?React$1.createElement(Label$1,_extends$i({viewBox:rt},tt,{key:"label-implicit"})):null:null},renderCallByParent$1=function(tt,rt){var nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!tt||!tt.children&&nt&&!tt.label)return null;var at=tt.children,it=parseViewBox(tt),st=findAllByType(at,Label$1).map(function(lt,ct){return reactExports.cloneElement(lt,{viewBox:rt||it,key:"label-".concat(ct)})});if(!nt)return st;var ot=parseLabel(tt.label,rt||it);return[ot].concat(_toConsumableArray$7(st))};Label$1.parseViewBox=parseViewBox;Label$1.renderCallByParent=renderCallByParent$1;function last$1(et){var tt=et==null?0:et.length;return tt?et[tt-1]:void 0}var last_1=last$1;const last$2=getDefaultExportFromCjs(last_1);function _typeof$m(et){"@babel/helpers - typeof";return _typeof$m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$m(et)}var _excluded$6=["valueAccessor"],_excluded2$2=["data","dataKey","clockWise","id","textBreakAll"];function _toConsumableArray$6(et){return _arrayWithoutHoles$6(et)||_iterableToArray$7(et)||_unsupportedIterableToArray$a(et)||_nonIterableSpread$6()}function _nonIterableSpread$6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$a(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$a(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$a(et,tt)}}function _iterableToArray$7(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function _arrayWithoutHoles$6(et){if(Array.isArray(et))return _arrayLikeToArray$a(et)}function _arrayLikeToArray$a(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$h.apply(this,arguments)}function ownKeys$k(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$k(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$k(Object(rt),!0).forEach(function(nt){_defineProperty$l(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$k(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$l(et,tt,rt){return tt=_toPropertyKey$l(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$l(et){var tt=_toPrimitive$l(et,"string");return _typeof$m(tt)=="symbol"?tt:tt+""}function _toPrimitive$l(et,tt){if(_typeof$m(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$m(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _objectWithoutProperties$6(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$6(et,tt),nt,at;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(et);for(at=0;at<it.length;at++)nt=it[at],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$6(et,tt){if(et==null)return{};var rt={};for(var nt in et)if(Object.prototype.hasOwnProperty.call(et,nt)){if(tt.indexOf(nt)>=0)continue;rt[nt]=et[nt]}return rt}var defaultAccessor=function(tt){return Array.isArray(tt.value)?last$2(tt.value):tt.value};function LabelList(et){var tt=et.valueAccessor,rt=tt===void 0?defaultAccessor:tt,nt=_objectWithoutProperties$6(et,_excluded$6),at=nt.data,it=nt.dataKey,st=nt.clockWise,ot=nt.id,lt=nt.textBreakAll,ct=_objectWithoutProperties$6(nt,_excluded2$2);return!at||!at.length?null:React$1.createElement(Layer,{className:"recharts-label-list"},at.map(function(ut,dt){var ft=isNil$1(it)?rt(ut,dt):getValueByDataKey(ut&&ut.payload,it),ht=isNil$1(ot)?{}:{id:"".concat(ot,"-").concat(dt)};return React$1.createElement(Label$1,_extends$h({},filterProps(ut,!0),ct,ht,{parentViewBox:ut.parentViewBox,value:ft,textBreakAll:lt,viewBox:Label$1.parseViewBox(isNil$1(st)?ut:_objectSpread$k(_objectSpread$k({},ut),{},{clockWise:st})),key:"label-".concat(dt),index:dt}))}))}LabelList.displayName="LabelList";function parseLabelList(et,tt){return et?et===!0?React$1.createElement(LabelList,{key:"labelList-implicit",data:tt}):React$1.isValidElement(et)||isFunction$3(et)?React$1.createElement(LabelList,{key:"labelList-implicit",data:tt,content:et}):isObject$8(et)?React$1.createElement(LabelList,_extends$h({data:tt},et,{key:"labelList-implicit"})):null:null}function renderCallByParent(et,tt){var rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!et||!et.children&&rt&&!et.label)return null;var nt=et.children,at=findAllByType(nt,LabelList).map(function(st,ot){return reactExports.cloneElement(st,{data:tt,key:"labelList-".concat(ot)})});if(!rt)return at;var it=parseLabelList(et.label,tt);return[it].concat(_toConsumableArray$6(at))}LabelList.renderCallByParent=renderCallByParent;function _typeof$l(et){"@babel/helpers - typeof";return _typeof$l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$l(et)}function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$g.apply(this,arguments)}function ownKeys$j(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$j(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$j(Object(rt),!0).forEach(function(nt){_defineProperty$k(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$j(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$k(et,tt,rt){return tt=_toPropertyKey$k(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$k(et){var tt=_toPrimitive$k(et,"string");return _typeof$l(tt)=="symbol"?tt:tt+""}function _toPrimitive$k(et,tt){if(_typeof$l(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$l(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var getDeltaAngle=function(tt,rt){var nt=mathSign(rt-tt),at=Math.min(Math.abs(rt-tt),359.999);return nt*at},getTangentCircle=function(tt){var rt=tt.cx,nt=tt.cy,at=tt.radius,it=tt.angle,st=tt.sign,ot=tt.isExternal,lt=tt.cornerRadius,ct=tt.cornerIsExternal,ut=lt*(ot?1:-1)+at,dt=Math.asin(lt/ut)/RADIAN$1,ft=ct?it:it+st*dt,ht=polarToCartesian(rt,nt,ut,ft),gt=polarToCartesian(rt,nt,at,ft),mt=ct?it-st*dt:it,xt=polarToCartesian(rt,nt,ut*Math.cos(dt*RADIAN$1),mt);return{center:ht,circleTangency:gt,lineTangency:xt,theta:dt}},getSectorPath=function(tt){var rt=tt.cx,nt=tt.cy,at=tt.innerRadius,it=tt.outerRadius,st=tt.startAngle,ot=tt.endAngle,lt=getDeltaAngle(st,ot),ct=st+lt,ut=polarToCartesian(rt,nt,it,st),dt=polarToCartesian(rt,nt,it,ct),ft="M ".concat(ut.x,",").concat(ut.y,`
    A `).concat(it,",").concat(it,`,0,
    `).concat(+(Math.abs(lt)>180),",").concat(+(st>ct),`,
    `).concat(dt.x,",").concat(dt.y,`
  `);if(at>0){var ht=polarToCartesian(rt,nt,at,st),gt=polarToCartesian(rt,nt,at,ct);ft+="L ".concat(gt.x,",").concat(gt.y,`
            A `).concat(at,",").concat(at,`,0,
            `).concat(+(Math.abs(lt)>180),",").concat(+(st<=ct),`,
            `).concat(ht.x,",").concat(ht.y," Z")}else ft+="L ".concat(rt,",").concat(nt," Z");return ft},getSectorWithCorner=function(tt){var rt=tt.cx,nt=tt.cy,at=tt.innerRadius,it=tt.outerRadius,st=tt.cornerRadius,ot=tt.forceCornerRadius,lt=tt.cornerIsExternal,ct=tt.startAngle,ut=tt.endAngle,dt=mathSign(ut-ct),ft=getTangentCircle({cx:rt,cy:nt,radius:it,angle:ct,sign:dt,cornerRadius:st,cornerIsExternal:lt}),ht=ft.circleTangency,gt=ft.lineTangency,mt=ft.theta,xt=getTangentCircle({cx:rt,cy:nt,radius:it,angle:ut,sign:-dt,cornerRadius:st,cornerIsExternal:lt}),vt=xt.circleTangency,_t=xt.lineTangency,yt=xt.theta,St=lt?Math.abs(ct-ut):Math.abs(ct-ut)-mt-yt;if(St<0)return ot?"M ".concat(gt.x,",").concat(gt.y,`
        a`).concat(st,",").concat(st,",0,0,1,").concat(st*2,`,0
        a`).concat(st,",").concat(st,",0,0,1,").concat(-st*2,`,0
      `):getSectorPath({cx:rt,cy:nt,innerRadius:at,outerRadius:it,startAngle:ct,endAngle:ut});var bt="M ".concat(gt.x,",").concat(gt.y,`
    A`).concat(st,",").concat(st,",0,0,").concat(+(dt<0),",").concat(ht.x,",").concat(ht.y,`
    A`).concat(it,",").concat(it,",0,").concat(+(St>180),",").concat(+(dt<0),",").concat(vt.x,",").concat(vt.y,`
    A`).concat(st,",").concat(st,",0,0,").concat(+(dt<0),",").concat(_t.x,",").concat(_t.y,`
  `);if(at>0){var Et=getTangentCircle({cx:rt,cy:nt,radius:at,angle:ct,sign:dt,isExternal:!0,cornerRadius:st,cornerIsExternal:lt}),Tt=Et.circleTangency,At=Et.lineTangency,Ct=Et.theta,kt=getTangentCircle({cx:rt,cy:nt,radius:at,angle:ut,sign:-dt,isExternal:!0,cornerRadius:st,cornerIsExternal:lt}),Pt=kt.circleTangency,Dt=kt.lineTangency,Ft=kt.theta,Ot=lt?Math.abs(ct-ut):Math.abs(ct-ut)-Ct-Ft;if(Ot<0&&st===0)return"".concat(bt,"L").concat(rt,",").concat(nt,"Z");bt+="L".concat(Dt.x,",").concat(Dt.y,`
      A`).concat(st,",").concat(st,",0,0,").concat(+(dt<0),",").concat(Pt.x,",").concat(Pt.y,`
      A`).concat(at,",").concat(at,",0,").concat(+(Ot>180),",").concat(+(dt>0),",").concat(Tt.x,",").concat(Tt.y,`
      A`).concat(st,",").concat(st,",0,0,").concat(+(dt<0),",").concat(At.x,",").concat(At.y,"Z")}else bt+="L".concat(rt,",").concat(nt,"Z");return bt},defaultProps$2={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=function(tt){var rt=_objectSpread$j(_objectSpread$j({},defaultProps$2),tt),nt=rt.cx,at=rt.cy,it=rt.innerRadius,st=rt.outerRadius,ot=rt.cornerRadius,lt=rt.forceCornerRadius,ct=rt.cornerIsExternal,ut=rt.startAngle,dt=rt.endAngle,ft=rt.className;if(st<it||ut===dt)return null;var ht=clsx("recharts-sector",ft),gt=st-it,mt=getPercentValue(ot,gt,0,!0),xt;return mt>0&&Math.abs(ut-dt)<360?xt=getSectorWithCorner({cx:nt,cy:at,innerRadius:it,outerRadius:st,cornerRadius:Math.min(mt,gt/2),forceCornerRadius:lt,cornerIsExternal:ct,startAngle:ut,endAngle:dt}):xt=getSectorPath({cx:nt,cy:at,innerRadius:it,outerRadius:st,startAngle:ut,endAngle:dt}),React$1.createElement("path",_extends$g({},filterProps(rt,!0),{className:ht,d:xt,role:"img"}))};function _typeof$k(et){"@babel/helpers - typeof";return _typeof$k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$k(et)}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$f.apply(this,arguments)}function ownKeys$i(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$i(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$i(Object(rt),!0).forEach(function(nt){_defineProperty$j(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$i(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$j(et,tt,rt){return tt=_toPropertyKey$j(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$j(et){var tt=_toPrimitive$j(et,"string");return _typeof$k(tt)=="symbol"?tt:tt+""}function _toPrimitive$j(et,tt){if(_typeof$k(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$k(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=function(tt){return tt.x===+tt.x&&tt.y===+tt.y},getX=function(tt){return tt.x},getY=function(tt){return tt.y},getCurveFactory=function(tt,rt){if(isFunction$3(tt))return tt;var nt="curve".concat(upperFirst$1(tt));return(nt==="curveMonotone"||nt==="curveBump")&&rt?CURVE_FACTORIES["".concat(nt).concat(rt==="vertical"?"Y":"X")]:CURVE_FACTORIES[nt]||curveLinear},getPath$1=function(tt){var rt=tt.type,nt=rt===void 0?"linear":rt,at=tt.points,it=at===void 0?[]:at,st=tt.baseLine,ot=tt.layout,lt=tt.connectNulls,ct=lt===void 0?!1:lt,ut=getCurveFactory(nt,ot),dt=ct?it.filter(function(mt){return defined(mt)}):it,ft;if(Array.isArray(st)){var ht=ct?st.filter(function(mt){return defined(mt)}):st,gt=dt.map(function(mt,xt){return _objectSpread$i(_objectSpread$i({},mt),{},{base:ht[xt]})});return ot==="vertical"?ft=shapeArea().y(getY).x1(getX).x0(function(mt){return mt.base.x}):ft=shapeArea().x(getX).y1(getY).y0(function(mt){return mt.base.y}),ft.defined(defined).curve(ut),ft(gt)}return ot==="vertical"&&isNumber(st)?ft=shapeArea().y(getY).x1(getX).x0(st):isNumber(st)?ft=shapeArea().x(getX).y1(getY).y0(st):ft=shapeLine().x(getX).y(getY),ft.defined(defined).curve(ut),ft(dt)},Curve=function(tt){var rt=tt.className,nt=tt.points,at=tt.path,it=tt.pathRef;if((!nt||!nt.length)&&!at)return null;var st=nt&&nt.length?getPath$1(tt):at;return reactExports.createElement("path",_extends$f({},filterProps(tt,!1),adaptEventHandlers(tt),{className:clsx("recharts-curve",rt),d:st,ref:it}))},propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function et(nt,at,it,st,ot,lt){if(lt!==ReactPropTypesSecret){var ct=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ct.name="Invariant Violation",ct}}et.isRequired=et;function tt(){return et}var rt={array:et,bigint:et,bool:et,func:et,number:et,object:et,string:et,symbol:et,any:et,arrayOf:tt,element:et,elementType:et,instanceOf:tt,node:et,objectOf:tt,oneOf:tt,oneOfType:tt,shape:tt,exact:tt,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return rt.PropTypes=rt,rt};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports),{getOwnPropertyNames,getOwnPropertySymbols}=Object,{hasOwnProperty:hasOwnProperty$1}=Object.prototype;function combineComparators(et,tt){return function(nt,at,it){return et(nt,at,it)&&tt(nt,at,it)}}function createIsCircular(et){return function(rt,nt,at){if(!rt||!nt||typeof rt!="object"||typeof nt!="object")return et(rt,nt,at);const{cache:it}=at,st=it.get(rt),ot=it.get(nt);if(st&&ot)return st===nt&&ot===rt;it.set(rt,nt),it.set(nt,rt);const lt=et(rt,nt,at);return it.delete(rt),it.delete(nt),lt}}function getShortTag(et){return et!=null?et[Symbol.toStringTag]:void 0}function getStrictProperties(et){return getOwnPropertyNames(et).concat(getOwnPropertySymbols(et))}const hasOwn=Object.hasOwn||((et,tt)=>hasOwnProperty$1.call(et,tt));function sameValueZeroEqual(et,tt){return et===tt||!et&&!tt&&et!==et&&tt!==tt}const PREACT_VNODE="__v",PREACT_OWNER="__o",REACT_OWNER="_owner",{getOwnPropertyDescriptor,keys}=Object;function areArrayBuffersEqual(et,tt){return et.byteLength===tt.byteLength&&areTypedArraysEqual(new Uint8Array(et),new Uint8Array(tt))}function areArraysEqual(et,tt,rt){let nt=et.length;if(tt.length!==nt)return!1;for(;nt-- >0;)if(!rt.equals(et[nt],tt[nt],nt,nt,et,tt,rt))return!1;return!0}function areDataViewsEqual(et,tt){return et.byteLength===tt.byteLength&&areTypedArraysEqual(new Uint8Array(et.buffer,et.byteOffset,et.byteLength),new Uint8Array(tt.buffer,tt.byteOffset,tt.byteLength))}function areDatesEqual(et,tt){return sameValueZeroEqual(et.getTime(),tt.getTime())}function areErrorsEqual(et,tt){return et.name===tt.name&&et.message===tt.message&&et.cause===tt.cause&&et.stack===tt.stack}function areFunctionsEqual(et,tt){return et===tt}function areMapsEqual(et,tt,rt){const nt=et.size;if(nt!==tt.size)return!1;if(!nt)return!0;const at=new Array(nt),it=et.entries();let st,ot,lt=0;for(;(st=it.next())&&!st.done;){const ct=tt.entries();let ut=!1,dt=0;for(;(ot=ct.next())&&!ot.done;){if(at[dt]){dt++;continue}const ft=st.value,ht=ot.value;if(rt.equals(ft[0],ht[0],lt,dt,et,tt,rt)&&rt.equals(ft[1],ht[1],ft[0],ht[0],et,tt,rt)){ut=at[dt]=!0;break}dt++}if(!ut)return!1;lt++}return!0}const areNumbersEqual=sameValueZeroEqual;function areObjectsEqual(et,tt,rt){const nt=keys(et);let at=nt.length;if(keys(tt).length!==at)return!1;for(;at-- >0;)if(!isPropertyEqual(et,tt,rt,nt[at]))return!1;return!0}function areObjectsEqualStrict(et,tt,rt){const nt=getStrictProperties(et);let at=nt.length;if(getStrictProperties(tt).length!==at)return!1;let it,st,ot;for(;at-- >0;)if(it=nt[at],!isPropertyEqual(et,tt,rt,it)||(st=getOwnPropertyDescriptor(et,it),ot=getOwnPropertyDescriptor(tt,it),(st||ot)&&(!st||!ot||st.configurable!==ot.configurable||st.enumerable!==ot.enumerable||st.writable!==ot.writable)))return!1;return!0}function arePrimitiveWrappersEqual(et,tt){return sameValueZeroEqual(et.valueOf(),tt.valueOf())}function areRegExpsEqual(et,tt){return et.source===tt.source&&et.flags===tt.flags}function areSetsEqual(et,tt,rt){const nt=et.size;if(nt!==tt.size)return!1;if(!nt)return!0;const at=new Array(nt),it=et.values();let st,ot;for(;(st=it.next())&&!st.done;){const lt=tt.values();let ct=!1,ut=0;for(;(ot=lt.next())&&!ot.done;){if(!at[ut]&&rt.equals(st.value,ot.value,st.value,ot.value,et,tt,rt)){ct=at[ut]=!0;break}ut++}if(!ct)return!1}return!0}function areTypedArraysEqual(et,tt){let rt=et.byteLength;if(tt.byteLength!==rt||et.byteOffset!==tt.byteOffset)return!1;for(;rt-- >0;)if(et[rt]!==tt[rt])return!1;return!0}function areUrlsEqual(et,tt){return et.hostname===tt.hostname&&et.pathname===tt.pathname&&et.protocol===tt.protocol&&et.port===tt.port&&et.hash===tt.hash&&et.username===tt.username&&et.password===tt.password}function isPropertyEqual(et,tt,rt,nt){return(nt===REACT_OWNER||nt===PREACT_OWNER||nt===PREACT_VNODE)&&(et.$$typeof||tt.$$typeof)?!0:hasOwn(tt,nt)&&rt.equals(et[nt],tt[nt],nt,nt,et,tt,rt)}const ARRAY_BUFFER_TAG="[object ArrayBuffer]",ARGUMENTS_TAG="[object Arguments]",BOOLEAN_TAG="[object Boolean]",DATA_VIEW_TAG="[object DataView]",DATE_TAG="[object Date]",ERROR_TAG="[object Error]",MAP_TAG="[object Map]",NUMBER_TAG="[object Number]",OBJECT_TAG="[object Object]",REG_EXP_TAG="[object RegExp]",SET_TAG="[object Set]",STRING_TAG="[object String]",TYPED_ARRAY_TAGS={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},URL_TAG="[object URL]",toString$2=Object.prototype.toString;function createEqualityComparator({areArrayBuffersEqual:et,areArraysEqual:tt,areDataViewsEqual:rt,areDatesEqual:nt,areErrorsEqual:at,areFunctionsEqual:it,areMapsEqual:st,areNumbersEqual:ot,areObjectsEqual:lt,arePrimitiveWrappersEqual:ct,areRegExpsEqual:ut,areSetsEqual:dt,areTypedArraysEqual:ft,areUrlsEqual:ht,unknownTagComparators:gt}){return function(xt,vt,_t){if(xt===vt)return!0;if(xt==null||vt==null)return!1;const yt=typeof xt;if(yt!==typeof vt)return!1;if(yt!=="object")return yt==="number"?ot(xt,vt,_t):yt==="function"?it(xt,vt,_t):!1;const St=xt.constructor;if(St!==vt.constructor)return!1;if(St===Object)return lt(xt,vt,_t);if(Array.isArray(xt))return tt(xt,vt,_t);if(St===Date)return nt(xt,vt,_t);if(St===RegExp)return ut(xt,vt,_t);if(St===Map)return st(xt,vt,_t);if(St===Set)return dt(xt,vt,_t);const bt=toString$2.call(xt);if(bt===DATE_TAG)return nt(xt,vt,_t);if(bt===REG_EXP_TAG)return ut(xt,vt,_t);if(bt===MAP_TAG)return st(xt,vt,_t);if(bt===SET_TAG)return dt(xt,vt,_t);if(bt===OBJECT_TAG)return typeof xt.then!="function"&&typeof vt.then!="function"&&lt(xt,vt,_t);if(bt===URL_TAG)return ht(xt,vt,_t);if(bt===ERROR_TAG)return at(xt,vt,_t);if(bt===ARGUMENTS_TAG)return lt(xt,vt,_t);if(TYPED_ARRAY_TAGS[bt])return ft(xt,vt,_t);if(bt===ARRAY_BUFFER_TAG)return et(xt,vt,_t);if(bt===DATA_VIEW_TAG)return rt(xt,vt,_t);if(bt===BOOLEAN_TAG||bt===NUMBER_TAG||bt===STRING_TAG)return ct(xt,vt,_t);if(gt){let Et=gt[bt];if(!Et){const Tt=getShortTag(xt);Tt&&(Et=gt[Tt])}if(Et)return Et(xt,vt,_t)}return!1}}function createEqualityComparatorConfig({circular:et,createCustomConfig:tt,strict:rt}){let nt={areArrayBuffersEqual,areArraysEqual:rt?areObjectsEqualStrict:areArraysEqual,areDataViewsEqual,areDatesEqual,areErrorsEqual,areFunctionsEqual,areMapsEqual:rt?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areNumbersEqual,areObjectsEqual:rt?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual,areRegExpsEqual,areSetsEqual:rt?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:rt?combineComparators(areTypedArraysEqual,areObjectsEqualStrict):areTypedArraysEqual,areUrlsEqual,unknownTagComparators:void 0};if(tt&&(nt=Object.assign({},nt,tt(nt))),et){const at=createIsCircular(nt.areArraysEqual),it=createIsCircular(nt.areMapsEqual),st=createIsCircular(nt.areObjectsEqual),ot=createIsCircular(nt.areSetsEqual);nt=Object.assign({},nt,{areArraysEqual:at,areMapsEqual:it,areObjectsEqual:st,areSetsEqual:ot})}return nt}function createInternalEqualityComparator(et){return function(tt,rt,nt,at,it,st,ot){return et(tt,rt,ot)}}function createIsEqual({circular:et,comparator:tt,createState:rt,equals:nt,strict:at}){if(rt)return function(ot,lt){const{cache:ct=et?new WeakMap:void 0,meta:ut}=rt();return tt(ot,lt,{cache:ct,equals:nt,meta:ut,strict:at})};if(et)return function(ot,lt){return tt(ot,lt,{cache:new WeakMap,equals:nt,meta:void 0,strict:at})};const it={cache:void 0,equals:nt,meta:void 0,strict:at};return function(ot,lt){return tt(ot,lt,it)}}const deepEqual=createCustomEqual();createCustomEqual({strict:!0});createCustomEqual({circular:!0});createCustomEqual({circular:!0,strict:!0});createCustomEqual({createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({strict:!0,createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({circular:!0,createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({circular:!0,createInternalComparator:()=>sameValueZeroEqual,strict:!0});function createCustomEqual(et={}){const{circular:tt=!1,createInternalComparator:rt,createState:nt,strict:at=!1}=et,it=createEqualityComparatorConfig(et),st=createEqualityComparator(it),ot=rt?rt(st):createInternalEqualityComparator(st);return createIsEqual({circular:tt,comparator:st,createState:nt,equals:ot,strict:at})}function safeRequestAnimationFrame(et){typeof requestAnimationFrame<"u"&&requestAnimationFrame(et)}function setRafTimeout(et){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,rt=-1,nt=function at(it){rt<0&&(rt=it),it-rt>tt?(et(it),rt=-1):safeRequestAnimationFrame(at)};requestAnimationFrame(nt)}function _typeof$j(et){"@babel/helpers - typeof";return _typeof$j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$j(et)}function _toArray(et){return _arrayWithHoles$6(et)||_iterableToArray$6(et)||_unsupportedIterableToArray$9(et)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$9(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$9(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$9(et,tt)}}function _arrayLikeToArray$9(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArray$6(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function _arrayWithHoles$6(et){if(Array.isArray(et))return et}function createAnimateManager(){var et={},tt=function(){return null},rt=!1,nt=function at(it){if(!rt){if(Array.isArray(it)){if(!it.length)return;var st=it,ot=_toArray(st),lt=ot[0],ct=ot.slice(1);if(typeof lt=="number"){setRafTimeout(at.bind(null,ct),lt);return}at(lt),setRafTimeout(at.bind(null,ct));return}_typeof$j(it)==="object"&&(et=it,tt(et)),typeof it=="function"&&it()}};return{stop:function(){rt=!0},start:function(it){rt=!1,nt(it)},subscribe:function(it){return tt=it,function(){tt=function(){return null}}}}}function _typeof$i(et){"@babel/helpers - typeof";return _typeof$i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$i(et)}function ownKeys$h(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$h(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$h(Object(rt),!0).forEach(function(nt){_defineProperty$i(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$h(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$i(et,tt,rt){return tt=_toPropertyKey$i(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$i(et){var tt=_toPrimitive$i(et,"string");return _typeof$i(tt)==="symbol"?tt:String(tt)}function _toPrimitive$i(et,tt){if(_typeof$i(et)!=="object"||et===null)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$i(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var getIntersectionKeys=function(tt,rt){return[Object.keys(tt),Object.keys(rt)].reduce(function(nt,at){return nt.filter(function(it){return at.includes(it)})})},identity=function(tt){return tt},getDashCase=function(tt){return tt.replace(/([A-Z])/g,function(rt){return"-".concat(rt.toLowerCase())})},mapObject=function(tt,rt){return Object.keys(rt).reduce(function(nt,at){return _objectSpread$h(_objectSpread$h({},nt),{},_defineProperty$i({},at,tt(at,rt[at])))},{})},getTransitionVal=function(tt,rt,nt){return tt.map(function(at){return"".concat(getDashCase(at)," ").concat(rt,"ms ").concat(nt)}).join(",")};function _slicedToArray$5(et,tt){return _arrayWithHoles$5(et)||_iterableToArrayLimit$5(et,tt)||_unsupportedIterableToArray$8(et,tt)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$5(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,at,it,st,ot=[],lt=!0,ct=!1;try{if(it=(rt=rt.call(et)).next,tt===0){if(Object(rt)!==rt)return;lt=!1}else for(;!(lt=(nt=it.call(rt)).done)&&(ot.push(nt.value),ot.length!==tt);lt=!0);}catch(ut){ct=!0,at=ut}finally{try{if(!lt&&rt.return!=null&&(st=rt.return(),Object(st)!==st))return}finally{if(ct)throw at}}return ot}}function _arrayWithHoles$5(et){if(Array.isArray(et))return et}function _toConsumableArray$5(et){return _arrayWithoutHoles$5(et)||_iterableToArray$5(et)||_unsupportedIterableToArray$8(et)||_nonIterableSpread$5()}function _nonIterableSpread$5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$8(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$8(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$8(et,tt)}}function _iterableToArray$5(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function _arrayWithoutHoles$5(et){if(Array.isArray(et))return _arrayLikeToArray$8(et)}function _arrayLikeToArray$8(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}var ACCURACY=1e-4,cubicBezierFactor=function(tt,rt){return[0,3*tt,3*rt-6*tt,3*tt-3*rt+1]},multyTime=function(tt,rt){return tt.map(function(nt,at){return nt*Math.pow(rt,at)}).reduce(function(nt,at){return nt+at})},cubicBezier=function(tt,rt){return function(nt){var at=cubicBezierFactor(tt,rt);return multyTime(at,nt)}},derivativeCubicBezier=function(tt,rt){return function(nt){var at=cubicBezierFactor(tt,rt),it=[].concat(_toConsumableArray$5(at.map(function(st,ot){return st*ot}).slice(1)),[0]);return multyTime(it,nt)}},configBezier=function(){for(var tt=arguments.length,rt=new Array(tt),nt=0;nt<tt;nt++)rt[nt]=arguments[nt];var at=rt[0],it=rt[1],st=rt[2],ot=rt[3];if(rt.length===1)switch(rt[0]){case"linear":at=0,it=0,st=1,ot=1;break;case"ease":at=.25,it=.1,st=.25,ot=1;break;case"ease-in":at=.42,it=0,st=1,ot=1;break;case"ease-out":at=.42,it=0,st=.58,ot=1;break;case"ease-in-out":at=0,it=0,st=.58,ot=1;break;default:{var lt=rt[0].split("(");if(lt[0]==="cubic-bezier"&&lt[1].split(")")[0].split(",").length===4){var ct=lt[1].split(")")[0].split(",").map(function(xt){return parseFloat(xt)}),ut=_slicedToArray$5(ct,4);at=ut[0],it=ut[1],st=ut[2],ot=ut[3]}}}var dt=cubicBezier(at,st),ft=cubicBezier(it,ot),ht=derivativeCubicBezier(at,st),gt=function(vt){return vt>1?1:vt<0?0:vt},mt=function(vt){for(var _t=vt>1?1:vt,yt=_t,St=0;St<8;++St){var bt=dt(yt)-_t,Et=ht(yt);if(Math.abs(bt-_t)<ACCURACY||Et<ACCURACY)return ft(yt);yt=gt(yt-bt/Et)}return ft(yt)};return mt.isStepper=!1,mt},configSpring=function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rt=tt.stiff,nt=rt===void 0?100:rt,at=tt.damping,it=at===void 0?8:at,st=tt.dt,ot=st===void 0?17:st,lt=function(ut,dt,ft){var ht=-(ut-dt)*nt,gt=ft*it,mt=ft+(ht-gt)*ot/1e3,xt=ft*ot/1e3+ut;return Math.abs(xt-dt)<ACCURACY&&Math.abs(mt)<ACCURACY?[dt,0]:[xt,mt]};return lt.isStepper=!0,lt.dt=ot,lt},configEasing=function(){for(var tt=arguments.length,rt=new Array(tt),nt=0;nt<tt;nt++)rt[nt]=arguments[nt];var at=rt[0];if(typeof at=="string")switch(at){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(at);case"spring":return configSpring();default:if(at.split("(")[0]==="cubic-bezier")return configBezier(at)}return typeof at=="function"?at:null};function _typeof$h(et){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$h(et)}function _toConsumableArray$4(et){return _arrayWithoutHoles$4(et)||_iterableToArray$4(et)||_unsupportedIterableToArray$7(et)||_nonIterableSpread$4()}function _nonIterableSpread$4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$4(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function _arrayWithoutHoles$4(et){if(Array.isArray(et))return _arrayLikeToArray$7(et)}function ownKeys$g(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$g(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$g(Object(rt),!0).forEach(function(nt){_defineProperty$h(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$g(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$h(et,tt,rt){return tt=_toPropertyKey$h(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$h(et){var tt=_toPrimitive$h(et,"string");return _typeof$h(tt)==="symbol"?tt:String(tt)}function _toPrimitive$h(et,tt){if(_typeof$h(et)!=="object"||et===null)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$h(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _slicedToArray$4(et,tt){return _arrayWithHoles$4(et)||_iterableToArrayLimit$4(et,tt)||_unsupportedIterableToArray$7(et,tt)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$7(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$7(et,tt)}}function _arrayLikeToArray$7(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$4(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,at,it,st,ot=[],lt=!0,ct=!1;try{if(it=(rt=rt.call(et)).next,tt===0){if(Object(rt)!==rt)return;lt=!1}else for(;!(lt=(nt=it.call(rt)).done)&&(ot.push(nt.value),ot.length!==tt);lt=!0);}catch(ut){ct=!0,at=ut}finally{try{if(!lt&&rt.return!=null&&(st=rt.return(),Object(st)!==st))return}finally{if(ct)throw at}}return ot}}function _arrayWithHoles$4(et){if(Array.isArray(et))return et}var alpha=function(tt,rt,nt){return tt+(rt-tt)*nt},needContinue=function(tt){var rt=tt.from,nt=tt.to;return rt!==nt},calStepperVals=function et(tt,rt,nt){var at=mapObject(function(it,st){if(needContinue(st)){var ot=tt(st.from,st.to,st.velocity),lt=_slicedToArray$4(ot,2),ct=lt[0],ut=lt[1];return _objectSpread$g(_objectSpread$g({},st),{},{from:ct,velocity:ut})}return st},rt);return nt<1?mapObject(function(it,st){return needContinue(st)?_objectSpread$g(_objectSpread$g({},st),{},{velocity:alpha(st.velocity,at[it].velocity,nt),from:alpha(st.from,at[it].from,nt)}):st},rt):et(tt,at,nt-1)};const configUpdate=function(et,tt,rt,nt,at){var it=getIntersectionKeys(et,tt),st=it.reduce(function(xt,vt){return _objectSpread$g(_objectSpread$g({},xt),{},_defineProperty$h({},vt,[et[vt],tt[vt]]))},{}),ot=it.reduce(function(xt,vt){return _objectSpread$g(_objectSpread$g({},xt),{},_defineProperty$h({},vt,{from:et[vt],velocity:0,to:tt[vt]}))},{}),lt=-1,ct,ut,dt=function(){return null},ft=function(){return mapObject(function(vt,_t){return _t.from},ot)},ht=function(){return!Object.values(ot).filter(needContinue).length},gt=function(vt){ct||(ct=vt);var _t=vt-ct,yt=_t/rt.dt;ot=calStepperVals(rt,ot,yt),at(_objectSpread$g(_objectSpread$g(_objectSpread$g({},et),tt),ft())),ct=vt,ht()||(lt=requestAnimationFrame(dt))},mt=function(vt){ut||(ut=vt);var _t=(vt-ut)/nt,yt=mapObject(function(bt,Et){return alpha.apply(void 0,_toConsumableArray$4(Et).concat([rt(_t)]))},st);if(at(_objectSpread$g(_objectSpread$g(_objectSpread$g({},et),tt),yt)),_t<1)lt=requestAnimationFrame(dt);else{var St=mapObject(function(bt,Et){return alpha.apply(void 0,_toConsumableArray$4(Et).concat([rt(1)]))},st);at(_objectSpread$g(_objectSpread$g(_objectSpread$g({},et),tt),St))}};return dt=rt.isStepper?gt:mt,function(){return requestAnimationFrame(dt),function(){cancelAnimationFrame(lt)}}};function _typeof$g(et){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$g(et)}var _excluded$5=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$5(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$5(et,tt),nt,at;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(et);for(at=0;at<it.length;at++)nt=it[at],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$5(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),at,it;for(it=0;it<nt.length;it++)at=nt[it],!(tt.indexOf(at)>=0)&&(rt[at]=et[at]);return rt}function _toConsumableArray$3(et){return _arrayWithoutHoles$3(et)||_iterableToArray$3(et)||_unsupportedIterableToArray$6(et)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$6(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$6(et,tt)}}function _iterableToArray$3(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function _arrayWithoutHoles$3(et){if(Array.isArray(et))return _arrayLikeToArray$6(et)}function _arrayLikeToArray$6(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function ownKeys$f(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$f(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$f(Object(rt),!0).forEach(function(nt){_defineProperty$g(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$f(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$g(et,tt,rt){return tt=_toPropertyKey$g(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _classCallCheck$a(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$g(nt.key),nt)}}function _createClass$a(et,tt,rt){return tt&&_defineProperties$a(et.prototype,tt),rt&&_defineProperties$a(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _toPropertyKey$g(et){var tt=_toPrimitive$g(et,"string");return _typeof$g(tt)==="symbol"?tt:String(tt)}function _toPrimitive$g(et,tt){if(_typeof$g(et)!=="object"||et===null)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$g(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _inherits$8(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$8(et,tt)}function _setPrototypeOf$8(et,tt){return _setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,at){return nt.__proto__=at,nt},_setPrototypeOf$8(et,tt)}function _createSuper(et){var tt=_isNativeReflectConstruct$8();return function(){var nt=_getPrototypeOf$8(et),at;if(tt){var it=_getPrototypeOf$8(this).constructor;at=Reflect.construct(nt,arguments,it)}else at=nt.apply(this,arguments);return _possibleConstructorReturn$8(this,at)}}function _possibleConstructorReturn$8(et,tt){if(tt&&(_typeof$g(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$8(et)}function _assertThisInitialized$8(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct$8(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$8(et){return _getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$8(et)}var Animate=function(et){_inherits$8(rt,et);var tt=_createSuper(rt);function rt(nt,at){var it;_classCallCheck$a(this,rt),it=tt.call(this,nt,at);var st=it.props,ot=st.isActive,lt=st.attributeName,ct=st.from,ut=st.to,dt=st.steps,ft=st.children,ht=st.duration;if(it.handleStyleChange=it.handleStyleChange.bind(_assertThisInitialized$8(it)),it.changeStyle=it.changeStyle.bind(_assertThisInitialized$8(it)),!ot||ht<=0)return it.state={style:{}},typeof ft=="function"&&(it.state={style:ut}),_possibleConstructorReturn$8(it);if(dt&&dt.length)it.state={style:dt[0].style};else if(ct){if(typeof ft=="function")return it.state={style:ct},_possibleConstructorReturn$8(it);it.state={style:lt?_defineProperty$g({},lt,ct):ct}}else it.state={style:{}};return it}return _createClass$a(rt,[{key:"componentDidMount",value:function(){var at=this.props,it=at.isActive,st=at.canBegin;this.mounted=!0,!(!it||!st)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(at){var it=this.props,st=it.isActive,ot=it.canBegin,lt=it.attributeName,ct=it.shouldReAnimate,ut=it.to,dt=it.from,ft=this.state.style;if(ot){if(!st){var ht={style:lt?_defineProperty$g({},lt,ut):ut};this.state&&ft&&(lt&&ft[lt]!==ut||!lt&&ft!==ut)&&this.setState(ht);return}if(!(deepEqual(at.to,ut)&&at.canBegin&&at.isActive)){var gt=!at.canBegin||!at.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var mt=gt||ct?dt:at.to;if(this.state&&ft){var xt={style:lt?_defineProperty$g({},lt,mt):mt};(lt&&ft[lt]!==mt||!lt&&ft!==mt)&&this.setState(xt)}this.runAnimation(_objectSpread$f(_objectSpread$f({},this.props),{},{from:mt,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var at=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),at&&at()}},{key:"handleStyleChange",value:function(at){this.changeStyle(at)}},{key:"changeStyle",value:function(at){this.mounted&&this.setState({style:at})}},{key:"runJSAnimation",value:function(at){var it=this,st=at.from,ot=at.to,lt=at.duration,ct=at.easing,ut=at.begin,dt=at.onAnimationEnd,ft=at.onAnimationStart,ht=configUpdate(st,ot,configEasing(ct),lt,this.changeStyle),gt=function(){it.stopJSAnimation=ht()};this.manager.start([ft,ut,gt,lt,dt])}},{key:"runStepAnimation",value:function(at){var it=this,st=at.steps,ot=at.begin,lt=at.onAnimationStart,ct=st[0],ut=ct.style,dt=ct.duration,ft=dt===void 0?0:dt,ht=function(mt,xt,vt){if(vt===0)return mt;var _t=xt.duration,yt=xt.easing,St=yt===void 0?"ease":yt,bt=xt.style,Et=xt.properties,Tt=xt.onAnimationEnd,At=vt>0?st[vt-1]:xt,Ct=Et||Object.keys(bt);if(typeof St=="function"||St==="spring")return[].concat(_toConsumableArray$3(mt),[it.runJSAnimation.bind(it,{from:At.style,to:bt,duration:_t,easing:St}),_t]);var kt=getTransitionVal(Ct,_t,St),Pt=_objectSpread$f(_objectSpread$f(_objectSpread$f({},At.style),bt),{},{transition:kt});return[].concat(_toConsumableArray$3(mt),[Pt,_t,Tt]).filter(identity)};return this.manager.start([lt].concat(_toConsumableArray$3(st.reduce(ht,[ut,Math.max(ft,ot)])),[at.onAnimationEnd]))}},{key:"runAnimation",value:function(at){this.manager||(this.manager=createAnimateManager());var it=at.begin,st=at.duration,ot=at.attributeName,lt=at.to,ct=at.easing,ut=at.onAnimationStart,dt=at.onAnimationEnd,ft=at.steps,ht=at.children,gt=this.manager;if(this.unSubscribe=gt.subscribe(this.handleStyleChange),typeof ct=="function"||typeof ht=="function"||ct==="spring"){this.runJSAnimation(at);return}if(ft.length>1){this.runStepAnimation(at);return}var mt=ot?_defineProperty$g({},ot,lt):lt,xt=getTransitionVal(Object.keys(mt),st,ct);gt.start([ut,it,_objectSpread$f(_objectSpread$f({},mt),{},{transition:xt}),st,dt])}},{key:"render",value:function(){var at=this.props,it=at.children;at.begin;var st=at.duration;at.attributeName,at.easing;var ot=at.isActive;at.steps,at.from,at.to,at.canBegin,at.onAnimationEnd,at.shouldReAnimate,at.onAnimationReStart;var lt=_objectWithoutProperties$5(at,_excluded$5),ct=reactExports.Children.count(it),ut=this.state.style;if(typeof it=="function")return it(ut);if(!ot||ct===0||st<=0)return it;var dt=function(ht){var gt=ht.props,mt=gt.style,xt=mt===void 0?{}:mt,vt=gt.className,_t=reactExports.cloneElement(ht,_objectSpread$f(_objectSpread$f({},lt),{},{style:_objectSpread$f(_objectSpread$f({},xt),ut),className:vt}));return _t};return ct===1?dt(reactExports.Children.only(it)):React$1.createElement("div",null,reactExports.Children.map(it,function(ft){return dt(ft)}))}}]),rt}(reactExports.PureComponent);Animate.displayName="Animate";Animate.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Animate.propTypes={from:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),to:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),attributeName:PropTypes.string,duration:PropTypes.number,begin:PropTypes.number,easing:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),steps:PropTypes.arrayOf(PropTypes.shape({duration:PropTypes.number.isRequired,style:PropTypes.object.isRequired,easing:PropTypes.oneOfType([PropTypes.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),PropTypes.func]),properties:PropTypes.arrayOf("string"),onAnimationEnd:PropTypes.func})),children:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),isActive:PropTypes.bool,canBegin:PropTypes.bool,onAnimationEnd:PropTypes.func,shouldReAnimate:PropTypes.bool,onAnimationStart:PropTypes.func,onAnimationReStart:PropTypes.func};const Animate$1=Animate;function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$e.apply(null,arguments)}function _typeof$f(et){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$f(et)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$d.apply(this,arguments)}function _slicedToArray$3(et,tt){return _arrayWithHoles$3(et)||_iterableToArrayLimit$3(et,tt)||_unsupportedIterableToArray$5(et,tt)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$5(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$5(et,tt)}}function _arrayLikeToArray$5(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$3(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,at,it,st,ot=[],lt=!0,ct=!1;try{if(it=(rt=rt.call(et)).next,tt===0){if(Object(rt)!==rt)return;lt=!1}else for(;!(lt=(nt=it.call(rt)).done)&&(ot.push(nt.value),ot.length!==tt);lt=!0);}catch(ut){ct=!0,at=ut}finally{try{if(!lt&&rt.return!=null&&(st=rt.return(),Object(st)!==st))return}finally{if(ct)throw at}}return ot}}function _arrayWithHoles$3(et){if(Array.isArray(et))return et}function ownKeys$e(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$e(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$e(Object(rt),!0).forEach(function(nt){_defineProperty$f(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$e(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$f(et,tt,rt){return tt=_toPropertyKey$f(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$f(et){var tt=_toPrimitive$f(et,"string");return _typeof$f(tt)=="symbol"?tt:tt+""}function _toPrimitive$f(et,tt){if(_typeof$f(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$f(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var getRectanglePath=function(tt,rt,nt,at,it){var st=Math.min(Math.abs(nt)/2,Math.abs(at)/2),ot=at>=0?1:-1,lt=nt>=0?1:-1,ct=at>=0&&nt>=0||at<0&&nt<0?1:0,ut;if(st>0&&it instanceof Array){for(var dt=[0,0,0,0],ft=0,ht=4;ft<ht;ft++)dt[ft]=it[ft]>st?st:it[ft];ut="M".concat(tt,",").concat(rt+ot*dt[0]),dt[0]>0&&(ut+="A ".concat(dt[0],",").concat(dt[0],",0,0,").concat(ct,",").concat(tt+lt*dt[0],",").concat(rt)),ut+="L ".concat(tt+nt-lt*dt[1],",").concat(rt),dt[1]>0&&(ut+="A ".concat(dt[1],",").concat(dt[1],",0,0,").concat(ct,`,
        `).concat(tt+nt,",").concat(rt+ot*dt[1])),ut+="L ".concat(tt+nt,",").concat(rt+at-ot*dt[2]),dt[2]>0&&(ut+="A ".concat(dt[2],",").concat(dt[2],",0,0,").concat(ct,`,
        `).concat(tt+nt-lt*dt[2],",").concat(rt+at)),ut+="L ".concat(tt+lt*dt[3],",").concat(rt+at),dt[3]>0&&(ut+="A ".concat(dt[3],",").concat(dt[3],",0,0,").concat(ct,`,
        `).concat(tt,",").concat(rt+at-ot*dt[3])),ut+="Z"}else if(st>0&&it===+it&&it>0){var gt=Math.min(st,it);ut="M ".concat(tt,",").concat(rt+ot*gt,`
            A `).concat(gt,",").concat(gt,",0,0,").concat(ct,",").concat(tt+lt*gt,",").concat(rt,`
            L `).concat(tt+nt-lt*gt,",").concat(rt,`
            A `).concat(gt,",").concat(gt,",0,0,").concat(ct,",").concat(tt+nt,",").concat(rt+ot*gt,`
            L `).concat(tt+nt,",").concat(rt+at-ot*gt,`
            A `).concat(gt,",").concat(gt,",0,0,").concat(ct,",").concat(tt+nt-lt*gt,",").concat(rt+at,`
            L `).concat(tt+lt*gt,",").concat(rt+at,`
            A `).concat(gt,",").concat(gt,",0,0,").concat(ct,",").concat(tt,",").concat(rt+at-ot*gt," Z")}else ut="M ".concat(tt,",").concat(rt," h ").concat(nt," v ").concat(at," h ").concat(-nt," Z");return ut},isInRectangle=function(tt,rt){if(!tt||!rt)return!1;var nt=tt.x,at=tt.y,it=rt.x,st=rt.y,ot=rt.width,lt=rt.height;if(Math.abs(ot)>0&&Math.abs(lt)>0){var ct=Math.min(it,it+ot),ut=Math.max(it,it+ot),dt=Math.min(st,st+lt),ft=Math.max(st,st+lt);return nt>=ct&&nt<=ut&&at>=dt&&at<=ft}return!1},defaultProps$1={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=function(tt){var rt=_objectSpread$e(_objectSpread$e({},defaultProps$1),tt),nt=reactExports.useRef(),at=reactExports.useState(-1),it=_slicedToArray$3(at,2),st=it[0],ot=it[1];reactExports.useEffect(function(){if(nt.current&&nt.current.getTotalLength)try{var St=nt.current.getTotalLength();St&&ot(St)}catch{}},[]);var lt=rt.x,ct=rt.y,ut=rt.width,dt=rt.height,ft=rt.radius,ht=rt.className,gt=rt.animationEasing,mt=rt.animationDuration,xt=rt.animationBegin,vt=rt.isAnimationActive,_t=rt.isUpdateAnimationActive;if(lt!==+lt||ct!==+ct||ut!==+ut||dt!==+dt||ut===0||dt===0)return null;var yt=clsx("recharts-rectangle",ht);return _t?React$1.createElement(Animate$1,{canBegin:st>0,from:{width:ut,height:dt,x:lt,y:ct},to:{width:ut,height:dt,x:lt,y:ct},duration:mt,animationEasing:gt,isActive:_t},function(St){var bt=St.width,Et=St.height,Tt=St.x,At=St.y;return React$1.createElement(Animate$1,{canBegin:st>0,from:"0px ".concat(st===-1?1:st,"px"),to:"".concat(st,"px 0px"),attributeName:"strokeDasharray",begin:xt,duration:mt,isActive:vt,easing:gt},React$1.createElement("path",_extends$d({},filterProps(rt,!0),{className:yt,d:getRectanglePath(Tt,At,bt,Et,ft),ref:nt})))}):React$1.createElement("path",_extends$d({},filterProps(rt,!0),{className:yt,d:getRectanglePath(lt,ct,ut,dt,ft)}))},_excluded$4=["points","className","baseLinePoints","connectNulls"];function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$c.apply(this,arguments)}function _objectWithoutProperties$4(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$4(et,tt),nt,at;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(et);for(at=0;at<it.length;at++)nt=it[at],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$4(et,tt){if(et==null)return{};var rt={};for(var nt in et)if(Object.prototype.hasOwnProperty.call(et,nt)){if(tt.indexOf(nt)>=0)continue;rt[nt]=et[nt]}return rt}function _toConsumableArray$2(et){return _arrayWithoutHoles$2(et)||_iterableToArray$2(et)||_unsupportedIterableToArray$4(et)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$4(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$4(et,tt)}}function _iterableToArray$2(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function _arrayWithoutHoles$2(et){if(Array.isArray(et))return _arrayLikeToArray$4(et)}function _arrayLikeToArray$4(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}var isValidatePoint=function(tt){return tt&&tt.x===+tt.x&&tt.y===+tt.y},getParsedPoints=function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],rt=[[]];return tt.forEach(function(nt){isValidatePoint(nt)?rt[rt.length-1].push(nt):rt[rt.length-1].length>0&&rt.push([])}),isValidatePoint(tt[0])&&rt[rt.length-1].push(tt[0]),rt[rt.length-1].length<=0&&(rt=rt.slice(0,-1)),rt},getSinglePolygonPath=function(tt,rt){var nt=getParsedPoints(tt);rt&&(nt=[nt.reduce(function(it,st){return[].concat(_toConsumableArray$2(it),_toConsumableArray$2(st))},[])]);var at=nt.map(function(it){return it.reduce(function(st,ot,lt){return"".concat(st).concat(lt===0?"M":"L").concat(ot.x,",").concat(ot.y)},"")}).join("");return nt.length===1?"".concat(at,"Z"):at},getRanglePath=function(tt,rt,nt){var at=getSinglePolygonPath(tt,nt);return"".concat(at.slice(-1)==="Z"?at.slice(0,-1):at,"L").concat(getSinglePolygonPath(rt.reverse(),nt).slice(1))},Polygon=function(tt){var rt=tt.points,nt=tt.className,at=tt.baseLinePoints,it=tt.connectNulls,st=_objectWithoutProperties$4(tt,_excluded$4);if(!rt||!rt.length)return null;var ot=clsx("recharts-polygon",nt);if(at&&at.length){var lt=st.stroke&&st.stroke!=="none",ct=getRanglePath(rt,at,it);return React$1.createElement("g",{className:ot},React$1.createElement("path",_extends$c({},filterProps(st,!0),{fill:ct.slice(-1)==="Z"?st.fill:"none",stroke:"none",d:ct})),lt?React$1.createElement("path",_extends$c({},filterProps(st,!0),{fill:"none",d:getSinglePolygonPath(rt,it)})):null,lt?React$1.createElement("path",_extends$c({},filterProps(st,!0),{fill:"none",d:getSinglePolygonPath(at,it)})):null)}var ut=getSinglePolygonPath(rt,it);return React$1.createElement("path",_extends$c({},filterProps(st,!0),{fill:ut.slice(-1)==="Z"?st.fill:"none",className:ot,d:ut}))};function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$b.apply(this,arguments)}var Dot=function(tt){var rt=tt.cx,nt=tt.cy,at=tt.r,it=tt.className,st=clsx("recharts-dot",it);return rt===+rt&&nt===+nt&&at===+at?reactExports.createElement("circle",_extends$b({},filterProps(tt,!1),adaptEventHandlers(tt),{className:st,cx:rt,cy:nt,r:at})):null};function _typeof$e(et){"@babel/helpers - typeof";return _typeof$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$e(et)}var _excluded$3=["x","y","top","left","width","height","className"];function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$a.apply(this,arguments)}function ownKeys$d(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$d(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$d(Object(rt),!0).forEach(function(nt){_defineProperty$e(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$d(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$e(et,tt,rt){return tt=_toPropertyKey$e(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$e(et){var tt=_toPrimitive$e(et,"string");return _typeof$e(tt)=="symbol"?tt:tt+""}function _toPrimitive$e(et,tt){if(_typeof$e(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$e(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _objectWithoutProperties$3(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$3(et,tt),nt,at;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(et);for(at=0;at<it.length;at++)nt=it[at],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$3(et,tt){if(et==null)return{};var rt={};for(var nt in et)if(Object.prototype.hasOwnProperty.call(et,nt)){if(tt.indexOf(nt)>=0)continue;rt[nt]=et[nt]}return rt}var getPath=function(tt,rt,nt,at,it,st){return"M".concat(tt,",").concat(it,"v").concat(at,"M").concat(st,",").concat(rt,"h").concat(nt)},Cross=function(tt){var rt=tt.x,nt=rt===void 0?0:rt,at=tt.y,it=at===void 0?0:at,st=tt.top,ot=st===void 0?0:st,lt=tt.left,ct=lt===void 0?0:lt,ut=tt.width,dt=ut===void 0?0:ut,ft=tt.height,ht=ft===void 0?0:ft,gt=tt.className,mt=_objectWithoutProperties$3(tt,_excluded$3),xt=_objectSpread$d({x:nt,y:it,top:ot,left:ct,width:dt,height:ht},mt);return!isNumber(nt)||!isNumber(it)||!isNumber(dt)||!isNumber(ht)||!isNumber(ot)||!isNumber(ct)?null:React$1.createElement("path",_extends$a({},filterProps(xt,!0),{className:clsx("recharts-cross",gt),d:getPath(nt,it,dt,ht,ot,ct)}))},baseExtremum$1=_baseExtremum,baseGt=_baseGt,baseIteratee$4=_baseIteratee;function maxBy(et,tt){return et&&et.length?baseExtremum$1(et,baseIteratee$4(tt),baseGt):void 0}var maxBy_1=maxBy;const maxBy$1=getDefaultExportFromCjs(maxBy_1);var baseExtremum=_baseExtremum,baseIteratee$3=_baseIteratee,baseLt=_baseLt;function minBy(et,tt){return et&&et.length?baseExtremum(et,baseIteratee$3(tt),baseLt):void 0}var minBy_1=minBy;const minBy$1=getDefaultExportFromCjs(minBy_1);var _excluded$2=["cx","cy","angle","ticks","axisLine"],_excluded2$1=["ticks","tick","angle","tickFormatter","stroke"];function _typeof$d(et){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$d(et)}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$9.apply(this,arguments)}function ownKeys$c(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$c(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$c(Object(rt),!0).forEach(function(nt){_defineProperty$d(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$c(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _objectWithoutProperties$2(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$2(et,tt),nt,at;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(et);for(at=0;at<it.length;at++)nt=it[at],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$2(et,tt){if(et==null)return{};var rt={};for(var nt in et)if(Object.prototype.hasOwnProperty.call(et,nt)){if(tt.indexOf(nt)>=0)continue;rt[nt]=et[nt]}return rt}function _classCallCheck$9(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$d(nt.key),nt)}}function _createClass$9(et,tt,rt){return tt&&_defineProperties$9(et.prototype,tt),rt&&_defineProperties$9(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper$7(et,tt,rt){return tt=_getPrototypeOf$7(tt),_possibleConstructorReturn$7(et,_isNativeReflectConstruct$7()?Reflect.construct(tt,rt||[],_getPrototypeOf$7(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn$7(et,tt){if(tt&&(_typeof$d(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$7(et)}function _assertThisInitialized$7(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct$7(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$7=function(){return!!et})()}function _getPrototypeOf$7(et){return _getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$7(et)}function _inherits$7(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$7(et,tt)}function _setPrototypeOf$7(et,tt){return _setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,at){return nt.__proto__=at,nt},_setPrototypeOf$7(et,tt)}function _defineProperty$d(et,tt,rt){return tt=_toPropertyKey$d(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$d(et){var tt=_toPrimitive$d(et,"string");return _typeof$d(tt)=="symbol"?tt:tt+""}function _toPrimitive$d(et,tt){if(_typeof$d(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$d(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var PolarRadiusAxis=function(et){function tt(){return _classCallCheck$9(this,tt),_callSuper$7(this,tt,arguments)}return _inherits$7(tt,et),_createClass$9(tt,[{key:"getTickValueCoord",value:function(nt){var at=nt.coordinate,it=this.props,st=it.angle,ot=it.cx,lt=it.cy;return polarToCartesian(ot,lt,at,st)}},{key:"getTickTextAnchor",value:function(){var nt=this.props.orientation,at;switch(nt){case"left":at="end";break;case"right":at="start";break;default:at="middle";break}return at}},{key:"getViewBox",value:function(){var nt=this.props,at=nt.cx,it=nt.cy,st=nt.angle,ot=nt.ticks,lt=maxBy$1(ot,function(ut){return ut.coordinate||0}),ct=minBy$1(ot,function(ut){return ut.coordinate||0});return{cx:at,cy:it,startAngle:st,endAngle:st,innerRadius:ct.coordinate||0,outerRadius:lt.coordinate||0}}},{key:"renderAxisLine",value:function(){var nt=this.props,at=nt.cx,it=nt.cy,st=nt.angle,ot=nt.ticks,lt=nt.axisLine,ct=_objectWithoutProperties$2(nt,_excluded$2),ut=ot.reduce(function(gt,mt){return[Math.min(gt[0],mt.coordinate),Math.max(gt[1],mt.coordinate)]},[1/0,-1/0]),dt=polarToCartesian(at,it,ut[0],st),ft=polarToCartesian(at,it,ut[1],st),ht=_objectSpread$c(_objectSpread$c(_objectSpread$c({},filterProps(ct,!1)),{},{fill:"none"},filterProps(lt,!1)),{},{x1:dt.x,y1:dt.y,x2:ft.x,y2:ft.y});return React$1.createElement("line",_extends$9({className:"recharts-polar-radius-axis-line"},ht))}},{key:"renderTicks",value:function(){var nt=this,at=this.props,it=at.ticks,st=at.tick,ot=at.angle,lt=at.tickFormatter,ct=at.stroke,ut=_objectWithoutProperties$2(at,_excluded2$1),dt=this.getTickTextAnchor(),ft=filterProps(ut,!1),ht=filterProps(st,!1),gt=it.map(function(mt,xt){var vt=nt.getTickValueCoord(mt),_t=_objectSpread$c(_objectSpread$c(_objectSpread$c(_objectSpread$c({textAnchor:dt,transform:"rotate(".concat(90-ot,", ").concat(vt.x,", ").concat(vt.y,")")},ft),{},{stroke:"none",fill:ct},ht),{},{index:xt},vt),{},{payload:mt});return React$1.createElement(Layer,_extends$9({className:clsx("recharts-polar-radius-axis-tick",getTickClassName(st)),key:"tick-".concat(mt.coordinate)},adaptEventsOfChild(nt.props,mt,xt)),tt.renderTickItem(st,_t,lt?lt(mt.value,xt):mt.value))});return React$1.createElement(Layer,{className:"recharts-polar-radius-axis-ticks"},gt)}},{key:"render",value:function(){var nt=this.props,at=nt.ticks,it=nt.axisLine,st=nt.tick;return!at||!at.length?null:React$1.createElement(Layer,{className:clsx("recharts-polar-radius-axis",this.props.className)},it&&this.renderAxisLine(),st&&this.renderTicks(),Label$1.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(nt,at,it){var st;return React$1.isValidElement(nt)?st=React$1.cloneElement(nt,at):isFunction$3(nt)?st=nt(at):st=React$1.createElement(Text,_extends$9({},at,{className:"recharts-polar-radius-axis-tick-value"}),it),st}}])}(reactExports.PureComponent);_defineProperty$d(PolarRadiusAxis,"displayName","PolarRadiusAxis");_defineProperty$d(PolarRadiusAxis,"axisType","radiusAxis");_defineProperty$d(PolarRadiusAxis,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function _typeof$c(et){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$c(et)}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$8.apply(this,arguments)}function ownKeys$b(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$b(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$b(Object(rt),!0).forEach(function(nt){_defineProperty$c(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$b(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _classCallCheck$8(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$c(nt.key),nt)}}function _createClass$8(et,tt,rt){return tt&&_defineProperties$8(et.prototype,tt),rt&&_defineProperties$8(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper$6(et,tt,rt){return tt=_getPrototypeOf$6(tt),_possibleConstructorReturn$6(et,_isNativeReflectConstruct$6()?Reflect.construct(tt,rt||[],_getPrototypeOf$6(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn$6(et,tt){if(tt&&(_typeof$c(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$6(et)}function _assertThisInitialized$6(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct$6(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$6=function(){return!!et})()}function _getPrototypeOf$6(et){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$6(et)}function _inherits$6(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$6(et,tt)}function _setPrototypeOf$6(et,tt){return _setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,at){return nt.__proto__=at,nt},_setPrototypeOf$6(et,tt)}function _defineProperty$c(et,tt,rt){return tt=_toPropertyKey$c(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$c(et){var tt=_toPrimitive$c(et,"string");return _typeof$c(tt)=="symbol"?tt:tt+""}function _toPrimitive$c(et,tt){if(_typeof$c(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$c(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var RADIAN=Math.PI/180,eps=1e-5,PolarAngleAxis=function(et){function tt(){return _classCallCheck$8(this,tt),_callSuper$6(this,tt,arguments)}return _inherits$6(tt,et),_createClass$8(tt,[{key:"getTickLineCoord",value:function(nt){var at=this.props,it=at.cx,st=at.cy,ot=at.radius,lt=at.orientation,ct=at.tickSize,ut=ct||8,dt=polarToCartesian(it,st,ot,nt.coordinate),ft=polarToCartesian(it,st,ot+(lt==="inner"?-1:1)*ut,nt.coordinate);return{x1:dt.x,y1:dt.y,x2:ft.x,y2:ft.y}}},{key:"getTickTextAnchor",value:function(nt){var at=this.props.orientation,it=Math.cos(-nt.coordinate*RADIAN),st;return it>eps?st=at==="outer"?"start":"end":it<-eps?st=at==="outer"?"end":"start":st="middle",st}},{key:"renderAxisLine",value:function(){var nt=this.props,at=nt.cx,it=nt.cy,st=nt.radius,ot=nt.axisLine,lt=nt.axisLineType,ct=_objectSpread$b(_objectSpread$b({},filterProps(this.props,!1)),{},{fill:"none"},filterProps(ot,!1));if(lt==="circle")return React$1.createElement(Dot,_extends$8({className:"recharts-polar-angle-axis-line"},ct,{cx:at,cy:it,r:st}));var ut=this.props.ticks,dt=ut.map(function(ft){return polarToCartesian(at,it,st,ft.coordinate)});return React$1.createElement(Polygon,_extends$8({className:"recharts-polar-angle-axis-line"},ct,{points:dt}))}},{key:"renderTicks",value:function(){var nt=this,at=this.props,it=at.ticks,st=at.tick,ot=at.tickLine,lt=at.tickFormatter,ct=at.stroke,ut=filterProps(this.props,!1),dt=filterProps(st,!1),ft=_objectSpread$b(_objectSpread$b({},ut),{},{fill:"none"},filterProps(ot,!1)),ht=it.map(function(gt,mt){var xt=nt.getTickLineCoord(gt),vt=nt.getTickTextAnchor(gt),_t=_objectSpread$b(_objectSpread$b(_objectSpread$b({textAnchor:vt},ut),{},{stroke:"none",fill:ct},dt),{},{index:mt,payload:gt,x:xt.x2,y:xt.y2});return React$1.createElement(Layer,_extends$8({className:clsx("recharts-polar-angle-axis-tick",getTickClassName(st)),key:"tick-".concat(gt.coordinate)},adaptEventsOfChild(nt.props,gt,mt)),ot&&React$1.createElement("line",_extends$8({className:"recharts-polar-angle-axis-tick-line"},ft,xt)),st&&tt.renderTickItem(st,_t,lt?lt(gt.value,mt):gt.value))});return React$1.createElement(Layer,{className:"recharts-polar-angle-axis-ticks"},ht)}},{key:"render",value:function(){var nt=this.props,at=nt.ticks,it=nt.radius,st=nt.axisLine;return it<=0||!at||!at.length?null:React$1.createElement(Layer,{className:clsx("recharts-polar-angle-axis",this.props.className)},st&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(nt,at,it){var st;return React$1.isValidElement(nt)?st=React$1.cloneElement(nt,at):isFunction$3(nt)?st=nt(at):st=React$1.createElement(Text,_extends$8({},at,{className:"recharts-polar-angle-axis-tick-value"}),it),st}}])}(reactExports.PureComponent);_defineProperty$c(PolarAngleAxis,"displayName","PolarAngleAxis");_defineProperty$c(PolarAngleAxis,"axisType","angleAxis");_defineProperty$c(PolarAngleAxis,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var overArg=_overArg,getPrototype$1=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$1,baseGetTag$1=_baseGetTag,getPrototype=_getPrototype,isObjectLike$1=isObjectLike_1,objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(et){if(!isObjectLike$1(et)||baseGetTag$1(et)!=objectTag)return!1;var tt=getPrototype(et);if(tt===null)return!0;var rt=hasOwnProperty.call(tt,"constructor")&&tt.constructor;return typeof rt=="function"&&rt instanceof rt&&funcToString.call(rt)==objectCtorString}var isPlainObject_1=isPlainObject;const isPlainObject$1=getDefaultExportFromCjs(isPlainObject_1);var baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,boolTag="[object Boolean]";function isBoolean(et){return et===!0||et===!1||isObjectLike(et)&&baseGetTag(et)==boolTag}var isBoolean_1=isBoolean;const isBoolean$1=getDefaultExportFromCjs(isBoolean_1);function _typeof$b(et){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$b(et)}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$7.apply(this,arguments)}function _slicedToArray$2(et,tt){return _arrayWithHoles$2(et)||_iterableToArrayLimit$2(et,tt)||_unsupportedIterableToArray$3(et,tt)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$3(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$3(et,tt)}}function _arrayLikeToArray$3(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$2(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,at,it,st,ot=[],lt=!0,ct=!1;try{if(it=(rt=rt.call(et)).next,tt===0){if(Object(rt)!==rt)return;lt=!1}else for(;!(lt=(nt=it.call(rt)).done)&&(ot.push(nt.value),ot.length!==tt);lt=!0);}catch(ut){ct=!0,at=ut}finally{try{if(!lt&&rt.return!=null&&(st=rt.return(),Object(st)!==st))return}finally{if(ct)throw at}}return ot}}function _arrayWithHoles$2(et){if(Array.isArray(et))return et}function ownKeys$a(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$a(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$a(Object(rt),!0).forEach(function(nt){_defineProperty$b(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$a(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$b(et,tt,rt){return tt=_toPropertyKey$b(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$b(et){var tt=_toPrimitive$b(et,"string");return _typeof$b(tt)=="symbol"?tt:tt+""}function _toPrimitive$b(et,tt){if(_typeof$b(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$b(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var getTrapezoidPath=function(tt,rt,nt,at,it){var st=nt-at,ot;return ot="M ".concat(tt,",").concat(rt),ot+="L ".concat(tt+nt,",").concat(rt),ot+="L ".concat(tt+nt-st/2,",").concat(rt+it),ot+="L ".concat(tt+nt-st/2-at,",").concat(rt+it),ot+="L ".concat(tt,",").concat(rt," Z"),ot},defaultProps={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=function(tt){var rt=_objectSpread$a(_objectSpread$a({},defaultProps),tt),nt=reactExports.useRef(),at=reactExports.useState(-1),it=_slicedToArray$2(at,2),st=it[0],ot=it[1];reactExports.useEffect(function(){if(nt.current&&nt.current.getTotalLength)try{var yt=nt.current.getTotalLength();yt&&ot(yt)}catch{}},[]);var lt=rt.x,ct=rt.y,ut=rt.upperWidth,dt=rt.lowerWidth,ft=rt.height,ht=rt.className,gt=rt.animationEasing,mt=rt.animationDuration,xt=rt.animationBegin,vt=rt.isUpdateAnimationActive;if(lt!==+lt||ct!==+ct||ut!==+ut||dt!==+dt||ft!==+ft||ut===0&&dt===0||ft===0)return null;var _t=clsx("recharts-trapezoid",ht);return vt?React$1.createElement(Animate$1,{canBegin:st>0,from:{upperWidth:0,lowerWidth:0,height:ft,x:lt,y:ct},to:{upperWidth:ut,lowerWidth:dt,height:ft,x:lt,y:ct},duration:mt,animationEasing:gt,isActive:vt},function(yt){var St=yt.upperWidth,bt=yt.lowerWidth,Et=yt.height,Tt=yt.x,At=yt.y;return React$1.createElement(Animate$1,{canBegin:st>0,from:"0px ".concat(st===-1?1:st,"px"),to:"".concat(st,"px 0px"),attributeName:"strokeDasharray",begin:xt,duration:mt,easing:gt},React$1.createElement("path",_extends$7({},filterProps(rt,!0),{className:_t,d:getTrapezoidPath(Tt,At,St,bt,Et),ref:nt})))}):React$1.createElement("g",null,React$1.createElement("path",_extends$7({},filterProps(rt,!0),{className:_t,d:getTrapezoidPath(lt,ct,ut,dt,ft)})))},_excluded$1=["option","shapeType","propTransformer","activeClassName","isActive"];function _typeof$a(et){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$a(et)}function _objectWithoutProperties$1(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$1(et,tt),nt,at;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(et);for(at=0;at<it.length;at++)nt=it[at],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$1(et,tt){if(et==null)return{};var rt={};for(var nt in et)if(Object.prototype.hasOwnProperty.call(et,nt)){if(tt.indexOf(nt)>=0)continue;rt[nt]=et[nt]}return rt}function ownKeys$9(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$9(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$9(Object(rt),!0).forEach(function(nt){_defineProperty$a(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$9(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$a(et,tt,rt){return tt=_toPropertyKey$a(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$a(et){var tt=_toPrimitive$a(et,"string");return _typeof$a(tt)=="symbol"?tt:tt+""}function _toPrimitive$a(et,tt){if(_typeof$a(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$a(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function defaultPropTransformer(et,tt){return _objectSpread$9(_objectSpread$9({},tt),et)}function isSymbolsProps(et,tt){return et==="symbols"}function ShapeSelector(et){var tt=et.shapeType,rt=et.elementProps;switch(tt){case"rectangle":return React$1.createElement(Rectangle,rt);case"trapezoid":return React$1.createElement(Trapezoid,rt);case"sector":return React$1.createElement(Sector,rt);case"symbols":if(isSymbolsProps(tt))return React$1.createElement(Symbols,rt);break;default:return null}}function getPropsFromShapeOption(et){return reactExports.isValidElement(et)?et.props:et}function Shape(et){var tt=et.option,rt=et.shapeType,nt=et.propTransformer,at=nt===void 0?defaultPropTransformer:nt,it=et.activeClassName,st=it===void 0?"recharts-active-shape":it,ot=et.isActive,lt=_objectWithoutProperties$1(et,_excluded$1),ct;if(reactExports.isValidElement(tt))ct=reactExports.cloneElement(tt,_objectSpread$9(_objectSpread$9({},lt),getPropsFromShapeOption(tt)));else if(isFunction$3(tt))ct=tt(lt);else if(isPlainObject$1(tt)&&!isBoolean$1(tt)){var ut=at(tt,lt);ct=React$1.createElement(ShapeSelector,{shapeType:rt,elementProps:ut})}else{var dt=lt;ct=React$1.createElement(ShapeSelector,{shapeType:rt,elementProps:dt})}return ot?React$1.createElement(Layer,{className:st},ct):ct}function isFunnel(et,tt){return tt!=null&&"trapezoids"in et.props}function isPie(et,tt){return tt!=null&&"sectors"in et.props}function isScatter(et,tt){return tt!=null&&"points"in et.props}function compareFunnel(et,tt){var rt,nt,at=et.x===(tt==null||(rt=tt.labelViewBox)===null||rt===void 0?void 0:rt.x)||et.x===tt.x,it=et.y===(tt==null||(nt=tt.labelViewBox)===null||nt===void 0?void 0:nt.y)||et.y===tt.y;return at&&it}function comparePie(et,tt){var rt=et.endAngle===tt.endAngle,nt=et.startAngle===tt.startAngle;return rt&&nt}function compareScatter(et,tt){var rt=et.x===tt.x,nt=et.y===tt.y,at=et.z===tt.z;return rt&&nt&&at}function getComparisonFn(et,tt){var rt;return isFunnel(et,tt)?rt=compareFunnel:isPie(et,tt)?rt=comparePie:isScatter(et,tt)&&(rt=compareScatter),rt}function getShapeDataKey(et,tt){var rt;return isFunnel(et,tt)?rt="trapezoids":isPie(et,tt)?rt="sectors":isScatter(et,tt)&&(rt="points"),rt}function getActiveShapeTooltipPayload(et,tt){if(isFunnel(et,tt)){var rt;return(rt=tt.tooltipPayload)===null||rt===void 0||(rt=rt[0])===null||rt===void 0||(rt=rt.payload)===null||rt===void 0?void 0:rt.payload}if(isPie(et,tt)){var nt;return(nt=tt.tooltipPayload)===null||nt===void 0||(nt=nt[0])===null||nt===void 0||(nt=nt.payload)===null||nt===void 0?void 0:nt.payload}return isScatter(et,tt)?tt.payload:{}}function getActiveShapeIndexForTooltip(et){var tt=et.activeTooltipItem,rt=et.graphicalItem,nt=et.itemData,at=getShapeDataKey(rt,tt),it=getActiveShapeTooltipPayload(rt,tt),st=nt.filter(function(lt,ct){var ut=isEqual$1(it,lt),dt=rt.props[at].filter(function(gt){var mt=getComparisonFn(rt,tt);return mt(gt,tt)}),ft=rt.props[at].indexOf(dt[dt.length-1]),ht=ct===ft;return ut&&ht}),ot=nt.indexOf(st[st.length-1]);return ot}var _Pie;function _typeof$9(et){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$9(et)}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$6.apply(this,arguments)}function ownKeys$8(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$8(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$8(Object(rt),!0).forEach(function(nt){_defineProperty$9(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$8(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _classCallCheck$7(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$9(nt.key),nt)}}function _createClass$7(et,tt,rt){return tt&&_defineProperties$7(et.prototype,tt),rt&&_defineProperties$7(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper$5(et,tt,rt){return tt=_getPrototypeOf$5(tt),_possibleConstructorReturn$5(et,_isNativeReflectConstruct$5()?Reflect.construct(tt,rt||[],_getPrototypeOf$5(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn$5(et,tt){if(tt&&(_typeof$9(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$5(et)}function _assertThisInitialized$5(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct$5(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$5=function(){return!!et})()}function _getPrototypeOf$5(et){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$5(et)}function _inherits$5(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$5(et,tt)}function _setPrototypeOf$5(et,tt){return _setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,at){return nt.__proto__=at,nt},_setPrototypeOf$5(et,tt)}function _defineProperty$9(et,tt,rt){return tt=_toPropertyKey$9(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$9(et){var tt=_toPrimitive$9(et,"string");return _typeof$9(tt)=="symbol"?tt:tt+""}function _toPrimitive$9(et,tt){if(_typeof$9(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$9(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var Pie=function(et){function tt(rt){var nt;return _classCallCheck$7(this,tt),nt=_callSuper$5(this,tt,[rt]),_defineProperty$9(nt,"pieRef",null),_defineProperty$9(nt,"sectorRefs",[]),_defineProperty$9(nt,"id",uniqueId("recharts-pie-")),_defineProperty$9(nt,"handleAnimationEnd",function(){var at=nt.props.onAnimationEnd;nt.setState({isAnimationFinished:!0}),isFunction$3(at)&&at()}),_defineProperty$9(nt,"handleAnimationStart",function(){var at=nt.props.onAnimationStart;nt.setState({isAnimationFinished:!1}),isFunction$3(at)&&at()}),nt.state={isAnimationFinished:!rt.isAnimationActive,prevIsAnimationActive:rt.isAnimationActive,prevAnimationId:rt.animationId,sectorToFocus:0},nt}return _inherits$5(tt,et),_createClass$7(tt,[{key:"isActiveIndex",value:function(nt){var at=this.props.activeIndex;return Array.isArray(at)?at.indexOf(nt)!==-1:nt===at}},{key:"hasActiveIndex",value:function(){var nt=this.props.activeIndex;return Array.isArray(nt)?nt.length!==0:nt||nt===0}},{key:"renderLabels",value:function(nt){var at=this.props.isAnimationActive;if(at&&!this.state.isAnimationFinished)return null;var it=this.props,st=it.label,ot=it.labelLine,lt=it.dataKey,ct=it.valueKey,ut=filterProps(this.props,!1),dt=filterProps(st,!1),ft=filterProps(ot,!1),ht=st&&st.offsetRadius||20,gt=nt.map(function(mt,xt){var vt=(mt.startAngle+mt.endAngle)/2,_t=polarToCartesian(mt.cx,mt.cy,mt.outerRadius+ht,vt),yt=_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8({},ut),mt),{},{stroke:"none"},dt),{},{index:xt,textAnchor:tt.getTextAnchor(_t.x,mt.cx)},_t),St=_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8({},ut),mt),{},{fill:"none",stroke:mt.fill},ft),{},{index:xt,points:[polarToCartesian(mt.cx,mt.cy,mt.outerRadius,vt),_t]}),bt=lt;return isNil$1(lt)&&isNil$1(ct)?bt="value":isNil$1(lt)&&(bt=ct),React$1.createElement(Layer,{key:"label-".concat(mt.startAngle,"-").concat(mt.endAngle,"-").concat(mt.midAngle,"-").concat(xt)},ot&&tt.renderLabelLineItem(ot,St,"line"),tt.renderLabelItem(st,yt,getValueByDataKey(mt,bt)))});return React$1.createElement(Layer,{className:"recharts-pie-labels"},gt)}},{key:"renderSectorsStatically",value:function(nt){var at=this,it=this.props,st=it.activeShape,ot=it.blendStroke,lt=it.inactiveShape;return nt.map(function(ct,ut){if((ct==null?void 0:ct.startAngle)===0&&(ct==null?void 0:ct.endAngle)===0&&nt.length!==1)return null;var dt=at.isActiveIndex(ut),ft=lt&&at.hasActiveIndex()?lt:null,ht=dt?st:ft,gt=_objectSpread$8(_objectSpread$8({},ct),{},{stroke:ot?ct.fill:ct.stroke,tabIndex:-1});return React$1.createElement(Layer,_extends$6({ref:function(xt){xt&&!at.sectorRefs.includes(xt)&&at.sectorRefs.push(xt)},tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(at.props,ct,ut),{key:"sector-".concat(ct==null?void 0:ct.startAngle,"-").concat(ct==null?void 0:ct.endAngle,"-").concat(ct.midAngle,"-").concat(ut)}),React$1.createElement(Shape,_extends$6({option:ht,isActive:dt,shapeType:"sector"},gt)))})}},{key:"renderSectorsWithAnimation",value:function(){var nt=this,at=this.props,it=at.sectors,st=at.isAnimationActive,ot=at.animationBegin,lt=at.animationDuration,ct=at.animationEasing,ut=at.animationId,dt=this.state,ft=dt.prevSectors,ht=dt.prevIsAnimationActive;return React$1.createElement(Animate$1,{begin:ot,duration:lt,isActive:st,easing:ct,from:{t:0},to:{t:1},key:"pie-".concat(ut,"-").concat(ht),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(gt){var mt=gt.t,xt=[],vt=it&&it[0],_t=vt.startAngle;return it.forEach(function(yt,St){var bt=ft&&ft[St],Et=St>0?get$2(yt,"paddingAngle",0):0;if(bt){var Tt=interpolateNumber$2(bt.endAngle-bt.startAngle,yt.endAngle-yt.startAngle),At=_objectSpread$8(_objectSpread$8({},yt),{},{startAngle:_t+Et,endAngle:_t+Tt(mt)+Et});xt.push(At),_t=At.endAngle}else{var Ct=yt.endAngle,kt=yt.startAngle,Pt=interpolateNumber$2(0,Ct-kt),Dt=Pt(mt),Ft=_objectSpread$8(_objectSpread$8({},yt),{},{startAngle:_t+Et,endAngle:_t+Dt+Et});xt.push(Ft),_t=Ft.endAngle}}),React$1.createElement(Layer,null,nt.renderSectorsStatically(xt))})}},{key:"attachKeyboardHandlers",value:function(nt){var at=this;nt.onkeydown=function(it){if(!it.altKey)switch(it.key){case"ArrowLeft":{var st=++at.state.sectorToFocus%at.sectorRefs.length;at.sectorRefs[st].focus(),at.setState({sectorToFocus:st});break}case"ArrowRight":{var ot=--at.state.sectorToFocus<0?at.sectorRefs.length-1:at.state.sectorToFocus%at.sectorRefs.length;at.sectorRefs[ot].focus(),at.setState({sectorToFocus:ot});break}case"Escape":{at.sectorRefs[at.state.sectorToFocus].blur(),at.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var nt=this.props,at=nt.sectors,it=nt.isAnimationActive,st=this.state.prevSectors;return it&&at&&at.length&&(!st||!isEqual$1(st,at))?this.renderSectorsWithAnimation():this.renderSectorsStatically(at)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var nt=this,at=this.props,it=at.hide,st=at.sectors,ot=at.className,lt=at.label,ct=at.cx,ut=at.cy,dt=at.innerRadius,ft=at.outerRadius,ht=at.isAnimationActive,gt=this.state.isAnimationFinished;if(it||!st||!st.length||!isNumber(ct)||!isNumber(ut)||!isNumber(dt)||!isNumber(ft))return null;var mt=clsx("recharts-pie",ot);return React$1.createElement(Layer,{tabIndex:this.props.rootTabIndex,className:mt,ref:function(vt){nt.pieRef=vt}},this.renderSectors(),lt&&this.renderLabels(st),Label$1.renderCallByParent(this.props,null,!1),(!ht||gt)&&LabelList.renderCallByParent(this.props,st,!1))}}],[{key:"getDerivedStateFromProps",value:function(nt,at){return at.prevIsAnimationActive!==nt.isAnimationActive?{prevIsAnimationActive:nt.isAnimationActive,prevAnimationId:nt.animationId,curSectors:nt.sectors,prevSectors:[],isAnimationFinished:!0}:nt.isAnimationActive&&nt.animationId!==at.prevAnimationId?{prevAnimationId:nt.animationId,curSectors:nt.sectors,prevSectors:at.curSectors,isAnimationFinished:!0}:nt.sectors!==at.curSectors?{curSectors:nt.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(nt,at){return nt>at?"start":nt<at?"end":"middle"}},{key:"renderLabelLineItem",value:function(nt,at,it){if(React$1.isValidElement(nt))return React$1.cloneElement(nt,at);if(isFunction$3(nt))return nt(at);var st=clsx("recharts-pie-label-line",typeof nt!="boolean"?nt.className:"");return React$1.createElement(Curve,_extends$6({},at,{key:it,type:"linear",className:st}))}},{key:"renderLabelItem",value:function(nt,at,it){if(React$1.isValidElement(nt))return React$1.cloneElement(nt,at);var st=it;if(isFunction$3(nt)&&(st=nt(at),React$1.isValidElement(st)))return st;var ot=clsx("recharts-pie-label-text",typeof nt!="boolean"&&!isFunction$3(nt)?nt.className:"");return React$1.createElement(Text,_extends$6({},at,{alignmentBaseline:"middle",className:ot}),st)}}])}(reactExports.PureComponent);_Pie=Pie;_defineProperty$9(Pie,"displayName","Pie");_defineProperty$9(Pie,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Global.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});_defineProperty$9(Pie,"parseDeltaAngle",function(et,tt){var rt=mathSign(tt-et),nt=Math.min(Math.abs(tt-et),360);return rt*nt});_defineProperty$9(Pie,"getRealPieData",function(et){var tt=et.data,rt=et.children,nt=filterProps(et,!1),at=findAllByType(rt,Cell);return tt&&tt.length?tt.map(function(it,st){return _objectSpread$8(_objectSpread$8(_objectSpread$8({payload:it},nt),it),at&&at[st]&&at[st].props)}):at&&at.length?at.map(function(it){return _objectSpread$8(_objectSpread$8({},nt),it.props)}):[]});_defineProperty$9(Pie,"parseCoordinateOfPie",function(et,tt){var rt=tt.top,nt=tt.left,at=tt.width,it=tt.height,st=getMaxRadius(at,it),ot=nt+getPercentValue(et.cx,at,at/2),lt=rt+getPercentValue(et.cy,it,it/2),ct=getPercentValue(et.innerRadius,st,0),ut=getPercentValue(et.outerRadius,st,st*.8),dt=et.maxRadius||Math.sqrt(at*at+it*it)/2;return{cx:ot,cy:lt,innerRadius:ct,outerRadius:ut,maxRadius:dt}});_defineProperty$9(Pie,"getComposedData",function(et){var tt=et.item,rt=et.offset,nt=tt.type.defaultProps!==void 0?_objectSpread$8(_objectSpread$8({},tt.type.defaultProps),tt.props):tt.props,at=_Pie.getRealPieData(nt);if(!at||!at.length)return null;var it=nt.cornerRadius,st=nt.startAngle,ot=nt.endAngle,lt=nt.paddingAngle,ct=nt.dataKey,ut=nt.nameKey,dt=nt.valueKey,ft=nt.tooltipType,ht=Math.abs(nt.minAngle),gt=_Pie.parseCoordinateOfPie(nt,rt),mt=_Pie.parseDeltaAngle(st,ot),xt=Math.abs(mt),vt=ct;isNil$1(ct)&&isNil$1(dt)?(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),vt="value"):isNil$1(ct)&&(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),vt=dt);var _t=at.filter(function(At){return getValueByDataKey(At,vt,0)!==0}).length,yt=(xt>=360?_t:_t-1)*lt,St=xt-_t*ht-yt,bt=at.reduce(function(At,Ct){var kt=getValueByDataKey(Ct,vt,0);return At+(isNumber(kt)?kt:0)},0),Et;if(bt>0){var Tt;Et=at.map(function(At,Ct){var kt=getValueByDataKey(At,vt,0),Pt=getValueByDataKey(At,ut,Ct),Dt=(isNumber(kt)?kt:0)/bt,Ft;Ct?Ft=Tt.endAngle+mathSign(mt)*lt*(kt!==0?1:0):Ft=st;var Ot=Ft+mathSign(mt)*((kt!==0?ht:0)+Dt*St),It=(Ft+Ot)/2,Bt=(gt.innerRadius+gt.outerRadius)/2,qt=[{name:Pt,value:kt,payload:At,dataKey:vt,type:ft}],Ut=polarToCartesian(gt.cx,gt.cy,Bt,It);return Tt=_objectSpread$8(_objectSpread$8(_objectSpread$8({percent:Dt,cornerRadius:it,name:Pt,tooltipPayload:qt,midAngle:It,middleRadius:Bt,tooltipPosition:Ut},At),gt),{},{value:getValueByDataKey(At,vt),startAngle:Ft,endAngle:Ot,payload:At,paddingAngle:mathSign(mt)*lt}),Tt})}return _objectSpread$8(_objectSpread$8({},gt),{},{sectors:Et,data:at})});var nativeCeil=Math.ceil,nativeMax=Math.max;function baseRange$1(et,tt,rt,nt){for(var at=-1,it=nativeMax(nativeCeil((tt-et)/(rt||1)),0),st=Array(it);it--;)st[nt?it:++at]=et,et+=rt;return st}var _baseRange=baseRange$1,toNumber=toNumber_1,INFINITY=1/0,MAX_INTEGER=17976931348623157e292;function toFinite$1(et){if(!et)return et===0?et:0;if(et=toNumber(et),et===INFINITY||et===-INFINITY){var tt=et<0?-1:1;return tt*MAX_INTEGER}return et===et?et:0}var toFinite_1=toFinite$1,baseRange=_baseRange,isIterateeCall$2=_isIterateeCall,toFinite=toFinite_1;function createRange$1(et){return function(tt,rt,nt){return nt&&typeof nt!="number"&&isIterateeCall$2(tt,rt,nt)&&(rt=nt=void 0),tt=toFinite(tt),rt===void 0?(rt=tt,tt=0):rt=toFinite(rt),nt=nt===void 0?tt<rt?1:-1:toFinite(nt),baseRange(tt,rt,nt,et)}}var _createRange=createRange$1,createRange=_createRange,range$1=createRange(),range_1=range$1;const range$2=getDefaultExportFromCjs(range_1);function _typeof$8(et){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$8(et)}function ownKeys$7(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$7(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$7(Object(rt),!0).forEach(function(nt){_defineProperty$8(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$7(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$8(et,tt,rt){return tt=_toPropertyKey$8(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$8(et){var tt=_toPrimitive$8(et,"string");return _typeof$8(tt)=="symbol"?tt:tt+""}function _toPrimitive$8(et,tt){if(_typeof$8(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$8(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var PREFIX_LIST=["Webkit","Moz","O","ms"],generatePrefixStyle=function(tt,rt){if(!tt)return null;var nt=tt.replace(/(\w)/,function(it){return it.toUpperCase()}),at=PREFIX_LIST.reduce(function(it,st){return _objectSpread$7(_objectSpread$7({},it),{},_defineProperty$8({},st+nt,rt))},{});return at[tt]=rt,at};function _typeof$7(et){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$7(et)}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$5.apply(this,arguments)}function ownKeys$6(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$6(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$6(Object(rt),!0).forEach(function(nt){_defineProperty$7(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$6(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _classCallCheck$6(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$7(nt.key),nt)}}function _createClass$6(et,tt,rt){return tt&&_defineProperties$6(et.prototype,tt),rt&&_defineProperties$6(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper$4(et,tt,rt){return tt=_getPrototypeOf$4(tt),_possibleConstructorReturn$4(et,_isNativeReflectConstruct$4()?Reflect.construct(tt,rt||[],_getPrototypeOf$4(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn$4(et,tt){if(tt&&(_typeof$7(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4(et)}function _assertThisInitialized$4(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct$4(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$4=function(){return!!et})()}function _getPrototypeOf$4(et){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$4(et)}function _inherits$4(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$4(et,tt)}function _setPrototypeOf$4(et,tt){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,at){return nt.__proto__=at,nt},_setPrototypeOf$4(et,tt)}function _defineProperty$7(et,tt,rt){return tt=_toPropertyKey$7(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$7(et){var tt=_toPrimitive$7(et,"string");return _typeof$7(tt)=="symbol"?tt:tt+""}function _toPrimitive$7(et,tt){if(_typeof$7(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$7(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var createScale=function(tt){var rt=tt.data,nt=tt.startIndex,at=tt.endIndex,it=tt.x,st=tt.width,ot=tt.travellerWidth;if(!rt||!rt.length)return{};var lt=rt.length,ct=point().domain(range$2(0,lt)).range([it,it+st-ot]),ut=ct.domain().map(function(dt){return ct(dt)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:ct(nt),endX:ct(at),scale:ct,scaleValues:ut}},isTouch=function(tt){return tt.changedTouches&&!!tt.changedTouches.length},Brush=function(et){function tt(rt){var nt;return _classCallCheck$6(this,tt),nt=_callSuper$4(this,tt,[rt]),_defineProperty$7(nt,"handleDrag",function(at){nt.leaveTimer&&(clearTimeout(nt.leaveTimer),nt.leaveTimer=null),nt.state.isTravellerMoving?nt.handleTravellerMove(at):nt.state.isSlideMoving&&nt.handleSlideDrag(at)}),_defineProperty$7(nt,"handleTouchMove",function(at){at.changedTouches!=null&&at.changedTouches.length>0&&nt.handleDrag(at.changedTouches[0])}),_defineProperty$7(nt,"handleDragEnd",function(){nt.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var at=nt.props,it=at.endIndex,st=at.onDragEnd,ot=at.startIndex;st==null||st({endIndex:it,startIndex:ot})}),nt.detachDragEndListener()}),_defineProperty$7(nt,"handleLeaveWrapper",function(){(nt.state.isTravellerMoving||nt.state.isSlideMoving)&&(nt.leaveTimer=window.setTimeout(nt.handleDragEnd,nt.props.leaveTimeOut))}),_defineProperty$7(nt,"handleEnterSlideOrTraveller",function(){nt.setState({isTextActive:!0})}),_defineProperty$7(nt,"handleLeaveSlideOrTraveller",function(){nt.setState({isTextActive:!1})}),_defineProperty$7(nt,"handleSlideDragStart",function(at){var it=isTouch(at)?at.changedTouches[0]:at;nt.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:it.pageX}),nt.attachDragEndListener()}),nt.travellerDragStartHandlers={startX:nt.handleTravellerDragStart.bind(nt,"startX"),endX:nt.handleTravellerDragStart.bind(nt,"endX")},nt.state={},nt}return _inherits$4(tt,et),_createClass$6(tt,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(nt){var at=nt.startX,it=nt.endX,st=this.state.scaleValues,ot=this.props,lt=ot.gap,ct=ot.data,ut=ct.length-1,dt=Math.min(at,it),ft=Math.max(at,it),ht=tt.getIndexInRange(st,dt),gt=tt.getIndexInRange(st,ft);return{startIndex:ht-ht%lt,endIndex:gt===ut?ut:gt-gt%lt}}},{key:"getTextOfTick",value:function(nt){var at=this.props,it=at.data,st=at.tickFormatter,ot=at.dataKey,lt=getValueByDataKey(it[nt],ot,nt);return isFunction$3(st)?st(lt,nt):lt}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(nt){var at=this.state,it=at.slideMoveStartX,st=at.startX,ot=at.endX,lt=this.props,ct=lt.x,ut=lt.width,dt=lt.travellerWidth,ft=lt.startIndex,ht=lt.endIndex,gt=lt.onChange,mt=nt.pageX-it;mt>0?mt=Math.min(mt,ct+ut-dt-ot,ct+ut-dt-st):mt<0&&(mt=Math.max(mt,ct-st,ct-ot));var xt=this.getIndex({startX:st+mt,endX:ot+mt});(xt.startIndex!==ft||xt.endIndex!==ht)&&gt&&gt(xt),this.setState({startX:st+mt,endX:ot+mt,slideMoveStartX:nt.pageX})}},{key:"handleTravellerDragStart",value:function(nt,at){var it=isTouch(at)?at.changedTouches[0]:at;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:nt,brushMoveStartX:it.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(nt){var at=this.state,it=at.brushMoveStartX,st=at.movingTravellerId,ot=at.endX,lt=at.startX,ct=this.state[st],ut=this.props,dt=ut.x,ft=ut.width,ht=ut.travellerWidth,gt=ut.onChange,mt=ut.gap,xt=ut.data,vt={startX:this.state.startX,endX:this.state.endX},_t=nt.pageX-it;_t>0?_t=Math.min(_t,dt+ft-ht-ct):_t<0&&(_t=Math.max(_t,dt-ct)),vt[st]=ct+_t;var yt=this.getIndex(vt),St=yt.startIndex,bt=yt.endIndex,Et=function(){var At=xt.length-1;return st==="startX"&&(ot>lt?St%mt===0:bt%mt===0)||ot<lt&&bt===At||st==="endX"&&(ot>lt?bt%mt===0:St%mt===0)||ot>lt&&bt===At};this.setState(_defineProperty$7(_defineProperty$7({},st,ct+_t),"brushMoveStartX",nt.pageX),function(){gt&&Et()&&gt(yt)})}},{key:"handleTravellerMoveKeyboard",value:function(nt,at){var it=this,st=this.state,ot=st.scaleValues,lt=st.startX,ct=st.endX,ut=this.state[at],dt=ot.indexOf(ut);if(dt!==-1){var ft=dt+nt;if(!(ft===-1||ft>=ot.length)){var ht=ot[ft];at==="startX"&&ht>=ct||at==="endX"&&ht<=lt||this.setState(_defineProperty$7({},at,ht),function(){it.props.onChange(it.getIndex({startX:it.state.startX,endX:it.state.endX}))})}}}},{key:"renderBackground",value:function(){var nt=this.props,at=nt.x,it=nt.y,st=nt.width,ot=nt.height,lt=nt.fill,ct=nt.stroke;return React$1.createElement("rect",{stroke:ct,fill:lt,x:at,y:it,width:st,height:ot})}},{key:"renderPanorama",value:function(){var nt=this.props,at=nt.x,it=nt.y,st=nt.width,ot=nt.height,lt=nt.data,ct=nt.children,ut=nt.padding,dt=reactExports.Children.only(ct);return dt?React$1.cloneElement(dt,{x:at,y:it,width:st,height:ot,margin:ut,compact:!0,data:lt}):null}},{key:"renderTravellerLayer",value:function(nt,at){var it,st,ot=this,lt=this.props,ct=lt.y,ut=lt.travellerWidth,dt=lt.height,ft=lt.traveller,ht=lt.ariaLabel,gt=lt.data,mt=lt.startIndex,xt=lt.endIndex,vt=Math.max(nt,this.props.x),_t=_objectSpread$6(_objectSpread$6({},filterProps(this.props,!1)),{},{x:vt,y:ct,width:ut,height:dt}),yt=ht||"Min value: ".concat((it=gt[mt])===null||it===void 0?void 0:it.name,", Max value: ").concat((st=gt[xt])===null||st===void 0?void 0:st.name);return React$1.createElement(Layer,{tabIndex:0,role:"slider","aria-label":yt,"aria-valuenow":nt,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[at],onTouchStart:this.travellerDragStartHandlers[at],onKeyDown:function(bt){["ArrowLeft","ArrowRight"].includes(bt.key)&&(bt.preventDefault(),bt.stopPropagation(),ot.handleTravellerMoveKeyboard(bt.key==="ArrowRight"?1:-1,at))},onFocus:function(){ot.setState({isTravellerFocused:!0})},onBlur:function(){ot.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},tt.renderTraveller(ft,_t))}},{key:"renderSlide",value:function(nt,at){var it=this.props,st=it.y,ot=it.height,lt=it.stroke,ct=it.travellerWidth,ut=Math.min(nt,at)+ct,dt=Math.max(Math.abs(at-nt)-ct,0);return React$1.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:lt,fillOpacity:.2,x:ut,y:st,width:dt,height:ot})}},{key:"renderText",value:function(){var nt=this.props,at=nt.startIndex,it=nt.endIndex,st=nt.y,ot=nt.height,lt=nt.travellerWidth,ct=nt.stroke,ut=this.state,dt=ut.startX,ft=ut.endX,ht=5,gt={pointerEvents:"none",fill:ct};return React$1.createElement(Layer,{className:"recharts-brush-texts"},React$1.createElement(Text,_extends$5({textAnchor:"end",verticalAnchor:"middle",x:Math.min(dt,ft)-ht,y:st+ot/2},gt),this.getTextOfTick(at)),React$1.createElement(Text,_extends$5({textAnchor:"start",verticalAnchor:"middle",x:Math.max(dt,ft)+lt+ht,y:st+ot/2},gt),this.getTextOfTick(it)))}},{key:"render",value:function(){var nt=this.props,at=nt.data,it=nt.className,st=nt.children,ot=nt.x,lt=nt.y,ct=nt.width,ut=nt.height,dt=nt.alwaysShowText,ft=this.state,ht=ft.startX,gt=ft.endX,mt=ft.isTextActive,xt=ft.isSlideMoving,vt=ft.isTravellerMoving,_t=ft.isTravellerFocused;if(!at||!at.length||!isNumber(ot)||!isNumber(lt)||!isNumber(ct)||!isNumber(ut)||ct<=0||ut<=0)return null;var yt=clsx("recharts-brush",it),St=React$1.Children.count(st)===1,bt=generatePrefixStyle("userSelect","none");return React$1.createElement(Layer,{className:yt,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:bt},this.renderBackground(),St&&this.renderPanorama(),this.renderSlide(ht,gt),this.renderTravellerLayer(ht,"startX"),this.renderTravellerLayer(gt,"endX"),(mt||xt||vt||_t||dt)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(nt){var at=nt.x,it=nt.y,st=nt.width,ot=nt.height,lt=nt.stroke,ct=Math.floor(it+ot/2)-1;return React$1.createElement(React$1.Fragment,null,React$1.createElement("rect",{x:at,y:it,width:st,height:ot,fill:lt,stroke:"none"}),React$1.createElement("line",{x1:at+1,y1:ct,x2:at+st-1,y2:ct,fill:"none",stroke:"#fff"}),React$1.createElement("line",{x1:at+1,y1:ct+2,x2:at+st-1,y2:ct+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(nt,at){var it;return React$1.isValidElement(nt)?it=React$1.cloneElement(nt,at):isFunction$3(nt)?it=nt(at):it=tt.renderDefaultTraveller(at),it}},{key:"getDerivedStateFromProps",value:function(nt,at){var it=nt.data,st=nt.width,ot=nt.x,lt=nt.travellerWidth,ct=nt.updateId,ut=nt.startIndex,dt=nt.endIndex;if(it!==at.prevData||ct!==at.prevUpdateId)return _objectSpread$6({prevData:it,prevTravellerWidth:lt,prevUpdateId:ct,prevX:ot,prevWidth:st},it&&it.length?createScale({data:it,width:st,x:ot,travellerWidth:lt,startIndex:ut,endIndex:dt}):{scale:null,scaleValues:null});if(at.scale&&(st!==at.prevWidth||ot!==at.prevX||lt!==at.prevTravellerWidth)){at.scale.range([ot,ot+st-lt]);var ft=at.scale.domain().map(function(ht){return at.scale(ht)});return{prevData:it,prevTravellerWidth:lt,prevUpdateId:ct,prevX:ot,prevWidth:st,startX:at.scale(nt.startIndex),endX:at.scale(nt.endIndex),scaleValues:ft}}return null}},{key:"getIndexInRange",value:function(nt,at){for(var it=nt.length,st=0,ot=it-1;ot-st>1;){var lt=Math.floor((st+ot)/2);nt[lt]>at?ot=lt:st=lt}return at>=nt[ot]?ot:st}}])}(reactExports.PureComponent);_defineProperty$7(Brush,"displayName","Brush");_defineProperty$7(Brush,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var baseEach$1=_baseEach;function baseSome$1(et,tt){var rt;return baseEach$1(et,function(nt,at,it){return rt=tt(nt,at,it),!rt}),!!rt}var _baseSome=baseSome$1,arraySome=_arraySome,baseIteratee$2=_baseIteratee,baseSome=_baseSome,isArray$1=isArray_1,isIterateeCall$1=_isIterateeCall;function some(et,tt,rt){var nt=isArray$1(et)?arraySome:baseSome;return rt&&isIterateeCall$1(et,tt,rt)&&(tt=void 0),nt(et,baseIteratee$2(tt))}var some_1=some;const some$1=getDefaultExportFromCjs(some_1);var ifOverflowMatches=function(tt,rt){var nt=tt.alwaysShow,at=tt.ifOverflow;return nt&&(at="extendDomain"),at===rt},defineProperty=_defineProperty$x;function baseAssignValue$1(et,tt,rt){tt=="__proto__"&&defineProperty?defineProperty(et,tt,{configurable:!0,enumerable:!0,value:rt,writable:!0}):et[tt]=rt}var _baseAssignValue=baseAssignValue$1,baseAssignValue=_baseAssignValue,baseForOwn=_baseForOwn,baseIteratee$1=_baseIteratee;function mapValues(et,tt){var rt={};return tt=baseIteratee$1(tt),baseForOwn(et,function(nt,at,it){baseAssignValue(rt,at,tt(nt,at,it))}),rt}var mapValues_1=mapValues;const mapValues$1=getDefaultExportFromCjs(mapValues_1);function arrayEvery$1(et,tt){for(var rt=-1,nt=et==null?0:et.length;++rt<nt;)if(!tt(et[rt],rt,et))return!1;return!0}var _arrayEvery=arrayEvery$1,baseEach=_baseEach;function baseEvery$1(et,tt){var rt=!0;return baseEach(et,function(nt,at,it){return rt=!!tt(nt,at,it),rt}),rt}var _baseEvery=baseEvery$1,arrayEvery=_arrayEvery,baseEvery=_baseEvery,baseIteratee=_baseIteratee,isArray=isArray_1,isIterateeCall=_isIterateeCall;function every(et,tt,rt){var nt=isArray(et)?arrayEvery:baseEvery;return rt&&isIterateeCall(et,tt,rt)&&(tt=void 0),nt(et,baseIteratee(tt))}var every_1=every;const every$1=getDefaultExportFromCjs(every_1);function _typeof$6(et){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$6(et)}function _classCallCheck$5(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$6(nt.key),nt)}}function _createClass$5(et,tt,rt){return tt&&_defineProperties$5(et.prototype,tt),rt&&_defineProperties$5(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function ownKeys$5(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$5(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$5(Object(rt),!0).forEach(function(nt){_defineProperty$6(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$5(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$6(et,tt,rt){return tt=_toPropertyKey$6(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$6(et){var tt=_toPrimitive$6(et,"string");return _typeof$6(tt)=="symbol"?tt:tt+""}function _toPrimitive$6(et,tt){if(_typeof$6(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$6(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var rectWithPoints=function(tt,rt){var nt=tt.x,at=tt.y,it=rt.x,st=rt.y;return{x:Math.min(nt,it),y:Math.min(at,st),width:Math.abs(it-nt),height:Math.abs(st-at)}},rectWithCoords=function(tt){var rt=tt.x1,nt=tt.y1,at=tt.x2,it=tt.y2;return rectWithPoints({x:rt,y:nt},{x:at,y:it})},ScaleHelper=function(){function et(tt){_classCallCheck$5(this,et),this.scale=tt}return _createClass$5(et,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(rt){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},at=nt.bandAware,it=nt.position;if(rt!==void 0){if(it)switch(it){case"start":return this.scale(rt);case"middle":{var st=this.bandwidth?this.bandwidth()/2:0;return this.scale(rt)+st}case"end":{var ot=this.bandwidth?this.bandwidth():0;return this.scale(rt)+ot}default:return this.scale(rt)}if(at){var lt=this.bandwidth?this.bandwidth()/2:0;return this.scale(rt)+lt}return this.scale(rt)}}},{key:"isInRange",value:function(rt){var nt=this.range(),at=nt[0],it=nt[nt.length-1];return at<=it?rt>=at&&rt<=it:rt>=it&&rt<=at}}],[{key:"create",value:function(rt){return new et(rt)}}])}();_defineProperty$6(ScaleHelper,"EPS",1e-4);var createLabeledScales=function(tt){var rt=Object.keys(tt).reduce(function(nt,at){return _objectSpread$5(_objectSpread$5({},nt),{},_defineProperty$6({},at,ScaleHelper.create(tt[at])))},{});return _objectSpread$5(_objectSpread$5({},rt),{},{apply:function(at){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},st=it.bandAware,ot=it.position;return mapValues$1(at,function(lt,ct){return rt[ct].apply(lt,{bandAware:st,position:ot})})},isInRange:function(at){return every$1(at,function(it,st){return rt[st].isInRange(it)})}})},calculateViewBox=memoize$3(function(et){return{x:et.left,y:et.top,width:et.width,height:et.height}},function(et){return["l",et.left,"t",et.top,"w",et.width,"h",et.height].join("")}),XAxisContext=reactExports.createContext(void 0),YAxisContext=reactExports.createContext(void 0),ViewBoxContext=reactExports.createContext(void 0),OffsetContext=reactExports.createContext({}),ClipPathIdContext=reactExports.createContext(void 0),ChartHeightContext=reactExports.createContext(0),ChartWidthContext=reactExports.createContext(0),ChartLayoutContextProvider=function(tt){var rt=tt.state,nt=rt.xAxisMap,at=rt.yAxisMap,it=rt.offset,st=tt.clipPathId,ot=tt.children,lt=tt.width,ct=tt.height,ut=calculateViewBox(it);return React$1.createElement(XAxisContext.Provider,{value:nt},React$1.createElement(YAxisContext.Provider,{value:at},React$1.createElement(OffsetContext.Provider,{value:it},React$1.createElement(ViewBoxContext.Provider,{value:ut},React$1.createElement(ClipPathIdContext.Provider,{value:st},React$1.createElement(ChartHeightContext.Provider,{value:ct},React$1.createElement(ChartWidthContext.Provider,{value:lt},ot)))))))},useClipPathId=function(){return reactExports.useContext(ClipPathIdContext)},useXAxisOrThrow=function(tt){var rt=reactExports.useContext(XAxisContext);rt==null&&invariant(!1);var nt=rt[tt];return nt==null&&invariant(!1),nt},useYAxisOrThrow=function(tt){var rt=reactExports.useContext(YAxisContext);rt==null&&invariant(!1);var nt=rt[tt];return nt==null&&invariant(!1),nt},useViewBox=function(){var tt=reactExports.useContext(ViewBoxContext);return tt};function _typeof$5(et){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$5(et)}function _classCallCheck$4(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$5(nt.key),nt)}}function _createClass$4(et,tt,rt){return tt&&_defineProperties$4(et.prototype,tt),rt&&_defineProperties$4(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper$3(et,tt,rt){return tt=_getPrototypeOf$3(tt),_possibleConstructorReturn$3(et,_isNativeReflectConstruct$3()?Reflect.construct(tt,rt||[],_getPrototypeOf$3(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn$3(et,tt){if(tt&&(_typeof$5(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(et)}function _assertThisInitialized$3(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct$3(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$3=function(){return!!et})()}function _getPrototypeOf$3(et){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$3(et)}function _inherits$3(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$3(et,tt)}function _setPrototypeOf$3(et,tt){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,at){return nt.__proto__=at,nt},_setPrototypeOf$3(et,tt)}function ownKeys$4(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$4(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$4(Object(rt),!0).forEach(function(nt){_defineProperty$5(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$4(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$5(et,tt,rt){return tt=_toPropertyKey$5(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$5(et){var tt=_toPrimitive$5(et,"string");return _typeof$5(tt)=="symbol"?tt:tt+""}function _toPrimitive$5(et,tt){if(_typeof$5(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$5(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _slicedToArray$1(et,tt){return _arrayWithHoles$1(et)||_iterableToArrayLimit$1(et,tt)||_unsupportedIterableToArray$2(et,tt)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$2(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$2(et,tt)}}function _arrayLikeToArray$2(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$1(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,at,it,st,ot=[],lt=!0,ct=!1;try{if(it=(rt=rt.call(et)).next,tt===0){if(Object(rt)!==rt)return;lt=!1}else for(;!(lt=(nt=it.call(rt)).done)&&(ot.push(nt.value),ot.length!==tt);lt=!0);}catch(ut){ct=!0,at=ut}finally{try{if(!lt&&rt.return!=null&&(st=rt.return(),Object(st)!==st))return}finally{if(ct)throw at}}return ot}}function _arrayWithHoles$1(et){if(Array.isArray(et))return et}function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$4.apply(this,arguments)}var renderLine=function(tt,rt){var nt;return React$1.isValidElement(tt)?nt=React$1.cloneElement(tt,rt):isFunction$3(tt)?nt=tt(rt):nt=React$1.createElement("line",_extends$4({},rt,{className:"recharts-reference-line-line"})),nt},getEndPoints=function(tt,rt,nt,at,it,st,ot,lt,ct){var ut=it.x,dt=it.y,ft=it.width,ht=it.height;if(nt){var gt=ct.y,mt=tt.y.apply(gt,{position:st});if(ifOverflowMatches(ct,"discard")&&!tt.y.isInRange(mt))return null;var xt=[{x:ut+ft,y:mt},{x:ut,y:mt}];return lt==="left"?xt.reverse():xt}if(rt){var vt=ct.x,_t=tt.x.apply(vt,{position:st});if(ifOverflowMatches(ct,"discard")&&!tt.x.isInRange(_t))return null;var yt=[{x:_t,y:dt+ht},{x:_t,y:dt}];return ot==="top"?yt.reverse():yt}if(at){var St=ct.segment,bt=St.map(function(Et){return tt.apply(Et,{position:st})});return ifOverflowMatches(ct,"discard")&&some$1(bt,function(Et){return!tt.isInRange(Et)})?null:bt}return null};function ReferenceLineImpl(et){var tt=et.x,rt=et.y,nt=et.segment,at=et.xAxisId,it=et.yAxisId,st=et.shape,ot=et.className,lt=et.alwaysShow,ct=useClipPathId(),ut=useXAxisOrThrow(at),dt=useYAxisOrThrow(it),ft=useViewBox();if(!ct||!ft)return null;warn(lt===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var ht=createLabeledScales({x:ut.scale,y:dt.scale}),gt=isNumOrStr(tt),mt=isNumOrStr(rt),xt=nt&&nt.length===2,vt=getEndPoints(ht,gt,mt,xt,ft,et.position,ut.orientation,dt.orientation,et);if(!vt)return null;var _t=_slicedToArray$1(vt,2),yt=_t[0],St=yt.x,bt=yt.y,Et=_t[1],Tt=Et.x,At=Et.y,Ct=ifOverflowMatches(et,"hidden")?"url(#".concat(ct,")"):void 0,kt=_objectSpread$4(_objectSpread$4({clipPath:Ct},filterProps(et,!0)),{},{x1:St,y1:bt,x2:Tt,y2:At});return React$1.createElement(Layer,{className:clsx("recharts-reference-line",ot)},renderLine(st,kt),Label$1.renderCallByParent(et,rectWithCoords({x1:St,y1:bt,x2:Tt,y2:At})))}var ReferenceLine=function(et){function tt(){return _classCallCheck$4(this,tt),_callSuper$3(this,tt,arguments)}return _inherits$3(tt,et),_createClass$4(tt,[{key:"render",value:function(){return React$1.createElement(ReferenceLineImpl,this.props)}}])}(React$1.Component);_defineProperty$5(ReferenceLine,"displayName","ReferenceLine");_defineProperty$5(ReferenceLine,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$3.apply(this,arguments)}function _typeof$4(et){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$4(et)}function ownKeys$3(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$3(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$3(Object(rt),!0).forEach(function(nt){_defineProperty$4(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$3(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _classCallCheck$3(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$4(nt.key),nt)}}function _createClass$3(et,tt,rt){return tt&&_defineProperties$3(et.prototype,tt),rt&&_defineProperties$3(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper$2(et,tt,rt){return tt=_getPrototypeOf$2(tt),_possibleConstructorReturn$2(et,_isNativeReflectConstruct$2()?Reflect.construct(tt,rt||[],_getPrototypeOf$2(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn$2(et,tt){if(tt&&(_typeof$4(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(et)}function _assertThisInitialized$2(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct$2(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$2=function(){return!!et})()}function _getPrototypeOf$2(et){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$2(et)}function _inherits$2(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$2(et,tt)}function _setPrototypeOf$2(et,tt){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,at){return nt.__proto__=at,nt},_setPrototypeOf$2(et,tt)}function _defineProperty$4(et,tt,rt){return tt=_toPropertyKey$4(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$4(et){var tt=_toPrimitive$4(et,"string");return _typeof$4(tt)=="symbol"?tt:tt+""}function _toPrimitive$4(et,tt){if(_typeof$4(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$4(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var getCoordinate=function(tt){var rt=tt.x,nt=tt.y,at=tt.xAxis,it=tt.yAxis,st=createLabeledScales({x:at.scale,y:it.scale}),ot=st.apply({x:rt,y:nt},{bandAware:!0});return ifOverflowMatches(tt,"discard")&&!st.isInRange(ot)?null:ot},ReferenceDot=function(et){function tt(){return _classCallCheck$3(this,tt),_callSuper$2(this,tt,arguments)}return _inherits$2(tt,et),_createClass$3(tt,[{key:"render",value:function(){var nt=this.props,at=nt.x,it=nt.y,st=nt.r,ot=nt.alwaysShow,lt=nt.clipPathId,ct=isNumOrStr(at),ut=isNumOrStr(it);if(warn(ot===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!ct||!ut)return null;var dt=getCoordinate(this.props);if(!dt)return null;var ft=dt.x,ht=dt.y,gt=this.props,mt=gt.shape,xt=gt.className,vt=ifOverflowMatches(this.props,"hidden")?"url(#".concat(lt,")"):void 0,_t=_objectSpread$3(_objectSpread$3({clipPath:vt},filterProps(this.props,!0)),{},{cx:ft,cy:ht});return React$1.createElement(Layer,{className:clsx("recharts-reference-dot",xt)},tt.renderDot(mt,_t),Label$1.renderCallByParent(this.props,{x:ft-st,y:ht-st,width:2*st,height:2*st}))}}])}(React$1.Component);_defineProperty$4(ReferenceDot,"displayName","ReferenceDot");_defineProperty$4(ReferenceDot,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_defineProperty$4(ReferenceDot,"renderDot",function(et,tt){var rt;return React$1.isValidElement(et)?rt=React$1.cloneElement(et,tt):isFunction$3(et)?rt=et(tt):rt=React$1.createElement(Dot,_extends$3({},tt,{cx:tt.cx,cy:tt.cy,className:"recharts-reference-dot-dot"})),rt});function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$2.apply(this,arguments)}function _typeof$3(et){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$3(et)}function ownKeys$2(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$2(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$2(Object(rt),!0).forEach(function(nt){_defineProperty$3(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$2(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _classCallCheck$2(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$3(nt.key),nt)}}function _createClass$2(et,tt,rt){return tt&&_defineProperties$2(et.prototype,tt),rt&&_defineProperties$2(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper$1(et,tt,rt){return tt=_getPrototypeOf$1(tt),_possibleConstructorReturn$1(et,_isNativeReflectConstruct$1()?Reflect.construct(tt,rt||[],_getPrototypeOf$1(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn$1(et,tt){if(tt&&(_typeof$3(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(et)}function _assertThisInitialized$1(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct$1(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!et})()}function _getPrototypeOf$1(et){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$1(et)}function _inherits$1(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$1(et,tt)}function _setPrototypeOf$1(et,tt){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,at){return nt.__proto__=at,nt},_setPrototypeOf$1(et,tt)}function _defineProperty$3(et,tt,rt){return tt=_toPropertyKey$3(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$3(et){var tt=_toPrimitive$3(et,"string");return _typeof$3(tt)=="symbol"?tt:tt+""}function _toPrimitive$3(et,tt){if(_typeof$3(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$3(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var getRect=function(tt,rt,nt,at,it){var st=it.x1,ot=it.x2,lt=it.y1,ct=it.y2,ut=it.xAxis,dt=it.yAxis;if(!ut||!dt)return null;var ft=createLabeledScales({x:ut.scale,y:dt.scale}),ht={x:tt?ft.x.apply(st,{position:"start"}):ft.x.rangeMin,y:nt?ft.y.apply(lt,{position:"start"}):ft.y.rangeMin},gt={x:rt?ft.x.apply(ot,{position:"end"}):ft.x.rangeMax,y:at?ft.y.apply(ct,{position:"end"}):ft.y.rangeMax};return ifOverflowMatches(it,"discard")&&(!ft.isInRange(ht)||!ft.isInRange(gt))?null:rectWithPoints(ht,gt)},ReferenceArea=function(et){function tt(){return _classCallCheck$2(this,tt),_callSuper$1(this,tt,arguments)}return _inherits$1(tt,et),_createClass$2(tt,[{key:"render",value:function(){var nt=this.props,at=nt.x1,it=nt.x2,st=nt.y1,ot=nt.y2,lt=nt.className,ct=nt.alwaysShow,ut=nt.clipPathId;warn(ct===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var dt=isNumOrStr(at),ft=isNumOrStr(it),ht=isNumOrStr(st),gt=isNumOrStr(ot),mt=this.props.shape;if(!dt&&!ft&&!ht&&!gt&&!mt)return null;var xt=getRect(dt,ft,ht,gt,this.props);if(!xt&&!mt)return null;var vt=ifOverflowMatches(this.props,"hidden")?"url(#".concat(ut,")"):void 0;return React$1.createElement(Layer,{className:clsx("recharts-reference-area",lt)},tt.renderRect(mt,_objectSpread$2(_objectSpread$2({clipPath:vt},filterProps(this.props,!0)),xt)),Label$1.renderCallByParent(this.props,xt))}}])}(React$1.Component);_defineProperty$3(ReferenceArea,"displayName","ReferenceArea");_defineProperty$3(ReferenceArea,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_defineProperty$3(ReferenceArea,"renderRect",function(et,tt){var rt;return React$1.isValidElement(et)?rt=React$1.cloneElement(et,tt):isFunction$3(et)?rt=et(tt):rt=React$1.createElement(Rectangle,_extends$2({},tt,{className:"recharts-reference-area-rect"})),rt});function _toConsumableArray$1(et){return _arrayWithoutHoles$1(et)||_iterableToArray$1(et)||_unsupportedIterableToArray$1(et)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$1(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$1(et,tt)}}function _iterableToArray$1(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function _arrayWithoutHoles$1(et){if(Array.isArray(et))return _arrayLikeToArray$1(et)}function _arrayLikeToArray$1(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}var detectReferenceElementsDomain=function(tt,rt,nt,at,it){var st=findAllByType(tt,ReferenceLine),ot=findAllByType(tt,ReferenceDot),lt=[].concat(_toConsumableArray$1(st),_toConsumableArray$1(ot)),ct=findAllByType(tt,ReferenceArea),ut="".concat(at,"Id"),dt=at[0],ft=rt;if(lt.length&&(ft=lt.reduce(function(mt,xt){if(xt.props[ut]===nt&&ifOverflowMatches(xt.props,"extendDomain")&&isNumber(xt.props[dt])){var vt=xt.props[dt];return[Math.min(mt[0],vt),Math.max(mt[1],vt)]}return mt},ft)),ct.length){var ht="".concat(dt,"1"),gt="".concat(dt,"2");ft=ct.reduce(function(mt,xt){if(xt.props[ut]===nt&&ifOverflowMatches(xt.props,"extendDomain")&&isNumber(xt.props[ht])&&isNumber(xt.props[gt])){var vt=xt.props[ht],_t=xt.props[gt];return[Math.min(mt[0],vt,_t),Math.max(mt[1],vt,_t)]}return mt},ft)}return it&&it.length&&(ft=it.reduce(function(mt,xt){return isNumber(xt)?[Math.min(mt[0],xt),Math.max(mt[1],xt)]:mt},ft)),ft},eventemitter3={exports:{}};(function(et){var tt=Object.prototype.hasOwnProperty,rt="~";function nt(){}Object.create&&(nt.prototype=Object.create(null),new nt().__proto__||(rt=!1));function at(lt,ct,ut){this.fn=lt,this.context=ct,this.once=ut||!1}function it(lt,ct,ut,dt,ft){if(typeof ut!="function")throw new TypeError("The listener must be a function");var ht=new at(ut,dt||lt,ft),gt=rt?rt+ct:ct;return lt._events[gt]?lt._events[gt].fn?lt._events[gt]=[lt._events[gt],ht]:lt._events[gt].push(ht):(lt._events[gt]=ht,lt._eventsCount++),lt}function st(lt,ct){--lt._eventsCount===0?lt._events=new nt:delete lt._events[ct]}function ot(){this._events=new nt,this._eventsCount=0}ot.prototype.eventNames=function(){var ct=[],ut,dt;if(this._eventsCount===0)return ct;for(dt in ut=this._events)tt.call(ut,dt)&&ct.push(rt?dt.slice(1):dt);return Object.getOwnPropertySymbols?ct.concat(Object.getOwnPropertySymbols(ut)):ct},ot.prototype.listeners=function(ct){var ut=rt?rt+ct:ct,dt=this._events[ut];if(!dt)return[];if(dt.fn)return[dt.fn];for(var ft=0,ht=dt.length,gt=new Array(ht);ft<ht;ft++)gt[ft]=dt[ft].fn;return gt},ot.prototype.listenerCount=function(ct){var ut=rt?rt+ct:ct,dt=this._events[ut];return dt?dt.fn?1:dt.length:0},ot.prototype.emit=function(ct,ut,dt,ft,ht,gt){var mt=rt?rt+ct:ct;if(!this._events[mt])return!1;var xt=this._events[mt],vt=arguments.length,_t,yt;if(xt.fn){switch(xt.once&&this.removeListener(ct,xt.fn,void 0,!0),vt){case 1:return xt.fn.call(xt.context),!0;case 2:return xt.fn.call(xt.context,ut),!0;case 3:return xt.fn.call(xt.context,ut,dt),!0;case 4:return xt.fn.call(xt.context,ut,dt,ft),!0;case 5:return xt.fn.call(xt.context,ut,dt,ft,ht),!0;case 6:return xt.fn.call(xt.context,ut,dt,ft,ht,gt),!0}for(yt=1,_t=new Array(vt-1);yt<vt;yt++)_t[yt-1]=arguments[yt];xt.fn.apply(xt.context,_t)}else{var St=xt.length,bt;for(yt=0;yt<St;yt++)switch(xt[yt].once&&this.removeListener(ct,xt[yt].fn,void 0,!0),vt){case 1:xt[yt].fn.call(xt[yt].context);break;case 2:xt[yt].fn.call(xt[yt].context,ut);break;case 3:xt[yt].fn.call(xt[yt].context,ut,dt);break;case 4:xt[yt].fn.call(xt[yt].context,ut,dt,ft);break;default:if(!_t)for(bt=1,_t=new Array(vt-1);bt<vt;bt++)_t[bt-1]=arguments[bt];xt[yt].fn.apply(xt[yt].context,_t)}}return!0},ot.prototype.on=function(ct,ut,dt){return it(this,ct,ut,dt,!1)},ot.prototype.once=function(ct,ut,dt){return it(this,ct,ut,dt,!0)},ot.prototype.removeListener=function(ct,ut,dt,ft){var ht=rt?rt+ct:ct;if(!this._events[ht])return this;if(!ut)return st(this,ht),this;var gt=this._events[ht];if(gt.fn)gt.fn===ut&&(!ft||gt.once)&&(!dt||gt.context===dt)&&st(this,ht);else{for(var mt=0,xt=[],vt=gt.length;mt<vt;mt++)(gt[mt].fn!==ut||ft&&!gt[mt].once||dt&&gt[mt].context!==dt)&&xt.push(gt[mt]);xt.length?this._events[ht]=xt.length===1?xt[0]:xt:st(this,ht)}return this},ot.prototype.removeAllListeners=function(ct){var ut;return ct?(ut=rt?rt+ct:ct,this._events[ut]&&st(this,ut)):(this._events=new nt,this._eventsCount=0),this},ot.prototype.off=ot.prototype.removeListener,ot.prototype.addListener=ot.prototype.on,ot.prefixed=rt,ot.EventEmitter=ot,et.exports=ot})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,SYNC_EVENT="recharts.syncMouseEvents";function _typeof$2(et){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$2(et)}function _classCallCheck$1(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$2(nt.key),nt)}}function _createClass$1(et,tt,rt){return tt&&_defineProperties$1(et.prototype,tt),rt&&_defineProperties$1(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _defineProperty$2(et,tt,rt){return tt=_toPropertyKey$2(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$2(et){var tt=_toPrimitive$2(et,"string");return _typeof$2(tt)=="symbol"?tt:tt+""}function _toPrimitive$2(et,tt){if(_typeof$2(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$2(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var AccessibilityManager=function(){function et(){_classCallCheck$1(this,et),_defineProperty$2(this,"activeIndex",0),_defineProperty$2(this,"coordinateList",[]),_defineProperty$2(this,"layout","horizontal")}return _createClass$1(et,[{key:"setDetails",value:function(rt){var nt,at=rt.coordinateList,it=at===void 0?null:at,st=rt.container,ot=st===void 0?null:st,lt=rt.layout,ct=lt===void 0?null:lt,ut=rt.offset,dt=ut===void 0?null:ut,ft=rt.mouseHandlerCallback,ht=ft===void 0?null:ft;this.coordinateList=(nt=it??this.coordinateList)!==null&&nt!==void 0?nt:[],this.container=ot??this.container,this.layout=ct??this.layout,this.offset=dt??this.offset,this.mouseHandlerCallback=ht??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(rt){if(this.coordinateList.length!==0)switch(rt.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(rt){this.activeIndex=rt}},{key:"spoofMouse",value:function(){var rt,nt;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var at=this.container.getBoundingClientRect(),it=at.x,st=at.y,ot=at.height,lt=this.coordinateList[this.activeIndex].coordinate,ct=((rt=window)===null||rt===void 0?void 0:rt.scrollX)||0,ut=((nt=window)===null||nt===void 0?void 0:nt.scrollY)||0,dt=it+lt+ct,ft=st+this.offset.top+ot/2+ut;this.mouseHandlerCallback({pageX:dt,pageY:ft})}}}])}();function isDomainSpecifiedByUser(et,tt,rt){if(rt==="number"&&tt===!0&&Array.isArray(et)){var nt=et==null?void 0:et[0],at=et==null?void 0:et[1];if(nt&&at&&isNumber(nt)&&isNumber(at))return!0}return!1}function getCursorRectangle(et,tt,rt,nt){var at=nt/2;return{stroke:"none",fill:"#ccc",x:et==="horizontal"?tt.x-at:rt.left+.5,y:et==="horizontal"?rt.top+.5:tt.y-at,width:et==="horizontal"?nt:rt.width-1,height:et==="horizontal"?rt.height-1:nt}}function getRadialCursorPoints(et){var tt=et.cx,rt=et.cy,nt=et.radius,at=et.startAngle,it=et.endAngle,st=polarToCartesian(tt,rt,nt,at),ot=polarToCartesian(tt,rt,nt,it);return{points:[st,ot],cx:tt,cy:rt,radius:nt,startAngle:at,endAngle:it}}function getCursorPoints(et,tt,rt){var nt,at,it,st;if(et==="horizontal")nt=tt.x,it=nt,at=rt.top,st=rt.top+rt.height;else if(et==="vertical")at=tt.y,st=at,nt=rt.left,it=rt.left+rt.width;else if(tt.cx!=null&&tt.cy!=null)if(et==="centric"){var ot=tt.cx,lt=tt.cy,ct=tt.innerRadius,ut=tt.outerRadius,dt=tt.angle,ft=polarToCartesian(ot,lt,ct,dt),ht=polarToCartesian(ot,lt,ut,dt);nt=ft.x,at=ft.y,it=ht.x,st=ht.y}else return getRadialCursorPoints(tt);return[{x:nt,y:at},{x:it,y:st}]}function _typeof$1(et){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$1(et)}function ownKeys$1(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$1(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$1(Object(rt),!0).forEach(function(nt){_defineProperty$1(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$1(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$1(et,tt,rt){return tt=_toPropertyKey$1(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$1(et){var tt=_toPrimitive$1(et,"string");return _typeof$1(tt)=="symbol"?tt:tt+""}function _toPrimitive$1(et,tt){if(_typeof$1(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$1(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function Cursor(et){var tt,rt,nt=et.element,at=et.tooltipEventType,it=et.isActive,st=et.activeCoordinate,ot=et.activePayload,lt=et.offset,ct=et.activeTooltipIndex,ut=et.tooltipAxisBandSize,dt=et.layout,ft=et.chartName,ht=(tt=nt.props.cursor)!==null&&tt!==void 0?tt:(rt=nt.type.defaultProps)===null||rt===void 0?void 0:rt.cursor;if(!nt||!ht||!it||!st||ft!=="ScatterChart"&&at!=="axis")return null;var gt,mt=Curve;if(ft==="ScatterChart")gt=st,mt=Cross;else if(ft==="BarChart")gt=getCursorRectangle(dt,st,lt,ut),mt=Rectangle;else if(dt==="radial"){var xt=getRadialCursorPoints(st),vt=xt.cx,_t=xt.cy,yt=xt.radius,St=xt.startAngle,bt=xt.endAngle;gt={cx:vt,cy:_t,startAngle:St,endAngle:bt,innerRadius:yt,outerRadius:yt},mt=Sector}else gt={points:getCursorPoints(dt,st,lt)},mt=Curve;var Et=_objectSpread$1(_objectSpread$1(_objectSpread$1(_objectSpread$1({stroke:"#ccc",pointerEvents:"none"},lt),gt),filterProps(ht,!1)),{},{payload:ot,payloadIndex:ct,className:clsx("recharts-tooltip-cursor",ht.className)});return reactExports.isValidElement(ht)?reactExports.cloneElement(ht,Et):reactExports.createElement(mt,Et)}var _excluded=["item"],_excluded2=["children","className","width","height","style","compact","title","desc"];function _typeof(et){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof(et)}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$1.apply(this,arguments)}function _slicedToArray(et,tt){return _arrayWithHoles(et)||_iterableToArrayLimit(et,tt)||_unsupportedIterableToArray(et,tt)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,at,it,st,ot=[],lt=!0,ct=!1;try{if(it=(rt=rt.call(et)).next,tt===0){if(Object(rt)!==rt)return;lt=!1}else for(;!(lt=(nt=it.call(rt)).done)&&(ot.push(nt.value),ot.length!==tt);lt=!0);}catch(ut){ct=!0,at=ut}finally{try{if(!lt&&rt.return!=null&&(st=rt.return(),Object(st)!==st))return}finally{if(ct)throw at}}return ot}}function _arrayWithHoles(et){if(Array.isArray(et))return et}function _objectWithoutProperties(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose(et,tt),nt,at;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(et);for(at=0;at<it.length;at++)nt=it[at],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose(et,tt){if(et==null)return{};var rt={};for(var nt in et)if(Object.prototype.hasOwnProperty.call(et,nt)){if(tt.indexOf(nt)>=0)continue;rt[nt]=et[nt]}return rt}function _classCallCheck(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey(nt.key),nt)}}function _createClass(et,tt,rt){return tt&&_defineProperties(et.prototype,tt),rt&&_defineProperties(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper(et,tt,rt){return tt=_getPrototypeOf(tt),_possibleConstructorReturn(et,_isNativeReflectConstruct()?Reflect.construct(tt,rt||[],_getPrototypeOf(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn(et,tt){if(tt&&(_typeof(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(et)}function _assertThisInitialized(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!et})()}function _getPrototypeOf(et){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf(et)}function _inherits(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf(et,tt)}function _setPrototypeOf(et,tt){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,at){return nt.__proto__=at,nt},_setPrototypeOf(et,tt)}function _toConsumableArray(et){return _arrayWithoutHoles(et)||_iterableToArray(et)||_unsupportedIterableToArray(et)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray(et,tt)}}function _iterableToArray(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function _arrayWithoutHoles(et){if(Array.isArray(et))return _arrayLikeToArray(et)}function _arrayLikeToArray(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function ownKeys(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys(Object(rt),!0).forEach(function(nt){_defineProperty(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty(et,tt,rt){return tt=_toPropertyKey(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey(et){var tt=_toPrimitive(et,"string");return _typeof(tt)=="symbol"?tt:tt+""}function _toPrimitive(et,tt){if(_typeof(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var ORIENT_MAP={xAxis:["bottom","top"],yAxis:["left","right"]},FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},originCoordinate={x:0,y:0};function renderAsIs(et){return et}var calculateTooltipPos=function(tt,rt){return rt==="horizontal"?tt.x:rt==="vertical"?tt.y:rt==="centric"?tt.angle:tt.radius},getActiveCoordinate=function(tt,rt,nt,at){var it=rt.find(function(ut){return ut&&ut.index===nt});if(it){if(tt==="horizontal")return{x:it.coordinate,y:at.y};if(tt==="vertical")return{x:at.x,y:it.coordinate};if(tt==="centric"){var st=it.coordinate,ot=at.radius;return _objectSpread(_objectSpread(_objectSpread({},at),polarToCartesian(at.cx,at.cy,ot,st)),{},{angle:st,radius:ot})}var lt=it.coordinate,ct=at.angle;return _objectSpread(_objectSpread(_objectSpread({},at),polarToCartesian(at.cx,at.cy,lt,ct)),{},{angle:ct,radius:lt})}return originCoordinate},getDisplayedData=function(tt,rt){var nt=rt.graphicalItems,at=rt.dataStartIndex,it=rt.dataEndIndex,st=(nt??[]).reduce(function(ot,lt){var ct=lt.props.data;return ct&&ct.length?[].concat(_toConsumableArray(ot),_toConsumableArray(ct)):ot},[]);return st.length>0?st:tt&&tt.length&&isNumber(at)&&isNumber(it)?tt.slice(at,it+1):[]};function getDefaultDomainByAxisType(et){return et==="number"?[0,"auto"]:void 0}var getTooltipContent=function(tt,rt,nt,at){var it=tt.graphicalItems,st=tt.tooltipAxis,ot=getDisplayedData(rt,tt);return nt<0||!it||!it.length||nt>=ot.length?null:it.reduce(function(lt,ct){var ut,dt=(ut=ct.props.data)!==null&&ut!==void 0?ut:rt;dt&&tt.dataStartIndex+tt.dataEndIndex!==0&&tt.dataEndIndex-tt.dataStartIndex>=nt&&(dt=dt.slice(tt.dataStartIndex,tt.dataEndIndex+1));var ft;if(st.dataKey&&!st.allowDuplicatedCategory){var ht=dt===void 0?ot:dt;ft=findEntryInArray(ht,st.dataKey,at)}else ft=dt&&dt[nt]||ot[nt];return ft?[].concat(_toConsumableArray(lt),[getTooltipItem(ct,ft)]):lt},[])},getTooltipData=function(tt,rt,nt,at){var it=at||{x:tt.chartX,y:tt.chartY},st=calculateTooltipPos(it,nt),ot=tt.orderedTooltipTicks,lt=tt.tooltipAxis,ct=tt.tooltipTicks,ut=calculateActiveTickIndex(st,ot,ct,lt);if(ut>=0&&ct){var dt=ct[ut]&&ct[ut].value,ft=getTooltipContent(tt,rt,ut,dt),ht=getActiveCoordinate(nt,ot,ut,it);return{activeTooltipIndex:ut,activeLabel:dt,activePayload:ft,activeCoordinate:ht}}return null},getAxisMapByAxes=function(tt,rt){var nt=rt.axes,at=rt.graphicalItems,it=rt.axisType,st=rt.axisIdKey,ot=rt.stackGroups,lt=rt.dataStartIndex,ct=rt.dataEndIndex,ut=tt.layout,dt=tt.children,ft=tt.stackOffset,ht=isCategoricalAxis(ut,it);return nt.reduce(function(gt,mt){var xt,vt=mt.type.defaultProps!==void 0?_objectSpread(_objectSpread({},mt.type.defaultProps),mt.props):mt.props,_t=vt.type,yt=vt.dataKey,St=vt.allowDataOverflow,bt=vt.allowDuplicatedCategory,Et=vt.scale,Tt=vt.ticks,At=vt.includeHidden,Ct=vt[st];if(gt[Ct])return gt;var kt=getDisplayedData(tt.data,{graphicalItems:at.filter(function(Xt){var Lt,jt=st in Xt.props?Xt.props[st]:(Lt=Xt.type.defaultProps)===null||Lt===void 0?void 0:Lt[st];return jt===Ct}),dataStartIndex:lt,dataEndIndex:ct}),Pt=kt.length,Dt,Ft,Ot;isDomainSpecifiedByUser(vt.domain,St,_t)&&(Dt=parseSpecifiedDomain(vt.domain,null,St),ht&&(_t==="number"||Et!=="auto")&&(Ot=getDomainOfDataByKey(kt,yt,"category")));var It=getDefaultDomainByAxisType(_t);if(!Dt||Dt.length===0){var Bt,qt=(Bt=vt.domain)!==null&&Bt!==void 0?Bt:It;if(yt){if(Dt=getDomainOfDataByKey(kt,yt,_t),_t==="category"&&ht){var Ut=hasDuplicate(Dt);bt&&Ut?(Ft=Dt,Dt=range$2(0,Pt)):bt||(Dt=parseDomainOfCategoryAxis(qt,Dt,mt).reduce(function(Xt,Lt){return Xt.indexOf(Lt)>=0?Xt:[].concat(_toConsumableArray(Xt),[Lt])},[]))}else if(_t==="category")bt?Dt=Dt.filter(function(Xt){return Xt!==""&&!isNil$1(Xt)}):Dt=parseDomainOfCategoryAxis(qt,Dt,mt).reduce(function(Xt,Lt){return Xt.indexOf(Lt)>=0||Lt===""||isNil$1(Lt)?Xt:[].concat(_toConsumableArray(Xt),[Lt])},[]);else if(_t==="number"){var Ht=parseErrorBarsOfAxis(kt,at.filter(function(Xt){var Lt,jt,Nt=st in Xt.props?Xt.props[st]:(Lt=Xt.type.defaultProps)===null||Lt===void 0?void 0:Lt[st],Mt="hide"in Xt.props?Xt.props.hide:(jt=Xt.type.defaultProps)===null||jt===void 0?void 0:jt.hide;return Nt===Ct&&(At||!Mt)}),yt,it,ut);Ht&&(Dt=Ht)}ht&&(_t==="number"||Et!=="auto")&&(Ot=getDomainOfDataByKey(kt,yt,"category"))}else ht?Dt=range$2(0,Pt):ot&&ot[Ct]&&ot[Ct].hasStack&&_t==="number"?Dt=ft==="expand"?[0,1]:getDomainOfStackGroups(ot[Ct].stackGroups,lt,ct):Dt=getDomainOfItemsWithSameAxis(kt,at.filter(function(Xt){var Lt=st in Xt.props?Xt.props[st]:Xt.type.defaultProps[st],jt="hide"in Xt.props?Xt.props.hide:Xt.type.defaultProps.hide;return Lt===Ct&&(At||!jt)}),_t,ut,!0);if(_t==="number")Dt=detectReferenceElementsDomain(dt,Dt,Ct,it,Tt),qt&&(Dt=parseSpecifiedDomain(qt,Dt,St));else if(_t==="category"&&qt){var Qt=qt,ir=Dt.every(function(Xt){return Qt.indexOf(Xt)>=0});ir&&(Dt=Qt)}}return _objectSpread(_objectSpread({},gt),{},_defineProperty({},Ct,_objectSpread(_objectSpread({},vt),{},{axisType:it,domain:Dt,categoricalDomain:Ot,duplicateDomain:Ft,originalDomain:(xt=vt.domain)!==null&&xt!==void 0?xt:It,isCategorical:ht,layout:ut})))},{})},getAxisMapByItems=function(tt,rt){var nt=rt.graphicalItems,at=rt.Axis,it=rt.axisType,st=rt.axisIdKey,ot=rt.stackGroups,lt=rt.dataStartIndex,ct=rt.dataEndIndex,ut=tt.layout,dt=tt.children,ft=getDisplayedData(tt.data,{graphicalItems:nt,dataStartIndex:lt,dataEndIndex:ct}),ht=ft.length,gt=isCategoricalAxis(ut,it),mt=-1;return nt.reduce(function(xt,vt){var _t=vt.type.defaultProps!==void 0?_objectSpread(_objectSpread({},vt.type.defaultProps),vt.props):vt.props,yt=_t[st],St=getDefaultDomainByAxisType("number");if(!xt[yt]){mt++;var bt;return gt?bt=range$2(0,ht):ot&&ot[yt]&&ot[yt].hasStack?(bt=getDomainOfStackGroups(ot[yt].stackGroups,lt,ct),bt=detectReferenceElementsDomain(dt,bt,yt,it)):(bt=parseSpecifiedDomain(St,getDomainOfItemsWithSameAxis(ft,nt.filter(function(Et){var Tt,At,Ct=st in Et.props?Et.props[st]:(Tt=Et.type.defaultProps)===null||Tt===void 0?void 0:Tt[st],kt="hide"in Et.props?Et.props.hide:(At=Et.type.defaultProps)===null||At===void 0?void 0:At.hide;return Ct===yt&&!kt}),"number",ut),at.defaultProps.allowDataOverflow),bt=detectReferenceElementsDomain(dt,bt,yt,it)),_objectSpread(_objectSpread({},xt),{},_defineProperty({},yt,_objectSpread(_objectSpread({axisType:it},at.defaultProps),{},{hide:!0,orientation:get$2(ORIENT_MAP,"".concat(it,".").concat(mt%2),null),domain:bt,originalDomain:St,isCategorical:gt,layout:ut})))}return xt},{})},getAxisMap=function(tt,rt){var nt=rt.axisType,at=nt===void 0?"xAxis":nt,it=rt.AxisComp,st=rt.graphicalItems,ot=rt.stackGroups,lt=rt.dataStartIndex,ct=rt.dataEndIndex,ut=tt.children,dt="".concat(at,"Id"),ft=findAllByType(ut,it),ht={};return ft&&ft.length?ht=getAxisMapByAxes(tt,{axes:ft,graphicalItems:st,axisType:at,axisIdKey:dt,stackGroups:ot,dataStartIndex:lt,dataEndIndex:ct}):st&&st.length&&(ht=getAxisMapByItems(tt,{Axis:it,graphicalItems:st,axisType:at,axisIdKey:dt,stackGroups:ot,dataStartIndex:lt,dataEndIndex:ct})),ht},tooltipTicksGenerator=function(tt){var rt=getAnyElementOfObject(tt),nt=getTicksOfAxis(rt,!1,!0);return{tooltipTicks:nt,orderedTooltipTicks:sortBy$1(nt,function(at){return at.coordinate}),tooltipAxis:rt,tooltipAxisBandSize:getBandSizeOfAxis(rt,nt)}},createDefaultState=function(tt){var rt=tt.children,nt=tt.defaultShowTooltip,at=findChildByType(rt,Brush),it=0,st=0;return tt.data&&tt.data.length!==0&&(st=tt.data.length-1),at&&at.props&&(at.props.startIndex>=0&&(it=at.props.startIndex),at.props.endIndex>=0&&(st=at.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:it,dataEndIndex:st,activeTooltipIndex:-1,isTooltipActive:!!nt}},hasGraphicalBarItem=function(tt){return!tt||!tt.length?!1:tt.some(function(rt){var nt=getDisplayName(rt&&rt.type);return nt&&nt.indexOf("Bar")>=0})},getAxisNameByLayout=function(tt){return tt==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:tt==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:tt==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},calculateOffset=function(tt,rt){var nt=tt.props,at=tt.graphicalItems,it=tt.xAxisMap,st=it===void 0?{}:it,ot=tt.yAxisMap,lt=ot===void 0?{}:ot,ct=nt.width,ut=nt.height,dt=nt.children,ft=nt.margin||{},ht=findChildByType(dt,Brush),gt=findChildByType(dt,Legend),mt=Object.keys(lt).reduce(function(bt,Et){var Tt=lt[Et],At=Tt.orientation;return!Tt.mirror&&!Tt.hide?_objectSpread(_objectSpread({},bt),{},_defineProperty({},At,bt[At]+Tt.width)):bt},{left:ft.left||0,right:ft.right||0}),xt=Object.keys(st).reduce(function(bt,Et){var Tt=st[Et],At=Tt.orientation;return!Tt.mirror&&!Tt.hide?_objectSpread(_objectSpread({},bt),{},_defineProperty({},At,get$2(bt,"".concat(At))+Tt.height)):bt},{top:ft.top||0,bottom:ft.bottom||0}),vt=_objectSpread(_objectSpread({},xt),mt),_t=vt.bottom;ht&&(vt.bottom+=ht.props.height||Brush.defaultProps.height),gt&&rt&&(vt=appendOffsetOfLegend(vt,at,nt,rt));var yt=ct-vt.left-vt.right,St=ut-vt.top-vt.bottom;return _objectSpread(_objectSpread({brushBottom:_t},vt),{},{width:Math.max(yt,0),height:Math.max(St,0)})},getCartesianAxisSize=function(tt,rt){if(rt==="xAxis")return tt[rt].width;if(rt==="yAxis")return tt[rt].height},generateCategoricalChart=function(tt){var rt=tt.chartName,nt=tt.GraphicalChild,at=tt.defaultTooltipEventType,it=at===void 0?"axis":at,st=tt.validateTooltipEventTypes,ot=st===void 0?["axis"]:st,lt=tt.axisComponents,ct=tt.legendContent,ut=tt.formatAxisMap,dt=tt.defaultProps,ft=function(vt,_t){var yt=_t.graphicalItems,St=_t.stackGroups,bt=_t.offset,Et=_t.updateId,Tt=_t.dataStartIndex,At=_t.dataEndIndex,Ct=vt.barSize,kt=vt.layout,Pt=vt.barGap,Dt=vt.barCategoryGap,Ft=vt.maxBarSize,Ot=getAxisNameByLayout(kt),It=Ot.numericAxisName,Bt=Ot.cateAxisName,qt=hasGraphicalBarItem(yt),Ut=[];return yt.forEach(function(Ht,Qt){var ir=getDisplayedData(vt.data,{graphicalItems:[Ht],dataStartIndex:Tt,dataEndIndex:At}),Xt=Ht.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Ht.type.defaultProps),Ht.props):Ht.props,Lt=Xt.dataKey,jt=Xt.maxBarSize,Nt=Xt["".concat(It,"Id")],Mt=Xt["".concat(Bt,"Id")],Vt={},Gt=lt.reduce(function(Zr,Fr){var Cr=_t["".concat(Fr.axisType,"Map")],Tr=Xt["".concat(Fr.axisType,"Id")];Cr&&Cr[Tr]||Fr.axisType==="zAxis"||invariant(!1);var Dr=Cr[Tr];return _objectSpread(_objectSpread({},Zr),{},_defineProperty(_defineProperty({},Fr.axisType,Dr),"".concat(Fr.axisType,"Ticks"),getTicksOfAxis(Dr)))},Vt),Zt=Gt[Bt],er=Gt["".concat(Bt,"Ticks")],ar=St&&St[Nt]&&St[Nt].hasStack&&getStackedDataOfItem(Ht,St[Nt].stackGroups),Kt=getDisplayName(Ht.type).indexOf("Bar")>=0,pr=getBandSizeOfAxis(Zt,er),fr=[],vr=qt&&getBarSizeList({barSize:Ct,stackGroups:St,totalSize:getCartesianAxisSize(Gt,Bt)});if(Kt){var wr,hr,Ir=isNil$1(jt)?Ft:jt,Jr=(wr=(hr=getBandSizeOfAxis(Zt,er,!0))!==null&&hr!==void 0?hr:Ir)!==null&&wr!==void 0?wr:0;fr=getBarPosition({barGap:Pt,barCategoryGap:Dt,bandSize:Jr!==pr?Jr:pr,sizeList:vr[Mt],maxBarSize:Ir}),Jr!==pr&&(fr=fr.map(function(Zr){return _objectSpread(_objectSpread({},Zr),{},{position:_objectSpread(_objectSpread({},Zr.position),{},{offset:Zr.position.offset-Jr/2})})}))}var Br=Ht&&Ht.type&&Ht.type.getComposedData;Br&&Ut.push({props:_objectSpread(_objectSpread({},Br(_objectSpread(_objectSpread({},Gt),{},{displayedData:ir,props:vt,dataKey:Lt,item:Ht,bandSize:pr,barPosition:fr,offset:bt,stackedData:ar,layout:kt,dataStartIndex:Tt,dataEndIndex:At}))),{},_defineProperty(_defineProperty(_defineProperty({key:Ht.key||"item-".concat(Qt)},It,Gt[It]),Bt,Gt[Bt]),"animationId",Et)),childIndex:parseChildIndex(Ht,vt.children),item:Ht})}),Ut},ht=function(vt,_t){var yt=vt.props,St=vt.dataStartIndex,bt=vt.dataEndIndex,Et=vt.updateId;if(!validateWidthHeight({props:yt}))return null;var Tt=yt.children,At=yt.layout,Ct=yt.stackOffset,kt=yt.data,Pt=yt.reverseStackOrder,Dt=getAxisNameByLayout(At),Ft=Dt.numericAxisName,Ot=Dt.cateAxisName,It=findAllByType(Tt,nt),Bt=getStackGroupsByAxisId(kt,It,"".concat(Ft,"Id"),"".concat(Ot,"Id"),Ct,Pt),qt=lt.reduce(function(Xt,Lt){var jt="".concat(Lt.axisType,"Map");return _objectSpread(_objectSpread({},Xt),{},_defineProperty({},jt,getAxisMap(yt,_objectSpread(_objectSpread({},Lt),{},{graphicalItems:It,stackGroups:Lt.axisType===Ft&&Bt,dataStartIndex:St,dataEndIndex:bt}))))},{}),Ut=calculateOffset(_objectSpread(_objectSpread({},qt),{},{props:yt,graphicalItems:It}),_t==null?void 0:_t.legendBBox);Object.keys(qt).forEach(function(Xt){qt[Xt]=ut(yt,qt[Xt],Ut,Xt.replace("Map",""),rt)});var Ht=qt["".concat(Ot,"Map")],Qt=tooltipTicksGenerator(Ht),ir=ft(yt,_objectSpread(_objectSpread({},qt),{},{dataStartIndex:St,dataEndIndex:bt,updateId:Et,graphicalItems:It,stackGroups:Bt,offset:Ut}));return _objectSpread(_objectSpread({formattedGraphicalItems:ir,graphicalItems:It,offset:Ut,stackGroups:Bt},Qt),qt)},gt=function(xt){function vt(_t){var yt,St,bt;return _classCallCheck(this,vt),bt=_callSuper(this,vt,[_t]),_defineProperty(bt,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_defineProperty(bt,"accessibilityManager",new AccessibilityManager),_defineProperty(bt,"handleLegendBBoxUpdate",function(Et){if(Et){var Tt=bt.state,At=Tt.dataStartIndex,Ct=Tt.dataEndIndex,kt=Tt.updateId;bt.setState(_objectSpread({legendBBox:Et},ht({props:bt.props,dataStartIndex:At,dataEndIndex:Ct,updateId:kt},_objectSpread(_objectSpread({},bt.state),{},{legendBBox:Et}))))}}),_defineProperty(bt,"handleReceiveSyncEvent",function(Et,Tt,At){if(bt.props.syncId===Et){if(At===bt.eventEmitterSymbol&&typeof bt.props.syncMethod!="function")return;bt.applySyncEvent(Tt)}}),_defineProperty(bt,"handleBrushChange",function(Et){var Tt=Et.startIndex,At=Et.endIndex;if(Tt!==bt.state.dataStartIndex||At!==bt.state.dataEndIndex){var Ct=bt.state.updateId;bt.setState(function(){return _objectSpread({dataStartIndex:Tt,dataEndIndex:At},ht({props:bt.props,dataStartIndex:Tt,dataEndIndex:At,updateId:Ct},bt.state))}),bt.triggerSyncEvent({dataStartIndex:Tt,dataEndIndex:At})}}),_defineProperty(bt,"handleMouseEnter",function(Et){var Tt=bt.getMouseInfo(Et);if(Tt){var At=_objectSpread(_objectSpread({},Tt),{},{isTooltipActive:!0});bt.setState(At),bt.triggerSyncEvent(At);var Ct=bt.props.onMouseEnter;isFunction$3(Ct)&&Ct(At,Et)}}),_defineProperty(bt,"triggeredAfterMouseMove",function(Et){var Tt=bt.getMouseInfo(Et),At=Tt?_objectSpread(_objectSpread({},Tt),{},{isTooltipActive:!0}):{isTooltipActive:!1};bt.setState(At),bt.triggerSyncEvent(At);var Ct=bt.props.onMouseMove;isFunction$3(Ct)&&Ct(At,Et)}),_defineProperty(bt,"handleItemMouseEnter",function(Et){bt.setState(function(){return{isTooltipActive:!0,activeItem:Et,activePayload:Et.tooltipPayload,activeCoordinate:Et.tooltipPosition||{x:Et.cx,y:Et.cy}}})}),_defineProperty(bt,"handleItemMouseLeave",function(){bt.setState(function(){return{isTooltipActive:!1}})}),_defineProperty(bt,"handleMouseMove",function(Et){Et.persist(),bt.throttleTriggeredAfterMouseMove(Et)}),_defineProperty(bt,"handleMouseLeave",function(Et){bt.throttleTriggeredAfterMouseMove.cancel();var Tt={isTooltipActive:!1};bt.setState(Tt),bt.triggerSyncEvent(Tt);var At=bt.props.onMouseLeave;isFunction$3(At)&&At(Tt,Et)}),_defineProperty(bt,"handleOuterEvent",function(Et){var Tt=getReactEventByType(Et),At=get$2(bt.props,"".concat(Tt));if(Tt&&isFunction$3(At)){var Ct,kt;/.*touch.*/i.test(Tt)?kt=bt.getMouseInfo(Et.changedTouches[0]):kt=bt.getMouseInfo(Et),At((Ct=kt)!==null&&Ct!==void 0?Ct:{},Et)}}),_defineProperty(bt,"handleClick",function(Et){var Tt=bt.getMouseInfo(Et);if(Tt){var At=_objectSpread(_objectSpread({},Tt),{},{isTooltipActive:!0});bt.setState(At),bt.triggerSyncEvent(At);var Ct=bt.props.onClick;isFunction$3(Ct)&&Ct(At,Et)}}),_defineProperty(bt,"handleMouseDown",function(Et){var Tt=bt.props.onMouseDown;if(isFunction$3(Tt)){var At=bt.getMouseInfo(Et);Tt(At,Et)}}),_defineProperty(bt,"handleMouseUp",function(Et){var Tt=bt.props.onMouseUp;if(isFunction$3(Tt)){var At=bt.getMouseInfo(Et);Tt(At,Et)}}),_defineProperty(bt,"handleTouchMove",function(Et){Et.changedTouches!=null&&Et.changedTouches.length>0&&bt.throttleTriggeredAfterMouseMove(Et.changedTouches[0])}),_defineProperty(bt,"handleTouchStart",function(Et){Et.changedTouches!=null&&Et.changedTouches.length>0&&bt.handleMouseDown(Et.changedTouches[0])}),_defineProperty(bt,"handleTouchEnd",function(Et){Et.changedTouches!=null&&Et.changedTouches.length>0&&bt.handleMouseUp(Et.changedTouches[0])}),_defineProperty(bt,"handleDoubleClick",function(Et){var Tt=bt.props.onDoubleClick;if(isFunction$3(Tt)){var At=bt.getMouseInfo(Et);Tt(At,Et)}}),_defineProperty(bt,"handleContextMenu",function(Et){var Tt=bt.props.onContextMenu;if(isFunction$3(Tt)){var At=bt.getMouseInfo(Et);Tt(At,Et)}}),_defineProperty(bt,"triggerSyncEvent",function(Et){bt.props.syncId!==void 0&&eventCenter.emit(SYNC_EVENT,bt.props.syncId,Et,bt.eventEmitterSymbol)}),_defineProperty(bt,"applySyncEvent",function(Et){var Tt=bt.props,At=Tt.layout,Ct=Tt.syncMethod,kt=bt.state.updateId,Pt=Et.dataStartIndex,Dt=Et.dataEndIndex;if(Et.dataStartIndex!==void 0||Et.dataEndIndex!==void 0)bt.setState(_objectSpread({dataStartIndex:Pt,dataEndIndex:Dt},ht({props:bt.props,dataStartIndex:Pt,dataEndIndex:Dt,updateId:kt},bt.state)));else if(Et.activeTooltipIndex!==void 0){var Ft=Et.chartX,Ot=Et.chartY,It=Et.activeTooltipIndex,Bt=bt.state,qt=Bt.offset,Ut=Bt.tooltipTicks;if(!qt)return;if(typeof Ct=="function")It=Ct(Ut,Et);else if(Ct==="value"){It=-1;for(var Ht=0;Ht<Ut.length;Ht++)if(Ut[Ht].value===Et.activeLabel){It=Ht;break}}var Qt=_objectSpread(_objectSpread({},qt),{},{x:qt.left,y:qt.top}),ir=Math.min(Ft,Qt.x+Qt.width),Xt=Math.min(Ot,Qt.y+Qt.height),Lt=Ut[It]&&Ut[It].value,jt=getTooltipContent(bt.state,bt.props.data,It),Nt=Ut[It]?{x:At==="horizontal"?Ut[It].coordinate:ir,y:At==="horizontal"?Xt:Ut[It].coordinate}:originCoordinate;bt.setState(_objectSpread(_objectSpread({},Et),{},{activeLabel:Lt,activeCoordinate:Nt,activePayload:jt,activeTooltipIndex:It}))}else bt.setState(Et)}),_defineProperty(bt,"renderCursor",function(Et){var Tt,At=bt.state,Ct=At.isTooltipActive,kt=At.activeCoordinate,Pt=At.activePayload,Dt=At.offset,Ft=At.activeTooltipIndex,Ot=At.tooltipAxisBandSize,It=bt.getTooltipEventType(),Bt=(Tt=Et.props.active)!==null&&Tt!==void 0?Tt:Ct,qt=bt.props.layout,Ut=Et.key||"_recharts-cursor";return React$1.createElement(Cursor,{key:Ut,activeCoordinate:kt,activePayload:Pt,activeTooltipIndex:Ft,chartName:rt,element:Et,isActive:Bt,layout:qt,offset:Dt,tooltipAxisBandSize:Ot,tooltipEventType:It})}),_defineProperty(bt,"renderPolarAxis",function(Et,Tt,At){var Ct=get$2(Et,"type.axisType"),kt=get$2(bt.state,"".concat(Ct,"Map")),Pt=Et.type.defaultProps,Dt=Pt!==void 0?_objectSpread(_objectSpread({},Pt),Et.props):Et.props,Ft=kt&&kt[Dt["".concat(Ct,"Id")]];return reactExports.cloneElement(Et,_objectSpread(_objectSpread({},Ft),{},{className:clsx(Ct,Ft.className),key:Et.key||"".concat(Tt,"-").concat(At),ticks:getTicksOfAxis(Ft,!0)}))}),_defineProperty(bt,"renderPolarGrid",function(Et){var Tt=Et.props,At=Tt.radialLines,Ct=Tt.polarAngles,kt=Tt.polarRadius,Pt=bt.state,Dt=Pt.radiusAxisMap,Ft=Pt.angleAxisMap,Ot=getAnyElementOfObject(Dt),It=getAnyElementOfObject(Ft),Bt=It.cx,qt=It.cy,Ut=It.innerRadius,Ht=It.outerRadius;return reactExports.cloneElement(Et,{polarAngles:Array.isArray(Ct)?Ct:getTicksOfAxis(It,!0).map(function(Qt){return Qt.coordinate}),polarRadius:Array.isArray(kt)?kt:getTicksOfAxis(Ot,!0).map(function(Qt){return Qt.coordinate}),cx:Bt,cy:qt,innerRadius:Ut,outerRadius:Ht,key:Et.key||"polar-grid",radialLines:At})}),_defineProperty(bt,"renderLegend",function(){var Et=bt.state.formattedGraphicalItems,Tt=bt.props,At=Tt.children,Ct=Tt.width,kt=Tt.height,Pt=bt.props.margin||{},Dt=Ct-(Pt.left||0)-(Pt.right||0),Ft=getLegendProps({children:At,formattedGraphicalItems:Et,legendWidth:Dt,legendContent:ct});if(!Ft)return null;var Ot=Ft.item,It=_objectWithoutProperties(Ft,_excluded);return reactExports.cloneElement(Ot,_objectSpread(_objectSpread({},It),{},{chartWidth:Ct,chartHeight:kt,margin:Pt,onBBoxUpdate:bt.handleLegendBBoxUpdate}))}),_defineProperty(bt,"renderTooltip",function(){var Et,Tt=bt.props,At=Tt.children,Ct=Tt.accessibilityLayer,kt=findChildByType(At,Tooltip);if(!kt)return null;var Pt=bt.state,Dt=Pt.isTooltipActive,Ft=Pt.activeCoordinate,Ot=Pt.activePayload,It=Pt.activeLabel,Bt=Pt.offset,qt=(Et=kt.props.active)!==null&&Et!==void 0?Et:Dt;return reactExports.cloneElement(kt,{viewBox:_objectSpread(_objectSpread({},Bt),{},{x:Bt.left,y:Bt.top}),active:qt,label:It,payload:qt?Ot:[],coordinate:Ft,accessibilityLayer:Ct})}),_defineProperty(bt,"renderBrush",function(Et){var Tt=bt.props,At=Tt.margin,Ct=Tt.data,kt=bt.state,Pt=kt.offset,Dt=kt.dataStartIndex,Ft=kt.dataEndIndex,Ot=kt.updateId;return reactExports.cloneElement(Et,{key:Et.key||"_recharts-brush",onChange:combineEventHandlers(bt.handleBrushChange,Et.props.onChange),data:Ct,x:isNumber(Et.props.x)?Et.props.x:Pt.left,y:isNumber(Et.props.y)?Et.props.y:Pt.top+Pt.height+Pt.brushBottom-(At.bottom||0),width:isNumber(Et.props.width)?Et.props.width:Pt.width,startIndex:Dt,endIndex:Ft,updateId:"brush-".concat(Ot)})}),_defineProperty(bt,"renderReferenceElement",function(Et,Tt,At){if(!Et)return null;var Ct=bt,kt=Ct.clipPathId,Pt=bt.state,Dt=Pt.xAxisMap,Ft=Pt.yAxisMap,Ot=Pt.offset,It=Et.type.defaultProps||{},Bt=Et.props,qt=Bt.xAxisId,Ut=qt===void 0?It.xAxisId:qt,Ht=Bt.yAxisId,Qt=Ht===void 0?It.yAxisId:Ht;return reactExports.cloneElement(Et,{key:Et.key||"".concat(Tt,"-").concat(At),xAxis:Dt[Ut],yAxis:Ft[Qt],viewBox:{x:Ot.left,y:Ot.top,width:Ot.width,height:Ot.height},clipPathId:kt})}),_defineProperty(bt,"renderActivePoints",function(Et){var Tt=Et.item,At=Et.activePoint,Ct=Et.basePoint,kt=Et.childIndex,Pt=Et.isRange,Dt=[],Ft=Tt.props.key,Ot=Tt.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Tt.item.type.defaultProps),Tt.item.props):Tt.item.props,It=Ot.activeDot,Bt=Ot.dataKey,qt=_objectSpread(_objectSpread({index:kt,dataKey:Bt,cx:At.x,cy:At.y,r:4,fill:getMainColorOfGraphicItem(Tt.item),strokeWidth:2,stroke:"#fff",payload:At.payload,value:At.value},filterProps(It,!1)),adaptEventHandlers(It));return Dt.push(vt.renderActiveDot(It,qt,"".concat(Ft,"-activePoint-").concat(kt))),Ct?Dt.push(vt.renderActiveDot(It,_objectSpread(_objectSpread({},qt),{},{cx:Ct.x,cy:Ct.y}),"".concat(Ft,"-basePoint-").concat(kt))):Pt&&Dt.push(null),Dt}),_defineProperty(bt,"renderGraphicChild",function(Et,Tt,At){var Ct=bt.filterFormatItem(Et,Tt,At);if(!Ct)return null;var kt=bt.getTooltipEventType(),Pt=bt.state,Dt=Pt.isTooltipActive,Ft=Pt.tooltipAxis,Ot=Pt.activeTooltipIndex,It=Pt.activeLabel,Bt=bt.props.children,qt=findChildByType(Bt,Tooltip),Ut=Ct.props,Ht=Ut.points,Qt=Ut.isRange,ir=Ut.baseLine,Xt=Ct.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Ct.item.type.defaultProps),Ct.item.props):Ct.item.props,Lt=Xt.activeDot,jt=Xt.hide,Nt=Xt.activeBar,Mt=Xt.activeShape,Vt=!!(!jt&&Dt&&qt&&(Lt||Nt||Mt)),Gt={};kt!=="axis"&&qt&&qt.props.trigger==="click"?Gt={onClick:combineEventHandlers(bt.handleItemMouseEnter,Et.props.onClick)}:kt!=="axis"&&(Gt={onMouseLeave:combineEventHandlers(bt.handleItemMouseLeave,Et.props.onMouseLeave),onMouseEnter:combineEventHandlers(bt.handleItemMouseEnter,Et.props.onMouseEnter)});var Zt=reactExports.cloneElement(Et,_objectSpread(_objectSpread({},Ct.props),Gt));function er(Fr){return typeof Ft.dataKey=="function"?Ft.dataKey(Fr.payload):null}if(Vt)if(Ot>=0){var ar,Kt;if(Ft.dataKey&&!Ft.allowDuplicatedCategory){var pr=typeof Ft.dataKey=="function"?er:"payload.".concat(Ft.dataKey.toString());ar=findEntryInArray(Ht,pr,It),Kt=Qt&&ir&&findEntryInArray(ir,pr,It)}else ar=Ht==null?void 0:Ht[Ot],Kt=Qt&&ir&&ir[Ot];if(Mt||Nt){var fr=Et.props.activeIndex!==void 0?Et.props.activeIndex:Ot;return[reactExports.cloneElement(Et,_objectSpread(_objectSpread(_objectSpread({},Ct.props),Gt),{},{activeIndex:fr})),null,null]}if(!isNil$1(ar))return[Zt].concat(_toConsumableArray(bt.renderActivePoints({item:Ct,activePoint:ar,basePoint:Kt,childIndex:Ot,isRange:Qt})))}else{var vr,wr=(vr=bt.getItemByXY(bt.state.activeCoordinate))!==null&&vr!==void 0?vr:{graphicalItem:Zt},hr=wr.graphicalItem,Ir=hr.item,Jr=Ir===void 0?Et:Ir,Br=hr.childIndex,Zr=_objectSpread(_objectSpread(_objectSpread({},Ct.props),Gt),{},{activeIndex:Br});return[reactExports.cloneElement(Jr,Zr),null,null]}return Qt?[Zt,null,null]:[Zt,null]}),_defineProperty(bt,"renderCustomized",function(Et,Tt,At){return reactExports.cloneElement(Et,_objectSpread(_objectSpread({key:"recharts-customized-".concat(At)},bt.props),bt.state))}),_defineProperty(bt,"renderMap",{CartesianGrid:{handler:renderAsIs,once:!0},ReferenceArea:{handler:bt.renderReferenceElement},ReferenceLine:{handler:renderAsIs},ReferenceDot:{handler:bt.renderReferenceElement},XAxis:{handler:renderAsIs},YAxis:{handler:renderAsIs},Brush:{handler:bt.renderBrush,once:!0},Bar:{handler:bt.renderGraphicChild},Line:{handler:bt.renderGraphicChild},Area:{handler:bt.renderGraphicChild},Radar:{handler:bt.renderGraphicChild},RadialBar:{handler:bt.renderGraphicChild},Scatter:{handler:bt.renderGraphicChild},Pie:{handler:bt.renderGraphicChild},Funnel:{handler:bt.renderGraphicChild},Tooltip:{handler:bt.renderCursor,once:!0},PolarGrid:{handler:bt.renderPolarGrid,once:!0},PolarAngleAxis:{handler:bt.renderPolarAxis},PolarRadiusAxis:{handler:bt.renderPolarAxis},Customized:{handler:bt.renderCustomized}}),bt.clipPathId="".concat((yt=_t.id)!==null&&yt!==void 0?yt:uniqueId("recharts"),"-clip"),bt.throttleTriggeredAfterMouseMove=throttle$1(bt.triggeredAfterMouseMove,(St=_t.throttleDelay)!==null&&St!==void 0?St:1e3/60),bt.state={},bt}return _inherits(vt,xt),_createClass(vt,[{key:"componentDidMount",value:function(){var yt,St;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(yt=this.props.margin.left)!==null&&yt!==void 0?yt:0,top:(St=this.props.margin.top)!==null&&St!==void 0?St:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var yt=this.props,St=yt.children,bt=yt.data,Et=yt.height,Tt=yt.layout,At=findChildByType(St,Tooltip);if(At){var Ct=At.props.defaultIndex;if(!(typeof Ct!="number"||Ct<0||Ct>this.state.tooltipTicks.length-1)){var kt=this.state.tooltipTicks[Ct]&&this.state.tooltipTicks[Ct].value,Pt=getTooltipContent(this.state,bt,Ct,kt),Dt=this.state.tooltipTicks[Ct].coordinate,Ft=(this.state.offset.top+Et)/2,Ot=Tt==="horizontal",It=Ot?{x:Dt,y:Ft}:{y:Dt,x:Ft},Bt=this.state.formattedGraphicalItems.find(function(Ut){var Ht=Ut.item;return Ht.type.name==="Scatter"});Bt&&(It=_objectSpread(_objectSpread({},It),Bt.props.points[Ct].tooltipPosition),Pt=Bt.props.points[Ct].tooltipPayload);var qt={activeTooltipIndex:Ct,isTooltipActive:!0,activeLabel:kt,activePayload:Pt,activeCoordinate:It};this.setState(qt),this.renderCursor(At),this.accessibilityManager.setIndex(Ct)}}}},{key:"getSnapshotBeforeUpdate",value:function(yt,St){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==St.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==yt.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==yt.margin){var bt,Et;this.accessibilityManager.setDetails({offset:{left:(bt=this.props.margin.left)!==null&&bt!==void 0?bt:0,top:(Et=this.props.margin.top)!==null&&Et!==void 0?Et:0}})}return null}},{key:"componentDidUpdate",value:function(yt){isChildrenEqual([findChildByType(yt.children,Tooltip)],[findChildByType(this.props.children,Tooltip)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var yt=findChildByType(this.props.children,Tooltip);if(yt&&typeof yt.props.shared=="boolean"){var St=yt.props.shared?"axis":"item";return ot.indexOf(St)>=0?St:it}return it}},{key:"getMouseInfo",value:function(yt){if(!this.container)return null;var St=this.container,bt=St.getBoundingClientRect(),Et=getOffset(bt),Tt={chartX:Math.round(yt.pageX-Et.left),chartY:Math.round(yt.pageY-Et.top)},At=bt.width/St.offsetWidth||1,Ct=this.inRange(Tt.chartX,Tt.chartY,At);if(!Ct)return null;var kt=this.state,Pt=kt.xAxisMap,Dt=kt.yAxisMap,Ft=this.getTooltipEventType(),Ot=getTooltipData(this.state,this.props.data,this.props.layout,Ct);if(Ft!=="axis"&&Pt&&Dt){var It=getAnyElementOfObject(Pt).scale,Bt=getAnyElementOfObject(Dt).scale,qt=It&&It.invert?It.invert(Tt.chartX):null,Ut=Bt&&Bt.invert?Bt.invert(Tt.chartY):null;return _objectSpread(_objectSpread({},Tt),{},{xValue:qt,yValue:Ut},Ot)}return Ot?_objectSpread(_objectSpread({},Tt),Ot):null}},{key:"inRange",value:function(yt,St){var bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,Et=this.props.layout,Tt=yt/bt,At=St/bt;if(Et==="horizontal"||Et==="vertical"){var Ct=this.state.offset,kt=Tt>=Ct.left&&Tt<=Ct.left+Ct.width&&At>=Ct.top&&At<=Ct.top+Ct.height;return kt?{x:Tt,y:At}:null}var Pt=this.state,Dt=Pt.angleAxisMap,Ft=Pt.radiusAxisMap;if(Dt&&Ft){var Ot=getAnyElementOfObject(Dt);return inRangeOfSector({x:Tt,y:At},Ot)}return null}},{key:"parseEventsOfWrapper",value:function(){var yt=this.props.children,St=this.getTooltipEventType(),bt=findChildByType(yt,Tooltip),Et={};bt&&St==="axis"&&(bt.props.trigger==="click"?Et={onClick:this.handleClick}:Et={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var Tt=adaptEventHandlers(this.props,this.handleOuterEvent);return _objectSpread(_objectSpread({},Tt),Et)}},{key:"addListener",value:function(){eventCenter.on(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eventCenter.removeListener(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(yt,St,bt){for(var Et=this.state.formattedGraphicalItems,Tt=0,At=Et.length;Tt<At;Tt++){var Ct=Et[Tt];if(Ct.item===yt||Ct.props.key===yt.key||St===getDisplayName(Ct.item.type)&&bt===Ct.childIndex)return Ct}return null}},{key:"renderClipPath",value:function(){var yt=this.clipPathId,St=this.state.offset,bt=St.left,Et=St.top,Tt=St.height,At=St.width;return React$1.createElement("defs",null,React$1.createElement("clipPath",{id:yt},React$1.createElement("rect",{x:bt,y:Et,height:Tt,width:At})))}},{key:"getXScales",value:function(){var yt=this.state.xAxisMap;return yt?Object.entries(yt).reduce(function(St,bt){var Et=_slicedToArray(bt,2),Tt=Et[0],At=Et[1];return _objectSpread(_objectSpread({},St),{},_defineProperty({},Tt,At.scale))},{}):null}},{key:"getYScales",value:function(){var yt=this.state.yAxisMap;return yt?Object.entries(yt).reduce(function(St,bt){var Et=_slicedToArray(bt,2),Tt=Et[0],At=Et[1];return _objectSpread(_objectSpread({},St),{},_defineProperty({},Tt,At.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(yt){var St;return(St=this.state.xAxisMap)===null||St===void 0||(St=St[yt])===null||St===void 0?void 0:St.scale}},{key:"getYScaleByAxisId",value:function(yt){var St;return(St=this.state.yAxisMap)===null||St===void 0||(St=St[yt])===null||St===void 0?void 0:St.scale}},{key:"getItemByXY",value:function(yt){var St=this.state,bt=St.formattedGraphicalItems,Et=St.activeItem;if(bt&&bt.length)for(var Tt=0,At=bt.length;Tt<At;Tt++){var Ct=bt[Tt],kt=Ct.props,Pt=Ct.item,Dt=Pt.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Pt.type.defaultProps),Pt.props):Pt.props,Ft=getDisplayName(Pt.type);if(Ft==="Bar"){var Ot=(kt.data||[]).find(function(Ut){return isInRectangle(yt,Ut)});if(Ot)return{graphicalItem:Ct,payload:Ot}}else if(Ft==="RadialBar"){var It=(kt.data||[]).find(function(Ut){return inRangeOfSector(yt,Ut)});if(It)return{graphicalItem:Ct,payload:It}}else if(isFunnel(Ct,Et)||isPie(Ct,Et)||isScatter(Ct,Et)){var Bt=getActiveShapeIndexForTooltip({graphicalItem:Ct,activeTooltipItem:Et,itemData:Dt.data}),qt=Dt.activeIndex===void 0?Bt:Dt.activeIndex;return{graphicalItem:_objectSpread(_objectSpread({},Ct),{},{childIndex:qt}),payload:isScatter(Ct,Et)?Dt.data[Bt]:Ct.props.data[Bt]}}}return null}},{key:"render",value:function(){var yt=this;if(!validateWidthHeight(this))return null;var St=this.props,bt=St.children,Et=St.className,Tt=St.width,At=St.height,Ct=St.style,kt=St.compact,Pt=St.title,Dt=St.desc,Ft=_objectWithoutProperties(St,_excluded2),Ot=filterProps(Ft,!1);if(kt)return React$1.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React$1.createElement(Surface,_extends$1({},Ot,{width:Tt,height:At,title:Pt,desc:Dt}),this.renderClipPath(),renderByOrder(bt,this.renderMap)));if(this.props.accessibilityLayer){var It,Bt;Ot.tabIndex=(It=this.props.tabIndex)!==null&&It!==void 0?It:0,Ot.role=(Bt=this.props.role)!==null&&Bt!==void 0?Bt:"application",Ot.onKeyDown=function(Ut){yt.accessibilityManager.keyboardEvent(Ut)},Ot.onFocus=function(){yt.accessibilityManager.focus()}}var qt=this.parseEventsOfWrapper();return React$1.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React$1.createElement("div",_extends$1({className:clsx("recharts-wrapper",Et),style:_objectSpread({position:"relative",cursor:"default",width:Tt,height:At},Ct)},qt,{ref:function(Ht){yt.container=Ht}}),React$1.createElement(Surface,_extends$1({},Ot,{width:Tt,height:At,title:Pt,desc:Dt,style:FULL_WIDTH_AND_HEIGHT}),this.renderClipPath(),renderByOrder(bt,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(reactExports.Component);_defineProperty(gt,"displayName",rt),_defineProperty(gt,"defaultProps",_objectSpread({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},dt)),_defineProperty(gt,"getDerivedStateFromProps",function(xt,vt){var _t=xt.dataKey,yt=xt.data,St=xt.children,bt=xt.width,Et=xt.height,Tt=xt.layout,At=xt.stackOffset,Ct=xt.margin,kt=vt.dataStartIndex,Pt=vt.dataEndIndex;if(vt.updateId===void 0){var Dt=createDefaultState(xt);return _objectSpread(_objectSpread(_objectSpread({},Dt),{},{updateId:0},ht(_objectSpread(_objectSpread({props:xt},Dt),{},{updateId:0}),vt)),{},{prevDataKey:_t,prevData:yt,prevWidth:bt,prevHeight:Et,prevLayout:Tt,prevStackOffset:At,prevMargin:Ct,prevChildren:St})}if(_t!==vt.prevDataKey||yt!==vt.prevData||bt!==vt.prevWidth||Et!==vt.prevHeight||Tt!==vt.prevLayout||At!==vt.prevStackOffset||!shallowEqual(Ct,vt.prevMargin)){var Ft=createDefaultState(xt),Ot={chartX:vt.chartX,chartY:vt.chartY,isTooltipActive:vt.isTooltipActive},It=_objectSpread(_objectSpread({},getTooltipData(vt,yt,Tt)),{},{updateId:vt.updateId+1}),Bt=_objectSpread(_objectSpread(_objectSpread({},Ft),Ot),It);return _objectSpread(_objectSpread(_objectSpread({},Bt),ht(_objectSpread({props:xt},Bt),vt)),{},{prevDataKey:_t,prevData:yt,prevWidth:bt,prevHeight:Et,prevLayout:Tt,prevStackOffset:At,prevMargin:Ct,prevChildren:St})}if(!isChildrenEqual(St,vt.prevChildren)){var qt,Ut,Ht,Qt,ir=findChildByType(St,Brush),Xt=ir&&(qt=(Ut=ir.props)===null||Ut===void 0?void 0:Ut.startIndex)!==null&&qt!==void 0?qt:kt,Lt=ir&&(Ht=(Qt=ir.props)===null||Qt===void 0?void 0:Qt.endIndex)!==null&&Ht!==void 0?Ht:Pt,jt=Xt!==kt||Lt!==Pt,Nt=!isNil$1(yt),Mt=Nt&&!jt?vt.updateId:vt.updateId+1;return _objectSpread(_objectSpread({updateId:Mt},ht(_objectSpread(_objectSpread({props:xt},vt),{},{updateId:Mt,dataStartIndex:Xt,dataEndIndex:Lt}),vt)),{},{prevChildren:St,dataStartIndex:Xt,dataEndIndex:Lt})}return null}),_defineProperty(gt,"renderActiveDot",function(xt,vt,_t){var yt;return reactExports.isValidElement(xt)?yt=reactExports.cloneElement(xt,vt):isFunction$3(xt)?yt=xt(vt):yt=React$1.createElement(Dot,vt),React$1.createElement(Layer,{className:"recharts-active-dot",key:_t},yt)});var mt=reactExports.forwardRef(function(vt,_t){return React$1.createElement(gt,_extends$1({},vt,{ref:_t}))});return mt.displayName=gt.displayName,mt},PieChart=generateCategoricalChart({chartName:"PieChart",GraphicalChild:Pie,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:PolarAngleAxis},{axisType:"radiusAxis",AxisComp:PolarRadiusAxis}],formatAxisMap,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const PieChartCard=({title:et,data:tt,dataKey:rt,nameKey:nt,colors:at,onPieClick:it})=>!tt||tt.length===0?jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-xl col-span-1 md:col-span-2 lg:col-span-1",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-xl flex items-center",children:[jsxRuntimeExports.jsx(PieChart$1,{className:"mr-2 h-5 w-5"}),et]})}),jsxRuntimeExports.jsx(CardContent,{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Data tidak tersedia."})})]}):jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-xl col-span-1 md:col-span-2 lg:col-span-1",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-xl flex items-center",children:[jsxRuntimeExports.jsx(PieChart$1,{className:"mr-2 h-5 w-5"}),et]})}),jsxRuntimeExports.jsx(CardContent,{className:"h-80",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(PieChart,{children:[jsxRuntimeExports.jsx(Pie,{data:tt,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:rt,nameKey:nt,label:({name:st,percentage:ot})=>`${st} (${(ot*100).toFixed(0)}%)`,onClick:it?st=>it(st.name):void 0,className:it?"cursor-pointer":"",children:tt.map((st,ot)=>jsxRuntimeExports.jsx(Cell,{fill:at[ot%at.length]},`cell-${ot}`))}),jsxRuntimeExports.jsx(Tooltip,{formatter:(st,ot,lt)=>{const ct=lt.payload.percentage!==void 0?(lt.payload.percentage*100).toFixed(1):"N/A";return[`${st} (${ct}%)`,ot]}}),jsxRuntimeExports.jsx(Legend,{})]})})})]});function createSlot$2(et){const tt=createSlotClone$2(et),rt=reactExports.forwardRef((nt,at)=>{const{children:it,...st}=nt,ot=reactExports.Children.toArray(it),lt=ot.find(isSlottable$2);if(lt){const ct=lt.props.children,ut=ot.map(dt=>dt===lt?reactExports.Children.count(ct)>1?reactExports.Children.only(null):reactExports.isValidElement(ct)?ct.props.children:null:dt);return jsxRuntimeExports.jsx(tt,{...st,ref:at,children:reactExports.isValidElement(ct)?reactExports.cloneElement(ct,void 0,ut):null})}return jsxRuntimeExports.jsx(tt,{...st,ref:at,children:it})});return rt.displayName=`${et}.Slot`,rt}function createSlotClone$2(et){const tt=reactExports.forwardRef((rt,nt)=>{const{children:at,...it}=rt;if(reactExports.isValidElement(at)){const st=getElementRef$2(at),ot=mergeProps$2(it,at.props);return at.type!==reactExports.Fragment&&(ot.ref=nt?composeRefs(nt,st):st),reactExports.cloneElement(at,ot)}return reactExports.Children.count(at)>1?reactExports.Children.only(null):null});return tt.displayName=`${et}.SlotClone`,tt}var SLOTTABLE_IDENTIFIER$2=Symbol("radix.slottable");function isSlottable$2(et){return reactExports.isValidElement(et)&&typeof et.type=="function"&&"__radixId"in et.type&&et.type.__radixId===SLOTTABLE_IDENTIFIER$2}function mergeProps$2(et,tt){const rt={...tt};for(const nt in tt){const at=et[nt],it=tt[nt];/^on[A-Z]/.test(nt)?at&&it?rt[nt]=(...ot)=>{const lt=it(...ot);return at(...ot),lt}:at&&(rt[nt]=at):nt==="style"?rt[nt]={...at,...it}:nt==="className"&&(rt[nt]=[at,it].filter(Boolean).join(" "))}return{...et,...rt}}function getElementRef$2(et){var nt,at;let tt=(nt=Object.getOwnPropertyDescriptor(et.props,"ref"))==null?void 0:nt.get,rt=tt&&"isReactWarning"in tt&&tt.isReactWarning;return rt?et.ref:(tt=(at=Object.getOwnPropertyDescriptor(et,"ref"))==null?void 0:at.get,rt=tt&&"isReactWarning"in tt&&tt.isReactWarning,rt?et.props.ref:et.props.ref||et.ref)}var DIALOG_NAME="Dialog",[createDialogContext,createDialogScope]=createContextScope$1(DIALOG_NAME),[DialogProvider,useDialogContext]=createDialogContext(DIALOG_NAME),Dialog$1=et=>{const{__scopeDialog:tt,children:rt,open:nt,defaultOpen:at,onOpenChange:it,modal:st=!0}=et,ot=reactExports.useRef(null),lt=reactExports.useRef(null),[ct,ut]=useControllableState({prop:nt,defaultProp:at??!1,onChange:it,caller:DIALOG_NAME});return jsxRuntimeExports.jsx(DialogProvider,{scope:tt,triggerRef:ot,contentRef:lt,contentId:useId(),titleId:useId(),descriptionId:useId(),open:ct,onOpenChange:ut,onOpenToggle:reactExports.useCallback(()=>ut(dt=>!dt),[ut]),modal:st,children:rt})};Dialog$1.displayName=DIALOG_NAME;var TRIGGER_NAME$3="DialogTrigger",DialogTrigger=reactExports.forwardRef((et,tt)=>{const{__scopeDialog:rt,...nt}=et,at=useDialogContext(TRIGGER_NAME$3,rt),it=useComposedRefs(tt,at.triggerRef);return jsxRuntimeExports.jsx(Primitive$2.button,{type:"button","aria-haspopup":"dialog","aria-expanded":at.open,"aria-controls":at.contentId,"data-state":getState$1(at.open),...nt,ref:it,onClick:composeEventHandlers(et.onClick,at.onOpenToggle)})});DialogTrigger.displayName=TRIGGER_NAME$3;var PORTAL_NAME$2="DialogPortal",[PortalProvider$1,usePortalContext$1]=createDialogContext(PORTAL_NAME$2,{forceMount:void 0}),DialogPortal$1=et=>{const{__scopeDialog:tt,forceMount:rt,children:nt,container:at}=et,it=useDialogContext(PORTAL_NAME$2,tt);return jsxRuntimeExports.jsx(PortalProvider$1,{scope:tt,forceMount:rt,children:reactExports.Children.map(nt,st=>jsxRuntimeExports.jsx(Presence,{present:rt||it.open,children:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,container:at,children:st})}))})};DialogPortal$1.displayName=PORTAL_NAME$2;var OVERLAY_NAME="DialogOverlay",DialogOverlay$1=reactExports.forwardRef((et,tt)=>{const rt=usePortalContext$1(OVERLAY_NAME,et.__scopeDialog),{forceMount:nt=rt.forceMount,...at}=et,it=useDialogContext(OVERLAY_NAME,et.__scopeDialog);return it.modal?jsxRuntimeExports.jsx(Presence,{present:nt||it.open,children:jsxRuntimeExports.jsx(DialogOverlayImpl,{...at,ref:tt})}):null});DialogOverlay$1.displayName=OVERLAY_NAME;var Slot$2=createSlot$2("DialogOverlay.RemoveScroll"),DialogOverlayImpl=reactExports.forwardRef((et,tt)=>{const{__scopeDialog:rt,...nt}=et,at=useDialogContext(OVERLAY_NAME,rt);return jsxRuntimeExports.jsx(RemoveScroll$1,{as:Slot$2,allowPinchZoom:!0,shards:[at.contentRef],children:jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":getState$1(at.open),...nt,ref:tt,style:{pointerEvents:"auto",...nt.style}})})}),CONTENT_NAME$3="DialogContent",DialogContent$1=reactExports.forwardRef((et,tt)=>{const rt=usePortalContext$1(CONTENT_NAME$3,et.__scopeDialog),{forceMount:nt=rt.forceMount,...at}=et,it=useDialogContext(CONTENT_NAME$3,et.__scopeDialog);return jsxRuntimeExports.jsx(Presence,{present:nt||it.open,children:it.modal?jsxRuntimeExports.jsx(DialogContentModal,{...at,ref:tt}):jsxRuntimeExports.jsx(DialogContentNonModal,{...at,ref:tt})})});DialogContent$1.displayName=CONTENT_NAME$3;var DialogContentModal=reactExports.forwardRef((et,tt)=>{const rt=useDialogContext(CONTENT_NAME$3,et.__scopeDialog),nt=reactExports.useRef(null),at=useComposedRefs(tt,rt.contentRef,nt);return reactExports.useEffect(()=>{const it=nt.current;if(it)return hideOthers(it)},[]),jsxRuntimeExports.jsx(DialogContentImpl,{...et,ref:at,trapFocus:rt.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(et.onCloseAutoFocus,it=>{var st;it.preventDefault(),(st=rt.triggerRef.current)==null||st.focus()}),onPointerDownOutside:composeEventHandlers(et.onPointerDownOutside,it=>{const st=it.detail.originalEvent,ot=st.button===0&&st.ctrlKey===!0;(st.button===2||ot)&&it.preventDefault()}),onFocusOutside:composeEventHandlers(et.onFocusOutside,it=>it.preventDefault())})}),DialogContentNonModal=reactExports.forwardRef((et,tt)=>{const rt=useDialogContext(CONTENT_NAME$3,et.__scopeDialog),nt=reactExports.useRef(!1),at=reactExports.useRef(!1);return jsxRuntimeExports.jsx(DialogContentImpl,{...et,ref:tt,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:it=>{var st,ot;(st=et.onCloseAutoFocus)==null||st.call(et,it),it.defaultPrevented||(nt.current||(ot=rt.triggerRef.current)==null||ot.focus(),it.preventDefault()),nt.current=!1,at.current=!1},onInteractOutside:it=>{var lt,ct;(lt=et.onInteractOutside)==null||lt.call(et,it),it.defaultPrevented||(nt.current=!0,it.detail.originalEvent.type==="pointerdown"&&(at.current=!0));const st=it.target;((ct=rt.triggerRef.current)==null?void 0:ct.contains(st))&&it.preventDefault(),it.detail.originalEvent.type==="focusin"&&at.current&&it.preventDefault()}})}),DialogContentImpl=reactExports.forwardRef((et,tt)=>{const{__scopeDialog:rt,trapFocus:nt,onOpenAutoFocus:at,onCloseAutoFocus:it,...st}=et,ot=useDialogContext(CONTENT_NAME$3,rt),lt=reactExports.useRef(null),ct=useComposedRefs(tt,lt);return useFocusGuards(),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:nt,onMountAutoFocus:at,onUnmountAutoFocus:it,children:jsxRuntimeExports.jsx(DismissableLayer,{role:"dialog",id:ot.contentId,"aria-describedby":ot.descriptionId,"aria-labelledby":ot.titleId,"data-state":getState$1(ot.open),...st,ref:ct,onDismiss:()=>ot.onOpenChange(!1)})}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TitleWarning,{titleId:ot.titleId}),jsxRuntimeExports.jsx(DescriptionWarning,{contentRef:lt,descriptionId:ot.descriptionId})]})]})}),TITLE_NAME="DialogTitle",DialogTitle$1=reactExports.forwardRef((et,tt)=>{const{__scopeDialog:rt,...nt}=et,at=useDialogContext(TITLE_NAME,rt);return jsxRuntimeExports.jsx(Primitive$2.h2,{id:at.titleId,...nt,ref:tt})});DialogTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="DialogDescription",DialogDescription$1=reactExports.forwardRef((et,tt)=>{const{__scopeDialog:rt,...nt}=et,at=useDialogContext(DESCRIPTION_NAME,rt);return jsxRuntimeExports.jsx(Primitive$2.p,{id:at.descriptionId,...nt,ref:tt})});DialogDescription$1.displayName=DESCRIPTION_NAME;var CLOSE_NAME$1="DialogClose",DialogClose$1=reactExports.forwardRef((et,tt)=>{const{__scopeDialog:rt,...nt}=et,at=useDialogContext(CLOSE_NAME$1,rt);return jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",...nt,ref:tt,onClick:composeEventHandlers(et.onClick,()=>at.onOpenChange(!1))})});DialogClose$1.displayName=CLOSE_NAME$1;function getState$1(et){return et?"open":"closed"}var TITLE_WARNING_NAME="DialogTitleWarning",[WarningProvider,useWarningContext]=createContext2(TITLE_WARNING_NAME,{contentName:CONTENT_NAME$3,titleName:TITLE_NAME,docsSlug:"dialog"}),TitleWarning=({titleId:et})=>{const tt=useWarningContext(TITLE_WARNING_NAME),rt=`\`${tt.contentName}\` requires a \`${tt.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${tt.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${tt.docsSlug}`;return reactExports.useEffect(()=>{et&&(document.getElementById(et)||console.error(rt))},[rt,et]),null},DESCRIPTION_WARNING_NAME="DialogDescriptionWarning",DescriptionWarning=({contentRef:et,descriptionId:tt})=>{const nt=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${useWarningContext(DESCRIPTION_WARNING_NAME).contentName}}.`;return reactExports.useEffect(()=>{var it;const at=(it=et.current)==null?void 0:it.getAttribute("aria-describedby");tt&&at&&(document.getElementById(tt)||console.warn(nt))},[nt,et,tt]),null},Root$2=Dialog$1,Portal$2=DialogPortal$1,Overlay=DialogOverlay$1,Content$1=DialogContent$1,Title=DialogTitle$1,Description=DialogDescription$1,Close=DialogClose$1;const Dialog=Root$2,DialogPortal=Portal$2,DialogClose=Close,DialogOverlay=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(Overlay,{ref:rt,className:cn("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",et),...tt}));DialogOverlay.displayName=Overlay.displayName;const DialogContent=React$1.forwardRef(({className:et,children:tt,...rt},nt)=>jsxRuntimeExports.jsxs(DialogPortal,{children:[jsxRuntimeExports.jsx(DialogOverlay,{}),jsxRuntimeExports.jsxs(Content$1,{ref:nt,className:cn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",et),...rt,children:[tt,jsxRuntimeExports.jsxs(Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));DialogContent.displayName=Content$1.displayName;const DialogHeader=({className:et,...tt})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-1.5 text-center sm:text-left",et),...tt});DialogHeader.displayName="DialogHeader";const DialogFooter=({className:et,...tt})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",et),...tt});DialogFooter.displayName="DialogFooter";const DialogTitle=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(Title,{ref:rt,className:cn("text-lg font-semibold leading-none tracking-tight",et),...tt}));DialogTitle.displayName=Title.displayName;const DialogDescription=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(Description,{ref:rt,className:cn("text-sm text-muted-foreground",et),...tt}));DialogDescription.displayName=Description.displayName;const Table=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx("div",{className:"relative w-full overflow-auto",children:jsxRuntimeExports.jsx("table",{ref:rt,className:cn("w-full caption-bottom text-sm",et),...tt})}));Table.displayName="Table";const TableHeader=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx("thead",{ref:rt,className:cn("[&_tr]:border-b",et),...tt}));TableHeader.displayName="TableHeader";const TableBody=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx("tbody",{ref:rt,className:cn("[&_tr:last-child]:border-0",et),...tt}));TableBody.displayName="TableBody";const TableFooter=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx("tfoot",{ref:rt,className:cn("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",et),...tt}));TableFooter.displayName="TableFooter";const TableRow=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx("tr",{ref:rt,className:cn("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",et),...tt}));TableRow.displayName="TableRow";const TableHead=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx("th",{ref:rt,className:cn("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",et),...tt}));TableHead.displayName="TableHead";const TableCell=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx("td",{ref:rt,className:cn("p-4 align-middle [&:has([role=checkbox])]:pr-0",et),...tt}));TableCell.displayName="TableCell";const TableCaption=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx("caption",{ref:rt,className:cn("mt-4 text-sm text-muted-foreground",et),...tt}));TableCaption.displayName="TableCaption";function createContextScope(et,tt=[]){let rt=[];function nt(it,st){const ot=reactExports.createContext(st);ot.displayName=it+"Context";const lt=rt.length;rt=[...rt,st];const ct=dt=>{var vt;const{scope:ft,children:ht,...gt}=dt,mt=((vt=ft==null?void 0:ft[et])==null?void 0:vt[lt])||ot,xt=reactExports.useMemo(()=>gt,Object.values(gt));return jsxRuntimeExports.jsx(mt.Provider,{value:xt,children:ht})};ct.displayName=it+"Provider";function ut(dt,ft){var mt;const ht=((mt=ft==null?void 0:ft[et])==null?void 0:mt[lt])||ot,gt=reactExports.useContext(ht);if(gt)return gt;if(st!==void 0)return st;throw new Error(`\`${dt}\` must be used within \`${it}\``)}return[ct,ut]}const at=()=>{const it=rt.map(st=>reactExports.createContext(st));return function(ot){const lt=(ot==null?void 0:ot[et])||it;return reactExports.useMemo(()=>({[`__scope${et}`]:{...ot,[et]:lt}}),[ot,lt])}};return at.scopeName=et,[nt,composeContextScopes(at,...tt)]}function composeContextScopes(...et){const tt=et[0];if(et.length===1)return tt;const rt=()=>{const nt=et.map(at=>({useScope:at(),scopeName:at.scopeName}));return function(it){const st=nt.reduce((ot,{useScope:lt,scopeName:ct})=>{const dt=lt(it)[`__scope${ct}`];return{...ot,...dt}},{});return reactExports.useMemo(()=>({[`__scope${tt.scopeName}`]:st}),[st])}};return rt.scopeName=tt.scopeName,rt}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((et,tt)=>{const rt=createSlot$4(`Primitive.${tt}`),nt=reactExports.forwardRef((at,it)=>{const{asChild:st,...ot}=at,lt=st?rt:tt;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(lt,{...ot,ref:it})});return nt.displayName=`Primitive.${tt}`,{...et,[tt]:nt}},{}),shim$1={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports;function is(et,tt){return et===tt&&(et!==0||1/et===1/tt)||et!==et&&tt!==tt}var objectIs=typeof Object.is=="function"?Object.is:is,useState=React.useState,useEffect=React.useEffect,useLayoutEffect=React.useLayoutEffect,useDebugValue=React.useDebugValue;function useSyncExternalStore$2(et,tt){var rt=tt(),nt=useState({inst:{value:rt,getSnapshot:tt}}),at=nt[0].inst,it=nt[1];return useLayoutEffect(function(){at.value=rt,at.getSnapshot=tt,checkIfSnapshotChanged(at)&&it({inst:at})},[et,rt,tt]),useEffect(function(){return checkIfSnapshotChanged(at)&&it({inst:at}),et(function(){checkIfSnapshotChanged(at)&&it({inst:at})})},[et]),useDebugValue(rt),rt}function checkIfSnapshotChanged(et){var tt=et.getSnapshot;et=et.value;try{var rt=tt();return!objectIs(et,rt)}catch{return!0}}function useSyncExternalStore$1(et,tt){return tt()}var shim=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React.useSyncExternalStore!==void 0?React.useSyncExternalStore:shim;shim$1.exports=useSyncExternalStoreShim_production;var shimExports=shim$1.exports;function useIsHydrated(){return shimExports.useSyncExternalStore(subscribe,()=>!0,()=>!1)}function subscribe(){return()=>{}}var AVATAR_NAME="Avatar",[createAvatarContext,createAvatarScope]=createContextScope(AVATAR_NAME),[AvatarProvider,useAvatarContext]=createAvatarContext(AVATAR_NAME),Avatar$1=reactExports.forwardRef((et,tt)=>{const{__scopeAvatar:rt,...nt}=et,[at,it]=reactExports.useState("idle");return jsxRuntimeExports.jsx(AvatarProvider,{scope:rt,imageLoadingStatus:at,onImageLoadingStatusChange:it,children:jsxRuntimeExports.jsx(Primitive.span,{...nt,ref:tt})})});Avatar$1.displayName=AVATAR_NAME;var IMAGE_NAME="AvatarImage",AvatarImage$1=reactExports.forwardRef((et,tt)=>{const{__scopeAvatar:rt,src:nt,onLoadingStatusChange:at=()=>{},...it}=et,st=useAvatarContext(IMAGE_NAME,rt),ot=useImageLoadingStatus(nt,it),lt=useCallbackRef$1(ct=>{at(ct),st.onImageLoadingStatusChange(ct)});return useLayoutEffect2(()=>{ot!=="idle"&&lt(ot)},[ot,lt]),ot==="loaded"?jsxRuntimeExports.jsx(Primitive.img,{...it,ref:tt,src:nt}):null});AvatarImage$1.displayName=IMAGE_NAME;var FALLBACK_NAME="AvatarFallback",AvatarFallback$1=reactExports.forwardRef((et,tt)=>{const{__scopeAvatar:rt,delayMs:nt,...at}=et,it=useAvatarContext(FALLBACK_NAME,rt),[st,ot]=reactExports.useState(nt===void 0);return reactExports.useEffect(()=>{if(nt!==void 0){const lt=window.setTimeout(()=>ot(!0),nt);return()=>window.clearTimeout(lt)}},[nt]),st&&it.imageLoadingStatus!=="loaded"?jsxRuntimeExports.jsx(Primitive.span,{...at,ref:tt}):null});AvatarFallback$1.displayName=FALLBACK_NAME;function resolveLoadingStatus(et,tt){return et?tt?(et.src!==tt&&(et.src=tt),et.complete&&et.naturalWidth>0?"loaded":"loading"):"error":"idle"}function useImageLoadingStatus(et,{referrerPolicy:tt,crossOrigin:rt}){const nt=useIsHydrated(),at=reactExports.useRef(null),it=(()=>nt?(at.current||(at.current=new window.Image),at.current):null)(),[st,ot]=reactExports.useState(()=>resolveLoadingStatus(it,et));return useLayoutEffect2(()=>{ot(resolveLoadingStatus(it,et))},[it,et]),useLayoutEffect2(()=>{const lt=dt=>()=>{ot(dt)};if(!it)return;const ct=lt("loaded"),ut=lt("error");return it.addEventListener("load",ct),it.addEventListener("error",ut),tt&&(it.referrerPolicy=tt),typeof rt=="string"&&(it.crossOrigin=rt),()=>{it.removeEventListener("load",ct),it.removeEventListener("error",ut)}},[it,rt,tt]),st}var Root$1=Avatar$1,Image$1=AvatarImage$1,Fallback=AvatarFallback$1;const Avatar=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(Root$1,{ref:rt,className:cn("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",et),...tt}));Avatar.displayName=Root$1.displayName;const AvatarImage=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(Image$1,{ref:rt,className:cn("aspect-square h-full w-full",et),...tt}));AvatarImage.displayName=Image$1.displayName;const AvatarFallback=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(Fallback,{ref:rt,className:cn("flex h-full w-full items-center justify-center rounded-full bg-muted",et),...tt}));AvatarFallback.displayName=Fallback.displayName;const badgeVariants=cva("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-blue-200/40 text-blue-500 hover:bg-blue-800/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge({className:et,variant:tt,...rt}){return jsxRuntimeExports.jsx("div",{className:cn(badgeVariants({variant:tt}),et),...rt})}const EmployeeQuickViewDialog=({isOpen:et,onOpenChange:tt,title:rt,employees:nt})=>{const at=useNavigate(),it=st=>{at(`/admin/employees/${st}`)};return jsxRuntimeExports.jsx(Dialog,{open:et,onOpenChange:tt,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:rt}),jsxRuntimeExports.jsxs(DialogDescription,{children:["Menampilkan ",nt.length," karyawan yang cocok. Klik baris untuk melihat detail."]})]}),jsxRuntimeExports.jsx("div",{className:"flex-grow overflow-y-auto",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{className:"sticky top-0 bg-card z-10",children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Nama"}),jsxRuntimeExports.jsx(TableHead,{children:"NIK"}),jsxRuntimeExports.jsx(TableHead,{children:"Jabatan"}),jsxRuntimeExports.jsx(TableHead,{children:"Divisi"})]})}),jsxRuntimeExports.jsx(TableBody,{children:nt.map(st=>jsxRuntimeExports.jsxs(TableRow,{onClick:()=>it(st.id),className:"cursor-pointer",children:[jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Avatar,{children:[jsxRuntimeExports.jsx(AvatarImage,{src:st.photo}),jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:st.name.charAt(0)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:st.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:st.email})]})]})}),jsxRuntimeExports.jsx(TableCell,{children:st.nik}),jsxRuntimeExports.jsx(TableCell,{children:st.position}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"outline",children:st.division})})]},st.id))})]})})]})})},formatDistanceLocale={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},formatDistance=(et,tt,rt)=>{let nt;const at=formatDistanceLocale[et];return typeof at=="string"?nt=at:tt===1?nt=at.one:nt=at.other.replace("{{count}}",tt.toString()),rt!=null&&rt.addSuffix?rt.comparison&&rt.comparison>0?"dalam waktu "+nt:nt+" yang lalu":nt},dateFormats={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},timeFormats={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},dateTimeFormats={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},formatRelative=(et,tt,rt,nt)=>formatRelativeLocale[et],eraValues={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},dayValues={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},dayPeriodValues={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},formattingDayPeriodValues={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},ordinalNumber=(et,tt)=>"ke-"+Number(et),localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:et=>et-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})},matchOrdinalNumberPattern=/^ke-(\d+)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},parseEraPatterns={any:[/^s/i,/^(m|e)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},parseDayPatterns={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:et=>parseInt(et,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:et=>et+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},id={code:"id",formatDistance,formatLong,formatRelative,localize,match,options:{weekStartsOn:1,firstWeekContainsDate:1}},ExpiringContractsCard=({contracts:et,onViewAll:tt})=>{const rt=useNavigate(),nt=it=>{rt(`/admin/employees/${it}`)},at=it=>it<=7?"text-red-500":it<=15?"text-orange-500":"text-yellow-500";return jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-xl lg:col-span-1 flex flex-col",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-xl flex items-center",children:[jsxRuntimeExports.jsx(FileClock,{className:"mr-2 h-5 w-5 text-red-500"})," Kontrak Akan Berakhir"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Daftar karyawan yang kontraknya akan habis dalam 30 hari."})]}),jsxRuntimeExports.jsx(CardContent,{className:"flex-grow overflow-hidden flex flex-col",children:et&&et.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"space-y-4 overflow-y-auto flex-grow pr-2",children:et.slice(0,5).map(it=>{const st=differenceInDays(new Date(it.end_date),new Date);return jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 p-2 rounded-lg hover:bg-muted cursor-pointer",onClick:()=>nt(it.employee.id),children:[jsxRuntimeExports.jsxs(Avatar,{children:[jsxRuntimeExports.jsx(AvatarImage,{src:it.employee.photo}),jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-gradient-to-r from-red-500 to-orange-500 text-white",children:it.employee.name.charAt(0)})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"font-medium truncate",children:it.employee.name}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:["Berakhir: ",format$1(new Date(it.end_date),"dd MMM yyyy",{locale:id})]})]}),jsxRuntimeExports.jsxs("div",{className:`font-bold text-sm text-right ${at(st)}`,children:[st," hari"]})]},it.id)})}),et.length>5&&jsxRuntimeExports.jsxs(Button,{variant:"link",className:"w-full mt-4",onClick:tt,children:["Lihat Semua (",et.length,")"]})]}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center text-center flex-grow h-full",children:[jsxRuntimeExports.jsx(FileClock,{className:"h-16 w-16 text-green-500"}),jsxRuntimeExports.jsx("p",{className:"mt-4 font-semibold text-lg",children:"Semua Aman!"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mt-1",children:"Tidak ada kontrak yang akan berakhir dalam waktu dekat."})]})})]})},ExpiringContractsDialog=({isOpen:et,onOpenChange:tt,contracts:rt})=>{const nt=useNavigate(),at=st=>{nt(`/admin/employees/${st}`),tt(!1)},it=st=>st<=7?"text-red-500 font-bold":st<=15?"text-orange-500 font-semibold":"text-yellow-500";return jsxRuntimeExports.jsx(Dialog,{open:et,onOpenChange:tt,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Karyawan dengan Kontrak Akan Berakhir"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Berikut adalah daftar lengkap karyawan yang kontraknya akan berakhir dalam 30 hari ke depan."})]}),jsxRuntimeExports.jsx("div",{className:"flex-grow overflow-y-auto pr-4",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{className:"sticky top-0 bg-background z-10",children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Nama Karyawan"}),jsxRuntimeExports.jsx(TableHead,{children:"NIK"}),jsxRuntimeExports.jsx(TableHead,{children:"Jabatan"}),jsxRuntimeExports.jsx(TableHead,{children:"Tanggal Berakhir"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right",children:"Sisa Hari"})]})}),jsxRuntimeExports.jsx(TableBody,{children:rt&&rt.length>0?rt.map(st=>{const ot=differenceInDays(new Date(st.end_date),new Date);return jsxRuntimeExports.jsxs(TableRow,{className:"cursor-pointer hover:bg-muted",onClick:()=>at(st.employee.id),children:[jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Avatar,{children:[jsxRuntimeExports.jsx(AvatarImage,{src:st.employee.photo}),jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-gradient-to-r from-red-500 to-orange-500 text-white",children:st.employee.name?st.employee.name.charAt(0):"E"})]}),jsxRuntimeExports.jsx("span",{children:st.employee.name||"Data tidak lengkap"})]})}),jsxRuntimeExports.jsx(TableCell,{children:st.employee.nik||"-"}),jsxRuntimeExports.jsx(TableCell,{children:st.employee.position||"-"}),jsxRuntimeExports.jsx(TableCell,{children:format$1(new Date(st.end_date),"dd MMMM yyyy",{locale:id})}),jsxRuntimeExports.jsxs(TableCell,{className:`text-right ${it(ot)}`,children:[ot," hari"]})]},st.id)}):jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:"5",className:"text-center h-24",children:"Tidak ada data kontrak yang akan berakhir."})})})]})})]})})},MppCard=({employees:et,onViewAll:tt})=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-xl h-full flex flex-col",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg font-bold flex items-center",children:[jsxRuntimeExports.jsx(AlarmClock,{className:"mr-2 h-5 w-5 text-orange-500"}),"Masa Persiapan Pensiun"]}),jsxRuntimeExports.jsx("span",{className:"text-sm font-bold text-orange-500 bg-orange-100 dark:bg-orange-900/50 px-2 py-1 rounded-full",children:et.length})]}),jsxRuntimeExports.jsxs(CardContent,{className:"flex-grow flex flex-col justify-between",children:[et.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-3 flex-grow overflow-y-auto max-h-64 pr-2",children:et.slice(0,4).map((rt,nt)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:nt*.1},className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-muted/50 transition-colors",children:[jsxRuntimeExports.jsxs(Avatar,{children:[jsxRuntimeExports.jsx(AvatarImage,{src:rt.photo,alt:rt.name}),jsxRuntimeExports.jsx(AvatarFallback,{children:rt.name.charAt(0)})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold truncate",children:rt.name}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Pensiun dalam: ",rt.timeRemaining.months," bulan, ",rt.timeRemaining.days," hari"]})]})]},rt.id))}):jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground text-sm",children:"Tidak ada karyawan dalam masa persiapan pensiun."}),jsxRuntimeExports.jsx(Button,{variant:"ghost",className:"w-full mt-4 text-primary",onClick:tt,disabled:et.length===0,children:"Lihat Semua"})]})]})});function clamp(et,[tt,rt]){return Math.min(rt,Math.max(tt,et))}function useStateMachine(et,tt){return reactExports.useReducer((rt,nt)=>tt[rt][nt]??rt,et)}var SCROLL_AREA_NAME="ScrollArea",[createScrollAreaContext,createScrollAreaScope]=createContextScope$1(SCROLL_AREA_NAME),[ScrollAreaProvider,useScrollAreaContext]=createScrollAreaContext(SCROLL_AREA_NAME),ScrollArea$1=reactExports.forwardRef((et,tt)=>{const{__scopeScrollArea:rt,type:nt="hover",dir:at,scrollHideDelay:it=600,...st}=et,[ot,lt]=reactExports.useState(null),[ct,ut]=reactExports.useState(null),[dt,ft]=reactExports.useState(null),[ht,gt]=reactExports.useState(null),[mt,xt]=reactExports.useState(null),[vt,_t]=reactExports.useState(0),[yt,St]=reactExports.useState(0),[bt,Et]=reactExports.useState(!1),[Tt,At]=reactExports.useState(!1),Ct=useComposedRefs(tt,Pt=>lt(Pt)),kt=useDirection(at);return jsxRuntimeExports.jsx(ScrollAreaProvider,{scope:rt,type:nt,dir:kt,scrollHideDelay:it,scrollArea:ot,viewport:ct,onViewportChange:ut,content:dt,onContentChange:ft,scrollbarX:ht,onScrollbarXChange:gt,scrollbarXEnabled:bt,onScrollbarXEnabledChange:Et,scrollbarY:mt,onScrollbarYChange:xt,scrollbarYEnabled:Tt,onScrollbarYEnabledChange:At,onCornerWidthChange:_t,onCornerHeightChange:St,children:jsxRuntimeExports.jsx(Primitive$2.div,{dir:kt,...st,ref:Ct,style:{position:"relative","--radix-scroll-area-corner-width":vt+"px","--radix-scroll-area-corner-height":yt+"px",...et.style}})})});ScrollArea$1.displayName=SCROLL_AREA_NAME;var VIEWPORT_NAME$1="ScrollAreaViewport",ScrollAreaViewport=reactExports.forwardRef((et,tt)=>{const{__scopeScrollArea:rt,children:nt,nonce:at,...it}=et,st=useScrollAreaContext(VIEWPORT_NAME$1,rt),ot=reactExports.useRef(null),lt=useComposedRefs(tt,ot,st.onViewportChange);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:at}),jsxRuntimeExports.jsx(Primitive$2.div,{"data-radix-scroll-area-viewport":"",...it,ref:lt,style:{overflowX:st.scrollbarXEnabled?"scroll":"hidden",overflowY:st.scrollbarYEnabled?"scroll":"hidden",...et.style},children:jsxRuntimeExports.jsx("div",{ref:st.onContentChange,style:{minWidth:"100%",display:"table"},children:nt})})]})});ScrollAreaViewport.displayName=VIEWPORT_NAME$1;var SCROLLBAR_NAME="ScrollAreaScrollbar",ScrollAreaScrollbar=reactExports.forwardRef((et,tt)=>{const{forceMount:rt,...nt}=et,at=useScrollAreaContext(SCROLLBAR_NAME,et.__scopeScrollArea),{onScrollbarXEnabledChange:it,onScrollbarYEnabledChange:st}=at,ot=et.orientation==="horizontal";return reactExports.useEffect(()=>(ot?it(!0):st(!0),()=>{ot?it(!1):st(!1)}),[ot,it,st]),at.type==="hover"?jsxRuntimeExports.jsx(ScrollAreaScrollbarHover,{...nt,ref:tt,forceMount:rt}):at.type==="scroll"?jsxRuntimeExports.jsx(ScrollAreaScrollbarScroll,{...nt,ref:tt,forceMount:rt}):at.type==="auto"?jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{...nt,ref:tt,forceMount:rt}):at.type==="always"?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{...nt,ref:tt}):null});ScrollAreaScrollbar.displayName=SCROLLBAR_NAME;var ScrollAreaScrollbarHover=reactExports.forwardRef((et,tt)=>{const{forceMount:rt,...nt}=et,at=useScrollAreaContext(SCROLLBAR_NAME,et.__scopeScrollArea),[it,st]=reactExports.useState(!1);return reactExports.useEffect(()=>{const ot=at.scrollArea;let lt=0;if(ot){const ct=()=>{window.clearTimeout(lt),st(!0)},ut=()=>{lt=window.setTimeout(()=>st(!1),at.scrollHideDelay)};return ot.addEventListener("pointerenter",ct),ot.addEventListener("pointerleave",ut),()=>{window.clearTimeout(lt),ot.removeEventListener("pointerenter",ct),ot.removeEventListener("pointerleave",ut)}}},[at.scrollArea,at.scrollHideDelay]),jsxRuntimeExports.jsx(Presence,{present:rt||it,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{"data-state":it?"visible":"hidden",...nt,ref:tt})})}),ScrollAreaScrollbarScroll=reactExports.forwardRef((et,tt)=>{const{forceMount:rt,...nt}=et,at=useScrollAreaContext(SCROLLBAR_NAME,et.__scopeScrollArea),it=et.orientation==="horizontal",st=useDebounceCallback(()=>lt("SCROLL_END"),100),[ot,lt]=useStateMachine("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return reactExports.useEffect(()=>{if(ot==="idle"){const ct=window.setTimeout(()=>lt("HIDE"),at.scrollHideDelay);return()=>window.clearTimeout(ct)}},[ot,at.scrollHideDelay,lt]),reactExports.useEffect(()=>{const ct=at.viewport,ut=it?"scrollLeft":"scrollTop";if(ct){let dt=ct[ut];const ft=()=>{const ht=ct[ut];dt!==ht&&(lt("SCROLL"),st()),dt=ht};return ct.addEventListener("scroll",ft),()=>ct.removeEventListener("scroll",ft)}},[at.viewport,it,lt,st]),jsxRuntimeExports.jsx(Presence,{present:rt||ot!=="hidden",children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":ot==="hidden"?"hidden":"visible",...nt,ref:tt,onPointerEnter:composeEventHandlers(et.onPointerEnter,()=>lt("POINTER_ENTER")),onPointerLeave:composeEventHandlers(et.onPointerLeave,()=>lt("POINTER_LEAVE"))})})}),ScrollAreaScrollbarAuto=reactExports.forwardRef((et,tt)=>{const rt=useScrollAreaContext(SCROLLBAR_NAME,et.__scopeScrollArea),{forceMount:nt,...at}=et,[it,st]=reactExports.useState(!1),ot=et.orientation==="horizontal",lt=useDebounceCallback(()=>{if(rt.viewport){const ct=rt.viewport.offsetWidth<rt.viewport.scrollWidth,ut=rt.viewport.offsetHeight<rt.viewport.scrollHeight;st(ot?ct:ut)}},10);return useResizeObserver(rt.viewport,lt),useResizeObserver(rt.content,lt),jsxRuntimeExports.jsx(Presence,{present:nt||it,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":it?"visible":"hidden",...at,ref:tt})})}),ScrollAreaScrollbarVisible=reactExports.forwardRef((et,tt)=>{const{orientation:rt="vertical",...nt}=et,at=useScrollAreaContext(SCROLLBAR_NAME,et.__scopeScrollArea),it=reactExports.useRef(null),st=reactExports.useRef(0),[ot,lt]=reactExports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),ct=getThumbRatio(ot.viewport,ot.content),ut={...nt,sizes:ot,onSizesChange:lt,hasThumb:ct>0&&ct<1,onThumbChange:ft=>it.current=ft,onThumbPointerUp:()=>st.current=0,onThumbPointerDown:ft=>st.current=ft};function dt(ft,ht){return getScrollPositionFromPointer(ft,st.current,ot,ht)}return rt==="horizontal"?jsxRuntimeExports.jsx(ScrollAreaScrollbarX,{...ut,ref:tt,onThumbPositionChange:()=>{if(at.viewport&&it.current){const ft=at.viewport.scrollLeft,ht=getThumbOffsetFromScroll(ft,ot,at.dir);it.current.style.transform=`translate3d(${ht}px, 0, 0)`}},onWheelScroll:ft=>{at.viewport&&(at.viewport.scrollLeft=ft)},onDragScroll:ft=>{at.viewport&&(at.viewport.scrollLeft=dt(ft,at.dir))}}):rt==="vertical"?jsxRuntimeExports.jsx(ScrollAreaScrollbarY,{...ut,ref:tt,onThumbPositionChange:()=>{if(at.viewport&&it.current){const ft=at.viewport.scrollTop,ht=getThumbOffsetFromScroll(ft,ot);it.current.style.transform=`translate3d(0, ${ht}px, 0)`}},onWheelScroll:ft=>{at.viewport&&(at.viewport.scrollTop=ft)},onDragScroll:ft=>{at.viewport&&(at.viewport.scrollTop=dt(ft))}}):null}),ScrollAreaScrollbarX=reactExports.forwardRef((et,tt)=>{const{sizes:rt,onSizesChange:nt,...at}=et,it=useScrollAreaContext(SCROLLBAR_NAME,et.__scopeScrollArea),[st,ot]=reactExports.useState(),lt=reactExports.useRef(null),ct=useComposedRefs(tt,lt,it.onScrollbarXChange);return reactExports.useEffect(()=>{lt.current&&ot(getComputedStyle(lt.current))},[lt]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"horizontal",...at,ref:ct,sizes:rt,style:{bottom:0,left:it.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:it.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":getThumbSize(rt)+"px",...et.style},onThumbPointerDown:ut=>et.onThumbPointerDown(ut.x),onDragScroll:ut=>et.onDragScroll(ut.x),onWheelScroll:(ut,dt)=>{if(it.viewport){const ft=it.viewport.scrollLeft+ut.deltaX;et.onWheelScroll(ft),isScrollingWithinScrollbarBounds(ft,dt)&&ut.preventDefault()}},onResize:()=>{lt.current&&it.viewport&&st&&nt({content:it.viewport.scrollWidth,viewport:it.viewport.offsetWidth,scrollbar:{size:lt.current.clientWidth,paddingStart:toInt(st.paddingLeft),paddingEnd:toInt(st.paddingRight)}})}})}),ScrollAreaScrollbarY=reactExports.forwardRef((et,tt)=>{const{sizes:rt,onSizesChange:nt,...at}=et,it=useScrollAreaContext(SCROLLBAR_NAME,et.__scopeScrollArea),[st,ot]=reactExports.useState(),lt=reactExports.useRef(null),ct=useComposedRefs(tt,lt,it.onScrollbarYChange);return reactExports.useEffect(()=>{lt.current&&ot(getComputedStyle(lt.current))},[lt]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"vertical",...at,ref:ct,sizes:rt,style:{top:0,right:it.dir==="ltr"?0:void 0,left:it.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":getThumbSize(rt)+"px",...et.style},onThumbPointerDown:ut=>et.onThumbPointerDown(ut.y),onDragScroll:ut=>et.onDragScroll(ut.y),onWheelScroll:(ut,dt)=>{if(it.viewport){const ft=it.viewport.scrollTop+ut.deltaY;et.onWheelScroll(ft),isScrollingWithinScrollbarBounds(ft,dt)&&ut.preventDefault()}},onResize:()=>{lt.current&&it.viewport&&st&&nt({content:it.viewport.scrollHeight,viewport:it.viewport.offsetHeight,scrollbar:{size:lt.current.clientHeight,paddingStart:toInt(st.paddingTop),paddingEnd:toInt(st.paddingBottom)}})}})}),[ScrollbarProvider,useScrollbarContext]=createScrollAreaContext(SCROLLBAR_NAME),ScrollAreaScrollbarImpl=reactExports.forwardRef((et,tt)=>{const{__scopeScrollArea:rt,sizes:nt,hasThumb:at,onThumbChange:it,onThumbPointerUp:st,onThumbPointerDown:ot,onThumbPositionChange:lt,onDragScroll:ct,onWheelScroll:ut,onResize:dt,...ft}=et,ht=useScrollAreaContext(SCROLLBAR_NAME,rt),[gt,mt]=reactExports.useState(null),xt=useComposedRefs(tt,Ct=>mt(Ct)),vt=reactExports.useRef(null),_t=reactExports.useRef(""),yt=ht.viewport,St=nt.content-nt.viewport,bt=useCallbackRef$1(ut),Et=useCallbackRef$1(lt),Tt=useDebounceCallback(dt,10);function At(Ct){if(vt.current){const kt=Ct.clientX-vt.current.left,Pt=Ct.clientY-vt.current.top;ct({x:kt,y:Pt})}}return reactExports.useEffect(()=>{const Ct=kt=>{const Pt=kt.target;(gt==null?void 0:gt.contains(Pt))&&bt(kt,St)};return document.addEventListener("wheel",Ct,{passive:!1}),()=>document.removeEventListener("wheel",Ct,{passive:!1})},[yt,gt,St,bt]),reactExports.useEffect(Et,[nt,Et]),useResizeObserver(gt,Tt),useResizeObserver(ht.content,Tt),jsxRuntimeExports.jsx(ScrollbarProvider,{scope:rt,scrollbar:gt,hasThumb:at,onThumbChange:useCallbackRef$1(it),onThumbPointerUp:useCallbackRef$1(st),onThumbPositionChange:Et,onThumbPointerDown:useCallbackRef$1(ot),children:jsxRuntimeExports.jsx(Primitive$2.div,{...ft,ref:xt,style:{position:"absolute",...ft.style},onPointerDown:composeEventHandlers(et.onPointerDown,Ct=>{Ct.button===0&&(Ct.target.setPointerCapture(Ct.pointerId),vt.current=gt.getBoundingClientRect(),_t.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",ht.viewport&&(ht.viewport.style.scrollBehavior="auto"),At(Ct))}),onPointerMove:composeEventHandlers(et.onPointerMove,At),onPointerUp:composeEventHandlers(et.onPointerUp,Ct=>{const kt=Ct.target;kt.hasPointerCapture(Ct.pointerId)&&kt.releasePointerCapture(Ct.pointerId),document.body.style.webkitUserSelect=_t.current,ht.viewport&&(ht.viewport.style.scrollBehavior=""),vt.current=null})})})}),THUMB_NAME="ScrollAreaThumb",ScrollAreaThumb=reactExports.forwardRef((et,tt)=>{const{forceMount:rt,...nt}=et,at=useScrollbarContext(THUMB_NAME,et.__scopeScrollArea);return jsxRuntimeExports.jsx(Presence,{present:rt||at.hasThumb,children:jsxRuntimeExports.jsx(ScrollAreaThumbImpl,{ref:tt,...nt})})}),ScrollAreaThumbImpl=reactExports.forwardRef((et,tt)=>{const{__scopeScrollArea:rt,style:nt,...at}=et,it=useScrollAreaContext(THUMB_NAME,rt),st=useScrollbarContext(THUMB_NAME,rt),{onThumbPositionChange:ot}=st,lt=useComposedRefs(tt,dt=>st.onThumbChange(dt)),ct=reactExports.useRef(void 0),ut=useDebounceCallback(()=>{ct.current&&(ct.current(),ct.current=void 0)},100);return reactExports.useEffect(()=>{const dt=it.viewport;if(dt){const ft=()=>{if(ut(),!ct.current){const ht=addUnlinkedScrollListener(dt,ot);ct.current=ht,ot()}};return ot(),dt.addEventListener("scroll",ft),()=>dt.removeEventListener("scroll",ft)}},[it.viewport,ut,ot]),jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":st.hasThumb?"visible":"hidden",...at,ref:lt,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...nt},onPointerDownCapture:composeEventHandlers(et.onPointerDownCapture,dt=>{const ht=dt.target.getBoundingClientRect(),gt=dt.clientX-ht.left,mt=dt.clientY-ht.top;st.onThumbPointerDown({x:gt,y:mt})}),onPointerUp:composeEventHandlers(et.onPointerUp,st.onThumbPointerUp)})});ScrollAreaThumb.displayName=THUMB_NAME;var CORNER_NAME="ScrollAreaCorner",ScrollAreaCorner=reactExports.forwardRef((et,tt)=>{const rt=useScrollAreaContext(CORNER_NAME,et.__scopeScrollArea),nt=!!(rt.scrollbarX&&rt.scrollbarY);return rt.type!=="scroll"&&nt?jsxRuntimeExports.jsx(ScrollAreaCornerImpl,{...et,ref:tt}):null});ScrollAreaCorner.displayName=CORNER_NAME;var ScrollAreaCornerImpl=reactExports.forwardRef((et,tt)=>{const{__scopeScrollArea:rt,...nt}=et,at=useScrollAreaContext(CORNER_NAME,rt),[it,st]=reactExports.useState(0),[ot,lt]=reactExports.useState(0),ct=!!(it&&ot);return useResizeObserver(at.scrollbarX,()=>{var dt;const ut=((dt=at.scrollbarX)==null?void 0:dt.offsetHeight)||0;at.onCornerHeightChange(ut),lt(ut)}),useResizeObserver(at.scrollbarY,()=>{var dt;const ut=((dt=at.scrollbarY)==null?void 0:dt.offsetWidth)||0;at.onCornerWidthChange(ut),st(ut)}),ct?jsxRuntimeExports.jsx(Primitive$2.div,{...nt,ref:tt,style:{width:it,height:ot,position:"absolute",right:at.dir==="ltr"?0:void 0,left:at.dir==="rtl"?0:void 0,bottom:0,...et.style}}):null});function toInt(et){return et?parseInt(et,10):0}function getThumbRatio(et,tt){const rt=et/tt;return isNaN(rt)?0:rt}function getThumbSize(et){const tt=getThumbRatio(et.viewport,et.content),rt=et.scrollbar.paddingStart+et.scrollbar.paddingEnd,nt=(et.scrollbar.size-rt)*tt;return Math.max(nt,18)}function getScrollPositionFromPointer(et,tt,rt,nt="ltr"){const at=getThumbSize(rt),it=at/2,st=tt||it,ot=at-st,lt=rt.scrollbar.paddingStart+st,ct=rt.scrollbar.size-rt.scrollbar.paddingEnd-ot,ut=rt.content-rt.viewport,dt=nt==="ltr"?[0,ut]:[ut*-1,0];return linearScale([lt,ct],dt)(et)}function getThumbOffsetFromScroll(et,tt,rt="ltr"){const nt=getThumbSize(tt),at=tt.scrollbar.paddingStart+tt.scrollbar.paddingEnd,it=tt.scrollbar.size-at,st=tt.content-tt.viewport,ot=it-nt,lt=rt==="ltr"?[0,st]:[st*-1,0],ct=clamp(et,lt);return linearScale([0,st],[0,ot])(ct)}function linearScale(et,tt){return rt=>{if(et[0]===et[1]||tt[0]===tt[1])return tt[0];const nt=(tt[1]-tt[0])/(et[1]-et[0]);return tt[0]+nt*(rt-et[0])}}function isScrollingWithinScrollbarBounds(et,tt){return et>0&&et<tt}var addUnlinkedScrollListener=(et,tt=()=>{})=>{let rt={left:et.scrollLeft,top:et.scrollTop},nt=0;return function at(){const it={left:et.scrollLeft,top:et.scrollTop},st=rt.left!==it.left,ot=rt.top!==it.top;(st||ot)&&tt(),rt=it,nt=window.requestAnimationFrame(at)}(),()=>window.cancelAnimationFrame(nt)};function useDebounceCallback(et,tt){const rt=useCallbackRef$1(et),nt=reactExports.useRef(0);return reactExports.useEffect(()=>()=>window.clearTimeout(nt.current),[]),reactExports.useCallback(()=>{window.clearTimeout(nt.current),nt.current=window.setTimeout(rt,tt)},[rt,tt])}function useResizeObserver(et,tt){const rt=useCallbackRef$1(tt);useLayoutEffect2(()=>{let nt=0;if(et){const at=new ResizeObserver(()=>{cancelAnimationFrame(nt),nt=window.requestAnimationFrame(rt)});return at.observe(et),()=>{window.cancelAnimationFrame(nt),at.unobserve(et)}}},[et,rt])}var Root=ScrollArea$1,Viewport$1=ScrollAreaViewport,Corner=ScrollAreaCorner;const ScrollArea=React$1.forwardRef(({className:et,children:tt,...rt},nt)=>jsxRuntimeExports.jsxs(Root,{ref:nt,className:cn("relative overflow-hidden",et),...rt,children:[jsxRuntimeExports.jsx(Viewport$1,{className:"h-full w-full rounded-[inherit]",children:tt}),jsxRuntimeExports.jsx(ScrollBar,{}),jsxRuntimeExports.jsx(Corner,{})]}));ScrollArea.displayName=Root.displayName;const ScrollBar=React$1.forwardRef(({className:et,orientation:tt="vertical",...rt},nt)=>jsxRuntimeExports.jsx(ScrollAreaScrollbar,{ref:nt,orientation:tt,className:cn("flex touch-none select-none transition-colors",tt==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",tt==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",et),...rt,children:jsxRuntimeExports.jsx(ScrollAreaThumb,{className:"relative flex-1 rounded-full bg-border"})}));ScrollBar.displayName=ScrollAreaScrollbar.displayName;const MppDialog=({isOpen:et,onOpenChange:tt,employees:rt})=>jsxRuntimeExports.jsx(Dialog,{open:et,onOpenChange:tt,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-3xl",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Karyawan Masa Persiapan Pensiun"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Daftar karyawan yang akan memasuki masa pensiun (usia 58 tahun) dalam 1 tahun ke depan."})]}),jsxRuntimeExports.jsx(ScrollArea,{className:"max-h-[60vh]",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Karyawan"}),jsxRuntimeExports.jsx(TableHead,{children:"Jabatan"}),jsxRuntimeExports.jsx(TableHead,{children:"Tanggal Pensiun"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right",children:"Sisa Waktu"})]})}),jsxRuntimeExports.jsx(TableBody,{children:rt.length>0?rt.map(nt=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Avatar,{children:[jsxRuntimeExports.jsx(AvatarImage,{src:nt.photo,alt:nt.name}),jsxRuntimeExports.jsx(AvatarFallback,{children:nt.name.charAt(0)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:nt.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:nt.nik})]})]})}),jsxRuntimeExports.jsx(TableCell,{children:nt.position}),jsxRuntimeExports.jsx(TableCell,{children:nt.retirementDate}),jsxRuntimeExports.jsxs(TableCell,{className:"text-right",children:[nt.timeRemaining.months," bulan, ",nt.timeRemaining.days," hari"]})]},nt.id)):jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:"4",className:"h-24 text-center",children:"Tidak ada data."})})})]})})]})}),BirthdayCard=({employees:et,onViewAll:tt})=>jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-xl",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-xl flex items-center text-rose-500",children:[jsxRuntimeExports.jsx(Cake,{className:"mr-2 h-5 w-5"})," Ulang Tahun Bulan Ini"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Karyawan yang berulang tahun 30 hari ke depan."})]}),jsxRuntimeExports.jsx(CardContent,{children:et.length>0?jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto pr-2",children:et.slice(0,4).map(rt=>jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Avatar,{children:[jsxRuntimeExports.jsx(AvatarImage,{src:rt.photo,alt:rt.name}),jsxRuntimeExports.jsx(AvatarFallback,{children:rt.name.charAt(0)})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-sm truncate",children:rt.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:rt.position})]}),jsxRuntimeExports.jsx("div",{className:"text-right",children:jsxRuntimeExports.jsx("p",{className:"font-semibold text-sm text-rose-500",children:format$1(rt.birthdayThisYear,"dd MMM",{locale:id})})})]},rt.id))}),et.length>4&&jsxRuntimeExports.jsxs(Button,{onClick:tt,variant:"outline",className:"w-full",children:["Lihat Semua (",et.length,")"]})]}):jsxRuntimeExports.jsxs("div",{className:"text-center text-muted-foreground py-4",children:[jsxRuntimeExports.jsx(Cake,{className:"mx-auto h-8 w-8 mb-2"}),jsxRuntimeExports.jsx("p",{children:"Tidak ada karyawan yang berulang tahun dalam 30 hari ke depan."})]})})]}),BirthdayDialog=({isOpen:et,onOpenChange:tt,employees:rt})=>jsxRuntimeExports.jsx(Dialog,{open:et,onOpenChange:tt,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-md",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center",children:[jsxRuntimeExports.jsx(Cake,{className:"mr-2 h-5 w-5 text-rose-500"}),"Ulang Tahun Bulan Ini"]}),jsxRuntimeExports.jsx(DialogDescription,{children:"Daftar lengkap karyawan yang berulang tahun dalam 30 hari ke depan."})]}),jsxRuntimeExports.jsx(ScrollArea,{className:"h-96 pr-4",children:jsxRuntimeExports.jsx("div",{className:"space-y-4",children:rt.length>0?rt.map(nt=>jsxRuntimeExports.jsxs("div",{className:"flex items-center p-2 rounded-lg hover:bg-muted",children:[jsxRuntimeExports.jsxs(Avatar,{className:"h-10 w-10",children:[jsxRuntimeExports.jsx(AvatarImage,{src:nt.photo,alt:nt.name}),jsxRuntimeExports.jsx(AvatarFallback,{children:nt.name.charAt(0)})]}),jsxRuntimeExports.jsxs("div",{className:"ml-4 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-sm",children:nt.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:nt.position})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-sm text-rose-500",children:format$1(nt.birthdayThisYear,"dd",{locale:id})}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:format$1(nt.birthdayThisYear,"MMM",{locale:id})})]})]},nt.id)):jsxRuntimeExports.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Tidak ada data."})})})]})}),AdminDashboard=()=>{const{employees:et,loading:tt,expiringContracts:rt,mppEmployees:nt,upcomingBirthdays:at,employmentStatus:it,activeStatusDistribution:st,ageCategory:ot,genderDiversity:lt,lengthOfService:ct,jobLevel:ut,provinceDistribution:dt}=useDashboardStats(),[ft,ht]=reactExports.useState(!1),[gt,mt]=reactExports.useState(!1),[xt,vt]=reactExports.useState({isOpen:!1,title:"",employees:[]}),[_t,yt]=reactExports.useState(!1),[St,bt]=reactExports.useState(!1),[Et,Tt]=reactExports.useState(!1),At=[...it,...st],Ct=(Pt,Dt)=>{let Ft=[];switch(Pt.type){case"all":Ft=et;break;case"status":Ft=et.filter(Ot=>Ot.status===Pt.value);break;case"activeStatus":Ft=et.filter(Ot=>Ot.activeStatus===Pt.value);break;case"age":Pt.value==="under30"?Ft=et.filter(Ot=>Ot.age<30):Pt.value==="between30_58"?Ft=et.filter(Ot=>Ot.age>=30&&Ot.age<=58):Pt.value==="over58"&&(Ft=et.filter(Ot=>Ot.age>58));break;case"gender":Ft=et.filter(Ot=>Ot.gender===Pt.value);break;case"service":Pt.value==="under5"?Ft=et.filter(Ot=>Ot.workDurationYears<5):Pt.value==="between5_10"?Ft=et.filter(Ot=>Ot.workDurationYears>=5&&Ot.workDurationYears<=10):Pt.value==="over10"&&(Ft=et.filter(Ot=>Ot.workDurationYears>10));break;case"position":Ft=et.filter(Ot=>Ot.position===Pt.value);break;case"area":Ft=et.filter(Ot=>Ot.area===Pt.value);break;default:Ft=[]}vt({isOpen:!0,title:Dt,employees:Ft})},kt=["#0088FE","#FF8042","#00C49F","#FFBB28"];return jsxRuntimeExports.jsxs(Layout,{children:[jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"space-y-2",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Dashboard Admin"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Ringkasan data karyawan HRIS Famika"})]}),tt?jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(16)].map((Pt,Dt)=>jsxRuntimeExports.jsx(Card,{className:"animate-pulse bg-gray-200 dark:bg-gray-700 h-36 rounded-lg"},Dt))}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-xl",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-xl flex items-center",children:[jsxRuntimeExports.jsx(Users,{className:"mr-2 h-5 w-5"}),"Status Kepegawaian"]})}),jsxRuntimeExports.jsx(CardContent,{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:At.map((Pt,Dt)=>jsxRuntimeExports.jsx(StatCard,{...Pt,title:Pt.name,percentage:Pt.name!=="Total Karyawan"?Pt.percentage:void 0,onClick:()=>Ct(Pt.filter,`Karyawan: ${Pt.name}`)},Dt))})]}),jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-xl",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-xl flex items-center",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"mr-2 h-5 w-5"}),"Kategori Usia"]})}),jsxRuntimeExports.jsx(CardContent,{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:ot.map((Pt,Dt)=>jsxRuntimeExports.jsx(StatCard,{...Pt,title:Pt.name,icon:UserCheck,color:"from-teal-500 to-cyan-600",bgColor:"bg-teal-50 dark:bg-teal-900/20",onClick:()=>Ct(Pt.filter,`Karyawan Usia ${Pt.name}`)},Dt))})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(ExpiringContractsCard,{contracts:rt,onViewAll:()=>yt(!0)}),jsxRuntimeExports.jsx(MppCard,{employees:nt,onViewAll:()=>bt(!0)}),jsxRuntimeExports.jsx(BirthdayCard,{employees:at,onViewAll:()=>Tt(!0)})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-xl lg:col-span-2",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-xl flex items-center",children:[jsxRuntimeExports.jsx(Clock,{className:"mr-2 h-5 w-5"}),"Lama Bekerja"]})}),jsxRuntimeExports.jsx(CardContent,{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:ct.map((Pt,Dt)=>jsxRuntimeExports.jsx(StatCard,{...Pt,title:Pt.name,icon:Clock,color:"from-amber-500 to-yellow-600",bgColor:"bg-amber-50 dark:bg-amber-900/20",onClick:()=>Ct(Pt.filter,`Karyawan dengan Masa Kerja ${Pt.name}`)},Dt))})]}),jsxRuntimeExports.jsx(PieChartCard,{title:"Diversitas Gender",data:lt,dataKey:"value",nameKey:"name",colors:kt,onPieClick:Pt=>Ct({type:"gender",value:Pt},`Karyawan ${Pt}`)})]}),jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-xl",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-xl flex items-center",children:[jsxRuntimeExports.jsx(Briefcase,{className:"mr-2 h-5 w-5"}),"Distribusi Level Jabatan"]}),ut.length>5&&jsxRuntimeExports.jsx(Button,{variant:"ghost",onClick:()=>ht(!ft),children:ft?"Tampilkan Lebih Sedikit":"Lihat Semua"})]}),jsxRuntimeExports.jsx(CardContent,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:ut.length>0?(ft?ut:ut.slice(0,5)).map((Pt,Dt)=>jsxRuntimeExports.jsx(StatCard,{...Pt,title:Pt.name,description:"Karyawan di jabatan ini",icon:Briefcase,color:"from-indigo-500 to-purple-600",bgColor:"bg-indigo-50 dark:bg-indigo-900/20",onClick:()=>Ct(Pt.filter,`Karyawan Jabatan: ${Pt.name}`)},Dt)):jsxRuntimeExports.jsx("p",{className:"text-muted-foreground col-span-full text-center",children:"Data jabatan tidak tersedia."})})]}),jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-xl",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-xl flex items-center",children:[jsxRuntimeExports.jsx(MapPin,{className:"mr-2 h-5 w-5"}),"Distribusi Area"]}),dt.length>5&&jsxRuntimeExports.jsx(Button,{variant:"ghost",onClick:()=>mt(!gt),children:gt?"Tampilkan Lebih Sedikit":"Lihat Semua"})]}),jsxRuntimeExports.jsx(CardContent,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:dt.length>0?(gt?dt:dt.slice(0,5)).map((Pt,Dt)=>jsxRuntimeExports.jsx(StatCard,{...Pt,title:Pt.name,description:"Karyawan di area ini",icon:MapPin,color:"from-pink-500 to-rose-600",bgColor:"bg-pink-50 dark:bg-pink-900/20",onClick:()=>Ct(Pt.filter,`Karyawan di Area ${Pt.name}`)},Dt)):jsxRuntimeExports.jsx("p",{className:"text-muted-foreground col-span-full text-center",children:"Data area tidak tersedia."})})]})]})]}),jsxRuntimeExports.jsx(EmployeeQuickViewDialog,{isOpen:xt.isOpen,onOpenChange:Pt=>vt({...xt,isOpen:Pt}),title:xt.title,employees:xt.employees}),jsxRuntimeExports.jsx(ExpiringContractsDialog,{isOpen:_t,onOpenChange:yt,contracts:rt}),jsxRuntimeExports.jsx(MppDialog,{isOpen:St,onOpenChange:bt,employees:nt}),jsxRuntimeExports.jsx(BirthdayDialog,{isOpen:Et,onOpenChange:Tt,employees:at})]})};function commonjsRequire(et){throw new Error('Could not dynamically require "'+et+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(tt,rt){module.exports=tt.pdfjsLib=rt()})(globalThis,()=>(()=>{var __webpack_modules__=[,(et,tt)=>{var hn;Object.defineProperty(tt,"__esModule",{value:!0}),tt.VerbosityLevel=tt.Util=tt.UnknownErrorException=tt.UnexpectedResponseException=tt.TextRenderingMode=tt.RenderingIntentFlag=tt.PromiseCapability=tt.PermissionFlag=tt.PasswordResponses=tt.PasswordException=tt.PageActionEventType=tt.OPS=tt.MissingPDFException=tt.MAX_IMAGE_SIZE_TO_CACHE=tt.LINE_FACTOR=tt.LINE_DESCENT_FACTOR=tt.InvalidPDFException=tt.ImageKind=tt.IDENTITY_MATRIX=tt.FormatError=tt.FeatureTest=tt.FONT_IDENTITY_MATRIX=tt.DocumentActionEventType=tt.CMapCompressionType=tt.BaseException=tt.BASELINE_FACTOR=tt.AnnotationType=tt.AnnotationReplyType=tt.AnnotationPrefix=tt.AnnotationMode=tt.AnnotationFlag=tt.AnnotationFieldFlag=tt.AnnotationEditorType=tt.AnnotationEditorPrefix=tt.AnnotationEditorParamsType=tt.AnnotationBorderStyleType=tt.AnnotationActionEventType=tt.AbortException=void 0,tt.assert=Ht,tt.bytesToString=ar,tt.createValidAbsoluteUrl=ir,tt.getModificationDate=qr,tt.getUuid=rn,tt.getVerbosityLevel=It,tt.info=Bt,tt.isArrayBuffer=Dr,tt.isArrayEqual=Gr,tt.isNodeJS=void 0,tt.normalizeUnicode=Yr,tt.objectFromMap=vr,tt.objectSize=fr,tt.setVerbosityLevel=Ot,tt.shadow=Xt,tt.string32=pr,tt.stringToBytes=Kt,tt.stringToPDFString=Fr,tt.stringToUTF8String=Cr,tt.unreachable=Ut,tt.utf8StringToString=Tr,tt.warn=qt;const rt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");tt.isNodeJS=rt;const nt=[1,0,0,1,0,0];tt.IDENTITY_MATRIX=nt;const at=[.001,0,0,.001,0,0];tt.FONT_IDENTITY_MATRIX=at;const it=1e7;tt.MAX_IMAGE_SIZE_TO_CACHE=it;const st=1.35;tt.LINE_FACTOR=st;const ot=.35;tt.LINE_DESCENT_FACTOR=ot;const lt=ot/st;tt.BASELINE_FACTOR=lt;const ct={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};tt.RenderingIntentFlag=ct;const ut={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};tt.AnnotationMode=ut;const dt="pdfjs_internal_editor_";tt.AnnotationEditorPrefix=dt;const ft={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};tt.AnnotationEditorType=ft;const ht={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};tt.AnnotationEditorParamsType=ht;const gt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};tt.PermissionFlag=gt;const mt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};tt.TextRenderingMode=mt;const xt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};tt.ImageKind=xt;const vt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};tt.AnnotationType=vt;const _t={GROUP:"Group",REPLY:"R"};tt.AnnotationReplyType=_t;const yt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};tt.AnnotationFlag=yt;const St={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};tt.AnnotationFieldFlag=St;const bt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};tt.AnnotationBorderStyleType=bt;const Et={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};tt.AnnotationActionEventType=Et;const Tt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};tt.DocumentActionEventType=Tt;const At={O:"PageOpen",C:"PageClose"};tt.PageActionEventType=At;const Ct={ERRORS:0,WARNINGS:1,INFOS:5};tt.VerbosityLevel=Ct;const kt={NONE:0,BINARY:1};tt.CMapCompressionType=kt;const Pt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};tt.OPS=Pt;const Dt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};tt.PasswordResponses=Dt;let Ft=Ct.WARNINGS;function Ot(Or){Number.isInteger(Or)&&(Ft=Or)}function It(){return Ft}function Bt(Or){Ft>=Ct.INFOS&&console.log(`Info: ${Or}`)}function qt(Or){Ft>=Ct.WARNINGS&&console.log(`Warning: ${Or}`)}function Ut(Or){throw new Error(Or)}function Ht(Or,Rr){Or||Ut(Rr)}function Qt(Or){switch(Or==null?void 0:Or.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ir(Or,Rr=null,yr=null){if(!Or)return null;try{if(yr&&typeof Or=="string"){if(yr.addDefaultProtocol&&Or.startsWith("www.")){const zr=Or.match(/\./g);(zr==null?void 0:zr.length)>=2&&(Or=`http://${Or}`)}if(yr.tryConvertEncoding)try{Or=Cr(Or)}catch{}}const Vr=Rr?new URL(Or,Rr):new URL(Or);if(Qt(Vr))return Vr}catch{}return null}function Xt(Or,Rr,yr,Vr=!1){return Object.defineProperty(Or,Rr,{value:yr,enumerable:!Vr,configurable:!0,writable:!1}),yr}const Lt=function(){function Rr(yr,Vr){this.constructor===Rr&&Ut("Cannot initialize BaseException."),this.message=yr,this.name=Vr}return Rr.prototype=new Error,Rr.constructor=Rr,Rr}();tt.BaseException=Lt;class jt extends Lt{constructor(Rr,yr){super(Rr,"PasswordException"),this.code=yr}}tt.PasswordException=jt;class Nt extends Lt{constructor(Rr,yr){super(Rr,"UnknownErrorException"),this.details=yr}}tt.UnknownErrorException=Nt;class Mt extends Lt{constructor(Rr){super(Rr,"InvalidPDFException")}}tt.InvalidPDFException=Mt;class Vt extends Lt{constructor(Rr){super(Rr,"MissingPDFException")}}tt.MissingPDFException=Vt;class Gt extends Lt{constructor(Rr,yr){super(Rr,"UnexpectedResponseException"),this.status=yr}}tt.UnexpectedResponseException=Gt;class Zt extends Lt{constructor(Rr){super(Rr,"FormatError")}}tt.FormatError=Zt;class er extends Lt{constructor(Rr){super(Rr,"AbortException")}}tt.AbortException=er;function ar(Or){(typeof Or!="object"||(Or==null?void 0:Or.length)===void 0)&&Ut("Invalid argument for bytesToString");const Rr=Or.length,yr=8192;if(Rr<yr)return String.fromCharCode.apply(null,Or);const Vr=[];for(let zr=0;zr<Rr;zr+=yr){const Tn=Math.min(zr+yr,Rr),wn=Or.subarray(zr,Tn);Vr.push(String.fromCharCode.apply(null,wn))}return Vr.join("")}function Kt(Or){typeof Or!="string"&&Ut("Invalid argument for stringToBytes");const Rr=Or.length,yr=new Uint8Array(Rr);for(let Vr=0;Vr<Rr;++Vr)yr[Vr]=Or.charCodeAt(Vr)&255;return yr}function pr(Or){return String.fromCharCode(Or>>24&255,Or>>16&255,Or>>8&255,Or&255)}function fr(Or){return Object.keys(Or).length}function vr(Or){const Rr=Object.create(null);for(const[yr,Vr]of Or)Rr[yr]=Vr;return Rr}function wr(){const Or=new Uint8Array(4);return Or[0]=1,new Uint32Array(Or.buffer,0,1)[0]===1}function hr(){try{return new Function(""),!0}catch{return!1}}class Ir{static get isLittleEndian(){return Xt(this,"isLittleEndian",wr())}static get isEvalSupported(){return Xt(this,"isEvalSupported",hr())}static get isOffscreenCanvasSupported(){return Xt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Xt(this,"platform",{isWin:!1,isMac:!1}):Xt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Rr,yr;return Xt(this,"isCSSRoundSupported",(yr=(Rr=globalThis.CSS)==null?void 0:Rr.supports)==null?void 0:yr.call(Rr,"width: round(1.5px, 1px)"))}}tt.FeatureTest=Ir;const Jr=[...Array(256).keys()].map(Or=>Or.toString(16).padStart(2,"0"));class Br{static makeHexColor(Rr,yr,Vr){return`#${Jr[Rr]}${Jr[yr]}${Jr[Vr]}`}static scaleMinMax(Rr,yr){let Vr;Rr[0]?(Rr[0]<0&&(Vr=yr[0],yr[0]=yr[1],yr[1]=Vr),yr[0]*=Rr[0],yr[1]*=Rr[0],Rr[3]<0&&(Vr=yr[2],yr[2]=yr[3],yr[3]=Vr),yr[2]*=Rr[3],yr[3]*=Rr[3]):(Vr=yr[0],yr[0]=yr[2],yr[2]=Vr,Vr=yr[1],yr[1]=yr[3],yr[3]=Vr,Rr[1]<0&&(Vr=yr[2],yr[2]=yr[3],yr[3]=Vr),yr[2]*=Rr[1],yr[3]*=Rr[1],Rr[2]<0&&(Vr=yr[0],yr[0]=yr[1],yr[1]=Vr),yr[0]*=Rr[2],yr[1]*=Rr[2]),yr[0]+=Rr[4],yr[1]+=Rr[4],yr[2]+=Rr[5],yr[3]+=Rr[5]}static transform(Rr,yr){return[Rr[0]*yr[0]+Rr[2]*yr[1],Rr[1]*yr[0]+Rr[3]*yr[1],Rr[0]*yr[2]+Rr[2]*yr[3],Rr[1]*yr[2]+Rr[3]*yr[3],Rr[0]*yr[4]+Rr[2]*yr[5]+Rr[4],Rr[1]*yr[4]+Rr[3]*yr[5]+Rr[5]]}static applyTransform(Rr,yr){const Vr=Rr[0]*yr[0]+Rr[1]*yr[2]+yr[4],zr=Rr[0]*yr[1]+Rr[1]*yr[3]+yr[5];return[Vr,zr]}static applyInverseTransform(Rr,yr){const Vr=yr[0]*yr[3]-yr[1]*yr[2],zr=(Rr[0]*yr[3]-Rr[1]*yr[2]+yr[2]*yr[5]-yr[4]*yr[3])/Vr,Tn=(-Rr[0]*yr[1]+Rr[1]*yr[0]+yr[4]*yr[1]-yr[5]*yr[0])/Vr;return[zr,Tn]}static getAxialAlignedBoundingBox(Rr,yr){const Vr=this.applyTransform(Rr,yr),zr=this.applyTransform(Rr.slice(2,4),yr),Tn=this.applyTransform([Rr[0],Rr[3]],yr),wn=this.applyTransform([Rr[2],Rr[1]],yr);return[Math.min(Vr[0],zr[0],Tn[0],wn[0]),Math.min(Vr[1],zr[1],Tn[1],wn[1]),Math.max(Vr[0],zr[0],Tn[0],wn[0]),Math.max(Vr[1],zr[1],Tn[1],wn[1])]}static inverseTransform(Rr){const yr=Rr[0]*Rr[3]-Rr[1]*Rr[2];return[Rr[3]/yr,-Rr[1]/yr,-Rr[2]/yr,Rr[0]/yr,(Rr[2]*Rr[5]-Rr[4]*Rr[3])/yr,(Rr[4]*Rr[1]-Rr[5]*Rr[0])/yr]}static singularValueDecompose2dScale(Rr){const yr=[Rr[0],Rr[2],Rr[1],Rr[3]],Vr=Rr[0]*yr[0]+Rr[1]*yr[2],zr=Rr[0]*yr[1]+Rr[1]*yr[3],Tn=Rr[2]*yr[0]+Rr[3]*yr[2],wn=Rr[2]*yr[1]+Rr[3]*yr[3],Pr=(Vr+wn)/2,Xr=Math.sqrt((Vr+wn)**2-4*(Vr*wn-Tn*zr))/2,dn=Pr+Xr||1,en=Pr-Xr||1;return[Math.sqrt(dn),Math.sqrt(en)]}static normalizeRect(Rr){const yr=Rr.slice(0);return Rr[0]>Rr[2]&&(yr[0]=Rr[2],yr[2]=Rr[0]),Rr[1]>Rr[3]&&(yr[1]=Rr[3],yr[3]=Rr[1]),yr}static intersect(Rr,yr){const Vr=Math.max(Math.min(Rr[0],Rr[2]),Math.min(yr[0],yr[2])),zr=Math.min(Math.max(Rr[0],Rr[2]),Math.max(yr[0],yr[2]));if(Vr>zr)return null;const Tn=Math.max(Math.min(Rr[1],Rr[3]),Math.min(yr[1],yr[3])),wn=Math.min(Math.max(Rr[1],Rr[3]),Math.max(yr[1],yr[3]));return Tn>wn?null:[Vr,Tn,zr,wn]}static bezierBoundingBox(Rr,yr,Vr,zr,Tn,wn,Pr,Xr){const dn=[],en=[[],[]];let fn,pn,yn,Hr,xn,un,dr,Yt;for(let rr=0;rr<2;++rr){if(rr===0?(pn=6*Rr-12*Vr+6*Tn,fn=-3*Rr+9*Vr-9*Tn+3*Pr,yn=3*Vr-3*Rr):(pn=6*yr-12*zr+6*wn,fn=-3*yr+9*zr-9*wn+3*Xr,yn=3*zr-3*yr),Math.abs(fn)<1e-12){if(Math.abs(pn)<1e-12)continue;Hr=-yn/pn,0<Hr&&Hr<1&&dn.push(Hr);continue}dr=pn*pn-4*yn*fn,Yt=Math.sqrt(dr),!(dr<0)&&(xn=(-pn+Yt)/(2*fn),0<xn&&xn<1&&dn.push(xn),un=(-pn-Yt)/(2*fn),0<un&&un<1&&dn.push(un))}let lr=dn.length,ur;const Wt=lr;for(;lr--;)Hr=dn[lr],ur=1-Hr,en[0][lr]=ur*ur*ur*Rr+3*ur*ur*Hr*Vr+3*ur*Hr*Hr*Tn+Hr*Hr*Hr*Pr,en[1][lr]=ur*ur*ur*yr+3*ur*ur*Hr*zr+3*ur*Hr*Hr*wn+Hr*Hr*Hr*Xr;return en[0][Wt]=Rr,en[1][Wt]=yr,en[0][Wt+1]=Pr,en[1][Wt+1]=Xr,en[0].length=en[1].length=Wt+2,[Math.min(...en[0]),Math.min(...en[1]),Math.max(...en[0]),Math.max(...en[1])]}}tt.Util=Br;const Zr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Fr(Or){if(Or[0]>=""){let yr;if(Or[0]===""&&Or[1]===""?yr="utf-16be":Or[0]===""&&Or[1]===""?yr="utf-16le":Or[0]===""&&Or[1]===""&&Or[2]===""&&(yr="utf-8"),yr)try{const Vr=new TextDecoder(yr,{fatal:!0}),zr=Kt(Or);return Vr.decode(zr)}catch(Vr){qt(`stringToPDFString: "${Vr}".`)}}const Rr=[];for(let yr=0,Vr=Or.length;yr<Vr;yr++){const zr=Zr[Or.charCodeAt(yr)];Rr.push(zr?String.fromCharCode(zr):Or.charAt(yr))}return Rr.join("")}function Cr(Or){return decodeURIComponent(escape(Or))}function Tr(Or){return unescape(encodeURIComponent(Or))}function Dr(Or){return typeof Or=="object"&&(Or==null?void 0:Or.byteLength)!==void 0}function Gr(Or,Rr){if(Or.length!==Rr.length)return!1;for(let yr=0,Vr=Or.length;yr<Vr;yr++)if(Or[yr]!==Rr[yr])return!1;return!0}function qr(Or=new Date){return[Or.getUTCFullYear().toString(),(Or.getUTCMonth()+1).toString().padStart(2,"0"),Or.getUTCDate().toString().padStart(2,"0"),Or.getUTCHours().toString().padStart(2,"0"),Or.getUTCMinutes().toString().padStart(2,"0"),Or.getUTCSeconds().toString().padStart(2,"0")].join("")}class sn{constructor(){mr(this,hn,!1);this.promise=new Promise((Rr,yr)=>{this.resolve=Vr=>{jr(this,hn,!0),Rr(Vr)},this.reject=Vr=>{jr(this,hn,!0),yr(Vr)}})}get settled(){return zt(this,hn)}}hn=new WeakMap,tt.PromiseCapability=sn;let Ur=null,$r=null;function Yr(Or){return Ur||(Ur=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,$r=new Map([["","t"]])),Or.replaceAll(Ur,(Rr,yr,Vr)=>yr?yr.normalize("NFKC"):$r.get(Vr))}function rn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Or=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Or);else for(let Rr=0;Rr<32;Rr++)Or[Rr]=Math.floor(Math.random()*255);return ar(Or)}const nn="pdfjs_internal_id_";tt.AnnotationPrefix=nn},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var et,rt,nt,at,ms,st,to,lt,ct,ut,dt,ft,ht,gt,mt,xt,ro,_t,yt,Uo,bt,Et;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(At){if(typeof At=="string"||At instanceof URL?At={url:At}:(0,_util.isArrayBuffer)(At)&&(At={data:At}),typeof At!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!At.url&&!At.data&&!At.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const Ct=new PDFDocumentLoadingTask,{docId:kt}=Ct,Pt=At.url?getUrlProp(At.url):null,Dt=At.data?getDataProp(At.data):null,Ft=At.httpHeaders||null,Ot=At.withCredentials===!0,It=At.password??null,Bt=At.range instanceof PDFDataRangeTransport?At.range:null,qt=Number.isInteger(At.rangeChunkSize)&&At.rangeChunkSize>0?At.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Ut=At.worker instanceof PDFWorker?At.worker:null;const Ht=At.verbosity,Qt=typeof At.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(At.docBaseUrl)?At.docBaseUrl:null,ir=typeof At.cMapUrl=="string"?At.cMapUrl:null,Xt=At.cMapPacked!==!1,Lt=At.CMapReaderFactory||DefaultCMapReaderFactory,jt=typeof At.standardFontDataUrl=="string"?At.standardFontDataUrl:null,Nt=At.StandardFontDataFactory||DefaultStandardFontDataFactory,Mt=At.stopAtErrors!==!0,Vt=Number.isInteger(At.maxImageSize)&&At.maxImageSize>-1?At.maxImageSize:-1,Gt=At.isEvalSupported!==!1,Zt=typeof At.isOffscreenCanvasSupported=="boolean"?At.isOffscreenCanvasSupported:!_util.isNodeJS,er=Number.isInteger(At.canvasMaxAreaInBytes)?At.canvasMaxAreaInBytes:-1,ar=typeof At.disableFontFace=="boolean"?At.disableFontFace:_util.isNodeJS,Kt=At.fontExtraProperties===!0,pr=At.enableXfa===!0,fr=At.ownerDocument||globalThis.document,vr=At.disableRange===!0,wr=At.disableStream===!0,hr=At.disableAutoFetch===!0,Ir=At.pdfBug===!0,Jr=Bt?Bt.length:At.length??NaN,Br=typeof At.useSystemFonts=="boolean"?At.useSystemFonts:!_util.isNodeJS&&!ar,Zr=typeof At.useWorkerFetch=="boolean"?At.useWorkerFetch:Lt===_display_utils.DOMCMapReaderFactory&&Nt===_display_utils.DOMStandardFontDataFactory&&ir&&jt&&(0,_display_utils.isValidFetchUrl)(ir,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(jt,document.baseURI),Fr=At.canvasFactory||new DefaultCanvasFactory({ownerDocument:fr}),Cr=At.filterFactory||new DefaultFilterFactory({docId:kt,ownerDocument:fr}),Tr=null;(0,_util.setVerbosityLevel)(Ht);const Dr={canvasFactory:Fr,filterFactory:Cr};if(Zr||(Dr.cMapReaderFactory=new Lt({baseUrl:ir,isCompressed:Xt}),Dr.standardFontDataFactory=new Nt({baseUrl:jt})),!Ut){const sn={verbosity:Ht,port:_worker_options.GlobalWorkerOptions.workerPort};Ut=sn.port?PDFWorker.fromPort(sn):new PDFWorker(sn),Ct._worker=Ut}const Gr={docId:kt,apiVersion:"3.11.174",data:Dt,password:It,disableAutoFetch:hr,rangeChunkSize:qt,length:Jr,docBaseUrl:Qt,enableXfa:pr,evaluatorOptions:{maxImageSize:Vt,disableFontFace:ar,ignoreErrors:Mt,isEvalSupported:Gt,isOffscreenCanvasSupported:Zt,canvasMaxAreaInBytes:er,fontExtraProperties:Kt,useSystemFonts:Br,cMapUrl:Zr?ir:null,standardFontDataUrl:Zr?jt:null}},qr={ignoreErrors:Mt,isEvalSupported:Gt,disableFontFace:ar,fontExtraProperties:Kt,enableXfa:pr,ownerDocument:fr,disableAutoFetch:hr,pdfBug:Ir,styleElement:Tr};return Ut.promise.then(function(){if(Ct.destroyed)throw new Error("Loading aborted");const sn=_fetchDocument(Ut,Gr),Ur=new Promise(function($r){let Yr;Bt?Yr=new _transport_stream.PDFDataTransportStream({length:Jr,initialData:Bt.initialData,progressiveDone:Bt.progressiveDone,contentDispositionFilename:Bt.contentDispositionFilename,disableRange:vr,disableStream:wr},Bt):Dt||(Yr=(nn=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(nn):(0,_display_utils.isValidFetchUrl)(nn.url)?new _displayFetch_stream.PDFFetchStream(nn):new _displayNetwork.PDFNetworkStream(nn))({url:Pt,length:Jr,httpHeaders:Ft,withCredentials:Ot,rangeChunkSize:qt,disableRange:vr,disableStream:wr})),$r(Yr)});return Promise.all([sn,Ur]).then(function([$r,Yr]){if(Ct.destroyed)throw new Error("Loading aborted");const rn=new _message_handler.MessageHandler(kt,$r,Ut.port),nn=new WorkerTransport(rn,Ct,Yr,qr,Dr);Ct._transport=nn,rn.send("Ready",null)})}).catch(Ct._capability.reject),Ct}async function _fetchDocument(At,Ct){if(At.destroyed)throw new Error("Worker was destroyed");const kt=await At.messageHandler.sendWithPromise("GetDocRequest",Ct,Ct.data?[Ct.data.buffer]:null);if(At.destroyed)throw new Error("Worker was destroyed");return kt}function getUrlProp(At){if(At instanceof URL)return At.href;try{return new URL(At,window.location).href}catch{if(_util.isNodeJS&&typeof At=="string")return At}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(At){if(_util.isNodeJS&&typeof Buffer<"u"&&At instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(At instanceof Uint8Array&&At.byteLength===At.buffer.byteLength)return At;if(typeof At=="string")return(0,_util.stringToBytes)(At);if(typeof At=="object"&&!isNaN(At==null?void 0:At.length)||(0,_util.isArrayBuffer)(At))return new Uint8Array(At);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const tt=class tt{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${ks(tt,et)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var Ct,kt,Pt;this.destroyed=!0;try{(Ct=this._worker)!=null&&Ct.port&&(this._worker._pendingDestroy=!0),await((kt=this._transport)==null?void 0:kt.destroy())}catch(Dt){throw(Pt=this._worker)!=null&&Pt.port&&delete this._worker._pendingDestroy,Dt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};et=new WeakMap,mr(tt,et,0);let PDFDocumentLoadingTask=tt;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(Ct,kt,Pt=!1,Dt=null){this.length=Ct,this.initialData=kt,this.progressiveDone=Pt,this.contentDispositionFilename=Dt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(Ct){this._rangeListeners.push(Ct)}addProgressListener(Ct){this._progressListeners.push(Ct)}addProgressiveReadListener(Ct){this._progressiveReadListeners.push(Ct)}addProgressiveDoneListener(Ct){this._progressiveDoneListeners.push(Ct)}onDataRange(Ct,kt){for(const Pt of this._rangeListeners)Pt(Ct,kt)}onDataProgress(Ct,kt){this._readyCapability.promise.then(()=>{for(const Pt of this._progressListeners)Pt(Ct,kt)})}onDataProgressiveRead(Ct){this._readyCapability.promise.then(()=>{for(const kt of this._progressiveReadListeners)kt(Ct)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const Ct of this._progressiveDoneListeners)Ct()})}transportReady(){this._readyCapability.resolve()}requestDataRange(Ct,kt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(Ct,kt){this._pdfInfo=Ct,this._transport=kt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Pt=>{if(!Pt)return Pt;const Dt=[];for(const Ft in Pt)Dt.push(...Pt[Ft]);return Dt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(Ct){return this._transport.getPage(Ct)}getPageIndex(Ct){return this._transport.getPageIndex(Ct)}getDestinations(){return this._transport.getDestinations()}getDestination(Ct){return this._transport.getDestination(Ct)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(Ct=!1){return this._transport.startCleanup(Ct||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(Ct,kt,Pt,Dt=!1){mr(this,at);mr(this,st);mr(this,rt,null);mr(this,nt,!1);this._pageIndex=Ct,this._pageInfo=kt,this._transport=Pt,this._stats=Dt?new _display_utils.StatTimer:null,this._pdfBug=Dt,this.commonObjs=Pt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:Ct,rotation:kt=this.rotate,offsetX:Pt=0,offsetY:Dt=0,dontFlip:Ft=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:Ct,rotation:kt,offsetX:Pt,offsetY:Dt,dontFlip:Ft})}getAnnotations({intent:Ct="display"}={}){const kt=this._transport.getRenderingIntent(Ct);return this._transport.getAnnotations(this._pageIndex,kt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var Ct;return((Ct=this._transport._htmlForXfa)==null?void 0:Ct.children[this._pageIndex])||null}render({canvasContext:Ct,viewport:kt,intent:Pt="display",annotationMode:Dt=_util.AnnotationMode.ENABLE,transform:Ft=null,background:Ot=null,optionalContentConfigPromise:It=null,annotationCanvasMap:Bt=null,pageColors:qt=null,printAnnotationStorage:Ut=null}){var Nt,Mt;(Nt=this._stats)==null||Nt.time("Overall");const Ht=this._transport.getRenderingIntent(Pt,Dt,Ut);jr(this,nt,!1),Er(this,st,to).call(this),It||(It=this._transport.getOptionalContentConfig());let Qt=this._intentStates.get(Ht.cacheKey);Qt||(Qt=Object.create(null),this._intentStates.set(Ht.cacheKey,Qt)),Qt.streamReaderCancelTimeout&&(clearTimeout(Qt.streamReaderCancelTimeout),Qt.streamReaderCancelTimeout=null);const ir=!!(Ht.renderingIntent&_util.RenderingIntentFlag.PRINT);Qt.displayReadyCapability||(Qt.displayReadyCapability=new _util.PromiseCapability,Qt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Mt=this._stats)==null||Mt.time("Page Request"),this._pumpOperatorList(Ht));const Xt=Vt=>{var Gt,Zt;Qt.renderTasks.delete(Lt),(this._maybeCleanupAfterRender||ir)&&jr(this,nt,!0),Er(this,at,ms).call(this,!ir),Vt?(Lt.capability.reject(Vt),this._abortOperatorList({intentState:Qt,reason:Vt instanceof Error?Vt:new Error(Vt)})):Lt.capability.resolve(),(Gt=this._stats)==null||Gt.timeEnd("Rendering"),(Zt=this._stats)==null||Zt.timeEnd("Overall")},Lt=new InternalRenderTask({callback:Xt,params:{canvasContext:Ct,viewport:kt,transform:Ft,background:Ot},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Bt,operatorList:Qt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!ir,pdfBug:this._pdfBug,pageColors:qt});(Qt.renderTasks||(Qt.renderTasks=new Set)).add(Lt);const jt=Lt.task;return Promise.all([Qt.displayReadyCapability.promise,It]).then(([Vt,Gt])=>{var Zt;if(this.destroyed){Xt();return}(Zt=this._stats)==null||Zt.time("Rendering"),Lt.initializeGraphics({transparency:Vt,optionalContentConfig:Gt}),Lt.operatorListChanged()}).catch(Xt),jt}getOperatorList({intent:Ct="display",annotationMode:kt=_util.AnnotationMode.ENABLE,printAnnotationStorage:Pt=null}={}){var Bt;function Dt(){Ot.operatorList.lastChunk&&(Ot.opListReadCapability.resolve(Ot.operatorList),Ot.renderTasks.delete(It))}const Ft=this._transport.getRenderingIntent(Ct,kt,Pt,!0);let Ot=this._intentStates.get(Ft.cacheKey);Ot||(Ot=Object.create(null),this._intentStates.set(Ft.cacheKey,Ot));let It;return Ot.opListReadCapability||(It=Object.create(null),It.operatorListChanged=Dt,Ot.opListReadCapability=new _util.PromiseCapability,(Ot.renderTasks||(Ot.renderTasks=new Set)).add(It),Ot.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Bt=this._stats)==null||Bt.time("Page Request"),this._pumpOperatorList(Ft)),Ot.opListReadCapability.promise}streamTextContent({includeMarkedContent:Ct=!1,disableNormalization:kt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:Ct===!0,disableNormalization:kt===!0},{highWaterMark:100,size(Dt){return Dt.items.length}})}getTextContent(Ct={}){if(this._transport._htmlForXfa)return this.getXfa().then(Pt=>_xfa_text.XfaText.textContent(Pt));const kt=this.streamTextContent(Ct);return new Promise(function(Pt,Dt){function Ft(){Ot.read().then(function({value:Bt,done:qt}){if(qt){Pt(It);return}Object.assign(It.styles,Bt.styles),It.items.push(...Bt.items),Ft()},Dt)}const Ot=kt.getReader(),It={items:[],styles:Object.create(null)};Ft()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const Ct=[];for(const kt of this._intentStates.values())if(this._abortOperatorList({intentState:kt,reason:new Error("Page was destroyed."),force:!0}),!kt.opListReadCapability)for(const Pt of kt.renderTasks)Ct.push(Pt.completed),Pt.cancel();return this.objs.clear(),jr(this,nt,!1),Er(this,st,to).call(this),Promise.all(Ct)}cleanup(Ct=!1){jr(this,nt,!0);const kt=Er(this,at,ms).call(this,!1);return Ct&&kt&&this._stats&&(this._stats=new _display_utils.StatTimer),kt}_startRenderPage(Ct,kt){var Dt,Ft;const Pt=this._intentStates.get(kt);Pt&&((Dt=this._stats)==null||Dt.timeEnd("Page Request"),(Ft=Pt.displayReadyCapability)==null||Ft.resolve(Ct))}_renderPageChunk(Ct,kt){for(let Pt=0,Dt=Ct.length;Pt<Dt;Pt++)kt.operatorList.fnArray.push(Ct.fnArray[Pt]),kt.operatorList.argsArray.push(Ct.argsArray[Pt]);kt.operatorList.lastChunk=Ct.lastChunk,kt.operatorList.separateAnnots=Ct.separateAnnots;for(const Pt of kt.renderTasks)Pt.operatorListChanged();Ct.lastChunk&&Er(this,at,ms).call(this,!0)}_pumpOperatorList({renderingIntent:Ct,cacheKey:kt,annotationStorageSerializable:Pt}){const{map:Dt,transfers:Ft}=Pt,It=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Ct,cacheKey:kt,annotationStorage:Dt},Ft).getReader(),Bt=this._intentStates.get(kt);Bt.streamReader=It;const qt=()=>{It.read().then(({value:Ut,done:Ht})=>{if(Ht){Bt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Ut,Bt),qt())},Ut=>{if(Bt.streamReader=null,!this._transport.destroyed){if(Bt.operatorList){Bt.operatorList.lastChunk=!0;for(const Ht of Bt.renderTasks)Ht.operatorListChanged();Er(this,at,ms).call(this,!0)}if(Bt.displayReadyCapability)Bt.displayReadyCapability.reject(Ut);else if(Bt.opListReadCapability)Bt.opListReadCapability.reject(Ut);else throw Ut}})};qt()}_abortOperatorList({intentState:Ct,reason:kt,force:Pt=!1}){if(Ct.streamReader){if(Ct.streamReaderCancelTimeout&&(clearTimeout(Ct.streamReaderCancelTimeout),Ct.streamReaderCancelTimeout=null),!Pt){if(Ct.renderTasks.size>0)return;if(kt instanceof _display_utils.RenderingCancelledException){let Dt=RENDERING_CANCELLED_TIMEOUT;kt.extraDelay>0&&kt.extraDelay<1e3&&(Dt+=kt.extraDelay),Ct.streamReaderCancelTimeout=setTimeout(()=>{Ct.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:Ct,reason:kt,force:!0})},Dt);return}}if(Ct.streamReader.cancel(new _util.AbortException(kt.message)).catch(()=>{}),Ct.streamReader=null,!this._transport.destroyed){for(const[Dt,Ft]of this._intentStates)if(Ft===Ct){this._intentStates.delete(Dt);break}this.cleanup()}}}get stats(){return this._stats}}rt=new WeakMap,nt=new WeakMap,at=new WeakSet,ms=function(Ct=!1){if(Er(this,st,to).call(this),!zt(this,nt)||this.destroyed)return!1;if(Ct)return jr(this,rt,setTimeout(()=>{jr(this,rt,null),Er(this,at,ms).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:kt,operatorList:Pt}of this._intentStates.values())if(kt.size>0||!Pt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),jr(this,nt,!1),!0},st=new WeakSet,to=function(){zt(this,rt)&&(clearTimeout(zt(this,rt)),jr(this,rt,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){mr(this,lt,new Set);mr(this,ct,Promise.resolve())}postMessage(Ct,kt){const Pt={data:structuredClone(Ct,kt?{transfer:kt}:null)};zt(this,ct).then(()=>{for(const Dt of zt(this,lt))Dt.call(this,Pt)})}addEventListener(Ct,kt){zt(this,lt).add(kt)}removeEventListener(Ct,kt){zt(this,lt).delete(kt)}terminate(){zt(this,lt).clear()}}lt=new WeakMap,ct=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const At=(ut=document==null?void 0:document.currentScript)==null?void 0:ut.src;At&&(PDFWorkerUtil.fallbackWorkerSrc=At.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(At,Ct){let kt;try{if(kt=new URL(At),!kt.origin||kt.origin==="null")return!1}catch{return!1}const Pt=new URL(Ct,kt);return kt.origin===Pt.origin},PDFWorkerUtil.createCDNWrapper=function(At){const Ct=`importScripts("${At}");`;return URL.createObjectURL(new Blob([Ct]))}}const _PDFWorker=class _PDFWorker{constructor({name:At=null,port:Ct=null,verbosity:kt=(0,_util.getVerbosityLevel)()}={}){var Pt;if(this.name=At,this.destroyed=!1,this.verbosity=kt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,Ct){if((Pt=zt(_PDFWorker,dt))!=null&&Pt.has(Ct))throw new Error("Cannot use more than one PDFWorker per port.");(zt(_PDFWorker,dt)||jr(_PDFWorker,dt,new WeakMap)).set(Ct,this),this._initializeFromPort(Ct);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(At){this._port=At,this._messageHandler=new _message_handler.MessageHandler("main","worker",At),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:At}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,At)||(At=PDFWorkerUtil.createCDNWrapper(new URL(At,window.location).href));const Ct=new Worker(At),kt=new _message_handler.MessageHandler("main","worker",Ct),Pt=()=>{Ct.removeEventListener("error",Dt),kt.destroy(),Ct.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Dt=()=>{this._webWorker||Pt()};Ct.addEventListener("error",Dt),kt.on("test",Ot=>{if(Ct.removeEventListener("error",Dt),this.destroyed){Pt();return}Ot?(this._messageHandler=kt,this._port=Ct,this._webWorker=Ct,this._readyCapability.resolve(),kt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),kt.destroy(),Ct.terminate())}),kt.on("ready",Ot=>{if(Ct.removeEventListener("error",Dt),this.destroyed){Pt();return}try{Ft()}catch{this._setupFakeWorker()}});const Ft=()=>{const Ot=new Uint8Array;kt.send("test",Ot,[Ot.buffer])};Ft();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(At=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Ct=new LoopbackPort;this._port=Ct;const kt=`fake${PDFWorkerUtil.fakeWorkerId++}`,Pt=new _message_handler.MessageHandler(kt+"_worker",kt,Ct);At.setup(Pt,Ct);const Dt=new _message_handler.MessageHandler(kt,kt+"_worker",Ct);this._messageHandler=Dt,this._readyCapability.resolve(),Dt.send("configure",{verbosity:this.verbosity})}).catch(At=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${At.message}".`))})}destroy(){var At;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(At=zt(_PDFWorker,dt))==null||At.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(At){var kt;if(!(At!=null&&At.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const Ct=(kt=zt(this,dt))==null?void 0:kt.get(At.port);if(Ct){if(Ct._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return Ct}return new _PDFWorker(At)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var At;try{return((At=globalThis.pdfjsWorker)==null?void 0:At.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};dt=new WeakMap,mr(_PDFWorker,dt,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(Ct,kt,Pt,Dt,Ft){mr(this,xt);mr(this,ft,new Map);mr(this,ht,new Map);mr(this,gt,new Map);mr(this,mt,null);this.messageHandler=Ct,this.loadingTask=kt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Dt.ownerDocument,styleElement:Dt.styleElement}),this._params=Dt,this.canvasFactory=Ft.canvasFactory,this.filterFactory=Ft.filterFactory,this.cMapReaderFactory=Ft.cMapReaderFactory,this.standardFontDataFactory=Ft.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Pt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(Ct,kt=_util.AnnotationMode.ENABLE,Pt=null,Dt=!1){let Ft=_util.RenderingIntentFlag.DISPLAY,Ot=_annotation_storage.SerializableEmpty;switch(Ct){case"any":Ft=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Ft=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${Ct}`)}switch(kt){case _util.AnnotationMode.DISABLE:Ft+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Ft+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Ft+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Ot=(Ft&_util.RenderingIntentFlag.PRINT&&Pt instanceof _annotation_storage.PrintAnnotationStorage?Pt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${kt}`)}return Dt&&(Ft+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Ft,cacheKey:`${Ft}_${Ot.hash}`,annotationStorageSerializable:Ot}}destroy(){var Pt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Pt=zt(this,mt))==null||Pt.reject(new Error("Worker was destroyed during onPassword callback"));const Ct=[];for(const Dt of zt(this,ht).values())Ct.push(Dt._destroy());zt(this,ht).clear(),zt(this,gt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const kt=this.messageHandler.sendWithPromise("Terminate",null);return Ct.push(kt),Promise.all(Ct).then(()=>{var Dt;this.commonObjs.clear(),this.fontLoader.clear(),zt(this,ft).clear(),this.filterFactory.destroy(),(Dt=this._networkStream)==null||Dt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:Ct,loadingTask:kt}=this;Ct.on("GetReader",(Pt,Dt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Ft=>{this._lastProgress={loaded:Ft.loaded,total:Ft.total}},Dt.onPull=()=>{this._fullReader.read().then(function({value:Ft,done:Ot}){if(Ot){Dt.close();return}(0,_util.assert)(Ft instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Dt.enqueue(new Uint8Array(Ft),1,[Ft])}).catch(Ft=>{Dt.error(Ft)})},Dt.onCancel=Ft=>{this._fullReader.cancel(Ft),Dt.ready.catch(Ot=>{if(!this.destroyed)throw Ot})}}),Ct.on("ReaderHeadersReady",Pt=>{const Dt=new _util.PromiseCapability,Ft=this._fullReader;return Ft.headersReady.then(()=>{var Ot;(!Ft.isStreamingSupported||!Ft.isRangeSupported)&&(this._lastProgress&&((Ot=kt.onProgress)==null||Ot.call(kt,this._lastProgress)),Ft.onProgress=It=>{var Bt;(Bt=kt.onProgress)==null||Bt.call(kt,{loaded:It.loaded,total:It.total})}),Dt.resolve({isStreamingSupported:Ft.isStreamingSupported,isRangeSupported:Ft.isRangeSupported,contentLength:Ft.contentLength})},Dt.reject),Dt.promise}),Ct.on("GetRangeReader",(Pt,Dt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Ft=this._networkStream.getRangeReader(Pt.begin,Pt.end);if(!Ft){Dt.close();return}Dt.onPull=()=>{Ft.read().then(function({value:Ot,done:It}){if(It){Dt.close();return}(0,_util.assert)(Ot instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Dt.enqueue(new Uint8Array(Ot),1,[Ot])}).catch(Ot=>{Dt.error(Ot)})},Dt.onCancel=Ot=>{Ft.cancel(Ot),Dt.ready.catch(It=>{if(!this.destroyed)throw It})}}),Ct.on("GetDoc",({pdfInfo:Pt})=>{this._numPages=Pt.numPages,this._htmlForXfa=Pt.htmlForXfa,delete Pt.htmlForXfa,kt._capability.resolve(new PDFDocumentProxy(Pt,this))}),Ct.on("DocException",function(Pt){let Dt;switch(Pt.name){case"PasswordException":Dt=new _util.PasswordException(Pt.message,Pt.code);break;case"InvalidPDFException":Dt=new _util.InvalidPDFException(Pt.message);break;case"MissingPDFException":Dt=new _util.MissingPDFException(Pt.message);break;case"UnexpectedResponseException":Dt=new _util.UnexpectedResponseException(Pt.message,Pt.status);break;case"UnknownErrorException":Dt=new _util.UnknownErrorException(Pt.message,Pt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}kt._capability.reject(Dt)}),Ct.on("PasswordRequest",Pt=>{if(jr(this,mt,new _util.PromiseCapability),kt.onPassword){const Dt=Ft=>{Ft instanceof Error?zt(this,mt).reject(Ft):zt(this,mt).resolve({password:Ft})};try{kt.onPassword(Dt,Pt.code)}catch(Ft){zt(this,mt).reject(Ft)}}else zt(this,mt).reject(new _util.PasswordException(Pt.message,Pt.code));return zt(this,mt).promise}),Ct.on("DataLoaded",Pt=>{var Dt;(Dt=kt.onProgress)==null||Dt.call(kt,{loaded:Pt.length,total:Pt.length}),this.downloadInfoCapability.resolve(Pt)}),Ct.on("StartRenderPage",Pt=>{if(this.destroyed)return;zt(this,ht).get(Pt.pageIndex)._startRenderPage(Pt.transparency,Pt.cacheKey)}),Ct.on("commonobj",([Pt,Dt,Ft])=>{var Ot;if(!this.destroyed&&!this.commonObjs.has(Pt))switch(Dt){case"Font":const It=this._params;if("error"in Ft){const Ut=Ft.error;(0,_util.warn)(`Error during font loading: ${Ut}`),this.commonObjs.resolve(Pt,Ut);break}const Bt=It.pdfBug&&((Ot=globalThis.FontInspector)!=null&&Ot.enabled)?(Ut,Ht)=>globalThis.FontInspector.fontAdded(Ut,Ht):null,qt=new _font_loader.FontFaceObject(Ft,{isEvalSupported:It.isEvalSupported,disableFontFace:It.disableFontFace,ignoreErrors:It.ignoreErrors,inspectFont:Bt});this.fontLoader.bind(qt).catch(Ut=>Ct.sendWithPromise("FontFallback",{id:Pt})).finally(()=>{!It.fontExtraProperties&&qt.data&&(qt.data=null),this.commonObjs.resolve(Pt,qt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Pt,Ft);break;default:throw new Error(`Got unknown common object type ${Dt}`)}}),Ct.on("obj",([Pt,Dt,Ft,Ot])=>{var Bt;if(this.destroyed)return;const It=zt(this,ht).get(Dt);if(!It.objs.has(Pt))switch(Ft){case"Image":if(It.objs.resolve(Pt,Ot),Ot){let qt;if(Ot.bitmap){const{width:Ut,height:Ht}=Ot;qt=Ut*Ht*4}else qt=((Bt=Ot.data)==null?void 0:Bt.length)||0;qt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(It._maybeCleanupAfterRender=!0)}break;case"Pattern":It.objs.resolve(Pt,Ot);break;default:throw new Error(`Got unknown object type ${Ft}`)}}),Ct.on("DocProgress",Pt=>{var Dt;this.destroyed||(Dt=kt.onProgress)==null||Dt.call(kt,{loaded:Pt.loaded,total:Pt.total})}),Ct.on("FetchBuiltInCMap",Pt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Pt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),Ct.on("FetchStandardFontData",Pt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Pt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Pt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:Ct,transfers:kt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:Ct,filename:((Pt=this._fullReader)==null?void 0:Pt.filename)??null},kt).finally(()=>{this.annotationStorage.resetModified()})}getPage(Ct){if(!Number.isInteger(Ct)||Ct<=0||Ct>this._numPages)return Promise.reject(new Error("Invalid page request."));const kt=Ct-1,Pt=zt(this,gt).get(kt);if(Pt)return Pt;const Dt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:kt}).then(Ft=>{if(this.destroyed)throw new Error("Transport destroyed");const Ot=new PDFPageProxy(kt,Ft,this,this._params.pdfBug);return zt(this,ht).set(kt,Ot),Ot});return zt(this,gt).set(kt,Dt),Dt}getPageIndex(Ct){return typeof Ct!="object"||Ct===null||!Number.isInteger(Ct.num)||Ct.num<0||!Number.isInteger(Ct.gen)||Ct.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:Ct.num,gen:Ct.gen})}getAnnotations(Ct,kt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:Ct,intent:kt})}getFieldObjects(){return Er(this,xt,ro).call(this,"GetFieldObjects")}hasJSActions(){return Er(this,xt,ro).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(Ct){return typeof Ct!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:Ct})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Er(this,xt,ro).call(this,"GetDocJSActions")}getPageJSActions(Ct){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:Ct})}getStructTree(Ct){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:Ct})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(Ct=>new _optional_content_config.OptionalContentConfig(Ct))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const Ct="GetMetadata",kt=zt(this,ft).get(Ct);if(kt)return kt;const Pt=this.messageHandler.sendWithPromise(Ct,null).then(Dt=>{var Ft,Ot;return{info:Dt[0],metadata:Dt[1]?new _metadata.Metadata(Dt[1]):null,contentDispositionFilename:((Ft=this._fullReader)==null?void 0:Ft.filename)??null,contentLength:((Ot=this._fullReader)==null?void 0:Ot.contentLength)??null}});return zt(this,ft).set(Ct,Pt),Pt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(Ct=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const kt of zt(this,ht).values())if(!kt.cleanup())throw new Error(`startCleanup: Page ${kt.pageNumber} is currently rendering.`);this.commonObjs.clear(),Ct||this.fontLoader.clear(),zt(this,ft).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:Ct,enableXfa:kt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:Ct,enableXfa:kt})}}ft=new WeakMap,ht=new WeakMap,gt=new WeakMap,mt=new WeakMap,xt=new WeakSet,ro=function(Ct,kt=null){const Pt=zt(this,ft).get(Ct);if(Pt)return Pt;const Dt=this.messageHandler.sendWithPromise(Ct,kt);return zt(this,ft).set(Ct,Dt),Dt};class PDFObjects{constructor(){mr(this,yt);mr(this,_t,Object.create(null))}get(Ct,kt=null){if(kt){const Dt=Er(this,yt,Uo).call(this,Ct);return Dt.capability.promise.then(()=>kt(Dt.data)),null}const Pt=zt(this,_t)[Ct];if(!(Pt!=null&&Pt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${Ct}.`);return Pt.data}has(Ct){const kt=zt(this,_t)[Ct];return(kt==null?void 0:kt.capability.settled)||!1}resolve(Ct,kt=null){const Pt=Er(this,yt,Uo).call(this,Ct);Pt.data=kt,Pt.capability.resolve()}clear(){var Ct;for(const kt in zt(this,_t)){const{data:Pt}=zt(this,_t)[kt];(Ct=Pt==null?void 0:Pt.bitmap)==null||Ct.close()}jr(this,_t,Object.create(null))}}_t=new WeakMap,yt=new WeakSet,Uo=function(Ct){var kt;return(kt=zt(this,_t))[Ct]||(kt[Ct]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(Ct){mr(this,bt,null);jr(this,bt,Ct),this.onContinue=null}get promise(){return zt(this,bt).capability.promise}cancel(Ct=0){zt(this,bt).cancel(null,Ct)}get separateAnnots(){const{separateAnnots:Ct}=zt(this,bt).operatorList;if(!Ct)return!1;const{annotationCanvasMap:kt}=zt(this,bt);return Ct.form||Ct.canvas&&(kt==null?void 0:kt.size)>0}}bt=new WeakMap,exports.RenderTask=RenderTask;const Tt=class Tt{constructor({callback:Ct,params:kt,objs:Pt,commonObjs:Dt,annotationCanvasMap:Ft,operatorList:Ot,pageIndex:It,canvasFactory:Bt,filterFactory:qt,useRequestAnimationFrame:Ut=!1,pdfBug:Ht=!1,pageColors:Qt=null}){this.callback=Ct,this.params=kt,this.objs=Pt,this.commonObjs=Dt,this.annotationCanvasMap=Ft,this.operatorListIdx=null,this.operatorList=Ot,this._pageIndex=It,this.canvasFactory=Bt,this.filterFactory=qt,this._pdfBug=Ht,this.pageColors=Qt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Ut===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=kt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:Ct=!1,optionalContentConfig:kt}){var It,Bt;if(this.cancelled)return;if(this._canvas){if(zt(Tt,Et).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");zt(Tt,Et).add(this._canvas)}this._pdfBug&&((It=globalThis.StepperManager)!=null&&It.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Pt,viewport:Dt,transform:Ft,background:Ot}=this.params;this.gfx=new _canvas.CanvasGraphics(Pt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:kt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Ft,viewport:Dt,transparency:Ct,background:Ot}),this.operatorListIdx=0,this.graphicsReady=!0,(Bt=this.graphicsReadyCallback)==null||Bt.call(this)}cancel(Ct=null,kt=0){var Pt;this.running=!1,this.cancelled=!0,(Pt=this.gfx)==null||Pt.endDrawing(),zt(Tt,Et).delete(this._canvas),this.callback(Ct||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,kt))}operatorListChanged(){var Ct;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(Ct=this.stepper)==null||Ct.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),zt(Tt,Et).delete(this._canvas),this.callback())))}};Et=new WeakMap,mr(Tt,Et,new WeakSet);let InternalRenderTask=Tt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(et,tt,rt)=>{var ct,ut,dt,ku,ht;Object.defineProperty(tt,"__esModule",{value:!0}),tt.SerializableEmpty=tt.PrintAnnotationStorage=tt.AnnotationStorage=void 0;var nt=rt(1),at=rt(4),it=rt(8);const st=Object.freeze({map:null,hash:"",transfers:void 0});tt.SerializableEmpty=st;class ot{constructor(){mr(this,dt);mr(this,ct,!1);mr(this,ut,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(mt,xt){const vt=zt(this,ut).get(mt);return vt===void 0?xt:Object.assign(xt,vt)}getRawValue(mt){return zt(this,ut).get(mt)}remove(mt){if(zt(this,ut).delete(mt),zt(this,ut).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const xt of zt(this,ut).values())if(xt instanceof at.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(mt,xt){const vt=zt(this,ut).get(mt);let _t=!1;if(vt!==void 0)for(const[yt,St]of Object.entries(xt))vt[yt]!==St&&(_t=!0,vt[yt]=St);else _t=!0,zt(this,ut).set(mt,xt);_t&&Er(this,dt,ku).call(this),xt instanceof at.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(xt.constructor._type)}has(mt){return zt(this,ut).has(mt)}getAll(){return zt(this,ut).size>0?(0,nt.objectFromMap)(zt(this,ut)):null}setAll(mt){for(const[xt,vt]of Object.entries(mt))this.setValue(xt,vt)}get size(){return zt(this,ut).size}resetModified(){zt(this,ct)&&(jr(this,ct,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new lt(this)}get serializable(){if(zt(this,ut).size===0)return st;const mt=new Map,xt=new it.MurmurHash3_64,vt=[],_t=Object.create(null);let yt=!1;for(const[St,bt]of zt(this,ut)){const Et=bt instanceof at.AnnotationEditor?bt.serialize(!1,_t):bt;Et&&(mt.set(St,Et),xt.update(`${St}:${JSON.stringify(Et)}`),yt||(yt=!!Et.bitmap))}if(yt)for(const St of mt.values())St.bitmap&&vt.push(St.bitmap);return mt.size>0?{map:mt,hash:xt.hexdigest(),transfers:vt}:st}}ct=new WeakMap,ut=new WeakMap,dt=new WeakSet,ku=function(){zt(this,ct)||(jr(this,ct,!0),typeof this.onSetModified=="function"&&this.onSetModified())},tt.AnnotationStorage=ot;class lt extends ot{constructor(xt){super();mr(this,ht,void 0);const{map:vt,hash:_t,transfers:yt}=xt.serializable,St=structuredClone(vt,yt?{transfer:yt}:null);jr(this,ht,{map:St,hash:_t,transfers:yt})}get print(){(0,nt.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return zt(this,ht)}}ht=new WeakMap,tt.PrintAnnotationStorage=lt},(et,tt,rt)=>{var lt,ct,ut,dt,ft,ht,gt,mt,xt,vt,_t,yt,St,bt,Et,Vo,At,Ho,kt,zo,Dt,Wo,Ot,ju,Bt,Du,Ut,Ou,Qt,Go,Xt,Nu;Object.defineProperty(tt,"__esModule",{value:!0}),tt.AnnotationEditor=void 0;var nt=rt(5),at=rt(1),it=rt(6);const jt=class jt{constructor(Mt){mr(this,Et);mr(this,At);mr(this,Dt);mr(this,Ot);mr(this,Bt);mr(this,Ut);mr(this,Qt);mr(this,Xt);mr(this,lt,"");mr(this,ct,!1);mr(this,ut,null);mr(this,dt,null);mr(this,ft,null);mr(this,ht,!1);mr(this,gt,null);mr(this,mt,this.focusin.bind(this));mr(this,xt,this.focusout.bind(this));mr(this,vt,!1);mr(this,_t,!1);mr(this,yt,!1);tn(this,"_initialOptions",Object.create(null));tn(this,"_uiManager",null);tn(this,"_focusEventsAllowed",!0);tn(this,"_l10nPromise",null);mr(this,St,!1);mr(this,bt,jt._zIndex++);this.constructor===jt&&(0,at.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Mt.parent,this.id=Mt.id,this.width=this.height=null,this.pageIndex=Mt.parent.pageIndex,this.name=Mt.name,this.div=null,this._uiManager=Mt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Mt.isCentered,this._structTreeParentId=null;const{rotation:Vt,rawDims:{pageWidth:Gt,pageHeight:Zt,pageX:er,pageY:ar}}=this.parent.viewport;this.rotation=Vt,this.pageRotation=(360+Vt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Gt,Zt],this.pageTranslation=[er,ar];const[Kt,pr]=this.parentDimensions;this.x=Mt.x/Kt,this.y=Mt.y/pr,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,at.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Mt){const Vt=new ot({id:Mt.parent.getNextId(),parent:Mt.parent,uiManager:Mt._uiManager});Vt.annotationElementId=Mt.annotationElementId,Vt.deleted=!0,Vt._uiManager.addToAnnotationStorage(Vt)}static initialize(Mt,Vt=null){if(jt._l10nPromise||(jt._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Zt=>[Zt,Mt.get(Zt)]))),Vt!=null&&Vt.strings)for(const Zt of Vt.strings)jt._l10nPromise.set(Zt,Mt.get(Zt));if(jt._borderLineWidth!==-1)return;const Gt=getComputedStyle(document.documentElement);jt._borderLineWidth=parseFloat(Gt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Mt,Vt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Mt){return!1}static paste(Mt,Vt){(0,at.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return zt(this,St)}set _isDraggable(Mt){var Vt;jr(this,St,Mt),(Vt=this.div)==null||Vt.classList.toggle("draggable",Mt)}center(){const[Mt,Vt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Vt/(Mt*2),this.y+=this.width*Mt/(Vt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Vt/(Mt*2),this.y-=this.width*Mt/(Vt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Mt){this._uiManager.addCommands(Mt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=zt(this,bt)}setParent(Mt){Mt!==null&&(this.pageIndex=Mt.pageIndex,this.pageDimensions=Mt.pageDimensions),this.parent=Mt}focusin(Mt){this._focusEventsAllowed&&(zt(this,vt)?jr(this,vt,!1):this.parent.setSelected(this))}focusout(Mt){var Gt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Vt=Mt.relatedTarget;Vt!=null&&Vt.closest(`#${this.id}`)||(Mt.preventDefault(),(Gt=this.parent)!=null&&Gt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Mt,Vt,Gt,Zt){const[er,ar]=this.parentDimensions;[Gt,Zt]=this.screenToPageTranslation(Gt,Zt),this.x=(Mt+Gt)/er,this.y=(Vt+Zt)/ar,this.fixAndSetPosition()}translate(Mt,Vt){Er(this,Et,Vo).call(this,this.parentDimensions,Mt,Vt)}translateInPage(Mt,Vt){Er(this,Et,Vo).call(this,this.pageDimensions,Mt,Vt),this.div.scrollIntoView({block:"nearest"})}drag(Mt,Vt){const[Gt,Zt]=this.parentDimensions;if(this.x+=Mt/Gt,this.y+=Vt/Zt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:fr,y:vr}=this.div.getBoundingClientRect();this.parent.findNewParent(this,fr,vr)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:er,y:ar}=this;const[Kt,pr]=Er(this,At,Ho).call(this);er+=Kt,ar+=pr,this.div.style.left=`${(100*er).toFixed(2)}%`,this.div.style.top=`${(100*ar).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Mt,Vt]=this.pageDimensions;let{x:Gt,y:Zt,width:er,height:ar}=this;switch(er*=Mt,ar*=Vt,Gt*=Mt,Zt*=Vt,this.rotation){case 0:Gt=Math.max(0,Math.min(Mt-er,Gt)),Zt=Math.max(0,Math.min(Vt-ar,Zt));break;case 90:Gt=Math.max(0,Math.min(Mt-ar,Gt)),Zt=Math.min(Vt,Math.max(er,Zt));break;case 180:Gt=Math.min(Mt,Math.max(er,Gt)),Zt=Math.min(Vt,Math.max(ar,Zt));break;case 270:Gt=Math.min(Mt,Math.max(ar,Gt)),Zt=Math.max(0,Math.min(Vt-er,Zt));break}this.x=Gt/=Mt,this.y=Zt/=Vt;const[Kt,pr]=Er(this,At,Ho).call(this);Gt+=Kt,Zt+=pr;const{style:fr}=this.div;fr.left=`${(100*Gt).toFixed(2)}%`,fr.top=`${(100*Zt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Mt,Vt){var Gt;return Er(Gt=jt,kt,zo).call(Gt,Mt,Vt,this.parentRotation)}pageTranslationToScreen(Mt,Vt){var Gt;return Er(Gt=jt,kt,zo).call(Gt,Mt,Vt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Mt,pageDimensions:[Vt,Gt]}=this,Zt=Vt*Mt,er=Gt*Mt;return at.FeatureTest.isCSSRoundSupported?[Math.round(Zt),Math.round(er)]:[Zt,er]}setDims(Mt,Vt){var er;const[Gt,Zt]=this.parentDimensions;this.div.style.width=`${(100*Mt/Gt).toFixed(2)}%`,zt(this,ht)||(this.div.style.height=`${(100*Vt/Zt).toFixed(2)}%`),(er=zt(this,ut))==null||er.classList.toggle("small",Mt<jt.SMALL_EDITOR_SIZE||Vt<jt.SMALL_EDITOR_SIZE)}fixDims(){const{style:Mt}=this.div,{height:Vt,width:Gt}=Mt,Zt=Gt.endsWith("%"),er=!zt(this,ht)&&Vt.endsWith("%");if(Zt&&er)return;const[ar,Kt]=this.parentDimensions;Zt||(Mt.width=`${(100*parseFloat(Gt)/ar).toFixed(2)}%`),!zt(this,ht)&&!er&&(Mt.height=`${(100*parseFloat(Vt)/Kt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(zt(this,ut))return;const Mt=jr(this,ut,document.createElement("button"));Mt.className="altText";const Vt=await jt._l10nPromise.get("editor_alt_text_button_label");Mt.textContent=Vt,Mt.setAttribute("aria-label",Vt),Mt.tabIndex="0",Mt.addEventListener("contextmenu",it.noContextMenu),Mt.addEventListener("pointerdown",Gt=>Gt.stopPropagation()),Mt.addEventListener("click",Gt=>{Gt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Mt.addEventListener("keydown",Gt=>{Gt.target===Mt&&Gt.key==="Enter"&&(Gt.preventDefault(),this._uiManager.editAltText(this))}),Er(this,Qt,Go).call(this),this.div.append(Mt),jt.SMALL_EDITOR_SIZE||(jt.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Mt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:zt(this,lt),decorative:zt(this,ct)}}set altTextData({altText:Mt,decorative:Vt}){zt(this,lt)===Mt&&zt(this,ct)===Vt||(jr(this,lt,Mt),jr(this,ct,Vt),Er(this,Qt,Go).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",zt(this,mt)),this.div.addEventListener("focusout",zt(this,xt));const[Mt,Vt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Vt/Mt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Mt/Vt).toFixed(2)}%`);const[Gt,Zt]=this.getInitialTranslation();return this.translate(Gt,Zt),(0,nt.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Mt){const{isMac:Vt}=at.FeatureTest.platform;if(Mt.button!==0||Mt.ctrlKey&&Vt){Mt.preventDefault();return}jr(this,vt,!0),Er(this,Xt,Nu).call(this,Mt)}moveInDOM(){var Mt;(Mt=this.parent)==null||Mt.moveEditorInDOM(this)}_setParentAndPosition(Mt,Vt,Gt){Mt.changeParent(this),this.x=Vt,this.y=Gt,this.fixAndSetPosition()}getRect(Mt,Vt){const Gt=this.parentScale,[Zt,er]=this.pageDimensions,[ar,Kt]=this.pageTranslation,pr=Mt/Gt,fr=Vt/Gt,vr=this.x*Zt,wr=this.y*er,hr=this.width*Zt,Ir=this.height*er;switch(this.rotation){case 0:return[vr+pr+ar,er-wr-fr-Ir+Kt,vr+pr+hr+ar,er-wr-fr+Kt];case 90:return[vr+fr+ar,er-wr+pr+Kt,vr+fr+Ir+ar,er-wr+pr+hr+Kt];case 180:return[vr-pr-hr+ar,er-wr+fr+Kt,vr-pr+ar,er-wr+fr+Ir+Kt];case 270:return[vr-fr-Ir+ar,er-wr-pr-hr+Kt,vr-fr+ar,er-wr-pr+Kt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Mt,Vt){const[Gt,Zt,er,ar]=Mt,Kt=er-Gt,pr=ar-Zt;switch(this.rotation){case 0:return[Gt,Vt-ar,Kt,pr];case 90:return[Gt,Vt-Zt,pr,Kt];case 180:return[er,Vt-Zt,Kt,pr];case 270:return[er,Vt-ar,pr,Kt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){jr(this,yt,!0)}disableEditMode(){jr(this,yt,!1)}isInEditMode(){return zt(this,yt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Mt,Vt;(Mt=this.div)==null||Mt.addEventListener("focusin",zt(this,mt)),(Vt=this.div)==null||Vt.addEventListener("focusout",zt(this,xt))}serialize(Mt=!1,Vt=null){(0,at.unreachable)("An editor must be serializable")}static deserialize(Mt,Vt,Gt){const Zt=new this.prototype.constructor({parent:Vt,id:Vt.getNextId(),uiManager:Gt});Zt.rotation=Mt.rotation;const[er,ar]=Zt.pageDimensions,[Kt,pr,fr,vr]=Zt.getRectInCurrentCoords(Mt.rect,ar);return Zt.x=Kt/er,Zt.y=pr/ar,Zt.width=fr/er,Zt.height=vr/ar,Zt}remove(){var Mt;this.div.removeEventListener("focusin",zt(this,mt)),this.div.removeEventListener("focusout",zt(this,xt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Mt=zt(this,ut))==null||Mt.remove(),jr(this,ut,null),jr(this,dt,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Er(this,Ot,ju).call(this),zt(this,gt).classList.remove("hidden"))}select(){var Mt;this.makeResizable(),(Mt=this.div)==null||Mt.classList.add("selectedEditor")}unselect(){var Mt,Vt,Gt;(Mt=zt(this,gt))==null||Mt.classList.add("hidden"),(Vt=this.div)==null||Vt.classList.remove("selectedEditor"),(Gt=this.div)!=null&&Gt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Mt,Vt){}disableEditing(){zt(this,ut)&&(zt(this,ut).hidden=!0)}enableEditing(){zt(this,ut)&&(zt(this,ut).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return zt(this,_t)}set isEditing(Mt){jr(this,_t,Mt),this.parent&&(Mt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Mt,Vt){jr(this,ht,!0);const Gt=Mt/Vt,{style:Zt}=this.div;Zt.aspectRatio=Gt,Zt.height="auto"}static get MIN_SIZE(){return 16}};lt=new WeakMap,ct=new WeakMap,ut=new WeakMap,dt=new WeakMap,ft=new WeakMap,ht=new WeakMap,gt=new WeakMap,mt=new WeakMap,xt=new WeakMap,vt=new WeakMap,_t=new WeakMap,yt=new WeakMap,St=new WeakMap,bt=new WeakMap,Et=new WeakSet,Vo=function([Mt,Vt],Gt,Zt){[Gt,Zt]=this.screenToPageTranslation(Gt,Zt),this.x+=Gt/Mt,this.y+=Zt/Vt,this.fixAndSetPosition()},At=new WeakSet,Ho=function(){const[Mt,Vt]=this.parentDimensions,{_borderLineWidth:Gt}=jt,Zt=Gt/Mt,er=Gt/Vt;switch(this.rotation){case 90:return[-Zt,er];case 180:return[Zt,er];case 270:return[Zt,-er];default:return[-Zt,-er]}},kt=new WeakSet,zo=function(Mt,Vt,Gt){switch(Gt){case 90:return[Vt,-Mt];case 180:return[-Mt,-Vt];case 270:return[-Vt,Mt];default:return[Mt,Vt]}},Dt=new WeakSet,Wo=function(Mt){switch(Mt){case 90:{const[Vt,Gt]=this.pageDimensions;return[0,-Vt/Gt,Gt/Vt,0]}case 180:return[-1,0,0,-1];case 270:{const[Vt,Gt]=this.pageDimensions;return[0,Vt/Gt,-Gt/Vt,0]}default:return[1,0,0,1]}},Ot=new WeakSet,ju=function(){if(zt(this,gt))return;jr(this,gt,document.createElement("div")),zt(this,gt).classList.add("resizers");const Mt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Mt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Vt of Mt){const Gt=document.createElement("div");zt(this,gt).append(Gt),Gt.classList.add("resizer",Vt),Gt.addEventListener("pointerdown",Er(this,Bt,Du).bind(this,Vt)),Gt.addEventListener("contextmenu",it.noContextMenu)}this.div.prepend(zt(this,gt))},Bt=new WeakSet,Du=function(Mt,Vt){Vt.preventDefault();const{isMac:Gt}=at.FeatureTest.platform;if(Vt.button!==0||Vt.ctrlKey&&Gt)return;const Zt=Er(this,Ut,Ou).bind(this,Mt),er=this._isDraggable;this._isDraggable=!1;const ar={passive:!0,capture:!0};window.addEventListener("pointermove",Zt,ar);const Kt=this.x,pr=this.y,fr=this.width,vr=this.height,wr=this.parent.div.style.cursor,hr=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Vt.target).cursor;const Ir=()=>{this._isDraggable=er,window.removeEventListener("pointerup",Ir),window.removeEventListener("blur",Ir),window.removeEventListener("pointermove",Zt,ar),this.parent.div.style.cursor=wr,this.div.style.cursor=hr;const Jr=this.x,Br=this.y,Zr=this.width,Fr=this.height;Jr===Kt&&Br===pr&&Zr===fr&&Fr===vr||this.addCommands({cmd:()=>{this.width=Zr,this.height=Fr,this.x=Jr,this.y=Br;const[Cr,Tr]=this.parentDimensions;this.setDims(Cr*Zr,Tr*Fr),this.fixAndSetPosition()},undo:()=>{this.width=fr,this.height=vr,this.x=Kt,this.y=pr;const[Cr,Tr]=this.parentDimensions;this.setDims(Cr*fr,Tr*vr),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Ir),window.addEventListener("blur",Ir)},Ut=new WeakSet,Ou=function(Mt,Vt){const[Gt,Zt]=this.parentDimensions,er=this.x,ar=this.y,Kt=this.width,pr=this.height,fr=jt.MIN_SIZE/Gt,vr=jt.MIN_SIZE/Zt,wr=Vr=>Math.round(Vr*1e4)/1e4,hr=Er(this,Dt,Wo).call(this,this.rotation),Ir=(Vr,zr)=>[hr[0]*Vr+hr[2]*zr,hr[1]*Vr+hr[3]*zr],Jr=Er(this,Dt,Wo).call(this,360-this.rotation),Br=(Vr,zr)=>[Jr[0]*Vr+Jr[2]*zr,Jr[1]*Vr+Jr[3]*zr];let Zr,Fr,Cr=!1,Tr=!1;switch(Mt){case"topLeft":Cr=!0,Zr=(Vr,zr)=>[0,0],Fr=(Vr,zr)=>[Vr,zr];break;case"topMiddle":Zr=(Vr,zr)=>[Vr/2,0],Fr=(Vr,zr)=>[Vr/2,zr];break;case"topRight":Cr=!0,Zr=(Vr,zr)=>[Vr,0],Fr=(Vr,zr)=>[0,zr];break;case"middleRight":Tr=!0,Zr=(Vr,zr)=>[Vr,zr/2],Fr=(Vr,zr)=>[0,zr/2];break;case"bottomRight":Cr=!0,Zr=(Vr,zr)=>[Vr,zr],Fr=(Vr,zr)=>[0,0];break;case"bottomMiddle":Zr=(Vr,zr)=>[Vr/2,zr],Fr=(Vr,zr)=>[Vr/2,0];break;case"bottomLeft":Cr=!0,Zr=(Vr,zr)=>[0,zr],Fr=(Vr,zr)=>[Vr,0];break;case"middleLeft":Tr=!0,Zr=(Vr,zr)=>[0,zr/2],Fr=(Vr,zr)=>[Vr,zr/2];break}const Dr=Zr(Kt,pr),Gr=Fr(Kt,pr);let qr=Ir(...Gr);const sn=wr(er+qr[0]),Ur=wr(ar+qr[1]);let $r=1,Yr=1,[rn,nn]=this.screenToPageTranslation(Vt.movementX,Vt.movementY);if([rn,nn]=Br(rn/Gt,nn/Zt),Cr){const Vr=Math.hypot(Kt,pr);$r=Yr=Math.max(Math.min(Math.hypot(Gr[0]-Dr[0]-rn,Gr[1]-Dr[1]-nn)/Vr,1/Kt,1/pr),fr/Kt,vr/pr)}else Tr?$r=Math.max(fr,Math.min(1,Math.abs(Gr[0]-Dr[0]-rn)))/Kt:Yr=Math.max(vr,Math.min(1,Math.abs(Gr[1]-Dr[1]-nn)))/pr;const hn=wr(Kt*$r),Or=wr(pr*Yr);qr=Ir(...Fr(hn,Or));const Rr=sn-qr[0],yr=Ur-qr[1];this.width=hn,this.height=Or,this.x=Rr,this.y=yr,this.setDims(Gt*hn,Zt*Or),this.fixAndSetPosition()},Qt=new WeakSet,Go=async function(){var Gt;const Mt=zt(this,ut);if(!Mt)return;if(!zt(this,lt)&&!zt(this,ct)){Mt.classList.remove("done"),(Gt=zt(this,dt))==null||Gt.remove();return}jt._l10nPromise.get("editor_alt_text_edit_button_label").then(Zt=>{Mt.setAttribute("aria-label",Zt)});let Vt=zt(this,dt);if(!Vt){jr(this,dt,Vt=document.createElement("span")),Vt.className="tooltip",Vt.setAttribute("role","tooltip");const Zt=Vt.id=`alt-text-tooltip-${this.id}`;Mt.setAttribute("aria-describedby",Zt);const er=100;Mt.addEventListener("mouseenter",()=>{jr(this,ft,setTimeout(()=>{jr(this,ft,null),zt(this,dt).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},er))}),Mt.addEventListener("mouseleave",()=>{var ar;clearTimeout(zt(this,ft)),jr(this,ft,null),(ar=zt(this,dt))==null||ar.classList.remove("show")})}Mt.classList.add("done"),Vt.innerText=zt(this,ct)?await jt._l10nPromise.get("editor_alt_text_decorative_tooltip"):zt(this,lt),Vt.parentNode||Mt.append(Vt)},Xt=new WeakSet,Nu=function(Mt){if(!this._isDraggable)return;const Vt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Gt,Zt;Vt&&(Gt={passive:!0,capture:!0},Zt=ar=>{const[Kt,pr]=this.screenToPageTranslation(ar.movementX,ar.movementY);this._uiManager.dragSelectedEditors(Kt,pr)},window.addEventListener("pointermove",Zt,Gt));const er=()=>{if(window.removeEventListener("pointerup",er),window.removeEventListener("blur",er),Vt&&window.removeEventListener("pointermove",Zt,Gt),jr(this,vt,!1),!this._uiManager.endDragSession()){const{isMac:ar}=at.FeatureTest.platform;Mt.ctrlKey&&!ar||Mt.shiftKey||Mt.metaKey&&ar?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",er),window.addEventListener("blur",er)},mr(jt,kt),tn(jt,"_borderLineWidth",-1),tn(jt,"_colorManager",new nt.ColorManager),tn(jt,"_zIndex",1),tn(jt,"SMALL_EDITOR_SIZE",0);let st=jt;tt.AnnotationEditor=st;class ot extends st{constructor(Mt){super(Mt),this.annotationElementId=Mt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(et,tt,rt)=>{var ht,gt,mt,xt,vt,Ko,St,bt,Et,Tt,At,Fu,Pt,Dt,Ft,Ot,It,Bt,qt,Ut,Ht,Qt,ir,Xt,Lt,jt,Nt,Mt,Vt,Gt,Zt,er,ar,Kt,pr,fr,vr,wr,hr,Ir,Jr,Br,Zr,Fr,Cr,Tr,Dr,Mu,qr,qo,Ur,Xo,Yr,no,nn,Yo,Or,Zo,yr,Vn,zr,js,wn,Iu,Xr,$u,en,Jo,pn,Ds,Hr,Qo;Object.defineProperty(tt,"__esModule",{value:!0}),tt.KeyboardManager=tt.CommandManager=tt.ColorManager=tt.AnnotationEditorUIManager=void 0,tt.bindEvents=it,tt.opacityToHex=st;var nt=rt(1),at=rt(6);function it(dr,Yt,lr){for(const ur of lr)Yt.addEventListener(ur,dr[ur].bind(dr))}function st(dr){return Math.round(Math.min(255,Math.max(1,255*dr))).toString(16).padStart(2,"0")}class ot{constructor(){mr(this,ht,0)}getId(){return`${nt.AnnotationEditorPrefix}${ks(this,ht)._++}`}}ht=new WeakMap;const yt=class yt{constructor(){mr(this,vt);mr(this,gt,(0,nt.getUuid)());mr(this,mt,0);mr(this,xt,null)}static get _isSVGFittingCanvas(){const Yt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',ur=new OffscreenCanvas(1,3).getContext("2d"),Wt=new Image;Wt.src=Yt;const rr=Wt.decode().then(()=>(ur.drawImage(Wt,0,0,1,1,0,0,1,3),new Uint32Array(ur.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,nt.shadow)(this,"_isSVGFittingCanvas",rr)}async getFromFile(Yt){const{lastModified:lr,name:ur,size:Wt,type:rr}=Yt;return Er(this,vt,Ko).call(this,`${lr}_${ur}_${Wt}_${rr}`,Yt)}async getFromUrl(Yt){return Er(this,vt,Ko).call(this,Yt,Yt)}async getFromId(Yt){zt(this,xt)||jr(this,xt,new Map);const lr=zt(this,xt).get(Yt);return lr?lr.bitmap?(lr.refCounter+=1,lr):lr.file?this.getFromFile(lr.file):this.getFromUrl(lr.url):null}getSvgUrl(Yt){const lr=zt(this,xt).get(Yt);return lr!=null&&lr.isSvg?lr.svgUrl:null}deleteId(Yt){zt(this,xt)||jr(this,xt,new Map);const lr=zt(this,xt).get(Yt);lr&&(lr.refCounter-=1,lr.refCounter===0&&(lr.bitmap=null))}isValidId(Yt){return Yt.startsWith(`image_${zt(this,gt)}_`)}};gt=new WeakMap,mt=new WeakMap,xt=new WeakMap,vt=new WeakSet,Ko=async function(Yt,lr){zt(this,xt)||jr(this,xt,new Map);let ur=zt(this,xt).get(Yt);if(ur===null)return null;if(ur!=null&&ur.bitmap)return ur.refCounter+=1,ur;try{ur||(ur={bitmap:null,id:`image_${zt(this,gt)}_${ks(this,mt)._++}`,refCounter:0,isSvg:!1});let Wt;if(typeof lr=="string"){ur.url=lr;const rr=await fetch(lr);if(!rr.ok)throw new Error(rr.statusText);Wt=await rr.blob()}else Wt=ur.file=lr;if(Wt.type==="image/svg+xml"){const rr=yt._isSVGFittingCanvas,tr=new FileReader,nr=new Image,sr=new Promise((cr,_r)=>{nr.onload=()=>{ur.bitmap=nr,ur.isSvg=!0,cr()},tr.onload=async()=>{const Sr=ur.svgUrl=tr.result;nr.src=await rr?`${Sr}#svgView(preserveAspectRatio(none))`:Sr},nr.onerror=tr.onerror=_r});tr.readAsDataURL(Wt),await sr}else ur.bitmap=await createImageBitmap(Wt);ur.refCounter=1}catch(Wt){console.error(Wt),ur=null}return zt(this,xt).set(Yt,ur),ur&&zt(this,xt).set(ur.id,ur),ur};let lt=yt;class ct{constructor(Yt=128){mr(this,St,[]);mr(this,bt,!1);mr(this,Et,void 0);mr(this,Tt,-1);jr(this,Et,Yt)}add({cmd:Yt,undo:lr,mustExec:ur,type:Wt=NaN,overwriteIfSameType:rr=!1,keepUndo:tr=!1}){if(ur&&Yt(),zt(this,bt))return;const nr={cmd:Yt,undo:lr,type:Wt};if(zt(this,Tt)===-1){zt(this,St).length>0&&(zt(this,St).length=0),jr(this,Tt,0),zt(this,St).push(nr);return}if(rr&&zt(this,St)[zt(this,Tt)].type===Wt){tr&&(nr.undo=zt(this,St)[zt(this,Tt)].undo),zt(this,St)[zt(this,Tt)]=nr;return}const sr=zt(this,Tt)+1;sr===zt(this,Et)?zt(this,St).splice(0,1):(jr(this,Tt,sr),sr<zt(this,St).length&&zt(this,St).splice(sr)),zt(this,St).push(nr)}undo(){zt(this,Tt)!==-1&&(jr(this,bt,!0),zt(this,St)[zt(this,Tt)].undo(),jr(this,bt,!1),jr(this,Tt,zt(this,Tt)-1))}redo(){zt(this,Tt)<zt(this,St).length-1&&(jr(this,Tt,zt(this,Tt)+1),jr(this,bt,!0),zt(this,St)[zt(this,Tt)].cmd(),jr(this,bt,!1))}hasSomethingToUndo(){return zt(this,Tt)!==-1}hasSomethingToRedo(){return zt(this,Tt)<zt(this,St).length-1}destroy(){jr(this,St,null)}}St=new WeakMap,bt=new WeakMap,Et=new WeakMap,Tt=new WeakMap,tt.CommandManager=ct;class ut{constructor(Yt){mr(this,At);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:lr}=nt.FeatureTest.platform;for(const[ur,Wt,rr={}]of Yt)for(const tr of ur){const nr=tr.startsWith("mac+");lr&&nr?(this.callbacks.set(tr.slice(4),{callback:Wt,options:rr}),this.allKeys.add(tr.split("+").at(-1))):!lr&&!nr&&(this.callbacks.set(tr,{callback:Wt,options:rr}),this.allKeys.add(tr.split("+").at(-1)))}}exec(Yt,lr){if(!this.allKeys.has(lr.key))return;const ur=this.callbacks.get(Er(this,At,Fu).call(this,lr));if(!ur)return;const{callback:Wt,options:{bubbles:rr=!1,args:tr=[],checker:nr=null}}=ur;nr&&!nr(Yt,lr)||(Wt.bind(Yt,...tr)(),rr||(lr.stopPropagation(),lr.preventDefault()))}}At=new WeakSet,Fu=function(Yt){Yt.altKey&&this.buffer.push("alt"),Yt.ctrlKey&&this.buffer.push("ctrl"),Yt.metaKey&&this.buffer.push("meta"),Yt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Yt.key);const lr=this.buffer.join("+");return this.buffer.length=0,lr},tt.KeyboardManager=ut;const kt=class kt{get _colors(){const Yt=new Map([["CanvasText",null],["Canvas",null]]);return(0,at.getColorValues)(Yt),(0,nt.shadow)(this,"_colors",Yt)}convert(Yt){const lr=(0,at.getRGB)(Yt);if(!window.matchMedia("(forced-colors: active)").matches)return lr;for(const[ur,Wt]of this._colors)if(Wt.every((rr,tr)=>rr===lr[tr]))return kt._colorsMapping.get(ur);return lr}getHexCode(Yt){const lr=this._colors.get(Yt);return lr?nt.Util.makeHexColor(...lr):Yt}};tn(kt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let dt=kt;tt.ColorManager=dt;const un=class un{constructor(Yt,lr,ur,Wt,rr,tr){mr(this,Dr);mr(this,qr);mr(this,Ur);mr(this,Yr);mr(this,nn);mr(this,Or);mr(this,yr);mr(this,zr);mr(this,wn);mr(this,Xr);mr(this,en);mr(this,pn);mr(this,Hr);mr(this,Pt,null);mr(this,Dt,new Map);mr(this,Ft,new Map);mr(this,Ot,null);mr(this,It,null);mr(this,Bt,new ct);mr(this,qt,0);mr(this,Ut,new Set);mr(this,Ht,null);mr(this,Qt,null);mr(this,ir,new Set);mr(this,Xt,null);mr(this,Lt,new ot);mr(this,jt,!1);mr(this,Nt,!1);mr(this,Mt,null);mr(this,Vt,nt.AnnotationEditorType.NONE);mr(this,Gt,new Set);mr(this,Zt,null);mr(this,er,this.blur.bind(this));mr(this,ar,this.focus.bind(this));mr(this,Kt,this.copy.bind(this));mr(this,pr,this.cut.bind(this));mr(this,fr,this.paste.bind(this));mr(this,vr,this.keydown.bind(this));mr(this,wr,this.onEditingAction.bind(this));mr(this,hr,this.onPageChanging.bind(this));mr(this,Ir,this.onScaleChanging.bind(this));mr(this,Jr,this.onRotationChanging.bind(this));mr(this,Br,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});mr(this,Zr,[0,0]);mr(this,Fr,null);mr(this,Cr,null);mr(this,Tr,null);jr(this,Cr,Yt),jr(this,Tr,lr),jr(this,Ot,ur),this._eventBus=Wt,this._eventBus._on("editingaction",zt(this,wr)),this._eventBus._on("pagechanging",zt(this,hr)),this._eventBus._on("scalechanging",zt(this,Ir)),this._eventBus._on("rotationchanging",zt(this,Jr)),jr(this,It,rr.annotationStorage),jr(this,Xt,rr.filterFactory),jr(this,Zt,tr),this.viewParameters={realScale:at.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Yt=un.prototype,lr=rr=>{const{activeElement:tr}=document;return tr&&zt(rr,Cr).contains(tr)&&rr.hasSomethingToControl()},ur=this.TRANSLATE_SMALL,Wt=this.TRANSLATE_BIG;return(0,nt.shadow)(this,"_keyboardManager",new ut([[["ctrl+a","mac+meta+a"],Yt.selectAll],[["ctrl+z","mac+meta+z"],Yt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Yt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Yt.delete],[["Escape","mac+Escape"],Yt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Yt.translateSelectedEditors,{args:[-ur,0],checker:lr}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Yt.translateSelectedEditors,{args:[-Wt,0],checker:lr}],[["ArrowRight","mac+ArrowRight"],Yt.translateSelectedEditors,{args:[ur,0],checker:lr}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Yt.translateSelectedEditors,{args:[Wt,0],checker:lr}],[["ArrowUp","mac+ArrowUp"],Yt.translateSelectedEditors,{args:[0,-ur],checker:lr}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Yt.translateSelectedEditors,{args:[0,-Wt],checker:lr}],[["ArrowDown","mac+ArrowDown"],Yt.translateSelectedEditors,{args:[0,ur],checker:lr}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Yt.translateSelectedEditors,{args:[0,Wt],checker:lr}]]))}destroy(){Er(this,Yr,no).call(this),Er(this,qr,qo).call(this),this._eventBus._off("editingaction",zt(this,wr)),this._eventBus._off("pagechanging",zt(this,hr)),this._eventBus._off("scalechanging",zt(this,Ir)),this._eventBus._off("rotationchanging",zt(this,Jr));for(const Yt of zt(this,Ft).values())Yt.destroy();zt(this,Ft).clear(),zt(this,Dt).clear(),zt(this,ir).clear(),jr(this,Pt,null),zt(this,Gt).clear(),zt(this,Bt).destroy(),zt(this,Ot).destroy()}get hcmFilter(){return(0,nt.shadow)(this,"hcmFilter",zt(this,Zt)?zt(this,Xt).addHCMFilter(zt(this,Zt).foreground,zt(this,Zt).background):"none")}get direction(){return(0,nt.shadow)(this,"direction",getComputedStyle(zt(this,Cr)).direction)}editAltText(Yt){var lr;(lr=zt(this,Ot))==null||lr.editAltText(this,Yt)}onPageChanging({pageNumber:Yt}){jr(this,qt,Yt-1)}focusMainContainer(){zt(this,Cr).focus()}findParent(Yt,lr){for(const ur of zt(this,Ft).values()){const{x:Wt,y:rr,width:tr,height:nr}=ur.div.getBoundingClientRect();if(Yt>=Wt&&Yt<=Wt+tr&&lr>=rr&&lr<=rr+nr)return ur}return null}disableUserSelect(Yt=!1){zt(this,Tr).classList.toggle("noUserSelect",Yt)}addShouldRescale(Yt){zt(this,ir).add(Yt)}removeShouldRescale(Yt){zt(this,ir).delete(Yt)}onScaleChanging({scale:Yt}){this.commitOrRemove(),this.viewParameters.realScale=Yt*at.PixelsPerInch.PDF_TO_CSS_UNITS;for(const lr of zt(this,ir))lr.onScaleChanging()}onRotationChanging({pagesRotation:Yt}){this.commitOrRemove(),this.viewParameters.rotation=Yt}addToAnnotationStorage(Yt){!Yt.isEmpty()&&zt(this,It)&&!zt(this,It).has(Yt.id)&&zt(this,It).setValue(Yt.id,Yt)}blur(){if(!this.hasSelection)return;const{activeElement:Yt}=document;for(const lr of zt(this,Gt))if(lr.div.contains(Yt)){jr(this,Mt,[lr,Yt]),lr._focusEventsAllowed=!1;break}}focus(){if(!zt(this,Mt))return;const[Yt,lr]=zt(this,Mt);jr(this,Mt,null),lr.addEventListener("focusin",()=>{Yt._focusEventsAllowed=!0},{once:!0}),lr.focus()}addEditListeners(){Er(this,Ur,Xo).call(this),Er(this,nn,Yo).call(this)}removeEditListeners(){Er(this,Yr,no).call(this),Er(this,Or,Zo).call(this)}copy(Yt){var ur;if(Yt.preventDefault(),(ur=zt(this,Pt))==null||ur.commitOrRemove(),!this.hasSelection)return;const lr=[];for(const Wt of zt(this,Gt)){const rr=Wt.serialize(!0);rr&&lr.push(rr)}lr.length!==0&&Yt.clipboardData.setData("application/pdfjs",JSON.stringify(lr))}cut(Yt){this.copy(Yt),this.delete()}paste(Yt){Yt.preventDefault();const{clipboardData:lr}=Yt;for(const rr of lr.items)for(const tr of zt(this,Qt))if(tr.isHandlingMimeForPasting(rr.type)){tr.paste(rr,this.currentLayer);return}let ur=lr.getData("application/pdfjs");if(!ur)return;try{ur=JSON.parse(ur)}catch(rr){(0,nt.warn)(`paste: "${rr.message}".`);return}if(!Array.isArray(ur))return;this.unselectAll();const Wt=this.currentLayer;try{const rr=[];for(const sr of ur){const cr=Wt.deserialize(sr);if(!cr)return;rr.push(cr)}const tr=()=>{for(const sr of rr)Er(this,en,Jo).call(this,sr);Er(this,Hr,Qo).call(this,rr)},nr=()=>{for(const sr of rr)sr.remove()};this.addCommands({cmd:tr,undo:nr,mustExec:!0})}catch(rr){(0,nt.warn)(`paste: "${rr.message}".`)}}keydown(Yt){var lr;(lr=this.getActive())!=null&&lr.shouldGetKeyboardEvents()||un._keyboardManager.exec(this,Yt)}onEditingAction(Yt){["undo","redo","delete","selectAll"].includes(Yt.name)&&this[Yt.name]()}setEditingState(Yt){Yt?(Er(this,Dr,Mu).call(this),Er(this,Ur,Xo).call(this),Er(this,nn,Yo).call(this),Er(this,yr,Vn).call(this,{isEditing:zt(this,Vt)!==nt.AnnotationEditorType.NONE,isEmpty:Er(this,pn,Ds).call(this),hasSomethingToUndo:zt(this,Bt).hasSomethingToUndo(),hasSomethingToRedo:zt(this,Bt).hasSomethingToRedo(),hasSelectedEditor:!1})):(Er(this,qr,qo).call(this),Er(this,Yr,no).call(this),Er(this,Or,Zo).call(this),Er(this,yr,Vn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Yt){if(!zt(this,Qt)){jr(this,Qt,Yt);for(const lr of zt(this,Qt))Er(this,zr,js).call(this,lr.defaultPropertiesToUpdate)}}getId(){return zt(this,Lt).getId()}get currentLayer(){return zt(this,Ft).get(zt(this,qt))}getLayer(Yt){return zt(this,Ft).get(Yt)}get currentPageIndex(){return zt(this,qt)}addLayer(Yt){zt(this,Ft).set(Yt.pageIndex,Yt),zt(this,jt)?Yt.enable():Yt.disable()}removeLayer(Yt){zt(this,Ft).delete(Yt.pageIndex)}updateMode(Yt,lr=null){if(zt(this,Vt)!==Yt){if(jr(this,Vt,Yt),Yt===nt.AnnotationEditorType.NONE){this.setEditingState(!1),Er(this,Xr,$u).call(this);return}this.setEditingState(!0),Er(this,wn,Iu).call(this),this.unselectAll();for(const ur of zt(this,Ft).values())ur.updateMode(Yt);if(lr){for(const ur of zt(this,Dt).values())if(ur.annotationElementId===lr){this.setSelected(ur),ur.enterInEditMode();break}}}}updateToolbar(Yt){Yt!==zt(this,Vt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Yt})}updateParams(Yt,lr){if(zt(this,Qt)){if(Yt===nt.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Yt);return}for(const ur of zt(this,Gt))ur.updateParams(Yt,lr);for(const ur of zt(this,Qt))ur.updateDefaultParams(Yt,lr)}}enableWaiting(Yt=!1){if(zt(this,Nt)!==Yt){jr(this,Nt,Yt);for(const lr of zt(this,Ft).values())Yt?lr.disableClick():lr.enableClick(),lr.div.classList.toggle("waiting",Yt)}}getEditors(Yt){const lr=[];for(const ur of zt(this,Dt).values())ur.pageIndex===Yt&&lr.push(ur);return lr}getEditor(Yt){return zt(this,Dt).get(Yt)}addEditor(Yt){zt(this,Dt).set(Yt.id,Yt)}removeEditor(Yt){var lr;zt(this,Dt).delete(Yt.id),this.unselect(Yt),(!Yt.annotationElementId||!zt(this,Ut).has(Yt.annotationElementId))&&((lr=zt(this,It))==null||lr.remove(Yt.id))}addDeletedAnnotationElement(Yt){zt(this,Ut).add(Yt.annotationElementId),Yt.deleted=!0}isDeletedAnnotationElement(Yt){return zt(this,Ut).has(Yt)}removeDeletedAnnotationElement(Yt){zt(this,Ut).delete(Yt.annotationElementId),Yt.deleted=!1}setActiveEditor(Yt){zt(this,Pt)!==Yt&&(jr(this,Pt,Yt),Yt&&Er(this,zr,js).call(this,Yt.propertiesToUpdate))}toggleSelected(Yt){if(zt(this,Gt).has(Yt)){zt(this,Gt).delete(Yt),Yt.unselect(),Er(this,yr,Vn).call(this,{hasSelectedEditor:this.hasSelection});return}zt(this,Gt).add(Yt),Yt.select(),Er(this,zr,js).call(this,Yt.propertiesToUpdate),Er(this,yr,Vn).call(this,{hasSelectedEditor:!0})}setSelected(Yt){for(const lr of zt(this,Gt))lr!==Yt&&lr.unselect();zt(this,Gt).clear(),zt(this,Gt).add(Yt),Yt.select(),Er(this,zr,js).call(this,Yt.propertiesToUpdate),Er(this,yr,Vn).call(this,{hasSelectedEditor:!0})}isSelected(Yt){return zt(this,Gt).has(Yt)}unselect(Yt){Yt.unselect(),zt(this,Gt).delete(Yt),Er(this,yr,Vn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return zt(this,Gt).size!==0}undo(){zt(this,Bt).undo(),Er(this,yr,Vn).call(this,{hasSomethingToUndo:zt(this,Bt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Er(this,pn,Ds).call(this)})}redo(){zt(this,Bt).redo(),Er(this,yr,Vn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:zt(this,Bt).hasSomethingToRedo(),isEmpty:Er(this,pn,Ds).call(this)})}addCommands(Yt){zt(this,Bt).add(Yt),Er(this,yr,Vn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Er(this,pn,Ds).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Yt=[...zt(this,Gt)],lr=()=>{for(const Wt of Yt)Wt.remove()},ur=()=>{for(const Wt of Yt)Er(this,en,Jo).call(this,Wt)};this.addCommands({cmd:lr,undo:ur,mustExec:!0})}commitOrRemove(){var Yt;(Yt=zt(this,Pt))==null||Yt.commitOrRemove()}hasSomethingToControl(){return zt(this,Pt)||this.hasSelection}selectAll(){for(const Yt of zt(this,Gt))Yt.commit();Er(this,Hr,Qo).call(this,zt(this,Dt).values())}unselectAll(){if(zt(this,Pt)){zt(this,Pt).commitOrRemove();return}if(this.hasSelection){for(const Yt of zt(this,Gt))Yt.unselect();zt(this,Gt).clear(),Er(this,yr,Vn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Yt,lr,ur=!1){if(ur||this.commitOrRemove(),!this.hasSelection)return;zt(this,Zr)[0]+=Yt,zt(this,Zr)[1]+=lr;const[Wt,rr]=zt(this,Zr),tr=[...zt(this,Gt)],nr=1e3;zt(this,Fr)&&clearTimeout(zt(this,Fr)),jr(this,Fr,setTimeout(()=>{jr(this,Fr,null),zt(this,Zr)[0]=zt(this,Zr)[1]=0,this.addCommands({cmd:()=>{for(const sr of tr)zt(this,Dt).has(sr.id)&&sr.translateInPage(Wt,rr)},undo:()=>{for(const sr of tr)zt(this,Dt).has(sr.id)&&sr.translateInPage(-Wt,-rr)},mustExec:!1})},nr));for(const sr of tr)sr.translateInPage(Yt,lr)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),jr(this,Ht,new Map);for(const Yt of zt(this,Gt))zt(this,Ht).set(Yt,{savedX:Yt.x,savedY:Yt.y,savedPageIndex:Yt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!zt(this,Ht))return!1;this.disableUserSelect(!1);const Yt=zt(this,Ht);jr(this,Ht,null);let lr=!1;for(const[{x:Wt,y:rr,pageIndex:tr},nr]of Yt)nr.newX=Wt,nr.newY=rr,nr.newPageIndex=tr,lr||(lr=Wt!==nr.savedX||rr!==nr.savedY||tr!==nr.savedPageIndex);if(!lr)return!1;const ur=(Wt,rr,tr,nr)=>{if(zt(this,Dt).has(Wt.id)){const sr=zt(this,Ft).get(nr);sr?Wt._setParentAndPosition(sr,rr,tr):(Wt.pageIndex=nr,Wt.x=rr,Wt.y=tr)}};return this.addCommands({cmd:()=>{for(const[Wt,{newX:rr,newY:tr,newPageIndex:nr}]of Yt)ur(Wt,rr,tr,nr)},undo:()=>{for(const[Wt,{savedX:rr,savedY:tr,savedPageIndex:nr}]of Yt)ur(Wt,rr,tr,nr)},mustExec:!0}),!0}dragSelectedEditors(Yt,lr){if(zt(this,Ht))for(const ur of zt(this,Ht).keys())ur.drag(Yt,lr)}rebuild(Yt){if(Yt.parent===null){const lr=this.getLayer(Yt.pageIndex);lr?(lr.changeParent(Yt),lr.addOrRebuild(Yt)):(this.addEditor(Yt),this.addToAnnotationStorage(Yt),Yt.rebuild())}else Yt.parent.addOrRebuild(Yt)}isActive(Yt){return zt(this,Pt)===Yt}getActive(){return zt(this,Pt)}getMode(){return zt(this,Vt)}get imageManager(){return(0,nt.shadow)(this,"imageManager",new lt)}};Pt=new WeakMap,Dt=new WeakMap,Ft=new WeakMap,Ot=new WeakMap,It=new WeakMap,Bt=new WeakMap,qt=new WeakMap,Ut=new WeakMap,Ht=new WeakMap,Qt=new WeakMap,ir=new WeakMap,Xt=new WeakMap,Lt=new WeakMap,jt=new WeakMap,Nt=new WeakMap,Mt=new WeakMap,Vt=new WeakMap,Gt=new WeakMap,Zt=new WeakMap,er=new WeakMap,ar=new WeakMap,Kt=new WeakMap,pr=new WeakMap,fr=new WeakMap,vr=new WeakMap,wr=new WeakMap,hr=new WeakMap,Ir=new WeakMap,Jr=new WeakMap,Br=new WeakMap,Zr=new WeakMap,Fr=new WeakMap,Cr=new WeakMap,Tr=new WeakMap,Dr=new WeakSet,Mu=function(){window.addEventListener("focus",zt(this,ar)),window.addEventListener("blur",zt(this,er))},qr=new WeakSet,qo=function(){window.removeEventListener("focus",zt(this,ar)),window.removeEventListener("blur",zt(this,er))},Ur=new WeakSet,Xo=function(){window.addEventListener("keydown",zt(this,vr),{capture:!0})},Yr=new WeakSet,no=function(){window.removeEventListener("keydown",zt(this,vr),{capture:!0})},nn=new WeakSet,Yo=function(){document.addEventListener("copy",zt(this,Kt)),document.addEventListener("cut",zt(this,pr)),document.addEventListener("paste",zt(this,fr))},Or=new WeakSet,Zo=function(){document.removeEventListener("copy",zt(this,Kt)),document.removeEventListener("cut",zt(this,pr)),document.removeEventListener("paste",zt(this,fr))},yr=new WeakSet,Vn=function(Yt){Object.entries(Yt).some(([ur,Wt])=>zt(this,Br)[ur]!==Wt)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(zt(this,Br),Yt)})},zr=new WeakSet,js=function(Yt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Yt})},wn=new WeakSet,Iu=function(){if(!zt(this,jt)){jr(this,jt,!0);for(const Yt of zt(this,Ft).values())Yt.enable()}},Xr=new WeakSet,$u=function(){if(this.unselectAll(),zt(this,jt)){jr(this,jt,!1);for(const Yt of zt(this,Ft).values())Yt.disable()}},en=new WeakSet,Jo=function(Yt){const lr=zt(this,Ft).get(Yt.pageIndex);lr?lr.addOrRebuild(Yt):this.addEditor(Yt)},pn=new WeakSet,Ds=function(){if(zt(this,Dt).size===0)return!0;if(zt(this,Dt).size===1)for(const Yt of zt(this,Dt).values())return Yt.isEmpty();return!1},Hr=new WeakSet,Qo=function(Yt){zt(this,Gt).clear();for(const lr of Yt)lr.isEmpty()||(zt(this,Gt).add(lr),lr.select());Er(this,yr,Vn).call(this,{hasSelectedEditor:!0})},tn(un,"TRANSLATE_SMALL",1),tn(un,"TRANSLATE_BIG",10);let ft=un;tt.AnnotationEditorUIManager=ft},(et,tt,rt)=>{var qt,Ut,Ht,Qt,ir,Xt,Lt,jt,Nt,Mt,Vt,Gt,gs,er,xs,Kt,xl,fr,ao,wr,io,Ir,Os,Br,Ns;Object.defineProperty(tt,"__esModule",{value:!0}),tt.StatTimer=tt.RenderingCancelledException=tt.PixelsPerInch=tt.PageViewport=tt.PDFDateString=tt.DOMStandardFontDataFactory=tt.DOMSVGFactory=tt.DOMFilterFactory=tt.DOMCanvasFactory=tt.DOMCMapReaderFactory=void 0,tt.deprecated=Tt,tt.getColorValues=Dt,tt.getCurrentTransform=Ft,tt.getCurrentTransformInverse=Ot,tt.getFilenameFromUrl=vt,tt.getPdfFilenameFromUrl=_t,tt.getRGB=Pt,tt.getXfaPageViewport=kt,tt.isDataScheme=mt,tt.isPdfFile=xt,tt.isValidFetchUrl=St,tt.loadScript=Et,tt.noContextMenu=bt,tt.setLayerDimensions=It;var nt=rt(7),at=rt(1);const it="http://www.w3.org/2000/svg",Bt=class Bt{};tn(Bt,"CSS",96),tn(Bt,"PDF",72),tn(Bt,"PDF_TO_CSS_UNITS",Bt.CSS/Bt.PDF);let st=Bt;tt.PixelsPerInch=st;class ot extends nt.BaseFilterFactory{constructor({docId:Tr,ownerDocument:Dr=globalThis.document}={}){super();mr(this,Gt);mr(this,er);mr(this,Kt);mr(this,fr);mr(this,wr);mr(this,Ir);mr(this,Br);mr(this,qt,void 0);mr(this,Ut,void 0);mr(this,Ht,void 0);mr(this,Qt,void 0);mr(this,ir,void 0);mr(this,Xt,void 0);mr(this,Lt,void 0);mr(this,jt,void 0);mr(this,Nt,void 0);mr(this,Mt,void 0);mr(this,Vt,0);jr(this,Ht,Tr),jr(this,Qt,Dr)}addFilter(Tr){if(!Tr)return"none";let Dr=zt(this,Gt,gs).get(Tr);if(Dr)return Dr;let Gr,qr,sn,Ur;if(Tr.length===1){const nn=Tr[0],hn=new Array(256);for(let Or=0;Or<256;Or++)hn[Or]=nn[Or]/255;Ur=Gr=qr=sn=hn.join(",")}else{const[nn,hn,Or]=Tr,Rr=new Array(256),yr=new Array(256),Vr=new Array(256);for(let zr=0;zr<256;zr++)Rr[zr]=nn[zr]/255,yr[zr]=hn[zr]/255,Vr[zr]=Or[zr]/255;Gr=Rr.join(","),qr=yr.join(","),sn=Vr.join(","),Ur=`${Gr}${qr}${sn}`}if(Dr=zt(this,Gt,gs).get(Ur),Dr)return zt(this,Gt,gs).set(Tr,Dr),Dr;const $r=`g_${zt(this,Ht)}_transfer_map_${ks(this,Vt)._++}`,Yr=`url(#${$r})`;zt(this,Gt,gs).set(Tr,Yr),zt(this,Gt,gs).set(Ur,Yr);const rn=Er(this,fr,ao).call(this,$r);return Er(this,Ir,Os).call(this,Gr,qr,sn,rn),Yr}addHCMFilter(Tr,Dr){var hn;const Gr=`${Tr}-${Dr}`;if(zt(this,Xt)===Gr)return zt(this,Lt);if(jr(this,Xt,Gr),jr(this,Lt,"none"),(hn=zt(this,ir))==null||hn.remove(),!Tr||!Dr)return zt(this,Lt);const qr=Er(this,Br,Ns).call(this,Tr);Tr=at.Util.makeHexColor(...qr);const sn=Er(this,Br,Ns).call(this,Dr);if(Dr=at.Util.makeHexColor(...sn),zt(this,er,xs).style.color="",Tr==="#000000"&&Dr==="#ffffff"||Tr===Dr)return zt(this,Lt);const Ur=new Array(256);for(let Or=0;Or<=255;Or++){const Rr=Or/255;Ur[Or]=Rr<=.03928?Rr/12.92:((Rr+.055)/1.055)**2.4}const $r=Ur.join(","),Yr=`g_${zt(this,Ht)}_hcm_filter`,rn=jr(this,jt,Er(this,fr,ao).call(this,Yr));Er(this,Ir,Os).call(this,$r,$r,$r,rn),Er(this,Kt,xl).call(this,rn);const nn=(Or,Rr)=>{const yr=qr[Or]/255,Vr=sn[Or]/255,zr=new Array(Rr+1);for(let Tn=0;Tn<=Rr;Tn++)zr[Tn]=yr+Tn/Rr*(Vr-yr);return zr.join(",")};return Er(this,Ir,Os).call(this,nn(0,5),nn(1,5),nn(2,5),rn),jr(this,Lt,`url(#${Yr})`),zt(this,Lt)}addHighlightHCMFilter(Tr,Dr,Gr,qr){var Vr;const sn=`${Tr}-${Dr}-${Gr}-${qr}`;if(zt(this,Nt)===sn)return zt(this,Mt);if(jr(this,Nt,sn),jr(this,Mt,"none"),(Vr=zt(this,jt))==null||Vr.remove(),!Tr||!Dr)return zt(this,Mt);const[Ur,$r]=[Tr,Dr].map(Er(this,Br,Ns).bind(this));let Yr=Math.round(.2126*Ur[0]+.7152*Ur[1]+.0722*Ur[2]),rn=Math.round(.2126*$r[0]+.7152*$r[1]+.0722*$r[2]),[nn,hn]=[Gr,qr].map(Er(this,Br,Ns).bind(this));rn<Yr&&([Yr,rn,nn,hn]=[rn,Yr,hn,nn]),zt(this,er,xs).style.color="";const Or=(zr,Tn,wn)=>{const Pr=new Array(256),Xr=(rn-Yr)/wn,dn=zr/255,en=(Tn-zr)/(255*wn);let fn=0;for(let pn=0;pn<=wn;pn++){const yn=Math.round(Yr+pn*Xr),Hr=dn+pn*en;for(let xn=fn;xn<=yn;xn++)Pr[xn]=Hr;fn=yn+1}for(let pn=fn;pn<256;pn++)Pr[pn]=Pr[fn-1];return Pr.join(",")},Rr=`g_${zt(this,Ht)}_hcm_highlight_filter`,yr=jr(this,jt,Er(this,fr,ao).call(this,Rr));return Er(this,Kt,xl).call(this,yr),Er(this,Ir,Os).call(this,Or(nn[0],hn[0],5),Or(nn[1],hn[1],5),Or(nn[2],hn[2],5),yr),jr(this,Mt,`url(#${Rr})`),zt(this,Mt)}destroy(Tr=!1){Tr&&(zt(this,Lt)||zt(this,Mt))||(zt(this,Ut)&&(zt(this,Ut).parentNode.parentNode.remove(),jr(this,Ut,null)),zt(this,qt)&&(zt(this,qt).clear(),jr(this,qt,null)),jr(this,Vt,0))}}qt=new WeakMap,Ut=new WeakMap,Ht=new WeakMap,Qt=new WeakMap,ir=new WeakMap,Xt=new WeakMap,Lt=new WeakMap,jt=new WeakMap,Nt=new WeakMap,Mt=new WeakMap,Vt=new WeakMap,Gt=new WeakSet,gs=function(){return zt(this,qt)||jr(this,qt,new Map)},er=new WeakSet,xs=function(){if(!zt(this,Ut)){const Tr=zt(this,Qt).createElement("div"),{style:Dr}=Tr;Dr.visibility="hidden",Dr.contain="strict",Dr.width=Dr.height=0,Dr.position="absolute",Dr.top=Dr.left=0,Dr.zIndex=-1;const Gr=zt(this,Qt).createElementNS(it,"svg");Gr.setAttribute("width",0),Gr.setAttribute("height",0),jr(this,Ut,zt(this,Qt).createElementNS(it,"defs")),Tr.append(Gr),Gr.append(zt(this,Ut)),zt(this,Qt).body.append(Tr)}return zt(this,Ut)},Kt=new WeakSet,xl=function(Tr){const Dr=zt(this,Qt).createElementNS(it,"feColorMatrix");Dr.setAttribute("type","matrix"),Dr.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Tr.append(Dr)},fr=new WeakSet,ao=function(Tr){const Dr=zt(this,Qt).createElementNS(it,"filter");return Dr.setAttribute("color-interpolation-filters","sRGB"),Dr.setAttribute("id",Tr),zt(this,er,xs).append(Dr),Dr},wr=new WeakSet,io=function(Tr,Dr,Gr){const qr=zt(this,Qt).createElementNS(it,Dr);qr.setAttribute("type","discrete"),qr.setAttribute("tableValues",Gr),Tr.append(qr)},Ir=new WeakSet,Os=function(Tr,Dr,Gr,qr){const sn=zt(this,Qt).createElementNS(it,"feComponentTransfer");qr.append(sn),Er(this,wr,io).call(this,sn,"feFuncR",Tr),Er(this,wr,io).call(this,sn,"feFuncG",Dr),Er(this,wr,io).call(this,sn,"feFuncB",Gr)},Br=new WeakSet,Ns=function(Tr){return zt(this,er,xs).style.color=Tr,Pt(getComputedStyle(zt(this,er,xs)).getPropertyValue("color"))},tt.DOMFilterFactory=ot;class lt extends nt.BaseCanvasFactory{constructor({ownerDocument:Cr=globalThis.document}={}){super(),this._document=Cr}_createCanvas(Cr,Tr){const Dr=this._document.createElement("canvas");return Dr.width=Cr,Dr.height=Tr,Dr}}tt.DOMCanvasFactory=lt;async function ct(Fr,Cr=!1){if(St(Fr,document.baseURI)){const Tr=await fetch(Fr);if(!Tr.ok)throw new Error(Tr.statusText);return Cr?new Uint8Array(await Tr.arrayBuffer()):(0,at.stringToBytes)(await Tr.text())}return new Promise((Tr,Dr)=>{const Gr=new XMLHttpRequest;Gr.open("GET",Fr,!0),Cr&&(Gr.responseType="arraybuffer"),Gr.onreadystatechange=()=>{if(Gr.readyState===XMLHttpRequest.DONE){if(Gr.status===200||Gr.status===0){let qr;if(Cr&&Gr.response?qr=new Uint8Array(Gr.response):!Cr&&Gr.responseText&&(qr=(0,at.stringToBytes)(Gr.responseText)),qr){Tr(qr);return}}Dr(new Error(Gr.statusText))}},Gr.send(null)})}class ut extends nt.BaseCMapReaderFactory{_fetchData(Cr,Tr){return ct(Cr,this.isCompressed).then(Dr=>({cMapData:Dr,compressionType:Tr}))}}tt.DOMCMapReaderFactory=ut;class dt extends nt.BaseStandardFontDataFactory{_fetchData(Cr){return ct(Cr,!0)}}tt.DOMStandardFontDataFactory=dt;class ft extends nt.BaseSVGFactory{_createSVG(Cr){return document.createElementNS(it,Cr)}}tt.DOMSVGFactory=ft;class ht{constructor({viewBox:Cr,scale:Tr,rotation:Dr,offsetX:Gr=0,offsetY:qr=0,dontFlip:sn=!1}){this.viewBox=Cr,this.scale=Tr,this.rotation=Dr,this.offsetX=Gr,this.offsetY=qr;const Ur=(Cr[2]+Cr[0])/2,$r=(Cr[3]+Cr[1])/2;let Yr,rn,nn,hn;switch(Dr%=360,Dr<0&&(Dr+=360),Dr){case 180:Yr=-1,rn=0,nn=0,hn=1;break;case 90:Yr=0,rn=1,nn=1,hn=0;break;case 270:Yr=0,rn=-1,nn=-1,hn=0;break;case 0:Yr=1,rn=0,nn=0,hn=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}sn&&(nn=-nn,hn=-hn);let Or,Rr,yr,Vr;Yr===0?(Or=Math.abs($r-Cr[1])*Tr+Gr,Rr=Math.abs(Ur-Cr[0])*Tr+qr,yr=(Cr[3]-Cr[1])*Tr,Vr=(Cr[2]-Cr[0])*Tr):(Or=Math.abs(Ur-Cr[0])*Tr+Gr,Rr=Math.abs($r-Cr[1])*Tr+qr,yr=(Cr[2]-Cr[0])*Tr,Vr=(Cr[3]-Cr[1])*Tr),this.transform=[Yr*Tr,rn*Tr,nn*Tr,hn*Tr,Or-Yr*Tr*Ur-nn*Tr*$r,Rr-rn*Tr*Ur-hn*Tr*$r],this.width=yr,this.height=Vr}get rawDims(){const{viewBox:Cr}=this;return(0,at.shadow)(this,"rawDims",{pageWidth:Cr[2]-Cr[0],pageHeight:Cr[3]-Cr[1],pageX:Cr[0],pageY:Cr[1]})}clone({scale:Cr=this.scale,rotation:Tr=this.rotation,offsetX:Dr=this.offsetX,offsetY:Gr=this.offsetY,dontFlip:qr=!1}={}){return new ht({viewBox:this.viewBox.slice(),scale:Cr,rotation:Tr,offsetX:Dr,offsetY:Gr,dontFlip:qr})}convertToViewportPoint(Cr,Tr){return at.Util.applyTransform([Cr,Tr],this.transform)}convertToViewportRectangle(Cr){const Tr=at.Util.applyTransform([Cr[0],Cr[1]],this.transform),Dr=at.Util.applyTransform([Cr[2],Cr[3]],this.transform);return[Tr[0],Tr[1],Dr[0],Dr[1]]}convertToPdfPoint(Cr,Tr){return at.Util.applyInverseTransform([Cr,Tr],this.transform)}}tt.PageViewport=ht;class gt extends at.BaseException{constructor(Cr,Tr=0){super(Cr,"RenderingCancelledException"),this.extraDelay=Tr}}tt.RenderingCancelledException=gt;function mt(Fr){const Cr=Fr.length;let Tr=0;for(;Tr<Cr&&Fr[Tr].trim()==="";)Tr++;return Fr.substring(Tr,Tr+5).toLowerCase()==="data:"}function xt(Fr){return typeof Fr=="string"&&/\.pdf$/i.test(Fr)}function vt(Fr,Cr=!1){return Cr||([Fr]=Fr.split(/[#?]/,1)),Fr.substring(Fr.lastIndexOf("/")+1)}function _t(Fr,Cr="document.pdf"){if(typeof Fr!="string")return Cr;if(mt(Fr))return(0,at.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Cr;const Tr=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Dr=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Gr=Tr.exec(Fr);let qr=Dr.exec(Gr[1])||Dr.exec(Gr[2])||Dr.exec(Gr[3]);if(qr&&(qr=qr[0],qr.includes("%")))try{qr=Dr.exec(decodeURIComponent(qr))[0]}catch{}return qr||Cr}class yt{constructor(){tn(this,"started",Object.create(null));tn(this,"times",[])}time(Cr){Cr in this.started&&(0,at.warn)(`Timer is already running for ${Cr}`),this.started[Cr]=Date.now()}timeEnd(Cr){Cr in this.started||(0,at.warn)(`Timer has not been started for ${Cr}`),this.times.push({name:Cr,start:this.started[Cr],end:Date.now()}),delete this.started[Cr]}toString(){const Cr=[];let Tr=0;for(const{name:Dr}of this.times)Tr=Math.max(Dr.length,Tr);for(const{name:Dr,start:Gr,end:qr}of this.times)Cr.push(`${Dr.padEnd(Tr)} ${qr-Gr}ms
`);return Cr.join("")}}tt.StatTimer=yt;function St(Fr,Cr){try{const{protocol:Tr}=Cr?new URL(Fr,Cr):new URL(Fr);return Tr==="http:"||Tr==="https:"}catch{return!1}}function bt(Fr){Fr.preventDefault()}function Et(Fr,Cr=!1){return new Promise((Tr,Dr)=>{const Gr=document.createElement("script");Gr.src=Fr,Gr.onload=function(qr){Cr&&Gr.remove(),Tr(qr)},Gr.onerror=function(){Dr(new Error(`Cannot load script at: ${Gr.src}`))},(document.head||document.documentElement).append(Gr)})}function Tt(Fr){console.log("Deprecated API usage: "+Fr)}let At;class Ct{static toDateObject(Cr){if(!Cr||typeof Cr!="string")return null;At||(At=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Tr=At.exec(Cr);if(!Tr)return null;const Dr=parseInt(Tr[1],10);let Gr=parseInt(Tr[2],10);Gr=Gr>=1&&Gr<=12?Gr-1:0;let qr=parseInt(Tr[3],10);qr=qr>=1&&qr<=31?qr:1;let sn=parseInt(Tr[4],10);sn=sn>=0&&sn<=23?sn:0;let Ur=parseInt(Tr[5],10);Ur=Ur>=0&&Ur<=59?Ur:0;let $r=parseInt(Tr[6],10);$r=$r>=0&&$r<=59?$r:0;const Yr=Tr[7]||"Z";let rn=parseInt(Tr[8],10);rn=rn>=0&&rn<=23?rn:0;let nn=parseInt(Tr[9],10)||0;return nn=nn>=0&&nn<=59?nn:0,Yr==="-"?(sn+=rn,Ur+=nn):Yr==="+"&&(sn-=rn,Ur-=nn),new Date(Date.UTC(Dr,Gr,qr,sn,Ur,$r))}}tt.PDFDateString=Ct;function kt(Fr,{scale:Cr=1,rotation:Tr=0}){const{width:Dr,height:Gr}=Fr.attributes.style,qr=[0,0,parseInt(Dr),parseInt(Gr)];return new ht({viewBox:qr,scale:Cr,rotation:Tr})}function Pt(Fr){if(Fr.startsWith("#")){const Cr=parseInt(Fr.slice(1),16);return[(Cr&16711680)>>16,(Cr&65280)>>8,Cr&255]}return Fr.startsWith("rgb(")?Fr.slice(4,-1).split(",").map(Cr=>parseInt(Cr)):Fr.startsWith("rgba(")?Fr.slice(5,-1).split(",").map(Cr=>parseInt(Cr)).slice(0,3):((0,at.warn)(`Not a valid color format: "${Fr}"`),[0,0,0])}function Dt(Fr){const Cr=document.createElement("span");Cr.style.visibility="hidden",document.body.append(Cr);for(const Tr of Fr.keys()){Cr.style.color=Tr;const Dr=window.getComputedStyle(Cr).color;Fr.set(Tr,Pt(Dr))}Cr.remove()}function Ft(Fr){const{a:Cr,b:Tr,c:Dr,d:Gr,e:qr,f:sn}=Fr.getTransform();return[Cr,Tr,Dr,Gr,qr,sn]}function Ot(Fr){const{a:Cr,b:Tr,c:Dr,d:Gr,e:qr,f:sn}=Fr.getTransform().invertSelf();return[Cr,Tr,Dr,Gr,qr,sn]}function It(Fr,Cr,Tr=!1,Dr=!0){if(Cr instanceof ht){const{pageWidth:Gr,pageHeight:qr}=Cr.rawDims,{style:sn}=Fr,Ur=at.FeatureTest.isCSSRoundSupported,$r=`var(--scale-factor) * ${Gr}px`,Yr=`var(--scale-factor) * ${qr}px`,rn=Ur?`round(${$r}, 1px)`:`calc(${$r})`,nn=Ur?`round(${Yr}, 1px)`:`calc(${Yr})`;!Tr||Cr.rotation%180===0?(sn.width=rn,sn.height=nn):(sn.width=nn,sn.height=rn)}Dr&&Fr.setAttribute("data-main-rotation",Cr.rotation)}},(et,tt,rt)=>{Object.defineProperty(tt,"__esModule",{value:!0}),tt.BaseStandardFontDataFactory=tt.BaseSVGFactory=tt.BaseFilterFactory=tt.BaseCanvasFactory=tt.BaseCMapReaderFactory=void 0;var nt=rt(1);class at{constructor(){this.constructor===at&&(0,nt.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(ut){return"none"}addHCMFilter(ut,dt){return"none"}addHighlightHCMFilter(ut,dt,ft,ht){return"none"}destroy(ut=!1){}}tt.BaseFilterFactory=at;class it{constructor(){this.constructor===it&&(0,nt.unreachable)("Cannot initialize BaseCanvasFactory.")}create(ut,dt){if(ut<=0||dt<=0)throw new Error("Invalid canvas size");const ft=this._createCanvas(ut,dt);return{canvas:ft,context:ft.getContext("2d")}}reset(ut,dt,ft){if(!ut.canvas)throw new Error("Canvas is not specified");if(dt<=0||ft<=0)throw new Error("Invalid canvas size");ut.canvas.width=dt,ut.canvas.height=ft}destroy(ut){if(!ut.canvas)throw new Error("Canvas is not specified");ut.canvas.width=0,ut.canvas.height=0,ut.canvas=null,ut.context=null}_createCanvas(ut,dt){(0,nt.unreachable)("Abstract method `_createCanvas` called.")}}tt.BaseCanvasFactory=it;class st{constructor({baseUrl:ut=null,isCompressed:dt=!0}){this.constructor===st&&(0,nt.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=ut,this.isCompressed=dt}async fetch({name:ut}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!ut)throw new Error("CMap name must be specified.");const dt=this.baseUrl+ut+(this.isCompressed?".bcmap":""),ft=this.isCompressed?nt.CMapCompressionType.BINARY:nt.CMapCompressionType.NONE;return this._fetchData(dt,ft).catch(ht=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${dt}`)})}_fetchData(ut,dt){(0,nt.unreachable)("Abstract method `_fetchData` called.")}}tt.BaseCMapReaderFactory=st;class ot{constructor({baseUrl:ut=null}){this.constructor===ot&&(0,nt.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=ut}async fetch({filename:ut}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!ut)throw new Error("Font filename must be specified.");const dt=`${this.baseUrl}${ut}`;return this._fetchData(dt).catch(ft=>{throw new Error(`Unable to load font data at: ${dt}`)})}_fetchData(ut){(0,nt.unreachable)("Abstract method `_fetchData` called.")}}tt.BaseStandardFontDataFactory=ot;class lt{constructor(){this.constructor===lt&&(0,nt.unreachable)("Cannot initialize BaseSVGFactory.")}create(ut,dt,ft=!1){if(ut<=0||dt<=0)throw new Error("Invalid SVG dimensions");const ht=this._createSVG("svg:svg");return ht.setAttribute("version","1.1"),ft||(ht.setAttribute("width",`${ut}px`),ht.setAttribute("height",`${dt}px`)),ht.setAttribute("preserveAspectRatio","none"),ht.setAttribute("viewBox",`0 0 ${ut} ${dt}`),ht}createElement(ut){if(typeof ut!="string")throw new Error("Invalid SVG element type");return this._createSVG(ut)}_createSVG(ut){(0,nt.unreachable)("Abstract method `_createSVG` called.")}}tt.BaseSVGFactory=lt},(et,tt,rt)=>{Object.defineProperty(tt,"__esModule",{value:!0}),tt.MurmurHash3_64=void 0;var nt=rt(1);const at=3285377520,it=4294901760,st=65535;class ot{constructor(ct){this.h1=ct?ct&4294967295:at,this.h2=ct?ct&4294967295:at}update(ct){let ut,dt;if(typeof ct=="string"){ut=new Uint8Array(ct.length*2),dt=0;for(let Tt=0,At=ct.length;Tt<At;Tt++){const Ct=ct.charCodeAt(Tt);Ct<=255?ut[dt++]=Ct:(ut[dt++]=Ct>>>8,ut[dt++]=Ct&255)}}else if((0,nt.isArrayBuffer)(ct))ut=ct.slice(),dt=ut.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ft=dt>>2,ht=dt-ft*4,gt=new Uint32Array(ut.buffer,0,ft);let mt=0,xt=0,vt=this.h1,_t=this.h2;const yt=3432918353,St=461845907,bt=yt&st,Et=St&st;for(let Tt=0;Tt<ft;Tt++)Tt&1?(mt=gt[Tt],mt=mt*yt&it|mt*bt&st,mt=mt<<15|mt>>>17,mt=mt*St&it|mt*Et&st,vt^=mt,vt=vt<<13|vt>>>19,vt=vt*5+3864292196):(xt=gt[Tt],xt=xt*yt&it|xt*bt&st,xt=xt<<15|xt>>>17,xt=xt*St&it|xt*Et&st,_t^=xt,_t=_t<<13|_t>>>19,_t=_t*5+3864292196);switch(mt=0,ht){case 3:mt^=ut[ft*4+2]<<16;case 2:mt^=ut[ft*4+1]<<8;case 1:mt^=ut[ft*4],mt=mt*yt&it|mt*bt&st,mt=mt<<15|mt>>>17,mt=mt*St&it|mt*Et&st,ft&1?vt^=mt:_t^=mt}this.h1=vt,this.h2=_t}hexdigest(){let ct=this.h1,ut=this.h2;return ct^=ut>>>1,ct=ct*3981806797&it|ct*36045&st,ut=ut*4283543511&it|((ut<<16|ct>>>16)*2950163797&it)>>>16,ct^=ut>>>1,ct=ct*444984403&it|ct*60499&st,ut=ut*3301882366&it|((ut<<16|ct>>>16)*3120437893&it)>>>16,ct^=ut>>>1,(ct>>>0).toString(16).padStart(8,"0")+(ut>>>0).toString(16).padStart(8,"0")}}tt.MurmurHash3_64=ot},(et,tt,rt)=>{var st;Object.defineProperty(tt,"__esModule",{value:!0}),tt.FontLoader=tt.FontFaceObject=void 0;var nt=rt(1);class at{constructor({ownerDocument:lt=globalThis.document,styleElement:ct=null}){mr(this,st,new Set);this._document=lt,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(lt){this.nativeFontFaces.add(lt),this._document.fonts.add(lt)}removeNativeFontFace(lt){this.nativeFontFaces.delete(lt),this._document.fonts.delete(lt)}insertRule(lt){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const ct=this.styleElement.sheet;ct.insertRule(lt,ct.cssRules.length)}clear(){for(const lt of this.nativeFontFaces)this._document.fonts.delete(lt);this.nativeFontFaces.clear(),zt(this,st).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(lt){if(!(!lt||zt(this,st).has(lt.loadedName))){if((0,nt.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:ct,src:ut,style:dt}=lt,ft=new FontFace(ct,ut,dt);this.addNativeFontFace(ft);try{await ft.load(),zt(this,st).add(ct)}catch{(0,nt.warn)(`Cannot load system font: ${lt.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ft)}return}(0,nt.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(lt){if(lt.attached||lt.missingFile&&!lt.systemFontInfo)return;if(lt.attached=!0,lt.systemFontInfo){await this.loadSystemFont(lt.systemFontInfo);return}if(this.isFontLoadingAPISupported){const ut=lt.createNativeFontFace();if(ut){this.addNativeFontFace(ut);try{await ut.loaded}catch(dt){throw(0,nt.warn)(`Failed to load font '${ut.family}': '${dt}'.`),lt.disableFontFace=!0,dt}}return}const ct=lt.createFontFaceRule();if(ct){if(this.insertRule(ct),this.isSyncFontLoadingSupported)return;await new Promise(ut=>{const dt=this._queueLoadingCallback(ut);this._prepareFontLoadEvent(lt,dt)})}}get isFontLoadingAPISupported(){var ct;const lt=!!((ct=this._document)!=null&&ct.fonts);return(0,nt.shadow)(this,"isFontLoadingAPISupported",lt)}get isSyncFontLoadingSupported(){let lt=!1;return(nt.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(lt=!0),(0,nt.shadow)(this,"isSyncFontLoadingSupported",lt)}_queueLoadingCallback(lt){function ct(){for((0,nt.assert)(!dt.done,"completeRequest() cannot be called twice."),dt.done=!0;ut.length>0&&ut[0].done;){const ft=ut.shift();setTimeout(ft.callback,0)}}const{loadingRequests:ut}=this,dt={done:!1,complete:ct,callback:lt};return ut.push(dt),dt}get _loadTestFont(){const lt=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,nt.shadow)(this,"_loadTestFont",lt)}_prepareFontLoadEvent(lt,ct){function ut(Pt,Dt){return Pt.charCodeAt(Dt)<<24|Pt.charCodeAt(Dt+1)<<16|Pt.charCodeAt(Dt+2)<<8|Pt.charCodeAt(Dt+3)&255}function dt(Pt,Dt,Ft,Ot){const It=Pt.substring(0,Dt),Bt=Pt.substring(Dt+Ft);return It+Ot+Bt}let ft,ht;const gt=this._document.createElement("canvas");gt.width=1,gt.height=1;const mt=gt.getContext("2d");let xt=0;function vt(Pt,Dt){if(++xt>30){(0,nt.warn)("Load test font never loaded."),Dt();return}if(mt.font="30px "+Pt,mt.fillText(".",0,20),mt.getImageData(0,0,1,1).data[3]>0){Dt();return}setTimeout(vt.bind(null,Pt,Dt))}const _t=`lt${Date.now()}${this.loadTestFontId++}`;let yt=this._loadTestFont;yt=dt(yt,976,_t.length,_t);const bt=16,Et=1482184792;let Tt=ut(yt,bt);for(ft=0,ht=_t.length-3;ft<ht;ft+=4)Tt=Tt-Et+ut(_t,ft)|0;ft<_t.length&&(Tt=Tt-Et+ut(_t+"XXX",ft)|0),yt=dt(yt,bt,4,(0,nt.string32)(Tt));const At=`url(data:font/opentype;base64,${btoa(yt)});`,Ct=`@font-face {font-family:"${_t}";src:${At}}`;this.insertRule(Ct);const kt=this._document.createElement("div");kt.style.visibility="hidden",kt.style.width=kt.style.height="10px",kt.style.position="absolute",kt.style.top=kt.style.left="0px";for(const Pt of[lt.loadedName,_t]){const Dt=this._document.createElement("span");Dt.textContent="Hi",Dt.style.fontFamily=Pt,kt.append(Dt)}this._document.body.append(kt),vt(_t,()=>{kt.remove(),ct.complete()})}}st=new WeakMap,tt.FontLoader=at;class it{constructor(lt,{isEvalSupported:ct=!0,disableFontFace:ut=!1,ignoreErrors:dt=!1,inspectFont:ft=null}){this.compiledGlyphs=Object.create(null);for(const ht in lt)this[ht]=lt[ht];this.isEvalSupported=ct!==!1,this.disableFontFace=ut===!0,this.ignoreErrors=dt===!0,this._inspectFont=ft}createNativeFontFace(){var ct;if(!this.data||this.disableFontFace)return null;let lt;if(!this.cssFontInfo)lt=new FontFace(this.loadedName,this.data,{});else{const ut={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(ut.style=`oblique ${this.cssFontInfo.italicAngle}deg`),lt=new FontFace(this.cssFontInfo.fontFamily,this.data,ut)}return(ct=this._inspectFont)==null||ct.call(this,this),lt}createFontFaceRule(){var dt;if(!this.data||this.disableFontFace)return null;const lt=(0,nt.bytesToString)(this.data),ct=`url(data:${this.mimetype};base64,${btoa(lt)});`;let ut;if(!this.cssFontInfo)ut=`@font-face {font-family:"${this.loadedName}";src:${ct}}`;else{let ft=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ft+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),ut=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ft}src:${ct}}`}return(dt=this._inspectFont)==null||dt.call(this,this,ct),ut}getPathGenerator(lt,ct){if(this.compiledGlyphs[ct]!==void 0)return this.compiledGlyphs[ct];let ut;try{ut=lt.get(this.loadedName+"_path_"+ct)}catch(dt){if(!this.ignoreErrors)throw dt;return(0,nt.warn)(`getPathGenerator - ignoring character: "${dt}".`),this.compiledGlyphs[ct]=function(ft,ht){}}if(this.isEvalSupported&&nt.FeatureTest.isEvalSupported){const dt=[];for(const ft of ut){const ht=ft.args!==void 0?ft.args.join(","):"";dt.push("c.",ft.cmd,"(",ht,`);
`)}return this.compiledGlyphs[ct]=new Function("c","size",dt.join(""))}return this.compiledGlyphs[ct]=function(dt,ft){for(const ht of ut)ht.cmd==="scale"&&(ht.args=[ft,-ft]),dt[ht.cmd].apply(dt,ht.args)}}}tt.FontFaceObject=it},(et,tt,rt)=>{Object.defineProperty(tt,"__esModule",{value:!0}),tt.NodeStandardFontDataFactory=tt.NodeFilterFactory=tt.NodeCanvasFactory=tt.NodeCMapReaderFactory=void 0;var nt=rt(7);rt(1);const at=function(ct){return new Promise((ut,dt)=>{require$$5.readFile(ct,(ht,gt)=>{if(ht||!gt){dt(new Error(ht));return}ut(new Uint8Array(gt))})})};class it extends nt.BaseFilterFactory{}tt.NodeFilterFactory=it;class st extends nt.BaseCanvasFactory{_createCanvas(ut,dt){return require$$5.createCanvas(ut,dt)}}tt.NodeCanvasFactory=st;class ot extends nt.BaseCMapReaderFactory{_fetchData(ut,dt){return at(ut).then(ft=>({cMapData:ft,compressionType:dt}))}}tt.NodeCMapReaderFactory=ot;class lt extends nt.BaseStandardFontDataFactory{_fetchData(ut){return at(ut)}}tt.NodeStandardFontDataFactory=lt},(et,tt,rt)=>{var Ut,yl,Qt,_l;Object.defineProperty(tt,"__esModule",{value:!0}),tt.CanvasGraphics=void 0;var nt=rt(1),at=rt(6),it=rt(12),st=rt(13);const ot=16,lt=100,ct=4096,ut=15,dt=10,ft=1e3,ht=16;function gt(Lt,jt){if(Lt._removeMirroring)throw new Error("Context is already forwarding operations.");Lt.__originalSave=Lt.save,Lt.__originalRestore=Lt.restore,Lt.__originalRotate=Lt.rotate,Lt.__originalScale=Lt.scale,Lt.__originalTranslate=Lt.translate,Lt.__originalTransform=Lt.transform,Lt.__originalSetTransform=Lt.setTransform,Lt.__originalResetTransform=Lt.resetTransform,Lt.__originalClip=Lt.clip,Lt.__originalMoveTo=Lt.moveTo,Lt.__originalLineTo=Lt.lineTo,Lt.__originalBezierCurveTo=Lt.bezierCurveTo,Lt.__originalRect=Lt.rect,Lt.__originalClosePath=Lt.closePath,Lt.__originalBeginPath=Lt.beginPath,Lt._removeMirroring=()=>{Lt.save=Lt.__originalSave,Lt.restore=Lt.__originalRestore,Lt.rotate=Lt.__originalRotate,Lt.scale=Lt.__originalScale,Lt.translate=Lt.__originalTranslate,Lt.transform=Lt.__originalTransform,Lt.setTransform=Lt.__originalSetTransform,Lt.resetTransform=Lt.__originalResetTransform,Lt.clip=Lt.__originalClip,Lt.moveTo=Lt.__originalMoveTo,Lt.lineTo=Lt.__originalLineTo,Lt.bezierCurveTo=Lt.__originalBezierCurveTo,Lt.rect=Lt.__originalRect,Lt.closePath=Lt.__originalClosePath,Lt.beginPath=Lt.__originalBeginPath,delete Lt._removeMirroring},Lt.save=function(){jt.save(),this.__originalSave()},Lt.restore=function(){jt.restore(),this.__originalRestore()},Lt.translate=function(Mt,Vt){jt.translate(Mt,Vt),this.__originalTranslate(Mt,Vt)},Lt.scale=function(Mt,Vt){jt.scale(Mt,Vt),this.__originalScale(Mt,Vt)},Lt.transform=function(Mt,Vt,Gt,Zt,er,ar){jt.transform(Mt,Vt,Gt,Zt,er,ar),this.__originalTransform(Mt,Vt,Gt,Zt,er,ar)},Lt.setTransform=function(Mt,Vt,Gt,Zt,er,ar){jt.setTransform(Mt,Vt,Gt,Zt,er,ar),this.__originalSetTransform(Mt,Vt,Gt,Zt,er,ar)},Lt.resetTransform=function(){jt.resetTransform(),this.__originalResetTransform()},Lt.rotate=function(Mt){jt.rotate(Mt),this.__originalRotate(Mt)},Lt.clip=function(Mt){jt.clip(Mt),this.__originalClip(Mt)},Lt.moveTo=function(Nt,Mt){jt.moveTo(Nt,Mt),this.__originalMoveTo(Nt,Mt)},Lt.lineTo=function(Nt,Mt){jt.lineTo(Nt,Mt),this.__originalLineTo(Nt,Mt)},Lt.bezierCurveTo=function(Nt,Mt,Vt,Gt,Zt,er){jt.bezierCurveTo(Nt,Mt,Vt,Gt,Zt,er),this.__originalBezierCurveTo(Nt,Mt,Vt,Gt,Zt,er)},Lt.rect=function(Nt,Mt,Vt,Gt){jt.rect(Nt,Mt,Vt,Gt),this.__originalRect(Nt,Mt,Vt,Gt)},Lt.closePath=function(){jt.closePath(),this.__originalClosePath()},Lt.beginPath=function(){jt.beginPath(),this.__originalBeginPath()}}class mt{constructor(jt){this.canvasFactory=jt,this.cache=Object.create(null)}getCanvas(jt,Nt,Mt){let Vt;return this.cache[jt]!==void 0?(Vt=this.cache[jt],this.canvasFactory.reset(Vt,Nt,Mt)):(Vt=this.canvasFactory.create(Nt,Mt),this.cache[jt]=Vt),Vt}delete(jt){delete this.cache[jt]}clear(){for(const jt in this.cache){const Nt=this.cache[jt];this.canvasFactory.destroy(Nt),delete this.cache[jt]}}}function xt(Lt,jt,Nt,Mt,Vt,Gt,Zt,er,ar,Kt){const[pr,fr,vr,wr,hr,Ir]=(0,at.getCurrentTransform)(Lt);if(fr===0&&vr===0){const Zr=Zt*pr+hr,Fr=Math.round(Zr),Cr=er*wr+Ir,Tr=Math.round(Cr),Dr=(Zt+ar)*pr+hr,Gr=Math.abs(Math.round(Dr)-Fr)||1,qr=(er+Kt)*wr+Ir,sn=Math.abs(Math.round(qr)-Tr)||1;return Lt.setTransform(Math.sign(pr),0,0,Math.sign(wr),Fr,Tr),Lt.drawImage(jt,Nt,Mt,Vt,Gt,0,0,Gr,sn),Lt.setTransform(pr,fr,vr,wr,hr,Ir),[Gr,sn]}if(pr===0&&wr===0){const Zr=er*vr+hr,Fr=Math.round(Zr),Cr=Zt*fr+Ir,Tr=Math.round(Cr),Dr=(er+Kt)*vr+hr,Gr=Math.abs(Math.round(Dr)-Fr)||1,qr=(Zt+ar)*fr+Ir,sn=Math.abs(Math.round(qr)-Tr)||1;return Lt.setTransform(0,Math.sign(fr),Math.sign(vr),0,Fr,Tr),Lt.drawImage(jt,Nt,Mt,Vt,Gt,0,0,sn,Gr),Lt.setTransform(pr,fr,vr,wr,hr,Ir),[sn,Gr]}Lt.drawImage(jt,Nt,Mt,Vt,Gt,Zt,er,ar,Kt);const Jr=Math.hypot(pr,fr),Br=Math.hypot(vr,wr);return[Jr*ar,Br*Kt]}function vt(Lt){const{width:jt,height:Nt}=Lt;if(jt>ft||Nt>ft)return null;const Mt=1e3,Vt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Gt=jt+1;let Zt=new Uint8Array(Gt*(Nt+1)),er,ar,Kt;const pr=jt+7&-8;let fr=new Uint8Array(pr*Nt),vr=0;for(const Br of Lt.data){let Zr=128;for(;Zr>0;)fr[vr++]=Br&Zr?0:255,Zr>>=1}let wr=0;for(vr=0,fr[vr]!==0&&(Zt[0]=1,++wr),ar=1;ar<jt;ar++)fr[vr]!==fr[vr+1]&&(Zt[ar]=fr[vr]?2:1,++wr),vr++;for(fr[vr]!==0&&(Zt[ar]=2,++wr),er=1;er<Nt;er++){vr=er*pr,Kt=er*Gt,fr[vr-pr]!==fr[vr]&&(Zt[Kt]=fr[vr]?1:8,++wr);let Br=(fr[vr]?4:0)+(fr[vr-pr]?8:0);for(ar=1;ar<jt;ar++)Br=(Br>>2)+(fr[vr+1]?4:0)+(fr[vr-pr+1]?8:0),Vt[Br]&&(Zt[Kt+ar]=Vt[Br],++wr),vr++;if(fr[vr-pr]!==fr[vr]&&(Zt[Kt+ar]=fr[vr]?2:4,++wr),wr>Mt)return null}for(vr=pr*(Nt-1),Kt=er*Gt,fr[vr]!==0&&(Zt[Kt]=8,++wr),ar=1;ar<jt;ar++)fr[vr]!==fr[vr+1]&&(Zt[Kt+ar]=fr[vr]?4:8,++wr),vr++;if(fr[vr]!==0&&(Zt[Kt+ar]=4,++wr),wr>Mt)return null;const hr=new Int32Array([0,Gt,-1,0,-Gt,0,0,0,1]),Ir=new Path2D;for(er=0;wr&&er<=Nt;er++){let Br=er*Gt;const Zr=Br+jt;for(;Br<Zr&&!Zt[Br];)Br++;if(Br===Zr)continue;Ir.moveTo(Br%Gt,er);const Fr=Br;let Cr=Zt[Br];do{const Tr=hr[Cr];do Br+=Tr;while(!Zt[Br]);const Dr=Zt[Br];Dr!==5&&Dr!==10?(Cr=Dr,Zt[Br]=0):(Cr=Dr&51*Cr>>4,Zt[Br]&=Cr>>2|Cr<<2),Ir.lineTo(Br%Gt,Br/Gt|0),Zt[Br]||--wr}while(Fr!==Br);--er}return fr=null,Zt=null,function(Br){Br.save(),Br.scale(1/jt,-1/Nt),Br.translate(0,-Nt),Br.fill(Ir),Br.beginPath(),Br.restore()}}class _t{constructor(jt,Nt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=nt.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=nt.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=nt.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,jt,Nt])}clone(){const jt=Object.create(this);return jt.clipBox=this.clipBox.slice(),jt}setCurrentPoint(jt,Nt){this.x=jt,this.y=Nt}updatePathMinMax(jt,Nt,Mt){[Nt,Mt]=nt.Util.applyTransform([Nt,Mt],jt),this.minX=Math.min(this.minX,Nt),this.minY=Math.min(this.minY,Mt),this.maxX=Math.max(this.maxX,Nt),this.maxY=Math.max(this.maxY,Mt)}updateRectMinMax(jt,Nt){const Mt=nt.Util.applyTransform(Nt,jt),Vt=nt.Util.applyTransform(Nt.slice(2),jt);this.minX=Math.min(this.minX,Mt[0],Vt[0]),this.minY=Math.min(this.minY,Mt[1],Vt[1]),this.maxX=Math.max(this.maxX,Mt[0],Vt[0]),this.maxY=Math.max(this.maxY,Mt[1],Vt[1])}updateScalingPathMinMax(jt,Nt){nt.Util.scaleMinMax(jt,Nt),this.minX=Math.min(this.minX,Nt[0]),this.maxX=Math.max(this.maxX,Nt[1]),this.minY=Math.min(this.minY,Nt[2]),this.maxY=Math.max(this.maxY,Nt[3])}updateCurvePathMinMax(jt,Nt,Mt,Vt,Gt,Zt,er,ar,Kt,pr){const fr=nt.Util.bezierBoundingBox(Nt,Mt,Vt,Gt,Zt,er,ar,Kt);if(pr){pr[0]=Math.min(pr[0],fr[0],fr[2]),pr[1]=Math.max(pr[1],fr[0],fr[2]),pr[2]=Math.min(pr[2],fr[1],fr[3]),pr[3]=Math.max(pr[3],fr[1],fr[3]);return}this.updateRectMinMax(jt,fr)}getPathBoundingBox(jt=it.PathType.FILL,Nt=null){const Mt=[this.minX,this.minY,this.maxX,this.maxY];if(jt===it.PathType.STROKE){Nt||(0,nt.unreachable)("Stroke bounding box must include transform.");const Vt=nt.Util.singularValueDecompose2dScale(Nt),Gt=Vt[0]*this.lineWidth/2,Zt=Vt[1]*this.lineWidth/2;Mt[0]-=Gt,Mt[1]-=Zt,Mt[2]+=Gt,Mt[3]+=Zt}return Mt}updateClipFromPath(){const jt=nt.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(jt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(jt){this.clipBox=jt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(jt=it.PathType.FILL,Nt=null){return nt.Util.intersect(this.clipBox,this.getPathBoundingBox(jt,Nt))}}function yt(Lt,jt){if(typeof ImageData<"u"&&jt instanceof ImageData){Lt.putImageData(jt,0,0);return}const Nt=jt.height,Mt=jt.width,Vt=Nt%ht,Gt=(Nt-Vt)/ht,Zt=Vt===0?Gt:Gt+1,er=Lt.createImageData(Mt,ht);let ar=0,Kt;const pr=jt.data,fr=er.data;let vr,wr,hr,Ir;if(jt.kind===nt.ImageKind.GRAYSCALE_1BPP){const Jr=pr.byteLength,Br=new Uint32Array(fr.buffer,0,fr.byteLength>>2),Zr=Br.length,Fr=Mt+7>>3,Cr=4294967295,Tr=nt.FeatureTest.isLittleEndian?4278190080:255;for(vr=0;vr<Zt;vr++){for(hr=vr<Gt?ht:Vt,Kt=0,wr=0;wr<hr;wr++){const Dr=Jr-ar;let Gr=0;const qr=Dr>Fr?Mt:Dr*8-7,sn=qr&-8;let Ur=0,$r=0;for(;Gr<sn;Gr+=8)$r=pr[ar++],Br[Kt++]=$r&128?Cr:Tr,Br[Kt++]=$r&64?Cr:Tr,Br[Kt++]=$r&32?Cr:Tr,Br[Kt++]=$r&16?Cr:Tr,Br[Kt++]=$r&8?Cr:Tr,Br[Kt++]=$r&4?Cr:Tr,Br[Kt++]=$r&2?Cr:Tr,Br[Kt++]=$r&1?Cr:Tr;for(;Gr<qr;Gr++)Ur===0&&($r=pr[ar++],Ur=128),Br[Kt++]=$r&Ur?Cr:Tr,Ur>>=1}for(;Kt<Zr;)Br[Kt++]=0;Lt.putImageData(er,0,vr*ht)}}else if(jt.kind===nt.ImageKind.RGBA_32BPP){for(wr=0,Ir=Mt*ht*4,vr=0;vr<Gt;vr++)fr.set(pr.subarray(ar,ar+Ir)),ar+=Ir,Lt.putImageData(er,0,wr),wr+=ht;vr<Zt&&(Ir=Mt*Vt*4,fr.set(pr.subarray(ar,ar+Ir)),Lt.putImageData(er,0,wr))}else if(jt.kind===nt.ImageKind.RGB_24BPP)for(hr=ht,Ir=Mt*hr,vr=0;vr<Zt;vr++){for(vr>=Gt&&(hr=Vt,Ir=Mt*hr),Kt=0,wr=Ir;wr--;)fr[Kt++]=pr[ar++],fr[Kt++]=pr[ar++],fr[Kt++]=pr[ar++],fr[Kt++]=255;Lt.putImageData(er,0,vr*ht)}else throw new Error(`bad image kind: ${jt.kind}`)}function St(Lt,jt){if(jt.bitmap){Lt.drawImage(jt.bitmap,0,0);return}const Nt=jt.height,Mt=jt.width,Vt=Nt%ht,Gt=(Nt-Vt)/ht,Zt=Vt===0?Gt:Gt+1,er=Lt.createImageData(Mt,ht);let ar=0;const Kt=jt.data,pr=er.data;for(let fr=0;fr<Zt;fr++){const vr=fr<Gt?ht:Vt;({srcPos:ar}=(0,st.convertBlackAndWhiteToRGBA)({src:Kt,srcPos:ar,dest:pr,width:Mt,height:vr,nonBlackColor:0})),Lt.putImageData(er,0,fr*ht)}}function bt(Lt,jt){const Nt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Mt of Nt)Lt[Mt]!==void 0&&(jt[Mt]=Lt[Mt]);Lt.setLineDash!==void 0&&(jt.setLineDash(Lt.getLineDash()),jt.lineDashOffset=Lt.lineDashOffset)}function Et(Lt){if(Lt.strokeStyle=Lt.fillStyle="#000000",Lt.fillRule="nonzero",Lt.globalAlpha=1,Lt.lineWidth=1,Lt.lineCap="butt",Lt.lineJoin="miter",Lt.miterLimit=10,Lt.globalCompositeOperation="source-over",Lt.font="10px sans-serif",Lt.setLineDash!==void 0&&(Lt.setLineDash([]),Lt.lineDashOffset=0),!nt.isNodeJS){const{filter:jt}=Lt;jt!=="none"&&jt!==""&&(Lt.filter="none")}}function Tt(Lt,jt,Nt,Mt){const Vt=Lt.length;for(let Gt=3;Gt<Vt;Gt+=4){const Zt=Lt[Gt];if(Zt===0)Lt[Gt-3]=jt,Lt[Gt-2]=Nt,Lt[Gt-1]=Mt;else if(Zt<255){const er=255-Zt;Lt[Gt-3]=Lt[Gt-3]*Zt+jt*er>>8,Lt[Gt-2]=Lt[Gt-2]*Zt+Nt*er>>8,Lt[Gt-1]=Lt[Gt-1]*Zt+Mt*er>>8}}}function At(Lt,jt,Nt){const Mt=Lt.length,Vt=1/255;for(let Gt=3;Gt<Mt;Gt+=4){const Zt=Nt?Nt[Lt[Gt]]:Lt[Gt];jt[Gt]=jt[Gt]*Zt*Vt|0}}function Ct(Lt,jt,Nt){const Mt=Lt.length;for(let Vt=3;Vt<Mt;Vt+=4){const Gt=Lt[Vt-3]*77+Lt[Vt-2]*152+Lt[Vt-1]*28;jt[Vt]=Nt?jt[Vt]*Nt[Gt>>8]>>8:jt[Vt]*Gt>>16}}function kt(Lt,jt,Nt,Mt,Vt,Gt,Zt,er,ar,Kt,pr){const fr=!!Gt,vr=fr?Gt[0]:0,wr=fr?Gt[1]:0,hr=fr?Gt[2]:0,Ir=Vt==="Luminosity"?Ct:At,Br=Math.min(Mt,Math.ceil(1048576/Nt));for(let Zr=0;Zr<Mt;Zr+=Br){const Fr=Math.min(Br,Mt-Zr),Cr=Lt.getImageData(er-Kt,Zr+(ar-pr),Nt,Fr),Tr=jt.getImageData(er,Zr+ar,Nt,Fr);fr&&Tt(Cr.data,vr,wr,hr),Ir(Cr.data,Tr.data,Zt),jt.putImageData(Tr,er,Zr+ar)}}function Pt(Lt,jt,Nt,Mt){const Vt=Mt[0],Gt=Mt[1],Zt=Mt[2]-Vt,er=Mt[3]-Gt;Zt===0||er===0||(kt(jt.context,Nt,Zt,er,jt.subtype,jt.backdrop,jt.transferMap,Vt,Gt,jt.offsetX,jt.offsetY),Lt.save(),Lt.globalAlpha=1,Lt.globalCompositeOperation="source-over",Lt.setTransform(1,0,0,1,0,0),Lt.drawImage(Nt.canvas,0,0),Lt.restore())}function Dt(Lt,jt){const Nt=nt.Util.singularValueDecompose2dScale(Lt);Nt[0]=Math.fround(Nt[0]),Nt[1]=Math.fround(Nt[1]);const Mt=Math.fround((globalThis.devicePixelRatio||1)*at.PixelsPerInch.PDF_TO_CSS_UNITS);return jt!==void 0?jt:Nt[0]<=Mt||Nt[1]<=Mt}const Ft=["butt","round","square"],Ot=["miter","round","bevel"],It={},Bt={},Xt=class Xt{constructor(jt,Nt,Mt,Vt,Gt,{optionalContentConfig:Zt,markedContentStack:er=null},ar,Kt){mr(this,Ut);mr(this,Qt);this.ctx=jt,this.current=new _t(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Nt,this.objs=Mt,this.canvasFactory=Vt,this.filterFactory=Gt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=er||[],this.optionalContentConfig=Zt,this.cachedCanvases=new mt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=ar,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Kt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(jt,Nt=null){return typeof jt=="string"?jt.startsWith("g_")?this.commonObjs.get(jt):this.objs.get(jt):Nt}beginDrawing({transform:jt,viewport:Nt,transparency:Mt=!1,background:Vt=null}){const Gt=this.ctx.canvas.width,Zt=this.ctx.canvas.height,er=this.ctx.fillStyle;if(this.ctx.fillStyle=Vt||"#ffffff",this.ctx.fillRect(0,0,Gt,Zt),this.ctx.fillStyle=er,Mt){const ar=this.cachedCanvases.getCanvas("transparent",Gt,Zt);this.compositeCtx=this.ctx,this.transparentCanvas=ar.canvas,this.ctx=ar.context,this.ctx.save(),this.ctx.transform(...(0,at.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Et(this.ctx),jt&&(this.ctx.transform(...jt),this.outputScaleX=jt[0],this.outputScaleY=jt[0]),this.ctx.transform(...Nt.transform),this.viewportScale=Nt.scale,this.baseTransform=(0,at.getCurrentTransform)(this.ctx)}executeOperatorList(jt,Nt,Mt,Vt){const Gt=jt.argsArray,Zt=jt.fnArray;let er=Nt||0;const ar=Gt.length;if(ar===er)return er;const Kt=ar-er>dt&&typeof Mt=="function",pr=Kt?Date.now()+ut:0;let fr=0;const vr=this.commonObjs,wr=this.objs;let hr;for(;;){if(Vt!==void 0&&er===Vt.nextBreakPoint)return Vt.breakIt(er,Mt),er;if(hr=Zt[er],hr!==nt.OPS.dependency)this[hr].apply(this,Gt[er]);else for(const Ir of Gt[er]){const Jr=Ir.startsWith("g_")?vr:wr;if(!Jr.has(Ir))return Jr.get(Ir,Mt),er}if(er++,er===ar)return er;if(Kt&&++fr>dt){if(Date.now()>pr)return Mt(),er;fr=0}}}endDrawing(){Er(this,Ut,yl).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const jt of this._cachedBitmapsMap.values()){for(const Nt of jt.values())typeof HTMLCanvasElement<"u"&&Nt instanceof HTMLCanvasElement&&(Nt.width=Nt.height=0);jt.clear()}this._cachedBitmapsMap.clear(),Er(this,Qt,_l).call(this)}_scaleImage(jt,Nt){const Mt=jt.width,Vt=jt.height;let Gt=Math.max(Math.hypot(Nt[0],Nt[1]),1),Zt=Math.max(Math.hypot(Nt[2],Nt[3]),1),er=Mt,ar=Vt,Kt="prescale1",pr,fr;for(;Gt>2&&er>1||Zt>2&&ar>1;){let vr=er,wr=ar;Gt>2&&er>1&&(vr=er>=16384?Math.floor(er/2)-1||1:Math.ceil(er/2),Gt/=er/vr),Zt>2&&ar>1&&(wr=ar>=16384?Math.floor(ar/2)-1||1:Math.ceil(ar)/2,Zt/=ar/wr),pr=this.cachedCanvases.getCanvas(Kt,vr,wr),fr=pr.context,fr.clearRect(0,0,vr,wr),fr.drawImage(jt,0,0,er,ar,0,0,vr,wr),jt=pr.canvas,er=vr,ar=wr,Kt=Kt==="prescale1"?"prescale2":"prescale1"}return{img:jt,paintWidth:er,paintHeight:ar}}_createMaskCanvas(jt){const Nt=this.ctx,{width:Mt,height:Vt}=jt,Gt=this.current.fillColor,Zt=this.current.patternFill,er=(0,at.getCurrentTransform)(Nt);let ar,Kt,pr,fr;if((jt.bitmap||jt.data)&&jt.count>1){const Gr=jt.bitmap||jt.data.buffer;Kt=JSON.stringify(Zt?er:[er.slice(0,4),Gt]),ar=this._cachedBitmapsMap.get(Gr),ar||(ar=new Map,this._cachedBitmapsMap.set(Gr,ar));const qr=ar.get(Kt);if(qr&&!Zt){const sn=Math.round(Math.min(er[0],er[2])+er[4]),Ur=Math.round(Math.min(er[1],er[3])+er[5]);return{canvas:qr,offsetX:sn,offsetY:Ur}}pr=qr}pr||(fr=this.cachedCanvases.getCanvas("maskCanvas",Mt,Vt),St(fr.context,jt));let vr=nt.Util.transform(er,[1/Mt,0,0,-1/Vt,0,0]);vr=nt.Util.transform(vr,[1,0,0,1,0,-Vt]);const wr=nt.Util.applyTransform([0,0],vr),hr=nt.Util.applyTransform([Mt,Vt],vr),Ir=nt.Util.normalizeRect([wr[0],wr[1],hr[0],hr[1]]),Jr=Math.round(Ir[2]-Ir[0])||1,Br=Math.round(Ir[3]-Ir[1])||1,Zr=this.cachedCanvases.getCanvas("fillCanvas",Jr,Br),Fr=Zr.context,Cr=Math.min(wr[0],hr[0]),Tr=Math.min(wr[1],hr[1]);Fr.translate(-Cr,-Tr),Fr.transform(...vr),pr||(pr=this._scaleImage(fr.canvas,(0,at.getCurrentTransformInverse)(Fr)),pr=pr.img,ar&&Zt&&ar.set(Kt,pr)),Fr.imageSmoothingEnabled=Dt((0,at.getCurrentTransform)(Fr),jt.interpolate),xt(Fr,pr,0,0,pr.width,pr.height,0,0,Mt,Vt),Fr.globalCompositeOperation="source-in";const Dr=nt.Util.transform((0,at.getCurrentTransformInverse)(Fr),[1,0,0,1,-Cr,-Tr]);return Fr.fillStyle=Zt?Gt.getPattern(Nt,this,Dr,it.PathType.FILL):Gt,Fr.fillRect(0,0,Mt,Vt),ar&&!Zt&&(this.cachedCanvases.delete("fillCanvas"),ar.set(Kt,Zr.canvas)),{canvas:Zr.canvas,offsetX:Math.round(Cr),offsetY:Math.round(Tr)}}setLineWidth(jt){jt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=jt,this.ctx.lineWidth=jt}setLineCap(jt){this.ctx.lineCap=Ft[jt]}setLineJoin(jt){this.ctx.lineJoin=Ot[jt]}setMiterLimit(jt){this.ctx.miterLimit=jt}setDash(jt,Nt){const Mt=this.ctx;Mt.setLineDash!==void 0&&(Mt.setLineDash(jt),Mt.lineDashOffset=Nt)}setRenderingIntent(jt){}setFlatness(jt){}setGState(jt){for(const[Nt,Mt]of jt)switch(Nt){case"LW":this.setLineWidth(Mt);break;case"LC":this.setLineCap(Mt);break;case"LJ":this.setLineJoin(Mt);break;case"ML":this.setMiterLimit(Mt);break;case"D":this.setDash(Mt[0],Mt[1]);break;case"RI":this.setRenderingIntent(Mt);break;case"FL":this.setFlatness(Mt);break;case"Font":this.setFont(Mt[0],Mt[1]);break;case"CA":this.current.strokeAlpha=Mt;break;case"ca":this.current.fillAlpha=Mt,this.ctx.globalAlpha=Mt;break;case"BM":this.ctx.globalCompositeOperation=Mt;break;case"SMask":this.current.activeSMask=Mt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Mt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const jt=this.inSMaskMode;this.current.activeSMask&&!jt?this.beginSMaskMode():!this.current.activeSMask&&jt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const jt=this.ctx.canvas.width,Nt=this.ctx.canvas.height,Mt="smaskGroupAt"+this.groupLevel,Vt=this.cachedCanvases.getCanvas(Mt,jt,Nt);this.suspendedCtx=this.ctx,this.ctx=Vt.context;const Gt=this.ctx;Gt.setTransform(...(0,at.getCurrentTransform)(this.suspendedCtx)),bt(this.suspendedCtx,Gt),gt(Gt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),bt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(jt){if(!this.current.activeSMask)return;jt?(jt[0]=Math.floor(jt[0]),jt[1]=Math.floor(jt[1]),jt[2]=Math.ceil(jt[2]),jt[3]=Math.ceil(jt[3])):jt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Nt=this.current.activeSMask,Mt=this.suspendedCtx;Pt(Mt,Nt,this.ctx,jt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(bt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const jt=this.current;this.stateStack.push(jt),this.current=jt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),bt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(jt,Nt,Mt,Vt,Gt,Zt){this.ctx.transform(jt,Nt,Mt,Vt,Gt,Zt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(jt,Nt,Mt){const Vt=this.ctx,Gt=this.current;let Zt=Gt.x,er=Gt.y,ar,Kt;const pr=(0,at.getCurrentTransform)(Vt),fr=pr[0]===0&&pr[3]===0||pr[1]===0&&pr[2]===0,vr=fr?Mt.slice(0):null;for(let wr=0,hr=0,Ir=jt.length;wr<Ir;wr++)switch(jt[wr]|0){case nt.OPS.rectangle:Zt=Nt[hr++],er=Nt[hr++];const Jr=Nt[hr++],Br=Nt[hr++],Zr=Zt+Jr,Fr=er+Br;Vt.moveTo(Zt,er),Jr===0||Br===0?Vt.lineTo(Zr,Fr):(Vt.lineTo(Zr,er),Vt.lineTo(Zr,Fr),Vt.lineTo(Zt,Fr)),fr||Gt.updateRectMinMax(pr,[Zt,er,Zr,Fr]),Vt.closePath();break;case nt.OPS.moveTo:Zt=Nt[hr++],er=Nt[hr++],Vt.moveTo(Zt,er),fr||Gt.updatePathMinMax(pr,Zt,er);break;case nt.OPS.lineTo:Zt=Nt[hr++],er=Nt[hr++],Vt.lineTo(Zt,er),fr||Gt.updatePathMinMax(pr,Zt,er);break;case nt.OPS.curveTo:ar=Zt,Kt=er,Zt=Nt[hr+4],er=Nt[hr+5],Vt.bezierCurveTo(Nt[hr],Nt[hr+1],Nt[hr+2],Nt[hr+3],Zt,er),Gt.updateCurvePathMinMax(pr,ar,Kt,Nt[hr],Nt[hr+1],Nt[hr+2],Nt[hr+3],Zt,er,vr),hr+=6;break;case nt.OPS.curveTo2:ar=Zt,Kt=er,Vt.bezierCurveTo(Zt,er,Nt[hr],Nt[hr+1],Nt[hr+2],Nt[hr+3]),Gt.updateCurvePathMinMax(pr,ar,Kt,Zt,er,Nt[hr],Nt[hr+1],Nt[hr+2],Nt[hr+3],vr),Zt=Nt[hr+2],er=Nt[hr+3],hr+=4;break;case nt.OPS.curveTo3:ar=Zt,Kt=er,Zt=Nt[hr+2],er=Nt[hr+3],Vt.bezierCurveTo(Nt[hr],Nt[hr+1],Zt,er,Zt,er),Gt.updateCurvePathMinMax(pr,ar,Kt,Nt[hr],Nt[hr+1],Zt,er,Zt,er,vr),hr+=4;break;case nt.OPS.closePath:Vt.closePath();break}fr&&Gt.updateScalingPathMinMax(pr,vr),Gt.setCurrentPoint(Zt,er)}closePath(){this.ctx.closePath()}stroke(jt=!0){const Nt=this.ctx,Mt=this.current.strokeColor;Nt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Mt=="object"&&(Mt!=null&&Mt.getPattern)?(Nt.save(),Nt.strokeStyle=Mt.getPattern(Nt,this,(0,at.getCurrentTransformInverse)(Nt),it.PathType.STROKE),this.rescaleAndStroke(!1),Nt.restore()):this.rescaleAndStroke(!0)),jt&&this.consumePath(this.current.getClippedPathBoundingBox()),Nt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(jt=!0){const Nt=this.ctx,Mt=this.current.fillColor,Vt=this.current.patternFill;let Gt=!1;Vt&&(Nt.save(),Nt.fillStyle=Mt.getPattern(Nt,this,(0,at.getCurrentTransformInverse)(Nt),it.PathType.FILL),Gt=!0);const Zt=this.current.getClippedPathBoundingBox();this.contentVisible&&Zt!==null&&(this.pendingEOFill?(Nt.fill("evenodd"),this.pendingEOFill=!1):Nt.fill()),Gt&&Nt.restore(),jt&&this.consumePath(Zt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=It}eoClip(){this.pendingClip=Bt}beginText(){this.current.textMatrix=nt.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const jt=this.pendingTextPaths,Nt=this.ctx;if(jt===void 0){Nt.beginPath();return}Nt.save(),Nt.beginPath();for(const Mt of jt)Nt.setTransform(...Mt.transform),Nt.translate(Mt.x,Mt.y),Mt.addToPath(Nt,Mt.fontSize);Nt.restore(),Nt.clip(),Nt.beginPath(),delete this.pendingTextPaths}setCharSpacing(jt){this.current.charSpacing=jt}setWordSpacing(jt){this.current.wordSpacing=jt}setHScale(jt){this.current.textHScale=jt/100}setLeading(jt){this.current.leading=-jt}setFont(jt,Nt){var pr;const Mt=this.commonObjs.get(jt),Vt=this.current;if(!Mt)throw new Error(`Can't find font for ${jt}`);if(Vt.fontMatrix=Mt.fontMatrix||nt.FONT_IDENTITY_MATRIX,(Vt.fontMatrix[0]===0||Vt.fontMatrix[3]===0)&&(0,nt.warn)("Invalid font matrix for font "+jt),Nt<0?(Nt=-Nt,Vt.fontDirection=-1):Vt.fontDirection=1,this.current.font=Mt,this.current.fontSize=Nt,Mt.isType3Font)return;const Gt=Mt.loadedName||"sans-serif",Zt=((pr=Mt.systemFontInfo)==null?void 0:pr.css)||`"${Gt}", ${Mt.fallbackName}`;let er="normal";Mt.black?er="900":Mt.bold&&(er="bold");const ar=Mt.italic?"italic":"normal";let Kt=Nt;Nt<ot?Kt=ot:Nt>lt&&(Kt=lt),this.current.fontSizeScale=Nt/Kt,this.ctx.font=`${ar} ${er} ${Kt}px ${Zt}`}setTextRenderingMode(jt){this.current.textRenderingMode=jt}setTextRise(jt){this.current.textRise=jt}moveText(jt,Nt){this.current.x=this.current.lineX+=jt,this.current.y=this.current.lineY+=Nt}setLeadingMoveText(jt,Nt){this.setLeading(-Nt),this.moveText(jt,Nt)}setTextMatrix(jt,Nt,Mt,Vt,Gt,Zt){this.current.textMatrix=[jt,Nt,Mt,Vt,Gt,Zt],this.current.textMatrixScale=Math.hypot(jt,Nt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(jt,Nt,Mt,Vt){const Gt=this.ctx,Zt=this.current,er=Zt.font,ar=Zt.textRenderingMode,Kt=Zt.fontSize/Zt.fontSizeScale,pr=ar&nt.TextRenderingMode.FILL_STROKE_MASK,fr=!!(ar&nt.TextRenderingMode.ADD_TO_PATH_FLAG),vr=Zt.patternFill&&!er.missingFile;let wr;(er.disableFontFace||fr||vr)&&(wr=er.getPathGenerator(this.commonObjs,jt)),er.disableFontFace||vr?(Gt.save(),Gt.translate(Nt,Mt),Gt.beginPath(),wr(Gt,Kt),Vt&&Gt.setTransform(...Vt),(pr===nt.TextRenderingMode.FILL||pr===nt.TextRenderingMode.FILL_STROKE)&&Gt.fill(),(pr===nt.TextRenderingMode.STROKE||pr===nt.TextRenderingMode.FILL_STROKE)&&Gt.stroke(),Gt.restore()):((pr===nt.TextRenderingMode.FILL||pr===nt.TextRenderingMode.FILL_STROKE)&&Gt.fillText(jt,Nt,Mt),(pr===nt.TextRenderingMode.STROKE||pr===nt.TextRenderingMode.FILL_STROKE)&&Gt.strokeText(jt,Nt,Mt)),fr&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,at.getCurrentTransform)(Gt),x:Nt,y:Mt,fontSize:Kt,addToPath:wr})}get isFontSubpixelAAEnabled(){const{context:jt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);jt.scale(1.5,1),jt.fillText("I",0,10);const Nt=jt.getImageData(0,0,10,10).data;let Mt=!1;for(let Vt=3;Vt<Nt.length;Vt+=4)if(Nt[Vt]>0&&Nt[Vt]<255){Mt=!0;break}return(0,nt.shadow)(this,"isFontSubpixelAAEnabled",Mt)}showText(jt){const Nt=this.current,Mt=Nt.font;if(Mt.isType3Font)return this.showType3Text(jt);const Vt=Nt.fontSize;if(Vt===0)return;const Gt=this.ctx,Zt=Nt.fontSizeScale,er=Nt.charSpacing,ar=Nt.wordSpacing,Kt=Nt.fontDirection,pr=Nt.textHScale*Kt,fr=jt.length,vr=Mt.vertical,wr=vr?1:-1,hr=Mt.defaultVMetrics,Ir=Vt*Nt.fontMatrix[0],Jr=Nt.textRenderingMode===nt.TextRenderingMode.FILL&&!Mt.disableFontFace&&!Nt.patternFill;Gt.save(),Gt.transform(...Nt.textMatrix),Gt.translate(Nt.x,Nt.y+Nt.textRise),Kt>0?Gt.scale(pr,-1):Gt.scale(pr,1);let Br;if(Nt.patternFill){Gt.save();const Dr=Nt.fillColor.getPattern(Gt,this,(0,at.getCurrentTransformInverse)(Gt),it.PathType.FILL);Br=(0,at.getCurrentTransform)(Gt),Gt.restore(),Gt.fillStyle=Dr}let Zr=Nt.lineWidth;const Fr=Nt.textMatrixScale;if(Fr===0||Zr===0){const Dr=Nt.textRenderingMode&nt.TextRenderingMode.FILL_STROKE_MASK;(Dr===nt.TextRenderingMode.STROKE||Dr===nt.TextRenderingMode.FILL_STROKE)&&(Zr=this.getSinglePixelWidth())}else Zr/=Fr;if(Zt!==1&&(Gt.scale(Zt,Zt),Zr/=Zt),Gt.lineWidth=Zr,Mt.isInvalidPDFjsFont){const Dr=[];let Gr=0;for(const qr of jt)Dr.push(qr.unicode),Gr+=qr.width;Gt.fillText(Dr.join(""),0,0),Nt.x+=Gr*Ir*pr,Gt.restore(),this.compose();return}let Cr=0,Tr;for(Tr=0;Tr<fr;++Tr){const Dr=jt[Tr];if(typeof Dr=="number"){Cr+=wr*Dr*Vt/1e3;continue}let Gr=!1;const qr=(Dr.isSpace?ar:0)+er,sn=Dr.fontChar,Ur=Dr.accent;let $r,Yr,rn=Dr.width;if(vr){const hn=Dr.vmetric||hr,Or=-(Dr.vmetric?hn[1]:rn*.5)*Ir,Rr=hn[2]*Ir;rn=hn?-hn[0]:rn,$r=Or/Zt,Yr=(Cr+Rr)/Zt}else $r=Cr/Zt,Yr=0;if(Mt.remeasure&&rn>0){const hn=Gt.measureText(sn).width*1e3/Vt*Zt;if(rn<hn&&this.isFontSubpixelAAEnabled){const Or=rn/hn;Gr=!0,Gt.save(),Gt.scale(Or,1),$r/=Or}else rn!==hn&&($r+=(rn-hn)/2e3*Vt/Zt)}if(this.contentVisible&&(Dr.isInFont||Mt.missingFile)){if(Jr&&!Ur)Gt.fillText(sn,$r,Yr);else if(this.paintChar(sn,$r,Yr,Br),Ur){const hn=$r+Vt*Ur.offset.x/Zt,Or=Yr-Vt*Ur.offset.y/Zt;this.paintChar(Ur.fontChar,hn,Or,Br)}}const nn=vr?rn*Ir-qr*Kt:rn*Ir+qr*Kt;Cr+=nn,Gr&&Gt.restore()}vr?Nt.y-=Cr:Nt.x+=Cr*pr,Gt.restore(),this.compose()}showType3Text(jt){const Nt=this.ctx,Mt=this.current,Vt=Mt.font,Gt=Mt.fontSize,Zt=Mt.fontDirection,er=Vt.vertical?1:-1,ar=Mt.charSpacing,Kt=Mt.wordSpacing,pr=Mt.textHScale*Zt,fr=Mt.fontMatrix||nt.FONT_IDENTITY_MATRIX,vr=jt.length,wr=Mt.textRenderingMode===nt.TextRenderingMode.INVISIBLE;let hr,Ir,Jr,Br;if(!(wr||Gt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Nt.save(),Nt.transform(...Mt.textMatrix),Nt.translate(Mt.x,Mt.y),Nt.scale(pr,Zt),hr=0;hr<vr;++hr){if(Ir=jt[hr],typeof Ir=="number"){Br=er*Ir*Gt/1e3,this.ctx.translate(Br,0),Mt.x+=Br*pr;continue}const Zr=(Ir.isSpace?Kt:0)+ar,Fr=Vt.charProcOperatorList[Ir.operatorListId];if(!Fr){(0,nt.warn)(`Type3 character "${Ir.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ir,this.save(),Nt.scale(Gt,Gt),Nt.transform(...fr),this.executeOperatorList(Fr),this.restore()),Jr=nt.Util.applyTransform([Ir.width,0],fr)[0]*Gt+Zr,Nt.translate(Jr,0),Mt.x+=Jr*pr}Nt.restore(),this.processingType3=null}}setCharWidth(jt,Nt){}setCharWidthAndBounds(jt,Nt,Mt,Vt,Gt,Zt){this.ctx.rect(Mt,Vt,Gt-Mt,Zt-Vt),this.ctx.clip(),this.endPath()}getColorN_Pattern(jt){let Nt;if(jt[0]==="TilingPattern"){const Mt=jt[1],Vt=this.baseTransform||(0,at.getCurrentTransform)(this.ctx),Gt={createCanvasGraphics:Zt=>new Xt(Zt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Nt=new it.TilingPattern(jt,Mt,this.ctx,Gt,Vt)}else Nt=this._getPattern(jt[1],jt[2]);return Nt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(jt,Nt,Mt){const Vt=nt.Util.makeHexColor(jt,Nt,Mt);this.ctx.strokeStyle=Vt,this.current.strokeColor=Vt}setFillRGBColor(jt,Nt,Mt){const Vt=nt.Util.makeHexColor(jt,Nt,Mt);this.ctx.fillStyle=Vt,this.current.fillColor=Vt,this.current.patternFill=!1}_getPattern(jt,Nt=null){let Mt;return this.cachedPatterns.has(jt)?Mt=this.cachedPatterns.get(jt):(Mt=(0,it.getShadingPattern)(this.getObject(jt)),this.cachedPatterns.set(jt,Mt)),Nt&&(Mt.matrix=Nt),Mt}shadingFill(jt){if(!this.contentVisible)return;const Nt=this.ctx;this.save();const Mt=this._getPattern(jt);Nt.fillStyle=Mt.getPattern(Nt,this,(0,at.getCurrentTransformInverse)(Nt),it.PathType.SHADING);const Vt=(0,at.getCurrentTransformInverse)(Nt);if(Vt){const{width:Gt,height:Zt}=Nt.canvas,[er,ar,Kt,pr]=nt.Util.getAxialAlignedBoundingBox([0,0,Gt,Zt],Vt);this.ctx.fillRect(er,ar,Kt-er,pr-ar)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,nt.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,nt.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(jt,Nt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(jt)&&jt.length===6&&this.transform(...jt),this.baseTransform=(0,at.getCurrentTransform)(this.ctx),Nt)){const Mt=Nt[2]-Nt[0],Vt=Nt[3]-Nt[1];this.ctx.rect(Nt[0],Nt[1],Mt,Vt),this.current.updateRectMinMax((0,at.getCurrentTransform)(this.ctx),Nt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(jt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Nt=this.ctx;jt.isolated||(0,nt.info)("TODO: Support non-isolated groups."),jt.knockout&&(0,nt.warn)("Knockout groups not supported.");const Mt=(0,at.getCurrentTransform)(Nt);if(jt.matrix&&Nt.transform(...jt.matrix),!jt.bbox)throw new Error("Bounding box is required.");let Vt=nt.Util.getAxialAlignedBoundingBox(jt.bbox,(0,at.getCurrentTransform)(Nt));const Gt=[0,0,Nt.canvas.width,Nt.canvas.height];Vt=nt.Util.intersect(Vt,Gt)||[0,0,0,0];const Zt=Math.floor(Vt[0]),er=Math.floor(Vt[1]);let ar=Math.max(Math.ceil(Vt[2])-Zt,1),Kt=Math.max(Math.ceil(Vt[3])-er,1),pr=1,fr=1;ar>ct&&(pr=ar/ct,ar=ct),Kt>ct&&(fr=Kt/ct,Kt=ct),this.current.startNewPathAndClipBox([0,0,ar,Kt]);let vr="groupAt"+this.groupLevel;jt.smask&&(vr+="_smask_"+this.smaskCounter++%2);const wr=this.cachedCanvases.getCanvas(vr,ar,Kt),hr=wr.context;hr.scale(1/pr,1/fr),hr.translate(-Zt,-er),hr.transform(...Mt),jt.smask?this.smaskStack.push({canvas:wr.canvas,context:hr,offsetX:Zt,offsetY:er,scaleX:pr,scaleY:fr,subtype:jt.smask.subtype,backdrop:jt.smask.backdrop,transferMap:jt.smask.transferMap||null,startTransformInverse:null}):(Nt.setTransform(1,0,0,1,0,0),Nt.translate(Zt,er),Nt.scale(pr,fr),Nt.save()),bt(Nt,hr),this.ctx=hr,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Nt),this.groupLevel++}endGroup(jt){if(!this.contentVisible)return;this.groupLevel--;const Nt=this.ctx,Mt=this.groupStack.pop();if(this.ctx=Mt,this.ctx.imageSmoothingEnabled=!1,jt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Vt=(0,at.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Vt);const Gt=nt.Util.getAxialAlignedBoundingBox([0,0,Nt.canvas.width,Nt.canvas.height],Vt);this.ctx.drawImage(Nt.canvas,0,0),this.ctx.restore(),this.compose(Gt)}}beginAnnotation(jt,Nt,Mt,Vt,Gt){if(Er(this,Ut,yl).call(this),Et(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Nt)&&Nt.length===4){const Zt=Nt[2]-Nt[0],er=Nt[3]-Nt[1];if(Gt&&this.annotationCanvasMap){Mt=Mt.slice(),Mt[4]-=Nt[0],Mt[5]-=Nt[1],Nt=Nt.slice(),Nt[0]=Nt[1]=0,Nt[2]=Zt,Nt[3]=er;const[ar,Kt]=nt.Util.singularValueDecompose2dScale((0,at.getCurrentTransform)(this.ctx)),{viewportScale:pr}=this,fr=Math.ceil(Zt*this.outputScaleX*pr),vr=Math.ceil(er*this.outputScaleY*pr);this.annotationCanvas=this.canvasFactory.create(fr,vr);const{canvas:wr,context:hr}=this.annotationCanvas;this.annotationCanvasMap.set(jt,wr),this.annotationCanvas.savedCtx=this.ctx,this.ctx=hr,this.ctx.save(),this.ctx.setTransform(ar,0,0,-Kt,0,er*Kt),Et(this.ctx)}else Et(this.ctx),this.ctx.rect(Nt[0],Nt[1],Zt,er),this.ctx.clip(),this.endPath()}this.current=new _t(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Mt),this.transform(...Vt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Er(this,Qt,_l).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(jt){if(!this.contentVisible)return;const Nt=jt.count;jt=this.getObject(jt.data,jt),jt.count=Nt;const Mt=this.ctx,Vt=this.processingType3;if(Vt&&(Vt.compiled===void 0&&(Vt.compiled=vt(jt)),Vt.compiled)){Vt.compiled(Mt);return}const Gt=this._createMaskCanvas(jt),Zt=Gt.canvas;Mt.save(),Mt.setTransform(1,0,0,1,0,0),Mt.drawImage(Zt,Gt.offsetX,Gt.offsetY),Mt.restore(),this.compose()}paintImageMaskXObjectRepeat(jt,Nt,Mt=0,Vt=0,Gt,Zt){if(!this.contentVisible)return;jt=this.getObject(jt.data,jt);const er=this.ctx;er.save();const ar=(0,at.getCurrentTransform)(er);er.transform(Nt,Mt,Vt,Gt,0,0);const Kt=this._createMaskCanvas(jt);er.setTransform(1,0,0,1,Kt.offsetX-ar[4],Kt.offsetY-ar[5]);for(let pr=0,fr=Zt.length;pr<fr;pr+=2){const vr=nt.Util.transform(ar,[Nt,Mt,Vt,Gt,Zt[pr],Zt[pr+1]]),[wr,hr]=nt.Util.applyTransform([0,0],vr);er.drawImage(Kt.canvas,wr,hr)}er.restore(),this.compose()}paintImageMaskXObjectGroup(jt){if(!this.contentVisible)return;const Nt=this.ctx,Mt=this.current.fillColor,Vt=this.current.patternFill;for(const Gt of jt){const{data:Zt,width:er,height:ar,transform:Kt}=Gt,pr=this.cachedCanvases.getCanvas("maskCanvas",er,ar),fr=pr.context;fr.save();const vr=this.getObject(Zt,Gt);St(fr,vr),fr.globalCompositeOperation="source-in",fr.fillStyle=Vt?Mt.getPattern(fr,this,(0,at.getCurrentTransformInverse)(Nt),it.PathType.FILL):Mt,fr.fillRect(0,0,er,ar),fr.restore(),Nt.save(),Nt.transform(...Kt),Nt.scale(1,-1),xt(Nt,pr.canvas,0,0,er,ar,0,-1,1,1),Nt.restore()}this.compose()}paintImageXObject(jt){if(!this.contentVisible)return;const Nt=this.getObject(jt);if(!Nt){(0,nt.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Nt)}paintImageXObjectRepeat(jt,Nt,Mt,Vt){if(!this.contentVisible)return;const Gt=this.getObject(jt);if(!Gt){(0,nt.warn)("Dependent image isn't ready yet");return}const Zt=Gt.width,er=Gt.height,ar=[];for(let Kt=0,pr=Vt.length;Kt<pr;Kt+=2)ar.push({transform:[Nt,0,0,Mt,Vt[Kt],Vt[Kt+1]],x:0,y:0,w:Zt,h:er});this.paintInlineImageXObjectGroup(Gt,ar)}applyTransferMapsToCanvas(jt){return this.current.transferMaps!=="none"&&(jt.filter=this.current.transferMaps,jt.drawImage(jt.canvas,0,0),jt.filter="none"),jt.canvas}applyTransferMapsToBitmap(jt){if(this.current.transferMaps==="none")return jt.bitmap;const{bitmap:Nt,width:Mt,height:Vt}=jt,Gt=this.cachedCanvases.getCanvas("inlineImage",Mt,Vt),Zt=Gt.context;return Zt.filter=this.current.transferMaps,Zt.drawImage(Nt,0,0),Zt.filter="none",Gt.canvas}paintInlineImageXObject(jt){if(!this.contentVisible)return;const Nt=jt.width,Mt=jt.height,Vt=this.ctx;if(this.save(),!nt.isNodeJS){const{filter:er}=Vt;er!=="none"&&er!==""&&(Vt.filter="none")}Vt.scale(1/Nt,-1/Mt);let Gt;if(jt.bitmap)Gt=this.applyTransferMapsToBitmap(jt);else if(typeof HTMLElement=="function"&&jt instanceof HTMLElement||!jt.data)Gt=jt;else{const ar=this.cachedCanvases.getCanvas("inlineImage",Nt,Mt).context;yt(ar,jt),Gt=this.applyTransferMapsToCanvas(ar)}const Zt=this._scaleImage(Gt,(0,at.getCurrentTransformInverse)(Vt));Vt.imageSmoothingEnabled=Dt((0,at.getCurrentTransform)(Vt),jt.interpolate),xt(Vt,Zt.img,0,0,Zt.paintWidth,Zt.paintHeight,0,-Mt,Nt,Mt),this.compose(),this.restore()}paintInlineImageXObjectGroup(jt,Nt){if(!this.contentVisible)return;const Mt=this.ctx;let Vt;if(jt.bitmap)Vt=jt.bitmap;else{const Gt=jt.width,Zt=jt.height,ar=this.cachedCanvases.getCanvas("inlineImage",Gt,Zt).context;yt(ar,jt),Vt=this.applyTransferMapsToCanvas(ar)}for(const Gt of Nt)Mt.save(),Mt.transform(...Gt.transform),Mt.scale(1,-1),xt(Mt,Vt,Gt.x,Gt.y,Gt.w,Gt.h,0,-1,1,1),Mt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(jt){}markPointProps(jt,Nt){}beginMarkedContent(jt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(jt,Nt){jt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Nt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(jt){const Nt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(jt);const Mt=this.ctx;this.pendingClip&&(Nt||(this.pendingClip===Bt?Mt.clip("evenodd"):Mt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Mt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const jt=(0,at.getCurrentTransform)(this.ctx);if(jt[1]===0&&jt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(jt[0]),Math.abs(jt[3]));else{const Nt=Math.abs(jt[0]*jt[3]-jt[2]*jt[1]),Mt=Math.hypot(jt[0],jt[2]),Vt=Math.hypot(jt[1],jt[3]);this._cachedGetSinglePixelWidth=Math.max(Mt,Vt)/Nt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:jt}=this.current,{a:Nt,b:Mt,c:Vt,d:Gt}=this.ctx.getTransform();let Zt,er;if(Mt===0&&Vt===0){const ar=Math.abs(Nt),Kt=Math.abs(Gt);if(ar===Kt)if(jt===0)Zt=er=1/ar;else{const pr=ar*jt;Zt=er=pr<1?1/pr:1}else if(jt===0)Zt=1/ar,er=1/Kt;else{const pr=ar*jt,fr=Kt*jt;Zt=pr<1?1/pr:1,er=fr<1?1/fr:1}}else{const ar=Math.abs(Nt*Gt-Mt*Vt),Kt=Math.hypot(Nt,Mt),pr=Math.hypot(Vt,Gt);if(jt===0)Zt=pr/ar,er=Kt/ar;else{const fr=jt*ar;Zt=pr>fr?pr/fr:1,er=Kt>fr?Kt/fr:1}}this._cachedScaleForStroking[0]=Zt,this._cachedScaleForStroking[1]=er}return this._cachedScaleForStroking}rescaleAndStroke(jt){const{ctx:Nt}=this,{lineWidth:Mt}=this.current,[Vt,Gt]=this.getScaleForStroking();if(Nt.lineWidth=Mt||1,Vt===1&&Gt===1){Nt.stroke();return}const Zt=Nt.getLineDash();if(jt&&Nt.save(),Nt.scale(Vt,Gt),Zt.length>0){const er=Math.max(Vt,Gt);Nt.setLineDash(Zt.map(ar=>ar/er)),Nt.lineDashOffset/=er}Nt.stroke(),jt&&Nt.restore()}isContentVisible(){for(let jt=this.markedContentStack.length-1;jt>=0;jt--)if(!this.markedContentStack[jt].visible)return!1;return!0}};Ut=new WeakSet,yl=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Qt=new WeakSet,_l=function(){if(this.pageColors){const jt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(jt!=="none"){const Nt=this.ctx.filter;this.ctx.filter=jt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Nt}}};let qt=Xt;tt.CanvasGraphics=qt;for(const Lt in nt.OPS)qt.prototype[Lt]!==void 0&&(qt.prototype[nt.OPS[Lt]]=qt.prototype[Lt])},(et,tt,rt)=>{Object.defineProperty(tt,"__esModule",{value:!0}),tt.TilingPattern=tt.PathType=void 0,tt.getShadingPattern=ht;var nt=rt(1),at=rt(6);const it={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};tt.PathType=it;function st(vt,_t){if(!_t)return;const yt=_t[2]-_t[0],St=_t[3]-_t[1],bt=new Path2D;bt.rect(_t[0],_t[1],yt,St),vt.clip(bt)}class ot{constructor(){this.constructor===ot&&(0,nt.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,nt.unreachable)("Abstract method `getPattern` called.")}}class lt extends ot{constructor(_t){super(),this._type=_t[1],this._bbox=_t[2],this._colorStops=_t[3],this._p0=_t[4],this._p1=_t[5],this._r0=_t[6],this._r1=_t[7],this.matrix=null}_createGradient(_t){let yt;this._type==="axial"?yt=_t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(yt=_t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const St of this._colorStops)yt.addColorStop(St[0],St[1]);return yt}getPattern(_t,yt,St,bt){let Et;if(bt===it.STROKE||bt===it.FILL){const Tt=yt.current.getClippedPathBoundingBox(bt,(0,at.getCurrentTransform)(_t))||[0,0,0,0],At=Math.ceil(Tt[2]-Tt[0])||1,Ct=Math.ceil(Tt[3]-Tt[1])||1,kt=yt.cachedCanvases.getCanvas("pattern",At,Ct,!0),Pt=kt.context;Pt.clearRect(0,0,Pt.canvas.width,Pt.canvas.height),Pt.beginPath(),Pt.rect(0,0,Pt.canvas.width,Pt.canvas.height),Pt.translate(-Tt[0],-Tt[1]),St=nt.Util.transform(St,[1,0,0,1,Tt[0],Tt[1]]),Pt.transform(...yt.baseTransform),this.matrix&&Pt.transform(...this.matrix),st(Pt,this._bbox),Pt.fillStyle=this._createGradient(Pt),Pt.fill(),Et=_t.createPattern(kt.canvas,"no-repeat");const Dt=new DOMMatrix(St);Et.setTransform(Dt)}else st(_t,this._bbox),Et=this._createGradient(_t);return Et}}function ct(vt,_t,yt,St,bt,Et,Tt,At){const Ct=_t.coords,kt=_t.colors,Pt=vt.data,Dt=vt.width*4;let Ft;Ct[yt+1]>Ct[St+1]&&(Ft=yt,yt=St,St=Ft,Ft=Et,Et=Tt,Tt=Ft),Ct[St+1]>Ct[bt+1]&&(Ft=St,St=bt,bt=Ft,Ft=Tt,Tt=At,At=Ft),Ct[yt+1]>Ct[St+1]&&(Ft=yt,yt=St,St=Ft,Ft=Et,Et=Tt,Tt=Ft);const Ot=(Ct[yt]+_t.offsetX)*_t.scaleX,It=(Ct[yt+1]+_t.offsetY)*_t.scaleY,Bt=(Ct[St]+_t.offsetX)*_t.scaleX,qt=(Ct[St+1]+_t.offsetY)*_t.scaleY,Ut=(Ct[bt]+_t.offsetX)*_t.scaleX,Ht=(Ct[bt+1]+_t.offsetY)*_t.scaleY;if(It>=Ht)return;const Qt=kt[Et],ir=kt[Et+1],Xt=kt[Et+2],Lt=kt[Tt],jt=kt[Tt+1],Nt=kt[Tt+2],Mt=kt[At],Vt=kt[At+1],Gt=kt[At+2],Zt=Math.round(It),er=Math.round(Ht);let ar,Kt,pr,fr,vr,wr,hr,Ir;for(let Jr=Zt;Jr<=er;Jr++){if(Jr<qt){const Tr=Jr<It?0:(It-Jr)/(It-qt);ar=Ot-(Ot-Bt)*Tr,Kt=Qt-(Qt-Lt)*Tr,pr=ir-(ir-jt)*Tr,fr=Xt-(Xt-Nt)*Tr}else{let Tr;Jr>Ht?Tr=1:qt===Ht?Tr=0:Tr=(qt-Jr)/(qt-Ht),ar=Bt-(Bt-Ut)*Tr,Kt=Lt-(Lt-Mt)*Tr,pr=jt-(jt-Vt)*Tr,fr=Nt-(Nt-Gt)*Tr}let Br;Jr<It?Br=0:Jr>Ht?Br=1:Br=(It-Jr)/(It-Ht),vr=Ot-(Ot-Ut)*Br,wr=Qt-(Qt-Mt)*Br,hr=ir-(ir-Vt)*Br,Ir=Xt-(Xt-Gt)*Br;const Zr=Math.round(Math.min(ar,vr)),Fr=Math.round(Math.max(ar,vr));let Cr=Dt*Jr+Zr*4;for(let Tr=Zr;Tr<=Fr;Tr++)Br=(ar-Tr)/(ar-vr),Br<0?Br=0:Br>1&&(Br=1),Pt[Cr++]=Kt-(Kt-wr)*Br|0,Pt[Cr++]=pr-(pr-hr)*Br|0,Pt[Cr++]=fr-(fr-Ir)*Br|0,Pt[Cr++]=255}}function ut(vt,_t,yt){const St=_t.coords,bt=_t.colors;let Et,Tt;switch(_t.type){case"lattice":const At=_t.verticesPerRow,Ct=Math.floor(St.length/At)-1,kt=At-1;for(Et=0;Et<Ct;Et++){let Pt=Et*At;for(let Dt=0;Dt<kt;Dt++,Pt++)ct(vt,yt,St[Pt],St[Pt+1],St[Pt+At],bt[Pt],bt[Pt+1],bt[Pt+At]),ct(vt,yt,St[Pt+At+1],St[Pt+1],St[Pt+At],bt[Pt+At+1],bt[Pt+1],bt[Pt+At])}break;case"triangles":for(Et=0,Tt=St.length;Et<Tt;Et+=3)ct(vt,yt,St[Et],St[Et+1],St[Et+2],bt[Et],bt[Et+1],bt[Et+2]);break;default:throw new Error("illegal figure")}}class dt extends ot{constructor(_t){super(),this._coords=_t[2],this._colors=_t[3],this._figures=_t[4],this._bounds=_t[5],this._bbox=_t[7],this._background=_t[8],this.matrix=null}_createMeshCanvas(_t,yt,St){const At=Math.floor(this._bounds[0]),Ct=Math.floor(this._bounds[1]),kt=Math.ceil(this._bounds[2])-At,Pt=Math.ceil(this._bounds[3])-Ct,Dt=Math.min(Math.ceil(Math.abs(kt*_t[0]*1.1)),3e3),Ft=Math.min(Math.ceil(Math.abs(Pt*_t[1]*1.1)),3e3),Ot=kt/Dt,It=Pt/Ft,Bt={coords:this._coords,colors:this._colors,offsetX:-At,offsetY:-Ct,scaleX:1/Ot,scaleY:1/It},qt=Dt+2*2,Ut=Ft+2*2,Ht=St.getCanvas("mesh",qt,Ut,!1),Qt=Ht.context,ir=Qt.createImageData(Dt,Ft);if(yt){const Lt=ir.data;for(let jt=0,Nt=Lt.length;jt<Nt;jt+=4)Lt[jt]=yt[0],Lt[jt+1]=yt[1],Lt[jt+2]=yt[2],Lt[jt+3]=255}for(const Lt of this._figures)ut(ir,Lt,Bt);return Qt.putImageData(ir,2,2),{canvas:Ht.canvas,offsetX:At-2*Ot,offsetY:Ct-2*It,scaleX:Ot,scaleY:It}}getPattern(_t,yt,St,bt){st(_t,this._bbox);let Et;if(bt===it.SHADING)Et=nt.Util.singularValueDecompose2dScale((0,at.getCurrentTransform)(_t));else if(Et=nt.Util.singularValueDecompose2dScale(yt.baseTransform),this.matrix){const At=nt.Util.singularValueDecompose2dScale(this.matrix);Et=[Et[0]*At[0],Et[1]*At[1]]}const Tt=this._createMeshCanvas(Et,bt===it.SHADING?null:this._background,yt.cachedCanvases);return bt!==it.SHADING&&(_t.setTransform(...yt.baseTransform),this.matrix&&_t.transform(...this.matrix)),_t.translate(Tt.offsetX,Tt.offsetY),_t.scale(Tt.scaleX,Tt.scaleY),_t.createPattern(Tt.canvas,"no-repeat")}}class ft extends ot{getPattern(){return"hotpink"}}function ht(vt){switch(vt[0]){case"RadialAxial":return new lt(vt);case"Mesh":return new dt(vt);case"Dummy":return new ft}throw new Error(`Unknown IR type: ${vt[0]}`)}const gt={COLORED:1,UNCOLORED:2},xt=class xt{constructor(_t,yt,St,bt,Et){this.operatorList=_t[2],this.matrix=_t[3]||[1,0,0,1,0,0],this.bbox=_t[4],this.xstep=_t[5],this.ystep=_t[6],this.paintType=_t[7],this.tilingType=_t[8],this.color=yt,this.ctx=St,this.canvasGraphicsFactory=bt,this.baseTransform=Et}createPatternCanvas(_t){const yt=this.operatorList,St=this.bbox,bt=this.xstep,Et=this.ystep,Tt=this.paintType,At=this.tilingType,Ct=this.color,kt=this.canvasGraphicsFactory;(0,nt.info)("TilingType: "+At);const Pt=St[0],Dt=St[1],Ft=St[2],Ot=St[3],It=nt.Util.singularValueDecompose2dScale(this.matrix),Bt=nt.Util.singularValueDecompose2dScale(this.baseTransform),qt=[It[0]*Bt[0],It[1]*Bt[1]],Ut=this.getSizeAndScale(bt,this.ctx.canvas.width,qt[0]),Ht=this.getSizeAndScale(Et,this.ctx.canvas.height,qt[1]),Qt=_t.cachedCanvases.getCanvas("pattern",Ut.size,Ht.size,!0),ir=Qt.context,Xt=kt.createCanvasGraphics(ir);Xt.groupLevel=_t.groupLevel,this.setFillAndStrokeStyleToContext(Xt,Tt,Ct);let Lt=Pt,jt=Dt,Nt=Ft,Mt=Ot;return Pt<0&&(Lt=0,Nt+=Math.abs(Pt)),Dt<0&&(jt=0,Mt+=Math.abs(Dt)),ir.translate(-(Ut.scale*Lt),-(Ht.scale*jt)),Xt.transform(Ut.scale,0,0,Ht.scale,0,0),ir.save(),this.clipBbox(Xt,Lt,jt,Nt,Mt),Xt.baseTransform=(0,at.getCurrentTransform)(Xt.ctx),Xt.executeOperatorList(yt),Xt.endDrawing(),{canvas:Qt.canvas,scaleX:Ut.scale,scaleY:Ht.scale,offsetX:Lt,offsetY:jt}}getSizeAndScale(_t,yt,St){_t=Math.abs(_t);const bt=Math.max(xt.MAX_PATTERN_SIZE,yt);let Et=Math.ceil(_t*St);return Et>=bt?Et=bt:St=Et/_t,{scale:St,size:Et}}clipBbox(_t,yt,St,bt,Et){const Tt=bt-yt,At=Et-St;_t.ctx.rect(yt,St,Tt,At),_t.current.updateRectMinMax((0,at.getCurrentTransform)(_t.ctx),[yt,St,bt,Et]),_t.clip(),_t.endPath()}setFillAndStrokeStyleToContext(_t,yt,St){const bt=_t.ctx,Et=_t.current;switch(yt){case gt.COLORED:const Tt=this.ctx;bt.fillStyle=Tt.fillStyle,bt.strokeStyle=Tt.strokeStyle,Et.fillColor=Tt.fillStyle,Et.strokeColor=Tt.strokeStyle;break;case gt.UNCOLORED:const At=nt.Util.makeHexColor(St[0],St[1],St[2]);bt.fillStyle=At,bt.strokeStyle=At,Et.fillColor=At,Et.strokeColor=At;break;default:throw new nt.FormatError(`Unsupported paint type: ${yt}`)}}getPattern(_t,yt,St,bt){let Et=St;bt!==it.SHADING&&(Et=nt.Util.transform(Et,yt.baseTransform),this.matrix&&(Et=nt.Util.transform(Et,this.matrix)));const Tt=this.createPatternCanvas(yt);let At=new DOMMatrix(Et);At=At.translate(Tt.offsetX,Tt.offsetY),At=At.scale(1/Tt.scaleX,1/Tt.scaleY);const Ct=_t.createPattern(Tt.canvas,"repeat");return Ct.setTransform(At),Ct}};tn(xt,"MAX_PATTERN_SIZE",3e3);let mt=xt;tt.TilingPattern=mt},(et,tt,rt)=>{Object.defineProperty(tt,"__esModule",{value:!0}),tt.convertBlackAndWhiteToRGBA=it,tt.convertToRGBA=at,tt.grayToRGBA=ot;var nt=rt(1);function at(lt){switch(lt.kind){case nt.ImageKind.GRAYSCALE_1BPP:return it(lt);case nt.ImageKind.RGB_24BPP:return st(lt)}return null}function it({src:lt,srcPos:ct=0,dest:ut,width:dt,height:ft,nonBlackColor:ht=4294967295,inverseDecode:gt=!1}){const mt=nt.FeatureTest.isLittleEndian?4278190080:255,[xt,vt]=gt?[ht,mt]:[mt,ht],_t=dt>>3,yt=dt&7,St=lt.length;ut=new Uint32Array(ut.buffer);let bt=0;for(let Et=0;Et<ft;Et++){for(const At=ct+_t;ct<At;ct++){const Ct=ct<St?lt[ct]:255;ut[bt++]=Ct&128?vt:xt,ut[bt++]=Ct&64?vt:xt,ut[bt++]=Ct&32?vt:xt,ut[bt++]=Ct&16?vt:xt,ut[bt++]=Ct&8?vt:xt,ut[bt++]=Ct&4?vt:xt,ut[bt++]=Ct&2?vt:xt,ut[bt++]=Ct&1?vt:xt}if(yt===0)continue;const Tt=ct<St?lt[ct++]:255;for(let At=0;At<yt;At++)ut[bt++]=Tt&1<<7-At?vt:xt}return{srcPos:ct,destPos:bt}}function st({src:lt,srcPos:ct=0,dest:ut,destPos:dt=0,width:ft,height:ht}){let gt=0;const mt=lt.length>>2,xt=new Uint32Array(lt.buffer,ct,mt);if(nt.FeatureTest.isLittleEndian){for(;gt<mt-2;gt+=3,dt+=4){const vt=xt[gt],_t=xt[gt+1],yt=xt[gt+2];ut[dt]=vt|4278190080,ut[dt+1]=vt>>>24|_t<<8|4278190080,ut[dt+2]=_t>>>16|yt<<16|4278190080,ut[dt+3]=yt>>>8|4278190080}for(let vt=gt*4,_t=lt.length;vt<_t;vt+=3)ut[dt++]=lt[vt]|lt[vt+1]<<8|lt[vt+2]<<16|4278190080}else{for(;gt<mt-2;gt+=3,dt+=4){const vt=xt[gt],_t=xt[gt+1],yt=xt[gt+2];ut[dt]=vt|255,ut[dt+1]=vt<<24|_t>>>8|255,ut[dt+2]=_t<<16|yt>>>16|255,ut[dt+3]=yt<<8|255}for(let vt=gt*4,_t=lt.length;vt<_t;vt+=3)ut[dt++]=lt[vt]<<24|lt[vt+1]<<16|lt[vt+2]<<8|255}return{srcPos:ct,destPos:dt}}function ot(lt,ct){if(nt.FeatureTest.isLittleEndian)for(let ut=0,dt=lt.length;ut<dt;ut++)ct[ut]=lt[ut]*65793|4278190080;else for(let ut=0,dt=lt.length;ut<dt;ut++)ct[ut]=lt[ut]*16843008|255}},(et,tt)=>{Object.defineProperty(tt,"__esModule",{value:!0}),tt.GlobalWorkerOptions=void 0;const rt=Object.create(null);tt.GlobalWorkerOptions=rt,rt.workerPort=null,rt.workerSrc=""},(et,tt,rt)=>{var lt,Lu,ut,Bu,ft,so;Object.defineProperty(tt,"__esModule",{value:!0}),tt.MessageHandler=void 0;var nt=rt(1);const at={UNKNOWN:0,DATA:1,ERROR:2},it={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function st(gt){switch(gt instanceof Error||typeof gt=="object"&&gt!==null||(0,nt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),gt.name){case"AbortException":return new nt.AbortException(gt.message);case"MissingPDFException":return new nt.MissingPDFException(gt.message);case"PasswordException":return new nt.PasswordException(gt.message,gt.code);case"UnexpectedResponseException":return new nt.UnexpectedResponseException(gt.message,gt.status);case"UnknownErrorException":return new nt.UnknownErrorException(gt.message,gt.details);default:return new nt.UnknownErrorException(gt.message,gt.toString())}}class ot{constructor(mt,xt,vt){mr(this,lt);mr(this,ut);mr(this,ft);this.sourceName=mt,this.targetName=xt,this.comObj=vt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=_t=>{const yt=_t.data;if(yt.targetName!==this.sourceName)return;if(yt.stream){Er(this,ut,Bu).call(this,yt);return}if(yt.callback){const bt=yt.callbackId,Et=this.callbackCapabilities[bt];if(!Et)throw new Error(`Cannot resolve callback ${bt}`);if(delete this.callbackCapabilities[bt],yt.callback===at.DATA)Et.resolve(yt.data);else if(yt.callback===at.ERROR)Et.reject(st(yt.reason));else throw new Error("Unexpected callback case");return}const St=this.actionHandler[yt.action];if(!St)throw new Error(`Unknown action from worker: ${yt.action}`);if(yt.callbackId){const bt=this.sourceName,Et=yt.sourceName;new Promise(function(Tt){Tt(St(yt.data))}).then(function(Tt){vt.postMessage({sourceName:bt,targetName:Et,callback:at.DATA,callbackId:yt.callbackId,data:Tt})},function(Tt){vt.postMessage({sourceName:bt,targetName:Et,callback:at.ERROR,callbackId:yt.callbackId,reason:st(Tt)})});return}if(yt.streamId){Er(this,lt,Lu).call(this,yt);return}St(yt.data)},vt.addEventListener("message",this._onComObjOnMessage)}on(mt,xt){const vt=this.actionHandler;if(vt[mt])throw new Error(`There is already an actionName called "${mt}"`);vt[mt]=xt}send(mt,xt,vt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:mt,data:xt},vt)}sendWithPromise(mt,xt,vt){const _t=this.callbackId++,yt=new nt.PromiseCapability;this.callbackCapabilities[_t]=yt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:mt,callbackId:_t,data:xt},vt)}catch(St){yt.reject(St)}return yt.promise}sendWithStream(mt,xt,vt,_t){const yt=this.streamId++,St=this.sourceName,bt=this.targetName,Et=this.comObj;return new ReadableStream({start:Tt=>{const At=new nt.PromiseCapability;return this.streamControllers[yt]={controller:Tt,startCall:At,pullCall:null,cancelCall:null,isClosed:!1},Et.postMessage({sourceName:St,targetName:bt,action:mt,streamId:yt,data:xt,desiredSize:Tt.desiredSize},_t),At.promise},pull:Tt=>{const At=new nt.PromiseCapability;return this.streamControllers[yt].pullCall=At,Et.postMessage({sourceName:St,targetName:bt,stream:it.PULL,streamId:yt,desiredSize:Tt.desiredSize}),At.promise},cancel:Tt=>{(0,nt.assert)(Tt instanceof Error,"cancel must have a valid reason");const At=new nt.PromiseCapability;return this.streamControllers[yt].cancelCall=At,this.streamControllers[yt].isClosed=!0,Et.postMessage({sourceName:St,targetName:bt,stream:it.CANCEL,streamId:yt,reason:st(Tt)}),At.promise}},vt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}lt=new WeakSet,Lu=function(mt){const xt=mt.streamId,vt=this.sourceName,_t=mt.sourceName,yt=this.comObj,St=this,bt=this.actionHandler[mt.action],Et={enqueue(Tt,At=1,Ct){if(this.isCancelled)return;const kt=this.desiredSize;this.desiredSize-=At,kt>0&&this.desiredSize<=0&&(this.sinkCapability=new nt.PromiseCapability,this.ready=this.sinkCapability.promise),yt.postMessage({sourceName:vt,targetName:_t,stream:it.ENQUEUE,streamId:xt,chunk:Tt},Ct)},close(){this.isCancelled||(this.isCancelled=!0,yt.postMessage({sourceName:vt,targetName:_t,stream:it.CLOSE,streamId:xt}),delete St.streamSinks[xt])},error(Tt){(0,nt.assert)(Tt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,yt.postMessage({sourceName:vt,targetName:_t,stream:it.ERROR,streamId:xt,reason:st(Tt)}))},sinkCapability:new nt.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:mt.desiredSize,ready:null};Et.sinkCapability.resolve(),Et.ready=Et.sinkCapability.promise,this.streamSinks[xt]=Et,new Promise(function(Tt){Tt(bt(mt.data,Et))}).then(function(){yt.postMessage({sourceName:vt,targetName:_t,stream:it.START_COMPLETE,streamId:xt,success:!0})},function(Tt){yt.postMessage({sourceName:vt,targetName:_t,stream:it.START_COMPLETE,streamId:xt,reason:st(Tt)})})},ut=new WeakSet,Bu=function(mt){const xt=mt.streamId,vt=this.sourceName,_t=mt.sourceName,yt=this.comObj,St=this.streamControllers[xt],bt=this.streamSinks[xt];switch(mt.stream){case it.START_COMPLETE:mt.success?St.startCall.resolve():St.startCall.reject(st(mt.reason));break;case it.PULL_COMPLETE:mt.success?St.pullCall.resolve():St.pullCall.reject(st(mt.reason));break;case it.PULL:if(!bt){yt.postMessage({sourceName:vt,targetName:_t,stream:it.PULL_COMPLETE,streamId:xt,success:!0});break}bt.desiredSize<=0&&mt.desiredSize>0&&bt.sinkCapability.resolve(),bt.desiredSize=mt.desiredSize,new Promise(function(Et){var Tt;Et((Tt=bt.onPull)==null?void 0:Tt.call(bt))}).then(function(){yt.postMessage({sourceName:vt,targetName:_t,stream:it.PULL_COMPLETE,streamId:xt,success:!0})},function(Et){yt.postMessage({sourceName:vt,targetName:_t,stream:it.PULL_COMPLETE,streamId:xt,reason:st(Et)})});break;case it.ENQUEUE:if((0,nt.assert)(St,"enqueue should have stream controller"),St.isClosed)break;St.controller.enqueue(mt.chunk);break;case it.CLOSE:if((0,nt.assert)(St,"close should have stream controller"),St.isClosed)break;St.isClosed=!0,St.controller.close(),Er(this,ft,so).call(this,St,xt);break;case it.ERROR:(0,nt.assert)(St,"error should have stream controller"),St.controller.error(st(mt.reason)),Er(this,ft,so).call(this,St,xt);break;case it.CANCEL_COMPLETE:mt.success?St.cancelCall.resolve():St.cancelCall.reject(st(mt.reason)),Er(this,ft,so).call(this,St,xt);break;case it.CANCEL:if(!bt)break;new Promise(function(Et){var Tt;Et((Tt=bt.onCancel)==null?void 0:Tt.call(bt,st(mt.reason)))}).then(function(){yt.postMessage({sourceName:vt,targetName:_t,stream:it.CANCEL_COMPLETE,streamId:xt,success:!0})},function(Et){yt.postMessage({sourceName:vt,targetName:_t,stream:it.CANCEL_COMPLETE,streamId:xt,reason:st(Et)})}),bt.sinkCapability.reject(st(mt.reason)),bt.isCancelled=!0,delete this.streamSinks[xt];break;default:throw new Error("Unexpected stream case")}},ft=new WeakSet,so=async function(mt,xt){var vt,_t,yt;await Promise.allSettled([(vt=mt.startCall)==null?void 0:vt.promise,(_t=mt.pullCall)==null?void 0:_t.promise,(yt=mt.cancelCall)==null?void 0:yt.promise]),delete this.streamControllers[xt]},tt.MessageHandler=ot},(et,tt,rt)=>{var it,st;Object.defineProperty(tt,"__esModule",{value:!0}),tt.Metadata=void 0;var nt=rt(1);class at{constructor({parsedData:lt,rawData:ct}){mr(this,it,void 0);mr(this,st,void 0);jr(this,it,lt),jr(this,st,ct)}getRaw(){return zt(this,st)}get(lt){return zt(this,it).get(lt)??null}getAll(){return(0,nt.objectFromMap)(zt(this,it))}has(lt){return zt(this,it).has(lt)}}it=new WeakMap,st=new WeakMap,tt.Metadata=at},(et,tt,rt)=>{var lt,ct,ut,dt,ft,ht,El;Object.defineProperty(tt,"__esModule",{value:!0}),tt.OptionalContentConfig=void 0;var nt=rt(1),at=rt(8);const it=Symbol("INTERNAL");class st{constructor(xt,vt){mr(this,lt,!0);this.name=xt,this.intent=vt}get visible(){return zt(this,lt)}_setVisible(xt,vt){xt!==it&&(0,nt.unreachable)("Internal method `_setVisible` called."),jr(this,lt,vt)}}lt=new WeakMap;class ot{constructor(xt){mr(this,ht);mr(this,ct,null);mr(this,ut,new Map);mr(this,dt,null);mr(this,ft,null);if(this.name=null,this.creator=null,xt!==null){this.name=xt.name,this.creator=xt.creator,jr(this,ft,xt.order);for(const vt of xt.groups)zt(this,ut).set(vt.id,new st(vt.name,vt.intent));if(xt.baseState==="OFF")for(const vt of zt(this,ut).values())vt._setVisible(it,!1);for(const vt of xt.on)zt(this,ut).get(vt)._setVisible(it,!0);for(const vt of xt.off)zt(this,ut).get(vt)._setVisible(it,!1);jr(this,dt,this.getHash())}}isVisible(xt){if(zt(this,ut).size===0)return!0;if(!xt)return(0,nt.warn)("Optional content group not defined."),!0;if(xt.type==="OCG")return zt(this,ut).has(xt.id)?zt(this,ut).get(xt.id).visible:((0,nt.warn)(`Optional content group not found: ${xt.id}`),!0);if(xt.type==="OCMD"){if(xt.expression)return Er(this,ht,El).call(this,xt.expression);if(!xt.policy||xt.policy==="AnyOn"){for(const vt of xt.ids){if(!zt(this,ut).has(vt))return(0,nt.warn)(`Optional content group not found: ${vt}`),!0;if(zt(this,ut).get(vt).visible)return!0}return!1}else if(xt.policy==="AllOn"){for(const vt of xt.ids){if(!zt(this,ut).has(vt))return(0,nt.warn)(`Optional content group not found: ${vt}`),!0;if(!zt(this,ut).get(vt).visible)return!1}return!0}else if(xt.policy==="AnyOff"){for(const vt of xt.ids){if(!zt(this,ut).has(vt))return(0,nt.warn)(`Optional content group not found: ${vt}`),!0;if(!zt(this,ut).get(vt).visible)return!0}return!1}else if(xt.policy==="AllOff"){for(const vt of xt.ids){if(!zt(this,ut).has(vt))return(0,nt.warn)(`Optional content group not found: ${vt}`),!0;if(zt(this,ut).get(vt).visible)return!1}return!0}return(0,nt.warn)(`Unknown optional content policy ${xt.policy}.`),!0}return(0,nt.warn)(`Unknown group type ${xt.type}.`),!0}setVisibility(xt,vt=!0){if(!zt(this,ut).has(xt)){(0,nt.warn)(`Optional content group not found: ${xt}`);return}zt(this,ut).get(xt)._setVisible(it,!!vt),jr(this,ct,null)}get hasInitialVisibility(){return zt(this,dt)===null||this.getHash()===zt(this,dt)}getOrder(){return zt(this,ut).size?zt(this,ft)?zt(this,ft).slice():[...zt(this,ut).keys()]:null}getGroups(){return zt(this,ut).size>0?(0,nt.objectFromMap)(zt(this,ut)):null}getGroup(xt){return zt(this,ut).get(xt)||null}getHash(){if(zt(this,ct)!==null)return zt(this,ct);const xt=new at.MurmurHash3_64;for(const[vt,_t]of zt(this,ut))xt.update(`${vt}:${_t.visible}`);return jr(this,ct,xt.hexdigest())}}ct=new WeakMap,ut=new WeakMap,dt=new WeakMap,ft=new WeakMap,ht=new WeakSet,El=function(xt){const vt=xt.length;if(vt<2)return!0;const _t=xt[0];for(let yt=1;yt<vt;yt++){const St=xt[yt];let bt;if(Array.isArray(St))bt=Er(this,ht,El).call(this,St);else if(zt(this,ut).has(St))bt=zt(this,ut).get(St).visible;else return(0,nt.warn)(`Optional content group not found: ${St}`),!0;switch(_t){case"And":if(!bt)return!1;break;case"Or":if(bt)return!0;break;case"Not":return!bt;default:return!0}}return _t==="And"},tt.OptionalContentConfig=ot},(et,tt,rt)=>{Object.defineProperty(tt,"__esModule",{value:!0}),tt.PDFDataTransportStream=void 0;var nt=rt(1),at=rt(6);class it{constructor({length:ct,initialData:ut,progressiveDone:dt=!1,contentDispositionFilename:ft=null,disableRange:ht=!1,disableStream:gt=!1},mt){if((0,nt.assert)(mt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=dt,this._contentDispositionFilename=ft,(ut==null?void 0:ut.length)>0){const xt=ut instanceof Uint8Array&&ut.byteLength===ut.buffer.byteLength?ut.buffer:new Uint8Array(ut).buffer;this._queuedChunks.push(xt)}this._pdfDataRangeTransport=mt,this._isStreamingSupported=!gt,this._isRangeSupported=!ht,this._contentLength=ct,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((xt,vt)=>{this._onReceiveData({begin:xt,chunk:vt})}),this._pdfDataRangeTransport.addProgressListener((xt,vt)=>{this._onProgress({loaded:xt,total:vt})}),this._pdfDataRangeTransport.addProgressiveReadListener(xt=>{this._onReceiveData({chunk:xt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:ct,chunk:ut}){const dt=ut instanceof Uint8Array&&ut.byteLength===ut.buffer.byteLength?ut.buffer:new Uint8Array(ut).buffer;if(ct===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(dt):this._queuedChunks.push(dt);else{const ft=this._rangeReaders.some(function(ht){return ht._begin!==ct?!1:(ht._enqueue(dt),!0)});(0,nt.assert)(ft,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var ct;return((ct=this._fullRequestReader)==null?void 0:ct._loaded)??0}_onProgress(ct){var ut,dt,ft,ht;ct.total===void 0?(dt=(ut=this._rangeReaders[0])==null?void 0:ut.onProgress)==null||dt.call(ut,{loaded:ct.loaded}):(ht=(ft=this._fullRequestReader)==null?void 0:ft.onProgress)==null||ht.call(ft,{loaded:ct.loaded,total:ct.total})}_onProgressiveDone(){var ct;(ct=this._fullRequestReader)==null||ct.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(ct){const ut=this._rangeReaders.indexOf(ct);ut>=0&&this._rangeReaders.splice(ut,1)}getFullReader(){(0,nt.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const ct=this._queuedChunks;return this._queuedChunks=null,new st(this,ct,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(ct,ut){if(ut<=this._progressiveDataLength)return null;const dt=new ot(this,ct,ut);return this._pdfDataRangeTransport.requestDataRange(ct,ut),this._rangeReaders.push(dt),dt}cancelAllRequests(ct){var ut;(ut=this._fullRequestReader)==null||ut.cancel(ct);for(const dt of this._rangeReaders.slice(0))dt.cancel(ct);this._pdfDataRangeTransport.abort()}}tt.PDFDataTransportStream=it;class st{constructor(ct,ut,dt=!1,ft=null){this._stream=ct,this._done=dt||!1,this._filename=(0,at.isPdfFile)(ft)?ft:null,this._queuedChunks=ut||[],this._loaded=0;for(const ht of this._queuedChunks)this._loaded+=ht.byteLength;this._requests=[],this._headersReady=Promise.resolve(),ct._fullRequestReader=this,this.onProgress=null}_enqueue(ct){this._done||(this._requests.length>0?this._requests.shift().resolve({value:ct,done:!1}):this._queuedChunks.push(ct),this._loaded+=ct.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ct=new nt.PromiseCapability;return this._requests.push(ct),ct.promise}cancel(ct){this._done=!0;for(const ut of this._requests)ut.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ot{constructor(ct,ut,dt){this._stream=ct,this._begin=ut,this._end=dt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(ct){if(!this._done){if(this._requests.length===0)this._queuedChunk=ct;else{this._requests.shift().resolve({value:ct,done:!1});for(const dt of this._requests)dt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const ut=this._queuedChunk;return this._queuedChunk=null,{value:ut,done:!1}}if(this._done)return{value:void 0,done:!0};const ct=new nt.PromiseCapability;return this._requests.push(ct),ct.promise}cancel(ct){this._done=!0;for(const ut of this._requests)ut.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(et,tt,rt)=>{Object.defineProperty(tt,"__esModule",{value:!0}),tt.PDFFetchStream=void 0;var nt=rt(1),at=rt(20);function it(dt,ft,ht){return{method:"GET",headers:dt,signal:ht.signal,mode:"cors",credentials:ft?"include":"same-origin",redirect:"follow"}}function st(dt){const ft=new Headers;for(const ht in dt){const gt=dt[ht];gt!==void 0&&ft.append(ht,gt)}return ft}function ot(dt){return dt instanceof Uint8Array?dt.buffer:dt instanceof ArrayBuffer?dt:((0,nt.warn)(`getArrayBuffer - unexpected data format: ${dt}`),new Uint8Array(dt).buffer)}class lt{constructor(ft){this.source=ft,this.isHttp=/^https?:/i.test(ft.url),this.httpHeaders=this.isHttp&&ft.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ft;return((ft=this._fullRequestReader)==null?void 0:ft._loaded)??0}getFullReader(){return(0,nt.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ct(this),this._fullRequestReader}getRangeReader(ft,ht){if(ht<=this._progressiveDataLength)return null;const gt=new ut(this,ft,ht);return this._rangeRequestReaders.push(gt),gt}cancelAllRequests(ft){var ht;(ht=this._fullRequestReader)==null||ht.cancel(ft);for(const gt of this._rangeRequestReaders.slice(0))gt.cancel(ft)}}tt.PDFFetchStream=lt;class ct{constructor(ft){this._stream=ft,this._reader=null,this._loaded=0,this._filename=null;const ht=ft.source;this._withCredentials=ht.withCredentials||!1,this._contentLength=ht.length,this._headersCapability=new nt.PromiseCapability,this._disableRange=ht.disableRange||!1,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ht.disableStream,this._isRangeSupported=!ht.disableRange,this._headers=st(this._stream.httpHeaders);const gt=ht.url;fetch(gt,it(this._headers,this._withCredentials,this._abortController)).then(mt=>{if(!(0,at.validateResponseStatus)(mt.status))throw(0,at.createResponseStatusError)(mt.status,gt);this._reader=mt.body.getReader(),this._headersCapability.resolve();const xt=yt=>mt.headers.get(yt),{allowRangeRequests:vt,suggestedLength:_t}=(0,at.validateRangeRequestCapabilities)({getResponseHeader:xt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=vt,this._contentLength=_t||this._contentLength,this._filename=(0,at.extractFilenameFromHeader)(xt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new nt.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var gt;await this._headersCapability.promise;const{value:ft,done:ht}=await this._reader.read();return ht?{value:ft,done:ht}:(this._loaded+=ft.byteLength,(gt=this.onProgress)==null||gt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:ot(ft),done:!1})}cancel(ft){var ht;(ht=this._reader)==null||ht.cancel(ft),this._abortController.abort()}}class ut{constructor(ft,ht,gt){this._stream=ft,this._reader=null,this._loaded=0;const mt=ft.source;this._withCredentials=mt.withCredentials||!1,this._readCapability=new nt.PromiseCapability,this._isStreamingSupported=!mt.disableStream,this._abortController=new AbortController,this._headers=st(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ht}-${gt-1}`);const xt=mt.url;fetch(xt,it(this._headers,this._withCredentials,this._abortController)).then(vt=>{if(!(0,at.validateResponseStatus)(vt.status))throw(0,at.createResponseStatusError)(vt.status,xt);this._readCapability.resolve(),this._reader=vt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var gt;await this._readCapability.promise;const{value:ft,done:ht}=await this._reader.read();return ht?{value:ft,done:ht}:(this._loaded+=ft.byteLength,(gt=this.onProgress)==null||gt.call(this,{loaded:this._loaded}),{value:ot(ft),done:!1})}cancel(ft){var ht;(ht=this._reader)==null||ht.cancel(ft),this._abortController.abort()}}},(et,tt,rt)=>{Object.defineProperty(tt,"__esModule",{value:!0}),tt.createResponseStatusError=lt,tt.extractFilenameFromHeader=ot,tt.validateRangeRequestCapabilities=st,tt.validateResponseStatus=ct;var nt=rt(1),at=rt(21),it=rt(6);function st({getResponseHeader:ut,isHttp:dt,rangeChunkSize:ft,disableRange:ht}){const gt={allowRangeRequests:!1,suggestedLength:void 0},mt=parseInt(ut("Content-Length"),10);return!Number.isInteger(mt)||(gt.suggestedLength=mt,mt<=2*ft)||ht||!dt||ut("Accept-Ranges")!=="bytes"||(ut("Content-Encoding")||"identity")!=="identity"||(gt.allowRangeRequests=!0),gt}function ot(ut){const dt=ut("Content-Disposition");if(dt){let ft=(0,at.getFilenameFromContentDispositionHeader)(dt);if(ft.includes("%"))try{ft=decodeURIComponent(ft)}catch{}if((0,it.isPdfFile)(ft))return ft}return null}function lt(ut,dt){return ut===404||ut===0&&dt.startsWith("file:")?new nt.MissingPDFException('Missing PDF "'+dt+'".'):new nt.UnexpectedResponseException(`Unexpected server response (${ut}) while retrieving PDF "${dt}".`,ut)}function ct(ut){return ut===200||ut===206}},(et,tt,rt)=>{Object.defineProperty(tt,"__esModule",{value:!0}),tt.getFilenameFromContentDispositionHeader=at;var nt=rt(1);function at(it){let st=!0,ot=lt("filename\\*","i").exec(it);if(ot){ot=ot[1];let mt=ft(ot);return mt=unescape(mt),mt=ht(mt),mt=gt(mt),ut(mt)}if(ot=dt(it),ot){const mt=gt(ot);return ut(mt)}if(ot=lt("filename","i").exec(it),ot){ot=ot[1];let mt=ft(ot);return mt=gt(mt),ut(mt)}function lt(mt,xt){return new RegExp("(?:^|;)\\s*"+mt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',xt)}function ct(mt,xt){if(mt){if(!/^[\x00-\xFF]+$/.test(xt))return xt;try{const vt=new TextDecoder(mt,{fatal:!0}),_t=(0,nt.stringToBytes)(xt);xt=vt.decode(_t),st=!1}catch{}}return xt}function ut(mt){return st&&/[\x80-\xff]/.test(mt)&&(mt=ct("utf-8",mt),st&&(mt=ct("iso-8859-1",mt))),mt}function dt(mt){const xt=[];let vt;const _t=lt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(vt=_t.exec(mt))!==null;){let[,St,bt,Et]=vt;if(St=parseInt(St,10),St in xt){if(St===0)break;continue}xt[St]=[bt,Et]}const yt=[];for(let St=0;St<xt.length&&St in xt;++St){let[bt,Et]=xt[St];Et=ft(Et),bt&&(Et=unescape(Et),St===0&&(Et=ht(Et))),yt.push(Et)}return yt.join("")}function ft(mt){if(mt.startsWith('"')){const xt=mt.slice(1).split('\\"');for(let vt=0;vt<xt.length;++vt){const _t=xt[vt].indexOf('"');_t!==-1&&(xt[vt]=xt[vt].slice(0,_t),xt.length=vt+1),xt[vt]=xt[vt].replaceAll(/\\(.)/g,"$1")}mt=xt.join('"')}return mt}function ht(mt){const xt=mt.indexOf("'");if(xt===-1)return mt;const vt=mt.slice(0,xt),yt=mt.slice(xt+1).replace(/^[^']*'/,"");return ct(vt,yt)}function gt(mt){return!mt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(mt)?mt:mt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(xt,vt,_t,yt){if(_t==="q"||_t==="Q")return yt=yt.replaceAll("_"," "),yt=yt.replaceAll(/=([0-9a-fA-F]{2})/g,function(St,bt){return String.fromCharCode(parseInt(bt,16))}),ct(vt,yt);try{yt=atob(yt)}catch{}return ct(vt,yt)})}return""}},(et,tt,rt)=>{Object.defineProperty(tt,"__esModule",{value:!0}),tt.PDFNetworkStream=void 0;var nt=rt(1),at=rt(20);const it=200,st=206;function ot(ft){const ht=ft.response;return typeof ht!="string"?ht:(0,nt.stringToBytes)(ht).buffer}class lt{constructor(ht,gt={}){this.url=ht,this.isHttp=/^https?:/i.test(ht),this.httpHeaders=this.isHttp&&gt.httpHeaders||Object.create(null),this.withCredentials=gt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ht,gt,mt){const xt={begin:ht,end:gt};for(const vt in mt)xt[vt]=mt[vt];return this.request(xt)}requestFull(ht){return this.request(ht)}request(ht){const gt=new XMLHttpRequest,mt=this.currXhrId++,xt=this.pendingRequests[mt]={xhr:gt};gt.open("GET",this.url),gt.withCredentials=this.withCredentials;for(const vt in this.httpHeaders){const _t=this.httpHeaders[vt];_t!==void 0&&gt.setRequestHeader(vt,_t)}return this.isHttp&&"begin"in ht&&"end"in ht?(gt.setRequestHeader("Range",`bytes=${ht.begin}-${ht.end-1}`),xt.expectedStatus=st):xt.expectedStatus=it,gt.responseType="arraybuffer",ht.onError&&(gt.onerror=function(vt){ht.onError(gt.status)}),gt.onreadystatechange=this.onStateChange.bind(this,mt),gt.onprogress=this.onProgress.bind(this,mt),xt.onHeadersReceived=ht.onHeadersReceived,xt.onDone=ht.onDone,xt.onError=ht.onError,xt.onProgress=ht.onProgress,gt.send(null),mt}onProgress(ht,gt){var xt;const mt=this.pendingRequests[ht];mt&&((xt=mt.onProgress)==null||xt.call(mt,gt))}onStateChange(ht,gt){var St,bt,Et;const mt=this.pendingRequests[ht];if(!mt)return;const xt=mt.xhr;if(xt.readyState>=2&&mt.onHeadersReceived&&(mt.onHeadersReceived(),delete mt.onHeadersReceived),xt.readyState!==4||!(ht in this.pendingRequests))return;if(delete this.pendingRequests[ht],xt.status===0&&this.isHttp){(St=mt.onError)==null||St.call(mt,xt.status);return}const vt=xt.status||it;if(!(vt===it&&mt.expectedStatus===st)&&vt!==mt.expectedStatus){(bt=mt.onError)==null||bt.call(mt,xt.status);return}const yt=ot(xt);if(vt===st){const Tt=xt.getResponseHeader("Content-Range"),At=/bytes (\d+)-(\d+)\/(\d+)/.exec(Tt);mt.onDone({begin:parseInt(At[1],10),chunk:yt})}else yt?mt.onDone({begin:0,chunk:yt}):(Et=mt.onError)==null||Et.call(mt,xt.status)}getRequestXhr(ht){return this.pendingRequests[ht].xhr}isPendingRequest(ht){return ht in this.pendingRequests}abortRequest(ht){const gt=this.pendingRequests[ht].xhr;delete this.pendingRequests[ht],gt.abort()}}class ct{constructor(ht){this._source=ht,this._manager=new lt(ht.url,{httpHeaders:ht.httpHeaders,withCredentials:ht.withCredentials}),this._rangeChunkSize=ht.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ht){const gt=this._rangeRequestReaders.indexOf(ht);gt>=0&&this._rangeRequestReaders.splice(gt,1)}getFullReader(){return(0,nt.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ut(this._manager,this._source),this._fullRequestReader}getRangeReader(ht,gt){const mt=new dt(this._manager,ht,gt);return mt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(mt),mt}cancelAllRequests(ht){var gt;(gt=this._fullRequestReader)==null||gt.cancel(ht);for(const mt of this._rangeRequestReaders.slice(0))mt.cancel(ht)}}tt.PDFNetworkStream=ct;class ut{constructor(ht,gt){this._manager=ht;const mt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=gt.url,this._fullRequestId=ht.requestFull(mt),this._headersReceivedCapability=new nt.PromiseCapability,this._disableRange=gt.disableRange||!1,this._contentLength=gt.length,this._rangeChunkSize=gt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ht=this._fullRequestId,gt=this._manager.getRequestXhr(ht),mt=_t=>gt.getResponseHeader(_t),{allowRangeRequests:xt,suggestedLength:vt}=(0,at.validateRangeRequestCapabilities)({getResponseHeader:mt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});xt&&(this._isRangeSupported=!0),this._contentLength=vt||this._contentLength,this._filename=(0,at.extractFilenameFromHeader)(mt),this._isRangeSupported&&this._manager.abortRequest(ht),this._headersReceivedCapability.resolve()}_onDone(ht){if(ht&&(this._requests.length>0?this._requests.shift().resolve({value:ht.chunk,done:!1}):this._cachedChunks.push(ht.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const gt of this._requests)gt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ht){this._storedError=(0,at.createResponseStatusError)(ht,this._url),this._headersReceivedCapability.reject(this._storedError);for(const gt of this._requests)gt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ht){var gt;(gt=this.onProgress)==null||gt.call(this,{loaded:ht.loaded,total:ht.lengthComputable?ht.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ht=new nt.PromiseCapability;return this._requests.push(ht),ht.promise}cancel(ht){this._done=!0,this._headersReceivedCapability.reject(ht);for(const gt of this._requests)gt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class dt{constructor(ht,gt,mt){this._manager=ht;const xt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ht.url,this._requestId=ht.requestRange(gt,mt,xt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var ht;(ht=this.onClosed)==null||ht.call(this,this)}_onDone(ht){const gt=ht.chunk;this._requests.length>0?this._requests.shift().resolve({value:gt,done:!1}):this._queuedChunk=gt,this._done=!0;for(const mt of this._requests)mt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ht){this._storedError=(0,at.createResponseStatusError)(ht,this._url);for(const gt of this._requests)gt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ht){var gt;this.isStreamingSupported||(gt=this.onProgress)==null||gt.call(this,{loaded:ht.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const gt=this._queuedChunk;return this._queuedChunk=null,{value:gt,done:!1}}if(this._done)return{value:void 0,done:!0};const ht=new nt.PromiseCapability;return this._requests.push(ht),ht.promise}cancel(ht){this._done=!0;for(const gt of this._requests)gt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(et,tt,rt)=>{Object.defineProperty(tt,"__esModule",{value:!0}),tt.PDFNodeStream=void 0;var nt=rt(1),at=rt(20);const it=/^file:\/\/\/[a-zA-Z]:\//;function st(mt){const xt=require$$5,vt=xt.parse(mt);return vt.protocol==="file:"||vt.host?vt:/^[a-z]:[/\\]/i.test(mt)?xt.parse(`file:///${mt}`):(vt.host||(vt.protocol="file:"),vt)}class ot{constructor(xt){this.source=xt,this.url=st(xt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&xt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var xt;return((xt=this._fullRequestReader)==null?void 0:xt._loaded)??0}getFullReader(){return(0,nt.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new ht(this):new dt(this),this._fullRequestReader}getRangeReader(xt,vt){if(vt<=this._progressiveDataLength)return null;const _t=this.isFsUrl?new gt(this,xt,vt):new ft(this,xt,vt);return this._rangeRequestReaders.push(_t),_t}cancelAllRequests(xt){var vt;(vt=this._fullRequestReader)==null||vt.cancel(xt);for(const _t of this._rangeRequestReaders.slice(0))_t.cancel(xt)}}tt.PDFNodeStream=ot;class lt{constructor(xt){this._url=xt.url,this._done=!1,this._storedError=null,this.onProgress=null;const vt=xt.source;this._contentLength=vt.length,this._loaded=0,this._filename=null,this._disableRange=vt.disableRange||!1,this._rangeChunkSize=vt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!vt.disableStream,this._isRangeSupported=!vt.disableRange,this._readableStream=null,this._readCapability=new nt.PromiseCapability,this._headersCapability=new nt.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const xt=this._readableStream.read();return xt===null?(this._readCapability=new nt.PromiseCapability,this.read()):(this._loaded+=xt.length,(_t=this.onProgress)==null||_t.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(xt).buffer,done:!1})}cancel(xt){if(!this._readableStream){this._error(xt);return}this._readableStream.destroy(xt)}_error(xt){this._storedError=xt,this._readCapability.resolve()}_setReadableStream(xt){this._readableStream=xt,xt.on("readable",()=>{this._readCapability.resolve()}),xt.on("end",()=>{xt.destroy(),this._done=!0,this._readCapability.resolve()}),xt.on("error",vt=>{this._error(vt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new nt.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ct{constructor(xt){this._url=xt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new nt.PromiseCapability;const vt=xt.source;this._isStreamingSupported=!vt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const xt=this._readableStream.read();return xt===null?(this._readCapability=new nt.PromiseCapability,this.read()):(this._loaded+=xt.length,(_t=this.onProgress)==null||_t.call(this,{loaded:this._loaded}),{value:new Uint8Array(xt).buffer,done:!1})}cancel(xt){if(!this._readableStream){this._error(xt);return}this._readableStream.destroy(xt)}_error(xt){this._storedError=xt,this._readCapability.resolve()}_setReadableStream(xt){this._readableStream=xt,xt.on("readable",()=>{this._readCapability.resolve()}),xt.on("end",()=>{xt.destroy(),this._done=!0,this._readCapability.resolve()}),xt.on("error",vt=>{this._error(vt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function ut(mt,xt){return{protocol:mt.protocol,auth:mt.auth,host:mt.hostname,port:mt.port,path:mt.path,method:"GET",headers:xt}}class dt extends lt{constructor(xt){super(xt);const vt=_t=>{if(_t.statusCode===404){const Et=new nt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Et,this._headersCapability.reject(Et);return}this._headersCapability.resolve(),this._setReadableStream(_t);const yt=Et=>this._readableStream.headers[Et.toLowerCase()],{allowRangeRequests:St,suggestedLength:bt}=(0,at.validateRangeRequestCapabilities)({getResponseHeader:yt,isHttp:xt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=St,this._contentLength=bt||this._contentLength,this._filename=(0,at.extractFilenameFromHeader)(yt)};if(this._request=null,this._url.protocol==="http:"){const _t=require$$5;this._request=_t.request(ut(this._url,xt.httpHeaders),vt)}else{const _t=require$$5;this._request=_t.request(ut(this._url,xt.httpHeaders),vt)}this._request.on("error",_t=>{this._storedError=_t,this._headersCapability.reject(_t)}),this._request.end()}}class ft extends ct{constructor(xt,vt,_t){super(xt),this._httpHeaders={};for(const St in xt.httpHeaders){const bt=xt.httpHeaders[St];bt!==void 0&&(this._httpHeaders[St]=bt)}this._httpHeaders.Range=`bytes=${vt}-${_t-1}`;const yt=St=>{if(St.statusCode===404){const bt=new nt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=bt;return}this._setReadableStream(St)};if(this._request=null,this._url.protocol==="http:"){const St=require$$5;this._request=St.request(ut(this._url,this._httpHeaders),yt)}else{const St=require$$5;this._request=St.request(ut(this._url,this._httpHeaders),yt)}this._request.on("error",St=>{this._storedError=St}),this._request.end()}}class ht extends lt{constructor(xt){super(xt);let vt=decodeURIComponent(this._url.path);it.test(this._url.href)&&(vt=vt.replace(/^\//,""));const _t=require$$5;_t.lstat(vt,(yt,St)=>{if(yt){yt.code==="ENOENT"&&(yt=new nt.MissingPDFException(`Missing PDF "${vt}".`)),this._storedError=yt,this._headersCapability.reject(yt);return}this._contentLength=St.size,this._setReadableStream(_t.createReadStream(vt)),this._headersCapability.resolve()})}}class gt extends ct{constructor(xt,vt,_t){super(xt);let yt=decodeURIComponent(this._url.path);it.test(this._url.href)&&(yt=yt.replace(/^\//,""));const St=require$$5;this._setReadableStream(St.createReadStream(yt,{start:vt,end:_t-1}))}}},(et,tt,rt)=>{Object.defineProperty(tt,"__esModule",{value:!0}),tt.SVGGraphics=void 0;var nt=rt(6),at=rt(1);const it={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},st="http://www.w3.org/XML/1998/namespace",ot="http://www.w3.org/1999/xlink",lt=["butt","round","square"],ct=["miter","round","bevel"],ut=function(St,bt="",Et=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Et)return URL.createObjectURL(new Blob([St],{type:bt}));const Tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let At=`data:${bt};base64,`;for(let Ct=0,kt=St.length;Ct<kt;Ct+=3){const Pt=St[Ct]&255,Dt=St[Ct+1]&255,Ft=St[Ct+2]&255,Ot=Pt>>2,It=(Pt&3)<<4|Dt>>4,Bt=Ct+1<kt?(Dt&15)<<2|Ft>>6:64,qt=Ct+2<kt?Ft&63:64;At+=Tt[Ot]+Tt[It]+Tt[Bt]+Tt[qt]}return At},dt=function(){const St=new Uint8Array([137,80,78,71,13,10,26,10]),bt=12,Et=new Int32Array(256);for(let Ft=0;Ft<256;Ft++){let Ot=Ft;for(let It=0;It<8;It++)Ot=Ot&1?3988292384^Ot>>1&2147483647:Ot>>1&2147483647;Et[Ft]=Ot}function Tt(Ft,Ot,It){let Bt=-1;for(let qt=Ot;qt<It;qt++){const Ut=(Bt^Ft[qt])&255,Ht=Et[Ut];Bt=Bt>>>8^Ht}return Bt^-1}function At(Ft,Ot,It,Bt){let qt=Bt;const Ut=Ot.length;It[qt]=Ut>>24&255,It[qt+1]=Ut>>16&255,It[qt+2]=Ut>>8&255,It[qt+3]=Ut&255,qt+=4,It[qt]=Ft.charCodeAt(0)&255,It[qt+1]=Ft.charCodeAt(1)&255,It[qt+2]=Ft.charCodeAt(2)&255,It[qt+3]=Ft.charCodeAt(3)&255,qt+=4,It.set(Ot,qt),qt+=Ot.length;const Ht=Tt(It,Bt+4,qt);It[qt]=Ht>>24&255,It[qt+1]=Ht>>16&255,It[qt+2]=Ht>>8&255,It[qt+3]=Ht&255}function Ct(Ft,Ot,It){let Bt=1,qt=0;for(let Ut=Ot;Ut<It;++Ut)Bt=(Bt+(Ft[Ut]&255))%65521,qt=(qt+Bt)%65521;return qt<<16|Bt}function kt(Ft){if(!at.isNodeJS)return Pt(Ft);try{const Ot=parseInt(process.versions.node)>=8?Ft:Buffer.from(Ft),It=require$$5.deflateSync(Ot,{level:9});return It instanceof Uint8Array?It:new Uint8Array(It)}catch(Ot){(0,at.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Ot)}return Pt(Ft)}function Pt(Ft){let Ot=Ft.length;const It=65535,Bt=Math.ceil(Ot/It),qt=new Uint8Array(2+Ot+Bt*5+4);let Ut=0;qt[Ut++]=120,qt[Ut++]=156;let Ht=0;for(;Ot>It;)qt[Ut++]=0,qt[Ut++]=255,qt[Ut++]=255,qt[Ut++]=0,qt[Ut++]=0,qt.set(Ft.subarray(Ht,Ht+It),Ut),Ut+=It,Ht+=It,Ot-=It;qt[Ut++]=1,qt[Ut++]=Ot&255,qt[Ut++]=Ot>>8&255,qt[Ut++]=~Ot&65535&255,qt[Ut++]=(~Ot&65535)>>8&255,qt.set(Ft.subarray(Ht),Ut),Ut+=Ft.length-Ht;const Qt=Ct(Ft,0,Ft.length);return qt[Ut++]=Qt>>24&255,qt[Ut++]=Qt>>16&255,qt[Ut++]=Qt>>8&255,qt[Ut++]=Qt&255,qt}function Dt(Ft,Ot,It,Bt){const qt=Ft.width,Ut=Ft.height;let Ht,Qt,ir;const Xt=Ft.data;switch(Ot){case at.ImageKind.GRAYSCALE_1BPP:Qt=0,Ht=1,ir=qt+7>>3;break;case at.ImageKind.RGB_24BPP:Qt=2,Ht=8,ir=qt*3;break;case at.ImageKind.RGBA_32BPP:Qt=6,Ht=8,ir=qt*4;break;default:throw new Error("invalid format")}const Lt=new Uint8Array((1+ir)*Ut);let jt=0,Nt=0;for(let ar=0;ar<Ut;++ar)Lt[jt++]=0,Lt.set(Xt.subarray(Nt,Nt+ir),jt),Nt+=ir,jt+=ir;if(Ot===at.ImageKind.GRAYSCALE_1BPP&&Bt){jt=0;for(let ar=0;ar<Ut;ar++){jt++;for(let Kt=0;Kt<ir;Kt++)Lt[jt++]^=255}}const Mt=new Uint8Array([qt>>24&255,qt>>16&255,qt>>8&255,qt&255,Ut>>24&255,Ut>>16&255,Ut>>8&255,Ut&255,Ht,Qt,0,0,0]),Vt=kt(Lt),Gt=St.length+bt*3+Mt.length+Vt.length,Zt=new Uint8Array(Gt);let er=0;return Zt.set(St,er),er+=St.length,At("IHDR",Mt,Zt,er),er+=bt+Mt.length,At("IDATA",Vt,Zt,er),er+=bt+Vt.length,At("IEND",new Uint8Array(0),Zt,er),ut(Zt,"image/png",It)}return function(Ot,It,Bt){const qt=Ot.kind===void 0?at.ImageKind.GRAYSCALE_1BPP:Ot.kind;return Dt(Ot,qt,It,Bt)}}();class ft{constructor(){this.fontSizeScale=1,this.fontWeight=it.fontWeight,this.fontSize=0,this.textMatrix=at.IDENTITY_MATRIX,this.fontMatrix=at.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=at.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=it.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(bt,Et){this.x=bt,this.y=Et}}function ht(St){let bt=[];const Et=[];for(const Tt of St){if(Tt.fn==="save"){bt.push({fnId:92,fn:"group",items:[]}),Et.push(bt),bt=bt.at(-1).items;continue}Tt.fn==="restore"?bt=Et.pop():bt.push(Tt)}return bt}function gt(St){if(Number.isInteger(St))return St.toString();const bt=St.toFixed(10);let Et=bt.length-1;if(bt[Et]!=="0")return bt;do Et--;while(bt[Et]==="0");return bt.substring(0,bt[Et]==="."?Et:Et+1)}function mt(St){if(St[4]===0&&St[5]===0){if(St[1]===0&&St[2]===0)return St[0]===1&&St[3]===1?"":`scale(${gt(St[0])} ${gt(St[3])})`;if(St[0]===St[3]&&St[1]===-St[2]){const bt=Math.acos(St[0])*180/Math.PI;return`rotate(${gt(bt)})`}}else if(St[0]===1&&St[1]===0&&St[2]===0&&St[3]===1)return`translate(${gt(St[4])} ${gt(St[5])})`;return`matrix(${gt(St[0])} ${gt(St[1])} ${gt(St[2])} ${gt(St[3])} ${gt(St[4])} ${gt(St[5])})`}let xt=0,vt=0,_t=0;class yt{constructor(bt,Et,Tt=!1){(0,nt.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new nt.DOMSVGFactory,this.current=new ft,this.transformMatrix=at.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=bt,this.objs=Et,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Tt,this._operatorIdMapping=[];for(const At in at.OPS)this._operatorIdMapping[at.OPS[At]]=At}getObject(bt,Et=null){return typeof bt=="string"?bt.startsWith("g_")?this.commonObjs.get(bt):this.objs.get(bt):Et}save(){this.transformStack.push(this.transformMatrix);const bt=this.current;this.extraStack.push(bt),this.current=bt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(bt){this.save(),this.executeOpTree(bt),this.restore()}loadDependencies(bt){const Et=bt.fnArray,Tt=bt.argsArray;for(let At=0,Ct=Et.length;At<Ct;At++)if(Et[At]===at.OPS.dependency)for(const kt of Tt[At]){const Pt=kt.startsWith("g_")?this.commonObjs:this.objs,Dt=new Promise(Ft=>{Pt.get(kt,Ft)});this.current.dependencies.push(Dt)}return Promise.all(this.current.dependencies)}transform(bt,Et,Tt,At,Ct,kt){const Pt=[bt,Et,Tt,At,Ct,kt];this.transformMatrix=at.Util.transform(this.transformMatrix,Pt),this.tgrp=null}getSVG(bt,Et){this.viewport=Et;const Tt=this._initialize(Et);return this.loadDependencies(bt).then(()=>(this.transformMatrix=at.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(bt)),Tt))}convertOpList(bt){const Et=this._operatorIdMapping,Tt=bt.argsArray,At=bt.fnArray,Ct=[];for(let kt=0,Pt=At.length;kt<Pt;kt++){const Dt=At[kt];Ct.push({fnId:Dt,fn:Et[Dt],args:Tt[kt]})}return ht(Ct)}executeOpTree(bt){for(const Et of bt){const Tt=Et.fn,At=Et.fnId,Ct=Et.args;switch(At|0){case at.OPS.beginText:this.beginText();break;case at.OPS.dependency:break;case at.OPS.setLeading:this.setLeading(Ct);break;case at.OPS.setLeadingMoveText:this.setLeadingMoveText(Ct[0],Ct[1]);break;case at.OPS.setFont:this.setFont(Ct);break;case at.OPS.showText:this.showText(Ct[0]);break;case at.OPS.showSpacedText:this.showText(Ct[0]);break;case at.OPS.endText:this.endText();break;case at.OPS.moveText:this.moveText(Ct[0],Ct[1]);break;case at.OPS.setCharSpacing:this.setCharSpacing(Ct[0]);break;case at.OPS.setWordSpacing:this.setWordSpacing(Ct[0]);break;case at.OPS.setHScale:this.setHScale(Ct[0]);break;case at.OPS.setTextMatrix:this.setTextMatrix(Ct[0],Ct[1],Ct[2],Ct[3],Ct[4],Ct[5]);break;case at.OPS.setTextRise:this.setTextRise(Ct[0]);break;case at.OPS.setTextRenderingMode:this.setTextRenderingMode(Ct[0]);break;case at.OPS.setLineWidth:this.setLineWidth(Ct[0]);break;case at.OPS.setLineJoin:this.setLineJoin(Ct[0]);break;case at.OPS.setLineCap:this.setLineCap(Ct[0]);break;case at.OPS.setMiterLimit:this.setMiterLimit(Ct[0]);break;case at.OPS.setFillRGBColor:this.setFillRGBColor(Ct[0],Ct[1],Ct[2]);break;case at.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Ct[0],Ct[1],Ct[2]);break;case at.OPS.setStrokeColorN:this.setStrokeColorN(Ct);break;case at.OPS.setFillColorN:this.setFillColorN(Ct);break;case at.OPS.shadingFill:this.shadingFill(Ct[0]);break;case at.OPS.setDash:this.setDash(Ct[0],Ct[1]);break;case at.OPS.setRenderingIntent:this.setRenderingIntent(Ct[0]);break;case at.OPS.setFlatness:this.setFlatness(Ct[0]);break;case at.OPS.setGState:this.setGState(Ct[0]);break;case at.OPS.fill:this.fill();break;case at.OPS.eoFill:this.eoFill();break;case at.OPS.stroke:this.stroke();break;case at.OPS.fillStroke:this.fillStroke();break;case at.OPS.eoFillStroke:this.eoFillStroke();break;case at.OPS.clip:this.clip("nonzero");break;case at.OPS.eoClip:this.clip("evenodd");break;case at.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case at.OPS.paintImageXObject:this.paintImageXObject(Ct[0]);break;case at.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Ct[0]);break;case at.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Ct[0]);break;case at.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Ct[0],Ct[1]);break;case at.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case at.OPS.closePath:this.closePath();break;case at.OPS.closeStroke:this.closeStroke();break;case at.OPS.closeFillStroke:this.closeFillStroke();break;case at.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case at.OPS.nextLine:this.nextLine();break;case at.OPS.transform:this.transform(Ct[0],Ct[1],Ct[2],Ct[3],Ct[4],Ct[5]);break;case at.OPS.constructPath:this.constructPath(Ct[0],Ct[1]);break;case at.OPS.endPath:this.endPath();break;case 92:this.group(Et.items);break;default:(0,at.warn)(`Unimplemented operator ${Tt}`);break}}}setWordSpacing(bt){this.current.wordSpacing=bt}setCharSpacing(bt){this.current.charSpacing=bt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(bt,Et,Tt,At,Ct,kt){const Pt=this.current;Pt.textMatrix=Pt.lineMatrix=[bt,Et,Tt,At,Ct,kt],Pt.textMatrixScale=Math.hypot(bt,Et),Pt.x=Pt.lineX=0,Pt.y=Pt.lineY=0,Pt.xcoords=[],Pt.ycoords=[],Pt.tspan=this.svgFactory.createElement("svg:tspan"),Pt.tspan.setAttributeNS(null,"font-family",Pt.fontFamily),Pt.tspan.setAttributeNS(null,"font-size",`${gt(Pt.fontSize)}px`),Pt.tspan.setAttributeNS(null,"y",gt(-Pt.y)),Pt.txtElement=this.svgFactory.createElement("svg:text"),Pt.txtElement.append(Pt.tspan)}beginText(){const bt=this.current;bt.x=bt.lineX=0,bt.y=bt.lineY=0,bt.textMatrix=at.IDENTITY_MATRIX,bt.lineMatrix=at.IDENTITY_MATRIX,bt.textMatrixScale=1,bt.tspan=this.svgFactory.createElement("svg:tspan"),bt.txtElement=this.svgFactory.createElement("svg:text"),bt.txtgrp=this.svgFactory.createElement("svg:g"),bt.xcoords=[],bt.ycoords=[]}moveText(bt,Et){const Tt=this.current;Tt.x=Tt.lineX+=bt,Tt.y=Tt.lineY+=Et,Tt.xcoords=[],Tt.ycoords=[],Tt.tspan=this.svgFactory.createElement("svg:tspan"),Tt.tspan.setAttributeNS(null,"font-family",Tt.fontFamily),Tt.tspan.setAttributeNS(null,"font-size",`${gt(Tt.fontSize)}px`),Tt.tspan.setAttributeNS(null,"y",gt(-Tt.y))}showText(bt){const Et=this.current,Tt=Et.font,At=Et.fontSize;if(At===0)return;const Ct=Et.fontSizeScale,kt=Et.charSpacing,Pt=Et.wordSpacing,Dt=Et.fontDirection,Ft=Et.textHScale*Dt,Ot=Tt.vertical,It=Ot?1:-1,Bt=Tt.defaultVMetrics,qt=At*Et.fontMatrix[0];let Ut=0;for(const ir of bt){if(ir===null){Ut+=Dt*Pt;continue}else if(typeof ir=="number"){Ut+=It*ir*At/1e3;continue}const Xt=(ir.isSpace?Pt:0)+kt,Lt=ir.fontChar;let jt,Nt,Mt=ir.width;if(Ot){let Gt;const Zt=ir.vmetric||Bt;Gt=ir.vmetric?Zt[1]:Mt*.5,Gt=-Gt*qt;const er=Zt[2]*qt;Mt=Zt?-Zt[0]:Mt,jt=Gt/Ct,Nt=(Ut+er)/Ct}else jt=Ut/Ct,Nt=0;(ir.isInFont||Tt.missingFile)&&(Et.xcoords.push(Et.x+jt),Ot&&Et.ycoords.push(-Et.y+Nt),Et.tspan.textContent+=Lt);const Vt=Ot?Mt*qt-Xt*Dt:Mt*qt+Xt*Dt;Ut+=Vt}Et.tspan.setAttributeNS(null,"x",Et.xcoords.map(gt).join(" ")),Ot?Et.tspan.setAttributeNS(null,"y",Et.ycoords.map(gt).join(" ")):Et.tspan.setAttributeNS(null,"y",gt(-Et.y)),Ot?Et.y-=Ut:Et.x+=Ut*Ft,Et.tspan.setAttributeNS(null,"font-family",Et.fontFamily),Et.tspan.setAttributeNS(null,"font-size",`${gt(Et.fontSize)}px`),Et.fontStyle!==it.fontStyle&&Et.tspan.setAttributeNS(null,"font-style",Et.fontStyle),Et.fontWeight!==it.fontWeight&&Et.tspan.setAttributeNS(null,"font-weight",Et.fontWeight);const Ht=Et.textRenderingMode&at.TextRenderingMode.FILL_STROKE_MASK;if(Ht===at.TextRenderingMode.FILL||Ht===at.TextRenderingMode.FILL_STROKE?(Et.fillColor!==it.fillColor&&Et.tspan.setAttributeNS(null,"fill",Et.fillColor),Et.fillAlpha<1&&Et.tspan.setAttributeNS(null,"fill-opacity",Et.fillAlpha)):Et.textRenderingMode===at.TextRenderingMode.ADD_TO_PATH?Et.tspan.setAttributeNS(null,"fill","transparent"):Et.tspan.setAttributeNS(null,"fill","none"),Ht===at.TextRenderingMode.STROKE||Ht===at.TextRenderingMode.FILL_STROKE){const ir=1/(Et.textMatrixScale||1);this._setStrokeAttributes(Et.tspan,ir)}let Qt=Et.textMatrix;Et.textRise!==0&&(Qt=Qt.slice(),Qt[5]+=Et.textRise),Et.txtElement.setAttributeNS(null,"transform",`${mt(Qt)} scale(${gt(Ft)}, -1)`),Et.txtElement.setAttributeNS(st,"xml:space","preserve"),Et.txtElement.append(Et.tspan),Et.txtgrp.append(Et.txtElement),this._ensureTransformGroup().append(Et.txtElement)}setLeadingMoveText(bt,Et){this.setLeading(-Et),this.moveText(bt,Et)}addFontStyle(bt){if(!bt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Et=ut(bt.data,bt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${bt.loadedName}"; src: url(${Et}); }
`}setFont(bt){const Et=this.current,Tt=this.commonObjs.get(bt[0]);let At=bt[1];Et.font=Tt,this.embedFonts&&!Tt.missingFile&&!this.embeddedFonts[Tt.loadedName]&&(this.addFontStyle(Tt),this.embeddedFonts[Tt.loadedName]=Tt),Et.fontMatrix=Tt.fontMatrix||at.FONT_IDENTITY_MATRIX;let Ct="normal";Tt.black?Ct="900":Tt.bold&&(Ct="bold");const kt=Tt.italic?"italic":"normal";At<0?(At=-At,Et.fontDirection=-1):Et.fontDirection=1,Et.fontSize=At,Et.fontFamily=Tt.loadedName,Et.fontWeight=Ct,Et.fontStyle=kt,Et.tspan=this.svgFactory.createElement("svg:tspan"),Et.tspan.setAttributeNS(null,"y",gt(-Et.y)),Et.xcoords=[],Et.ycoords=[]}endText(){var Et;const bt=this.current;bt.textRenderingMode&at.TextRenderingMode.ADD_TO_PATH_FLAG&&((Et=bt.txtElement)!=null&&Et.hasChildNodes())&&(bt.element=bt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(bt){bt>0&&(this.current.lineWidth=bt)}setLineCap(bt){this.current.lineCap=lt[bt]}setLineJoin(bt){this.current.lineJoin=ct[bt]}setMiterLimit(bt){this.current.miterLimit=bt}setStrokeAlpha(bt){this.current.strokeAlpha=bt}setStrokeRGBColor(bt,Et,Tt){this.current.strokeColor=at.Util.makeHexColor(bt,Et,Tt)}setFillAlpha(bt){this.current.fillAlpha=bt}setFillRGBColor(bt,Et,Tt){this.current.fillColor=at.Util.makeHexColor(bt,Et,Tt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(bt){this.current.strokeColor=this._makeColorN_Pattern(bt)}setFillColorN(bt){this.current.fillColor=this._makeColorN_Pattern(bt)}shadingFill(bt){const{width:Et,height:Tt}=this.viewport,At=at.Util.inverseTransform(this.transformMatrix),[Ct,kt,Pt,Dt]=at.Util.getAxialAlignedBoundingBox([0,0,Et,Tt],At),Ft=this.svgFactory.createElement("svg:rect");Ft.setAttributeNS(null,"x",Ct),Ft.setAttributeNS(null,"y",kt),Ft.setAttributeNS(null,"width",Pt-Ct),Ft.setAttributeNS(null,"height",Dt-kt),Ft.setAttributeNS(null,"fill",this._makeShadingPattern(bt)),this.current.fillAlpha<1&&Ft.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ft)}_makeColorN_Pattern(bt){return bt[0]==="TilingPattern"?this._makeTilingPattern(bt):this._makeShadingPattern(bt)}_makeTilingPattern(bt){const Et=bt[1],Tt=bt[2],At=bt[3]||at.IDENTITY_MATRIX,[Ct,kt,Pt,Dt]=bt[4],Ft=bt[5],Ot=bt[6],It=bt[7],Bt=`shading${_t++}`,[qt,Ut,Ht,Qt]=at.Util.normalizeRect([...at.Util.applyTransform([Ct,kt],At),...at.Util.applyTransform([Pt,Dt],At)]),[ir,Xt]=at.Util.singularValueDecompose2dScale(At),Lt=Ft*ir,jt=Ot*Xt,Nt=this.svgFactory.createElement("svg:pattern");Nt.setAttributeNS(null,"id",Bt),Nt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Nt.setAttributeNS(null,"width",Lt),Nt.setAttributeNS(null,"height",jt),Nt.setAttributeNS(null,"x",`${qt}`),Nt.setAttributeNS(null,"y",`${Ut}`);const Mt=this.svg,Vt=this.transformMatrix,Gt=this.current.fillColor,Zt=this.current.strokeColor,er=this.svgFactory.create(Ht-qt,Qt-Ut);if(this.svg=er,this.transformMatrix=At,It===2){const ar=at.Util.makeHexColor(...Et);this.current.fillColor=ar,this.current.strokeColor=ar}return this.executeOpTree(this.convertOpList(Tt)),this.svg=Mt,this.transformMatrix=Vt,this.current.fillColor=Gt,this.current.strokeColor=Zt,Nt.append(er.childNodes[0]),this.defs.append(Nt),`url(#${Bt})`}_makeShadingPattern(bt){switch(typeof bt=="string"&&(bt=this.objs.get(bt)),bt[0]){case"RadialAxial":const Et=`shading${_t++}`,Tt=bt[3];let At;switch(bt[1]){case"axial":const Ct=bt[4],kt=bt[5];At=this.svgFactory.createElement("svg:linearGradient"),At.setAttributeNS(null,"id",Et),At.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),At.setAttributeNS(null,"x1",Ct[0]),At.setAttributeNS(null,"y1",Ct[1]),At.setAttributeNS(null,"x2",kt[0]),At.setAttributeNS(null,"y2",kt[1]);break;case"radial":const Pt=bt[4],Dt=bt[5],Ft=bt[6],Ot=bt[7];At=this.svgFactory.createElement("svg:radialGradient"),At.setAttributeNS(null,"id",Et),At.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),At.setAttributeNS(null,"cx",Dt[0]),At.setAttributeNS(null,"cy",Dt[1]),At.setAttributeNS(null,"r",Ot),At.setAttributeNS(null,"fx",Pt[0]),At.setAttributeNS(null,"fy",Pt[1]),At.setAttributeNS(null,"fr",Ft);break;default:throw new Error(`Unknown RadialAxial type: ${bt[1]}`)}for(const Ct of Tt){const kt=this.svgFactory.createElement("svg:stop");kt.setAttributeNS(null,"offset",Ct[0]),kt.setAttributeNS(null,"stop-color",Ct[1]),At.append(kt)}return this.defs.append(At),`url(#${Et})`;case"Mesh":return(0,at.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${bt[0]}`)}}setDash(bt,Et){this.current.dashArray=bt,this.current.dashPhase=Et}constructPath(bt,Et){const Tt=this.current;let At=Tt.x,Ct=Tt.y,kt=[],Pt=0;for(const Dt of bt)switch(Dt|0){case at.OPS.rectangle:At=Et[Pt++],Ct=Et[Pt++];const Ft=Et[Pt++],Ot=Et[Pt++],It=At+Ft,Bt=Ct+Ot;kt.push("M",gt(At),gt(Ct),"L",gt(It),gt(Ct),"L",gt(It),gt(Bt),"L",gt(At),gt(Bt),"Z");break;case at.OPS.moveTo:At=Et[Pt++],Ct=Et[Pt++],kt.push("M",gt(At),gt(Ct));break;case at.OPS.lineTo:At=Et[Pt++],Ct=Et[Pt++],kt.push("L",gt(At),gt(Ct));break;case at.OPS.curveTo:At=Et[Pt+4],Ct=Et[Pt+5],kt.push("C",gt(Et[Pt]),gt(Et[Pt+1]),gt(Et[Pt+2]),gt(Et[Pt+3]),gt(At),gt(Ct)),Pt+=6;break;case at.OPS.curveTo2:kt.push("C",gt(At),gt(Ct),gt(Et[Pt]),gt(Et[Pt+1]),gt(Et[Pt+2]),gt(Et[Pt+3])),At=Et[Pt+2],Ct=Et[Pt+3],Pt+=4;break;case at.OPS.curveTo3:At=Et[Pt+2],Ct=Et[Pt+3],kt.push("C",gt(Et[Pt]),gt(Et[Pt+1]),gt(At),gt(Ct),gt(At),gt(Ct)),Pt+=4;break;case at.OPS.closePath:kt.push("Z");break}kt=kt.join(" "),Tt.path&&bt.length>0&&bt[0]!==at.OPS.rectangle&&bt[0]!==at.OPS.moveTo?kt=Tt.path.getAttributeNS(null,"d")+kt:(Tt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Tt.path)),Tt.path.setAttributeNS(null,"d",kt),Tt.path.setAttributeNS(null,"fill","none"),Tt.element=Tt.path,Tt.setCurrentPoint(At,Ct)}endPath(){const bt=this.current;if(bt.path=null,!this.pendingClip)return;if(!bt.element){this.pendingClip=null;return}const Et=`clippath${xt++}`,Tt=this.svgFactory.createElement("svg:clipPath");Tt.setAttributeNS(null,"id",Et),Tt.setAttributeNS(null,"transform",mt(this.transformMatrix));const At=bt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?At.setAttributeNS(null,"clip-rule","evenodd"):At.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Tt.append(At),this.defs.append(Tt),bt.activeClipUrl){bt.clipGroup=null;for(const Ct of this.extraStack)Ct.clipGroup=null;Tt.setAttributeNS(null,"clip-path",bt.activeClipUrl)}bt.activeClipUrl=`url(#${Et})`,this.tgrp=null}clip(bt){this.pendingClip=bt}closePath(){const bt=this.current;if(bt.path){const Et=`${bt.path.getAttributeNS(null,"d")}Z`;bt.path.setAttributeNS(null,"d",Et)}}setLeading(bt){this.current.leading=-bt}setTextRise(bt){this.current.textRise=bt}setTextRenderingMode(bt){this.current.textRenderingMode=bt}setHScale(bt){this.current.textHScale=bt/100}setRenderingIntent(bt){}setFlatness(bt){}setGState(bt){for(const[Et,Tt]of bt)switch(Et){case"LW":this.setLineWidth(Tt);break;case"LC":this.setLineCap(Tt);break;case"LJ":this.setLineJoin(Tt);break;case"ML":this.setMiterLimit(Tt);break;case"D":this.setDash(Tt[0],Tt[1]);break;case"RI":this.setRenderingIntent(Tt);break;case"FL":this.setFlatness(Tt);break;case"Font":this.setFont(Tt);break;case"CA":this.setStrokeAlpha(Tt);break;case"ca":this.setFillAlpha(Tt);break;default:(0,at.warn)(`Unimplemented graphic state operator ${Et}`);break}}fill(){const bt=this.current;bt.element&&(bt.element.setAttributeNS(null,"fill",bt.fillColor),bt.element.setAttributeNS(null,"fill-opacity",bt.fillAlpha),this.endPath())}stroke(){const bt=this.current;bt.element&&(this._setStrokeAttributes(bt.element),bt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(bt,Et=1){const Tt=this.current;let At=Tt.dashArray;Et!==1&&At.length>0&&(At=At.map(function(Ct){return Et*Ct})),bt.setAttributeNS(null,"stroke",Tt.strokeColor),bt.setAttributeNS(null,"stroke-opacity",Tt.strokeAlpha),bt.setAttributeNS(null,"stroke-miterlimit",gt(Tt.miterLimit)),bt.setAttributeNS(null,"stroke-linecap",Tt.lineCap),bt.setAttributeNS(null,"stroke-linejoin",Tt.lineJoin),bt.setAttributeNS(null,"stroke-width",gt(Et*Tt.lineWidth)+"px"),bt.setAttributeNS(null,"stroke-dasharray",At.map(gt).join(" ")),bt.setAttributeNS(null,"stroke-dashoffset",gt(Et*Tt.dashPhase)+"px")}eoFill(){var bt;(bt=this.current.element)==null||bt.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var bt;(bt=this.current.element)==null||bt.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const bt=this.svgFactory.createElement("svg:rect");bt.setAttributeNS(null,"x","0"),bt.setAttributeNS(null,"y","0"),bt.setAttributeNS(null,"width","1px"),bt.setAttributeNS(null,"height","1px"),bt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(bt)}paintImageXObject(bt){const Et=this.getObject(bt);if(!Et){(0,at.warn)(`Dependent image with object ID ${bt} is not ready yet`);return}this.paintInlineImageXObject(Et)}paintInlineImageXObject(bt,Et){const Tt=bt.width,At=bt.height,Ct=dt(bt,this.forceDataSchema,!!Et),kt=this.svgFactory.createElement("svg:rect");kt.setAttributeNS(null,"x","0"),kt.setAttributeNS(null,"y","0"),kt.setAttributeNS(null,"width",gt(Tt)),kt.setAttributeNS(null,"height",gt(At)),this.current.element=kt,this.clip("nonzero");const Pt=this.svgFactory.createElement("svg:image");Pt.setAttributeNS(ot,"xlink:href",Ct),Pt.setAttributeNS(null,"x","0"),Pt.setAttributeNS(null,"y",gt(-At)),Pt.setAttributeNS(null,"width",gt(Tt)+"px"),Pt.setAttributeNS(null,"height",gt(At)+"px"),Pt.setAttributeNS(null,"transform",`scale(${gt(1/Tt)} ${gt(-1/At)})`),Et?Et.append(Pt):this._ensureTransformGroup().append(Pt)}paintImageMaskXObject(bt){const Et=this.getObject(bt.data,bt);if(Et.bitmap){(0,at.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Tt=this.current,At=Et.width,Ct=Et.height,kt=Tt.fillColor;Tt.maskId=`mask${vt++}`;const Pt=this.svgFactory.createElement("svg:mask");Pt.setAttributeNS(null,"id",Tt.maskId);const Dt=this.svgFactory.createElement("svg:rect");Dt.setAttributeNS(null,"x","0"),Dt.setAttributeNS(null,"y","0"),Dt.setAttributeNS(null,"width",gt(At)),Dt.setAttributeNS(null,"height",gt(Ct)),Dt.setAttributeNS(null,"fill",kt),Dt.setAttributeNS(null,"mask",`url(#${Tt.maskId})`),this.defs.append(Pt),this._ensureTransformGroup().append(Dt),this.paintInlineImageXObject(Et,Pt)}paintFormXObjectBegin(bt,Et){if(Array.isArray(bt)&&bt.length===6&&this.transform(bt[0],bt[1],bt[2],bt[3],bt[4],bt[5]),Et){const Tt=Et[2]-Et[0],At=Et[3]-Et[1],Ct=this.svgFactory.createElement("svg:rect");Ct.setAttributeNS(null,"x",Et[0]),Ct.setAttributeNS(null,"y",Et[1]),Ct.setAttributeNS(null,"width",gt(Tt)),Ct.setAttributeNS(null,"height",gt(At)),this.current.element=Ct,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(bt){const Et=this.svgFactory.create(bt.width,bt.height),Tt=this.svgFactory.createElement("svg:defs");Et.append(Tt),this.defs=Tt;const At=this.svgFactory.createElement("svg:g");return At.setAttributeNS(null,"transform",mt(bt.transform)),Et.append(At),this.svg=At,Et}_ensureClipGroup(){if(!this.current.clipGroup){const bt=this.svgFactory.createElement("svg:g");bt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(bt),this.current.clipGroup=bt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",mt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}tt.SVGGraphics=yt},(et,tt)=>{Object.defineProperty(tt,"__esModule",{value:!0}),tt.XfaText=void 0;class rt{static textContent(at){const it=[],st={items:it,styles:Object.create(null)};function ot(lt){var dt;if(!lt)return;let ct=null;const ut=lt.name;if(ut==="#text")ct=lt.value;else if(rt.shouldBuildText(ut))(dt=lt==null?void 0:lt.attributes)!=null&&dt.textContent?ct=lt.attributes.textContent:lt.value&&(ct=lt.value);else return;if(ct!==null&&it.push({str:ct}),!!lt.children)for(const ft of lt.children)ot(ft)}return ot(at),st}static shouldBuildText(at){return!(at==="textarea"||at==="input"||at==="option"||at==="select")}}tt.XfaText=rt},(et,tt,rt)=>{Object.defineProperty(tt,"__esModule",{value:!0}),tt.TextLayerRenderTask=void 0,tt.renderTextLayer=mt,tt.updateTextLayer=xt;var nt=rt(1),at=rt(6);const it=1e5,st=30,ot=.8,lt=new Map;function ct(vt,_t){let yt;if(_t&&nt.FeatureTest.isOffscreenCanvasSupported)yt=new OffscreenCanvas(vt,vt).getContext("2d",{alpha:!1});else{const St=document.createElement("canvas");St.width=St.height=vt,yt=St.getContext("2d",{alpha:!1})}return yt}function ut(vt,_t){const yt=lt.get(vt);if(yt)return yt;const St=ct(st,_t);St.font=`${st}px ${vt}`;const bt=St.measureText("");let Et=bt.fontBoundingBoxAscent,Tt=Math.abs(bt.fontBoundingBoxDescent);if(Et){const Ct=Et/(Et+Tt);return lt.set(vt,Ct),St.canvas.width=St.canvas.height=0,Ct}St.strokeStyle="red",St.clearRect(0,0,st,st),St.strokeText("g",0,0);let At=St.getImageData(0,0,st,st).data;Tt=0;for(let Ct=At.length-1-3;Ct>=0;Ct-=4)if(At[Ct]>0){Tt=Math.ceil(Ct/4/st);break}St.clearRect(0,0,st,st),St.strokeText("A",0,st),At=St.getImageData(0,0,st,st).data,Et=0;for(let Ct=0,kt=At.length;Ct<kt;Ct+=4)if(At[Ct]>0){Et=st-Math.floor(Ct/4/st);break}if(St.canvas.width=St.canvas.height=0,Et){const Ct=Et/(Et+Tt);return lt.set(vt,Ct),Ct}return lt.set(vt,ot),ot}function dt(vt,_t,yt){const St=document.createElement("span"),bt={angle:0,canvasWidth:0,hasText:_t.str!=="",hasEOL:_t.hasEOL,fontSize:0};vt._textDivs.push(St);const Et=nt.Util.transform(vt._transform,_t.transform);let Tt=Math.atan2(Et[1],Et[0]);const At=yt[_t.fontName];At.vertical&&(Tt+=Math.PI/2);const Ct=Math.hypot(Et[2],Et[3]),kt=Ct*ut(At.fontFamily,vt._isOffscreenCanvasSupported);let Pt,Dt;Tt===0?(Pt=Et[4],Dt=Et[5]-kt):(Pt=Et[4]+kt*Math.sin(Tt),Dt=Et[5]-kt*Math.cos(Tt));const Ft="calc(var(--scale-factor)*",Ot=St.style;vt._container===vt._rootContainer?(Ot.left=`${(100*Pt/vt._pageWidth).toFixed(2)}%`,Ot.top=`${(100*Dt/vt._pageHeight).toFixed(2)}%`):(Ot.left=`${Ft}${Pt.toFixed(2)}px)`,Ot.top=`${Ft}${Dt.toFixed(2)}px)`),Ot.fontSize=`${Ft}${Ct.toFixed(2)}px)`,Ot.fontFamily=At.fontFamily,bt.fontSize=Ct,St.setAttribute("role","presentation"),St.textContent=_t.str,St.dir=_t.dir,vt._fontInspectorEnabled&&(St.dataset.fontName=_t.fontName),Tt!==0&&(bt.angle=Tt*(180/Math.PI));let It=!1;if(_t.str.length>1)It=!0;else if(_t.str!==" "&&_t.transform[0]!==_t.transform[3]){const Bt=Math.abs(_t.transform[0]),qt=Math.abs(_t.transform[3]);Bt!==qt&&Math.max(Bt,qt)/Math.min(Bt,qt)>1.5&&(It=!0)}It&&(bt.canvasWidth=At.vertical?_t.height:_t.width),vt._textDivProperties.set(St,bt),vt._isReadableStream&&vt._layoutText(St)}function ft(vt){const{div:_t,scale:yt,properties:St,ctx:bt,prevFontSize:Et,prevFontFamily:Tt}=vt,{style:At}=_t;let Ct="";if(St.canvasWidth!==0&&St.hasText){const{fontFamily:kt}=At,{canvasWidth:Pt,fontSize:Dt}=St;(Et!==Dt||Tt!==kt)&&(bt.font=`${Dt*yt}px ${kt}`,vt.prevFontSize=Dt,vt.prevFontFamily=kt);const{width:Ft}=bt.measureText(_t.textContent);Ft>0&&(Ct=`scaleX(${Pt*yt/Ft})`)}St.angle!==0&&(Ct=`rotate(${St.angle}deg) ${Ct}`),Ct.length>0&&(At.transform=Ct)}function ht(vt){if(vt._canceled)return;const _t=vt._textDivs,yt=vt._capability;if(_t.length>it){yt.resolve();return}if(!vt._isReadableStream)for(const bt of _t)vt._layoutText(bt);yt.resolve()}class gt{constructor({textContentSource:_t,container:yt,viewport:St,textDivs:bt,textDivProperties:Et,textContentItemsStr:Tt,isOffscreenCanvasSupported:At}){var Ft;this._textContentSource=_t,this._isReadableStream=_t instanceof ReadableStream,this._container=this._rootContainer=yt,this._textDivs=bt||[],this._textContentItemsStr=Tt||[],this._isOffscreenCanvasSupported=At,this._fontInspectorEnabled=!!((Ft=globalThis.FontInspector)!=null&&Ft.enabled),this._reader=null,this._textDivProperties=Et||new WeakMap,this._canceled=!1,this._capability=new nt.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:St.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ct(0,At)};const{pageWidth:Ct,pageHeight:kt,pageX:Pt,pageY:Dt}=St.rawDims;this._transform=[1,0,0,-1,-Pt,Dt+kt],this._pageWidth=Ct,this._pageHeight=kt,(0,at.setLayerDimensions)(yt,St),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new nt.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new nt.AbortException("TextLayer task cancelled."))}_processItems(_t,yt){for(const St of _t){if(St.str===void 0){if(St.type==="beginMarkedContentProps"||St.type==="beginMarkedContent"){const bt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),St.id!==null&&this._container.setAttribute("id",`${St.id}`),bt.append(this._container)}else St.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(St.str),dt(this,St,yt)}}_layoutText(_t){const yt=this._layoutTextParams.properties=this._textDivProperties.get(_t);if(this._layoutTextParams.div=_t,ft(this._layoutTextParams),yt.hasText&&this._container.append(_t),yt.hasEOL){const St=document.createElement("br");St.setAttribute("role","presentation"),this._container.append(St)}}_render(){const _t=new nt.PromiseCapability;let yt=Object.create(null);if(this._isReadableStream){const St=()=>{this._reader.read().then(({value:bt,done:Et})=>{if(Et){_t.resolve();return}Object.assign(yt,bt.styles),this._processItems(bt.items,yt),St()},_t.reject)};this._reader=this._textContentSource.getReader(),St()}else if(this._textContentSource){const{items:St,styles:bt}=this._textContentSource;this._processItems(St,bt),_t.resolve()}else throw new Error('No "textContentSource" parameter specified.');_t.promise.then(()=>{yt=null,ht(this)},this._capability.reject)}}tt.TextLayerRenderTask=gt;function mt(vt){!vt.textContentSource&&(vt.textContent||vt.textContentStream)&&((0,at.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),vt.textContentSource=vt.textContent||vt.textContentStream);const{container:_t,viewport:yt}=vt,St=getComputedStyle(_t),bt=St.getPropertyValue("visibility"),Et=parseFloat(St.getPropertyValue("--scale-factor"));bt==="visible"&&(!Et||Math.abs(Et-yt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const Tt=new gt(vt);return Tt._render(),Tt}function xt({container:vt,viewport:_t,textDivs:yt,textDivProperties:St,isOffscreenCanvasSupported:bt,mustRotate:Et=!0,mustRescale:Tt=!0}){if(Et&&(0,at.setLayerDimensions)(vt,{rotation:_t.rotation}),Tt){const At=ct(0,bt),kt={prevFontSize:null,prevFontFamily:null,div:null,scale:_t.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:At};for(const Pt of yt)kt.properties=St.get(Pt),kt.div=Pt,ft(kt)}}},(et,tt,rt)=>{var ut,dt,ft,ht,gt,mt,xt,vt,_t,yt,St,Sl,Et,oo,At,Tl,kt,Cl;Object.defineProperty(tt,"__esModule",{value:!0}),tt.AnnotationEditorLayer=void 0;var nt=rt(1),at=rt(4),it=rt(28),st=rt(33),ot=rt(6),lt=rt(34);const Dt=class Dt{constructor({uiManager:Ot,pageIndex:It,div:Bt,accessibilityManager:qt,annotationLayer:Ut,viewport:Ht,l10n:Qt}){mr(this,St);mr(this,Et);mr(this,At);mr(this,kt);mr(this,ut,void 0);mr(this,dt,!1);mr(this,ft,null);mr(this,ht,this.pointerup.bind(this));mr(this,gt,this.pointerdown.bind(this));mr(this,mt,new Map);mr(this,xt,!1);mr(this,vt,!1);mr(this,_t,!1);mr(this,yt,void 0);const ir=[it.FreeTextEditor,st.InkEditor,lt.StampEditor];if(!Dt._initialized){Dt._initialized=!0;for(const Xt of ir)Xt.initialize(Qt)}Ot.registerEditorTypes(ir),jr(this,yt,Ot),this.pageIndex=It,this.div=Bt,jr(this,ut,qt),jr(this,ft,Ut),this.viewport=Ht,zt(this,yt).addLayer(this)}get isEmpty(){return zt(this,mt).size===0}updateToolbar(Ot){zt(this,yt).updateToolbar(Ot)}updateMode(Ot=zt(this,yt).getMode()){Er(this,kt,Cl).call(this),Ot===nt.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Ot!==nt.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Ot===nt.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Ot===nt.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Ot===nt.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Ot){if(!Ot&&zt(this,yt).getMode()!==nt.AnnotationEditorType.INK)return;if(!Ot){for(const Bt of zt(this,mt).values())if(Bt.isEmpty()){Bt.setInBackground();return}}Er(this,Et,oo).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Ot){zt(this,yt).setEditingState(Ot)}addCommands(Ot){zt(this,yt).addCommands(Ot)}enable(){this.div.style.pointerEvents="auto";const Ot=new Set;for(const Bt of zt(this,mt).values())Bt.enableEditing(),Bt.annotationElementId&&Ot.add(Bt.annotationElementId);if(!zt(this,ft))return;const It=zt(this,ft).getEditableAnnotations();for(const Bt of It){if(Bt.hide(),zt(this,yt).isDeletedAnnotationElement(Bt.data.id)||Ot.has(Bt.data.id))continue;const qt=this.deserialize(Bt);qt&&(this.addOrRebuild(qt),qt.enableEditing())}}disable(){var It;jr(this,_t,!0),this.div.style.pointerEvents="none";const Ot=new Set;for(const Bt of zt(this,mt).values()){if(Bt.disableEditing(),!Bt.annotationElementId||Bt.serialize()!==null){Ot.add(Bt.annotationElementId);continue}(It=this.getEditableAnnotation(Bt.annotationElementId))==null||It.show(),Bt.remove()}if(zt(this,ft)){const Bt=zt(this,ft).getEditableAnnotations();for(const qt of Bt){const{id:Ut}=qt.data;Ot.has(Ut)||zt(this,yt).isDeletedAnnotationElement(Ut)||qt.show()}}Er(this,kt,Cl).call(this),this.isEmpty&&(this.div.hidden=!0),jr(this,_t,!1)}getEditableAnnotation(Ot){var It;return((It=zt(this,ft))==null?void 0:It.getEditableAnnotation(Ot))||null}setActiveEditor(Ot){zt(this,yt).getActive()!==Ot&&zt(this,yt).setActiveEditor(Ot)}enableClick(){this.div.addEventListener("pointerdown",zt(this,gt)),this.div.addEventListener("pointerup",zt(this,ht))}disableClick(){this.div.removeEventListener("pointerdown",zt(this,gt)),this.div.removeEventListener("pointerup",zt(this,ht))}attach(Ot){zt(this,mt).set(Ot.id,Ot);const{annotationElementId:It}=Ot;It&&zt(this,yt).isDeletedAnnotationElement(It)&&zt(this,yt).removeDeletedAnnotationElement(Ot)}detach(Ot){var It;zt(this,mt).delete(Ot.id),(It=zt(this,ut))==null||It.removePointerInTextLayer(Ot.contentDiv),!zt(this,_t)&&Ot.annotationElementId&&zt(this,yt).addDeletedAnnotationElement(Ot)}remove(Ot){this.detach(Ot),zt(this,yt).removeEditor(Ot),Ot.div.contains(document.activeElement)&&setTimeout(()=>{zt(this,yt).focusMainContainer()},0),Ot.div.remove(),Ot.isAttachedToDOM=!1,zt(this,vt)||this.addInkEditorIfNeeded(!1)}changeParent(Ot){var It;Ot.parent!==this&&(Ot.annotationElementId&&(zt(this,yt).addDeletedAnnotationElement(Ot.annotationElementId),at.AnnotationEditor.deleteAnnotationElement(Ot),Ot.annotationElementId=null),this.attach(Ot),(It=Ot.parent)==null||It.detach(Ot),Ot.setParent(this),Ot.div&&Ot.isAttachedToDOM&&(Ot.div.remove(),this.div.append(Ot.div)))}add(Ot){if(this.changeParent(Ot),zt(this,yt).addEditor(Ot),this.attach(Ot),!Ot.isAttachedToDOM){const It=Ot.render();this.div.append(It),Ot.isAttachedToDOM=!0}Ot.fixAndSetPosition(),Ot.onceAdded(),zt(this,yt).addToAnnotationStorage(Ot)}moveEditorInDOM(Ot){var Bt;if(!Ot.isAttachedToDOM)return;const{activeElement:It}=document;Ot.div.contains(It)&&(Ot._focusEventsAllowed=!1,setTimeout(()=>{Ot.div.contains(document.activeElement)?Ot._focusEventsAllowed=!0:(Ot.div.addEventListener("focusin",()=>{Ot._focusEventsAllowed=!0},{once:!0}),It.focus())},0)),Ot._structTreeParentId=(Bt=zt(this,ut))==null?void 0:Bt.moveElementInDOM(this.div,Ot.div,Ot.contentDiv,!0)}addOrRebuild(Ot){Ot.needsToBeRebuilt()?Ot.rebuild():this.add(Ot)}addUndoableEditor(Ot){const It=()=>Ot._uiManager.rebuild(Ot),Bt=()=>{Ot.remove()};this.addCommands({cmd:It,undo:Bt,mustExec:!1})}getNextId(){return zt(this,yt).getId()}pasteEditor(Ot,It){zt(this,yt).updateToolbar(Ot),zt(this,yt).updateMode(Ot);const{offsetX:Bt,offsetY:qt}=Er(this,At,Tl).call(this),Ut=this.getNextId(),Ht=Er(this,St,Sl).call(this,{parent:this,id:Ut,x:Bt,y:qt,uiManager:zt(this,yt),isCentered:!0,...It});Ht&&this.add(Ht)}deserialize(Ot){switch(Ot.annotationType??Ot.annotationEditorType){case nt.AnnotationEditorType.FREETEXT:return it.FreeTextEditor.deserialize(Ot,this,zt(this,yt));case nt.AnnotationEditorType.INK:return st.InkEditor.deserialize(Ot,this,zt(this,yt));case nt.AnnotationEditorType.STAMP:return lt.StampEditor.deserialize(Ot,this,zt(this,yt))}return null}addNewEditor(){Er(this,Et,oo).call(this,Er(this,At,Tl).call(this),!0)}setSelected(Ot){zt(this,yt).setSelected(Ot)}toggleSelected(Ot){zt(this,yt).toggleSelected(Ot)}isSelected(Ot){return zt(this,yt).isSelected(Ot)}unselect(Ot){zt(this,yt).unselect(Ot)}pointerup(Ot){const{isMac:It}=nt.FeatureTest.platform;if(!(Ot.button!==0||Ot.ctrlKey&&It)&&Ot.target===this.div&&zt(this,xt)){if(jr(this,xt,!1),!zt(this,dt)){jr(this,dt,!0);return}if(zt(this,yt).getMode()===nt.AnnotationEditorType.STAMP){zt(this,yt).unselectAll();return}Er(this,Et,oo).call(this,Ot,!1)}}pointerdown(Ot){if(zt(this,xt)){jr(this,xt,!1);return}const{isMac:It}=nt.FeatureTest.platform;if(Ot.button!==0||Ot.ctrlKey&&It||Ot.target!==this.div)return;jr(this,xt,!0);const Bt=zt(this,yt).getActive();jr(this,dt,!Bt||Bt.isEmpty())}findNewParent(Ot,It,Bt){const qt=zt(this,yt).findParent(It,Bt);return qt===null||qt===this?!1:(qt.changeParent(Ot),!0)}destroy(){var Ot,It;((Ot=zt(this,yt).getActive())==null?void 0:Ot.parent)===this&&(zt(this,yt).commitOrRemove(),zt(this,yt).setActiveEditor(null));for(const Bt of zt(this,mt).values())(It=zt(this,ut))==null||It.removePointerInTextLayer(Bt.contentDiv),Bt.setParent(null),Bt.isAttachedToDOM=!1,Bt.div.remove();this.div=null,zt(this,mt).clear(),zt(this,yt).removeLayer(this)}render({viewport:Ot}){this.viewport=Ot,(0,ot.setLayerDimensions)(this.div,Ot);for(const It of zt(this,yt).getEditors(this.pageIndex))this.add(It);this.updateMode()}update({viewport:Ot}){zt(this,yt).commitOrRemove(),this.viewport=Ot,(0,ot.setLayerDimensions)(this.div,{rotation:Ot.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Ot,pageHeight:It}=this.viewport.rawDims;return[Ot,It]}};ut=new WeakMap,dt=new WeakMap,ft=new WeakMap,ht=new WeakMap,gt=new WeakMap,mt=new WeakMap,xt=new WeakMap,vt=new WeakMap,_t=new WeakMap,yt=new WeakMap,St=new WeakSet,Sl=function(Ot){switch(zt(this,yt).getMode()){case nt.AnnotationEditorType.FREETEXT:return new it.FreeTextEditor(Ot);case nt.AnnotationEditorType.INK:return new st.InkEditor(Ot);case nt.AnnotationEditorType.STAMP:return new lt.StampEditor(Ot)}return null},Et=new WeakSet,oo=function(Ot,It){const Bt=this.getNextId(),qt=Er(this,St,Sl).call(this,{parent:this,id:Bt,x:Ot.offsetX,y:Ot.offsetY,uiManager:zt(this,yt),isCentered:It});return qt&&this.add(qt),qt},At=new WeakSet,Tl=function(){const{x:Ot,y:It,width:Bt,height:qt}=this.div.getBoundingClientRect(),Ut=Math.max(0,Ot),Ht=Math.max(0,It),Qt=Math.min(window.innerWidth,Ot+Bt),ir=Math.min(window.innerHeight,It+qt),Xt=(Ut+Qt)/2-Ot,Lt=(Ht+ir)/2-It,[jt,Nt]=this.viewport.rotation%180===0?[Xt,Lt]:[Lt,Xt];return{offsetX:jt,offsetY:Nt}},kt=new WeakSet,Cl=function(){jr(this,vt,!0);for(const Ot of zt(this,mt).values())Ot.isEmpty()&&Ot.remove();jr(this,vt,!1)},tn(Dt,"_initialized",!1);let ct=Dt;tt.AnnotationEditorLayer=ct},(et,tt,rt)=>{var lt,ct,ut,dt,ft,ht,gt,mt,xt,vt,Uu,yt,Vu,bt,Hu,Tt,Fs,Ct,Al,Pt,zu,Ft,Pl;Object.defineProperty(tt,"__esModule",{value:!0}),tt.FreeTextEditor=void 0;var nt=rt(1),at=rt(5),it=rt(4),st=rt(29);const It=class It extends it.AnnotationEditor{constructor(Ut){super({...Ut,name:"freeTextEditor"});mr(this,vt);mr(this,yt);mr(this,bt);mr(this,Tt);mr(this,Ct);mr(this,Pt);mr(this,Ft);mr(this,lt,this.editorDivBlur.bind(this));mr(this,ct,this.editorDivFocus.bind(this));mr(this,ut,this.editorDivInput.bind(this));mr(this,dt,this.editorDivKeydown.bind(this));mr(this,ft,void 0);mr(this,ht,"");mr(this,gt,`${this.id}-editor`);mr(this,mt,void 0);mr(this,xt,null);jr(this,ft,Ut.color||It._defaultColor||it.AnnotationEditor._defaultLineColor),jr(this,mt,Ut.fontSize||It._defaultFontSize)}static get _keyboardManager(){const Ut=It.prototype,Ht=Xt=>Xt.isEmpty(),Qt=at.AnnotationEditorUIManager.TRANSLATE_SMALL,ir=at.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,nt.shadow)(this,"_keyboardManager",new at.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Ut.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Ut.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Ut._translateEmpty,{args:[-Qt,0],checker:Ht}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Ut._translateEmpty,{args:[-ir,0],checker:Ht}],[["ArrowRight","mac+ArrowRight"],Ut._translateEmpty,{args:[Qt,0],checker:Ht}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Ut._translateEmpty,{args:[ir,0],checker:Ht}],[["ArrowUp","mac+ArrowUp"],Ut._translateEmpty,{args:[0,-Qt],checker:Ht}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Ut._translateEmpty,{args:[0,-ir],checker:Ht}],[["ArrowDown","mac+ArrowDown"],Ut._translateEmpty,{args:[0,Qt],checker:Ht}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Ut._translateEmpty,{args:[0,ir],checker:Ht}]]))}static initialize(Ut){it.AnnotationEditor.initialize(Ut,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Ht=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Ht.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Ut,Ht){switch(Ut){case nt.AnnotationEditorParamsType.FREETEXT_SIZE:It._defaultFontSize=Ht;break;case nt.AnnotationEditorParamsType.FREETEXT_COLOR:It._defaultColor=Ht;break}}updateParams(Ut,Ht){switch(Ut){case nt.AnnotationEditorParamsType.FREETEXT_SIZE:Er(this,vt,Uu).call(this,Ht);break;case nt.AnnotationEditorParamsType.FREETEXT_COLOR:Er(this,yt,Vu).call(this,Ht);break}}static get defaultPropertiesToUpdate(){return[[nt.AnnotationEditorParamsType.FREETEXT_SIZE,It._defaultFontSize],[nt.AnnotationEditorParamsType.FREETEXT_COLOR,It._defaultColor||it.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[nt.AnnotationEditorParamsType.FREETEXT_SIZE,zt(this,mt)],[nt.AnnotationEditorParamsType.FREETEXT_COLOR,zt(this,ft)]]}_translateEmpty(Ut,Ht){this._uiManager.translateSelectedEditors(Ut,Ht,!0)}getInitialTranslation(){const Ut=this.parentScale;return[-It._internalPadding*Ut,-(It._internalPadding+zt(this,mt))*Ut]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(nt.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",zt(this,dt)),this.editorDiv.addEventListener("focus",zt(this,ct)),this.editorDiv.addEventListener("blur",zt(this,lt)),this.editorDiv.addEventListener("input",zt(this,ut)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",zt(this,gt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",zt(this,dt)),this.editorDiv.removeEventListener("focus",zt(this,ct)),this.editorDiv.removeEventListener("blur",zt(this,lt)),this.editorDiv.removeEventListener("input",zt(this,ut)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Ut){this._focusEventsAllowed&&(super.focusin(Ut),Ut.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Ut;if(this.width){Er(this,Ft,Pl).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Ut=this._initialOptions)!=null&&Ut.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Ut=zt(this,ht),Ht=jr(this,ht,Er(this,bt,Hu).call(this).trimEnd());if(Ut===Ht)return;const Qt=ir=>{if(jr(this,ht,ir),!ir){this.remove();return}Er(this,Ct,Al).call(this),this._uiManager.rebuild(this),Er(this,Tt,Fs).call(this)};this.addCommands({cmd:()=>{Qt(Ht)},undo:()=>{Qt(Ut)},mustExec:!1}),Er(this,Tt,Fs).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Ut){this.enterInEditMode()}keydown(Ut){Ut.target===this.div&&Ut.key==="Enter"&&(this.enterInEditMode(),Ut.preventDefault())}editorDivKeydown(Ut){It._keyboardManager.exec(this,Ut)}editorDivFocus(Ut){this.isEditing=!0}editorDivBlur(Ut){this.isEditing=!1}editorDivInput(Ut){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Ut,Ht;this.width&&(Ut=this.x,Ht=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",zt(this,gt)),this.enableEditing(),it.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(ir=>{var Xt;return(Xt=this.editorDiv)==null?void 0:Xt.setAttribute("aria-label",ir)}),it.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(ir=>{var Xt;return(Xt=this.editorDiv)==null?void 0:Xt.setAttribute("default-content",ir)}),this.editorDiv.contentEditable=!0;const{style:Qt}=this.editorDiv;if(Qt.fontSize=`calc(${zt(this,mt)}px * var(--scale-factor))`,Qt.color=zt(this,ft),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,at.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[ir,Xt]=this.parentDimensions;if(this.annotationElementId){const{position:Lt}=zt(this,xt);let[jt,Nt]=this.getInitialTranslation();[jt,Nt]=this.pageTranslationToScreen(jt,Nt);const[Mt,Vt]=this.pageDimensions,[Gt,Zt]=this.pageTranslation;let er,ar;switch(this.rotation){case 0:er=Ut+(Lt[0]-Gt)/Mt,ar=Ht+this.height-(Lt[1]-Zt)/Vt;break;case 90:er=Ut+(Lt[0]-Gt)/Mt,ar=Ht-(Lt[1]-Zt)/Vt,[jt,Nt]=[Nt,-jt];break;case 180:er=Ut-this.width+(Lt[0]-Gt)/Mt,ar=Ht-(Lt[1]-Zt)/Vt,[jt,Nt]=[-jt,-Nt];break;case 270:er=Ut+(Lt[0]-Gt-this.height*Vt)/Mt,ar=Ht+(Lt[1]-Zt-this.width*Mt)/Vt,[jt,Nt]=[-Nt,jt];break}this.setAt(er*ir,ar*Xt,jt,Nt)}else this.setAt(Ut*ir,Ht*Xt,this.width*ir,this.height*Xt);Er(this,Ct,Al).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Ut,Ht,Qt){let ir=null;if(Ut instanceof st.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Lt,fontColor:jt},rect:Nt,rotation:Mt,id:Vt},textContent:Gt,textPosition:Zt,parent:{page:{pageNumber:er}}}=Ut;if(!Gt||Gt.length===0)return null;ir=Ut={annotationType:nt.AnnotationEditorType.FREETEXT,color:Array.from(jt),fontSize:Lt,value:Gt.join(`
`),position:Zt,pageIndex:er-1,rect:Nt,rotation:Mt,id:Vt,deleted:!1}}const Xt=super.deserialize(Ut,Ht,Qt);return jr(Xt,mt,Ut.fontSize),jr(Xt,ft,nt.Util.makeHexColor(...Ut.color)),jr(Xt,ht,Ut.value),Xt.annotationElementId=Ut.id||null,jr(Xt,xt,ir),Xt}serialize(Ut=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Ht=It._internalPadding*this.parentScale,Qt=this.getRect(Ht,Ht),ir=it.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:zt(this,ft)),Xt={annotationType:nt.AnnotationEditorType.FREETEXT,color:ir,fontSize:zt(this,mt),value:zt(this,ht),pageIndex:this.pageIndex,rect:Qt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Ut?Xt:this.annotationElementId&&!Er(this,Pt,zu).call(this,Xt)?null:(Xt.id=this.annotationElementId,Xt)}};lt=new WeakMap,ct=new WeakMap,ut=new WeakMap,dt=new WeakMap,ft=new WeakMap,ht=new WeakMap,gt=new WeakMap,mt=new WeakMap,xt=new WeakMap,vt=new WeakSet,Uu=function(Ut){const Ht=ir=>{this.editorDiv.style.fontSize=`calc(${ir}px * var(--scale-factor))`,this.translate(0,-(ir-zt(this,mt))*this.parentScale),jr(this,mt,ir),Er(this,Tt,Fs).call(this)},Qt=zt(this,mt);this.addCommands({cmd:()=>{Ht(Ut)},undo:()=>{Ht(Qt)},mustExec:!0,type:nt.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},yt=new WeakSet,Vu=function(Ut){const Ht=zt(this,ft);this.addCommands({cmd:()=>{jr(this,ft,this.editorDiv.style.color=Ut)},undo:()=>{jr(this,ft,this.editorDiv.style.color=Ht)},mustExec:!0,type:nt.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},bt=new WeakSet,Hu=function(){const Ut=this.editorDiv.getElementsByTagName("div");if(Ut.length===0)return this.editorDiv.innerText;const Ht=[];for(const Qt of Ut)Ht.push(Qt.innerText.replace(/\r\n?|\n/,""));return Ht.join(`
`)},Tt=new WeakSet,Fs=function(){const[Ut,Ht]=this.parentDimensions;let Qt;if(this.isAttachedToDOM)Qt=this.div.getBoundingClientRect();else{const{currentLayer:ir,div:Xt}=this,Lt=Xt.style.display;Xt.style.display="hidden",ir.div.append(this.div),Qt=Xt.getBoundingClientRect(),Xt.remove(),Xt.style.display=Lt}this.rotation%180===this.parentRotation%180?(this.width=Qt.width/Ut,this.height=Qt.height/Ht):(this.width=Qt.height/Ut,this.height=Qt.width/Ht),this.fixAndSetPosition()},Ct=new WeakSet,Al=function(){if(this.editorDiv.replaceChildren(),!!zt(this,ht))for(const Ut of zt(this,ht).split(`
`)){const Ht=document.createElement("div");Ht.append(Ut?document.createTextNode(Ut):document.createElement("br")),this.editorDiv.append(Ht)}},Pt=new WeakSet,zu=function(Ut){const{value:Ht,fontSize:Qt,color:ir,rect:Xt,pageIndex:Lt}=zt(this,xt);return Ut.value!==Ht||Ut.fontSize!==Qt||Ut.rect.some((jt,Nt)=>Math.abs(jt-Xt[Nt])>=1)||Ut.color.some((jt,Nt)=>jt!==ir[Nt])||Ut.pageIndex!==Lt},Ft=new WeakSet,Pl=function(Ut=!1){if(!this.annotationElementId)return;if(Er(this,Tt,Fs).call(this),!Ut&&(this.width===0||this.height===0)){setTimeout(()=>Er(this,Ft,Pl).call(this,!0),0);return}const Ht=It._internalPadding*this.parentScale;zt(this,xt).rect=this.getRect(Ht,Ht)},tn(It,"_freeTextDefaultContent",""),tn(It,"_internalPadding",0),tn(It,"_defaultColor",null),tn(It,"_defaultFontSize",10),tn(It,"_type","freetext");let ot=It;tt.FreeTextEditor=ot},(et,tt,rt)=>{var Nt,Vt,ss,Zt,Wu,ar,Kt,pr,fr,vr,wr,hr,Ir,Jr,Br,Zr,Fr,Cr,Tr,Dr,Gr,qr,sn,Gu,$r,lo,rn,Rl,hn,Dl,Rr,yr,Vr,zr,Tn,wn,Pr,Ol,dn,en,fn,pn,Ku,Hr,Nl;Object.defineProperty(tt,"__esModule",{value:!0}),tt.StampAnnotationElement=tt.InkAnnotationElement=tt.FreeTextAnnotationElement=tt.AnnotationLayer=void 0;var nt=rt(1),at=rt(6),it=rt(3),st=rt(30),ot=rt(31),lt=rt(32);const ct=1e3,ut=9,dt=new WeakSet;function ft(un){return{width:un[2]-un[0],height:un[3]-un[1]}}class ht{static create(dr){switch(dr.data.annotationType){case nt.AnnotationType.LINK:return new mt(dr);case nt.AnnotationType.TEXT:return new xt(dr);case nt.AnnotationType.WIDGET:switch(dr.data.fieldType){case"Tx":return new _t(dr);case"Btn":return dr.data.radioButton?new bt(dr):dr.data.checkBox?new St(dr):new Et(dr);case"Ch":return new Tt(dr);case"Sig":return new yt(dr)}return new vt(dr);case nt.AnnotationType.POPUP:return new At(dr);case nt.AnnotationType.FREETEXT:return new kt(dr);case nt.AnnotationType.LINE:return new Pt(dr);case nt.AnnotationType.SQUARE:return new Dt(dr);case nt.AnnotationType.CIRCLE:return new Ft(dr);case nt.AnnotationType.POLYLINE:return new Ot(dr);case nt.AnnotationType.CARET:return new Bt(dr);case nt.AnnotationType.INK:return new qt(dr);case nt.AnnotationType.POLYGON:return new It(dr);case nt.AnnotationType.HIGHLIGHT:return new Ut(dr);case nt.AnnotationType.UNDERLINE:return new Ht(dr);case nt.AnnotationType.SQUIGGLY:return new Qt(dr);case nt.AnnotationType.STRIKEOUT:return new ir(dr);case nt.AnnotationType.STAMP:return new Xt(dr);case nt.AnnotationType.FILEATTACHMENT:return new Lt(dr);default:return new gt(dr)}}}const Mt=class Mt{constructor(dr,{isRenderable:Yt=!1,ignoreBorder:lr=!1,createQuadrilaterals:ur=!1}={}){mr(this,Nt,!1);this.isRenderable=Yt,this.data=dr.data,this.layer=dr.layer,this.linkService=dr.linkService,this.downloadManager=dr.downloadManager,this.imageResourcesPath=dr.imageResourcesPath,this.renderForms=dr.renderForms,this.svgFactory=dr.svgFactory,this.annotationStorage=dr.annotationStorage,this.enableScripting=dr.enableScripting,this.hasJSActions=dr.hasJSActions,this._fieldObjects=dr.fieldObjects,this.parent=dr.parent,Yt&&(this.container=this._createContainer(lr)),ur&&this._createQuadrilaterals()}static _hasPopupData({titleObj:dr,contentsObj:Yt,richText:lr}){return!!(dr!=null&&dr.str||Yt!=null&&Yt.str||lr!=null&&lr.str)}get hasPopupData(){return Mt._hasPopupData(this.data)}_createContainer(dr){const{data:Yt,parent:{page:lr,viewport:ur}}=this,Wt=document.createElement("section");Wt.setAttribute("data-annotation-id",Yt.id),this instanceof vt||(Wt.tabIndex=ct),Wt.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Wt.setAttribute("aria-haspopup","dialog"),Yt.noRotate&&Wt.classList.add("norotate");const{pageWidth:rr,pageHeight:tr,pageX:nr,pageY:sr}=ur.rawDims;if(!Yt.rect||this instanceof At){const{rotation:br}=Yt;return!Yt.hasOwnCanvas&&br!==0&&this.setRotation(br,Wt),Wt}const{width:cr,height:_r}=ft(Yt.rect),Sr=nt.Util.normalizeRect([Yt.rect[0],lr.view[3]-Yt.rect[1]+lr.view[1],Yt.rect[2],lr.view[3]-Yt.rect[3]+lr.view[1]]);if(!dr&&Yt.borderStyle.width>0){Wt.style.borderWidth=`${Yt.borderStyle.width}px`;const br=Yt.borderStyle.horizontalCornerRadius,Ar=Yt.borderStyle.verticalCornerRadius;if(br>0||Ar>0){const Kr=`calc(${br}px * var(--scale-factor)) / calc(${Ar}px * var(--scale-factor))`;Wt.style.borderRadius=Kr}else if(this instanceof bt){const Kr=`calc(${cr}px * var(--scale-factor)) / calc(${_r}px * var(--scale-factor))`;Wt.style.borderRadius=Kr}switch(Yt.borderStyle.style){case nt.AnnotationBorderStyleType.SOLID:Wt.style.borderStyle="solid";break;case nt.AnnotationBorderStyleType.DASHED:Wt.style.borderStyle="dashed";break;case nt.AnnotationBorderStyleType.BEVELED:(0,nt.warn)("Unimplemented border style: beveled");break;case nt.AnnotationBorderStyleType.INSET:(0,nt.warn)("Unimplemented border style: inset");break;case nt.AnnotationBorderStyleType.UNDERLINE:Wt.style.borderBottomStyle="solid";break}const Lr=Yt.borderColor||null;Lr?(jr(this,Nt,!0),Wt.style.borderColor=nt.Util.makeHexColor(Lr[0]|0,Lr[1]|0,Lr[2]|0)):Wt.style.borderWidth=0}Wt.style.left=`${100*(Sr[0]-nr)/rr}%`,Wt.style.top=`${100*(Sr[1]-sr)/tr}%`;const{rotation:gr}=Yt;return Yt.hasOwnCanvas||gr===0?(Wt.style.width=`${100*cr/rr}%`,Wt.style.height=`${100*_r/tr}%`):this.setRotation(gr,Wt),Wt}setRotation(dr,Yt=this.container){if(!this.data.rect)return;const{pageWidth:lr,pageHeight:ur}=this.parent.viewport.rawDims,{width:Wt,height:rr}=ft(this.data.rect);let tr,nr;dr%180===0?(tr=100*Wt/lr,nr=100*rr/ur):(tr=100*rr/lr,nr=100*Wt/ur),Yt.style.width=`${tr}%`,Yt.style.height=`${nr}%`,Yt.setAttribute("data-main-rotation",(360-dr)%360)}get _commonActions(){const dr=(Yt,lr,ur)=>{const Wt=ur.detail[Yt],rr=Wt[0],tr=Wt.slice(1);ur.target.style[lr]=st.ColorConverters[`${rr}_HTML`](tr),this.annotationStorage.setValue(this.data.id,{[lr]:st.ColorConverters[`${rr}_rgb`](tr)})};return(0,nt.shadow)(this,"_commonActions",{display:Yt=>{const{display:lr}=Yt.detail,ur=lr%2===1;this.container.style.visibility=ur?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:ur,noPrint:lr===1||lr===2})},print:Yt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Yt.detail.print})},hidden:Yt=>{const{hidden:lr}=Yt.detail;this.container.style.visibility=lr?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:lr,noView:lr})},focus:Yt=>{setTimeout(()=>Yt.target.focus({preventScroll:!1}),0)},userName:Yt=>{Yt.target.title=Yt.detail.userName},readonly:Yt=>{Yt.target.disabled=Yt.detail.readonly},required:Yt=>{this._setRequired(Yt.target,Yt.detail.required)},bgColor:Yt=>{dr("bgColor","backgroundColor",Yt)},fillColor:Yt=>{dr("fillColor","backgroundColor",Yt)},fgColor:Yt=>{dr("fgColor","color",Yt)},textColor:Yt=>{dr("textColor","color",Yt)},borderColor:Yt=>{dr("borderColor","borderColor",Yt)},strokeColor:Yt=>{dr("strokeColor","borderColor",Yt)},rotation:Yt=>{const lr=Yt.detail.rotation;this.setRotation(lr),this.annotationStorage.setValue(this.data.id,{rotation:lr})}})}_dispatchEventFromSandbox(dr,Yt){const lr=this._commonActions;for(const ur of Object.keys(Yt.detail)){const Wt=dr[ur]||lr[ur];Wt==null||Wt(Yt)}}_setDefaultPropertiesFromJS(dr){if(!this.enableScripting)return;const Yt=this.annotationStorage.getRawValue(this.data.id);if(!Yt)return;const lr=this._commonActions;for(const[ur,Wt]of Object.entries(Yt)){const rr=lr[ur];if(rr){const tr={detail:{[ur]:Wt},target:dr};rr(tr),delete Yt[ur]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:dr}=this.data;if(!dr)return;const[Yt,lr,ur,Wt]=this.data.rect;if(dr.length===1){const[,{x:Ar,y:Lr},{x:Kr,y:an}]=dr[0];if(ur===Ar&&Wt===Lr&&Yt===Kr&&lr===an)return}const{style:rr}=this.container;let tr;if(zt(this,Nt)){const{borderColor:Ar,borderWidth:Lr}=rr;rr.borderWidth=0,tr=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Ar}" stroke-width="${Lr}">`],this.container.classList.add("hasBorder")}const nr=ur-Yt,sr=Wt-lr,{svgFactory:cr}=this,_r=cr.createElement("svg");_r.classList.add("quadrilateralsContainer"),_r.setAttribute("width",0),_r.setAttribute("height",0);const Sr=cr.createElement("defs");_r.append(Sr);const gr=cr.createElement("clipPath"),br=`clippath_${this.data.id}`;gr.setAttribute("id",br),gr.setAttribute("clipPathUnits","objectBoundingBox"),Sr.append(gr);for(const[,{x:Ar,y:Lr},{x:Kr,y:an}]of dr){const Wr=cr.createElement("rect"),on=(Kr-Yt)/nr,gn=(Wt-Lr)/sr,Cn=(Ar-Kr)/nr,Pn=(Lr-an)/sr;Wr.setAttribute("x",on),Wr.setAttribute("y",gn),Wr.setAttribute("width",Cn),Wr.setAttribute("height",Pn),gr.append(Wr),tr==null||tr.push(`<rect vector-effect="non-scaling-stroke" x="${on}" y="${gn}" width="${Cn}" height="${Pn}"/>`)}zt(this,Nt)&&(tr.push("</g></svg>')"),rr.backgroundImage=tr.join("")),this.container.append(_r),this.container.style.clipPath=`url(#${br})`}_createPopup(){const{container:dr,data:Yt}=this;dr.setAttribute("aria-haspopup","dialog");const lr=new At({data:{color:Yt.color,titleObj:Yt.titleObj,modificationDate:Yt.modificationDate,contentsObj:Yt.contentsObj,richText:Yt.richText,parentRect:Yt.rect,borderStyle:0,id:`popup_${Yt.id}`,rotation:Yt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(lr.render())}render(){(0,nt.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(dr,Yt=null){const lr=[];if(this._fieldObjects){const ur=this._fieldObjects[dr];if(ur)for(const{page:Wt,id:rr,exportValues:tr}of ur){if(Wt===-1||rr===Yt)continue;const nr=typeof tr=="string"?tr:null,sr=document.querySelector(`[data-element-id="${rr}"]`);if(sr&&!dt.has(sr)){(0,nt.warn)(`_getElementsByName - element not allowed: ${rr}`);continue}lr.push({id:rr,exportValue:nr,domElement:sr})}return lr}for(const ur of document.getElementsByName(dr)){const{exportValue:Wt}=ur,rr=ur.getAttribute("data-element-id");rr!==Yt&&dt.has(ur)&&lr.push({id:rr,exportValue:Wt,domElement:ur})}return lr}show(){var dr;this.container&&(this.container.hidden=!1),(dr=this.popup)==null||dr.maybeShow()}hide(){var dr;this.container&&(this.container.hidden=!0),(dr=this.popup)==null||dr.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const dr=this.getElementsToTriggerPopup();if(Array.isArray(dr))for(const Yt of dr)Yt.classList.add("highlightArea");else dr.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:dr,data:{id:Yt}}=this;this.container.addEventListener("dblclick",()=>{var lr;(lr=this.linkService.eventBus)==null||lr.dispatch("switchannotationeditormode",{source:this,mode:dr,editId:Yt})})}};Nt=new WeakMap;let gt=Mt;class mt extends gt{constructor(Yt,lr=null){super(Yt,{isRenderable:!0,ignoreBorder:!!(lr!=null&&lr.ignoreBorder),createQuadrilaterals:!0});mr(this,Vt);mr(this,Zt);this.isTooltipOnly=Yt.data.isTooltipOnly}render(){const{data:Yt,linkService:lr}=this,ur=document.createElement("a");ur.setAttribute("data-element-id",Yt.id);let Wt=!1;return Yt.url?(lr.addLinkAttributes(ur,Yt.url,Yt.newWindow),Wt=!0):Yt.action?(this._bindNamedAction(ur,Yt.action),Wt=!0):Yt.attachment?(this._bindAttachment(ur,Yt.attachment),Wt=!0):Yt.setOCGState?(Er(this,Zt,Wu).call(this,ur,Yt.setOCGState),Wt=!0):Yt.dest?(this._bindLink(ur,Yt.dest),Wt=!0):(Yt.actions&&(Yt.actions.Action||Yt.actions["Mouse Up"]||Yt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ur,Yt),Wt=!0),Yt.resetForm?(this._bindResetFormAction(ur,Yt.resetForm),Wt=!0):this.isTooltipOnly&&!Wt&&(this._bindLink(ur,""),Wt=!0)),this.container.classList.add("linkAnnotation"),Wt&&this.container.append(ur),this.container}_bindLink(Yt,lr){Yt.href=this.linkService.getDestinationHash(lr),Yt.onclick=()=>(lr&&this.linkService.goToDestination(lr),!1),(lr||lr==="")&&Er(this,Vt,ss).call(this)}_bindNamedAction(Yt,lr){Yt.href=this.linkService.getAnchorUrl(""),Yt.onclick=()=>(this.linkService.executeNamedAction(lr),!1),Er(this,Vt,ss).call(this)}_bindAttachment(Yt,lr){Yt.href=this.linkService.getAnchorUrl(""),Yt.onclick=()=>{var ur;return(ur=this.downloadManager)==null||ur.openOrDownloadData(this.container,lr.content,lr.filename),!1},Er(this,Vt,ss).call(this)}_bindJSAction(Yt,lr){Yt.href=this.linkService.getAnchorUrl("");const ur=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Wt of Object.keys(lr.actions)){const rr=ur.get(Wt);rr&&(Yt[rr]=()=>{var tr;return(tr=this.linkService.eventBus)==null||tr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:lr.id,name:Wt}}),!1})}Yt.onclick||(Yt.onclick=()=>!1),Er(this,Vt,ss).call(this)}_bindResetFormAction(Yt,lr){const ur=Yt.onclick;if(ur||(Yt.href=this.linkService.getAnchorUrl("")),Er(this,Vt,ss).call(this),!this._fieldObjects){(0,nt.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ur||(Yt.onclick=()=>!1);return}Yt.onclick=()=>{var _r;ur==null||ur();const{fields:Wt,refs:rr,include:tr}=lr,nr=[];if(Wt.length!==0||rr.length!==0){const Sr=new Set(rr);for(const gr of Wt){const br=this._fieldObjects[gr]||[];for(const{id:Ar}of br)Sr.add(Ar)}for(const gr of Object.values(this._fieldObjects))for(const br of gr)Sr.has(br.id)===tr&&nr.push(br)}else for(const Sr of Object.values(this._fieldObjects))nr.push(...Sr);const sr=this.annotationStorage,cr=[];for(const Sr of nr){const{id:gr}=Sr;switch(cr.push(gr),Sr.type){case"text":{const Ar=Sr.defaultValue||"";sr.setValue(gr,{value:Ar});break}case"checkbox":case"radiobutton":{const Ar=Sr.defaultValue===Sr.exportValues;sr.setValue(gr,{value:Ar});break}case"combobox":case"listbox":{const Ar=Sr.defaultValue||"";sr.setValue(gr,{value:Ar});break}default:continue}const br=document.querySelector(`[data-element-id="${gr}"]`);if(br){if(!dt.has(br)){(0,nt.warn)(`_bindResetFormAction - element not allowed: ${gr}`);continue}}else continue;br.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((_r=this.linkService.eventBus)==null||_r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:cr,name:"ResetForm"}})),!1}}}Vt=new WeakSet,ss=function(){this.container.setAttribute("data-internal-link","")},Zt=new WeakSet,Wu=function(Yt,lr){Yt.href=this.linkService.getAnchorUrl(""),Yt.onclick=()=>(this.linkService.executeSetOCGState(lr),!1),Er(this,Vt,ss).call(this)};class xt extends gt{constructor(dr){super(dr,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const dr=document.createElement("img");return dr.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",dr.alt="[{{type}} Annotation]",dr.dataset.l10nId="text_annotation_type",dr.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(dr),this.container}}class vt extends gt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(dr){var Yt;this.data.hasOwnCanvas&&(((Yt=dr.previousSibling)==null?void 0:Yt.nodeName)==="CANVAS"&&(dr.previousSibling.hidden=!0),dr.hidden=!1)}_getKeyModifier(dr){const{isWin:Yt,isMac:lr}=nt.FeatureTest.platform;return Yt&&dr.ctrlKey||lr&&dr.metaKey}_setEventListener(dr,Yt,lr,ur,Wt){lr.includes("mouse")?dr.addEventListener(lr,rr=>{var tr;(tr=this.linkService.eventBus)==null||tr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ur,value:Wt(rr),shift:rr.shiftKey,modifier:this._getKeyModifier(rr)}})}):dr.addEventListener(lr,rr=>{var tr;if(lr==="blur"){if(!Yt.focused||!rr.relatedTarget)return;Yt.focused=!1}else if(lr==="focus"){if(Yt.focused)return;Yt.focused=!0}Wt&&((tr=this.linkService.eventBus)==null||tr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ur,value:Wt(rr)}}))})}_setEventListeners(dr,Yt,lr,ur){var Wt,rr,tr;for(const[nr,sr]of lr)(sr==="Action"||(Wt=this.data.actions)!=null&&Wt[sr])&&((sr==="Focus"||sr==="Blur")&&(Yt||(Yt={focused:!1})),this._setEventListener(dr,Yt,nr,sr,ur),sr==="Focus"&&!((rr=this.data.actions)!=null&&rr.Blur)?this._setEventListener(dr,Yt,"blur","Blur",null):sr==="Blur"&&!((tr=this.data.actions)!=null&&tr.Focus)&&this._setEventListener(dr,Yt,"focus","Focus",null))}_setBackgroundColor(dr){const Yt=this.data.backgroundColor||null;dr.style.backgroundColor=Yt===null?"transparent":nt.Util.makeHexColor(Yt[0],Yt[1],Yt[2])}_setTextStyle(dr){const Yt=["left","center","right"],{fontColor:lr}=this.data.defaultAppearanceData,ur=this.data.defaultAppearanceData.fontSize||ut,Wt=dr.style;let rr;const tr=2,nr=sr=>Math.round(10*sr)/10;if(this.data.multiLine){const sr=Math.abs(this.data.rect[3]-this.data.rect[1]-tr),cr=Math.round(sr/(nt.LINE_FACTOR*ur))||1,_r=sr/cr;rr=Math.min(ur,nr(_r/nt.LINE_FACTOR))}else{const sr=Math.abs(this.data.rect[3]-this.data.rect[1]-tr);rr=Math.min(ur,nr(sr/nt.LINE_FACTOR))}Wt.fontSize=`calc(${rr}px * var(--scale-factor))`,Wt.color=nt.Util.makeHexColor(lr[0],lr[1],lr[2]),this.data.textAlignment!==null&&(Wt.textAlign=Yt[this.data.textAlignment])}_setRequired(dr,Yt){Yt?dr.setAttribute("required",!0):dr.removeAttribute("required"),dr.setAttribute("aria-required",Yt)}}class _t extends vt{constructor(dr){const Yt=dr.renderForms||!dr.data.hasAppearance&&!!dr.data.fieldValue;super(dr,{isRenderable:Yt})}setPropertyOnSiblings(dr,Yt,lr,ur){const Wt=this.annotationStorage;for(const rr of this._getElementsByName(dr.name,dr.id))rr.domElement&&(rr.domElement[Yt]=lr),Wt.setValue(rr.id,{[ur]:lr})}render(){var ur,Wt;const dr=this.annotationStorage,Yt=this.data.id;this.container.classList.add("textWidgetAnnotation");let lr=null;if(this.renderForms){const rr=dr.getValue(Yt,{value:this.data.fieldValue});let tr=rr.value||"";const nr=dr.getValue(Yt,{charLimit:this.data.maxLen}).charLimit;nr&&tr.length>nr&&(tr=tr.slice(0,nr));let sr=rr.formattedValue||((ur=this.data.textContent)==null?void 0:ur.join(`
`))||null;sr&&this.data.comb&&(sr=sr.replaceAll(/\s+/g,""));const cr={userValue:tr,formattedValue:sr,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(lr=document.createElement("textarea"),lr.textContent=sr??tr,this.data.doNotScroll&&(lr.style.overflowY="hidden")):(lr=document.createElement("input"),lr.type="text",lr.setAttribute("value",sr??tr),this.data.doNotScroll&&(lr.style.overflowX="hidden")),this.data.hasOwnCanvas&&(lr.hidden=!0),dt.add(lr),lr.setAttribute("data-element-id",Yt),lr.disabled=this.data.readOnly,lr.name=this.data.fieldName,lr.tabIndex=ct,this._setRequired(lr,this.data.required),nr&&(lr.maxLength=nr),lr.addEventListener("input",Sr=>{dr.setValue(Yt,{value:Sr.target.value}),this.setPropertyOnSiblings(lr,"value",Sr.target.value,"value"),cr.formattedValue=null}),lr.addEventListener("resetform",Sr=>{const gr=this.data.defaultFieldValue??"";lr.value=cr.userValue=gr,cr.formattedValue=null});let _r=Sr=>{const{formattedValue:gr}=cr;gr!=null&&(Sr.target.value=gr),Sr.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){lr.addEventListener("focus",gr=>{if(cr.focused)return;const{target:br}=gr;cr.userValue&&(br.value=cr.userValue),cr.lastCommittedValue=br.value,cr.commitKey=1,cr.focused=!0}),lr.addEventListener("updatefromsandbox",gr=>{this.showElementAndHideCanvas(gr.target);const br={value(Ar){cr.userValue=Ar.detail.value??"",dr.setValue(Yt,{value:cr.userValue.toString()}),Ar.target.value=cr.userValue},formattedValue(Ar){const{formattedValue:Lr}=Ar.detail;cr.formattedValue=Lr,Lr!=null&&Ar.target!==document.activeElement&&(Ar.target.value=Lr),dr.setValue(Yt,{formattedValue:Lr})},selRange(Ar){Ar.target.setSelectionRange(...Ar.detail.selRange)},charLimit:Ar=>{var Wr;const{charLimit:Lr}=Ar.detail,{target:Kr}=Ar;if(Lr===0){Kr.removeAttribute("maxLength");return}Kr.setAttribute("maxLength",Lr);let an=cr.userValue;!an||an.length<=Lr||(an=an.slice(0,Lr),Kr.value=cr.userValue=an,dr.setValue(Yt,{value:an}),(Wr=this.linkService.eventBus)==null||Wr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Yt,name:"Keystroke",value:an,willCommit:!0,commitKey:1,selStart:Kr.selectionStart,selEnd:Kr.selectionEnd}}))}};this._dispatchEventFromSandbox(br,gr)}),lr.addEventListener("keydown",gr=>{var Lr;cr.commitKey=1;let br=-1;if(gr.key==="Escape"?br=0:gr.key==="Enter"&&!this.data.multiLine?br=2:gr.key==="Tab"&&(cr.commitKey=3),br===-1)return;const{value:Ar}=gr.target;cr.lastCommittedValue!==Ar&&(cr.lastCommittedValue=Ar,cr.userValue=Ar,(Lr=this.linkService.eventBus)==null||Lr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Yt,name:"Keystroke",value:Ar,willCommit:!0,commitKey:br,selStart:gr.target.selectionStart,selEnd:gr.target.selectionEnd}}))});const Sr=_r;_r=null,lr.addEventListener("blur",gr=>{var Ar;if(!cr.focused||!gr.relatedTarget)return;cr.focused=!1;const{value:br}=gr.target;cr.userValue=br,cr.lastCommittedValue!==br&&((Ar=this.linkService.eventBus)==null||Ar.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Yt,name:"Keystroke",value:br,willCommit:!0,commitKey:cr.commitKey,selStart:gr.target.selectionStart,selEnd:gr.target.selectionEnd}})),Sr(gr)}),(Wt=this.data.actions)!=null&&Wt.Keystroke&&lr.addEventListener("beforeinput",gr=>{var gn;cr.lastCommittedValue=null;const{data:br,target:Ar}=gr,{value:Lr,selectionStart:Kr,selectionEnd:an}=Ar;let Wr=Kr,on=an;switch(gr.inputType){case"deleteWordBackward":{const Cn=Lr.substring(0,Kr).match(/\w*[^\w]*$/);Cn&&(Wr-=Cn[0].length);break}case"deleteWordForward":{const Cn=Lr.substring(Kr).match(/^[^\w]*\w*/);Cn&&(on+=Cn[0].length);break}case"deleteContentBackward":Kr===an&&(Wr-=1);break;case"deleteContentForward":Kr===an&&(on+=1);break}gr.preventDefault(),(gn=this.linkService.eventBus)==null||gn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Yt,name:"Keystroke",value:Lr,change:br||"",willCommit:!1,selStart:Wr,selEnd:on}})}),this._setEventListeners(lr,cr,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],gr=>gr.target.value)}if(_r&&lr.addEventListener("blur",_r),this.data.comb){const gr=(this.data.rect[2]-this.data.rect[0])/nr;lr.classList.add("comb"),lr.style.letterSpacing=`calc(${gr}px * var(--scale-factor) - 1ch)`}}else lr=document.createElement("div"),lr.textContent=this.data.fieldValue,lr.style.verticalAlign="middle",lr.style.display="table-cell";return this._setTextStyle(lr),this._setBackgroundColor(lr),this._setDefaultPropertiesFromJS(lr),this.container.append(lr),this.container}}class yt extends vt{constructor(dr){super(dr,{isRenderable:!!dr.data.hasOwnCanvas})}}class St extends vt{constructor(dr){super(dr,{isRenderable:dr.renderForms})}render(){const dr=this.annotationStorage,Yt=this.data,lr=Yt.id;let ur=dr.getValue(lr,{value:Yt.exportValue===Yt.fieldValue}).value;typeof ur=="string"&&(ur=ur!=="Off",dr.setValue(lr,{value:ur})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Wt=document.createElement("input");return dt.add(Wt),Wt.setAttribute("data-element-id",lr),Wt.disabled=Yt.readOnly,this._setRequired(Wt,this.data.required),Wt.type="checkbox",Wt.name=Yt.fieldName,ur&&Wt.setAttribute("checked",!0),Wt.setAttribute("exportValue",Yt.exportValue),Wt.tabIndex=ct,Wt.addEventListener("change",rr=>{const{name:tr,checked:nr}=rr.target;for(const sr of this._getElementsByName(tr,lr)){const cr=nr&&sr.exportValue===Yt.exportValue;sr.domElement&&(sr.domElement.checked=cr),dr.setValue(sr.id,{value:cr})}dr.setValue(lr,{value:nr})}),Wt.addEventListener("resetform",rr=>{const tr=Yt.defaultFieldValue||"Off";rr.target.checked=tr===Yt.exportValue}),this.enableScripting&&this.hasJSActions&&(Wt.addEventListener("updatefromsandbox",rr=>{const tr={value(nr){nr.target.checked=nr.detail.value!=="Off",dr.setValue(lr,{value:nr.target.checked})}};this._dispatchEventFromSandbox(tr,rr)}),this._setEventListeners(Wt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],rr=>rr.target.checked)),this._setBackgroundColor(Wt),this._setDefaultPropertiesFromJS(Wt),this.container.append(Wt),this.container}}class bt extends vt{constructor(dr){super(dr,{isRenderable:dr.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const dr=this.annotationStorage,Yt=this.data,lr=Yt.id;let ur=dr.getValue(lr,{value:Yt.fieldValue===Yt.buttonValue}).value;typeof ur=="string"&&(ur=ur!==Yt.buttonValue,dr.setValue(lr,{value:ur}));const Wt=document.createElement("input");if(dt.add(Wt),Wt.setAttribute("data-element-id",lr),Wt.disabled=Yt.readOnly,this._setRequired(Wt,this.data.required),Wt.type="radio",Wt.name=Yt.fieldName,ur&&Wt.setAttribute("checked",!0),Wt.tabIndex=ct,Wt.addEventListener("change",rr=>{const{name:tr,checked:nr}=rr.target;for(const sr of this._getElementsByName(tr,lr))dr.setValue(sr.id,{value:!1});dr.setValue(lr,{value:nr})}),Wt.addEventListener("resetform",rr=>{const tr=Yt.defaultFieldValue;rr.target.checked=tr!=null&&tr===Yt.buttonValue}),this.enableScripting&&this.hasJSActions){const rr=Yt.buttonValue;Wt.addEventListener("updatefromsandbox",tr=>{const nr={value:sr=>{const cr=rr===sr.detail.value;for(const _r of this._getElementsByName(sr.target.name)){const Sr=cr&&_r.id===lr;_r.domElement&&(_r.domElement.checked=Sr),dr.setValue(_r.id,{value:Sr})}}};this._dispatchEventFromSandbox(nr,tr)}),this._setEventListeners(Wt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],tr=>tr.target.checked)}return this._setBackgroundColor(Wt),this._setDefaultPropertiesFromJS(Wt),this.container.append(Wt),this.container}}class Et extends mt{constructor(dr){super(dr,{ignoreBorder:dr.data.hasAppearance})}render(){const dr=super.render();dr.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(dr.title=this.data.alternativeText);const Yt=dr.lastChild;return this.enableScripting&&this.hasJSActions&&Yt&&(this._setDefaultPropertiesFromJS(Yt),Yt.addEventListener("updatefromsandbox",lr=>{this._dispatchEventFromSandbox({},lr)})),dr}}class Tt extends vt{constructor(dr){super(dr,{isRenderable:dr.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const dr=this.annotationStorage,Yt=this.data.id,lr=dr.getValue(Yt,{value:this.data.fieldValue}),ur=document.createElement("select");dt.add(ur),ur.setAttribute("data-element-id",Yt),ur.disabled=this.data.readOnly,this._setRequired(ur,this.data.required),ur.name=this.data.fieldName,ur.tabIndex=ct;let Wt=this.data.combo&&this.data.options.length>0;this.data.combo||(ur.size=this.data.options.length,this.data.multiSelect&&(ur.multiple=!0)),ur.addEventListener("resetform",cr=>{const _r=this.data.defaultFieldValue;for(const Sr of ur.options)Sr.selected=Sr.value===_r});for(const cr of this.data.options){const _r=document.createElement("option");_r.textContent=cr.displayValue,_r.value=cr.exportValue,lr.value.includes(cr.exportValue)&&(_r.setAttribute("selected",!0),Wt=!1),ur.append(_r)}let rr=null;if(Wt){const cr=document.createElement("option");cr.value=" ",cr.setAttribute("hidden",!0),cr.setAttribute("selected",!0),ur.prepend(cr),rr=()=>{cr.remove(),ur.removeEventListener("input",rr),rr=null},ur.addEventListener("input",rr)}const tr=cr=>{const _r=cr?"value":"textContent",{options:Sr,multiple:gr}=ur;return gr?Array.prototype.filter.call(Sr,br=>br.selected).map(br=>br[_r]):Sr.selectedIndex===-1?null:Sr[Sr.selectedIndex][_r]};let nr=tr(!1);const sr=cr=>{const _r=cr.target.options;return Array.prototype.map.call(_r,Sr=>({displayValue:Sr.textContent,exportValue:Sr.value}))};return this.enableScripting&&this.hasJSActions?(ur.addEventListener("updatefromsandbox",cr=>{const _r={value(Sr){rr==null||rr();const gr=Sr.detail.value,br=new Set(Array.isArray(gr)?gr:[gr]);for(const Ar of ur.options)Ar.selected=br.has(Ar.value);dr.setValue(Yt,{value:tr(!0)}),nr=tr(!1)},multipleSelection(Sr){ur.multiple=!0},remove(Sr){const gr=ur.options,br=Sr.detail.remove;gr[br].selected=!1,ur.remove(br),gr.length>0&&Array.prototype.findIndex.call(gr,Lr=>Lr.selected)===-1&&(gr[0].selected=!0),dr.setValue(Yt,{value:tr(!0),items:sr(Sr)}),nr=tr(!1)},clear(Sr){for(;ur.length!==0;)ur.remove(0);dr.setValue(Yt,{value:null,items:[]}),nr=tr(!1)},insert(Sr){const{index:gr,displayValue:br,exportValue:Ar}=Sr.detail.insert,Lr=ur.children[gr],Kr=document.createElement("option");Kr.textContent=br,Kr.value=Ar,Lr?Lr.before(Kr):ur.append(Kr),dr.setValue(Yt,{value:tr(!0),items:sr(Sr)}),nr=tr(!1)},items(Sr){const{items:gr}=Sr.detail;for(;ur.length!==0;)ur.remove(0);for(const br of gr){const{displayValue:Ar,exportValue:Lr}=br,Kr=document.createElement("option");Kr.textContent=Ar,Kr.value=Lr,ur.append(Kr)}ur.options.length>0&&(ur.options[0].selected=!0),dr.setValue(Yt,{value:tr(!0),items:sr(Sr)}),nr=tr(!1)},indices(Sr){const gr=new Set(Sr.detail.indices);for(const br of Sr.target.options)br.selected=gr.has(br.index);dr.setValue(Yt,{value:tr(!0)}),nr=tr(!1)},editable(Sr){Sr.target.disabled=!Sr.detail.editable}};this._dispatchEventFromSandbox(_r,cr)}),ur.addEventListener("input",cr=>{var Sr;const _r=tr(!0);dr.setValue(Yt,{value:_r}),cr.preventDefault(),(Sr=this.linkService.eventBus)==null||Sr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Yt,name:"Keystroke",value:nr,changeEx:_r,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(ur,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],cr=>cr.target.value)):ur.addEventListener("input",function(cr){dr.setValue(Yt,{value:tr(!0)})}),this.data.combo&&this._setTextStyle(ur),this._setBackgroundColor(ur),this._setDefaultPropertiesFromJS(ur),this.container.append(ur),this.container}}class At extends gt{constructor(dr){const{data:Yt,elements:lr}=dr;super(dr,{isRenderable:gt._hasPopupData(Yt)}),this.elements=lr}render(){this.container.classList.add("popupAnnotation");const dr=new Ct({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Yt=[];for(const lr of this.elements)lr.popup=dr,Yt.push(lr.data.id),lr.addHighlightArea();return this.container.setAttribute("aria-controls",Yt.map(lr=>`${nt.AnnotationPrefix}${lr}`).join(",")),this.container}}class Ct{constructor({container:dr,color:Yt,elements:lr,titleObj:ur,modificationDate:Wt,contentsObj:rr,richText:tr,parent:nr,rect:sr,parentRect:cr,open:_r}){mr(this,sn);mr(this,$r);mr(this,rn);mr(this,hn);mr(this,ar,null);mr(this,Kt,Er(this,sn,Gu).bind(this));mr(this,pr,Er(this,hn,Dl).bind(this));mr(this,fr,Er(this,rn,Rl).bind(this));mr(this,vr,Er(this,$r,lo).bind(this));mr(this,wr,null);mr(this,hr,null);mr(this,Ir,null);mr(this,Jr,null);mr(this,Br,null);mr(this,Zr,null);mr(this,Fr,!1);mr(this,Cr,null);mr(this,Tr,null);mr(this,Dr,null);mr(this,Gr,null);mr(this,qr,!1);var gr;jr(this,hr,dr),jr(this,Gr,ur),jr(this,Ir,rr),jr(this,Dr,tr),jr(this,Br,nr),jr(this,wr,Yt),jr(this,Tr,sr),jr(this,Zr,cr),jr(this,Jr,lr);const Sr=at.PDFDateString.toDateObject(Wt);Sr&&jr(this,ar,nr.l10n.get("annotation_date_string",{date:Sr.toLocaleDateString(),time:Sr.toLocaleTimeString()})),this.trigger=lr.flatMap(br=>br.getElementsToTriggerPopup());for(const br of this.trigger)br.addEventListener("click",zt(this,vr)),br.addEventListener("mouseenter",zt(this,fr)),br.addEventListener("mouseleave",zt(this,pr)),br.classList.add("popupTriggerArea");for(const br of lr)(gr=br.container)==null||gr.addEventListener("keydown",zt(this,Kt));zt(this,hr).hidden=!0,_r&&Er(this,$r,lo).call(this)}render(){if(zt(this,Cr))return;const{page:{view:dr},viewport:{rawDims:{pageWidth:Yt,pageHeight:lr,pageX:ur,pageY:Wt}}}=zt(this,Br),rr=jr(this,Cr,document.createElement("div"));if(rr.className="popup",zt(this,wr)){const Wr=rr.style.outlineColor=nt.Util.makeHexColor(...zt(this,wr));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?rr.style.backgroundColor=`color-mix(in srgb, ${Wr} 30%, white)`:rr.style.backgroundColor=nt.Util.makeHexColor(...zt(this,wr).map(gn=>Math.floor(.7*(255-gn)+gn)))}const tr=document.createElement("span");tr.className="header";const nr=document.createElement("h1");if(tr.append(nr),{dir:nr.dir,str:nr.textContent}=zt(this,Gr),rr.append(tr),zt(this,ar)){const Wr=document.createElement("span");Wr.classList.add("popupDate"),zt(this,ar).then(on=>{Wr.textContent=on}),tr.append(Wr)}const sr=zt(this,Ir),cr=zt(this,Dr);if(cr!=null&&cr.str&&(!(sr!=null&&sr.str)||sr.str===cr.str))lt.XfaLayer.render({xfaHtml:cr.html,intent:"richText",div:rr}),rr.lastChild.classList.add("richText","popupContent");else{const Wr=this._formatContents(sr);rr.append(Wr)}let _r=!!zt(this,Zr),Sr=_r?zt(this,Zr):zt(this,Tr);for(const Wr of zt(this,Jr))if(!Sr||nt.Util.intersect(Wr.data.rect,Sr)!==null){Sr=Wr.data.rect,_r=!0;break}const gr=nt.Util.normalizeRect([Sr[0],dr[3]-Sr[1]+dr[1],Sr[2],dr[3]-Sr[3]+dr[1]]),br=5,Ar=_r?Sr[2]-Sr[0]+br:0,Lr=gr[0]+Ar,Kr=gr[1],{style:an}=zt(this,hr);an.left=`${100*(Lr-ur)/Yt}%`,an.top=`${100*(Kr-Wt)/lr}%`,zt(this,hr).append(rr)}_formatContents({str:dr,dir:Yt}){const lr=document.createElement("p");lr.classList.add("popupContent"),lr.dir=Yt;const ur=dr.split(/(?:\r\n?|\n)/);for(let Wt=0,rr=ur.length;Wt<rr;++Wt){const tr=ur[Wt];lr.append(document.createTextNode(tr)),Wt<rr-1&&lr.append(document.createElement("br"))}return lr}forceHide(){jr(this,qr,this.isVisible),zt(this,qr)&&(zt(this,hr).hidden=!0)}maybeShow(){zt(this,qr)&&(jr(this,qr,!1),zt(this,hr).hidden=!1)}get isVisible(){return zt(this,hr).hidden===!1}}ar=new WeakMap,Kt=new WeakMap,pr=new WeakMap,fr=new WeakMap,vr=new WeakMap,wr=new WeakMap,hr=new WeakMap,Ir=new WeakMap,Jr=new WeakMap,Br=new WeakMap,Zr=new WeakMap,Fr=new WeakMap,Cr=new WeakMap,Tr=new WeakMap,Dr=new WeakMap,Gr=new WeakMap,qr=new WeakMap,sn=new WeakSet,Gu=function(dr){dr.altKey||dr.shiftKey||dr.ctrlKey||dr.metaKey||(dr.key==="Enter"||dr.key==="Escape"&&zt(this,Fr))&&Er(this,$r,lo).call(this)},$r=new WeakSet,lo=function(){jr(this,Fr,!zt(this,Fr)),zt(this,Fr)?(Er(this,rn,Rl).call(this),zt(this,hr).addEventListener("click",zt(this,vr)),zt(this,hr).addEventListener("keydown",zt(this,Kt))):(Er(this,hn,Dl).call(this),zt(this,hr).removeEventListener("click",zt(this,vr)),zt(this,hr).removeEventListener("keydown",zt(this,Kt)))},rn=new WeakSet,Rl=function(){zt(this,Cr)||this.render(),this.isVisible?zt(this,Fr)&&zt(this,hr).classList.add("focused"):(zt(this,hr).hidden=!1,zt(this,hr).style.zIndex=parseInt(zt(this,hr).style.zIndex)+1e3)},hn=new WeakSet,Dl=function(){zt(this,hr).classList.remove("focused"),!(zt(this,Fr)||!this.isVisible)&&(zt(this,hr).hidden=!0,zt(this,hr).style.zIndex=parseInt(zt(this,hr).style.zIndex)-1e3)};class kt extends gt{constructor(dr){super(dr,{isRenderable:!0,ignoreBorder:!0}),this.textContent=dr.data.textContent,this.textPosition=dr.data.textPosition,this.annotationEditorType=nt.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const dr=document.createElement("div");dr.classList.add("annotationTextContent"),dr.setAttribute("role","comment");for(const Yt of this.textContent){const lr=document.createElement("span");lr.textContent=Yt,dr.append(lr)}this.container.append(dr)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}tt.FreeTextAnnotationElement=kt;class Pt extends gt{constructor(Yt){super(Yt,{isRenderable:!0,ignoreBorder:!0});mr(this,Rr,null)}render(){this.container.classList.add("lineAnnotation");const Yt=this.data,{width:lr,height:ur}=ft(Yt.rect),Wt=this.svgFactory.create(lr,ur,!0),rr=jr(this,Rr,this.svgFactory.createElement("svg:line"));return rr.setAttribute("x1",Yt.rect[2]-Yt.lineCoordinates[0]),rr.setAttribute("y1",Yt.rect[3]-Yt.lineCoordinates[1]),rr.setAttribute("x2",Yt.rect[2]-Yt.lineCoordinates[2]),rr.setAttribute("y2",Yt.rect[3]-Yt.lineCoordinates[3]),rr.setAttribute("stroke-width",Yt.borderStyle.width||1),rr.setAttribute("stroke","transparent"),rr.setAttribute("fill","transparent"),Wt.append(rr),this.container.append(Wt),!Yt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return zt(this,Rr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rr=new WeakMap;class Dt extends gt{constructor(Yt){super(Yt,{isRenderable:!0,ignoreBorder:!0});mr(this,yr,null)}render(){this.container.classList.add("squareAnnotation");const Yt=this.data,{width:lr,height:ur}=ft(Yt.rect),Wt=this.svgFactory.create(lr,ur,!0),rr=Yt.borderStyle.width,tr=jr(this,yr,this.svgFactory.createElement("svg:rect"));return tr.setAttribute("x",rr/2),tr.setAttribute("y",rr/2),tr.setAttribute("width",lr-rr),tr.setAttribute("height",ur-rr),tr.setAttribute("stroke-width",rr||1),tr.setAttribute("stroke","transparent"),tr.setAttribute("fill","transparent"),Wt.append(tr),this.container.append(Wt),!Yt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return zt(this,yr)}addHighlightArea(){this.container.classList.add("highlightArea")}}yr=new WeakMap;class Ft extends gt{constructor(Yt){super(Yt,{isRenderable:!0,ignoreBorder:!0});mr(this,Vr,null)}render(){this.container.classList.add("circleAnnotation");const Yt=this.data,{width:lr,height:ur}=ft(Yt.rect),Wt=this.svgFactory.create(lr,ur,!0),rr=Yt.borderStyle.width,tr=jr(this,Vr,this.svgFactory.createElement("svg:ellipse"));return tr.setAttribute("cx",lr/2),tr.setAttribute("cy",ur/2),tr.setAttribute("rx",lr/2-rr/2),tr.setAttribute("ry",ur/2-rr/2),tr.setAttribute("stroke-width",rr||1),tr.setAttribute("stroke","transparent"),tr.setAttribute("fill","transparent"),Wt.append(tr),this.container.append(Wt),!Yt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return zt(this,Vr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vr=new WeakMap;class Ot extends gt{constructor(Yt){super(Yt,{isRenderable:!0,ignoreBorder:!0});mr(this,zr,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Yt=this.data,{width:lr,height:ur}=ft(Yt.rect),Wt=this.svgFactory.create(lr,ur,!0);let rr=[];for(const nr of Yt.vertices){const sr=nr.x-Yt.rect[0],cr=Yt.rect[3]-nr.y;rr.push(sr+","+cr)}rr=rr.join(" ");const tr=jr(this,zr,this.svgFactory.createElement(this.svgElementName));return tr.setAttribute("points",rr),tr.setAttribute("stroke-width",Yt.borderStyle.width||1),tr.setAttribute("stroke","transparent"),tr.setAttribute("fill","transparent"),Wt.append(tr),this.container.append(Wt),!Yt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return zt(this,zr)}addHighlightArea(){this.container.classList.add("highlightArea")}}zr=new WeakMap;class It extends Ot{constructor(dr){super(dr),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Bt extends gt{constructor(dr){super(dr,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class qt extends gt{constructor(Yt){super(Yt,{isRenderable:!0,ignoreBorder:!0});mr(this,Tn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=nt.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Yt=this.data,{width:lr,height:ur}=ft(Yt.rect),Wt=this.svgFactory.create(lr,ur,!0);for(const rr of Yt.inkLists){let tr=[];for(const sr of rr){const cr=sr.x-Yt.rect[0],_r=Yt.rect[3]-sr.y;tr.push(`${cr},${_r}`)}tr=tr.join(" ");const nr=this.svgFactory.createElement(this.svgElementName);zt(this,Tn).push(nr),nr.setAttribute("points",tr),nr.setAttribute("stroke-width",Yt.borderStyle.width||1),nr.setAttribute("stroke","transparent"),nr.setAttribute("fill","transparent"),!Yt.popupRef&&this.hasPopupData&&this._createPopup(),Wt.append(nr)}return this.container.append(Wt),this.container}getElementsToTriggerPopup(){return zt(this,Tn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Tn=new WeakMap,tt.InkAnnotationElement=qt;class Ut extends gt{constructor(dr){super(dr,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Ht extends gt{constructor(dr){super(dr,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Qt extends gt{constructor(dr){super(dr,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class ir extends gt{constructor(dr){super(dr,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Xt extends gt{constructor(dr){super(dr,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}tt.StampAnnotationElement=Xt;class Lt extends gt{constructor(Yt){var Wt;super(Yt,{isRenderable:!0});mr(this,Pr);mr(this,wn,null);const{filename:lr,content:ur}=this.data.file;this.filename=(0,at.getFilenameFromUrl)(lr,!0),this.content=ur,(Wt=this.linkService.eventBus)==null||Wt.dispatch("fileattachmentannotation",{source:this,filename:lr,content:ur})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Yt,data:lr}=this;let ur;lr.hasAppearance||lr.fillAlpha===0?ur=document.createElement("div"):(ur=document.createElement("img"),ur.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(lr.name)?"paperclip":"pushpin"}.svg`,lr.fillAlpha&&lr.fillAlpha<1&&(ur.style=`filter: opacity(${Math.round(lr.fillAlpha*100)}%);`)),ur.addEventListener("dblclick",Er(this,Pr,Ol).bind(this)),jr(this,wn,ur);const{isMac:Wt}=nt.FeatureTest.platform;return Yt.addEventListener("keydown",rr=>{rr.key==="Enter"&&(Wt?rr.metaKey:rr.ctrlKey)&&Er(this,Pr,Ol).call(this)}),!lr.popupRef&&this.hasPopupData?this._createPopup():ur.classList.add("popupTriggerArea"),Yt.append(ur),Yt}getElementsToTriggerPopup(){return zt(this,wn)}addHighlightArea(){this.container.classList.add("highlightArea")}}wn=new WeakMap,Pr=new WeakSet,Ol=function(){var Yt;(Yt=this.downloadManager)==null||Yt.openOrDownloadData(this.container,this.content,this.filename)};class jt{constructor({div:dr,accessibilityManager:Yt,annotationCanvasMap:lr,l10n:ur,page:Wt,viewport:rr}){mr(this,pn);mr(this,Hr);mr(this,dn,null);mr(this,en,null);mr(this,fn,new Map);this.div=dr,jr(this,dn,Yt),jr(this,en,lr),this.l10n=ur,this.page=Wt,this.viewport=rr,this.zIndex=0,this.l10n||(this.l10n=ot.NullL10n)}async render(dr){const{annotations:Yt}=dr,lr=this.div;(0,at.setLayerDimensions)(lr,this.viewport);const ur=new Map,Wt={data:null,layer:lr,linkService:dr.linkService,downloadManager:dr.downloadManager,imageResourcesPath:dr.imageResourcesPath||"",renderForms:dr.renderForms!==!1,svgFactory:new at.DOMSVGFactory,annotationStorage:dr.annotationStorage||new it.AnnotationStorage,enableScripting:dr.enableScripting===!0,hasJSActions:dr.hasJSActions,fieldObjects:dr.fieldObjects,parent:this,elements:null};for(const rr of Yt){if(rr.noHTML)continue;const tr=rr.annotationType===nt.AnnotationType.POPUP;if(tr){const cr=ur.get(rr.id);if(!cr)continue;Wt.elements=cr}else{const{width:cr,height:_r}=ft(rr.rect);if(cr<=0||_r<=0)continue}Wt.data=rr;const nr=ht.create(Wt);if(!nr.isRenderable)continue;if(!tr&&rr.popupRef){const cr=ur.get(rr.popupRef);cr?cr.push(nr):ur.set(rr.popupRef,[nr])}nr.annotationEditorType>0&&zt(this,fn).set(nr.data.id,nr);const sr=nr.render();rr.hidden&&(sr.style.visibility="hidden"),Er(this,pn,Ku).call(this,sr,rr.id)}Er(this,Hr,Nl).call(this),await this.l10n.translate(lr)}update({viewport:dr}){const Yt=this.div;this.viewport=dr,(0,at.setLayerDimensions)(Yt,{rotation:dr.rotation}),Er(this,Hr,Nl).call(this),Yt.hidden=!1}getEditableAnnotations(){return Array.from(zt(this,fn).values())}getEditableAnnotation(dr){return zt(this,fn).get(dr)}}dn=new WeakMap,en=new WeakMap,fn=new WeakMap,pn=new WeakSet,Ku=function(dr,Yt){var ur;const lr=dr.firstChild||dr;lr.id=`${nt.AnnotationPrefix}${Yt}`,this.div.append(dr),(ur=zt(this,dn))==null||ur.moveElementInDOM(this.div,dr,lr,!1)},Hr=new WeakSet,Nl=function(){if(!zt(this,en))return;const dr=this.div;for(const[Yt,lr]of zt(this,en)){const ur=dr.querySelector(`[data-annotation-id="${Yt}"]`);if(!ur)continue;const{firstChild:Wt}=ur;Wt?Wt.nodeName==="CANVAS"?Wt.replaceWith(lr):Wt.before(lr):ur.append(lr)}zt(this,en).clear()},tt.AnnotationLayer=jt},(et,tt)=>{Object.defineProperty(tt,"__esModule",{value:!0}),tt.ColorConverters=void 0;function rt(it){return Math.floor(Math.max(0,Math.min(1,it))*255).toString(16).padStart(2,"0")}function nt(it){return Math.max(0,Math.min(255,255*it))}class at{static CMYK_G([st,ot,lt,ct]){return["G",1-Math.min(1,.3*st+.59*lt+.11*ot+ct)]}static G_CMYK([st]){return["CMYK",0,0,0,1-st]}static G_RGB([st]){return["RGB",st,st,st]}static G_rgb([st]){return st=nt(st),[st,st,st]}static G_HTML([st]){const ot=rt(st);return`#${ot}${ot}${ot}`}static RGB_G([st,ot,lt]){return["G",.3*st+.59*ot+.11*lt]}static RGB_rgb(st){return st.map(nt)}static RGB_HTML(st){return`#${st.map(rt).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([st,ot,lt,ct]){return["RGB",1-Math.min(1,st+ct),1-Math.min(1,lt+ct),1-Math.min(1,ot+ct)]}static CMYK_rgb([st,ot,lt,ct]){return[nt(1-Math.min(1,st+ct)),nt(1-Math.min(1,lt+ct)),nt(1-Math.min(1,ot+ct))]}static CMYK_HTML(st){const ot=this.CMYK_RGB(st).slice(1);return this.RGB_HTML(ot)}static RGB_CMYK([st,ot,lt]){const ct=1-st,ut=1-ot,dt=1-lt,ft=Math.min(ct,ut,dt);return["CMYK",ct,ut,dt,ft]}}tt.ColorConverters=at},(et,tt)=>{Object.defineProperty(tt,"__esModule",{value:!0}),tt.NullL10n=void 0,tt.getL10nFallback=nt;const rt={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};rt.print_progress_percent="{{progress}}%";function nt(st,ot){switch(st){case"find_match_count":st=`find_match_count[${ot.total===1?"one":"other"}]`;break;case"find_match_count_limit":st=`find_match_count_limit[${ot.limit===1?"one":"other"}]`;break}return rt[st]||""}function at(st,ot){return ot?st.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(lt,ct)=>ct in ot?ot[ct]:"{{"+ct+"}}"):st}const it={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(st,ot=null,lt=nt(st,ot)){return at(lt,ot)},async translate(st){}};tt.NullL10n=it},(et,tt,rt)=>{Object.defineProperty(tt,"__esModule",{value:!0}),tt.XfaLayer=void 0;var nt=rt(25);class at{static setupStorage(st,ot,lt,ct,ut){const dt=ct.getValue(ot,{value:null});switch(lt.name){case"textarea":if(dt.value!==null&&(st.textContent=dt.value),ut==="print")break;st.addEventListener("input",ft=>{ct.setValue(ot,{value:ft.target.value})});break;case"input":if(lt.attributes.type==="radio"||lt.attributes.type==="checkbox"){if(dt.value===lt.attributes.xfaOn?st.setAttribute("checked",!0):dt.value===lt.attributes.xfaOff&&st.removeAttribute("checked"),ut==="print")break;st.addEventListener("change",ft=>{ct.setValue(ot,{value:ft.target.checked?ft.target.getAttribute("xfaOn"):ft.target.getAttribute("xfaOff")})})}else{if(dt.value!==null&&st.setAttribute("value",dt.value),ut==="print")break;st.addEventListener("input",ft=>{ct.setValue(ot,{value:ft.target.value})})}break;case"select":if(dt.value!==null){st.setAttribute("value",dt.value);for(const ft of lt.children)ft.attributes.value===dt.value?ft.attributes.selected=!0:ft.attributes.hasOwnProperty("selected")&&delete ft.attributes.selected}st.addEventListener("input",ft=>{const ht=ft.target.options,gt=ht.selectedIndex===-1?"":ht[ht.selectedIndex].value;ct.setValue(ot,{value:gt})});break}}static setAttributes({html:st,element:ot,storage:lt=null,intent:ct,linkService:ut}){const{attributes:dt}=ot,ft=st instanceof HTMLAnchorElement;dt.type==="radio"&&(dt.name=`${dt.name}-${ct}`);for(const[ht,gt]of Object.entries(dt))if(gt!=null)switch(ht){case"class":gt.length&&st.setAttribute(ht,gt.join(" "));break;case"dataId":break;case"id":st.setAttribute("data-element-id",gt);break;case"style":Object.assign(st.style,gt);break;case"textContent":st.textContent=gt;break;default:(!ft||ht!=="href"&&ht!=="newWindow")&&st.setAttribute(ht,gt)}ft&&ut.addLinkAttributes(st,dt.href,dt.newWindow),lt&&dt.dataId&&this.setupStorage(st,dt.dataId,ot,lt)}static render(st){var mt;const ot=st.annotationStorage,lt=st.linkService,ct=st.xfaHtml,ut=st.intent||"display",dt=document.createElement(ct.name);ct.attributes&&this.setAttributes({html:dt,element:ct,intent:ut,linkService:lt});const ft=[[ct,-1,dt]],ht=st.div;if(ht.append(dt),st.viewport){const xt=`matrix(${st.viewport.transform.join(",")})`;ht.style.transform=xt}ut!=="richText"&&ht.setAttribute("class","xfaLayer xfaFont");const gt=[];for(;ft.length>0;){const[xt,vt,_t]=ft.at(-1);if(vt+1===xt.children.length){ft.pop();continue}const yt=xt.children[++ft.at(-1)[1]];if(yt===null)continue;const{name:St}=yt;if(St==="#text"){const Et=document.createTextNode(yt.value);gt.push(Et),_t.append(Et);continue}const bt=(mt=yt==null?void 0:yt.attributes)!=null&&mt.xmlns?document.createElementNS(yt.attributes.xmlns,St):document.createElement(St);if(_t.append(bt),yt.attributes&&this.setAttributes({html:bt,element:yt,storage:ot,intent:ut,linkService:lt}),yt.children&&yt.children.length>0)ft.push([yt,-1,bt]);else if(yt.value){const Et=document.createTextNode(yt.value);nt.XfaText.shouldBuildText(St)&&gt.push(Et),bt.append(Et)}}for(const xt of ht.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))xt.setAttribute("readOnly",!0);return{textDivs:gt}}static update(st){const ot=`matrix(${st.viewport.transform.join(",")})`;st.div.style.transform=ot,st.div.hidden=!1}}tt.XfaLayer=at},(et,tt,rt)=>{var ct,ut,dt,ft,ht,gt,mt,xt,vt,_t,yt,St,bt,Et,Tt,qu,Ct,Xu,Pt,Yu,Ft,Zu,It,Fl,qt,Ju,Ht,Ml,ir,Qu,Lt,_d,Nt,_f,Vt,_h,Zt,ep,ar,xa,pr,Il,vr,co,hr,uo,Jr,vs,Zr,$l,Cr,fo,Dr,tp,qr,Ll,Ur,rp,Yr,np,nn,Bl,Or,ho,yr,ys;Object.defineProperty(tt,"__esModule",{value:!0}),tt.InkEditor=void 0;var nt=rt(1),at=rt(4),it=rt(29),st=rt(6),ot=rt(5);const zr=class zr extends at.AnnotationEditor{constructor(Pr){super({...Pr,name:"inkEditor"});mr(this,Tt);mr(this,Ct);mr(this,Pt);mr(this,Ft);mr(this,It);mr(this,qt);mr(this,Ht);mr(this,ir);mr(this,Lt);mr(this,Nt);mr(this,Vt);mr(this,Zt);mr(this,ar);mr(this,pr);mr(this,vr);mr(this,hr);mr(this,Jr);mr(this,Zr);mr(this,Cr);mr(this,Yr);mr(this,nn);mr(this,Or);mr(this,yr);mr(this,ct,0);mr(this,ut,0);mr(this,dt,this.canvasPointermove.bind(this));mr(this,ft,this.canvasPointerleave.bind(this));mr(this,ht,this.canvasPointerup.bind(this));mr(this,gt,this.canvasPointerdown.bind(this));mr(this,mt,new Path2D);mr(this,xt,!1);mr(this,vt,!1);mr(this,_t,!1);mr(this,yt,null);mr(this,St,0);mr(this,bt,0);mr(this,Et,null);this.color=Pr.color||null,this.thickness=Pr.thickness||null,this.opacity=Pr.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Pr){at.AnnotationEditor.initialize(Pr,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Pr,Xr){switch(Pr){case nt.AnnotationEditorParamsType.INK_THICKNESS:zr._defaultThickness=Xr;break;case nt.AnnotationEditorParamsType.INK_COLOR:zr._defaultColor=Xr;break;case nt.AnnotationEditorParamsType.INK_OPACITY:zr._defaultOpacity=Xr/100;break}}updateParams(Pr,Xr){switch(Pr){case nt.AnnotationEditorParamsType.INK_THICKNESS:Er(this,Tt,qu).call(this,Xr);break;case nt.AnnotationEditorParamsType.INK_COLOR:Er(this,Ct,Xu).call(this,Xr);break;case nt.AnnotationEditorParamsType.INK_OPACITY:Er(this,Pt,Yu).call(this,Xr);break}}static get defaultPropertiesToUpdate(){return[[nt.AnnotationEditorParamsType.INK_THICKNESS,zr._defaultThickness],[nt.AnnotationEditorParamsType.INK_COLOR,zr._defaultColor||at.AnnotationEditor._defaultLineColor],[nt.AnnotationEditorParamsType.INK_OPACITY,Math.round(zr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[nt.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||zr._defaultThickness],[nt.AnnotationEditorParamsType.INK_COLOR,this.color||zr._defaultColor||at.AnnotationEditor._defaultLineColor],[nt.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??zr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Er(this,vr,co).call(this),Er(this,hr,uo).call(this)),this.isAttachedToDOM||(this.parent.add(this),Er(this,Jr,vs).call(this)),Er(this,yr,ys).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,zt(this,yt).disconnect(),jr(this,yt,null),super.remove())}setParent(Pr){!this.parent&&Pr?this._uiManager.removeShouldRescale(this):this.parent&&Pr===null&&this._uiManager.addShouldRescale(this),super.setParent(Pr)}onScaleChanging(){const[Pr,Xr]=this.parentDimensions,dn=this.width*Pr,en=this.height*Xr;this.setDimensions(dn,en)}enableEditMode(){zt(this,xt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",zt(this,gt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",zt(this,gt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){zt(this,xt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),jr(this,xt,!0),this.div.classList.add("disabled"),Er(this,yr,ys).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Pr){this._focusEventsAllowed&&(super.focusin(Pr),this.enableEditMode())}canvasPointerdown(Pr){Pr.button!==0||!this.isInEditMode()||zt(this,xt)||(this.setInForeground(),Pr.preventDefault(),Pr.type!=="mouse"&&this.div.focus(),Er(this,qt,Ju).call(this,Pr.offsetX,Pr.offsetY))}canvasPointermove(Pr){Pr.preventDefault(),Er(this,Ht,Ml).call(this,Pr.offsetX,Pr.offsetY)}canvasPointerup(Pr){Pr.preventDefault(),Er(this,pr,Il).call(this,Pr)}canvasPointerleave(Pr){Er(this,pr,Il).call(this,Pr)}get isResizable(){return!this.isEmpty()&&zt(this,xt)}render(){if(this.div)return this.div;let Pr,Xr;this.width&&(Pr=this.x,Xr=this.y),super.render(),at.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(yn=>{var Hr;return(Hr=this.div)==null?void 0:Hr.setAttribute("aria-label",yn)});const[dn,en,fn,pn]=Er(this,Ft,Zu).call(this);if(this.setAt(dn,en,0,0),this.setDims(fn,pn),Er(this,vr,co).call(this),this.width){const[yn,Hr]=this.parentDimensions;this.setAspectRatio(this.width*yn,this.height*Hr),this.setAt(Pr*yn,Xr*Hr,this.width*yn,this.height*Hr),jr(this,_t,!0),Er(this,Jr,vs).call(this),this.setDims(this.width*yn,this.height*Hr),Er(this,ar,xa).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Er(this,hr,uo).call(this),this.div}setDimensions(Pr,Xr){const dn=Math.round(Pr),en=Math.round(Xr);if(zt(this,St)===dn&&zt(this,bt)===en)return;jr(this,St,dn),jr(this,bt,en),this.canvas.style.visibility="hidden";const[fn,pn]=this.parentDimensions;this.width=Pr/fn,this.height=Xr/pn,this.fixAndSetPosition(),zt(this,xt)&&Er(this,Zr,$l).call(this,Pr,Xr),Er(this,Jr,vs).call(this),Er(this,ar,xa).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Pr,Xr,dn){var Wt,rr,tr;if(Pr instanceof it.InkAnnotationElement)return null;const en=super.deserialize(Pr,Xr,dn);en.thickness=Pr.thickness,en.color=nt.Util.makeHexColor(...Pr.color),en.opacity=Pr.opacity;const[fn,pn]=en.pageDimensions,yn=en.width*fn,Hr=en.height*pn,xn=en.parentScale,un=Pr.thickness/2;jr(en,xt,!0),jr(en,St,Math.round(yn)),jr(en,bt,Math.round(Hr));const{paths:dr,rect:Yt,rotation:lr}=Pr;for(let{bezier:nr}of dr){nr=Er(Wt=zr,Ur,rp).call(Wt,nr,Yt,lr);const sr=[];en.paths.push(sr);let cr=xn*(nr[0]-un),_r=xn*(nr[1]-un);for(let gr=2,br=nr.length;gr<br;gr+=6){const Ar=xn*(nr[gr]-un),Lr=xn*(nr[gr+1]-un),Kr=xn*(nr[gr+2]-un),an=xn*(nr[gr+3]-un),Wr=xn*(nr[gr+4]-un),on=xn*(nr[gr+5]-un);sr.push([[cr,_r],[Ar,Lr],[Kr,an],[Wr,on]]),cr=Wr,_r=on}const Sr=Er(this,Dr,tp).call(this,sr);en.bezierPath2D.push(Sr)}const ur=Er(rr=en,nn,Bl).call(rr);return jr(en,ut,Math.max(at.AnnotationEditor.MIN_SIZE,ur[2]-ur[0])),jr(en,ct,Math.max(at.AnnotationEditor.MIN_SIZE,ur[3]-ur[1])),Er(tr=en,Zr,$l).call(tr,yn,Hr),en}serialize(){if(this.isEmpty())return null;const Pr=this.getRect(0,0),Xr=at.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:nt.AnnotationEditorType.INK,color:Xr,thickness:this.thickness,opacity:this.opacity,paths:Er(this,Yr,np).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Pr),pageIndex:this.pageIndex,rect:Pr,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};ct=new WeakMap,ut=new WeakMap,dt=new WeakMap,ft=new WeakMap,ht=new WeakMap,gt=new WeakMap,mt=new WeakMap,xt=new WeakMap,vt=new WeakMap,_t=new WeakMap,yt=new WeakMap,St=new WeakMap,bt=new WeakMap,Et=new WeakMap,Tt=new WeakSet,qu=function(Pr){const Xr=this.thickness;this.addCommands({cmd:()=>{this.thickness=Pr,Er(this,yr,ys).call(this)},undo:()=>{this.thickness=Xr,Er(this,yr,ys).call(this)},mustExec:!0,type:nt.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Ct=new WeakSet,Xu=function(Pr){const Xr=this.color;this.addCommands({cmd:()=>{this.color=Pr,Er(this,ar,xa).call(this)},undo:()=>{this.color=Xr,Er(this,ar,xa).call(this)},mustExec:!0,type:nt.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Pt=new WeakSet,Yu=function(Pr){Pr/=100;const Xr=this.opacity;this.addCommands({cmd:()=>{this.opacity=Pr,Er(this,ar,xa).call(this)},undo:()=>{this.opacity=Xr,Er(this,ar,xa).call(this)},mustExec:!0,type:nt.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ft=new WeakSet,Zu=function(){const{parentRotation:Pr,parentDimensions:[Xr,dn]}=this;switch(Pr){case 90:return[0,dn,dn,Xr];case 180:return[Xr,dn,Xr,dn];case 270:return[Xr,0,dn,Xr];default:return[0,0,Xr,dn]}},It=new WeakSet,Fl=function(){const{ctx:Pr,color:Xr,opacity:dn,thickness:en,parentScale:fn,scaleFactor:pn}=this;Pr.lineWidth=en*fn/pn,Pr.lineCap="round",Pr.lineJoin="round",Pr.miterLimit=10,Pr.strokeStyle=`${Xr}${(0,ot.opacityToHex)(dn)}`},qt=new WeakSet,Ju=function(Pr,Xr){this.canvas.addEventListener("contextmenu",st.noContextMenu),this.canvas.addEventListener("pointerleave",zt(this,ft)),this.canvas.addEventListener("pointermove",zt(this,dt)),this.canvas.addEventListener("pointerup",zt(this,ht)),this.canvas.removeEventListener("pointerdown",zt(this,gt)),this.isEditing=!0,zt(this,_t)||(jr(this,_t,!0),Er(this,Jr,vs).call(this),this.thickness||(this.thickness=zr._defaultThickness),this.color||(this.color=zr._defaultColor||at.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=zr._defaultOpacity)),this.currentPath.push([Pr,Xr]),jr(this,vt,!1),Er(this,It,Fl).call(this),jr(this,Et,()=>{Er(this,Nt,_f).call(this),zt(this,Et)&&window.requestAnimationFrame(zt(this,Et))}),window.requestAnimationFrame(zt(this,Et))},Ht=new WeakSet,Ml=function(Pr,Xr){const[dn,en]=this.currentPath.at(-1);if(this.currentPath.length>1&&Pr===dn&&Xr===en)return;const fn=this.currentPath;let pn=zt(this,mt);if(fn.push([Pr,Xr]),jr(this,vt,!0),fn.length<=2){pn.moveTo(...fn[0]),pn.lineTo(Pr,Xr);return}fn.length===3&&(jr(this,mt,pn=new Path2D),pn.moveTo(...fn[0])),Er(this,Vt,_h).call(this,pn,...fn.at(-3),...fn.at(-2),Pr,Xr)},ir=new WeakSet,Qu=function(){if(this.currentPath.length===0)return;const Pr=this.currentPath.at(-1);zt(this,mt).lineTo(...Pr)},Lt=new WeakSet,_d=function(Pr,Xr){jr(this,Et,null),Pr=Math.min(Math.max(Pr,0),this.canvas.width),Xr=Math.min(Math.max(Xr,0),this.canvas.height),Er(this,Ht,Ml).call(this,Pr,Xr),Er(this,ir,Qu).call(this);let dn;if(this.currentPath.length!==1)dn=Er(this,Zt,ep).call(this);else{const Hr=[Pr,Xr];dn=[[Hr,Hr.slice(),Hr.slice(),Hr]]}const en=zt(this,mt),fn=this.currentPath;this.currentPath=[],jr(this,mt,new Path2D);const pn=()=>{this.allRawPaths.push(fn),this.paths.push(dn),this.bezierPath2D.push(en),this.rebuild()},yn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Er(this,vr,co).call(this),Er(this,hr,uo).call(this)),Er(this,yr,ys).call(this))};this.addCommands({cmd:pn,undo:yn,mustExec:!0})},Nt=new WeakSet,_f=function(){if(!zt(this,vt))return;jr(this,vt,!1);const Pr=Math.ceil(this.thickness*this.parentScale),Xr=this.currentPath.slice(-3),dn=Xr.map(pn=>pn[0]),en=Xr.map(pn=>pn[1]);Math.min(...dn)-Pr,Math.max(...dn)+Pr,Math.min(...en)-Pr,Math.max(...en)+Pr;const{ctx:fn}=this;fn.save(),fn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const pn of this.bezierPath2D)fn.stroke(pn);fn.stroke(zt(this,mt)),fn.restore()},Vt=new WeakSet,_h=function(Pr,Xr,dn,en,fn,pn,yn){const Hr=(Xr+en)/2,xn=(dn+fn)/2,un=(en+pn)/2,dr=(fn+yn)/2;Pr.bezierCurveTo(Hr+2*(en-Hr)/3,xn+2*(fn-xn)/3,un+2*(en-un)/3,dr+2*(fn-dr)/3,un,dr)},Zt=new WeakSet,ep=function(){const Pr=this.currentPath;if(Pr.length<=2)return[[Pr[0],Pr[0],Pr.at(-1),Pr.at(-1)]];const Xr=[];let dn,[en,fn]=Pr[0];for(dn=1;dn<Pr.length-2;dn++){const[Yt,lr]=Pr[dn],[ur,Wt]=Pr[dn+1],rr=(Yt+ur)/2,tr=(lr+Wt)/2,nr=[en+2*(Yt-en)/3,fn+2*(lr-fn)/3],sr=[rr+2*(Yt-rr)/3,tr+2*(lr-tr)/3];Xr.push([[en,fn],nr,sr,[rr,tr]]),[en,fn]=[rr,tr]}const[pn,yn]=Pr[dn],[Hr,xn]=Pr[dn+1],un=[en+2*(pn-en)/3,fn+2*(yn-fn)/3],dr=[Hr+2*(pn-Hr)/3,xn+2*(yn-xn)/3];return Xr.push([[en,fn],un,dr,[Hr,xn]]),Xr},ar=new WeakSet,xa=function(){if(this.isEmpty()){Er(this,Cr,fo).call(this);return}Er(this,It,Fl).call(this);const{canvas:Pr,ctx:Xr}=this;Xr.setTransform(1,0,0,1,0,0),Xr.clearRect(0,0,Pr.width,Pr.height),Er(this,Cr,fo).call(this);for(const dn of this.bezierPath2D)Xr.stroke(dn)},pr=new WeakSet,Il=function(Pr){this.canvas.removeEventListener("pointerleave",zt(this,ft)),this.canvas.removeEventListener("pointermove",zt(this,dt)),this.canvas.removeEventListener("pointerup",zt(this,ht)),this.canvas.addEventListener("pointerdown",zt(this,gt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",st.noContextMenu)},10),Er(this,Lt,_d).call(this,Pr.offsetX,Pr.offsetY),this.addToAnnotationStorage(),this.setInBackground()},vr=new WeakSet,co=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",at.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Pr=>{var Xr;return(Xr=this.canvas)==null?void 0:Xr.setAttribute("aria-label",Pr)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},hr=new WeakSet,uo=function(){jr(this,yt,new ResizeObserver(Pr=>{const Xr=Pr[0].contentRect;Xr.width&&Xr.height&&this.setDimensions(Xr.width,Xr.height)})),zt(this,yt).observe(this.div)},Jr=new WeakSet,vs=function(){if(!zt(this,_t))return;const[Pr,Xr]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Pr),this.canvas.height=Math.ceil(this.height*Xr),Er(this,Cr,fo).call(this)},Zr=new WeakSet,$l=function(Pr,Xr){const dn=Er(this,Or,ho).call(this),en=(Pr-dn)/zt(this,ut),fn=(Xr-dn)/zt(this,ct);this.scaleFactor=Math.min(en,fn)},Cr=new WeakSet,fo=function(){const Pr=Er(this,Or,ho).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Pr,this.translationY*this.scaleFactor+Pr)},Dr=new WeakSet,tp=function(Pr){const Xr=new Path2D;for(let dn=0,en=Pr.length;dn<en;dn++){const[fn,pn,yn,Hr]=Pr[dn];dn===0&&Xr.moveTo(...fn),Xr.bezierCurveTo(pn[0],pn[1],yn[0],yn[1],Hr[0],Hr[1])}return Xr},qr=new WeakSet,Ll=function(Pr,Xr,dn){const[en,fn,pn,yn]=Xr;switch(dn){case 0:for(let Hr=0,xn=Pr.length;Hr<xn;Hr+=2)Pr[Hr]+=en,Pr[Hr+1]=yn-Pr[Hr+1];break;case 90:for(let Hr=0,xn=Pr.length;Hr<xn;Hr+=2){const un=Pr[Hr];Pr[Hr]=Pr[Hr+1]+en,Pr[Hr+1]=un+fn}break;case 180:for(let Hr=0,xn=Pr.length;Hr<xn;Hr+=2)Pr[Hr]=pn-Pr[Hr],Pr[Hr+1]+=fn;break;case 270:for(let Hr=0,xn=Pr.length;Hr<xn;Hr+=2){const un=Pr[Hr];Pr[Hr]=pn-Pr[Hr+1],Pr[Hr+1]=yn-un}break;default:throw new Error("Invalid rotation")}return Pr},Ur=new WeakSet,rp=function(Pr,Xr,dn){const[en,fn,pn,yn]=Xr;switch(dn){case 0:for(let Hr=0,xn=Pr.length;Hr<xn;Hr+=2)Pr[Hr]-=en,Pr[Hr+1]=yn-Pr[Hr+1];break;case 90:for(let Hr=0,xn=Pr.length;Hr<xn;Hr+=2){const un=Pr[Hr];Pr[Hr]=Pr[Hr+1]-fn,Pr[Hr+1]=un-en}break;case 180:for(let Hr=0,xn=Pr.length;Hr<xn;Hr+=2)Pr[Hr]=pn-Pr[Hr],Pr[Hr+1]-=fn;break;case 270:for(let Hr=0,xn=Pr.length;Hr<xn;Hr+=2){const un=Pr[Hr];Pr[Hr]=yn-Pr[Hr+1],Pr[Hr+1]=pn-un}break;default:throw new Error("Invalid rotation")}return Pr},Yr=new WeakSet,np=function(Pr,Xr,dn,en){var xn,un;const fn=[],pn=this.thickness/2,yn=Pr*Xr+pn,Hr=Pr*dn+pn;for(const dr of this.paths){const Yt=[],lr=[];for(let ur=0,Wt=dr.length;ur<Wt;ur++){const[rr,tr,nr,sr]=dr[ur],cr=Pr*rr[0]+yn,_r=Pr*rr[1]+Hr,Sr=Pr*tr[0]+yn,gr=Pr*tr[1]+Hr,br=Pr*nr[0]+yn,Ar=Pr*nr[1]+Hr,Lr=Pr*sr[0]+yn,Kr=Pr*sr[1]+Hr;ur===0&&(Yt.push(cr,_r),lr.push(cr,_r)),Yt.push(Sr,gr,br,Ar,Lr,Kr),lr.push(Sr,gr),ur===Wt-1&&lr.push(Lr,Kr)}fn.push({bezier:Er(xn=zr,qr,Ll).call(xn,Yt,en,this.rotation),points:Er(un=zr,qr,Ll).call(un,lr,en,this.rotation)})}return fn},nn=new WeakSet,Bl=function(){let Pr=1/0,Xr=-1/0,dn=1/0,en=-1/0;for(const fn of this.paths)for(const[pn,yn,Hr,xn]of fn){const un=nt.Util.bezierBoundingBox(...pn,...yn,...Hr,...xn);Pr=Math.min(Pr,un[0]),dn=Math.min(dn,un[1]),Xr=Math.max(Xr,un[2]),en=Math.max(en,un[3])}return[Pr,dn,Xr,en]},Or=new WeakSet,ho=function(){return zt(this,xt)?Math.ceil(this.thickness*this.parentScale):0},yr=new WeakSet,ys=function(Pr=!1){if(this.isEmpty())return;if(!zt(this,xt)){Er(this,ar,xa).call(this);return}const Xr=Er(this,nn,Bl).call(this),dn=Er(this,Or,ho).call(this);jr(this,ut,Math.max(at.AnnotationEditor.MIN_SIZE,Xr[2]-Xr[0])),jr(this,ct,Math.max(at.AnnotationEditor.MIN_SIZE,Xr[3]-Xr[1]));const en=Math.ceil(dn+zt(this,ut)*this.scaleFactor),fn=Math.ceil(dn+zt(this,ct)*this.scaleFactor),[pn,yn]=this.parentDimensions;this.width=en/pn,this.height=fn/yn,this.setAspectRatio(en,fn);const Hr=this.translationX,xn=this.translationY;this.translationX=-Xr[0],this.translationY=-Xr[1],Er(this,Jr,vs).call(this),Er(this,ar,xa).call(this),jr(this,St,en),jr(this,bt,fn),this.setDims(en,fn);const un=Pr?dn/this.scaleFactor/2:0;this.translate(Hr-this.translationX-un,xn-this.translationY-un)},mr(zr,Dr),mr(zr,qr),mr(zr,Ur),tn(zr,"_defaultColor",null),tn(zr,"_defaultOpacity",1),tn(zr,"_defaultThickness",1),tn(zr,"_type","ink");let lt=zr;tt.InkEditor=lt},(et,tt,rt)=>{var lt,ct,ut,dt,ft,ht,gt,mt,xt,vt,_t,Ms,St,Is,Et,po,At,Ul,kt,ap,Dt,ip,Ot,Vl,Bt,mo,Ut,sp;Object.defineProperty(tt,"__esModule",{value:!0}),tt.StampEditor=void 0;var nt=rt(1),at=rt(4),it=rt(6),st=rt(29);const Qt=class Qt extends at.AnnotationEditor{constructor(Lt){super({...Lt,name:"stampEditor"});mr(this,_t);mr(this,St);mr(this,Et);mr(this,At);mr(this,kt);mr(this,Dt);mr(this,Ot);mr(this,Bt);mr(this,Ut);mr(this,lt,null);mr(this,ct,null);mr(this,ut,null);mr(this,dt,null);mr(this,ft,null);mr(this,ht,null);mr(this,gt,null);mr(this,mt,null);mr(this,xt,!1);mr(this,vt,!1);jr(this,dt,Lt.bitmapUrl),jr(this,ft,Lt.bitmapFile)}static initialize(Lt){at.AnnotationEditor.initialize(Lt)}static get supportedTypes(){const Lt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,nt.shadow)(this,"supportedTypes",Lt.map(jt=>`image/${jt}`))}static get supportedTypesStr(){return(0,nt.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Lt){return this.supportedTypes.includes(Lt)}static paste(Lt,jt){jt.pasteEditor(nt.AnnotationEditorType.STAMP,{bitmapFile:Lt.getAsFile()})}remove(){var Lt,jt;zt(this,ct)&&(jr(this,lt,null),this._uiManager.imageManager.deleteId(zt(this,ct)),(Lt=zt(this,ht))==null||Lt.remove(),jr(this,ht,null),(jt=zt(this,gt))==null||jt.disconnect(),jr(this,gt,null)),super.remove()}rebuild(){if(!this.parent){zt(this,ct)&&Er(this,Et,po).call(this);return}super.rebuild(),this.div!==null&&(zt(this,ct)&&Er(this,Et,po).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(zt(this,ut)||zt(this,lt)||zt(this,dt)||zt(this,ft))}get isResizable(){return!0}render(){if(this.div)return this.div;let Lt,jt;if(this.width&&(Lt=this.x,jt=this.y),super.render(),this.div.hidden=!0,zt(this,lt)?Er(this,At,Ul).call(this):Er(this,Et,po).call(this),this.width){const[Nt,Mt]=this.parentDimensions;this.setAt(Lt*Nt,jt*Mt,this.width*Nt,this.height*Mt)}return this.div}static deserialize(Lt,jt,Nt){if(Lt instanceof st.StampAnnotationElement)return null;const Mt=super.deserialize(Lt,jt,Nt),{rect:Vt,bitmapUrl:Gt,bitmapId:Zt,isSvg:er,accessibilityData:ar}=Lt;Zt&&Nt.imageManager.isValidId(Zt)?jr(Mt,ct,Zt):jr(Mt,dt,Gt),jr(Mt,xt,er);const[Kt,pr]=Mt.pageDimensions;return Mt.width=(Vt[2]-Vt[0])/Kt,Mt.height=(Vt[3]-Vt[1])/pr,ar&&(Mt.altTextData=ar),Mt}serialize(Lt=!1,jt=null){if(this.isEmpty())return null;const Nt={annotationType:nt.AnnotationEditorType.STAMP,bitmapId:zt(this,ct),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:zt(this,xt),structTreeParentId:this._structTreeParentId};if(Lt)return Nt.bitmapUrl=Er(this,Bt,mo).call(this,!0),Nt.accessibilityData=this.altTextData,Nt;const{decorative:Mt,altText:Vt}=this.altTextData;if(!Mt&&Vt&&(Nt.accessibilityData={type:"Figure",alt:Vt}),jt===null)return Nt;jt.stamps||(jt.stamps=new Map);const Gt=zt(this,xt)?(Nt.rect[2]-Nt.rect[0])*(Nt.rect[3]-Nt.rect[1]):null;if(!jt.stamps.has(zt(this,ct)))jt.stamps.set(zt(this,ct),{area:Gt,serialized:Nt}),Nt.bitmap=Er(this,Bt,mo).call(this,!1);else if(zt(this,xt)){const Zt=jt.stamps.get(zt(this,ct));Gt>Zt.area&&(Zt.area=Gt,Zt.serialized.bitmap.close(),Zt.serialized.bitmap=Er(this,Bt,mo).call(this,!1))}return Nt}};lt=new WeakMap,ct=new WeakMap,ut=new WeakMap,dt=new WeakMap,ft=new WeakMap,ht=new WeakMap,gt=new WeakMap,mt=new WeakMap,xt=new WeakMap,vt=new WeakMap,_t=new WeakSet,Ms=function(Lt,jt=!1){if(!Lt){this.remove();return}jr(this,lt,Lt.bitmap),jt||(jr(this,ct,Lt.id),jr(this,xt,Lt.isSvg)),Er(this,At,Ul).call(this)},St=new WeakSet,Is=function(){jr(this,ut,null),this._uiManager.enableWaiting(!1),zt(this,ht)&&this.div.focus()},Et=new WeakSet,po=function(){if(zt(this,ct)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(zt(this,ct)).then(jt=>Er(this,_t,Ms).call(this,jt,!0)).finally(()=>Er(this,St,Is).call(this));return}if(zt(this,dt)){const jt=zt(this,dt);jr(this,dt,null),this._uiManager.enableWaiting(!0),jr(this,ut,this._uiManager.imageManager.getFromUrl(jt).then(Nt=>Er(this,_t,Ms).call(this,Nt)).finally(()=>Er(this,St,Is).call(this)));return}if(zt(this,ft)){const jt=zt(this,ft);jr(this,ft,null),this._uiManager.enableWaiting(!0),jr(this,ut,this._uiManager.imageManager.getFromFile(jt).then(Nt=>Er(this,_t,Ms).call(this,Nt)).finally(()=>Er(this,St,Is).call(this)));return}const Lt=document.createElement("input");Lt.type="file",Lt.accept=Qt.supportedTypesStr,jr(this,ut,new Promise(jt=>{Lt.addEventListener("change",async()=>{if(!Lt.files||Lt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Nt=await this._uiManager.imageManager.getFromFile(Lt.files[0]);Er(this,_t,Ms).call(this,Nt)}jt()}),Lt.addEventListener("cancel",()=>{this.remove(),jt()})}).finally(()=>Er(this,St,Is).call(this))),Lt.click()},At=new WeakSet,Ul=function(){const{div:Lt}=this;let{width:jt,height:Nt}=zt(this,lt);const[Mt,Vt]=this.pageDimensions,Gt=.75;if(this.width)jt=this.width*Mt,Nt=this.height*Vt;else if(jt>Gt*Mt||Nt>Gt*Vt){const Kt=Math.min(Gt*Mt/jt,Gt*Vt/Nt);jt*=Kt,Nt*=Kt}const[Zt,er]=this.parentDimensions;this.setDims(jt*Zt/Mt,Nt*er/Vt),this._uiManager.enableWaiting(!1);const ar=jr(this,ht,document.createElement("canvas"));Lt.append(ar),Lt.hidden=!1,Er(this,Ot,Vl).call(this,jt,Nt),Er(this,Ut,sp).call(this),zt(this,vt)||(this.parent.addUndoableEditor(this),jr(this,vt,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},kt=new WeakSet,ap=function(Lt,jt){var Gt;const[Nt,Mt]=this.parentDimensions;this.width=Lt/Nt,this.height=jt/Mt,this.setDims(Lt,jt),(Gt=this._initialOptions)!=null&&Gt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,zt(this,mt)!==null&&clearTimeout(zt(this,mt)),jr(this,mt,setTimeout(()=>{jr(this,mt,null),Er(this,Ot,Vl).call(this,Lt,jt)},200))},Dt=new WeakSet,ip=function(Lt,jt){const{width:Nt,height:Mt}=zt(this,lt);let Vt=Nt,Gt=Mt,Zt=zt(this,lt);for(;Vt>2*Lt||Gt>2*jt;){const er=Vt,ar=Gt;Vt>2*Lt&&(Vt=Vt>=16384?Math.floor(Vt/2)-1:Math.ceil(Vt/2)),Gt>2*jt&&(Gt=Gt>=16384?Math.floor(Gt/2)-1:Math.ceil(Gt/2));const Kt=new OffscreenCanvas(Vt,Gt);Kt.getContext("2d").drawImage(Zt,0,0,er,ar,0,0,Vt,Gt),Zt=Kt.transferToImageBitmap()}return Zt},Ot=new WeakSet,Vl=function(Lt,jt){Lt=Math.ceil(Lt),jt=Math.ceil(jt);const Nt=zt(this,ht);if(!Nt||Nt.width===Lt&&Nt.height===jt)return;Nt.width=Lt,Nt.height=jt;const Mt=zt(this,xt)?zt(this,lt):Er(this,Dt,ip).call(this,Lt,jt),Vt=Nt.getContext("2d");Vt.filter=this._uiManager.hcmFilter,Vt.drawImage(Mt,0,0,Mt.width,Mt.height,0,0,Lt,jt)},Bt=new WeakSet,mo=function(Lt){if(Lt){if(zt(this,xt)){const Mt=this._uiManager.imageManager.getSvgUrl(zt(this,ct));if(Mt)return Mt}const jt=document.createElement("canvas");return{width:jt.width,height:jt.height}=zt(this,lt),jt.getContext("2d").drawImage(zt(this,lt),0,0),jt.toDataURL()}if(zt(this,xt)){const[jt,Nt]=this.pageDimensions,Mt=Math.round(this.width*jt*it.PixelsPerInch.PDF_TO_CSS_UNITS),Vt=Math.round(this.height*Nt*it.PixelsPerInch.PDF_TO_CSS_UNITS),Gt=new OffscreenCanvas(Mt,Vt);return Gt.getContext("2d").drawImage(zt(this,lt),0,0,zt(this,lt).width,zt(this,lt).height,0,0,Mt,Vt),Gt.transferToImageBitmap()}return structuredClone(zt(this,lt))},Ut=new WeakSet,sp=function(){jr(this,gt,new ResizeObserver(Lt=>{const jt=Lt[0].contentRect;jt.width&&jt.height&&Er(this,kt,ap).call(this,jt.width,jt.height)})),zt(this,gt).observe(this.div)},tn(Qt,"_type","stamp");let ot=Qt;tt.StampEditor=ot}],__webpack_module_cache__={};function __w_pdfjs_require__(et){var tt=__webpack_module_cache__[et];if(tt!==void 0)return tt.exports;var rt=__webpack_module_cache__[et]={exports:{}};return __webpack_modules__[et](rt,rt.exports,__w_pdfjs_require__),rt.exports}var __webpack_exports__={};return(()=>{var et=__webpack_exports__;Object.defineProperty(et,"__esModule",{value:!0}),Object.defineProperty(et,"AbortException",{enumerable:!0,get:function(){return tt.AbortException}}),Object.defineProperty(et,"AnnotationEditorLayer",{enumerable:!0,get:function(){return it.AnnotationEditorLayer}}),Object.defineProperty(et,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return tt.AnnotationEditorParamsType}}),Object.defineProperty(et,"AnnotationEditorType",{enumerable:!0,get:function(){return tt.AnnotationEditorType}}),Object.defineProperty(et,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return st.AnnotationEditorUIManager}}),Object.defineProperty(et,"AnnotationLayer",{enumerable:!0,get:function(){return ot.AnnotationLayer}}),Object.defineProperty(et,"AnnotationMode",{enumerable:!0,get:function(){return tt.AnnotationMode}}),Object.defineProperty(et,"CMapCompressionType",{enumerable:!0,get:function(){return tt.CMapCompressionType}}),Object.defineProperty(et,"DOMSVGFactory",{enumerable:!0,get:function(){return nt.DOMSVGFactory}}),Object.defineProperty(et,"FeatureTest",{enumerable:!0,get:function(){return tt.FeatureTest}}),Object.defineProperty(et,"GlobalWorkerOptions",{enumerable:!0,get:function(){return lt.GlobalWorkerOptions}}),Object.defineProperty(et,"ImageKind",{enumerable:!0,get:function(){return tt.ImageKind}}),Object.defineProperty(et,"InvalidPDFException",{enumerable:!0,get:function(){return tt.InvalidPDFException}}),Object.defineProperty(et,"MissingPDFException",{enumerable:!0,get:function(){return tt.MissingPDFException}}),Object.defineProperty(et,"OPS",{enumerable:!0,get:function(){return tt.OPS}}),Object.defineProperty(et,"PDFDataRangeTransport",{enumerable:!0,get:function(){return rt.PDFDataRangeTransport}}),Object.defineProperty(et,"PDFDateString",{enumerable:!0,get:function(){return nt.PDFDateString}}),Object.defineProperty(et,"PDFWorker",{enumerable:!0,get:function(){return rt.PDFWorker}}),Object.defineProperty(et,"PasswordResponses",{enumerable:!0,get:function(){return tt.PasswordResponses}}),Object.defineProperty(et,"PermissionFlag",{enumerable:!0,get:function(){return tt.PermissionFlag}}),Object.defineProperty(et,"PixelsPerInch",{enumerable:!0,get:function(){return nt.PixelsPerInch}}),Object.defineProperty(et,"PromiseCapability",{enumerable:!0,get:function(){return tt.PromiseCapability}}),Object.defineProperty(et,"RenderingCancelledException",{enumerable:!0,get:function(){return nt.RenderingCancelledException}}),Object.defineProperty(et,"SVGGraphics",{enumerable:!0,get:function(){return rt.SVGGraphics}}),Object.defineProperty(et,"UnexpectedResponseException",{enumerable:!0,get:function(){return tt.UnexpectedResponseException}}),Object.defineProperty(et,"Util",{enumerable:!0,get:function(){return tt.Util}}),Object.defineProperty(et,"VerbosityLevel",{enumerable:!0,get:function(){return tt.VerbosityLevel}}),Object.defineProperty(et,"XfaLayer",{enumerable:!0,get:function(){return ct.XfaLayer}}),Object.defineProperty(et,"build",{enumerable:!0,get:function(){return rt.build}}),Object.defineProperty(et,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return tt.createValidAbsoluteUrl}}),Object.defineProperty(et,"getDocument",{enumerable:!0,get:function(){return rt.getDocument}}),Object.defineProperty(et,"getFilenameFromUrl",{enumerable:!0,get:function(){return nt.getFilenameFromUrl}}),Object.defineProperty(et,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return nt.getPdfFilenameFromUrl}}),Object.defineProperty(et,"getXfaPageViewport",{enumerable:!0,get:function(){return nt.getXfaPageViewport}}),Object.defineProperty(et,"isDataScheme",{enumerable:!0,get:function(){return nt.isDataScheme}}),Object.defineProperty(et,"isPdfFile",{enumerable:!0,get:function(){return nt.isPdfFile}}),Object.defineProperty(et,"loadScript",{enumerable:!0,get:function(){return nt.loadScript}}),Object.defineProperty(et,"noContextMenu",{enumerable:!0,get:function(){return nt.noContextMenu}}),Object.defineProperty(et,"normalizeUnicode",{enumerable:!0,get:function(){return tt.normalizeUnicode}}),Object.defineProperty(et,"renderTextLayer",{enumerable:!0,get:function(){return at.renderTextLayer}}),Object.defineProperty(et,"setLayerDimensions",{enumerable:!0,get:function(){return nt.setLayerDimensions}}),Object.defineProperty(et,"shadow",{enumerable:!0,get:function(){return tt.shadow}}),Object.defineProperty(et,"updateTextLayer",{enumerable:!0,get:function(){return at.updateTextLayer}}),Object.defineProperty(et,"version",{enumerable:!0,get:function(){return rt.version}});var tt=__w_pdfjs_require__(1),rt=__w_pdfjs_require__(2),nt=__w_pdfjs_require__(6),at=__w_pdfjs_require__(26),it=__w_pdfjs_require__(27),st=__w_pdfjs_require__(5),ot=__w_pdfjs_require__(29),lt=__w_pdfjs_require__(14),ct=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1);var pdfExports=pdf$1.exports;const pdf=getDefaultExportFromCjs(pdfExports),pdfjsModule=_mergeNamespaces({__proto__:null,default:pdf},[pdfExports]),pdfjs="default"in pdfjsModule?pdf:pdfjsModule,pdfjs$1=pdfjs;var __spreadArray=globalThis&&globalThis.__spreadArray||function(et,tt,rt){if(rt||arguments.length===2)for(var nt=0,at=tt.length,it;nt<at;nt++)(it||!(nt in tt))&&(it||(it=Array.prototype.slice.call(tt,0,nt)),it[nt]=tt[nt]);return et.concat(it||Array.prototype.slice.call(tt))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(et,tt){var rt={};return allEvents.forEach(function(nt){var at=et[nt];at&&(tt?rt[nt]=function(it){return at(it,tt(nt))}:rt[nt]=at)}),rt}function makeCancellablePromise(et){var tt=!1,rt=new Promise(function(nt,at){et.then(function(it){return!tt&&nt(it)}).catch(function(it){return!tt&&at(it)})});return{promise:rt,cancel:function(){tt=!0}}}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);var has=Object.prototype.hasOwnProperty;function find(et,tt,rt){for(rt of et.keys())if(dequal(rt,tt))return rt}function dequal(et,tt){var rt,nt,at;if(et===tt)return!0;if(et&&tt&&(rt=et.constructor)===tt.constructor){if(rt===Date)return et.getTime()===tt.getTime();if(rt===RegExp)return et.toString()===tt.toString();if(rt===Array){if((nt=et.length)===tt.length)for(;nt--&&dequal(et[nt],tt[nt]););return nt===-1}if(rt===Set){if(et.size!==tt.size)return!1;for(nt of et)if(at=nt,at&&typeof at=="object"&&(at=find(tt,at),!at)||!tt.has(at))return!1;return!0}if(rt===Map){if(et.size!==tt.size)return!1;for(nt of et)if(at=nt[0],at&&typeof at=="object"&&(at=find(tt,at),!at)||!dequal(nt[1],tt.get(at)))return!1;return!0}if(rt===ArrayBuffer)et=new Uint8Array(et),tt=new Uint8Array(tt);else if(rt===DataView){if((nt=et.byteLength)===tt.byteLength)for(;nt--&&et.getInt8(nt)===tt.getInt8(nt););return nt===-1}if(ArrayBuffer.isView(et)){if((nt=et.byteLength)===tt.byteLength)for(;nt--&&et[nt]===tt[nt];);return nt===-1}if(!rt||typeof et=="object"){nt=0;for(rt in et)if(has.call(et,rt)&&++nt&&!has.call(tt,rt)||!(rt in tt)||!dequal(et[rt],tt[rt]))return!1;return Object.keys(tt).length===nt}}return et!==et&&tt!==tt}const DocumentContext=reactExports.createContext(null);function Message({children:et,type:tt}){return React$1.createElement("div",{className:`react-pdf__message react-pdf__message--${tt}`},et)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(tt){this.pdfDocument=tt}setViewer(tt){this.pdfViewer=tt}setExternalLinkRel(tt){this.externalLinkRel=tt}setExternalLinkTarget(tt){this.externalLinkTarget=tt}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(tt){invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=tt}get rotation(){return 0}set rotation(tt){}goToDestination(tt){return new Promise(rt=>{invariant(this.pdfDocument,"PDF document not loaded."),invariant(tt,"Destination is not specified."),typeof tt=="string"?this.pdfDocument.getDestination(tt).then(rt):Array.isArray(tt)?rt(tt):tt.then(rt)}).then(rt=>{invariant(Array.isArray(rt),`"${rt}" is not a valid destination array.`);const nt=rt[0];new Promise(at=>{invariant(this.pdfDocument,"PDF document not loaded."),nt instanceof Object?this.pdfDocument.getPageIndex(nt).then(it=>{at(it)}).catch(()=>{invariant(!1,`"${nt}" is not a valid page reference.`)}):typeof nt=="number"?at(nt):invariant(!1,`"${nt}" is not a valid destination reference.`)}).then(at=>{const it=at+1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(it>=1&&it<=this.pagesCount,`"${it}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:rt,pageIndex:at,pageNumber:it})})})}navigateTo(tt){this.goToDestination(tt)}goToPage(tt){const rt=tt-1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(tt>=1&&tt<=this.pagesCount,`"${tt}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:rt,pageNumber:tt})}addLinkAttributes(tt,rt,nt){tt.href=rt,tt.rel=this.externalLinkRel||DEFAULT_LINK_REL,tt.target=nt?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PasswordResponses$1=PasswordResponses,isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(et){return typeof et<"u"}function isProvided(et){return isDefined(et)&&et!==null}function isString(et){return typeof et=="string"}function isArrayBuffer(et){return et instanceof ArrayBuffer}function isBlob(et){return invariant(isBrowser,"isBlob can only be used in a browser environment"),et instanceof Blob}function isDataURI(et){return isString(et)&&/^data:/.test(et)}function dataURItoByteString(et){invariant(isDataURI(et),"Invalid data URI.");const[tt="",rt=""]=et.split(",");return tt.split(";").indexOf("base64")!==-1?atob(rt):unescape(rt)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(et){et&&et.cancel&&et.cancel()}function makePageCallback(et,tt){return Object.defineProperty(et,"width",{get(){return this.view[2]*tt},configurable:!0}),Object.defineProperty(et,"height",{get(){return this.view[3]*tt},configurable:!0}),Object.defineProperty(et,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(et,"originalHeight",{get(){return this.view[3]},configurable:!0}),et}function isCancelException(et){return et.name==="RenderingCancelledException"}function loadFromFile(et){return new Promise((tt,rt)=>{const nt=new FileReader;nt.onload=()=>{if(!nt.result)return rt(new Error("Error while reading a file."));tt(nt.result)},nt.onerror=at=>{if(!at.target)return rt(new Error("Error while reading a file."));const{error:it}=at.target;if(!it)return rt(new Error("Error while reading a file."));switch(it.code){case it.NOT_FOUND_ERR:return rt(new Error("Error while reading a file: File not found."));case it.SECURITY_ERR:return rt(new Error("Error while reading a file: Security error."));case it.ABORT_ERR:return rt(new Error("Error while reading a file: Aborted."));default:return rt(new Error("Error while reading a file."))}},nt.readAsArrayBuffer(et)})}function reducer(et,tt){switch(tt.type){case"RESOLVE":return{value:tt.value,error:void 0};case"REJECT":return{value:!1,error:tt.error};case"RESET":return{value:void 0,error:void 0};default:return et}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs$1,eventProps=(()=>{const et={};return allEvents.forEach(tt=>{et[tt]=PropTypes.func}),et})(),isTypedArray=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function et(tt,rt,nt){const{[rt]:at,pageNumber:it,pdf:st}=tt;if(!isDefined(st))return null;if(isDefined(at)){if(typeof at!="number")return new Error(`\`${rt}\` of type \`${typeof at}\` supplied to \`${nt}\`, expected \`number\`.`);if(at<0)return new Error(`Expected \`${rt}\` to be greater or equal to 0.`);const{numPages:ot}=st;if(at+1>ot)return new Error(`Expected \`${rt}\` to be less or equal to ${ot-1}.`)}else if(!isDefined(it))return new Error(`\`${rt}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${nt}\`.`);return null},isPageNumber=function et(tt,rt,nt){const{[rt]:at,pageIndex:it,pdf:st}=tt;if(!isDefined(st))return null;if(isDefined(at)){if(typeof at!="number")return new Error(`\`${rt}\` of type \`${typeof at}\` supplied to \`${nt}\`, expected \`number\`.`);if(at<1)return new Error(`Expected \`${rt}\` to be greater or equal to 1.`);const{numPages:ot}=st;if(at>ot)return new Error(`Expected \`${rt}\` to be less or equal to ${ot}.`)}else if(!isDefined(it))return new Error(`\`${rt}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${nt}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter$1=globalThis&&globalThis.__awaiter||function(et,tt,rt,nt){function at(it){return it instanceof rt?it:new rt(function(st){st(it)})}return new(rt||(rt=Promise))(function(it,st){function ot(ut){try{ct(nt.next(ut))}catch(dt){st(dt)}}function lt(ut){try{ct(nt.throw(ut))}catch(dt){st(dt)}}function ct(ut){ut.done?it(ut.value):at(ut.value).then(ot,lt)}ct((nt=nt.apply(et,tt||[])).next())})},__rest$2=globalThis&&globalThis.__rest||function(et,tt){var rt={};for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&tt.indexOf(nt)<0&&(rt[nt]=et[nt]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,nt=Object.getOwnPropertySymbols(et);at<nt.length;at++)tt.indexOf(nt[at])<0&&Object.prototype.propertyIsEnumerable.call(et,nt[at])&&(rt[nt[at]]=et[nt[at]]);return rt};const{PDFDataRangeTransport}=pdfjs$1,defaultOnPassword=(et,tt)=>{switch(tt){case PasswordResponses$1.NEED_PASSWORD:{const rt=prompt("Enter the password to open this PDF file.");et(rt);break}case PasswordResponses$1.INCORRECT_PASSWORD:{const rt=prompt("Invalid password. Please try again.");et(rt);break}}};function isParameterObject(et){return typeof et=="object"&&et!==null&&("data"in et||"range"in et||"url"in et)}const Document=reactExports.forwardRef(function et(tt,rt){var{children:nt,className:at,error:it="Failed to load PDF file.",externalLinkRel:st,externalLinkTarget:ot,file:lt,inputRef:ct,imageResourcesPath:ut,loading:dt="Loading PDF",noData:ft="No PDF file specified.",onItemClick:ht,onLoadError:gt,onLoadProgress:mt,onLoadSuccess:xt,onPassword:vt=defaultOnPassword,onSourceError:_t,onSourceSuccess:yt,options:St,renderMode:bt,rotate:Et}=tt,Tt=__rest$2(tt,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[At,Ct]=useResolver(),{value:kt,error:Pt}=At,[Dt,Ft]=useResolver(),{value:Ot,error:It}=Dt,Bt=reactExports.useRef(new LinkService),qt=reactExports.useRef([]),Ut=reactExports.useRef(),Ht=reactExports.useRef();reactExports.useEffect(()=>{lt&&lt!==Ut.current&&isParameterObject(lt)&&(warning$1(!dequal(lt,Ut.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Ut.current=lt)},[lt]),reactExports.useEffect(()=>{St&&St!==Ht.current&&(warning$1(!dequal(St,Ht.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Ht.current=St)},[St]);const Qt=reactExports.useRef({scrollPageIntoView:wr=>{const{dest:hr,pageNumber:Ir,pageIndex:Jr=Ir-1}=wr;if(ht){ht({dest:hr,pageIndex:Jr,pageNumber:Ir});return}const Br=qt.current[Jr];if(Br){Br.scrollIntoView();return}warning$1(!1,`An internal link leading to page ${Ir} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(rt,()=>({linkService:Bt,pages:qt,viewer:Qt}),[]);function ir(){yt&&yt()}function Xt(){Pt&&(warning$1(!1,Pt.toString()),_t&&_t(Pt))}function Lt(){Ct({type:"RESET"})}reactExports.useEffect(Lt,[lt,Ct]);const jt=reactExports.useCallback(()=>__awaiter$1(this,void 0,void 0,function*(){if(!lt)return null;if(typeof lt=="string")return isDataURI(lt)?{data:dataURItoByteString(lt)}:(displayCORSWarning(),{url:lt});if(lt instanceof PDFDataRangeTransport)return{range:lt};if(isArrayBuffer(lt))return{data:lt};if(isBrowser&&isBlob(lt))return{data:yield loadFromFile(lt)};if(invariant(typeof lt=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),invariant(isParameterObject(lt),"Invalid parameter object: need either .data, .range or .url"),"url"in lt&&typeof lt.url=="string"){if(isDataURI(lt.url)){const{url:wr}=lt,hr=__rest$2(lt,["url"]),Ir=dataURItoByteString(wr);return Object.assign({data:Ir},hr)}displayCORSWarning()}return lt}),[lt]);reactExports.useEffect(()=>{const wr=makeCancellablePromise(jt());return wr.promise.then(hr=>{Ct({type:"RESOLVE",value:hr})}).catch(hr=>{Ct({type:"REJECT",error:hr})}),()=>{cancelRunningTask(wr)}},[jt,Ct]),reactExports.useEffect(()=>{if(!(typeof kt>"u")){if(kt===!1){Xt();return}ir()}},[kt]);function Nt(){Ot&&(xt&&xt(Ot),qt.current=new Array(Ot.numPages),Bt.current.setDocument(Ot))}function Mt(){It&&(warning$1(!1,It.toString()),gt&&gt(It))}function Vt(){Ft({type:"RESET"})}reactExports.useEffect(Vt,[Ft,kt]);function Gt(){if(!kt)return;const wr=Object.assign(Object.assign({},St),{isEvalSupported:!1}),hr=Object.assign(Object.assign({},kt),wr),Ir=pdfjs$1.getDocument(hr);mt&&(Ir.onProgress=mt),vt&&(Ir.onPassword=vt);const Jr=Ir;return Jr.promise.then(Br=>{Ft({type:"RESOLVE",value:Br})}).catch(Br=>{Jr.destroyed||Ft({type:"REJECT",error:Br})}),()=>{Jr.destroy()}}reactExports.useEffect(Gt,[St,Ft,kt]),reactExports.useEffect(()=>{if(!(typeof Ot>"u")){if(Ot===!1){Mt();return}Nt()}},[Ot]);function Zt(){Bt.current.setViewer(Qt.current),Bt.current.setExternalLinkRel(st),Bt.current.setExternalLinkTarget(ot)}reactExports.useEffect(Zt,[st,ot]);function er(wr,hr){qt.current[wr]=hr}function ar(wr){delete qt.current[wr]}const Kt=reactExports.useMemo(()=>({imageResourcesPath:ut,linkService:Bt.current,onItemClick:ht,pdf:Ot,registerPage:er,renderMode:bt,rotate:Et,unregisterPage:ar}),[ut,ht,Ot,bt,Et]),pr=reactExports.useMemo(()=>makeEventProps(Tt,()=>Ot),[Tt,Ot]);function fr(){return React$1.createElement(DocumentContext.Provider,{value:Kt},nt)}function vr(){return lt?Ot==null?React$1.createElement(Message,{type:"loading"},typeof dt=="function"?dt():dt):Ot===!1?React$1.createElement(Message,{type:"error"},typeof it=="function"?it():it):fr():React$1.createElement(Message,{type:"no-data"},typeof ft=="function"?ft():ft)}return React$1.createElement("div",Object.assign({className:clsx("react-pdf__Document",at),ref:ct,style:{"--scale-factor":"1"}},pr),vr())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});const Document$1=Document;function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];var rt=et.filter(Boolean);if(rt.length<=1){var nt=rt[0];return nt||null}return function(it){rt.forEach(function(st){typeof st=="function"?st(it):st&&(st.current=it)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(et){return et in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(et){return"children"in et}function isStructTreeNodeWithOnlyContentChild(et){return isStructTreeNode(et)?et.children.length===1&&0 in et.children&&"id"in et.children[0]:!1}function getRoleAttributes(et){const tt={};if(isStructTreeNode(et)){const{role:rt}=et,nt=rt.match(HEADING_PATTERN);if(nt)tt.role="heading",tt["aria-level"]=Number(nt[1]);else if(isPdfRole(rt)){const at=PDF_ROLE_TO_HTML_ROLE[rt];at&&(tt.role=at)}}return tt}function getBaseAttributes(et){const tt={};if(isStructTreeNode(et)){if(et.alt!==void 0&&(tt["aria-label"]=et.alt),et.lang!==void 0&&(tt.lang=et.lang),isStructTreeNodeWithOnlyContentChild(et)){const[rt]=et.children;if(rt){const nt=getBaseAttributes(rt);return Object.assign(Object.assign({},tt),nt)}}}else"id"in et&&(tt["aria-owns"]=et.id);return tt}function getAttributes(et){return et?Object.assign(Object.assign({},getRoleAttributes(et)),getBaseAttributes(et)):null}function StructTreeItem({className:et,node:tt}){const rt=reactExports.useMemo(()=>getAttributes(tt),[tt]),nt=reactExports.useMemo(()=>!isStructTreeNode(tt)||isStructTreeNodeWithOnlyContentChild(tt)?null:tt.children.map((at,it)=>React$1.createElement(StructTreeItem,{key:it,node:at})),[tt]);return React$1.createElement("span",Object.assign({className:et},rt),nt)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const et=usePageContext();invariant(et,"Unable to find Page context.");const{onGetStructTreeError:tt,onGetStructTreeSuccess:rt}=et,[nt,at]=useResolver(),{value:it,error:st}=nt,{customTextRenderer:ot,page:lt}=et;function ct(){it&&rt&&rt(it)}function ut(){st&&(warning$1(!1,st.toString()),tt&&tt(st))}function dt(){at({type:"RESET"})}reactExports.useEffect(dt,[at,lt]);function ft(){if(ot||!lt)return;const ht=makeCancellablePromise(lt.getStructTree()),gt=ht;return ht.promise.then(mt=>{at({type:"RESOLVE",value:mt})}).catch(mt=>{at({type:"REJECT",error:mt})}),()=>cancelRunningTask(gt)}return reactExports.useEffect(ft,[ot,lt,at]),reactExports.useEffect(()=>{if(it!==void 0){if(it===!1){ut();return}ct()}},[it]),it?React$1.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:it}):null}const ANNOTATION_MODE=pdfjs$1.AnnotationMode;function PageCanvas(et){const tt=usePageContext();invariant(tt,"Unable to find Page context.");const rt=Object.assign(Object.assign({},tt),et),{_className:nt,canvasBackground:at,devicePixelRatio:it=getDevicePixelRatio(),onRenderError:st,onRenderSuccess:ot,page:lt,renderForms:ct,renderTextLayer:ut,rotate:dt,scale:ft}=rt,{canvasRef:ht}=et;invariant(lt,"Attempted to render page canvas, but no page was specified.");const gt=reactExports.useRef(null);function mt(){lt&&ot&&ot(makePageCallback(lt,ft))}function xt(bt){isCancelException(bt)||(warning$1(!1,bt.toString()),st&&st(bt))}const vt=reactExports.useMemo(()=>lt.getViewport({scale:ft*it,rotation:dt}),[it,lt,dt,ft]),_t=reactExports.useMemo(()=>lt.getViewport({scale:ft,rotation:dt}),[lt,dt,ft]);function yt(){if(!lt)return;lt.cleanup();const{current:bt}=gt;if(!bt)return;bt.width=vt.width,bt.height=vt.height,bt.style.width=`${Math.floor(_t.width)}px`,bt.style.height=`${Math.floor(_t.height)}px`,bt.style.visibility="hidden";const Et={annotationMode:ct?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:bt.getContext("2d",{alpha:!1}),viewport:vt};at&&(Et.background=at);const Tt=lt.render(Et),At=Tt;return Tt.promise.then(()=>{bt.style.visibility="",mt()}).catch(xt),()=>cancelRunningTask(At)}reactExports.useEffect(yt,[at,gt,it,lt,ct,vt,_t]);const St=reactExports.useCallback(()=>{const{current:bt}=gt;bt&&(bt.width=0,bt.height=0)},[gt]);return reactExports.useEffect(()=>St,[St]),React$1.createElement("canvas",{className:`${nt}__canvas`,dir:"ltr",ref:mergeRefs(ht,gt),style:{display:"block",userSelect:"none"}},ut?React$1.createElement(StructTree,null):null)}function PageSVG(){const et=usePageContext();invariant(et,"Unable to find Page context.");const{_className:tt,onRenderSuccess:rt,onRenderError:nt,page:at,rotate:it,scale:st}=et;invariant(at,"Attempted to render page SVG, but no page was specified.");const[ot,lt]=useResolver(),{value:ct,error:ut}=ot;function dt(){at&&rt&&rt(makePageCallback(at,st))}function ft(){ut&&(isCancelException(ut)||(warning$1(!1,ut.toString()),nt&&nt(ut)))}const ht=reactExports.useMemo(()=>at.getViewport({scale:st,rotation:it}),[at,it,st]);function gt(){lt({type:"RESET"})}reactExports.useEffect(gt,[at,lt,ht]);function mt(){if(!at)return;const yt=makeCancellablePromise(at.getOperatorList());return yt.promise.then(St=>{new pdfjs$1.SVGGraphics(at.commonObjs,at.objs).getSVG(St,ht).then(Et=>{if(!(Et instanceof SVGElement))throw new Error("getSVG returned unexpected result.");lt({type:"RESOLVE",value:Et})}).catch(Et=>{lt({type:"REJECT",error:Et})})}).catch(St=>{lt({type:"REJECT",error:St})}),()=>cancelRunningTask(yt)}reactExports.useEffect(mt,[at,lt,ht]),reactExports.useEffect(()=>{if(ct!==void 0){if(ct===!1){ft();return}dt()}},[ct]);function xt(yt){if(!yt||!ct)return;yt.firstElementChild||yt.appendChild(ct);const{width:St,height:bt}=ht;ct.setAttribute("width",`${St}`),ct.setAttribute("height",`${bt}`)}const{width:vt,height:_t}=ht;return React$1.createElement("div",{className:`${tt}__svg`,ref:yt=>xt(yt),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:vt,height:_t,userSelect:"none"}})}function isTextItem(et){return"str"in et}function TextLayer$1(){const et=usePageContext();invariant(et,"Unable to find Page context.");const{customTextRenderer:tt,onGetTextError:rt,onGetTextSuccess:nt,onRenderTextLayerError:at,onRenderTextLayerSuccess:it,page:st,pageIndex:ot,pageNumber:lt,rotate:ct,scale:ut}=et;invariant(st,"Attempted to load page text content, but no page was specified.");const[dt,ft]=useResolver(),{value:ht,error:gt}=dt,mt=reactExports.useRef(null),xt=reactExports.useRef();warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function vt(){ht&&nt&&nt(ht)}function _t(){gt&&(warning$1(!1,gt.toString()),rt&&rt(gt))}function yt(){ft({type:"RESET"})}reactExports.useEffect(yt,[st,ft]);function St(){if(!st)return;const Pt=makeCancellablePromise(st.getTextContent()),Dt=Pt;return Pt.promise.then(Ft=>{ft({type:"RESOLVE",value:Ft})}).catch(Ft=>{ft({type:"REJECT",error:Ft})}),()=>cancelRunningTask(Dt)}reactExports.useEffect(St,[st,ft]),reactExports.useEffect(()=>{if(ht!==void 0){if(ht===!1){_t();return}vt()}},[ht]);const bt=reactExports.useCallback(()=>{it&&it()},[it]),Et=reactExports.useCallback(Pt=>{warning$1(!1,Pt.toString()),at&&at(Pt)},[at]);function Tt(){const Pt=xt.current;Pt&&Pt.classList.add("active")}function At(){const Pt=xt.current;Pt&&Pt.classList.remove("active")}const Ct=reactExports.useMemo(()=>st.getViewport({scale:ut,rotation:ct}),[st,ct,ut]);function kt(){if(!st||!ht)return;const{current:Pt}=mt;if(!Pt)return;Pt.innerHTML="";const Dt=st.streamTextContent({includeMarkedContent:!0}),Ft={container:Pt,textContentSource:Dt,viewport:Ct},Ot=pdfjs$1.renderTextLayer(Ft),It=Ot;return Ot.promise.then(()=>{const Bt=document.createElement("div");Bt.className="endOfContent",Pt.append(Bt),xt.current=Bt;const qt=Pt.querySelectorAll('[role="presentation"]');if(tt){let Ut=0;ht.items.forEach((Ht,Qt)=>{if(!isTextItem(Ht))return;const ir=qt[Ut];if(!ir)return;const Xt=tt(Object.assign({pageIndex:ot,pageNumber:lt,itemIndex:Qt},Ht));ir.innerHTML=Xt,Ut+=Ht.str&&Ht.hasEOL?2:1})}bt()}).catch(Et),()=>cancelRunningTask(It)}return reactExports.useLayoutEffect(kt,[tt,Et,bt,st,ot,lt,ht,Ct]),React$1.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:At,onMouseDown:Tt,ref:mt})}function AnnotationLayer$1(){const et=useDocumentContext(),tt=usePageContext();invariant(tt,"Unable to find Page context.");const rt=Object.assign(Object.assign({},et),tt),{imageResourcesPath:nt,linkService:at,onGetAnnotationsError:it,onGetAnnotationsSuccess:st,onRenderAnnotationLayerError:ot,onRenderAnnotationLayerSuccess:lt,page:ct,pdf:ut,renderForms:dt,rotate:ft,scale:ht=1}=rt;invariant(ut,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),invariant(ct,"Attempted to load page annotations, but no page was specified."),invariant(at,"Attempted to load page annotations, but no linkService was specified.");const[gt,mt]=useResolver(),{value:xt,error:vt}=gt,_t=reactExports.useRef(null);warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function yt(){xt&&st&&st(xt)}function St(){vt&&(warning$1(!1,vt.toString()),it&&it(vt))}function bt(){mt({type:"RESET"})}reactExports.useEffect(bt,[mt,ct]);function Et(){if(!ct)return;const Pt=makeCancellablePromise(ct.getAnnotations()),Dt=Pt;return Pt.promise.then(Ft=>{mt({type:"RESOLVE",value:Ft})}).catch(Ft=>{mt({type:"REJECT",error:Ft})}),()=>{cancelRunningTask(Dt)}}reactExports.useEffect(Et,[mt,ct,dt]),reactExports.useEffect(()=>{if(xt!==void 0){if(xt===!1){St();return}yt()}},[xt]);function Tt(){lt&&lt()}function At(Pt){warning$1(!1,`${Pt}`),ot&&ot(Pt)}const Ct=reactExports.useMemo(()=>ct.getViewport({scale:ht,rotation:ft}),[ct,ft,ht]);function kt(){if(!ut||!ct||!at||!xt)return;const{current:Pt}=_t;if(!Pt)return;const Dt=Ct.clone({dontFlip:!0}),Ft={accessibilityManager:null,annotationCanvasMap:null,div:Pt,l10n:null,page:ct,viewport:Dt},Ot={annotations:xt,annotationStorage:ut.annotationStorage,div:Pt,downloadManager:null,imageResourcesPath:nt,linkService:at,page:ct,renderForms:dt,viewport:Dt};Pt.innerHTML="";try{new pdfjs$1.AnnotationLayer(Ft).render(Ot),Tt()}catch(It){At(It)}return()=>{}}return reactExports.useEffect(kt,[xt,nt,at,ct,dt,Ct]),React$1.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:_t})}var __rest$1=globalThis&&globalThis.__rest||function(et,tt){var rt={};for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&tt.indexOf(nt)<0&&(rt[nt]=et[nt]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,nt=Object.getOwnPropertySymbols(et);at<nt.length;at++)tt.indexOf(nt[at])<0&&Object.prototype.propertyIsEnumerable.call(et,nt[at])&&(rt[nt[at]]=et[nt[at]]);return rt};const defaultScale=1,Page=function et(tt){const rt=useDocumentContext(),nt=Object.assign(Object.assign({},rt),tt),{_className:at="react-pdf__Page",_enableRegisterUnregisterPage:it=!0,canvasBackground:st,canvasRef:ot,children:lt,className:ct,customRenderer:ut,customTextRenderer:dt,devicePixelRatio:ft,error:ht="Failed to load the page.",height:gt,inputRef:mt,loading:xt="Loading page",noData:vt="No page specified.",onGetAnnotationsError:_t,onGetAnnotationsSuccess:yt,onGetStructTreeError:St,onGetStructTreeSuccess:bt,onGetTextError:Et,onGetTextSuccess:Tt,onLoadError:At,onLoadSuccess:Ct,onRenderAnnotationLayerError:kt,onRenderAnnotationLayerSuccess:Pt,onRenderError:Dt,onRenderSuccess:Ft,onRenderTextLayerError:Ot,onRenderTextLayerSuccess:It,pageIndex:Bt,pageNumber:qt,pdf:Ut,registerPage:Ht,renderAnnotationLayer:Qt=!0,renderForms:ir=!1,renderMode:Xt="canvas",renderTextLayer:Lt=!0,rotate:jt,scale:Nt=defaultScale,unregisterPage:Mt,width:Vt}=nt,Gt=__rest$1(nt,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Zt,er]=useResolver(),{value:ar,error:Kt}=Zt,pr=reactExports.useRef(null);invariant(Ut,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const fr=isProvided(qt)?qt-1:Bt??null,vr=qt??(isProvided(Bt)?Bt+1:null),wr=jt??(ar?ar.rotate:null),hr=reactExports.useMemo(()=>{if(!ar)return null;let rn=1;const nn=Nt??defaultScale;if(Vt||gt){const hn=ar.getViewport({scale:1,rotation:wr});Vt?rn=Vt/hn.width:gt&&(rn=gt/hn.height)}return nn*rn},[gt,ar,wr,Nt,Vt]);function Ir(){return()=>{isProvided(fr)&&it&&Mt&&Mt(fr)}}reactExports.useEffect(Ir,[it,Ut,fr,Mt]);function Jr(){if(Ct){if(!ar||!hr)return;Ct(makePageCallback(ar,hr))}if(it&&Ht){if(!isProvided(fr)||!pr.current)return;Ht(fr,pr.current)}}function Br(){Kt&&(warning$1(!1,Kt.toString()),At&&At(Kt))}function Zr(){er({type:"RESET"})}reactExports.useEffect(Zr,[er,Ut,fr]);function Fr(){if(!Ut||!vr)return;const rn=makeCancellablePromise(Ut.getPage(vr)),nn=rn;return rn.promise.then(hn=>{er({type:"RESOLVE",value:hn})}).catch(hn=>{er({type:"REJECT",error:hn})}),()=>cancelRunningTask(nn)}reactExports.useEffect(Fr,[er,Ut,fr,vr,Ht]),reactExports.useEffect(()=>{if(ar!==void 0){if(ar===!1){Br();return}Jr()}},[ar,hr]);const Cr=reactExports.useMemo(()=>ar&&isProvided(fr)&&vr&&isProvided(wr)&&isProvided(hr)?{_className:at,canvasBackground:st,customTextRenderer:dt,devicePixelRatio:ft,onGetAnnotationsError:_t,onGetAnnotationsSuccess:yt,onGetStructTreeError:St,onGetStructTreeSuccess:bt,onGetTextError:Et,onGetTextSuccess:Tt,onRenderAnnotationLayerError:kt,onRenderAnnotationLayerSuccess:Pt,onRenderError:Dt,onRenderSuccess:Ft,onRenderTextLayerError:Ot,onRenderTextLayerSuccess:It,page:ar,pageIndex:fr,pageNumber:vr,renderForms:ir,renderTextLayer:Lt,rotate:wr,scale:hr}:null,[at,st,dt,ft,_t,yt,St,bt,Et,Tt,kt,Pt,Dt,Ft,Ot,It,ar,fr,vr,ir,Lt,wr,hr]),Tr=reactExports.useMemo(()=>makeEventProps(Gt,()=>ar&&(hr?makePageCallback(ar,hr):void 0)),[Gt,ar,hr]),Dr=`${fr}@${hr}/${wr}`,Gr=`${fr}/${wr}`;function qr(){switch(Xt){case"custom":return invariant(ut,'renderMode was set to "custom", but no customRenderer was passed.'),React$1.createElement(ut,{key:`${Dr}_custom`});case"none":return null;case"svg":return React$1.createElement(PageSVG,{key:`${Gr}_svg`});case"canvas":default:return React$1.createElement(PageCanvas,{key:`${Dr}_canvas`,canvasRef:ot})}}function sn(){return Lt?React$1.createElement(TextLayer$1,{key:`${Dr}_text`}):null}function Ur(){return Qt?React$1.createElement(AnnotationLayer$1,{key:`${Dr}_annotations`}):null}function $r(){return React$1.createElement(PageContext.Provider,{value:Cr},qr(),sn(),Ur(),lt)}function Yr(){return vr?Ut===null||ar===void 0||ar===null?React$1.createElement(Message,{type:"loading"},typeof xt=="function"?xt():xt):Ut===!1||ar===!1?React$1.createElement(Message,{type:"error"},typeof ht=="function"?ht():ht):$r():React$1.createElement(Message,{type:"no-data"},typeof vt=="function"?vt():vt)}return React$1.createElement("div",Object.assign({className:clsx(at,ct),"data-page-number":vr,ref:mergeRefs(mt,pr),style:{"--scale-factor":`${hr}`,backgroundColor:st||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Tr),Yr())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});const Page$1=Page;displayWorkerWarning();pdfjs$1.GlobalWorkerOptions.workerSrc="pdf.worker.js";const AnnotationLayer="",TextLayer="",workerSrc="/assets/pdf.worker.min-feabdf30.js";pdfjs$1.GlobalWorkerOptions.workerSrc=new URL("/assets/pdf.worker.min-feabdf30.js",self.location).toString();const AnnouncementPdfDialog=({open:et,onOpenChange:tt,pdfUrl:rt,title:nt})=>{const[at,it]=reactExports.useState(0),[st,ot]=reactExports.useState(1);return reactExports.useEffect(()=>{et||(ot(1),it(0))},[et]),jsxRuntimeExports.jsx(Dialog,{open:et,onOpenChange:tt,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-4xl h-[90vh] flex flex-col",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:nt||"Lampiran PDF"})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 mb-2",children:[jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:()=>ot(lt=>Math.max(lt-.2,.6)),children:""}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:()=>ot(lt=>Math.min(lt+.2,2.5)),children:"+"})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto rounded-md border bg-muted/30 p-2",children:rt&&jsxRuntimeExports.jsx(Document$1,{file:rt,loading:"Memuat PDF...",onLoadSuccess:({numPages:lt})=>it(lt),error:"Gagal memuat PDF",children:Array.from(new Array(at),(lt,ct)=>jsxRuntimeExports.jsx("div",{className:"mb-6 flex justify-center",children:jsxRuntimeExports.jsx(Page$1,{pageNumber:ct+1,scale:st,renderTextLayer:!1,renderAnnotationLayer:!1,className:"bg-white shadow rounded"})},ct))})})]})})};pdfjs$1.GlobalWorkerOptions.workerSrc=workerSrc;const EmployeeDashboard=()=>{const{user:et}=useAuth(),[tt,rt]=reactExports.useState([]),[nt,at]=reactExports.useState([]),[it,st]=reactExports.useState(!0),[ot,lt]=reactExports.useState("");reactExports.useState({});const[ct,ut]=reactExports.useState(!1),[dt,ft]=reactExports.useState(null),[ht,gt]=reactExports.useState(!1);reactExports.useState({}),reactExports.useEffect(()=>{const vt=()=>gt(window.innerWidth<640);return vt(),window.addEventListener("resize",vt),()=>window.removeEventListener("resize",vt)},[]),reactExports.useEffect(()=>{(async()=>{st(!0);try{const{data:_t,error:yt}=await supabase.from("announcements").select("*").or("audience.eq.all,audience.is.null").order("created_at",{ascending:!1});if(yt)throw yt;const St=_t||[];rt(St),at(St)}catch(_t){toast({title:"Error",description:"Gagal memuat pengumuman: "+_t.message,variant:"destructive"})}finally{st(!1)}})()},[]),reactExports.useEffect(()=>{if(!ot){at(tt);return}const vt=ot.toLowerCase(),_t=tt.filter(yt=>yt.title.toLowerCase().includes(vt)||yt.content.toLowerCase().includes(vt));at(_t)},[ot,tt]);const mt=()=>{toast({title:" Fitur Belum Tersedia ",description:"Fitur ini belum tersedia. ",variant:"default"})},xt=async vt=>{var bt,Et;if(!et||!et.id){toast({title:"Aksi Gagal",description:"Anda harus login untuk menyukai pengumuman.",variant:"destructive"});return}const _t=[...tt],yt=(Et=(bt=tt.find(Tt=>Tt.id===vt))==null?void 0:bt.liked_by)==null?void 0:Et.includes(et.id),St=tt.map(Tt=>{if(Tt.id===vt){const At=Array.isArray(Tt.liked_by)?Tt.liked_by:[],Ct=yt?At.filter(kt=>kt!==et.id):[...At,et.id];return{...Tt,liked_by:Ct}}return Tt});rt(St);try{const Tt=St.find(Ct=>Ct.id===vt),{error:At}=await supabase.from("announcements").update({liked_by:Tt.liked_by}).eq("id",vt);At&&(rt(_t),toast({title:"Error",description:"Gagal memperbarui suka.",variant:"destructive"}),console.error("Like error:",At))}catch{rt(_t),toast({title:"Error",description:"Terjadi kesalahan.",variant:"destructive"})}};return jsxRuntimeExports.jsxs(Layout,{children:[jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"space-y-2",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Feed Pengumuman"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Informasi dan pengumuman terbaru dari perusahaan."})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Cari pengumuman...",value:ot,onChange:vt=>lt(vt.target.value),className:"pl-10 py-2 glass-effect border-0 shadow-md"}),jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]}),it?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary"})}):jsxRuntimeExports.jsx(AnimatePresence,{children:nt.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-6",children:nt.map((vt,_t)=>{var St,bt,Et;const yt=vt.attachment_url?supabase.storage.from("attachment.announcement").getPublicUrl(vt.attachment_url).data.publicUrl:null;return jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:_t*.05},children:jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Avatar,{children:[jsxRuntimeExports.jsx(AvatarImage,{src:null}),jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-gradient-to-r from-gray-500 to-gray-600 text-white",children:(vt.author_name||"A").charAt(0)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:vt.author_name||"Admin HRIS"}),jsxRuntimeExports.jsxs(CardDescription,{className:"text-xs flex items-center",children:[jsxRuntimeExports.jsx(CalendarDays,{className:"h-3 w-3 mr-1"}),new Date(vt.created_at).toLocaleString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),vt.updated_at&&new Date(vt.updated_at).getTime()!==new Date(vt.created_at).getTime()&&" (Diperbarui)"]})]})]}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mt-3",children:vt.title})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("p",{className:"text-sm whitespace-pre-line leading-relaxed",children:vt.content})}),yt&&jsxRuntimeExports.jsx("div",{className:"px-4 sm:px-6 pb-2",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>{ft({url:yt,title:vt.title}),ut(!0)},children:[jsxRuntimeExports.jsx(File$1,{className:"h-4 w-4 mr-2"})," Lihat Lampiran PDF"]})}),jsxRuntimeExports.jsx(CardFooter,{className:"flex justify-start items-center pt-4 border-t",children:jsxRuntimeExports.jsxs("div",{className:"flex space-x-4 text-muted-foreground",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:`flex items-center space-x-2 transition-colors ${(St=vt.liked_by)!=null&&St.includes(et.id)?"text-blue-600":"hover:text-blue-500"}`,onClick:()=>xt(vt.id),children:[jsxRuntimeExports.jsx(ThumbsUp,{className:`h-4 w-4 ${(bt=vt.liked_by)!=null&&bt.includes(et.id)?"fill-current":""}`}),jsxRuntimeExports.jsxs("span",{children:[((Et=vt.liked_by)==null?void 0:Et.length)||0," Suka"]})]}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"flex items-center space-x-1 hover:text-green-500",onClick:mt,children:[jsxRuntimeExports.jsx(MessageSquare,{className:"h-4 w-4"})," ",jsxRuntimeExports.jsx("span",{children:"Komentar"})]})]})})]})},vt.id)})}):jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[jsxRuntimeExports.jsx(Megaphone,{className:"h-20 w-20 mx-auto text-muted-foreground mb-6"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-semibold",children:"Tidak Ada Pengumuman"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mt-2",children:"Saat ini belum ada pengumuman baru untuk Anda."})]})})]}),jsxRuntimeExports.jsx(AnnouncementPdfDialog,{open:ct,onOpenChange:ut,pdfUrl:dt==null?void 0:dt.url,title:dt==null?void 0:dt.title})]})},Textarea=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx("textarea",{className:cn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",et),ref:rt,...tt}));Textarea.displayName="Textarea";function createSlot$1(et){const tt=createSlotClone$1(et),rt=reactExports.forwardRef((nt,at)=>{const{children:it,...st}=nt,ot=reactExports.Children.toArray(it),lt=ot.find(isSlottable$1);if(lt){const ct=lt.props.children,ut=ot.map(dt=>dt===lt?reactExports.Children.count(ct)>1?reactExports.Children.only(null):reactExports.isValidElement(ct)?ct.props.children:null:dt);return jsxRuntimeExports.jsx(tt,{...st,ref:at,children:reactExports.isValidElement(ct)?reactExports.cloneElement(ct,void 0,ut):null})}return jsxRuntimeExports.jsx(tt,{...st,ref:at,children:it})});return rt.displayName=`${et}.Slot`,rt}function createSlotClone$1(et){const tt=reactExports.forwardRef((rt,nt)=>{const{children:at,...it}=rt;if(reactExports.isValidElement(at)){const st=getElementRef$1(at),ot=mergeProps$1(it,at.props);return at.type!==reactExports.Fragment&&(ot.ref=nt?composeRefs(nt,st):st),reactExports.cloneElement(at,ot)}return reactExports.Children.count(at)>1?reactExports.Children.only(null):null});return tt.displayName=`${et}.SlotClone`,tt}var SLOTTABLE_IDENTIFIER$1=Symbol("radix.slottable");function isSlottable$1(et){return reactExports.isValidElement(et)&&typeof et.type=="function"&&"__radixId"in et.type&&et.type.__radixId===SLOTTABLE_IDENTIFIER$1}function mergeProps$1(et,tt){const rt={...tt};for(const nt in tt){const at=et[nt],it=tt[nt];/^on[A-Z]/.test(nt)?at&&it?rt[nt]=(...ot)=>{const lt=it(...ot);return at(...ot),lt}:at&&(rt[nt]=at):nt==="style"?rt[nt]={...at,...it}:nt==="className"&&(rt[nt]=[at,it].filter(Boolean).join(" "))}return{...et,...rt}}function getElementRef$1(et){var nt,at;let tt=(nt=Object.getOwnPropertyDescriptor(et.props,"ref"))==null?void 0:nt.get,rt=tt&&"isReactWarning"in tt&&tt.isReactWarning;return rt?et.ref:(tt=(at=Object.getOwnPropertyDescriptor(et,"ref"))==null?void 0:at.get,rt=tt&&"isReactWarning"in tt&&tt.isReactWarning,rt?et.props.ref:et.props.ref||et.ref)}function usePrevious(et){const tt=reactExports.useRef({value:et,previous:et});return reactExports.useMemo(()=>(tt.current.value!==et&&(tt.current.previous=tt.current.value,tt.current.value=et),tt.current.previous),[et])}var OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS=[" ","Enter"],SELECT_NAME="Select",[Collection,useCollection,createCollectionScope]=createCollection(SELECT_NAME),[createSelectContext,createSelectScope]=createContextScope$1(SELECT_NAME,[createCollectionScope,createPopperScope]),usePopperScope$1=createPopperScope(),[SelectProvider,useSelectContext]=createSelectContext(SELECT_NAME),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext(SELECT_NAME),Select$1=et=>{const{__scopeSelect:tt,children:rt,open:nt,defaultOpen:at,onOpenChange:it,value:st,defaultValue:ot,onValueChange:lt,dir:ct,name:ut,autoComplete:dt,disabled:ft,required:ht,form:gt}=et,mt=usePopperScope$1(tt),[xt,vt]=reactExports.useState(null),[_t,yt]=reactExports.useState(null),[St,bt]=reactExports.useState(!1),Et=useDirection(ct),[Tt,At]=useControllableState({prop:nt,defaultProp:at??!1,onChange:it,caller:SELECT_NAME}),[Ct,kt]=useControllableState({prop:st,defaultProp:ot,onChange:lt,caller:SELECT_NAME}),Pt=reactExports.useRef(null),Dt=xt?gt||!!xt.closest("form"):!0,[Ft,Ot]=reactExports.useState(new Set),It=Array.from(Ft).map(Bt=>Bt.props.value).join(";");return jsxRuntimeExports.jsx(Root2$4,{...mt,children:jsxRuntimeExports.jsxs(SelectProvider,{required:ht,scope:tt,trigger:xt,onTriggerChange:vt,valueNode:_t,onValueNodeChange:yt,valueNodeHasChildren:St,onValueNodeHasChildrenChange:bt,contentId:useId(),value:Ct,onValueChange:kt,open:Tt,onOpenChange:At,dir:Et,triggerPointerDownPosRef:Pt,disabled:ft,children:[jsxRuntimeExports.jsx(Collection.Provider,{scope:tt,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:et.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(Bt=>{Ot(qt=>new Set(qt).add(Bt))},[]),onNativeOptionRemove:reactExports.useCallback(Bt=>{Ot(qt=>{const Ut=new Set(qt);return Ut.delete(Bt),Ut})},[]),children:rt})}),Dt?jsxRuntimeExports.jsxs(SelectBubbleInput,{"aria-hidden":!0,required:ht,tabIndex:-1,name:ut,autoComplete:dt,value:Ct,onChange:Bt=>kt(Bt.target.value),disabled:ft,form:gt,children:[Ct===void 0?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(Ft)]},It):null]})})};Select$1.displayName=SELECT_NAME;var TRIGGER_NAME$2="SelectTrigger",SelectTrigger$1=reactExports.forwardRef((et,tt)=>{const{__scopeSelect:rt,disabled:nt=!1,...at}=et,it=usePopperScope$1(rt),st=useSelectContext(TRIGGER_NAME$2,rt),ot=st.disabled||nt,lt=useComposedRefs(tt,st.onTriggerChange),ct=useCollection(rt),ut=reactExports.useRef("touch"),[dt,ft,ht]=useTypeaheadSearch(mt=>{const xt=ct().filter(yt=>!yt.disabled),vt=xt.find(yt=>yt.value===st.value),_t=findNextItem(xt,mt,vt);_t!==void 0&&st.onValueChange(_t.value)}),gt=mt=>{ot||(st.onOpenChange(!0),ht()),mt&&(st.triggerPointerDownPosRef.current={x:Math.round(mt.pageX),y:Math.round(mt.pageY)})};return jsxRuntimeExports.jsx(Anchor,{asChild:!0,...it,children:jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",role:"combobox","aria-controls":st.contentId,"aria-expanded":st.open,"aria-required":st.required,"aria-autocomplete":"none",dir:st.dir,"data-state":st.open?"open":"closed",disabled:ot,"data-disabled":ot?"":void 0,"data-placeholder":shouldShowPlaceholder(st.value)?"":void 0,...at,ref:lt,onClick:composeEventHandlers(at.onClick,mt=>{mt.currentTarget.focus(),ut.current!=="mouse"&&gt(mt)}),onPointerDown:composeEventHandlers(at.onPointerDown,mt=>{ut.current=mt.pointerType;const xt=mt.target;xt.hasPointerCapture(mt.pointerId)&&xt.releasePointerCapture(mt.pointerId),mt.button===0&&mt.ctrlKey===!1&&mt.pointerType==="mouse"&&(gt(mt),mt.preventDefault())}),onKeyDown:composeEventHandlers(at.onKeyDown,mt=>{const xt=dt.current!=="";!(mt.ctrlKey||mt.altKey||mt.metaKey)&&mt.key.length===1&&ft(mt.key),!(xt&&mt.key===" ")&&OPEN_KEYS.includes(mt.key)&&(gt(),mt.preventDefault())})})})});SelectTrigger$1.displayName=TRIGGER_NAME$2;var VALUE_NAME="SelectValue",SelectValue$1=reactExports.forwardRef((et,tt)=>{const{__scopeSelect:rt,className:nt,style:at,children:it,placeholder:st="",...ot}=et,lt=useSelectContext(VALUE_NAME,rt),{onValueNodeHasChildrenChange:ct}=lt,ut=it!==void 0,dt=useComposedRefs(tt,lt.onValueNodeChange);return useLayoutEffect2(()=>{ct(ut)},[ct,ut]),jsxRuntimeExports.jsx(Primitive$2.span,{...ot,ref:dt,style:{pointerEvents:"none"},children:shouldShowPlaceholder(lt.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:st}):it})});SelectValue$1.displayName=VALUE_NAME;var ICON_NAME="SelectIcon",SelectIcon=reactExports.forwardRef((et,tt)=>{const{__scopeSelect:rt,children:nt,...at}=et;return jsxRuntimeExports.jsx(Primitive$2.span,{"aria-hidden":!0,...at,ref:tt,children:nt||""})});SelectIcon.displayName=ICON_NAME;var PORTAL_NAME$1="SelectPortal",SelectPortal=et=>jsxRuntimeExports.jsx(Portal$4,{asChild:!0,...et});SelectPortal.displayName=PORTAL_NAME$1;var CONTENT_NAME$2="SelectContent",SelectContent$1=reactExports.forwardRef((et,tt)=>{const rt=useSelectContext(CONTENT_NAME$2,et.__scopeSelect),[nt,at]=reactExports.useState();if(useLayoutEffect2(()=>{at(new DocumentFragment)},[]),!rt.open){const it=nt;return it?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:et.__scopeSelect,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:et.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:et.children})})}),it):null}return jsxRuntimeExports.jsx(SelectContentImpl,{...et,ref:tt})});SelectContent$1.displayName=CONTENT_NAME$2;var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext(CONTENT_NAME$2),CONTENT_IMPL_NAME="SelectContentImpl",Slot$1=createSlot$1("SelectContent.RemoveScroll"),SelectContentImpl=reactExports.forwardRef((et,tt)=>{const{__scopeSelect:rt,position:nt="item-aligned",onCloseAutoFocus:at,onEscapeKeyDown:it,onPointerDownOutside:st,side:ot,sideOffset:lt,align:ct,alignOffset:ut,arrowPadding:dt,collisionBoundary:ft,collisionPadding:ht,sticky:gt,hideWhenDetached:mt,avoidCollisions:xt,...vt}=et,_t=useSelectContext(CONTENT_NAME$2,rt),[yt,St]=reactExports.useState(null),[bt,Et]=reactExports.useState(null),Tt=useComposedRefs(tt,Vt=>St(Vt)),[At,Ct]=reactExports.useState(null),[kt,Pt]=reactExports.useState(null),Dt=useCollection(rt),[Ft,Ot]=reactExports.useState(!1),It=reactExports.useRef(!1);reactExports.useEffect(()=>{if(yt)return hideOthers(yt)},[yt]),useFocusGuards();const Bt=reactExports.useCallback(Vt=>{const[Gt,...Zt]=Dt().map(Kt=>Kt.ref.current),[er]=Zt.slice(-1),ar=document.activeElement;for(const Kt of Vt)if(Kt===ar||(Kt==null||Kt.scrollIntoView({block:"nearest"}),Kt===Gt&&bt&&(bt.scrollTop=0),Kt===er&&bt&&(bt.scrollTop=bt.scrollHeight),Kt==null||Kt.focus(),document.activeElement!==ar))return},[Dt,bt]),qt=reactExports.useCallback(()=>Bt([At,yt]),[Bt,At,yt]);reactExports.useEffect(()=>{Ft&&qt()},[Ft,qt]);const{onOpenChange:Ut,triggerPointerDownPosRef:Ht}=_t;reactExports.useEffect(()=>{if(yt){let Vt={x:0,y:0};const Gt=er=>{var ar,Kt;Vt={x:Math.abs(Math.round(er.pageX)-(((ar=Ht.current)==null?void 0:ar.x)??0)),y:Math.abs(Math.round(er.pageY)-(((Kt=Ht.current)==null?void 0:Kt.y)??0))}},Zt=er=>{Vt.x<=10&&Vt.y<=10?er.preventDefault():yt.contains(er.target)||Ut(!1),document.removeEventListener("pointermove",Gt),Ht.current=null};return Ht.current!==null&&(document.addEventListener("pointermove",Gt),document.addEventListener("pointerup",Zt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Gt),document.removeEventListener("pointerup",Zt,{capture:!0})}}},[yt,Ut,Ht]),reactExports.useEffect(()=>{const Vt=()=>Ut(!1);return window.addEventListener("blur",Vt),window.addEventListener("resize",Vt),()=>{window.removeEventListener("blur",Vt),window.removeEventListener("resize",Vt)}},[Ut]);const[Qt,ir]=useTypeaheadSearch(Vt=>{const Gt=Dt().filter(ar=>!ar.disabled),Zt=Gt.find(ar=>ar.ref.current===document.activeElement),er=findNextItem(Gt,Vt,Zt);er&&setTimeout(()=>er.ref.current.focus())}),Xt=reactExports.useCallback((Vt,Gt,Zt)=>{const er=!It.current&&!Zt;(_t.value!==void 0&&_t.value===Gt||er)&&(Ct(Vt),er&&(It.current=!0))},[_t.value]),Lt=reactExports.useCallback(()=>yt==null?void 0:yt.focus(),[yt]),jt=reactExports.useCallback((Vt,Gt,Zt)=>{const er=!It.current&&!Zt;(_t.value!==void 0&&_t.value===Gt||er)&&Pt(Vt)},[_t.value]),Nt=nt==="popper"?SelectPopperPosition:SelectItemAlignedPosition,Mt=Nt===SelectPopperPosition?{side:ot,sideOffset:lt,align:ct,alignOffset:ut,arrowPadding:dt,collisionBoundary:ft,collisionPadding:ht,sticky:gt,hideWhenDetached:mt,avoidCollisions:xt}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:rt,content:yt,viewport:bt,onViewportChange:Et,itemRefCallback:Xt,selectedItem:At,onItemLeave:Lt,itemTextRefCallback:jt,focusSelectedItem:qt,selectedItemText:kt,position:nt,isPositioned:Ft,searchRef:Qt,children:jsxRuntimeExports.jsx(RemoveScroll$1,{as:Slot$1,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:_t.open,onMountAutoFocus:Vt=>{Vt.preventDefault()},onUnmountAutoFocus:composeEventHandlers(at,Vt=>{var Gt;(Gt=_t.trigger)==null||Gt.focus({preventScroll:!0}),Vt.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:it,onPointerDownOutside:st,onFocusOutside:Vt=>Vt.preventDefault(),onDismiss:()=>_t.onOpenChange(!1),children:jsxRuntimeExports.jsx(Nt,{role:"listbox",id:_t.contentId,"data-state":_t.open?"open":"closed",dir:_t.dir,onContextMenu:Vt=>Vt.preventDefault(),...vt,...Mt,onPlaced:()=>Ot(!0),ref:Tt,style:{display:"flex",flexDirection:"column",outline:"none",...vt.style},onKeyDown:composeEventHandlers(vt.onKeyDown,Vt=>{const Gt=Vt.ctrlKey||Vt.altKey||Vt.metaKey;if(Vt.key==="Tab"&&Vt.preventDefault(),!Gt&&Vt.key.length===1&&ir(Vt.key),["ArrowUp","ArrowDown","Home","End"].includes(Vt.key)){let er=Dt().filter(ar=>!ar.disabled).map(ar=>ar.ref.current);if(["ArrowUp","End"].includes(Vt.key)&&(er=er.slice().reverse()),["ArrowUp","ArrowDown"].includes(Vt.key)){const ar=Vt.target,Kt=er.indexOf(ar);er=er.slice(Kt+1)}setTimeout(()=>Bt(er)),Vt.preventDefault()}})})})})})})});SelectContentImpl.displayName=CONTENT_IMPL_NAME;var ITEM_ALIGNED_POSITION_NAME="SelectItemAlignedPosition",SelectItemAlignedPosition=reactExports.forwardRef((et,tt)=>{const{__scopeSelect:rt,onPlaced:nt,...at}=et,it=useSelectContext(CONTENT_NAME$2,rt),st=useSelectContentContext(CONTENT_NAME$2,rt),[ot,lt]=reactExports.useState(null),[ct,ut]=reactExports.useState(null),dt=useComposedRefs(tt,Tt=>ut(Tt)),ft=useCollection(rt),ht=reactExports.useRef(!1),gt=reactExports.useRef(!0),{viewport:mt,selectedItem:xt,selectedItemText:vt,focusSelectedItem:_t}=st,yt=reactExports.useCallback(()=>{if(it.trigger&&it.valueNode&&ot&&ct&&mt&&xt&&vt){const Tt=it.trigger.getBoundingClientRect(),At=ct.getBoundingClientRect(),Ct=it.valueNode.getBoundingClientRect(),kt=vt.getBoundingClientRect();if(it.dir!=="rtl"){const ar=kt.left-At.left,Kt=Ct.left-ar,pr=Tt.left-Kt,fr=Tt.width+pr,vr=Math.max(fr,At.width),wr=window.innerWidth-CONTENT_MARGIN,hr=clamp(Kt,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,wr-vr)]);ot.style.minWidth=fr+"px",ot.style.left=hr+"px"}else{const ar=At.right-kt.right,Kt=window.innerWidth-Ct.right-ar,pr=window.innerWidth-Tt.right-Kt,fr=Tt.width+pr,vr=Math.max(fr,At.width),wr=window.innerWidth-CONTENT_MARGIN,hr=clamp(Kt,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,wr-vr)]);ot.style.minWidth=fr+"px",ot.style.right=hr+"px"}const Pt=ft(),Dt=window.innerHeight-CONTENT_MARGIN*2,Ft=mt.scrollHeight,Ot=window.getComputedStyle(ct),It=parseInt(Ot.borderTopWidth,10),Bt=parseInt(Ot.paddingTop,10),qt=parseInt(Ot.borderBottomWidth,10),Ut=parseInt(Ot.paddingBottom,10),Ht=It+Bt+Ft+Ut+qt,Qt=Math.min(xt.offsetHeight*5,Ht),ir=window.getComputedStyle(mt),Xt=parseInt(ir.paddingTop,10),Lt=parseInt(ir.paddingBottom,10),jt=Tt.top+Tt.height/2-CONTENT_MARGIN,Nt=Dt-jt,Mt=xt.offsetHeight/2,Vt=xt.offsetTop+Mt,Gt=It+Bt+Vt,Zt=Ht-Gt;if(Gt<=jt){const ar=Pt.length>0&&xt===Pt[Pt.length-1].ref.current;ot.style.bottom="0px";const Kt=ct.clientHeight-mt.offsetTop-mt.offsetHeight,pr=Math.max(Nt,Mt+(ar?Lt:0)+Kt+qt),fr=Gt+pr;ot.style.height=fr+"px"}else{const ar=Pt.length>0&&xt===Pt[0].ref.current;ot.style.top="0px";const pr=Math.max(jt,It+mt.offsetTop+(ar?Xt:0)+Mt)+Zt;ot.style.height=pr+"px",mt.scrollTop=Gt-jt+mt.offsetTop}ot.style.margin=`${CONTENT_MARGIN}px 0`,ot.style.minHeight=Qt+"px",ot.style.maxHeight=Dt+"px",nt==null||nt(),requestAnimationFrame(()=>ht.current=!0)}},[ft,it.trigger,it.valueNode,ot,ct,mt,xt,vt,it.dir,nt]);useLayoutEffect2(()=>yt(),[yt]);const[St,bt]=reactExports.useState();useLayoutEffect2(()=>{ct&&bt(window.getComputedStyle(ct).zIndex)},[ct]);const Et=reactExports.useCallback(Tt=>{Tt&&gt.current===!0&&(yt(),_t==null||_t(),gt.current=!1)},[yt,_t]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:rt,contentWrapper:ot,shouldExpandOnScrollRef:ht,onScrollButtonChange:Et,children:jsxRuntimeExports.jsx("div",{ref:lt,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:St},children:jsxRuntimeExports.jsx(Primitive$2.div,{...at,ref:dt,style:{boxSizing:"border-box",maxHeight:"100%",...at.style}})})})});SelectItemAlignedPosition.displayName=ITEM_ALIGNED_POSITION_NAME;var POPPER_POSITION_NAME="SelectPopperPosition",SelectPopperPosition=reactExports.forwardRef((et,tt)=>{const{__scopeSelect:rt,align:nt="start",collisionPadding:at=CONTENT_MARGIN,...it}=et,st=usePopperScope$1(rt);return jsxRuntimeExports.jsx(Content$2,{...st,...it,ref:tt,align:nt,collisionPadding:at,style:{boxSizing:"border-box",...it.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName=POPPER_POSITION_NAME;var[SelectViewportProvider,useSelectViewportContext]=createSelectContext(CONTENT_NAME$2,{}),VIEWPORT_NAME="SelectViewport",SelectViewport=reactExports.forwardRef((et,tt)=>{const{__scopeSelect:rt,nonce:nt,...at}=et,it=useSelectContentContext(VIEWPORT_NAME,rt),st=useSelectViewportContext(VIEWPORT_NAME,rt),ot=useComposedRefs(tt,it.onViewportChange),lt=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:nt}),jsxRuntimeExports.jsx(Collection.Slot,{scope:rt,children:jsxRuntimeExports.jsx(Primitive$2.div,{"data-radix-select-viewport":"",role:"presentation",...at,ref:ot,style:{position:"relative",flex:1,overflow:"hidden auto",...at.style},onScroll:composeEventHandlers(at.onScroll,ct=>{const ut=ct.currentTarget,{contentWrapper:dt,shouldExpandOnScrollRef:ft}=st;if(ft!=null&&ft.current&&dt){const ht=Math.abs(lt.current-ut.scrollTop);if(ht>0){const gt=window.innerHeight-CONTENT_MARGIN*2,mt=parseFloat(dt.style.minHeight),xt=parseFloat(dt.style.height),vt=Math.max(mt,xt);if(vt<gt){const _t=vt+ht,yt=Math.min(gt,_t),St=_t-yt;dt.style.height=yt+"px",dt.style.bottom==="0px"&&(ut.scrollTop=St>0?St:0,dt.style.justifyContent="flex-end")}}}lt.current=ut.scrollTop})})})]})});SelectViewport.displayName=VIEWPORT_NAME;var GROUP_NAME="SelectGroup",[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext(GROUP_NAME),SelectGroup=reactExports.forwardRef((et,tt)=>{const{__scopeSelect:rt,...nt}=et,at=useId();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:rt,id:at,children:jsxRuntimeExports.jsx(Primitive$2.div,{role:"group","aria-labelledby":at,...nt,ref:tt})})});SelectGroup.displayName=GROUP_NAME;var LABEL_NAME="SelectLabel",SelectLabel$1=reactExports.forwardRef((et,tt)=>{const{__scopeSelect:rt,...nt}=et,at=useSelectGroupContext(LABEL_NAME,rt);return jsxRuntimeExports.jsx(Primitive$2.div,{id:at.id,...nt,ref:tt})});SelectLabel$1.displayName=LABEL_NAME;var ITEM_NAME="SelectItem",[SelectItemContextProvider,useSelectItemContext]=createSelectContext(ITEM_NAME),SelectItem$1=reactExports.forwardRef((et,tt)=>{const{__scopeSelect:rt,value:nt,disabled:at=!1,textValue:it,...st}=et,ot=useSelectContext(ITEM_NAME,rt),lt=useSelectContentContext(ITEM_NAME,rt),ct=ot.value===nt,[ut,dt]=reactExports.useState(it??""),[ft,ht]=reactExports.useState(!1),gt=useComposedRefs(tt,_t=>{var yt;return(yt=lt.itemRefCallback)==null?void 0:yt.call(lt,_t,nt,at)}),mt=useId(),xt=reactExports.useRef("touch"),vt=()=>{at||(ot.onValueChange(nt),ot.onOpenChange(!1))};if(nt==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:rt,value:nt,disabled:at,textId:mt,isSelected:ct,onItemTextChange:reactExports.useCallback(_t=>{dt(yt=>yt||((_t==null?void 0:_t.textContent)??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:rt,value:nt,disabled:at,textValue:ut,children:jsxRuntimeExports.jsx(Primitive$2.div,{role:"option","aria-labelledby":mt,"data-highlighted":ft?"":void 0,"aria-selected":ct&&ft,"data-state":ct?"checked":"unchecked","aria-disabled":at||void 0,"data-disabled":at?"":void 0,tabIndex:at?void 0:-1,...st,ref:gt,onFocus:composeEventHandlers(st.onFocus,()=>ht(!0)),onBlur:composeEventHandlers(st.onBlur,()=>ht(!1)),onClick:composeEventHandlers(st.onClick,()=>{xt.current!=="mouse"&&vt()}),onPointerUp:composeEventHandlers(st.onPointerUp,()=>{xt.current==="mouse"&&vt()}),onPointerDown:composeEventHandlers(st.onPointerDown,_t=>{xt.current=_t.pointerType}),onPointerMove:composeEventHandlers(st.onPointerMove,_t=>{var yt;xt.current=_t.pointerType,at?(yt=lt.onItemLeave)==null||yt.call(lt):xt.current==="mouse"&&_t.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers(st.onPointerLeave,_t=>{var yt;_t.currentTarget===document.activeElement&&((yt=lt.onItemLeave)==null||yt.call(lt))}),onKeyDown:composeEventHandlers(st.onKeyDown,_t=>{var St;((St=lt.searchRef)==null?void 0:St.current)!==""&&_t.key===" "||(SELECTION_KEYS.includes(_t.key)&&vt(),_t.key===" "&&_t.preventDefault())})})})})});SelectItem$1.displayName=ITEM_NAME;var ITEM_TEXT_NAME="SelectItemText",SelectItemText=reactExports.forwardRef((et,tt)=>{const{__scopeSelect:rt,className:nt,style:at,...it}=et,st=useSelectContext(ITEM_TEXT_NAME,rt),ot=useSelectContentContext(ITEM_TEXT_NAME,rt),lt=useSelectItemContext(ITEM_TEXT_NAME,rt),ct=useSelectNativeOptionsContext(ITEM_TEXT_NAME,rt),[ut,dt]=reactExports.useState(null),ft=useComposedRefs(tt,vt=>dt(vt),lt.onItemTextChange,vt=>{var _t;return(_t=ot.itemTextRefCallback)==null?void 0:_t.call(ot,vt,lt.value,lt.disabled)}),ht=ut==null?void 0:ut.textContent,gt=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:lt.value,disabled:lt.disabled,children:ht},lt.value),[lt.disabled,lt.value,ht]),{onNativeOptionAdd:mt,onNativeOptionRemove:xt}=ct;return useLayoutEffect2(()=>(mt(gt),()=>xt(gt)),[mt,xt,gt]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive$2.span,{id:lt.textId,...it,ref:ft}),lt.isSelected&&st.valueNode&&!st.valueNodeHasChildren?reactDomExports.createPortal(it.children,st.valueNode):null]})});SelectItemText.displayName=ITEM_TEXT_NAME;var ITEM_INDICATOR_NAME="SelectItemIndicator",SelectItemIndicator=reactExports.forwardRef((et,tt)=>{const{__scopeSelect:rt,...nt}=et;return useSelectItemContext(ITEM_INDICATOR_NAME,rt).isSelected?jsxRuntimeExports.jsx(Primitive$2.span,{"aria-hidden":!0,...nt,ref:tt}):null});SelectItemIndicator.displayName=ITEM_INDICATOR_NAME;var SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",SelectScrollUpButton$1=reactExports.forwardRef((et,tt)=>{const rt=useSelectContentContext(SCROLL_UP_BUTTON_NAME,et.__scopeSelect),nt=useSelectViewportContext(SCROLL_UP_BUTTON_NAME,et.__scopeSelect),[at,it]=reactExports.useState(!1),st=useComposedRefs(tt,nt.onScrollButtonChange);return useLayoutEffect2(()=>{if(rt.viewport&&rt.isPositioned){let ot=function(){const ct=lt.scrollTop>0;it(ct)};const lt=rt.viewport;return ot(),lt.addEventListener("scroll",ot),()=>lt.removeEventListener("scroll",ot)}},[rt.viewport,rt.isPositioned]),at?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...et,ref:st,onAutoScroll:()=>{const{viewport:ot,selectedItem:lt}=rt;ot&&lt&&(ot.scrollTop=ot.scrollTop-lt.offsetHeight)}}):null});SelectScrollUpButton$1.displayName=SCROLL_UP_BUTTON_NAME;var SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",SelectScrollDownButton$1=reactExports.forwardRef((et,tt)=>{const rt=useSelectContentContext(SCROLL_DOWN_BUTTON_NAME,et.__scopeSelect),nt=useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME,et.__scopeSelect),[at,it]=reactExports.useState(!1),st=useComposedRefs(tt,nt.onScrollButtonChange);return useLayoutEffect2(()=>{if(rt.viewport&&rt.isPositioned){let ot=function(){const ct=lt.scrollHeight-lt.clientHeight,ut=Math.ceil(lt.scrollTop)<ct;it(ut)};const lt=rt.viewport;return ot(),lt.addEventListener("scroll",ot),()=>lt.removeEventListener("scroll",ot)}},[rt.viewport,rt.isPositioned]),at?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...et,ref:st,onAutoScroll:()=>{const{viewport:ot,selectedItem:lt}=rt;ot&&lt&&(ot.scrollTop=ot.scrollTop+lt.offsetHeight)}}):null});SelectScrollDownButton$1.displayName=SCROLL_DOWN_BUTTON_NAME;var SelectScrollButtonImpl=reactExports.forwardRef((et,tt)=>{const{__scopeSelect:rt,onAutoScroll:nt,...at}=et,it=useSelectContentContext("SelectScrollButton",rt),st=reactExports.useRef(null),ot=useCollection(rt),lt=reactExports.useCallback(()=>{st.current!==null&&(window.clearInterval(st.current),st.current=null)},[]);return reactExports.useEffect(()=>()=>lt(),[lt]),useLayoutEffect2(()=>{var ut;const ct=ot().find(dt=>dt.ref.current===document.activeElement);(ut=ct==null?void 0:ct.ref.current)==null||ut.scrollIntoView({block:"nearest"})},[ot]),jsxRuntimeExports.jsx(Primitive$2.div,{"aria-hidden":!0,...at,ref:tt,style:{flexShrink:0,...at.style},onPointerDown:composeEventHandlers(at.onPointerDown,()=>{st.current===null&&(st.current=window.setInterval(nt,50))}),onPointerMove:composeEventHandlers(at.onPointerMove,()=>{var ct;(ct=it.onItemLeave)==null||ct.call(it),st.current===null&&(st.current=window.setInterval(nt,50))}),onPointerLeave:composeEventHandlers(at.onPointerLeave,()=>{lt()})})}),SEPARATOR_NAME="SelectSeparator",SelectSeparator$1=reactExports.forwardRef((et,tt)=>{const{__scopeSelect:rt,...nt}=et;return jsxRuntimeExports.jsx(Primitive$2.div,{"aria-hidden":!0,...nt,ref:tt})});SelectSeparator$1.displayName=SEPARATOR_NAME;var ARROW_NAME$1="SelectArrow",SelectArrow=reactExports.forwardRef((et,tt)=>{const{__scopeSelect:rt,...nt}=et,at=usePopperScope$1(rt),it=useSelectContext(ARROW_NAME$1,rt),st=useSelectContentContext(ARROW_NAME$1,rt);return it.open&&st.position==="popper"?jsxRuntimeExports.jsx(Arrow,{...at,...nt,ref:tt}):null});SelectArrow.displayName=ARROW_NAME$1;var BUBBLE_INPUT_NAME="SelectBubbleInput",SelectBubbleInput=reactExports.forwardRef(({__scopeSelect:et,value:tt,...rt},nt)=>{const at=reactExports.useRef(null),it=useComposedRefs(nt,at),st=usePrevious(tt);return reactExports.useEffect(()=>{const ot=at.current;if(!ot)return;const lt=window.HTMLSelectElement.prototype,ut=Object.getOwnPropertyDescriptor(lt,"value").set;if(st!==tt&&ut){const dt=new Event("change",{bubbles:!0});ut.call(ot,tt),ot.dispatchEvent(dt)}},[st,tt]),jsxRuntimeExports.jsx(Primitive$2.select,{...rt,style:{...VISUALLY_HIDDEN_STYLES,...rt.style},ref:it,defaultValue:tt})});SelectBubbleInput.displayName=BUBBLE_INPUT_NAME;function shouldShowPlaceholder(et){return et===""||et===void 0}function useTypeaheadSearch(et){const tt=useCallbackRef$1(et),rt=reactExports.useRef(""),nt=reactExports.useRef(0),at=reactExports.useCallback(st=>{const ot=rt.current+st;tt(ot),function lt(ct){rt.current=ct,window.clearTimeout(nt.current),ct!==""&&(nt.current=window.setTimeout(()=>lt(""),1e3))}(ot)},[tt]),it=reactExports.useCallback(()=>{rt.current="",window.clearTimeout(nt.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(nt.current),[]),[rt,at,it]}function findNextItem(et,tt,rt){const at=tt.length>1&&Array.from(tt).every(ct=>ct===tt[0])?tt[0]:tt,it=rt?et.indexOf(rt):-1;let st=wrapArray(et,Math.max(it,0));at.length===1&&(st=st.filter(ct=>ct!==rt));const lt=st.find(ct=>ct.textValue.toLowerCase().startsWith(at.toLowerCase()));return lt!==rt?lt:void 0}function wrapArray(et,tt){return et.map((rt,nt)=>et[(tt+nt)%et.length])}var Root2$2=Select$1,Trigger$2=SelectTrigger$1,Value=SelectValue$1,Icon=SelectIcon,Portal$1=SelectPortal,Content2$1=SelectContent$1,Viewport=SelectViewport,Label=SelectLabel$1,Item=SelectItem$1,ItemText=SelectItemText,ItemIndicator=SelectItemIndicator,ScrollUpButton=SelectScrollUpButton$1,ScrollDownButton=SelectScrollDownButton$1,Separator=SelectSeparator$1;const Select=Root2$2,SelectValue=Value,SelectTrigger=React$1.forwardRef(({className:et,children:tt,...rt},nt)=>jsxRuntimeExports.jsxs(Trigger$2,{ref:nt,className:cn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",et),...rt,children:[tt,jsxRuntimeExports.jsx(Icon,{asChild:!0,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 opacity-50"})})]}));SelectTrigger.displayName=Trigger$2.displayName;const SelectScrollUpButton=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(ScrollUpButton,{ref:rt,className:cn("flex cursor-default items-center justify-center py-1",et),...tt,children:jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"})}));SelectScrollUpButton.displayName=ScrollUpButton.displayName;const SelectScrollDownButton=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(ScrollDownButton,{ref:rt,className:cn("flex cursor-default items-center justify-center py-1",et),...tt,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})}));SelectScrollDownButton.displayName=ScrollDownButton.displayName;const SelectContent=React$1.forwardRef(({className:et,children:tt,position:rt="popper",...nt},at)=>jsxRuntimeExports.jsx(Portal$1,{children:jsxRuntimeExports.jsxs(Content2$1,{ref:at,className:cn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",rt==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",et),position:rt,...nt,children:[jsxRuntimeExports.jsx(SelectScrollUpButton,{}),jsxRuntimeExports.jsx(Viewport,{className:cn("p-1",rt==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:tt}),jsxRuntimeExports.jsx(SelectScrollDownButton,{})]})}));SelectContent.displayName=Content2$1.displayName;const SelectLabel=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(Label,{ref:rt,className:cn("py-1.5 pl-8 pr-2 text-sm font-semibold",et),...tt}));SelectLabel.displayName=Label.displayName;const SelectItem=React$1.forwardRef(({className:et,children:tt,...rt},nt)=>jsxRuntimeExports.jsxs(Item,{ref:nt,className:cn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",et),...rt,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(ItemText,{children:tt})]}));SelectItem.displayName=Item.displayName;const SelectSeparator=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(Separator,{ref:rt,className:cn("-mx-1 my-1 h-px bg-muted",et),...tt}));SelectSeparator.displayName=Separator.displayName;const statuses=["Tetap","Kontrak","Magang"],activeStatuses=["Aktif","Cuti","Resign","Tidak Aktif"],genders=["Laki-laki","Perempuan"],workLocations=["HEAD OFFICE","REGIONAL"],educationLevels=["SD","SMP","SMA/SMK","D1","D2","D3","S1","D4","S2","S3","Lainnya"],initialFormData={name:"",birthDate:"",nik:"",position:"",division:"",joinDate:"",gender:"",address:"",phone:"",email:"",status:"",photo:"",password:"",workLocation:"",education:"",area:"",active_status:"Aktif",termination_date:null,bpjs_number:"",direct_manager_id:null,project:"",npwp:"",ptkp_status:"",dependents_count:""},initialFormState={...initialFormData},EmployeeFormDialog=({isOpen:et,onOpenChange:tt,onSubmit:rt,initialData:nt,editingEmployee:at,divisions:it,statuses:st,genders:ot,jobPositions:lt})=>{const[ct,ut]=reactExports.useState(initialFormState),[dt,ft]=reactExports.useState(!1),[ht,gt]=reactExports.useState(""),[mt,xt]=reactExports.useState(""),[vt,_t]=reactExports.useState([]),[yt,St]=reactExports.useState(""),[bt,Et]=reactExports.useState(!1);reactExports.useEffect(()=>{(async()=>{if(et)try{const Ot=await getEmployees(),It=at?Ot.filter(Bt=>Bt.id!==at.id):Ot;_t(It)}catch(Ot){console.error("Failed to fetch managers:",Ot)}})()},[et,at]),reactExports.useEffect(()=>{et&&(ut(nt?{...initialFormState,...nt,password:"",termination_date:nt.terminationDate||null,active_status:nt.activeStatus||"Aktif",bpjs_number:nt.bpjsNumber||"",direct_manager_id:nt.directManagerId||null,project:nt.project||"",npwp:nt.npwp||"",ptkp_status:nt.ptkp_status||"",dependents_count:nt.dependents_count||""}:initialFormState),gt(""),xt(""),St(""))},[nt,et]);const Tt=Ft=>{const{id:Ot,value:It,type:Bt}=Ft.target;if(Bt==="number"&&It!==""){const qt=parseInt(It,10);!isNaN(qt)&&qt>=0?ut(Ut=>({...Ut,[Ot]:qt})):It===""&&ut(Ut=>({...Ut,[Ot]:""}))}else ut(qt=>({...qt,[Ot]:Bt==="date"&&It===""?null:It}))},At=(Ft,Ot)=>{ut(It=>({...It,[Ft]:Ot==="none"?null:Ot}))},Ct=async Ft=>{if(Ft.preventDefault(),!bt){Et(!0);try{const Ot={...ct};!at&&!Ot.password&&(Ot.password="karyawan123");const It={...Ot,terminationDate:Ot.termination_date,activeStatus:Ot.active_status,bpjsNumber:Ot.bpjs_number,directManagerId:Ot.direct_manager_id,project:Ot.project,npwp:Ot.npwp,ptkp_status:Ot.ptkp_status,dependents_count:Ot.dependents_count===""?null:Ot.dependents_count};delete It.termination_date,delete It.active_status,delete It.bpjs_number,await rt(It)}finally{Et(!1)}}},kt=(lt||[]).filter(Ft=>Ft&&Ft.toLowerCase().includes(ht.toLowerCase())),Pt=(it||[]).filter(Ft=>Ft&&Ft.toLowerCase().includes(mt.toLowerCase())),Dt=vt.filter(Ft=>Ft.name.toLowerCase().includes(yt.toLowerCase()));return jsxRuntimeExports.jsx(Dialog,{open:et,onOpenChange:tt,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:at?"Edit Karyawan":"Tambah Karyawan Baru"}),jsxRuntimeExports.jsx(DialogDescription,{children:at?"Perbarui informasi karyawan":"Masukkan data karyawan baru"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Ct,className:"space-y-4 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"name",children:"Nama Lengkap *"}),jsxRuntimeExports.jsx(Input,{id:"name",value:ct.name,onChange:Tt,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"nik",children:"NIK/Nomor Pegawai *"}),jsxRuntimeExports.jsx(Input,{id:"nik",value:ct.nik,onChange:Tt,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"birthDate",children:"Tanggal Lahir *"}),jsxRuntimeExports.jsx(Input,{id:"birthDate",type:"date",value:ct.birthDate||"",onChange:Tt,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"gender",children:"Jenis Kelamin *"}),jsxRuntimeExports.jsxs(Select,{value:ct.gender||"",onValueChange:Ft=>At("gender",Ft),required:!0,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Pilih jenis kelamin"})}),jsxRuntimeExports.jsx(SelectContent,{children:(ot||[]).filter(Boolean).map(Ft=>jsxRuntimeExports.jsx(SelectItem,{value:Ft,children:Ft},Ft))})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"position",children:"Jabatan *"}),jsxRuntimeExports.jsx(Input,{id:"position-search",placeholder:"Cari jabatan...",value:ht,onChange:Ft=>gt(Ft.target.value),className:"mb-2"}),jsxRuntimeExports.jsxs(Select,{value:ct.position||"",onValueChange:Ft=>At("position",Ft),required:!0,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Pilih jabatan"})}),jsxRuntimeExports.jsx(SelectContent,{className:"max-h-60 overflow-y-auto",children:kt.length>0?kt.map(Ft=>jsxRuntimeExports.jsx(SelectItem,{value:Ft,children:Ft},Ft)):jsxRuntimeExports.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"Jabatan tidak ditemukan"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"division",children:"Divisi *"}),jsxRuntimeExports.jsx(Input,{id:"division-search",placeholder:"Cari divisi...",value:mt,onChange:Ft=>xt(Ft.target.value),className:"mb-2"}),jsxRuntimeExports.jsxs(Select,{value:ct.division||"",onValueChange:Ft=>At("division",Ft),required:!0,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Pilih divisi"})}),jsxRuntimeExports.jsx(SelectContent,{className:"max-h-60 overflow-y-auto",children:Pt.length>0?Pt.map(Ft=>jsxRuntimeExports.jsx(SelectItem,{value:Ft,children:Ft},Ft)):jsxRuntimeExports.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"Divisi tidak ditemukan"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"joinDate",children:"Tanggal Masuk *"}),jsxRuntimeExports.jsx(Input,{id:"joinDate",type:"date",value:ct.joinDate||"",onChange:Tt,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"termination_date",children:"Tanggal Keluar"}),jsxRuntimeExports.jsx(Input,{id:"termination_date",type:"date",value:ct.termination_date||"",onChange:Tt})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"status",children:"Status Karyawan *"}),jsxRuntimeExports.jsxs(Select,{value:ct.status||"",onValueChange:Ft=>At("status",Ft),required:!0,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Pilih status karyawan"})}),jsxRuntimeExports.jsx(SelectContent,{children:(st||[]).filter(Boolean).map(Ft=>jsxRuntimeExports.jsx(SelectItem,{value:Ft,children:Ft},Ft))})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"active_status",children:"Status Aktif *"}),jsxRuntimeExports.jsxs(Select,{value:ct.active_status||"",onValueChange:Ft=>At("active_status",Ft),required:!0,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Pilih status aktif"})}),jsxRuntimeExports.jsx(SelectContent,{children:(activeStatuses||[]).filter(Boolean).map(Ft=>jsxRuntimeExports.jsx(SelectItem,{value:Ft,children:Ft},Ft))})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"direct_manager_id",children:"Direct Manager (Atasan)"}),jsxRuntimeExports.jsxs(Select,{value:ct.direct_manager_id||"none",onValueChange:Ft=>At("direct_manager_id",Ft),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Pilih atasan langsung"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx("div",{className:"p-2",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"Cari manajer...",value:yt,onChange:Ft=>St(Ft.target.value),className:"pl-8"})]})}),jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"Tidak ada atasan"}),Dt.map(Ft=>jsxRuntimeExports.jsx(SelectItem,{value:Ft.id,children:Ft.name},Ft.id))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"project",children:"Proyek (Opsional)"}),jsxRuntimeExports.jsx(Input,{id:"project",value:ct.project||"",onChange:Tt})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"email",children:"Email (Opsional)"}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",value:ct.email||"",onChange:Tt,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"phone",children:"Nomor Telepon (Opsional)"}),jsxRuntimeExports.jsx(Input,{id:"phone",value:ct.phone||"",onChange:Tt})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"workLocation",children:"Lokasi Kerja *"}),jsxRuntimeExports.jsxs(Select,{value:ct.workLocation||"",onValueChange:Ft=>At("workLocation",Ft),required:!0,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Pilih lokasi kerja"})}),jsxRuntimeExports.jsx(SelectContent,{children:(workLocations||[]).filter(Boolean).map(Ft=>jsxRuntimeExports.jsx(SelectItem,{value:Ft,children:Ft},Ft))})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"education",children:"Pendidikan Terakhir"}),jsxRuntimeExports.jsxs(Select,{value:ct.education||"",onValueChange:Ft=>At("education",Ft),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Pilih pendidikan"})}),jsxRuntimeExports.jsx(SelectContent,{children:(educationLevels||[]).filter(Boolean).map(Ft=>jsxRuntimeExports.jsx(SelectItem,{value:Ft,children:Ft},Ft))})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"area",children:"Area Project"}),jsxRuntimeExports.jsx(Input,{id:"area",value:ct.area||"",onChange:Tt})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"bpjs_number",children:"Nomor BPJS (Jika Ada)"}),jsxRuntimeExports.jsx(Input,{id:"bpjs_number",value:ct.bpjs_number||"",onChange:Tt})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"npwp",children:"NPWP (Opsional)"}),jsxRuntimeExports.jsx(Input,{id:"npwp",value:ct.npwp||"",onChange:Tt})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"ptkp_status",children:"Status PTKP (Opsional)"}),jsxRuntimeExports.jsx(Input,{id:"ptkp_status",value:ct.ptkp_status||"",onChange:Tt})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"dependents_count",children:"Jumlah Tanggungan (Opsional)"}),jsxRuntimeExports.jsx(Input,{id:"dependents_count",type:"number",value:ct.dependents_count||"",onChange:Tt,min:"0"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"address",children:"Alamat (Sesuai KTP) *"}),jsxRuntimeExports.jsx(Textarea,{id:"address",value:ct.address,onChange:Tt,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"photo",children:"URL Foto (Opsional)"}),jsxRuntimeExports.jsx(Input,{id:"photo",type:"url",value:ct.photo||"",onChange:Tt,placeholder:"https://example.com/photo.jpg"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"password",children:"Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Input,{id:"password",type:dt?"text":"password",value:ct.password,onChange:Tt,placeholder:at?"Kosongkan jika tidak ingin mengubah":"Password default: karyawan123"}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>ft(!dt),children:dt?jsxRuntimeExports.jsx(EyeOff,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})})]}),!at&&jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Password default akan digunakan jika dikosongkan."})]}),jsxRuntimeExports.jsxs(DialogFooter,{className:"pt-4",children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>tt(!1),children:"Batal"}),jsxRuntimeExports.jsx(Button,{type:"submit",disabled:bt,className:"bg-gradient-to-r from-blue-500 to-purple-600 disabled:opacity-60 disabled:cursor-not-allowed",children:bt?"Menyimpan...":at?"Perbarui Karyawan":"Tambah Karyawan"})]})]})]})})};EmployeeFormDialog.FilterSelect=({value:et,onValueChange:tt,placeholder:rt,options:nt,allValue:at="all"})=>jsxRuntimeExports.jsxs(Select,{value:et,onValueChange:tt,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:rt})}),jsxRuntimeExports.jsxs(SelectContent,{className:"max-h-60 overflow-y-auto",children:[jsxRuntimeExports.jsx(SelectItem,{value:at,children:rt}),(nt||[]).filter(it=>it).map(it=>jsxRuntimeExports.jsx(SelectItem,{value:it,children:it},it))]})]});const getStatusColor$1=et=>{switch(et){case"Tetap":return"bg-green-500";case"Kontrak":return"bg-blue-500";case"Magang":return"bg-orange-500";default:return"bg-gray-500"}},getActiveStatusColor$1=et=>{switch(et){case"Aktif":return"bg-emerald-500";case"Cuti":return"bg-yellow-500";case"Resign":return"bg-red-500";case"Tidak Aktif":return"bg-slate-500";default:return"bg-gray-500"}},SortableHeader=({label:et,columnKey:tt,currentSortKey:rt,currentSortOrder:nt,onSort:at})=>{const it=rt===tt,st=it&&nt==="desc"?"rotate-180":"rotate-0";return jsxRuntimeExports.jsx(TableHead,{onClick:()=>at(tt),className:"cursor-pointer hover:bg-muted/50 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx("span",{children:et}),it&&jsxRuntimeExports.jsx(ArrowUpDown,{className:`h-4 w-4 transform ${st}`}),!it&&jsxRuntimeExports.jsx(ArrowUpDown,{className:"h-4 w-4 text-muted-foreground/50"})]})})},EmployeeTable=({employees:et,totalEmployees:tt,filteredCount:rt,currentPage:nt,setCurrentPage:at,pageSize:it,onEdit:st,onDelete:ot,onView:lt,onAddEmployeeClick:ct,onSort:ut,sortKey:dt,sortOrder:ft,visibleColumns:ht})=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-lg",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Users,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:"Data Karyawan"})]}),jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"text-sm",children:[et.length," dari ",tt," karyawan"]})]})}),jsxRuntimeExports.jsx(CardContent,{children:et.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Users,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Belum ada data karyawan"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mb-4",children:tt===0?"Mulai dengan menambahkan karyawan pertama":"Tidak ada karyawan yang sesuai dengan filter atau pencarian Anda."}),tt===0&&jsxRuntimeExports.jsxs(Button,{onClick:ct,className:"bg-gradient-to-r from-blue-500 to-purple-600",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Tambah Karyawan Pertama"]})]}):jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(SortableHeader,{label:"Karyawan",columnKey:"name",currentSortKey:dt,currentSortOrder:ft,onSort:ut}),ht.age&&jsxRuntimeExports.jsx(SortableHeader,{label:"Usia",columnKey:"age",currentSortKey:dt,currentSortOrder:ft,onSort:ut}),ht.position&&jsxRuntimeExports.jsx(SortableHeader,{label:"Jabatan",columnKey:"position",currentSortKey:dt,currentSortOrder:ft,onSort:ut}),ht.division&&jsxRuntimeExports.jsx(SortableHeader,{label:"Divisi",columnKey:"division",currentSortKey:dt,currentSortOrder:ft,onSort:ut}),ht.workDurationYears&&jsxRuntimeExports.jsx(SortableHeader,{label:"Masa Kerja",columnKey:"workDurationYears",currentSortKey:dt,currentSortOrder:ft,onSort:ut}),ht.status&&jsxRuntimeExports.jsx(SortableHeader,{label:"Status Karyawan",columnKey:"status",currentSortKey:dt,currentSortOrder:ft,onSort:ut}),ht.activeStatus&&jsxRuntimeExports.jsx(SortableHeader,{label:"Status Aktif",columnKey:"activeStatus",currentSortKey:dt,currentSortOrder:ft,onSort:ut}),ht.contact&&jsxRuntimeExports.jsx(TableHead,{children:"Kontak"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right",children:"Aksi"})]})}),jsxRuntimeExports.jsx(TableBody,{children:et.map((gt,mt)=>jsxRuntimeExports.jsxs(motion.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:mt*.05},className:"hover:bg-white/50 dark:hover:bg-white/5",children:[jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Avatar,{children:[jsxRuntimeExports.jsx(AvatarImage,{src:gt.photo}),jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:gt.name.charAt(0)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:gt.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:gt.gender})]})]})}),ht.age&&jsxRuntimeExports.jsx(TableCell,{children:gt.age!==null?`${gt.age} tahun`:"N/A"}),ht.position&&jsxRuntimeExports.jsx(TableCell,{children:gt.position}),ht.division&&jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"outline",children:gt.division})}),ht.workDurationYears&&jsxRuntimeExports.jsx(TableCell,{children:gt.workDurationYears!==null?`${gt.workDurationYears} thn, ${gt.workDurationMonths} bln, ${gt.workDurationDays} hr`:"N/A"}),ht.status&&jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{className:`${getStatusColor$1(gt.status)} text-white`,children:gt.status})}),ht.activeStatus&&jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs(Badge,{className:`${getActiveStatusColor$1(gt.activeStatus)} text-white`,children:[jsxRuntimeExports.jsx(Activity,{className:"h-3 w-3 mr-1"}),gt.activeStatus||"N/A"]})}),ht.contact&&jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsx("p",{children:gt.email||"-"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:gt.phone||"-"})]})}),jsxRuntimeExports.jsx(TableCell,{className:"text-right",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"icon",onClick:()=>lt(gt.id),children:jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"icon",onClick:()=>st(gt),children:jsxRuntimeExports.jsx(PenSquare,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"icon",onClick:()=>ot(gt.id),className:"text-red-600 hover:text-red-700",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})})]},gt.id))})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:["Halaman ",nt," dari ",Math.ceil(rt/it)]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",disabled:nt===1,onClick:()=>at(gt=>gt-1),children:"Prev"}),jsxRuntimeExports.jsx(Button,{variant:"outline",disabled:nt>=Math.ceil(rt/it),onClick:()=>at(gt=>gt+1),children:"Next"})]})]})]})})]})}),useEmployeeFilters=et=>{const[tt,rt]=reactExports.useState(et),[nt,at]=reactExports.useState(""),[it,st]=reactExports.useState("all"),[ot,lt]=reactExports.useState("all"),[ct,ut]=reactExports.useState("all"),[dt,ft]=reactExports.useState("all"),[ht,gt]=reactExports.useState("all"),[mt,xt]=reactExports.useState("name"),[vt,_t]=reactExports.useState("asc"),yt=reactExports.useMemo(()=>{let bt=[...et];return nt&&(bt=bt.filter(Et=>Et.name.toLowerCase().includes(nt.toLowerCase())||Et.nik&&Et.nik.toLowerCase().includes(nt.toLowerCase())||Et.email&&Et.email.toLowerCase().includes(nt.toLowerCase())||Et.project&&Et.project.toLowerCase().includes(nt.toLowerCase()))),it!=="all"&&(bt=bt.filter(Et=>Et.division===it)),ot!=="all"&&(bt=bt.filter(Et=>Et.status===ot)),ct!=="all"&&(bt=bt.filter(Et=>Et.position===ct)),dt!=="all"&&(bt=bt.filter(Et=>Et.workLocation===dt)),ht!=="all"&&(bt=bt.filter(Et=>Et.project===ht)),mt&&bt.sort((Et,Tt)=>{let At=Et[mt],Ct=Tt[mt];return typeof At=="string"&&(At=At.toLowerCase()),typeof Ct=="string"&&(Ct=Ct.toLowerCase()),At==null&&(At=vt==="asc"?1/0:-1/0),Ct==null&&(Ct=vt==="asc"?1/0:-1/0),At<Ct?vt==="asc"?-1:1:At>Ct?vt==="asc"?1:-1:0}),bt},[nt,it,ot,ct,dt,ht,et,mt,vt]);return reactExports.useEffect(()=>{rt(yt)},[yt]),{filteredEmployees:tt,searchTerm:nt,setSearchTerm:at,filterDivision:it,setFilterDivision:st,filterStatus:ot,setFilterStatus:lt,filterJobPosition:ct,setFilterJobPosition:ut,filterWorkLocation:dt,setFilterWorkLocation:ft,filterProject:ht,setFilterProject:gt,sortKey:mt,sortOrder:vt,handleSort:bt=>{mt===bt?_t(vt==="asc"?"desc":"asc"):(xt(bt),_t("asc"))}}},useEmployeeImportExport=(et,tt,rt,nt,at)=>{const[it,st]=reactExports.useState(!1);return{loadingImport:it,handleImport:async ut=>{const dt=ut.target.files[0];if(dt){st(!0);const ft=new FileReader;ft.onload=async ht=>{try{const gt=new Uint8Array(ht.target.result),mt=readSync(gt,{type:"array",cellDates:!0}),xt=mt.SheetNames[0],vt=mt.Sheets[xt],_t=utils$7.sheet_to_json(vt,{raw:!1});if(_t.length===0){et({title:"File Kosong",description:"File Excel yang diimport tidak berisi data.",variant:"warning"}),st(!1),ut.target&&(ut.target.value=null);return}const yt={"STATUS KARYAWAN":"status",NIK:"nik",NAMA:"name",ALAMAT:"address","NO HP":"phone","JENIS KELAMIN":"gender","TGL LAHIR (DD/MM/YYYY)":"birthDate",PENDIDIKAN:"education","TGL MULAI KERJA (DD/MM/YYYY)":"joinDate","LOKASI KERJA":"workLocation",AREA:"area",JABATAN:"position",DIVISI:"division","STATUS AKTIF":"activeStatus","TGL KELUAR (DD/MM/YYYY)":"terminationDate",BPJS:"bpjsNumber","EMAIL (Opsional)":"email","PASSWORD (Opsional)":"password","DIRECT MANAGER (NAMA ATAU NIK)":"direct_manager_id","NPWP (Opsional)":"npwp","STATUS PTKP (Opsional)":"ptkp_status","JUMLAH TANGGUNGAN (Opsional)":"dependents_count"},St=["NIK","NAMA","JABATAN","DIVISI","STATUS KARYAWAN","TGL MULAI KERJA (DD/MM/YYYY)","TGL LAHIR (DD/MM/YYYY)","JENIS KELAMIN","ALAMAT"];let bt=[];for(const[Ct,kt]of _t.entries()){const Pt={};let Dt=[];for(const Ft of St)(!kt[Ft]||String(kt[Ft]).trim()==="")&&Dt.push(Ft);if(Dt.length>0){et({title:"Data Tidak Lengkap",description:`Baris ${Ct+2} kekurangan field wajib: ${Dt.join(", ")}. Import dibatalkan.`,variant:"destructive"}),st(!1),ut.target&&(ut.target.value=null);return}for(const Ft in yt){const Ot=yt[Ft],It=kt[Ft];if(It!=null&&String(It).trim()!=="")if(Ot==="birthDate"||Ot==="joinDate"||Ot==="terminationDate"){const Bt=parseExcelDate(It);if(Bt&&!isNaN(Bt))Pt[Ot]=format$1(Bt,"yyyy-MM-dd");else{et({title:"Format Tanggal Salah",description:`Format tanggal untuk '${Ft}' pada baris ${Ct+2} (${It}) tidak valid. Gunakan DD/MM/YYYY. Import dibatalkan.`,variant:"destructive"}),st(!1),ut.target&&(ut.target.value=null);return}}else if(Ot==="direct_manager_id"){const Bt=String(It).trim(),qt=nt.find(Ut=>Ut.name.toLowerCase()===Bt.toLowerCase()||Ut.nik===Bt);qt?Pt[Ot]=qt.id:(et({title:"Manager Tidak Ditemukan",description:`Direct Manager '${Bt}' pada baris ${Ct+2} tidak ditemukan di sistem. Kolom ini akan dikosongkan.`,variant:"warning"}),Pt[Ot]=null)}else if(Ot==="dependents_count"){const Bt=parseInt(It,10);Pt[Ot]=isNaN(Bt)?null:Bt}else Pt[Ot]=String(It).trim();else["email","password","terminationDate","education","phone","bpjsNumber","area","direct_manager_id","npwp","ptkp_status","dependents_count"].includes(Ot)&&(Pt[Ot]=null)}Pt.password||(Pt.password="karyawan123"),bt.push(Pt)}let Et=0,Tt=0,At=[];for(const Ct of bt)try{const kt=nt.find(Dt=>Dt.nik===Ct.nik),Pt=Ct.email?nt.find(Dt=>Dt.email&&Dt.email.toLowerCase()===Ct.email.toLowerCase()):null;if(kt){At.push(`Karyawan ${Ct.name} (NIK: ${Ct.nik}) sudah ada.`),Tt++;continue}if(Pt){At.push(`Karyawan ${Ct.name} (Email: ${Ct.email}) sudah ada.`),Tt++;continue}await rt(Ct),Et++}catch(kt){At.push(`Gagal import ${Ct.name}: ${kt.message}`),Tt++}Et>0&&et({title:"Import Selesai",description:`${Et} karyawan berhasil diimport.`}),Tt>0&&et({title:"Beberapa Import Gagal",description:`${Tt} karyawan gagal diimport. ${At.slice(0,2).join("; ")}`,variant:"warning",duration:7e3}),Et===0&&Tt===0&&_t.length>0&&et({title:"Tidak Ada Karyawan Baru",description:"Semua karyawan dalam file sudah ada di sistem atau tidak ada data baru untuk diimport.",variant:"info"}),tt()}catch(gt){et({title:"Error Import",description:"Terjadi kesalahan saat mengimport data: "+gt.message,variant:"destructive"})}finally{st(!1),ut.target&&(ut.target.value=null)}},ft.readAsArrayBuffer(dt)}},handleExport:()=>{if(at.length===0){et({title:"Tidak ada data",description:"Tidak ada data karyawan untuk diexport.",variant:"destructive"});return}const ut=createExportData(at),dt=utils$7.json_to_sheet(ut),ft=utils$7.book_new();utils$7.book_append_sheet(ft,dt,"Karyawan"),writeFileSync(ft,"DataKaryawan_Export.xlsx"),et({title:"Berhasil!",description:"Data karyawan diexport ke Excel."})},generateExcelTemplate:()=>{const ut=generateExcelTemplateData();writeFileSync(ut,"TemplateImportKaryawan.xlsx"),et({title:"Template Dibuat!",description:"Template Excel berhasil diunduh."})}}},useEmployeeManagement=(et,tt)=>{const{user:rt}=useAuth(),[nt,at]=reactExports.useState([]),[it,st]=reactExports.useState(!0),[ot,lt]=reactExports.useState(!1),[ct,ut]=reactExports.useState(null),[dt,ft]=reactExports.useState(et),{searchTerm:ht,setSearchTerm:gt,filterDivision:mt,setFilterDivision:xt,filterStatus:vt,setFilterStatus:_t,filterJobPosition:yt,setFilterJobPosition:St,filterWorkLocation:bt,setFilterWorkLocation:Et,filterActiveStatus:Tt,setFilterActiveStatus:At,filterProject:Ct,setFilterProject:kt,filteredEmployees:Pt,sortKey:Dt,sortOrder:Ft,handleSort:Ot}=useEmployeeFilters(nt),It=reactExports.useCallback(async(jt=Dt,Nt=Ft==="asc")=>{st(!0);try{const Mt=await getEmployees(jt,Nt);at(Mt)}catch(Mt){tt({title:"Error",description:"Gagal memuat data karyawan: "+Mt.message,variant:"destructive"})}finally{st(!1)}},[tt,Dt,Ft]),{handleExport:Bt,handleImport:qt,generateExcelTemplate:Ut}=useEmployeeImportExport(tt,It,addEmployee,nt,Pt);reactExports.useEffect(()=>{It()},[It]);const Ht=jt=>{Ot(jt),It(jt,Dt===jt&&Ft==="asc"?"desc":"asc")},Qt=()=>{ft(et),ut(null)};return{employees:nt,filteredEmployees:Pt,loading:it,searchTerm:ht,setSearchTerm:gt,filterDivision:mt,setFilterDivision:xt,filterStatus:vt,setFilterStatus:_t,filterJobPosition:yt,setFilterJobPosition:St,filterWorkLocation:bt,setFilterWorkLocation:Et,filterActiveStatus:Tt,setFilterActiveStatus:At,filterProject:Ct,setFilterProject:kt,isFormDialogOpen:ot,setIsFormDialogOpen:lt,editingEmployee:ct,formData:dt,setFormData:ft,loadAndSetEmployees:It,handleFormSubmit:async jt=>{try{ct?(await updateEmployee({...ct,...jt},rt,ct),tt({title:"Berhasil!",description:"Data karyawan berhasil diperbarui."})):(await addEmployee(jt,rt),tt({title:"Berhasil!",description:"Karyawan baru berhasil ditambahkan."})),lt(!1),It(),Qt()}catch(Nt){tt({title:"Error",description:`Gagal menyimpan data: ${Nt.message}`,variant:"destructive"})}},handleEdit:jt=>{ut(jt);const Nt={...jt,birthDate:jt.birthDate?format$1(new Date(jt.birthDate),"yyyy-MM-dd"):"",joinDate:jt.joinDate?format$1(new Date(jt.joinDate),"yyyy-MM-dd"):"",terminationDate:jt.terminationDate?format$1(new Date(jt.terminationDate),"yyyy-MM-dd"):null};ft(Nt),lt(!0)},handleDelete:async jt=>{const Nt=nt.find(Mt=>Mt.id===jt);if(Nt&&window.confirm(`Apakah Anda yakin ingin menghapus data karyawan ${Nt.name}?`))try{await deleteEmployee(jt,rt,Nt.name),tt({title:"Berhasil!",description:"Data karyawan berhasil dihapus"}),It()}catch(Mt){tt({title:"Error",description:`Gagal menghapus data: ${Mt.message}`,variant:"destructive"})}},handleExport:Bt,handleImport:qt,generateExcelTemplate:Ut,resetForm:Qt,sortKey:Dt,sortOrder:Ft,handleSort:Ht}},columnConfig=[{key:"age",label:"Usia"},{key:"position",label:"Jabatan"},{key:"division",label:"Divisi"},{key:"workDurationYears",label:"Masa Kerja"},{key:"status",label:"Status Karyawan"},{key:"activeStatus",label:"Status Aktif"},{key:"contact",label:"Kontak"}],ColumnSelector=({visibleColumns:et,setVisibleColumns:tt})=>{const rt=(nt,at)=>{tt(it=>({...it,[nt]:at}))};return jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"space-x-2",children:[jsxRuntimeExports.jsx(Columns,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"Tampilan Kolom"})]})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",children:[jsxRuntimeExports.jsx(DropdownMenuLabel,{children:"Pilih Kolom"}),jsxRuntimeExports.jsx(DropdownMenuSeparator,{}),columnConfig.map(nt=>jsxRuntimeExports.jsx(DropdownMenuCheckboxItem,{checked:et[nt.key],onCheckedChange:at=>rt(nt.key,at),children:nt.label},nt.key))]})]})},EmployeeManagementHeader=({onImportClick:et,onExportClick:tt,onAddEmployeeClick:rt,onDownloadTemplateClick:nt,visibleColumns:at,setVisibleColumns:it,onGoToSettings:st})=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Manajemen Karyawan"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Kelola data karyawan dengan mudah dan efisien"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:st,children:[jsxRuntimeExports.jsx(Settings,{className:"mr-2 h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"Pengaturan"})]}),jsxRuntimeExports.jsx(ColumnSelector,{visibleColumns:at,setVisibleColumns:it}),jsxRuntimeExports.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:et,className:"hidden",id:"import-file"}),jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 space-x-2",children:[jsxRuntimeExports.jsx("span",{children:"Kelola Karyawan"}),jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})]})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",children:[jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:rt,children:[jsxRuntimeExports.jsx(Plus,{className:"mr-2 h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"Tambah Karyawan"})]}),jsxRuntimeExports.jsx(DropdownMenuSeparator,{}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>document.getElementById("import-file").click(),children:[jsxRuntimeExports.jsx(Upload,{className:"mr-2 h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"Import dari Excel"})]}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:tt,children:[jsxRuntimeExports.jsx(Download,{className:"mr-2 h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"Export ke Excel"})]}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:nt,children:[jsxRuntimeExports.jsx(FileText,{className:"mr-2 h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"Download Template"})]})]})]})]})]}),EmployeeFilterControls=({searchTerm:et,setSearchTerm:tt,filterDivision:rt,setFilterDivision:nt,filterStatus:at,setFilterStatus:it,filterJobPosition:st,setFilterJobPosition:ot,filterWorkLocation:lt,setFilterWorkLocation:ct,filterActiveStatus:ut,setFilterActiveStatus:dt,filterProject:ft,setFilterProject:ht,divisions:gt,jobPositions:mt,projects:xt})=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-lg",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Filter,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:"Filter & Pencarian"})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 items-end",children:[jsxRuntimeExports.jsxs("div",{className:"relative md:col-span-2 lg:col-span-3 xl:col-span-1",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"search-employee",children:"Pencarian Umum"}),jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-9 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{id:"search-employee",placeholder:"Nama, NIK, email, proyek...",value:et,onChange:vt=>tt(vt.target.value),className:"pl-10"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"filter-division",children:"Divisi"}),jsxRuntimeExports.jsx(EmployeeFormDialog.FilterSelect,{value:rt,onValueChange:nt,placeholder:"Semua Divisi",options:gt,allValue:"all"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"filter-job",children:"Jabatan"}),jsxRuntimeExports.jsx(EmployeeFormDialog.FilterSelect,{value:st,onValueChange:ot,placeholder:"Semua Jabatan",options:mt,allValue:"all"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"filter-location",children:"Lokasi Kerja"}),jsxRuntimeExports.jsx(EmployeeFormDialog.FilterSelect,{value:lt,onValueChange:ct,placeholder:"Semua Lokasi",options:workLocations,allValue:"all"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"filter-status",children:"Status Karyawan"}),jsxRuntimeExports.jsx(EmployeeFormDialog.FilterSelect,{value:at,onValueChange:it,placeholder:"Semua Status",options:statuses,allValue:"all"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"filter-active-status",children:"Status Aktif"}),jsxRuntimeExports.jsx(EmployeeFormDialog.FilterSelect,{value:ut,onValueChange:dt,placeholder:"Semua Status Aktif",options:activeStatuses,allValue:"all"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"filter-project",children:"Proyek"}),jsxRuntimeExports.jsx(EmployeeFormDialog.FilterSelect,{value:ft,onValueChange:ht,placeholder:"Semua Proyek",options:xt,allValue:"all"})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>{tt(""),nt("all"),it("all"),ot("all"),ct("all"),dt("all"),ht("all")},className:"self-end",children:"Reset Filter"})]})})]})}),EmployeeManagement=()=>{const et=useNavigate(),{employees:tt,filteredEmployees:rt,searchTerm:nt,setSearchTerm:at,filterDivision:it,setFilterDivision:st,filterStatus:ot,setFilterStatus:lt,filterJobPosition:ct,setFilterJobPosition:ut,filterWorkLocation:dt,setFilterWorkLocation:ft,filterActiveStatus:ht,setFilterActiveStatus:gt,filterProject:mt,setFilterProject:xt,isFormDialogOpen:vt,setIsFormDialogOpen:_t,editingEmployee:yt,formData:St,loading:bt,loadAndSetEmployees:Et,handleFormSubmit:Tt,handleEdit:At,handleDelete:Ct,handleExport:kt,handleImport:Pt,generateExcelTemplate:Dt,resetForm:Ft,sortKey:Ot,sortOrder:It,handleSort:Bt}=useEmployeeManagement(initialFormData,toast),[qt,Ut]=reactExports.useState([]),[Ht,Qt]=reactExports.useState([]),[ir,Xt]=reactExports.useState([]),[Lt,jt]=reactExports.useState(1),Nt=10,Mt=React$1.useMemo(()=>{const er=(Lt-1)*Nt;return rt.slice(er,er+Nt)},[rt,Lt]);reactExports.useEffect(()=>{jt(1)},[nt,it,ot,ct,dt,ht,mt]),reactExports.useEffect(()=>{(async()=>{try{const{data:ar,error:Kt}=await supabase.from("divisions").select("name").order("name");if(Kt)throw Kt;Ut(ar.map(hr=>hr.name));const{data:pr,error:fr}=await supabase.from("job_positions").select("name").order("name");if(fr)throw fr;Qt(pr.map(hr=>hr.name));const{data:vr,error:wr}=await supabase.from("employees").select("project").not("project","is",null);if(wr)throw wr;Xt([...new Set(vr.map(hr=>hr.project).filter(Boolean))])}catch(ar){toast({title:"Error",description:"Gagal memuat data divisi/jabatan/proyek: "+ar.message,variant:"destructive"})}})()},[tt]);const[Vt,Gt]=React$1.useState(()=>{try{const er=localStorage.getItem("visibleEmployeeColumns");return er?JSON.parse(er):{age:!0,position:!0,division:!0,workDurationYears:!0,status:!0,activeStatus:!0,contact:!0}}catch(er){return console.error("Failed to parse visible columns from localStorage",er),{age:!0,position:!0,division:!0,workDurationYears:!0,status:!0,activeStatus:!0,contact:!0}}});React$1.useEffect(()=>{try{localStorage.setItem("visibleEmployeeColumns",JSON.stringify(Vt))}catch(er){console.error("Failed to save visible columns to localStorage",er)}},[Vt]);const Zt=()=>{Ft(),_t(!0)};return jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsx(EmployeeManagementHeader,{onImportClick:Pt,onExportClick:kt,onAddEmployeeClick:Zt,onDownloadTemplateClick:Dt,visibleColumns:Vt,setVisibleColumns:Gt,onGoToSettings:()=>et("/admin/settings")}),jsxRuntimeExports.jsx(EmployeeFilterControls,{searchTerm:nt,setSearchTerm:at,filterDivision:it,setFilterDivision:st,filterStatus:ot,setFilterStatus:lt,filterJobPosition:ct,setFilterJobPosition:ut,filterWorkLocation:dt,setFilterWorkLocation:ft,filterActiveStatus:ht,setFilterActiveStatus:gt,filterProject:mt,setFilterProject:xt,divisions:qt,jobPositions:Ht,projects:ir}),bt?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary"})}):jsxRuntimeExports.jsx(EmployeeTable,{employees:Mt,filteredCount:rt.length,currentPage:Lt,setCurrentPage:jt,pageSize:Nt,totalEmployees:tt.length,onEdit:At,onDelete:Ct,onView:er=>et(`/admin/employees/${er}`),onAddEmployeeClick:Zt,onSort:Bt,sortKey:Ot,sortOrder:It,visibleColumns:Vt}),jsxRuntimeExports.jsx(EmployeeFormDialog,{isOpen:vt,onOpenChange:_t,onSubmit:Tt,initialData:St,editingEmployee:yt,divisions:qt,statuses,genders,jobPositions:Ht})]})})},getStatusColor=et=>{switch(et){case"Tetap":return"bg-green-500";case"Kontrak":return"bg-blue-500";case"Magang":return"bg-orange-500";default:return"bg-gray-500"}},getActiveStatusColor=et=>{switch(et){case"Aktif":return"bg-green-500";case"Cuti":return"bg-yellow-500";case"Resign":return"bg-red-500";default:return"bg-gray-500"}},EmployeeProfileCard=({employee:et})=>et?jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-xl",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"text-center space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsxs(Avatar,{className:"w-32 h-32 border-4 border-white shadow-lg",children:[jsxRuntimeExports.jsx(AvatarImage,{src:et.photo}),jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white text-4xl",children:et.name?et.name.charAt(0):"N"})]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl",children:et.name}),jsxRuntimeExports.jsx(CardDescription,{className:"text-lg mt-1",children:et.position}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center mt-3 space-x-2",children:[jsxRuntimeExports.jsx(Badge,{className:`${getStatusColor(et.status)} text-white text-sm px-3 py-1`,children:et.status}),jsxRuntimeExports.jsx(Badge,{className:`${getActiveStatusColor(et.activeStatus)} text-white text-sm px-3 py-1`,children:et.activeStatus})]})]})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center p-4 rounded-lg bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Divisi"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:et.division})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-4 rounded-lg bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Jenis Kelamin"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:et.gender})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-4 rounded-lg bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Lokasi Kerja"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:et.workLocation||"N/A"})]})]})})]}):null,EmployeeInfoGrid=({employee:et,ageDetails:tt,workDurationDetails:rt})=>{const nt=[{icon:User,label:"NIK/Nomor Pegawai",value:et.nik},{icon:Award,label:"Jabatan",value:et.position},{icon:Briefcase,label:"Divisi",value:et.division},{icon:CalendarDays,label:"Tanggal Masuk",value:et.joinDate?new Date(et.joinDate).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"N/A"},...et.terminationDate?[{icon:LogOut,label:"Tanggal Keluar",value:new Date(et.terminationDate).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})}]:[],{icon:Clock,label:"Masa Kerja",value:rt.duration},{icon:Clock,label:"Kategori Masa Kerja",value:rt.category},{icon:CalendarDays,label:"Tanggal Lahir",value:et.birthDate?new Date(et.birthDate).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"N/A"},{icon:User,label:"Usia",value:tt.age},{icon:User,label:"Kategori Usia",value:tt.category},{icon:Mail,label:"Email",value:et.email},{icon:Phone,label:"Nomor Telepon",value:et.phone},{icon:BookOpen,label:"Pendidikan",value:et.education||"N/A"},{icon:Map$5,label:"Area Project",value:et.area||"N/A"},{icon:Building,label:"Lokasi Kerja",value:et.workLocation||"N/A"},{icon:ShieldCheck,label:"Nomor BPJS",value:et.bpjsNumber||"N/A"},{icon:FileText,label:"NPWP",value:et.npwp||"N/A"},{icon:FileText,label:"Status PTKP",value:et.ptkp_status||"N/A"},{icon:Users,label:"Jumlah Tanggungan",value:et.dependents_count!==null&&et.dependents_count!==void 0?et.dependents_count:"N/A"},{icon:MapPin,label:"Alamat (KTP)",value:et.address,fullWidth:!0}];return jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:nt.map((at,it)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3+it*.05},className:`flex items-start space-x-4 p-4 rounded-lg hover:bg-white/50 dark:hover:bg-white/5 transition-colors border border-white/20 dark:border-white/10 ${at.fullWidth?"md:col-span-2":""}`,children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-gradient-to-r from-blue-500 to-purple-600 flex-shrink-0",children:jsxRuntimeExports.jsx(at.icon,{className:"h-5 w-5 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:at.label}),jsxRuntimeExports.jsx("p",{className:"text-base font-semibold break-words",children:at.value||"N/A"})]})]},at.label))})},EmployeeDetail=()=>{const{id:et}=useParams(),tt=useNavigate(),{user:rt}=useAuth(),[nt,at]=reactExports.useState(null),[it,st]=reactExports.useState([]),[ot,lt]=reactExports.useState(!0),[ct,ut]=reactExports.useState(!1),[dt,ft]=reactExports.useState([]),[ht,gt]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{if(et){lt(!0);try{const[At,{data:Ct,error:kt}]=await Promise.all([getEmployeeById(et),supabase.from("employee_contracts").select("*").eq("employee_id",et).order("start_date",{ascending:!1})]);if(kt)throw kt;at(At),st(Ct||[])}catch(At){toast({title:"Error",description:"Gagal memuat data karyawan atau kontrak: "+At.message,variant:"destructive"}),tt("/admin/employees")}finally{lt(!1)}}})()},[et,tt]),reactExports.useEffect(()=>{(async()=>{try{const{data:At,error:Ct}=await supabase.from("divisions").select("name").order("name");if(Ct)throw Ct;ft(At.map(Dt=>Dt.name));const{data:kt,error:Pt}=await supabase.from("job_positions").select("name").order("name");if(Pt)throw Pt;gt(kt.map(Dt=>Dt.name))}catch(At){toast({title:"Error",description:"Gagal memuat data konfigurasi: "+At.message,variant:"destructive"})}})()},[]);const mt=async()=>{if(window.confirm("Apakah Anda yakin ingin menghapus data karyawan ini? Ini akan menghapus semua data terkait, termasuk kontrak."))try{await deleteEmployee(et,rt,nt==null?void 0:nt.name),toast({title:"Berhasil!",description:"Data karyawan berhasil dihapus"}),tt("/admin/employees")}catch(Tt){toast({title:"Error",description:`Gagal menghapus data: ${Tt.message}`,variant:"destructive"})}},xt=()=>{ut(!0)},vt=async Tt=>{try{const At=await getEmployeeById(et);await updateEmployee({...At,...Tt,id:et},rt,At),toast({title:"Berhasil!",description:"Data karyawan berhasil diperbarui."}),ut(!1),lt(!0);const Ct=await getEmployeeById(et);at(Ct),lt(!1)}catch(At){toast({title:"Error",description:`Gagal menyimpan data: ${At.message}`,variant:"destructive"})}},_t=Tt=>{if(!Tt)return{age:"N/A",category:"N/A"};const At=new Date(Tt),Ct=new Date;let kt=Ct.getFullYear()-At.getFullYear();const Pt=Ct.getMonth()-At.getMonth();(Pt<0||Pt===0&&Ct.getDate()<At.getDate())&&kt--;let Dt="N/A";return kt<30?Dt="< 30 Tahun":kt<=50?Dt="31-50 Tahun":Dt="> 50 Tahun",{age:`${kt} tahun`,category:Dt}},yt=Tt=>{if(!Tt)return{duration:"N/A",category:"N/A",years:0,months:0,days:0};const At=new Date(Tt),Ct=new Date;let kt=Ct.getFullYear()-At.getFullYear(),Pt=Ct.getMonth()-At.getMonth(),Dt=Ct.getDate()-At.getDate();if(Dt<0){Pt--;const Bt=new Date(Ct.getFullYear(),Ct.getMonth(),0);Dt+=Bt.getDate()}Pt<0&&(kt--,Pt+=12);const Ft=[];kt>0&&Ft.push(`${kt} tahun`),Pt>0&&Ft.push(`${Pt} bulan`),Dt>0&&Ft.push(`${Dt} hari`);const Ot=Ft.length>0?Ft.join(" "):"Kurang dari sehari";let It="N/A";return kt<1?It="< 1 Tahun":kt<=3?It="1-3 Tahun":kt<=5?It="4-5 Tahun":It="> 5 Tahun",{duration:Ot,category:It,years:kt,months:Pt,days:Dt}};if(ot)return jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-screen",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-primary"})})});if(!nt)return jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsxs("div",{className:"text-center py-10",children:[jsxRuntimeExports.jsx("p",{className:"text-xl text-muted-foreground",children:"Karyawan tidak ditemukan."}),jsxRuntimeExports.jsxs(Button,{onClick:()=>tt("/admin/employees"),className:"mt-4",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"mr-2 h-4 w-4"})," Kembali ke Daftar"]})]})});const St=_t(nt.birthDate),bt=yt(nt.joinDate),Et=it.find(Tt=>!Tt.end_date||isAfter(new Date(Tt.end_date),new Date));return jsxRuntimeExports.jsxs(Layout,{children:[jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[jsxRuntimeExports.jsxs(Button,{onClick:()=>tt("/admin/employees"),variant:"outline",className:"mb-4",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"mr-2 h-4 w-4"})," Kembali ke Daftar Karyawan"]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Detail Karyawan"}),jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground",children:["Profil lengkap untuk ",nt.name,"."]})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsxs(Button,{onClick:xt,className:"bg-blue-600 hover:bg-blue-700",children:[jsxRuntimeExports.jsx(PenSquare,{className:"mr-2 h-4 w-4"})," Edit"]}),jsxRuntimeExports.jsxs(Button,{onClick:mt,variant:"destructive",children:[jsxRuntimeExports.jsx(Trash2,{className:"mr-2 h-4 w-4"})," Hapus"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs(motion.div,{className:"lg:col-span-1 space-y-8",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:[jsxRuntimeExports.jsx(EmployeeProfileCard,{employee:nt}),jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-xl",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center",children:[jsxRuntimeExports.jsx(FileText,{className:"mr-2 h-5 w-5"})," Status Kontrak"]})}),jsxRuntimeExports.jsxs(CardContent,{children:[Et?jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Jenis:"})," ",Et.contract_type]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Mulai:"})," ",format$1(new Date(Et.start_date),"dd MMMM yyyy")]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Berakhir:"})," ",Et.end_date?format$1(new Date(Et.end_date),"dd MMMM yyyy"):"Tidak Ditentukan"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"No. Kontrak:"})," ",Et.contract_number||"-"]})]}):jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Tidak ada kontrak aktif."}),jsxRuntimeExports.jsx(Button,{variant:"link",className:"p-0 h-auto mt-2",onClick:()=>tt("/admin/contract-management"),children:"Lihat Semua Riwayat Kontrak"})]})]})]}),jsxRuntimeExports.jsx(motion.div,{className:"lg:col-span-2",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-xl",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Informasi Rinci"}),jsxRuntimeExports.jsx(CardDescription,{children:"Data personal dan pekerjaan karyawan."})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(EmployeeInfoGrid,{employee:nt,ageDetails:St,workDurationDetails:bt})})]})})]})]}),jsxRuntimeExports.jsx(EmployeeFormDialog,{isOpen:ct,onOpenChange:ut,onSubmit:vt,initialData:nt,editingEmployee:nt,divisions:dt,statuses,genders,jobPositions:ht})]})},ProtectedRoute=({children:et,requiredRoles:tt=[]})=>{const{user:rt,loading:nt}=useAuth();return nt?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary"})}):rt?tt.length>0&&!tt.includes(rt.role)?jsxRuntimeExports.jsx(Navigate,{to:"/403",replace:!0}):et:jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})},AnnouncementFormDialog=({isOpen:et,onOpenChange:tt,currentAnnouncement:rt,onSubmit:nt,isAudienceFeatureEnabled:at})=>{const[it,st]=reactExports.useState({title:"",content:"",audience:"all"}),[ot,lt]=reactExports.useState(null);reactExports.useEffect(()=>{lt(null),et&&st(rt?{title:rt.title,content:rt.content,audience:rt.audience||"all"}:{title:"",content:"",audience:"all"})},[et,rt]);const ct=ft=>{const{id:ht,value:gt}=ft.target;st(mt=>({...mt,[ht]:gt}))},ut=ft=>{st(ht=>({...ht,audience:ft}))},dt=ft=>{ft.preventDefault(),nt(it,ot)};return jsxRuntimeExports.jsx(Dialog,{open:et,onOpenChange:tt,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl glass-effect max-h-[700px] overflow-y-auto",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{className:"text-2xl",children:rt?"Edit Pengumuman":"Buat Pengumuman Baru"}),jsxRuntimeExports.jsx(DialogDescription,{children:rt?"Perbarui detail pengumuman Anda.":"Bagikan informasi penting dengan tim."})]}),jsxRuntimeExports.jsxs("form",{onSubmit:dt,className:"space-y-6 pt-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"title",className:"text-base",children:"Judul"}),jsxRuntimeExports.jsx(Input,{id:"title",value:it.title,onChange:ct,required:!0,className:"mt-1 text-base p-3"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"content",className:"text-base",children:"Isi Pengumuman"}),jsxRuntimeExports.jsx(Textarea,{id:"content",value:it.content,onChange:ct,required:!0,rows:6,className:"mt-1 min-h-[100px] text-base p-3"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{className:"text-base text-foreground",children:"Lampiran (PDF)"}),jsxRuntimeExports.jsx(Input,{type:"file",accept:"application/pdf",onChange:ft=>{var ht;return lt(((ht=ft.target.files)==null?void 0:ht[0])||null)},className:`
      file:text-sm
      file:font-medium
      file:border-0
      file:bg-muted
      file:text-foreground
      hover:file:bg-muted/80
      dark:file:bg-muted
      dark:file:text-foreground
      dark:hover:file:bg-muted/80
    `}),(rt==null?void 0:rt.attachment_url)&&jsxRuntimeExports.jsx("a",{href:rt.attachment_url,target:"_blank",rel:"noopener noreferrer",className:`
        inline-flex items-center gap-1 text-sm
        text-blue-600 dark:text-blue-400
        hover:underline
      `,children:"Lihat PDF saat ini"})]}),at&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"audience",className:"text-base",children:"Target Audiens"}),jsxRuntimeExports.jsxs(Select,{value:it.audience,onValueChange:ut,children:[jsxRuntimeExports.jsx(SelectTrigger,{id:"audience",className:"mt-1 text-base p-3",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Pilih target audiens"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"Seluruh Tim"}),jsxRuntimeExports.jsx(SelectItem,{value:"admin",children:"Hanya Admin"})]})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{className:"pt-4",children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>tt(!1),className:"px-6 py-3 text-base",children:"Batal"}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-6 py-3 text-base",children:rt?"Simpan Perubahan":"Posting"})]})]})]})})};pdfjs$1.GlobalWorkerOptions.workerSrc=new URL("/assets/pdf.worker.min-feabdf30.js",self.location).toString();const AnnouncementCard=({announcement:et,index:tt,user:rt,isAudienceFeatureEnabled:nt,onEdit:at,onDelete:it,onLikeToggle:st})=>{var ft,ht,gt;const ot=()=>{toast({title:" Fitur Belum Tersedia ",description:"Fitur ini belum Tersdia. ",variant:"default"})},lt=React$1.useMemo(()=>et!=null&&et.attachment_url?supabase.storage.from("attachment.announcement").getPublicUrl(et.attachment_url).data.publicUrl:null,[et==null?void 0:et.attachment_url]),[ct,ut]=React$1.useState(null),dt=({numPages:mt})=>{ut(mt)};return jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:tt*.05},children:jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Avatar,{children:[jsxRuntimeExports.jsx(AvatarImage,{src:rt==null?void 0:rt.photo}),jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:(et.author_name||"A").charAt(0)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:et.author_name||"Admin HRIS"}),jsxRuntimeExports.jsxs(CardDescription,{className:"text-xs flex items-center",children:[jsxRuntimeExports.jsx(CalendarDays,{className:"h-3 w-3 mr-1"}),new Date(et.created_at).toLocaleString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),et.updated_at&&new Date(et.updated_at).getTime()!==new Date(et.created_at).getTime()&&" (Diperbarui)"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mt-3",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:et.title}),nt&&(et.audience==="admin"?jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:"Khusus Admin"}):jsxRuntimeExports.jsx(Badge,{variant:"outline",children:"Untuk Semua"}))]})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("p",{className:"text-sm whitespace-pre-line leading-relaxed",children:et.content})}),lt&&jsxRuntimeExports.jsx("div",{className:"px-6 pb-4",children:jsxRuntimeExports.jsx("div",{className:"max-h-[350px] overflow-y-auto rounded-md border",children:jsxRuntimeExports.jsx(Document$1,{file:lt,onLoadSuccess:dt,loading:"Memuat PDF...",error:"Gagal memuat PDF",children:Array.from(new Array(ct),(mt,xt)=>jsxRuntimeExports.jsx(Page$1,{pageNumber:xt+1,width:600,className:"mb-4"},`page_${xt+1}`))})})}),jsxRuntimeExports.jsxs(CardFooter,{className:"flex justify-between items-center pt-4 border-t",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-4 text-muted-foreground",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:`flex items-center space-x-2 transition-colors ${(ft=et.liked_by)!=null&&ft.includes(rt.id)?"text-blue-600":"hover:text-blue-500"}`,onClick:()=>st(et.id),children:[jsxRuntimeExports.jsx(ThumbsUp,{className:`h-4 w-4 ${(ht=et.liked_by)!=null&&ht.includes(rt.id)?"fill-current":""}`}),jsxRuntimeExports.jsxs("span",{children:[((gt=et.liked_by)==null?void 0:gt.length)||0," Suka"]})]}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"flex items-center space-x-1 hover:text-green-500",onClick:ot,children:[jsxRuntimeExports.jsx(MessageSquare,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"Komentar"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>at(et),className:"hover:border-blue-500 hover:text-blue-500",children:[jsxRuntimeExports.jsx(PenSquare,{className:"h-4 w-4 mr-1"})," Edit"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>it(et),className:"text-red-500 hover:border-red-600 hover:text-red-600",children:[jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4 mr-1"})," Hapus"]})]})]})]})},et.id)},AnnouncementCreator=({onOpenAddForm:et})=>{var rt;const{user:tt}=useAuth();return jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-lg",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Avatar,{children:[jsxRuntimeExports.jsx(AvatarImage,{src:tt==null?void 0:tt.photo}),jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:((rt=tt==null?void 0:tt.name)==null?void 0:rt.charAt(0))||"A"})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",className:"flex-grow justify-start text-muted-foreground",onClick:et,children:"Buat pengumuman baru..."})]})}),jsxRuntimeExports.jsx(CardFooter,{className:"flex justify-end pt-2",children:jsxRuntimeExports.jsxs(Button,{onClick:et,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 space-x-2",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"Posting"})]})})]})})},slugify=et=>et.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"),buildAnnouncementPath=et=>{const rt=new Date().toISOString().slice(0,10).replace(/-/g,"");return`announcements/${slugify(et)}-${rt}.pdf`},AdminAnnouncements=()=>{const{user:et}=useAuth(),[tt,rt]=reactExports.useState([]),[nt,at]=reactExports.useState(!0),[it,st]=reactExports.useState(!1),[ot,lt]=reactExports.useState(null),[ct,ut]=reactExports.useState({title:"",content:"",audience:"all"}),[dt,ft]=reactExports.useState(""),[ht,gt]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{try{const{error:Et}=await supabase.from("announcements").select("audience").limit(1);gt(!Et)}catch{gt(!1)}})()},[]);const mt=reactExports.useCallback(async()=>{if(ht===null)return;at(!0);const bt=ht?"*":"id, title, content, created_at, updated_at, author_name, attachment_url, author_role, liked_by";try{let Et=supabase.from("announcements").select(bt).order("created_at",{ascending:!1});dt&&(Et=Et.or(`title.ilike.%${dt}%,content.ilike.%${dt}%`));const{data:Tt,error:At}=await Et;if(At)throw At;rt(Tt)}catch(Et){toast({title:"Error",description:"Gagal memuat pengumuman: "+Et.message,variant:"destructive"})}finally{at(!1)}},[dt,ht]);reactExports.useEffect(()=>{mt()},[mt]);const xt=async(bt,Et)=>{if(!bt.title||!bt.content){toast({title:"Input Tidak Lengkap",description:"Judul dan isi pengumuman tidak boleh kosong.",variant:"destructive"});return}try{let Tt=(ot==null?void 0:ot.attachment_url)||null;if(Et){if(Et.type!=="application/pdf"){toast({title:"File tidak valid",description:"Hanya file PDF yang diperbolehkan",variant:"destructive"});return}ot!=null&&ot.attachment_url&&await supabase.storage.from("attachment.announcement").remove([ot.attachment_url]),Tt=buildAnnouncementPath(bt.title);const{error:Pt}=await supabase.storage.from("attachment.announcement").upload(Tt,Et,{contentType:"application/pdf",upsert:!0});if(Pt)throw Pt}const At={title:bt.title,content:bt.content,audience:bt.audience,attachment_url:Tt,updated_at:new Date().toISOString()};let Ct,kt;if(ot){kt="UPDATE";const{data:Pt,error:Dt}=await supabase.from("announcements").update(At).eq("id",ot.id).select().single();if(Dt)throw Dt;Ct=Pt}else{kt="CREATE";const{data:Pt,error:Dt}=await supabase.from("announcements").insert([{...At,author_name:(et==null?void 0:et.name)||"Admin Famika",author_role:(et==null?void 0:et.role)||"Administrator"}]).select().single();if(Dt)throw Dt;Ct=Pt}await addLog({userId:et.id,userName:et.name||et.email,userRole:et.role,action:kt,targetType:"ANNOUNCEMENT",targetId:Ct.id,targetName:Ct.title}),toast({title:"Berhasil"}),st(!1),lt(null),mt()}catch(Tt){toast({title:"Error",description:Tt.message,variant:"destructive"})}},vt=bt=>{lt(bt),ut({title:bt.title,content:bt.content,audience:bt.audience||"all"}),st(!0)},_t=async bt=>{if(window.confirm("Apakah Anda yakin ingin menghapus pengumuman ini?"))try{bt.attachment_url&&await supabase.storage.from("attachment.announcement").remove([bt.attachment_url]);const{error:Et}=await supabase.from("announcements").delete().eq("id",bt.id);if(Et)throw Et;await addLog({userId:et.id,userName:et.name||et.email,userRole:et.role,action:"DELETE",targetType:"ANNOUNCEMENT",targetId:bt.id,targetName:bt.title}),toast({title:"Berhasil!",description:"Pengumuman berhasil dihapus."}),mt()}catch(Et){toast({title:"Error",description:"Gagal menghapus pengumuman: "+Et.message,variant:"destructive"})}},yt=()=>{lt(null),ut({title:"",content:"",audience:"all"}),st(!0)},St=async bt=>{if(!et||!et.id){toast({title:"Aksi Gagal",description:"Anda harus login untuk menyukai pengumuman.",variant:"destructive"});return}const Et=[...tt],Tt=tt.find(Pt=>Pt.id===bt);if(!Tt)return;const At=Array.isArray(Tt.liked_by)?[...Tt.liked_by]:[],kt=At.includes(et.id)?At.filter(Pt=>Pt!==et.id):[...At,et.id];rt(Pt=>Pt.map(Dt=>Dt.id===bt?{...Dt,liked_by:kt}:Dt));try{const{error:Pt}=await supabase.from("announcements").update({liked_by:kt}).eq("id",bt);Pt&&(rt(Et),toast({title:"Error",description:"Gagal memperbarui suka. Pastikan kolom 'liked_by' (tipe jsonb) ada di tabel announcements.",variant:"destructive"}),console.error("Like error:",Pt))}catch{rt(Et),toast({title:"Error",description:"Terjadi kesalahan.",variant:"destructive"})}};return jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Feed Pengumuman"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Bagikan informasi penting dengan seluruh tim."})]})}),jsxRuntimeExports.jsx(AnnouncementCreator,{onOpenAddForm:yt}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"relative",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Cari pengumuman...",value:dt,onChange:bt=>ft(bt.target.value),className:"pl-10 py-2 glass-effect border-0 shadow-md"}),jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]}),nt||ht===null?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary"})}):jsxRuntimeExports.jsx(AnimatePresence,{children:tt.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-6",children:tt.map((bt,Et)=>jsxRuntimeExports.jsx(AnnouncementCard,{announcement:bt,index:Et,user:et,isAudienceFeatureEnabled:ht,onEdit:vt,onDelete:_t,onLikeToggle:St},bt.id))}):jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[jsxRuntimeExports.jsx(Megaphone,{className:"h-20 w-20 mx-auto text-muted-foreground mb-6"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-semibold",children:"Feed Pengumuman Kosong"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mt-2",children:"Jadilah yang pertama memposting pengumuman!"})]})}),jsxRuntimeExports.jsx(AnnouncementFormDialog,{isOpen:it,onOpenChange:st,currentAnnouncement:ot,onSubmit:xt,isAudienceFeatureEnabled:ht})]})})},EmployeeProfile=()=>{const{user:et}=useAuth(),tt=et==null?void 0:et.employeeData;if(!tt)return jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground",children:["Data karyawan tidak ditemukan untuk role ",jsxRuntimeExports.jsx("b",{children:et==null?void 0:et.role}),"."]})})});const rt=ct=>{switch(ct){case"Tetap":return"bg-green-500";case"Kontrak":return"bg-blue-500";case"Magang":return"bg-orange-500";default:return"bg-gray-500"}},nt=ct=>{switch(ct){case"Aktif":return"bg-green-500";case"Cuti":return"bg-yellow-500";case"Resign":return"bg-red-500";default:return"bg-gray-500"}},at=ct=>{if(!ct)return{age:"N/A",category:"N/A"};const ut=new Date(ct),dt=new Date;let ft=dt.getFullYear()-ut.getFullYear();const ht=dt.getMonth()-ut.getMonth();(ht<0||ht===0&&dt.getDate()<ut.getDate())&&ft--;let gt="N/A";return ft<30?gt="< 30 Tahun":ft<=50?gt="31-50 Tahun":gt="> 50 Tahun",{age:`${ft} tahun`,category:gt}},it=ct=>{if(!ct)return{duration:"N/A",category:"N/A",years:0,months:0};const ut=new Date(ct),dt=new Date;let ft=dt.getFullYear()-ut.getFullYear(),ht=dt.getMonth()-ut.getMonth(),gt=dt.getDate()-ut.getDate();if(gt<0){ht--;const _t=new Date(dt.getFullYear(),dt.getMonth(),0).getDate();gt+=_t}ht<0&&(ft--,ht+=12);let mt="";ft>0&&(mt+=`${ft} tahun `),ht>0&&(mt+=`${ht} bulan `),ft===0&&ht===0&&gt>=0&&(mt+=`${gt} hari`),mt=mt.trim()||"Baru bergabung";let xt="N/A";const vt=ft+ht/12;return vt<5?xt="< 5 Tahun":vt<=10?xt="5-10 Tahun":xt="> 10 Tahun",{duration:mt,category:xt,years:ft,months:ht}},st=at(tt.birthDate),ot=it(tt.joinDate),lt=[{icon:User,label:"NIK/Nomor Pegawai",value:tt.nik},{icon:Award,label:"Jabatan",value:tt.position},{icon:Briefcase,label:"Divisi",value:tt.division},{icon:CalendarDays,label:"Tanggal Masuk",value:tt.joinDate?new Date(tt.joinDate).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"N/A"},{icon:Clock,label:"Masa Kerja",value:ot.duration},{icon:Clock,label:"Kategori Masa Kerja",value:ot.category},{icon:CalendarDays,label:"Tanggal Lahir",value:tt.birthDate?new Date(tt.birthDate).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"N/A"},{icon:User,label:"Usia",value:st.age},{icon:User,label:"Kategori Usia",value:st.category},{icon:Mail,label:"Email",value:tt.email},{icon:Phone,label:"Nomor Telepon",value:tt.phone},{icon:BookOpen,label:"Pendidikan",value:tt.education||"N/A"},{icon:Map$5,label:"Provinsi (KTP)",value:tt.province||"N/A"},{icon:MapPin,label:"Alamat (KTP)",value:tt.address,fullWidth:!0},{icon:Building,label:"Lokasi Kerja",value:tt.workLocation||"N/A"},{icon:ShieldCheck,label:"Nomor BPJS",value:tt.bpjsNumber||"N/A"},...tt.activeStatus==="Resign"&&tt.terminationDate?[{icon:LogOut,label:"Tanggal Keluar",value:new Date(tt.terminationDate).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})}]:[]];return jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"space-y-2",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Profil Saya"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Informasi lengkap data pribadi dan kepegawaian Anda"})]}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-xl",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-xl",children:["Selamat Datang Kembali, ",tt.name,"! "]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Halaman ini berisi semua detail profil Anda. Pastikan data Anda selalu terbarui. Jika ada perubahan, silakan hubungi departemen HRD."})})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"lg:col-span-1",children:jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-xl",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"text-center space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsxs(Avatar,{className:"w-32 h-32 border-4 border-white shadow-lg",children:[jsxRuntimeExports.jsx(AvatarImage,{src:tt.photo}),jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white text-4xl",children:tt.name?tt.name.charAt(0):"N"})]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl",children:tt.name}),jsxRuntimeExports.jsx(CardDescription,{className:"text-lg mt-1",children:tt.position}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center mt-3 space-x-2",children:[jsxRuntimeExports.jsx(Badge,{className:`${rt(tt.status)} text-white text-sm px-3 py-1`,children:tt.status}),jsxRuntimeExports.jsx(Badge,{className:`${nt(tt.active_status)} text-white text-sm px-3 py-1`,children:tt.activeStatus})]})]})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center p-4 rounded-lg bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Divisi"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:tt.division})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-4 rounded-lg bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Jenis Kelamin"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:tt.gender})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-4 rounded-lg bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Lokasi Kerja"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:tt.workLocation||"N/A"})]})]})})]})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"lg:col-span-2",children:jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-xl",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-xl",children:"Informasi Detail"}),jsxRuntimeExports.jsx(CardDescription,{children:"Data lengkap kepegawaian dan kontak Anda"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:lt.map((ct,ut)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3+ut*.05},className:`flex items-start space-x-4 p-4 rounded-lg hover:bg-white/50 dark:hover:bg-white/5 transition-colors border border-white/20 dark:border-white/10 ${ct.fullWidth?"md:col-span-2":""}`,children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-gradient-to-r from-blue-500 to-purple-600 flex-shrink-0",children:jsxRuntimeExports.jsx(ct.icon,{className:"h-5 w-5 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:ct.label}),jsxRuntimeExports.jsx("p",{className:"text-base font-semibold break-words",children:ct.value||"N/A"})]})]},ct.label))})})]})})]})]})})},SuccessModalContext=reactExports.createContext(),useSuccessModal=()=>reactExports.useContext(SuccessModalContext),SuccessModalProvider=({children:et})=>{const[tt,rt]=reactExports.useState({isOpen:!1,title:"",description:"",leaveRequestNumber:null}),nt=reactExports.useCallback(it=>{rt({...it,isOpen:!0})},[]),at=reactExports.useCallback(()=>{rt(it=>({...it,isOpen:!1}))},[]);return jsxRuntimeExports.jsx(SuccessModalContext.Provider,{value:{successModalProps:tt,showSuccessModal:nt,hideSuccessModal:at},children:et})},LeaveManagementTabs=({currentTab:et,setCurrentTab:tt})=>{const rt=[{id:"requests",label:"Pengajuan Cuti",icon:CalendarDays,disabled:!1},{id:"types",label:"Jenis Cuti",icon:PenSquare,disabled:!1},{id:"quotas",label:"Kuota Karyawan",icon:Users,disabled:!1},{id:"calendar",label:"Kalender Cuti",icon:CalendarDays,disabled:!0},{id:"reports",label:"Laporan Cuti",icon:FileText,disabled:!0}];return jsxRuntimeExports.jsx("div",{className:"flex border-b mb-6 overflow-x-auto",children:rt.map(nt=>jsxRuntimeExports.jsxs("button",{onClick:()=>!nt.disabled&&tt(nt.id),disabled:nt.disabled,className:`flex items-center space-x-2 px-4 py-3 text-sm font-medium focus:outline-none whitespace-nowrap
            ${et===nt.id?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"}
            ${nt.disabled?"opacity-50 cursor-not-allowed":""}
          `,children:[jsxRuntimeExports.jsx(nt.icon,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:nt.label})]},nt.id))})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(et,tt){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(rt,nt){rt.__proto__=nt}||function(rt,nt){for(var at in nt)nt.hasOwnProperty(at)&&(rt[at]=nt[at])},extendStatics(et,tt)};function __extends(et,tt){extendStatics(et,tt);function rt(){this.constructor=et}et.prototype=tt===null?Object.create(tt):(rt.prototype=tt.prototype,new rt)}var __assign=function(){return __assign=Object.assign||function(tt){for(var rt,nt=1,at=arguments.length;nt<at;nt++){rt=arguments[nt];for(var it in rt)Object.prototype.hasOwnProperty.call(rt,it)&&(tt[it]=rt[it])}return tt},__assign.apply(this,arguments)};function __rest(et,tt){var rt={};for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&tt.indexOf(nt)<0&&(rt[nt]=et[nt]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,nt=Object.getOwnPropertySymbols(et);at<nt.length;at++)tt.indexOf(nt[at])<0&&Object.prototype.propertyIsEnumerable.call(et,nt[at])&&(rt[nt[at]]=et[nt[at]]);return rt}function __awaiter(et,tt,rt,nt){function at(it){return it instanceof rt?it:new rt(function(st){st(it)})}return new(rt||(rt=Promise))(function(it,st){function ot(ut){try{ct(nt.next(ut))}catch(dt){st(dt)}}function lt(ut){try{ct(nt.throw(ut))}catch(dt){st(dt)}}function ct(ut){ut.done?it(ut.value):at(ut.value).then(ot,lt)}ct((nt=nt.apply(et,tt||[])).next())})}function __generator(et,tt){var rt={label:0,sent:function(){if(it[0]&1)throw it[1];return it[1]},trys:[],ops:[]},nt,at,it,st;return st={next:ot(0),throw:ot(1),return:ot(2)},typeof Symbol=="function"&&(st[Symbol.iterator]=function(){return this}),st;function ot(ct){return function(ut){return lt([ct,ut])}}function lt(ct){if(nt)throw new TypeError("Generator is already executing.");for(;rt;)try{if(nt=1,at&&(it=ct[0]&2?at.return:ct[0]?at.throw||((it=at.return)&&it.call(at),0):at.next)&&!(it=it.call(at,ct[1])).done)return it;switch(at=0,it&&(ct=[ct[0]&2,it.value]),ct[0]){case 0:case 1:it=ct;break;case 4:return rt.label++,{value:ct[1],done:!1};case 5:rt.label++,at=ct[1],ct=[0];continue;case 7:ct=rt.ops.pop(),rt.trys.pop();continue;default:if(it=rt.trys,!(it=it.length>0&&it[it.length-1])&&(ct[0]===6||ct[0]===2)){rt=0;continue}if(ct[0]===3&&(!it||ct[1]>it[0]&&ct[1]<it[3])){rt.label=ct[1];break}if(ct[0]===6&&rt.label<it[1]){rt.label=it[1],it=ct;break}if(it&&rt.label<it[2]){rt.label=it[2],rt.ops.push(ct);break}it[2]&&rt.ops.pop(),rt.trys.pop();continue}ct=tt.call(et,rt)}catch(ut){ct=[6,ut],at=0}finally{nt=it=0}if(ct[0]&5)throw ct[1];return{value:ct[0]?ct[1]:void 0,done:!0}}}function __spreadArrays(){for(var et=0,tt=0,rt=arguments.length;tt<rt;tt++)et+=arguments[tt].length;for(var nt=Array(et),at=0,tt=0;tt<rt;tt++)for(var it=arguments[tt],st=0,ot=it.length;st<ot;st++,at++)nt[at]=it[st];return nt}var chars$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=new Uint8Array(256);for(var i$2=0;i$2<chars$1.length;i$2++)lookup$1[chars$1.charCodeAt(i$2)]=i$2;var encodeToBase64=function(et){for(var tt="",rt=et.length,nt=0;nt<rt;nt+=3)tt+=chars$1[et[nt]>>2],tt+=chars$1[(et[nt]&3)<<4|et[nt+1]>>4],tt+=chars$1[(et[nt+1]&15)<<2|et[nt+2]>>6],tt+=chars$1[et[nt+2]&63];return rt%3===2?tt=tt.substring(0,tt.length-1)+"=":rt%3===1&&(tt=tt.substring(0,tt.length-2)+"=="),tt},decodeFromBase64$1=function(et){var tt=et.length*.75,rt=et.length,nt,at=0,it,st,ot,lt;et[et.length-1]==="="&&(tt--,et[et.length-2]==="="&&tt--);var ct=new Uint8Array(tt);for(nt=0;nt<rt;nt+=4)it=lookup$1[et.charCodeAt(nt)],st=lookup$1[et.charCodeAt(nt+1)],ot=lookup$1[et.charCodeAt(nt+2)],lt=lookup$1[et.charCodeAt(nt+3)],ct[at++]=it<<2|st>>4,ct[at++]=(st&15)<<4|ot>>2,ct[at++]=(ot&3)<<6|lt&63;return ct},DATA_URI_PREFIX_REGEX=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,decodeFromBase64DataUri=function(et){var tt=et.trim(),rt=tt.substring(0,100),nt=rt.match(DATA_URI_PREFIX_REGEX);if(!nt)return decodeFromBase64$1(tt);var at=nt[0],it=tt.substring(at.length);return decodeFromBase64$1(it)},toCharCode=function(et){return et.charCodeAt(0)},toCodePoint=function(et){return et.codePointAt(0)},toHexStringOfMinLength=function(et,tt){return padStart$1(et.toString(16),tt,"0").toUpperCase()},toHexString=function(et){return toHexStringOfMinLength(et,2)},charFromCode=function(et){return String.fromCharCode(et)},charFromHexCode=function(et){return charFromCode(parseInt(et,16))},padStart$1=function(et,tt,rt){for(var nt="",at=0,it=tt-et.length;at<it;at++)nt+=rt;return nt+et},copyStringIntoBuffer=function(et,tt,rt){for(var nt=et.length,at=0;at<nt;at++)tt[rt++]=et.charCodeAt(at);return nt},escapeRegExp=function(et){return et.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},cleanText=function(et){return et.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},escapedNewlineChars=["\\n","\\f","\\r","\\u000B"],isNewlineChar=function(et){return/^[\n\f\r\u000B]$/.test(et)},lineSplit=function(et){return et.split(/[\n\f\r\u000B]/)},mergeLines=function(et){return et.replace(/[\n\f\r\u000B]/g," ")},charAtIndex=function(et,tt){var rt=et.charCodeAt(tt),nt,at=tt+1,it=1;return rt>=55296&&rt<=56319&&et.length>at&&(nt=et.charCodeAt(at),nt>=56320&&nt<=57343&&(it=2)),[et.slice(tt,tt+it),it]},charSplit=function(et){for(var tt=[],rt=0,nt=et.length;rt<nt;){var at=charAtIndex(et,rt),it=at[0],st=at[1];tt.push(it),rt+=st}return tt},buildWordBreakRegex=function(et){for(var tt=escapedNewlineChars.join("|"),rt=["$"],nt=0,at=et.length;nt<at;nt++){var it=et[nt];if(isNewlineChar(it))throw new TypeError("`wordBreak` must not include "+tt);rt.push(it===""?".":escapeRegExp(it))}var st=rt.join("|");return new RegExp("("+tt+")|((.*?)("+st+"))","gm")},breakTextIntoLines=function(et,tt,rt,nt){for(var at=buildWordBreakRegex(tt),it=cleanText(et).match(at),st="",ot=0,lt=[],ct=function(){st!==""&&lt.push(st),st="",ot=0},ut=0,dt=it.length;ut<dt;ut++){var ft=it[ut];if(isNewlineChar(ft))ct();else{var ht=nt(ft);ot+ht>rt&&ct(),st+=ft,ot+=ht}}return ct(),lt},dateRegex=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,parseDate=function(et){var tt=et.match(dateRegex);if(tt){var rt=tt[1],nt=tt[2],at=nt===void 0?"01":nt,it=tt[3],st=it===void 0?"01":it,ot=tt[4],lt=ot===void 0?"00":ot,ct=tt[5],ut=ct===void 0?"00":ct,dt=tt[6],ft=dt===void 0?"00":dt,ht=tt[7],gt=ht===void 0?"Z":ht,mt=tt[8],xt=mt===void 0?"00":mt,vt=tt[9],_t=vt===void 0?"00":vt,yt=gt==="Z"?"Z":""+gt+xt+":"+_t,St=new Date(rt+"-"+at+"-"+st+"T"+lt+":"+ut+":"+ft+yt);return St}},findLastMatch=function(et,tt){for(var rt,nt=0,at;nt<et.length;){var it=et.substring(nt).match(tt);if(!it)return{match:at,pos:nt};at=it,nt+=((rt=it.index)!==null&&rt!==void 0?rt:0)+it[0].length}return{match:at,pos:nt}},last=function(et){return et[et.length-1]},typedArrayFor=function(et){if(et instanceof Uint8Array)return et;for(var tt=et.length,rt=new Uint8Array(tt),nt=0;nt<tt;nt++)rt[nt]=et.charCodeAt(nt);return rt},mergeIntoTypedArray=function(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];for(var rt=et.length,nt=[],at=0;at<rt;at++){var it=et[at];nt[at]=it instanceof Uint8Array?it:typedArrayFor(it)}for(var st=0,at=0;at<rt;at++)st+=et[at].length;for(var ot=new Uint8Array(st),lt=0,ct=0;ct<rt;ct++)for(var ut=nt[ct],dt=0,ft=ut.length;dt<ft;dt++)ot[lt++]=ut[dt];return ot},mergeUint8Arrays=function(et){for(var tt=0,rt=0,nt=et.length;rt<nt;rt++)tt+=et[rt].length;for(var at=new Uint8Array(tt),it=0,rt=0,nt=et.length;rt<nt;rt++){var st=et[rt];at.set(st,it),it+=st.length}return at},arrayAsString=function(et){for(var tt="",rt=0,nt=et.length;rt<nt;rt++)tt+=charFromCode(et[rt]);return tt},byAscendingId=function(et,tt){return et.id-tt.id},sortedUniq=function(et,tt){for(var rt=[],nt=0,at=et.length;nt<at;nt++){var it=et[nt],st=et[nt-1];(nt===0||tt(it)!==tt(st))&&rt.push(it)}return rt},reverseArray=function(et){for(var tt=et.length,rt=0,nt=Math.floor(tt/2);rt<nt;rt++){var at=rt,it=tt-rt-1,st=et[rt];et[at]=et[it],et[it]=st}return et},sum=function(et){for(var tt=0,rt=0,nt=et.length;rt<nt;rt++)tt+=et[rt];return tt},range=function(et,tt){for(var rt=new Array(tt-et),nt=0,at=rt.length;nt<at;nt++)rt[nt]=et+nt;return rt},pluckIndices=function(et,tt){for(var rt=new Array(tt.length),nt=0,at=tt.length;nt<at;nt++)rt[nt]=et[tt[nt]];return rt},canBeConvertedToUint8Array=function(et){return et instanceof Uint8Array||et instanceof ArrayBuffer||typeof et=="string"},toUint8Array=function(et){if(typeof et=="string")return decodeFromBase64DataUri(et);if(et instanceof ArrayBuffer)return new Uint8Array(et);if(et instanceof Uint8Array)return et;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},waitForTick=function(){return new Promise(function(et){setTimeout(function(){return et()},0)})},utf16Encode=function(et,tt){tt===void 0&&(tt=!0);var rt=[];tt&&rt.push(65279);for(var nt=0,at=et.length;nt<at;){var it=et.codePointAt(nt);if(it<65536)rt.push(it),nt+=1;else if(it<1114112)rt.push(highSurrogate(it),lowSurrogate(it)),nt+=2;else throw new Error("Invalid code point: 0x"+toHexString(it))}return new Uint16Array(rt)},isWithinBMP=function(et){return et>=0&&et<=65535},hasSurrogates=function(et){return et>=65536&&et<=1114111},highSurrogate=function(et){return Math.floor((et-65536)/1024)+55296},lowSurrogate=function(et){return(et-65536)%1024+56320},ByteOrder;(function(et){et.BigEndian="BigEndian",et.LittleEndian="LittleEndian"})(ByteOrder||(ByteOrder={}));var REPLACEMENT="".codePointAt(0),utf16Decode=function(et,tt){if(tt===void 0&&(tt=!0),et.length<=1)return String.fromCodePoint(REPLACEMENT);for(var rt=tt?readBOM(et):ByteOrder.BigEndian,nt=tt?2:0,at=[];et.length-nt>=2;){var it=decodeValues(et[nt++],et[nt++],rt);if(isHighSurrogate(it))if(et.length-nt<2)at.push(REPLACEMENT);else{var st=decodeValues(et[nt++],et[nt++],rt);isLowSurrogate(st)?at.push(it,st):at.push(REPLACEMENT)}else isLowSurrogate(it)?(nt+=2,at.push(REPLACEMENT)):at.push(it)}return nt<et.length&&at.push(REPLACEMENT),String.fromCodePoint.apply(String,at)},isHighSurrogate=function(et){return et>=55296&&et<=56319},isLowSurrogate=function(et){return et>=56320&&et<=57343},decodeValues=function(et,tt,rt){if(rt===ByteOrder.LittleEndian)return tt<<8|et;if(rt===ByteOrder.BigEndian)return et<<8|tt;throw new Error("Invalid byteOrder: "+rt)},readBOM=function(et){return hasUtf16BigEndianBOM(et)?ByteOrder.BigEndian:hasUtf16LittleEndianBOM(et)?ByteOrder.LittleEndian:ByteOrder.BigEndian},hasUtf16BigEndianBOM=function(et){return et[0]===254&&et[1]===255},hasUtf16LittleEndianBOM=function(et){return et[0]===255&&et[1]===254},hasUtf16BOM=function(et){return hasUtf16BigEndianBOM(et)||hasUtf16LittleEndianBOM(et)},numberToString=function(et){var tt=String(et);if(Math.abs(et)<1){var rt=parseInt(et.toString().split("e-")[1]);if(rt){var nt=et<0;nt&&(et*=-1),et*=Math.pow(10,rt-1),tt="0."+new Array(rt).join("0")+et.toString().substring(2),nt&&(tt="-"+tt)}}else{var rt=parseInt(et.toString().split("+")[1]);rt>20&&(rt-=20,et/=Math.pow(10,rt),tt=et.toString()+new Array(rt+1).join("0"))}return tt},sizeInBytes=function(et){return Math.ceil(et.toString(2).length/8)},bytesFor=function(et){for(var tt=new Uint8Array(sizeInBytes(et)),rt=1;rt<=tt.length;rt++)tt[rt-1]=et>>(tt.length-rt)*8;return tt},error=function(et){throw new Error(et)},common={};(function(et){var tt=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function rt(it,st){return Object.prototype.hasOwnProperty.call(it,st)}et.assign=function(it){for(var st=Array.prototype.slice.call(arguments,1);st.length;){var ot=st.shift();if(ot){if(typeof ot!="object")throw new TypeError(ot+"must be non-object");for(var lt in ot)rt(ot,lt)&&(it[lt]=ot[lt])}}return it},et.shrinkBuf=function(it,st){return it.length===st?it:it.subarray?it.subarray(0,st):(it.length=st,it)};var nt={arraySet:function(it,st,ot,lt,ct){if(st.subarray&&it.subarray){it.set(st.subarray(ot,ot+lt),ct);return}for(var ut=0;ut<lt;ut++)it[ct+ut]=st[ot+ut]},flattenChunks:function(it){var st,ot,lt,ct,ut,dt;for(lt=0,st=0,ot=it.length;st<ot;st++)lt+=it[st].length;for(dt=new Uint8Array(lt),ct=0,st=0,ot=it.length;st<ot;st++)ut=it[st],dt.set(ut,ct),ct+=ut.length;return dt}},at={arraySet:function(it,st,ot,lt,ct){for(var ut=0;ut<lt;ut++)it[ct+ut]=st[ot+ut]},flattenChunks:function(it){return[].concat.apply([],it)}};et.setTyped=function(it){it?(et.Buf8=Uint8Array,et.Buf16=Uint16Array,et.Buf32=Int32Array,et.assign(et,nt)):(et.Buf8=Array,et.Buf16=Array,et.Buf32=Array,et.assign(et,at))},et.setTyped(tt)})(common);var deflate$4={},deflate$3={},trees$1={},utils$6=common,Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(et){for(var tt=et.length;--tt>=0;)et[tt]=0}var STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);var static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);var _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);var base_length=new Array(LENGTH_CODES$1);zero$1(base_length);var base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(et,tt,rt,nt,at){this.static_tree=et,this.extra_bits=tt,this.extra_base=rt,this.elems=nt,this.max_length=at,this.has_stree=et&&et.length}var static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(et,tt){this.dyn_tree=et,this.max_code=0,this.stat_desc=tt}function d_code(et){return et<256?_dist_code[et]:_dist_code[256+(et>>>7)]}function put_short(et,tt){et.pending_buf[et.pending++]=tt&255,et.pending_buf[et.pending++]=tt>>>8&255}function send_bits(et,tt,rt){et.bi_valid>Buf_size-rt?(et.bi_buf|=tt<<et.bi_valid&65535,put_short(et,et.bi_buf),et.bi_buf=tt>>Buf_size-et.bi_valid,et.bi_valid+=rt-Buf_size):(et.bi_buf|=tt<<et.bi_valid&65535,et.bi_valid+=rt)}function send_code(et,tt,rt){send_bits(et,rt[tt*2],rt[tt*2+1])}function bi_reverse(et,tt){var rt=0;do rt|=et&1,et>>>=1,rt<<=1;while(--tt>0);return rt>>>1}function bi_flush(et){et.bi_valid===16?(put_short(et,et.bi_buf),et.bi_buf=0,et.bi_valid=0):et.bi_valid>=8&&(et.pending_buf[et.pending++]=et.bi_buf&255,et.bi_buf>>=8,et.bi_valid-=8)}function gen_bitlen(et,tt){var rt=tt.dyn_tree,nt=tt.max_code,at=tt.stat_desc.static_tree,it=tt.stat_desc.has_stree,st=tt.stat_desc.extra_bits,ot=tt.stat_desc.extra_base,lt=tt.stat_desc.max_length,ct,ut,dt,ft,ht,gt,mt=0;for(ft=0;ft<=MAX_BITS$1;ft++)et.bl_count[ft]=0;for(rt[et.heap[et.heap_max]*2+1]=0,ct=et.heap_max+1;ct<HEAP_SIZE$1;ct++)ut=et.heap[ct],ft=rt[rt[ut*2+1]*2+1]+1,ft>lt&&(ft=lt,mt++),rt[ut*2+1]=ft,!(ut>nt)&&(et.bl_count[ft]++,ht=0,ut>=ot&&(ht=st[ut-ot]),gt=rt[ut*2],et.opt_len+=gt*(ft+ht),it&&(et.static_len+=gt*(at[ut*2+1]+ht)));if(mt!==0){do{for(ft=lt-1;et.bl_count[ft]===0;)ft--;et.bl_count[ft]--,et.bl_count[ft+1]+=2,et.bl_count[lt]--,mt-=2}while(mt>0);for(ft=lt;ft!==0;ft--)for(ut=et.bl_count[ft];ut!==0;)dt=et.heap[--ct],!(dt>nt)&&(rt[dt*2+1]!==ft&&(et.opt_len+=(ft-rt[dt*2+1])*rt[dt*2],rt[dt*2+1]=ft),ut--)}}function gen_codes(et,tt,rt){var nt=new Array(MAX_BITS$1+1),at=0,it,st;for(it=1;it<=MAX_BITS$1;it++)nt[it]=at=at+rt[it-1]<<1;for(st=0;st<=tt;st++){var ot=et[st*2+1];ot!==0&&(et[st*2]=bi_reverse(nt[ot]++,ot))}}function tr_static_init(){var et,tt,rt,nt,at,it=new Array(MAX_BITS$1+1);for(rt=0,nt=0;nt<LENGTH_CODES$1-1;nt++)for(base_length[nt]=rt,et=0;et<1<<extra_lbits[nt];et++)_length_code[rt++]=nt;for(_length_code[rt-1]=nt,at=0,nt=0;nt<16;nt++)for(base_dist[nt]=at,et=0;et<1<<extra_dbits[nt];et++)_dist_code[at++]=nt;for(at>>=7;nt<D_CODES$1;nt++)for(base_dist[nt]=at<<7,et=0;et<1<<extra_dbits[nt]-7;et++)_dist_code[256+at++]=nt;for(tt=0;tt<=MAX_BITS$1;tt++)it[tt]=0;for(et=0;et<=143;)static_ltree[et*2+1]=8,et++,it[8]++;for(;et<=255;)static_ltree[et*2+1]=9,et++,it[9]++;for(;et<=279;)static_ltree[et*2+1]=7,et++,it[7]++;for(;et<=287;)static_ltree[et*2+1]=8,et++,it[8]++;for(gen_codes(static_ltree,L_CODES$1+1,it),et=0;et<D_CODES$1;et++)static_dtree[et*2+1]=5,static_dtree[et*2]=bi_reverse(et,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)}function init_block(et){var tt;for(tt=0;tt<L_CODES$1;tt++)et.dyn_ltree[tt*2]=0;for(tt=0;tt<D_CODES$1;tt++)et.dyn_dtree[tt*2]=0;for(tt=0;tt<BL_CODES$1;tt++)et.bl_tree[tt*2]=0;et.dyn_ltree[END_BLOCK*2]=1,et.opt_len=et.static_len=0,et.last_lit=et.matches=0}function bi_windup(et){et.bi_valid>8?put_short(et,et.bi_buf):et.bi_valid>0&&(et.pending_buf[et.pending++]=et.bi_buf),et.bi_buf=0,et.bi_valid=0}function copy_block(et,tt,rt,nt){bi_windup(et),nt&&(put_short(et,rt),put_short(et,~rt)),utils$6.arraySet(et.pending_buf,et.window,tt,rt,et.pending),et.pending+=rt}function smaller(et,tt,rt,nt){var at=tt*2,it=rt*2;return et[at]<et[it]||et[at]===et[it]&&nt[tt]<=nt[rt]}function pqdownheap(et,tt,rt){for(var nt=et.heap[rt],at=rt<<1;at<=et.heap_len&&(at<et.heap_len&&smaller(tt,et.heap[at+1],et.heap[at],et.depth)&&at++,!smaller(tt,nt,et.heap[at],et.depth));)et.heap[rt]=et.heap[at],rt=at,at<<=1;et.heap[rt]=nt}function compress_block(et,tt,rt){var nt,at,it=0,st,ot;if(et.last_lit!==0)do nt=et.pending_buf[et.d_buf+it*2]<<8|et.pending_buf[et.d_buf+it*2+1],at=et.pending_buf[et.l_buf+it],it++,nt===0?send_code(et,at,tt):(st=_length_code[at],send_code(et,st+LITERALS$1+1,tt),ot=extra_lbits[st],ot!==0&&(at-=base_length[st],send_bits(et,at,ot)),nt--,st=d_code(nt),send_code(et,st,rt),ot=extra_dbits[st],ot!==0&&(nt-=base_dist[st],send_bits(et,nt,ot)));while(it<et.last_lit);send_code(et,END_BLOCK,tt)}function build_tree(et,tt){var rt=tt.dyn_tree,nt=tt.stat_desc.static_tree,at=tt.stat_desc.has_stree,it=tt.stat_desc.elems,st,ot,lt=-1,ct;for(et.heap_len=0,et.heap_max=HEAP_SIZE$1,st=0;st<it;st++)rt[st*2]!==0?(et.heap[++et.heap_len]=lt=st,et.depth[st]=0):rt[st*2+1]=0;for(;et.heap_len<2;)ct=et.heap[++et.heap_len]=lt<2?++lt:0,rt[ct*2]=1,et.depth[ct]=0,et.opt_len--,at&&(et.static_len-=nt[ct*2+1]);for(tt.max_code=lt,st=et.heap_len>>1;st>=1;st--)pqdownheap(et,rt,st);ct=it;do st=et.heap[1],et.heap[1]=et.heap[et.heap_len--],pqdownheap(et,rt,1),ot=et.heap[1],et.heap[--et.heap_max]=st,et.heap[--et.heap_max]=ot,rt[ct*2]=rt[st*2]+rt[ot*2],et.depth[ct]=(et.depth[st]>=et.depth[ot]?et.depth[st]:et.depth[ot])+1,rt[st*2+1]=rt[ot*2+1]=ct,et.heap[1]=ct++,pqdownheap(et,rt,1);while(et.heap_len>=2);et.heap[--et.heap_max]=et.heap[1],gen_bitlen(et,tt),gen_codes(rt,lt,et.bl_count)}function scan_tree(et,tt,rt){var nt,at=-1,it,st=tt[0*2+1],ot=0,lt=7,ct=4;for(st===0&&(lt=138,ct=3),tt[(rt+1)*2+1]=65535,nt=0;nt<=rt;nt++)it=st,st=tt[(nt+1)*2+1],!(++ot<lt&&it===st)&&(ot<ct?et.bl_tree[it*2]+=ot:it!==0?(it!==at&&et.bl_tree[it*2]++,et.bl_tree[REP_3_6*2]++):ot<=10?et.bl_tree[REPZ_3_10*2]++:et.bl_tree[REPZ_11_138*2]++,ot=0,at=it,st===0?(lt=138,ct=3):it===st?(lt=6,ct=3):(lt=7,ct=4))}function send_tree(et,tt,rt){var nt,at=-1,it,st=tt[0*2+1],ot=0,lt=7,ct=4;for(st===0&&(lt=138,ct=3),nt=0;nt<=rt;nt++)if(it=st,st=tt[(nt+1)*2+1],!(++ot<lt&&it===st)){if(ot<ct)do send_code(et,it,et.bl_tree);while(--ot!==0);else it!==0?(it!==at&&(send_code(et,it,et.bl_tree),ot--),send_code(et,REP_3_6,et.bl_tree),send_bits(et,ot-3,2)):ot<=10?(send_code(et,REPZ_3_10,et.bl_tree),send_bits(et,ot-3,3)):(send_code(et,REPZ_11_138,et.bl_tree),send_bits(et,ot-11,7));ot=0,at=it,st===0?(lt=138,ct=3):it===st?(lt=6,ct=3):(lt=7,ct=4)}}function build_bl_tree(et){var tt;for(scan_tree(et,et.dyn_ltree,et.l_desc.max_code),scan_tree(et,et.dyn_dtree,et.d_desc.max_code),build_tree(et,et.bl_desc),tt=BL_CODES$1-1;tt>=3&&et.bl_tree[bl_order[tt]*2+1]===0;tt--);return et.opt_len+=3*(tt+1)+5+5+4,tt}function send_all_trees(et,tt,rt,nt){var at;for(send_bits(et,tt-257,5),send_bits(et,rt-1,5),send_bits(et,nt-4,4),at=0;at<nt;at++)send_bits(et,et.bl_tree[bl_order[at]*2+1],3);send_tree(et,et.dyn_ltree,tt-1),send_tree(et,et.dyn_dtree,rt-1)}function detect_data_type(et){var tt=4093624447,rt;for(rt=0;rt<=31;rt++,tt>>>=1)if(tt&1&&et.dyn_ltree[rt*2]!==0)return Z_BINARY;if(et.dyn_ltree[9*2]!==0||et.dyn_ltree[10*2]!==0||et.dyn_ltree[13*2]!==0)return Z_TEXT;for(rt=32;rt<LITERALS$1;rt++)if(et.dyn_ltree[rt*2]!==0)return Z_TEXT;return Z_BINARY}var static_init_done=!1;function _tr_init(et){static_init_done||(tr_static_init(),static_init_done=!0),et.l_desc=new TreeDesc(et.dyn_ltree,static_l_desc),et.d_desc=new TreeDesc(et.dyn_dtree,static_d_desc),et.bl_desc=new TreeDesc(et.bl_tree,static_bl_desc),et.bi_buf=0,et.bi_valid=0,init_block(et)}function _tr_stored_block(et,tt,rt,nt){send_bits(et,(STORED_BLOCK<<1)+(nt?1:0),3),copy_block(et,tt,rt,!0)}function _tr_align(et){send_bits(et,STATIC_TREES<<1,3),send_code(et,END_BLOCK,static_ltree),bi_flush(et)}function _tr_flush_block(et,tt,rt,nt){var at,it,st=0;et.level>0?(et.strm.data_type===Z_UNKNOWN$1&&(et.strm.data_type=detect_data_type(et)),build_tree(et,et.l_desc),build_tree(et,et.d_desc),st=build_bl_tree(et),at=et.opt_len+3+7>>>3,it=et.static_len+3+7>>>3,it<=at&&(at=it)):at=it=rt+5,rt+4<=at&&tt!==-1?_tr_stored_block(et,tt,rt,nt):et.strategy===Z_FIXED$1||it===at?(send_bits(et,(STATIC_TREES<<1)+(nt?1:0),3),compress_block(et,static_ltree,static_dtree)):(send_bits(et,(DYN_TREES<<1)+(nt?1:0),3),send_all_trees(et,et.l_desc.max_code+1,et.d_desc.max_code+1,st+1),compress_block(et,et.dyn_ltree,et.dyn_dtree)),init_block(et),nt&&bi_windup(et)}function _tr_tally(et,tt,rt){return et.pending_buf[et.d_buf+et.last_lit*2]=tt>>>8&255,et.pending_buf[et.d_buf+et.last_lit*2+1]=tt&255,et.pending_buf[et.l_buf+et.last_lit]=rt&255,et.last_lit++,tt===0?et.dyn_ltree[rt*2]++:(et.matches++,tt--,et.dyn_ltree[(_length_code[rt]+LITERALS$1+1)*2]++,et.dyn_dtree[d_code(tt)*2]++),et.last_lit===et.lit_bufsize-1}trees$1._tr_init=_tr_init;trees$1._tr_stored_block=_tr_stored_block;trees$1._tr_flush_block=_tr_flush_block;trees$1._tr_tally=_tr_tally;trees$1._tr_align=_tr_align;function adler32$2(et,tt,rt,nt){for(var at=et&65535|0,it=et>>>16&65535|0,st=0;rt!==0;){st=rt>2e3?2e3:rt,rt-=st;do at=at+tt[nt++]|0,it=it+at|0;while(--st);at%=65521,it%=65521}return at|it<<16|0}var adler32_1=adler32$2;function makeTable(){for(var et,tt=[],rt=0;rt<256;rt++){et=rt;for(var nt=0;nt<8;nt++)et=et&1?3988292384^et>>>1:et>>>1;tt[rt]=et}return tt}var crcTable=makeTable();function crc32$2(et,tt,rt,nt){var at=crcTable,it=nt+rt;et^=-1;for(var st=nt;st<it;st++)et=et>>>8^at[(et^tt[st])&255];return et^-1}var crc32_1=crc32$2,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},utils$5=common,trees=trees$1,adler32$1=adler32_1,crc32$1=crc32_1,msg$2=messages,Z_NO_FLUSH$1=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH$2=4,Z_BLOCK$1=5,Z_OK$2=0,Z_STREAM_END$2=1,Z_STREAM_ERROR$1=-2,Z_DATA_ERROR$1=-3,Z_BUF_ERROR$1=-5,Z_DEFAULT_COMPRESSION$1=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY$1=0,Z_UNKNOWN=2,Z_DEFLATED$2=8,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3;function err(et,tt){return et.msg=msg$2[tt],tt}function rank(et){return(et<<1)-(et>4?9:0)}function zero(et){for(var tt=et.length;--tt>=0;)et[tt]=0}function flush_pending(et){var tt=et.state,rt=tt.pending;rt>et.avail_out&&(rt=et.avail_out),rt!==0&&(utils$5.arraySet(et.output,tt.pending_buf,tt.pending_out,rt,et.next_out),et.next_out+=rt,tt.pending_out+=rt,et.total_out+=rt,et.avail_out-=rt,tt.pending-=rt,tt.pending===0&&(tt.pending_out=0))}function flush_block_only(et,tt){trees._tr_flush_block(et,et.block_start>=0?et.block_start:-1,et.strstart-et.block_start,tt),et.block_start=et.strstart,flush_pending(et.strm)}function put_byte(et,tt){et.pending_buf[et.pending++]=tt}function putShortMSB(et,tt){et.pending_buf[et.pending++]=tt>>>8&255,et.pending_buf[et.pending++]=tt&255}function read_buf(et,tt,rt,nt){var at=et.avail_in;return at>nt&&(at=nt),at===0?0:(et.avail_in-=at,utils$5.arraySet(tt,et.input,et.next_in,at,rt),et.state.wrap===1?et.adler=adler32$1(et.adler,tt,at,rt):et.state.wrap===2&&(et.adler=crc32$1(et.adler,tt,at,rt)),et.next_in+=at,et.total_in+=at,at)}function longest_match(et,tt){var rt=et.max_chain_length,nt=et.strstart,at,it,st=et.prev_length,ot=et.nice_match,lt=et.strstart>et.w_size-MIN_LOOKAHEAD?et.strstart-(et.w_size-MIN_LOOKAHEAD):0,ct=et.window,ut=et.w_mask,dt=et.prev,ft=et.strstart+MAX_MATCH,ht=ct[nt+st-1],gt=ct[nt+st];et.prev_length>=et.good_match&&(rt>>=2),ot>et.lookahead&&(ot=et.lookahead);do if(at=tt,!(ct[at+st]!==gt||ct[at+st-1]!==ht||ct[at]!==ct[nt]||ct[++at]!==ct[nt+1])){nt+=2,at++;do;while(ct[++nt]===ct[++at]&&ct[++nt]===ct[++at]&&ct[++nt]===ct[++at]&&ct[++nt]===ct[++at]&&ct[++nt]===ct[++at]&&ct[++nt]===ct[++at]&&ct[++nt]===ct[++at]&&ct[++nt]===ct[++at]&&nt<ft);if(it=MAX_MATCH-(ft-nt),nt=ft-MAX_MATCH,it>st){if(et.match_start=tt,st=it,it>=ot)break;ht=ct[nt+st-1],gt=ct[nt+st]}}while((tt=dt[tt&ut])>lt&&--rt!==0);return st<=et.lookahead?st:et.lookahead}function fill_window(et){var tt=et.w_size,rt,nt,at,it,st;do{if(it=et.window_size-et.lookahead-et.strstart,et.strstart>=tt+(tt-MIN_LOOKAHEAD)){utils$5.arraySet(et.window,et.window,tt,tt,0),et.match_start-=tt,et.strstart-=tt,et.block_start-=tt,nt=et.hash_size,rt=nt;do at=et.head[--rt],et.head[rt]=at>=tt?at-tt:0;while(--nt);nt=tt,rt=nt;do at=et.prev[--rt],et.prev[rt]=at>=tt?at-tt:0;while(--nt);it+=tt}if(et.strm.avail_in===0)break;if(nt=read_buf(et.strm,et.window,et.strstart+et.lookahead,it),et.lookahead+=nt,et.lookahead+et.insert>=MIN_MATCH)for(st=et.strstart-et.insert,et.ins_h=et.window[st],et.ins_h=(et.ins_h<<et.hash_shift^et.window[st+1])&et.hash_mask;et.insert&&(et.ins_h=(et.ins_h<<et.hash_shift^et.window[st+MIN_MATCH-1])&et.hash_mask,et.prev[st&et.w_mask]=et.head[et.ins_h],et.head[et.ins_h]=st,st++,et.insert--,!(et.lookahead+et.insert<MIN_MATCH)););}while(et.lookahead<MIN_LOOKAHEAD&&et.strm.avail_in!==0)}function deflate_stored(et,tt){var rt=65535;for(rt>et.pending_buf_size-5&&(rt=et.pending_buf_size-5);;){if(et.lookahead<=1){if(fill_window(et),et.lookahead===0&&tt===Z_NO_FLUSH$1)return BS_NEED_MORE;if(et.lookahead===0)break}et.strstart+=et.lookahead,et.lookahead=0;var nt=et.block_start+rt;if((et.strstart===0||et.strstart>=nt)&&(et.lookahead=et.strstart-nt,et.strstart=nt,flush_block_only(et,!1),et.strm.avail_out===0)||et.strstart-et.block_start>=et.w_size-MIN_LOOKAHEAD&&(flush_block_only(et,!1),et.strm.avail_out===0))return BS_NEED_MORE}return et.insert=0,tt===Z_FINISH$2?(flush_block_only(et,!0),et.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):(et.strstart>et.block_start&&(flush_block_only(et,!1),et.strm.avail_out===0),BS_NEED_MORE)}function deflate_fast(et,tt){for(var rt,nt;;){if(et.lookahead<MIN_LOOKAHEAD){if(fill_window(et),et.lookahead<MIN_LOOKAHEAD&&tt===Z_NO_FLUSH$1)return BS_NEED_MORE;if(et.lookahead===0)break}if(rt=0,et.lookahead>=MIN_MATCH&&(et.ins_h=(et.ins_h<<et.hash_shift^et.window[et.strstart+MIN_MATCH-1])&et.hash_mask,rt=et.prev[et.strstart&et.w_mask]=et.head[et.ins_h],et.head[et.ins_h]=et.strstart),rt!==0&&et.strstart-rt<=et.w_size-MIN_LOOKAHEAD&&(et.match_length=longest_match(et,rt)),et.match_length>=MIN_MATCH)if(nt=trees._tr_tally(et,et.strstart-et.match_start,et.match_length-MIN_MATCH),et.lookahead-=et.match_length,et.match_length<=et.max_lazy_match&&et.lookahead>=MIN_MATCH){et.match_length--;do et.strstart++,et.ins_h=(et.ins_h<<et.hash_shift^et.window[et.strstart+MIN_MATCH-1])&et.hash_mask,rt=et.prev[et.strstart&et.w_mask]=et.head[et.ins_h],et.head[et.ins_h]=et.strstart;while(--et.match_length!==0);et.strstart++}else et.strstart+=et.match_length,et.match_length=0,et.ins_h=et.window[et.strstart],et.ins_h=(et.ins_h<<et.hash_shift^et.window[et.strstart+1])&et.hash_mask;else nt=trees._tr_tally(et,0,et.window[et.strstart]),et.lookahead--,et.strstart++;if(nt&&(flush_block_only(et,!1),et.strm.avail_out===0))return BS_NEED_MORE}return et.insert=et.strstart<MIN_MATCH-1?et.strstart:MIN_MATCH-1,tt===Z_FINISH$2?(flush_block_only(et,!0),et.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):et.last_lit&&(flush_block_only(et,!1),et.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(et,tt){for(var rt,nt,at;;){if(et.lookahead<MIN_LOOKAHEAD){if(fill_window(et),et.lookahead<MIN_LOOKAHEAD&&tt===Z_NO_FLUSH$1)return BS_NEED_MORE;if(et.lookahead===0)break}if(rt=0,et.lookahead>=MIN_MATCH&&(et.ins_h=(et.ins_h<<et.hash_shift^et.window[et.strstart+MIN_MATCH-1])&et.hash_mask,rt=et.prev[et.strstart&et.w_mask]=et.head[et.ins_h],et.head[et.ins_h]=et.strstart),et.prev_length=et.match_length,et.prev_match=et.match_start,et.match_length=MIN_MATCH-1,rt!==0&&et.prev_length<et.max_lazy_match&&et.strstart-rt<=et.w_size-MIN_LOOKAHEAD&&(et.match_length=longest_match(et,rt),et.match_length<=5&&(et.strategy===Z_FILTERED||et.match_length===MIN_MATCH&&et.strstart-et.match_start>4096)&&(et.match_length=MIN_MATCH-1)),et.prev_length>=MIN_MATCH&&et.match_length<=et.prev_length){at=et.strstart+et.lookahead-MIN_MATCH,nt=trees._tr_tally(et,et.strstart-1-et.prev_match,et.prev_length-MIN_MATCH),et.lookahead-=et.prev_length-1,et.prev_length-=2;do++et.strstart<=at&&(et.ins_h=(et.ins_h<<et.hash_shift^et.window[et.strstart+MIN_MATCH-1])&et.hash_mask,rt=et.prev[et.strstart&et.w_mask]=et.head[et.ins_h],et.head[et.ins_h]=et.strstart);while(--et.prev_length!==0);if(et.match_available=0,et.match_length=MIN_MATCH-1,et.strstart++,nt&&(flush_block_only(et,!1),et.strm.avail_out===0))return BS_NEED_MORE}else if(et.match_available){if(nt=trees._tr_tally(et,0,et.window[et.strstart-1]),nt&&flush_block_only(et,!1),et.strstart++,et.lookahead--,et.strm.avail_out===0)return BS_NEED_MORE}else et.match_available=1,et.strstart++,et.lookahead--}return et.match_available&&(nt=trees._tr_tally(et,0,et.window[et.strstart-1]),et.match_available=0),et.insert=et.strstart<MIN_MATCH-1?et.strstart:MIN_MATCH-1,tt===Z_FINISH$2?(flush_block_only(et,!0),et.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):et.last_lit&&(flush_block_only(et,!1),et.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(et,tt){for(var rt,nt,at,it,st=et.window;;){if(et.lookahead<=MAX_MATCH){if(fill_window(et),et.lookahead<=MAX_MATCH&&tt===Z_NO_FLUSH$1)return BS_NEED_MORE;if(et.lookahead===0)break}if(et.match_length=0,et.lookahead>=MIN_MATCH&&et.strstart>0&&(at=et.strstart-1,nt=st[at],nt===st[++at]&&nt===st[++at]&&nt===st[++at])){it=et.strstart+MAX_MATCH;do;while(nt===st[++at]&&nt===st[++at]&&nt===st[++at]&&nt===st[++at]&&nt===st[++at]&&nt===st[++at]&&nt===st[++at]&&nt===st[++at]&&at<it);et.match_length=MAX_MATCH-(it-at),et.match_length>et.lookahead&&(et.match_length=et.lookahead)}if(et.match_length>=MIN_MATCH?(rt=trees._tr_tally(et,1,et.match_length-MIN_MATCH),et.lookahead-=et.match_length,et.strstart+=et.match_length,et.match_length=0):(rt=trees._tr_tally(et,0,et.window[et.strstart]),et.lookahead--,et.strstart++),rt&&(flush_block_only(et,!1),et.strm.avail_out===0))return BS_NEED_MORE}return et.insert=0,tt===Z_FINISH$2?(flush_block_only(et,!0),et.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):et.last_lit&&(flush_block_only(et,!1),et.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(et,tt){for(var rt;;){if(et.lookahead===0&&(fill_window(et),et.lookahead===0)){if(tt===Z_NO_FLUSH$1)return BS_NEED_MORE;break}if(et.match_length=0,rt=trees._tr_tally(et,0,et.window[et.strstart]),et.lookahead--,et.strstart++,rt&&(flush_block_only(et,!1),et.strm.avail_out===0))return BS_NEED_MORE}return et.insert=0,tt===Z_FINISH$2?(flush_block_only(et,!0),et.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):et.last_lit&&(flush_block_only(et,!1),et.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function Config(et,tt,rt,nt,at){this.good_length=et,this.max_lazy=tt,this.nice_length=rt,this.max_chain=nt,this.func=at}var configuration_table;configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];function lm_init(et){et.window_size=2*et.w_size,zero(et.head),et.max_lazy_match=configuration_table[et.level].max_lazy,et.good_match=configuration_table[et.level].good_length,et.nice_match=configuration_table[et.level].nice_length,et.max_chain_length=configuration_table[et.level].max_chain,et.strstart=0,et.block_start=0,et.lookahead=0,et.insert=0,et.match_length=et.prev_length=MIN_MATCH-1,et.match_available=0,et.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils$5.Buf16(HEAP_SIZE*2),this.dyn_dtree=new utils$5.Buf16((2*D_CODES+1)*2),this.bl_tree=new utils$5.Buf16((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils$5.Buf16(MAX_BITS+1),this.heap=new utils$5.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils$5.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(et){var tt;return!et||!et.state?err(et,Z_STREAM_ERROR$1):(et.total_in=et.total_out=0,et.data_type=Z_UNKNOWN,tt=et.state,tt.pending=0,tt.pending_out=0,tt.wrap<0&&(tt.wrap=-tt.wrap),tt.status=tt.wrap?INIT_STATE:BUSY_STATE,et.adler=tt.wrap===2?0:1,tt.last_flush=Z_NO_FLUSH$1,trees._tr_init(tt),Z_OK$2)}function deflateReset(et){var tt=deflateResetKeep(et);return tt===Z_OK$2&&lm_init(et.state),tt}function deflateSetHeader(et,tt){return!et||!et.state||et.state.wrap!==2?Z_STREAM_ERROR$1:(et.state.gzhead=tt,Z_OK$2)}function deflateInit2(et,tt,rt,nt,at,it){if(!et)return Z_STREAM_ERROR$1;var st=1;if(tt===Z_DEFAULT_COMPRESSION$1&&(tt=6),nt<0?(st=0,nt=-nt):nt>15&&(st=2,nt-=16),at<1||at>MAX_MEM_LEVEL||rt!==Z_DEFLATED$2||nt<8||nt>15||tt<0||tt>9||it<0||it>Z_FIXED)return err(et,Z_STREAM_ERROR$1);nt===8&&(nt=9);var ot=new DeflateState;return et.state=ot,ot.strm=et,ot.wrap=st,ot.gzhead=null,ot.w_bits=nt,ot.w_size=1<<ot.w_bits,ot.w_mask=ot.w_size-1,ot.hash_bits=at+7,ot.hash_size=1<<ot.hash_bits,ot.hash_mask=ot.hash_size-1,ot.hash_shift=~~((ot.hash_bits+MIN_MATCH-1)/MIN_MATCH),ot.window=new utils$5.Buf8(ot.w_size*2),ot.head=new utils$5.Buf16(ot.hash_size),ot.prev=new utils$5.Buf16(ot.w_size),ot.lit_bufsize=1<<at+6,ot.pending_buf_size=ot.lit_bufsize*4,ot.pending_buf=new utils$5.Buf8(ot.pending_buf_size),ot.d_buf=1*ot.lit_bufsize,ot.l_buf=(1+2)*ot.lit_bufsize,ot.level=tt,ot.strategy=it,ot.method=rt,deflateReset(et)}function deflateInit(et,tt){return deflateInit2(et,tt,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1)}function deflate$2(et,tt){var rt,nt,at,it;if(!et||!et.state||tt>Z_BLOCK$1||tt<0)return et?err(et,Z_STREAM_ERROR$1):Z_STREAM_ERROR$1;if(nt=et.state,!et.output||!et.input&&et.avail_in!==0||nt.status===FINISH_STATE&&tt!==Z_FINISH$2)return err(et,et.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$1);if(nt.strm=et,rt=nt.last_flush,nt.last_flush=tt,nt.status===INIT_STATE)if(nt.wrap===2)et.adler=0,put_byte(nt,31),put_byte(nt,139),put_byte(nt,8),nt.gzhead?(put_byte(nt,(nt.gzhead.text?1:0)+(nt.gzhead.hcrc?2:0)+(nt.gzhead.extra?4:0)+(nt.gzhead.name?8:0)+(nt.gzhead.comment?16:0)),put_byte(nt,nt.gzhead.time&255),put_byte(nt,nt.gzhead.time>>8&255),put_byte(nt,nt.gzhead.time>>16&255),put_byte(nt,nt.gzhead.time>>24&255),put_byte(nt,nt.level===9?2:nt.strategy>=Z_HUFFMAN_ONLY||nt.level<2?4:0),put_byte(nt,nt.gzhead.os&255),nt.gzhead.extra&&nt.gzhead.extra.length&&(put_byte(nt,nt.gzhead.extra.length&255),put_byte(nt,nt.gzhead.extra.length>>8&255)),nt.gzhead.hcrc&&(et.adler=crc32$1(et.adler,nt.pending_buf,nt.pending,0)),nt.gzindex=0,nt.status=EXTRA_STATE):(put_byte(nt,0),put_byte(nt,0),put_byte(nt,0),put_byte(nt,0),put_byte(nt,0),put_byte(nt,nt.level===9?2:nt.strategy>=Z_HUFFMAN_ONLY||nt.level<2?4:0),put_byte(nt,OS_CODE),nt.status=BUSY_STATE);else{var st=Z_DEFLATED$2+(nt.w_bits-8<<4)<<8,ot=-1;nt.strategy>=Z_HUFFMAN_ONLY||nt.level<2?ot=0:nt.level<6?ot=1:nt.level===6?ot=2:ot=3,st|=ot<<6,nt.strstart!==0&&(st|=PRESET_DICT),st+=31-st%31,nt.status=BUSY_STATE,putShortMSB(nt,st),nt.strstart!==0&&(putShortMSB(nt,et.adler>>>16),putShortMSB(nt,et.adler&65535)),et.adler=1}if(nt.status===EXTRA_STATE)if(nt.gzhead.extra){for(at=nt.pending;nt.gzindex<(nt.gzhead.extra.length&65535)&&!(nt.pending===nt.pending_buf_size&&(nt.gzhead.hcrc&&nt.pending>at&&(et.adler=crc32$1(et.adler,nt.pending_buf,nt.pending-at,at)),flush_pending(et),at=nt.pending,nt.pending===nt.pending_buf_size));)put_byte(nt,nt.gzhead.extra[nt.gzindex]&255),nt.gzindex++;nt.gzhead.hcrc&&nt.pending>at&&(et.adler=crc32$1(et.adler,nt.pending_buf,nt.pending-at,at)),nt.gzindex===nt.gzhead.extra.length&&(nt.gzindex=0,nt.status=NAME_STATE)}else nt.status=NAME_STATE;if(nt.status===NAME_STATE)if(nt.gzhead.name){at=nt.pending;do{if(nt.pending===nt.pending_buf_size&&(nt.gzhead.hcrc&&nt.pending>at&&(et.adler=crc32$1(et.adler,nt.pending_buf,nt.pending-at,at)),flush_pending(et),at=nt.pending,nt.pending===nt.pending_buf_size)){it=1;break}nt.gzindex<nt.gzhead.name.length?it=nt.gzhead.name.charCodeAt(nt.gzindex++)&255:it=0,put_byte(nt,it)}while(it!==0);nt.gzhead.hcrc&&nt.pending>at&&(et.adler=crc32$1(et.adler,nt.pending_buf,nt.pending-at,at)),it===0&&(nt.gzindex=0,nt.status=COMMENT_STATE)}else nt.status=COMMENT_STATE;if(nt.status===COMMENT_STATE)if(nt.gzhead.comment){at=nt.pending;do{if(nt.pending===nt.pending_buf_size&&(nt.gzhead.hcrc&&nt.pending>at&&(et.adler=crc32$1(et.adler,nt.pending_buf,nt.pending-at,at)),flush_pending(et),at=nt.pending,nt.pending===nt.pending_buf_size)){it=1;break}nt.gzindex<nt.gzhead.comment.length?it=nt.gzhead.comment.charCodeAt(nt.gzindex++)&255:it=0,put_byte(nt,it)}while(it!==0);nt.gzhead.hcrc&&nt.pending>at&&(et.adler=crc32$1(et.adler,nt.pending_buf,nt.pending-at,at)),it===0&&(nt.status=HCRC_STATE)}else nt.status=HCRC_STATE;if(nt.status===HCRC_STATE&&(nt.gzhead.hcrc?(nt.pending+2>nt.pending_buf_size&&flush_pending(et),nt.pending+2<=nt.pending_buf_size&&(put_byte(nt,et.adler&255),put_byte(nt,et.adler>>8&255),et.adler=0,nt.status=BUSY_STATE)):nt.status=BUSY_STATE),nt.pending!==0){if(flush_pending(et),et.avail_out===0)return nt.last_flush=-1,Z_OK$2}else if(et.avail_in===0&&rank(tt)<=rank(rt)&&tt!==Z_FINISH$2)return err(et,Z_BUF_ERROR$1);if(nt.status===FINISH_STATE&&et.avail_in!==0)return err(et,Z_BUF_ERROR$1);if(et.avail_in!==0||nt.lookahead!==0||tt!==Z_NO_FLUSH$1&&nt.status!==FINISH_STATE){var lt=nt.strategy===Z_HUFFMAN_ONLY?deflate_huff(nt,tt):nt.strategy===Z_RLE?deflate_rle(nt,tt):configuration_table[nt.level].func(nt,tt);if((lt===BS_FINISH_STARTED||lt===BS_FINISH_DONE)&&(nt.status=FINISH_STATE),lt===BS_NEED_MORE||lt===BS_FINISH_STARTED)return et.avail_out===0&&(nt.last_flush=-1),Z_OK$2;if(lt===BS_BLOCK_DONE&&(tt===Z_PARTIAL_FLUSH?trees._tr_align(nt):tt!==Z_BLOCK$1&&(trees._tr_stored_block(nt,0,0,!1),tt===Z_FULL_FLUSH&&(zero(nt.head),nt.lookahead===0&&(nt.strstart=0,nt.block_start=0,nt.insert=0))),flush_pending(et),et.avail_out===0))return nt.last_flush=-1,Z_OK$2}return tt!==Z_FINISH$2?Z_OK$2:nt.wrap<=0?Z_STREAM_END$2:(nt.wrap===2?(put_byte(nt,et.adler&255),put_byte(nt,et.adler>>8&255),put_byte(nt,et.adler>>16&255),put_byte(nt,et.adler>>24&255),put_byte(nt,et.total_in&255),put_byte(nt,et.total_in>>8&255),put_byte(nt,et.total_in>>16&255),put_byte(nt,et.total_in>>24&255)):(putShortMSB(nt,et.adler>>>16),putShortMSB(nt,et.adler&65535)),flush_pending(et),nt.wrap>0&&(nt.wrap=-nt.wrap),nt.pending!==0?Z_OK$2:Z_STREAM_END$2)}function deflateEnd(et){var tt;return!et||!et.state?Z_STREAM_ERROR$1:(tt=et.state.status,tt!==INIT_STATE&&tt!==EXTRA_STATE&&tt!==NAME_STATE&&tt!==COMMENT_STATE&&tt!==HCRC_STATE&&tt!==BUSY_STATE&&tt!==FINISH_STATE?err(et,Z_STREAM_ERROR$1):(et.state=null,tt===BUSY_STATE?err(et,Z_DATA_ERROR$1):Z_OK$2))}function deflateSetDictionary(et,tt){var rt=tt.length,nt,at,it,st,ot,lt,ct,ut;if(!et||!et.state||(nt=et.state,st=nt.wrap,st===2||st===1&&nt.status!==INIT_STATE||nt.lookahead))return Z_STREAM_ERROR$1;for(st===1&&(et.adler=adler32$1(et.adler,tt,rt,0)),nt.wrap=0,rt>=nt.w_size&&(st===0&&(zero(nt.head),nt.strstart=0,nt.block_start=0,nt.insert=0),ut=new utils$5.Buf8(nt.w_size),utils$5.arraySet(ut,tt,rt-nt.w_size,nt.w_size,0),tt=ut,rt=nt.w_size),ot=et.avail_in,lt=et.next_in,ct=et.input,et.avail_in=rt,et.next_in=0,et.input=tt,fill_window(nt);nt.lookahead>=MIN_MATCH;){at=nt.strstart,it=nt.lookahead-(MIN_MATCH-1);do nt.ins_h=(nt.ins_h<<nt.hash_shift^nt.window[at+MIN_MATCH-1])&nt.hash_mask,nt.prev[at&nt.w_mask]=nt.head[nt.ins_h],nt.head[nt.ins_h]=at,at++;while(--it);nt.strstart=at,nt.lookahead=MIN_MATCH-1,fill_window(nt)}return nt.strstart+=nt.lookahead,nt.block_start=nt.strstart,nt.insert=nt.lookahead,nt.lookahead=0,nt.match_length=nt.prev_length=MIN_MATCH-1,nt.match_available=0,et.next_in=lt,et.input=ct,et.avail_in=ot,nt.wrap=st,Z_OK$2}deflate$3.deflateInit=deflateInit;deflate$3.deflateInit2=deflateInit2;deflate$3.deflateReset=deflateReset;deflate$3.deflateResetKeep=deflateResetKeep;deflate$3.deflateSetHeader=deflateSetHeader;deflate$3.deflate=deflate$2;deflate$3.deflateEnd=deflateEnd;deflate$3.deflateSetDictionary=deflateSetDictionary;deflate$3.deflateInfo="pako deflate (from Nodeca project)";var strings$2={},utils$4=common,STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch(et){STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(et){STR_APPLY_UIA_OK=!1}var _utf8len=new utils$4.Buf8(256);for(var q$1=0;q$1<256;q$1++)_utf8len[q$1]=q$1>=252?6:q$1>=248?5:q$1>=240?4:q$1>=224?3:q$1>=192?2:1;_utf8len[254]=_utf8len[254]=1;strings$2.string2buf=function(et){var tt,rt,nt,at,it,st=et.length,ot=0;for(at=0;at<st;at++)rt=et.charCodeAt(at),(rt&64512)===55296&&at+1<st&&(nt=et.charCodeAt(at+1),(nt&64512)===56320&&(rt=65536+(rt-55296<<10)+(nt-56320),at++)),ot+=rt<128?1:rt<2048?2:rt<65536?3:4;for(tt=new utils$4.Buf8(ot),it=0,at=0;it<ot;at++)rt=et.charCodeAt(at),(rt&64512)===55296&&at+1<st&&(nt=et.charCodeAt(at+1),(nt&64512)===56320&&(rt=65536+(rt-55296<<10)+(nt-56320),at++)),rt<128?tt[it++]=rt:rt<2048?(tt[it++]=192|rt>>>6,tt[it++]=128|rt&63):rt<65536?(tt[it++]=224|rt>>>12,tt[it++]=128|rt>>>6&63,tt[it++]=128|rt&63):(tt[it++]=240|rt>>>18,tt[it++]=128|rt>>>12&63,tt[it++]=128|rt>>>6&63,tt[it++]=128|rt&63);return tt};function buf2binstring(et,tt){if(tt<65534&&(et.subarray&&STR_APPLY_UIA_OK||!et.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,utils$4.shrinkBuf(et,tt));for(var rt="",nt=0;nt<tt;nt++)rt+=String.fromCharCode(et[nt]);return rt}strings$2.buf2binstring=function(et){return buf2binstring(et,et.length)};strings$2.binstring2buf=function(et){for(var tt=new utils$4.Buf8(et.length),rt=0,nt=tt.length;rt<nt;rt++)tt[rt]=et.charCodeAt(rt);return tt};strings$2.buf2string=function(et,tt){var rt,nt,at,it,st=tt||et.length,ot=new Array(st*2);for(nt=0,rt=0;rt<st;){if(at=et[rt++],at<128){ot[nt++]=at;continue}if(it=_utf8len[at],it>4){ot[nt++]=65533,rt+=it-1;continue}for(at&=it===2?31:it===3?15:7;it>1&&rt<st;)at=at<<6|et[rt++]&63,it--;if(it>1){ot[nt++]=65533;continue}at<65536?ot[nt++]=at:(at-=65536,ot[nt++]=55296|at>>10&1023,ot[nt++]=56320|at&1023)}return buf2binstring(ot,nt)};strings$2.utf8border=function(et,tt){var rt;for(tt=tt||et.length,tt>et.length&&(tt=et.length),rt=tt-1;rt>=0&&(et[rt]&192)===128;)rt--;return rt<0||rt===0?tt:rt+_utf8len[et[rt]]>tt?rt:tt};function ZStream$2(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream$2,zlib_deflate=deflate$3,utils$3=common,strings$1=strings$2,msg$1=messages,ZStream$1=zstream,toString$1=Object.prototype.toString,Z_NO_FLUSH=0,Z_FINISH$1=4,Z_OK$1=0,Z_STREAM_END$1=1,Z_SYNC_FLUSH=2,Z_DEFAULT_COMPRESSION=-1,Z_DEFAULT_STRATEGY=0,Z_DEFLATED$1=8;function Deflate(et){if(!(this instanceof Deflate))return new Deflate(et);this.options=utils$3.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY,to:""},et||{});var tt=this.options;tt.raw&&tt.windowBits>0?tt.windowBits=-tt.windowBits:tt.gzip&&tt.windowBits>0&&tt.windowBits<16&&(tt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream$1,this.strm.avail_out=0;var rt=zlib_deflate.deflateInit2(this.strm,tt.level,tt.method,tt.windowBits,tt.memLevel,tt.strategy);if(rt!==Z_OK$1)throw new Error(msg$1[rt]);if(tt.header&&zlib_deflate.deflateSetHeader(this.strm,tt.header),tt.dictionary){var nt;if(typeof tt.dictionary=="string"?nt=strings$1.string2buf(tt.dictionary):toString$1.call(tt.dictionary)==="[object ArrayBuffer]"?nt=new Uint8Array(tt.dictionary):nt=tt.dictionary,rt=zlib_deflate.deflateSetDictionary(this.strm,nt),rt!==Z_OK$1)throw new Error(msg$1[rt]);this._dict_set=!0}}Deflate.prototype.push=function(et,tt){var rt=this.strm,nt=this.options.chunkSize,at,it;if(this.ended)return!1;it=tt===~~tt?tt:tt===!0?Z_FINISH$1:Z_NO_FLUSH,typeof et=="string"?rt.input=strings$1.string2buf(et):toString$1.call(et)==="[object ArrayBuffer]"?rt.input=new Uint8Array(et):rt.input=et,rt.next_in=0,rt.avail_in=rt.input.length;do{if(rt.avail_out===0&&(rt.output=new utils$3.Buf8(nt),rt.next_out=0,rt.avail_out=nt),at=zlib_deflate.deflate(rt,it),at!==Z_STREAM_END$1&&at!==Z_OK$1)return this.onEnd(at),this.ended=!0,!1;(rt.avail_out===0||rt.avail_in===0&&(it===Z_FINISH$1||it===Z_SYNC_FLUSH))&&(this.options.to==="string"?this.onData(strings$1.buf2binstring(utils$3.shrinkBuf(rt.output,rt.next_out))):this.onData(utils$3.shrinkBuf(rt.output,rt.next_out)))}while((rt.avail_in>0||rt.avail_out===0)&&at!==Z_STREAM_END$1);return it===Z_FINISH$1?(at=zlib_deflate.deflateEnd(this.strm),this.onEnd(at),this.ended=!0,at===Z_OK$1):(it===Z_SYNC_FLUSH&&(this.onEnd(Z_OK$1),rt.avail_out=0),!0)};Deflate.prototype.onData=function(et){this.chunks.push(et)};Deflate.prototype.onEnd=function(et){et===Z_OK$1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils$3.flattenChunks(this.chunks)),this.chunks=[],this.err=et,this.msg=this.strm.msg};function deflate$1(et,tt){var rt=new Deflate(tt);if(rt.push(et,!0),rt.err)throw rt.msg||msg$1[rt.err];return rt.result}function deflateRaw(et,tt){return tt=tt||{},tt.raw=!0,deflate$1(et,tt)}function gzip(et,tt){return tt=tt||{},tt.gzip=!0,deflate$1(et,tt)}deflate$4.Deflate=Deflate;deflate$4.deflate=deflate$1;deflate$4.deflateRaw=deflateRaw;deflate$4.gzip=gzip;var inflate$4={},inflate$3={},BAD$1=30,TYPE$1=12,inffast=function et(tt,rt){var nt,at,it,st,ot,lt,ct,ut,dt,ft,ht,gt,mt,xt,vt,_t,yt,St,bt,Et,Tt,At,Ct,kt,Pt;nt=tt.state,at=tt.next_in,kt=tt.input,it=at+(tt.avail_in-5),st=tt.next_out,Pt=tt.output,ot=st-(rt-tt.avail_out),lt=st+(tt.avail_out-257),ct=nt.dmax,ut=nt.wsize,dt=nt.whave,ft=nt.wnext,ht=nt.window,gt=nt.hold,mt=nt.bits,xt=nt.lencode,vt=nt.distcode,_t=(1<<nt.lenbits)-1,yt=(1<<nt.distbits)-1;e:do{mt<15&&(gt+=kt[at++]<<mt,mt+=8,gt+=kt[at++]<<mt,mt+=8),St=xt[gt&_t];t:for(;;){if(bt=St>>>24,gt>>>=bt,mt-=bt,bt=St>>>16&255,bt===0)Pt[st++]=St&65535;else if(bt&16){Et=St&65535,bt&=15,bt&&(mt<bt&&(gt+=kt[at++]<<mt,mt+=8),Et+=gt&(1<<bt)-1,gt>>>=bt,mt-=bt),mt<15&&(gt+=kt[at++]<<mt,mt+=8,gt+=kt[at++]<<mt,mt+=8),St=vt[gt&yt];r:for(;;){if(bt=St>>>24,gt>>>=bt,mt-=bt,bt=St>>>16&255,bt&16){if(Tt=St&65535,bt&=15,mt<bt&&(gt+=kt[at++]<<mt,mt+=8,mt<bt&&(gt+=kt[at++]<<mt,mt+=8)),Tt+=gt&(1<<bt)-1,Tt>ct){tt.msg="invalid distance too far back",nt.mode=BAD$1;break e}if(gt>>>=bt,mt-=bt,bt=st-ot,Tt>bt){if(bt=Tt-bt,bt>dt&&nt.sane){tt.msg="invalid distance too far back",nt.mode=BAD$1;break e}if(At=0,Ct=ht,ft===0){if(At+=ut-bt,bt<Et){Et-=bt;do Pt[st++]=ht[At++];while(--bt);At=st-Tt,Ct=Pt}}else if(ft<bt){if(At+=ut+ft-bt,bt-=ft,bt<Et){Et-=bt;do Pt[st++]=ht[At++];while(--bt);if(At=0,ft<Et){bt=ft,Et-=bt;do Pt[st++]=ht[At++];while(--bt);At=st-Tt,Ct=Pt}}}else if(At+=ft-bt,bt<Et){Et-=bt;do Pt[st++]=ht[At++];while(--bt);At=st-Tt,Ct=Pt}for(;Et>2;)Pt[st++]=Ct[At++],Pt[st++]=Ct[At++],Pt[st++]=Ct[At++],Et-=3;Et&&(Pt[st++]=Ct[At++],Et>1&&(Pt[st++]=Ct[At++]))}else{At=st-Tt;do Pt[st++]=Pt[At++],Pt[st++]=Pt[At++],Pt[st++]=Pt[At++],Et-=3;while(Et>2);Et&&(Pt[st++]=Pt[At++],Et>1&&(Pt[st++]=Pt[At++]))}}else if(bt&64){tt.msg="invalid distance code",nt.mode=BAD$1;break e}else{St=vt[(St&65535)+(gt&(1<<bt)-1)];continue r}break}}else if(bt&64)if(bt&32){nt.mode=TYPE$1;break e}else{tt.msg="invalid literal/length code",nt.mode=BAD$1;break e}else{St=xt[(St&65535)+(gt&(1<<bt)-1)];continue t}break}}while(at<it&&st<lt);Et=mt>>3,at-=Et,mt-=Et<<3,gt&=(1<<mt)-1,tt.next_in=at,tt.next_out=st,tt.avail_in=at<it?5+(it-at):5-(at-it),tt.avail_out=st<lt?257+(lt-st):257-(st-lt),nt.hold=gt,nt.bits=mt},utils$2=common,MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],inftrees=function et(tt,rt,nt,at,it,st,ot,lt){var ct=lt.bits,ut=0,dt=0,ft=0,ht=0,gt=0,mt=0,xt=0,vt=0,_t=0,yt=0,St,bt,Et,Tt,At,Ct=null,kt=0,Pt,Dt=new utils$2.Buf16(MAXBITS+1),Ft=new utils$2.Buf16(MAXBITS+1),Ot=null,It=0,Bt,qt,Ut;for(ut=0;ut<=MAXBITS;ut++)Dt[ut]=0;for(dt=0;dt<at;dt++)Dt[rt[nt+dt]]++;for(gt=ct,ht=MAXBITS;ht>=1&&Dt[ht]===0;ht--);if(gt>ht&&(gt=ht),ht===0)return it[st++]=1<<24|64<<16|0,it[st++]=1<<24|64<<16|0,lt.bits=1,0;for(ft=1;ft<ht&&Dt[ft]===0;ft++);for(gt<ft&&(gt=ft),vt=1,ut=1;ut<=MAXBITS;ut++)if(vt<<=1,vt-=Dt[ut],vt<0)return-1;if(vt>0&&(tt===CODES$1||ht!==1))return-1;for(Ft[1]=0,ut=1;ut<MAXBITS;ut++)Ft[ut+1]=Ft[ut]+Dt[ut];for(dt=0;dt<at;dt++)rt[nt+dt]!==0&&(ot[Ft[rt[nt+dt]]++]=dt);if(tt===CODES$1?(Ct=Ot=ot,Pt=19):tt===LENS$1?(Ct=lbase,kt-=257,Ot=lext,It-=257,Pt=256):(Ct=dbase,Ot=dext,Pt=-1),yt=0,dt=0,ut=ft,At=st,mt=gt,xt=0,Et=-1,_t=1<<gt,Tt=_t-1,tt===LENS$1&&_t>ENOUGH_LENS$1||tt===DISTS$1&&_t>ENOUGH_DISTS$1)return 1;for(;;){Bt=ut-xt,ot[dt]<Pt?(qt=0,Ut=ot[dt]):ot[dt]>Pt?(qt=Ot[It+ot[dt]],Ut=Ct[kt+ot[dt]]):(qt=32+64,Ut=0),St=1<<ut-xt,bt=1<<mt,ft=bt;do bt-=St,it[At+(yt>>xt)+bt]=Bt<<24|qt<<16|Ut|0;while(bt!==0);for(St=1<<ut-1;yt&St;)St>>=1;if(St!==0?(yt&=St-1,yt+=St):yt=0,dt++,--Dt[ut]===0){if(ut===ht)break;ut=rt[nt+ot[dt]]}if(ut>gt&&(yt&Tt)!==Et){for(xt===0&&(xt=gt),At+=ft,mt=ut-xt,vt=1<<mt;mt+xt<ht&&(vt-=Dt[mt+xt],!(vt<=0));)mt++,vt<<=1;if(_t+=1<<mt,tt===LENS$1&&_t>ENOUGH_LENS$1||tt===DISTS$1&&_t>ENOUGH_DISTS$1)return 1;Et=yt&Tt,it[Et]=gt<<24|mt<<16|At-st|0}}return yt!==0&&(it[At+yt]=ut-xt<<24|64<<16|0),lt.bits=gt,0},utils$1=common,adler32=adler32_1,crc32=crc32_1,inflate_fast=inffast,inflate_table=inftrees,CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS;function zswap32(et){return(et>>>24&255)+(et>>>8&65280)+((et&65280)<<8)+((et&255)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils$1.Buf16(320),this.work=new utils$1.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(et){var tt;return!et||!et.state?Z_STREAM_ERROR:(tt=et.state,et.total_in=et.total_out=tt.total=0,et.msg="",tt.wrap&&(et.adler=tt.wrap&1),tt.mode=HEAD,tt.last=0,tt.havedict=0,tt.dmax=32768,tt.head=null,tt.hold=0,tt.bits=0,tt.lencode=tt.lendyn=new utils$1.Buf32(ENOUGH_LENS),tt.distcode=tt.distdyn=new utils$1.Buf32(ENOUGH_DISTS),tt.sane=1,tt.back=-1,Z_OK)}function inflateReset(et){var tt;return!et||!et.state?Z_STREAM_ERROR:(tt=et.state,tt.wsize=0,tt.whave=0,tt.wnext=0,inflateResetKeep(et))}function inflateReset2(et,tt){var rt,nt;return!et||!et.state||(nt=et.state,tt<0?(rt=0,tt=-tt):(rt=(tt>>4)+1,tt<48&&(tt&=15)),tt&&(tt<8||tt>15))?Z_STREAM_ERROR:(nt.window!==null&&nt.wbits!==tt&&(nt.window=null),nt.wrap=rt,nt.wbits=tt,inflateReset(et))}function inflateInit2(et,tt){var rt,nt;return et?(nt=new InflateState,et.state=nt,nt.window=null,rt=inflateReset2(et,tt),rt!==Z_OK&&(et.state=null),rt):Z_STREAM_ERROR}function inflateInit(et){return inflateInit2(et,DEF_WBITS)}var virgin=!0,lenfix,distfix;function fixedtables(et){if(virgin){var tt;for(lenfix=new utils$1.Buf32(512),distfix=new utils$1.Buf32(32),tt=0;tt<144;)et.lens[tt++]=8;for(;tt<256;)et.lens[tt++]=9;for(;tt<280;)et.lens[tt++]=7;for(;tt<288;)et.lens[tt++]=8;for(inflate_table(LENS,et.lens,0,288,lenfix,0,et.work,{bits:9}),tt=0;tt<32;)et.lens[tt++]=5;inflate_table(DISTS,et.lens,0,32,distfix,0,et.work,{bits:5}),virgin=!1}et.lencode=lenfix,et.lenbits=9,et.distcode=distfix,et.distbits=5}function updatewindow(et,tt,rt,nt){var at,it=et.state;return it.window===null&&(it.wsize=1<<it.wbits,it.wnext=0,it.whave=0,it.window=new utils$1.Buf8(it.wsize)),nt>=it.wsize?(utils$1.arraySet(it.window,tt,rt-it.wsize,it.wsize,0),it.wnext=0,it.whave=it.wsize):(at=it.wsize-it.wnext,at>nt&&(at=nt),utils$1.arraySet(it.window,tt,rt-nt,at,it.wnext),nt-=at,nt?(utils$1.arraySet(it.window,tt,rt-nt,nt,0),it.wnext=nt,it.whave=it.wsize):(it.wnext+=at,it.wnext===it.wsize&&(it.wnext=0),it.whave<it.wsize&&(it.whave+=at))),0}function inflate$2(et,tt){var rt,nt,at,it,st,ot,lt,ct,ut,dt,ft,ht,gt,mt,xt=0,vt,_t,yt,St,bt,Et,Tt,At,Ct=new utils$1.Buf8(4),kt,Pt,Dt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!et||!et.state||!et.output||!et.input&&et.avail_in!==0)return Z_STREAM_ERROR;rt=et.state,rt.mode===TYPE&&(rt.mode=TYPEDO),st=et.next_out,at=et.output,lt=et.avail_out,it=et.next_in,nt=et.input,ot=et.avail_in,ct=rt.hold,ut=rt.bits,dt=ot,ft=lt,At=Z_OK;e:for(;;)switch(rt.mode){case HEAD:if(rt.wrap===0){rt.mode=TYPEDO;break}for(;ut<16;){if(ot===0)break e;ot--,ct+=nt[it++]<<ut,ut+=8}if(rt.wrap&2&&ct===35615){rt.check=0,Ct[0]=ct&255,Ct[1]=ct>>>8&255,rt.check=crc32(rt.check,Ct,2,0),ct=0,ut=0,rt.mode=FLAGS;break}if(rt.flags=0,rt.head&&(rt.head.done=!1),!(rt.wrap&1)||(((ct&255)<<8)+(ct>>8))%31){et.msg="incorrect header check",rt.mode=BAD;break}if((ct&15)!==Z_DEFLATED){et.msg="unknown compression method",rt.mode=BAD;break}if(ct>>>=4,ut-=4,Tt=(ct&15)+8,rt.wbits===0)rt.wbits=Tt;else if(Tt>rt.wbits){et.msg="invalid window size",rt.mode=BAD;break}rt.dmax=1<<Tt,et.adler=rt.check=1,rt.mode=ct&512?DICTID:TYPE,ct=0,ut=0;break;case FLAGS:for(;ut<16;){if(ot===0)break e;ot--,ct+=nt[it++]<<ut,ut+=8}if(rt.flags=ct,(rt.flags&255)!==Z_DEFLATED){et.msg="unknown compression method",rt.mode=BAD;break}if(rt.flags&57344){et.msg="unknown header flags set",rt.mode=BAD;break}rt.head&&(rt.head.text=ct>>8&1),rt.flags&512&&(Ct[0]=ct&255,Ct[1]=ct>>>8&255,rt.check=crc32(rt.check,Ct,2,0)),ct=0,ut=0,rt.mode=TIME;case TIME:for(;ut<32;){if(ot===0)break e;ot--,ct+=nt[it++]<<ut,ut+=8}rt.head&&(rt.head.time=ct),rt.flags&512&&(Ct[0]=ct&255,Ct[1]=ct>>>8&255,Ct[2]=ct>>>16&255,Ct[3]=ct>>>24&255,rt.check=crc32(rt.check,Ct,4,0)),ct=0,ut=0,rt.mode=OS;case OS:for(;ut<16;){if(ot===0)break e;ot--,ct+=nt[it++]<<ut,ut+=8}rt.head&&(rt.head.xflags=ct&255,rt.head.os=ct>>8),rt.flags&512&&(Ct[0]=ct&255,Ct[1]=ct>>>8&255,rt.check=crc32(rt.check,Ct,2,0)),ct=0,ut=0,rt.mode=EXLEN;case EXLEN:if(rt.flags&1024){for(;ut<16;){if(ot===0)break e;ot--,ct+=nt[it++]<<ut,ut+=8}rt.length=ct,rt.head&&(rt.head.extra_len=ct),rt.flags&512&&(Ct[0]=ct&255,Ct[1]=ct>>>8&255,rt.check=crc32(rt.check,Ct,2,0)),ct=0,ut=0}else rt.head&&(rt.head.extra=null);rt.mode=EXTRA;case EXTRA:if(rt.flags&1024&&(ht=rt.length,ht>ot&&(ht=ot),ht&&(rt.head&&(Tt=rt.head.extra_len-rt.length,rt.head.extra||(rt.head.extra=new Array(rt.head.extra_len)),utils$1.arraySet(rt.head.extra,nt,it,ht,Tt)),rt.flags&512&&(rt.check=crc32(rt.check,nt,ht,it)),ot-=ht,it+=ht,rt.length-=ht),rt.length))break e;rt.length=0,rt.mode=NAME;case NAME:if(rt.flags&2048){if(ot===0)break e;ht=0;do Tt=nt[it+ht++],rt.head&&Tt&&rt.length<65536&&(rt.head.name+=String.fromCharCode(Tt));while(Tt&&ht<ot);if(rt.flags&512&&(rt.check=crc32(rt.check,nt,ht,it)),ot-=ht,it+=ht,Tt)break e}else rt.head&&(rt.head.name=null);rt.length=0,rt.mode=COMMENT;case COMMENT:if(rt.flags&4096){if(ot===0)break e;ht=0;do Tt=nt[it+ht++],rt.head&&Tt&&rt.length<65536&&(rt.head.comment+=String.fromCharCode(Tt));while(Tt&&ht<ot);if(rt.flags&512&&(rt.check=crc32(rt.check,nt,ht,it)),ot-=ht,it+=ht,Tt)break e}else rt.head&&(rt.head.comment=null);rt.mode=HCRC;case HCRC:if(rt.flags&512){for(;ut<16;){if(ot===0)break e;ot--,ct+=nt[it++]<<ut,ut+=8}if(ct!==(rt.check&65535)){et.msg="header crc mismatch",rt.mode=BAD;break}ct=0,ut=0}rt.head&&(rt.head.hcrc=rt.flags>>9&1,rt.head.done=!0),et.adler=rt.check=0,rt.mode=TYPE;break;case DICTID:for(;ut<32;){if(ot===0)break e;ot--,ct+=nt[it++]<<ut,ut+=8}et.adler=rt.check=zswap32(ct),ct=0,ut=0,rt.mode=DICT;case DICT:if(rt.havedict===0)return et.next_out=st,et.avail_out=lt,et.next_in=it,et.avail_in=ot,rt.hold=ct,rt.bits=ut,Z_NEED_DICT;et.adler=rt.check=1,rt.mode=TYPE;case TYPE:if(tt===Z_BLOCK||tt===Z_TREES)break e;case TYPEDO:if(rt.last){ct>>>=ut&7,ut-=ut&7,rt.mode=CHECK;break}for(;ut<3;){if(ot===0)break e;ot--,ct+=nt[it++]<<ut,ut+=8}switch(rt.last=ct&1,ct>>>=1,ut-=1,ct&3){case 0:rt.mode=STORED;break;case 1:if(fixedtables(rt),rt.mode=LEN_,tt===Z_TREES){ct>>>=2,ut-=2;break e}break;case 2:rt.mode=TABLE;break;case 3:et.msg="invalid block type",rt.mode=BAD}ct>>>=2,ut-=2;break;case STORED:for(ct>>>=ut&7,ut-=ut&7;ut<32;){if(ot===0)break e;ot--,ct+=nt[it++]<<ut,ut+=8}if((ct&65535)!==(ct>>>16^65535)){et.msg="invalid stored block lengths",rt.mode=BAD;break}if(rt.length=ct&65535,ct=0,ut=0,rt.mode=COPY_,tt===Z_TREES)break e;case COPY_:rt.mode=COPY;case COPY:if(ht=rt.length,ht){if(ht>ot&&(ht=ot),ht>lt&&(ht=lt),ht===0)break e;utils$1.arraySet(at,nt,it,ht,st),ot-=ht,it+=ht,lt-=ht,st+=ht,rt.length-=ht;break}rt.mode=TYPE;break;case TABLE:for(;ut<14;){if(ot===0)break e;ot--,ct+=nt[it++]<<ut,ut+=8}if(rt.nlen=(ct&31)+257,ct>>>=5,ut-=5,rt.ndist=(ct&31)+1,ct>>>=5,ut-=5,rt.ncode=(ct&15)+4,ct>>>=4,ut-=4,rt.nlen>286||rt.ndist>30){et.msg="too many length or distance symbols",rt.mode=BAD;break}rt.have=0,rt.mode=LENLENS;case LENLENS:for(;rt.have<rt.ncode;){for(;ut<3;){if(ot===0)break e;ot--,ct+=nt[it++]<<ut,ut+=8}rt.lens[Dt[rt.have++]]=ct&7,ct>>>=3,ut-=3}for(;rt.have<19;)rt.lens[Dt[rt.have++]]=0;if(rt.lencode=rt.lendyn,rt.lenbits=7,kt={bits:rt.lenbits},At=inflate_table(CODES,rt.lens,0,19,rt.lencode,0,rt.work,kt),rt.lenbits=kt.bits,At){et.msg="invalid code lengths set",rt.mode=BAD;break}rt.have=0,rt.mode=CODELENS;case CODELENS:for(;rt.have<rt.nlen+rt.ndist;){for(;xt=rt.lencode[ct&(1<<rt.lenbits)-1],vt=xt>>>24,_t=xt>>>16&255,yt=xt&65535,!(vt<=ut);){if(ot===0)break e;ot--,ct+=nt[it++]<<ut,ut+=8}if(yt<16)ct>>>=vt,ut-=vt,rt.lens[rt.have++]=yt;else{if(yt===16){for(Pt=vt+2;ut<Pt;){if(ot===0)break e;ot--,ct+=nt[it++]<<ut,ut+=8}if(ct>>>=vt,ut-=vt,rt.have===0){et.msg="invalid bit length repeat",rt.mode=BAD;break}Tt=rt.lens[rt.have-1],ht=3+(ct&3),ct>>>=2,ut-=2}else if(yt===17){for(Pt=vt+3;ut<Pt;){if(ot===0)break e;ot--,ct+=nt[it++]<<ut,ut+=8}ct>>>=vt,ut-=vt,Tt=0,ht=3+(ct&7),ct>>>=3,ut-=3}else{for(Pt=vt+7;ut<Pt;){if(ot===0)break e;ot--,ct+=nt[it++]<<ut,ut+=8}ct>>>=vt,ut-=vt,Tt=0,ht=11+(ct&127),ct>>>=7,ut-=7}if(rt.have+ht>rt.nlen+rt.ndist){et.msg="invalid bit length repeat",rt.mode=BAD;break}for(;ht--;)rt.lens[rt.have++]=Tt}}if(rt.mode===BAD)break;if(rt.lens[256]===0){et.msg="invalid code -- missing end-of-block",rt.mode=BAD;break}if(rt.lenbits=9,kt={bits:rt.lenbits},At=inflate_table(LENS,rt.lens,0,rt.nlen,rt.lencode,0,rt.work,kt),rt.lenbits=kt.bits,At){et.msg="invalid literal/lengths set",rt.mode=BAD;break}if(rt.distbits=6,rt.distcode=rt.distdyn,kt={bits:rt.distbits},At=inflate_table(DISTS,rt.lens,rt.nlen,rt.ndist,rt.distcode,0,rt.work,kt),rt.distbits=kt.bits,At){et.msg="invalid distances set",rt.mode=BAD;break}if(rt.mode=LEN_,tt===Z_TREES)break e;case LEN_:rt.mode=LEN;case LEN:if(ot>=6&&lt>=258){et.next_out=st,et.avail_out=lt,et.next_in=it,et.avail_in=ot,rt.hold=ct,rt.bits=ut,inflate_fast(et,ft),st=et.next_out,at=et.output,lt=et.avail_out,it=et.next_in,nt=et.input,ot=et.avail_in,ct=rt.hold,ut=rt.bits,rt.mode===TYPE&&(rt.back=-1);break}for(rt.back=0;xt=rt.lencode[ct&(1<<rt.lenbits)-1],vt=xt>>>24,_t=xt>>>16&255,yt=xt&65535,!(vt<=ut);){if(ot===0)break e;ot--,ct+=nt[it++]<<ut,ut+=8}if(_t&&!(_t&240)){for(St=vt,bt=_t,Et=yt;xt=rt.lencode[Et+((ct&(1<<St+bt)-1)>>St)],vt=xt>>>24,_t=xt>>>16&255,yt=xt&65535,!(St+vt<=ut);){if(ot===0)break e;ot--,ct+=nt[it++]<<ut,ut+=8}ct>>>=St,ut-=St,rt.back+=St}if(ct>>>=vt,ut-=vt,rt.back+=vt,rt.length=yt,_t===0){rt.mode=LIT;break}if(_t&32){rt.back=-1,rt.mode=TYPE;break}if(_t&64){et.msg="invalid literal/length code",rt.mode=BAD;break}rt.extra=_t&15,rt.mode=LENEXT;case LENEXT:if(rt.extra){for(Pt=rt.extra;ut<Pt;){if(ot===0)break e;ot--,ct+=nt[it++]<<ut,ut+=8}rt.length+=ct&(1<<rt.extra)-1,ct>>>=rt.extra,ut-=rt.extra,rt.back+=rt.extra}rt.was=rt.length,rt.mode=DIST;case DIST:for(;xt=rt.distcode[ct&(1<<rt.distbits)-1],vt=xt>>>24,_t=xt>>>16&255,yt=xt&65535,!(vt<=ut);){if(ot===0)break e;ot--,ct+=nt[it++]<<ut,ut+=8}if(!(_t&240)){for(St=vt,bt=_t,Et=yt;xt=rt.distcode[Et+((ct&(1<<St+bt)-1)>>St)],vt=xt>>>24,_t=xt>>>16&255,yt=xt&65535,!(St+vt<=ut);){if(ot===0)break e;ot--,ct+=nt[it++]<<ut,ut+=8}ct>>>=St,ut-=St,rt.back+=St}if(ct>>>=vt,ut-=vt,rt.back+=vt,_t&64){et.msg="invalid distance code",rt.mode=BAD;break}rt.offset=yt,rt.extra=_t&15,rt.mode=DISTEXT;case DISTEXT:if(rt.extra){for(Pt=rt.extra;ut<Pt;){if(ot===0)break e;ot--,ct+=nt[it++]<<ut,ut+=8}rt.offset+=ct&(1<<rt.extra)-1,ct>>>=rt.extra,ut-=rt.extra,rt.back+=rt.extra}if(rt.offset>rt.dmax){et.msg="invalid distance too far back",rt.mode=BAD;break}rt.mode=MATCH;case MATCH:if(lt===0)break e;if(ht=ft-lt,rt.offset>ht){if(ht=rt.offset-ht,ht>rt.whave&&rt.sane){et.msg="invalid distance too far back",rt.mode=BAD;break}ht>rt.wnext?(ht-=rt.wnext,gt=rt.wsize-ht):gt=rt.wnext-ht,ht>rt.length&&(ht=rt.length),mt=rt.window}else mt=at,gt=st-rt.offset,ht=rt.length;ht>lt&&(ht=lt),lt-=ht,rt.length-=ht;do at[st++]=mt[gt++];while(--ht);rt.length===0&&(rt.mode=LEN);break;case LIT:if(lt===0)break e;at[st++]=rt.length,lt--,rt.mode=LEN;break;case CHECK:if(rt.wrap){for(;ut<32;){if(ot===0)break e;ot--,ct|=nt[it++]<<ut,ut+=8}if(ft-=lt,et.total_out+=ft,rt.total+=ft,ft&&(et.adler=rt.check=rt.flags?crc32(rt.check,at,ft,st-ft):adler32(rt.check,at,ft,st-ft)),ft=lt,(rt.flags?ct:zswap32(ct))!==rt.check){et.msg="incorrect data check",rt.mode=BAD;break}ct=0,ut=0}rt.mode=LENGTH;case LENGTH:if(rt.wrap&&rt.flags){for(;ut<32;){if(ot===0)break e;ot--,ct+=nt[it++]<<ut,ut+=8}if(ct!==(rt.total&4294967295)){et.msg="incorrect length check",rt.mode=BAD;break}ct=0,ut=0}rt.mode=DONE;case DONE:At=Z_STREAM_END;break e;case BAD:At=Z_DATA_ERROR;break e;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}return et.next_out=st,et.avail_out=lt,et.next_in=it,et.avail_in=ot,rt.hold=ct,rt.bits=ut,(rt.wsize||ft!==et.avail_out&&rt.mode<BAD&&(rt.mode<CHECK||tt!==Z_FINISH))&&updatewindow(et,et.output,et.next_out,ft-et.avail_out),dt-=et.avail_in,ft-=et.avail_out,et.total_in+=dt,et.total_out+=ft,rt.total+=ft,rt.wrap&&ft&&(et.adler=rt.check=rt.flags?crc32(rt.check,at,ft,et.next_out-ft):adler32(rt.check,at,ft,et.next_out-ft)),et.data_type=rt.bits+(rt.last?64:0)+(rt.mode===TYPE?128:0)+(rt.mode===LEN_||rt.mode===COPY_?256:0),(dt===0&&ft===0||tt===Z_FINISH)&&At===Z_OK&&(At=Z_BUF_ERROR),At}function inflateEnd(et){if(!et||!et.state)return Z_STREAM_ERROR;var tt=et.state;return tt.window&&(tt.window=null),et.state=null,Z_OK}function inflateGetHeader(et,tt){var rt;return!et||!et.state||(rt=et.state,!(rt.wrap&2))?Z_STREAM_ERROR:(rt.head=tt,tt.done=!1,Z_OK)}function inflateSetDictionary(et,tt){var rt=tt.length,nt,at,it;return!et||!et.state||(nt=et.state,nt.wrap!==0&&nt.mode!==DICT)?Z_STREAM_ERROR:nt.mode===DICT&&(at=1,at=adler32(at,tt,rt,0),at!==nt.check)?Z_DATA_ERROR:(it=updatewindow(et,tt,rt,rt),it?(nt.mode=MEM,Z_MEM_ERROR):(nt.havedict=1,Z_OK))}inflate$3.inflateReset=inflateReset;inflate$3.inflateReset2=inflateReset2;inflate$3.inflateResetKeep=inflateResetKeep;inflate$3.inflateInit=inflateInit;inflate$3.inflateInit2=inflateInit2;inflate$3.inflate=inflate$2;inflate$3.inflateEnd=inflateEnd;inflate$3.inflateGetHeader=inflateGetHeader;inflate$3.inflateSetDictionary=inflateSetDictionary;inflate$3.inflateInfo="pako inflate (from Nodeca project)";var constants$1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function GZheader$1(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader$1,zlib_inflate=inflate$3,utils=common,strings=strings$2,c$1=constants$1,msg=messages,ZStream=zstream,GZheader=gzheader,toString=Object.prototype.toString;function Inflate(et){if(!(this instanceof Inflate))return new Inflate(et);this.options=utils.assign({chunkSize:16384,windowBits:0,to:""},et||{});var tt=this.options;tt.raw&&tt.windowBits>=0&&tt.windowBits<16&&(tt.windowBits=-tt.windowBits,tt.windowBits===0&&(tt.windowBits=-15)),tt.windowBits>=0&&tt.windowBits<16&&!(et&&et.windowBits)&&(tt.windowBits+=32),tt.windowBits>15&&tt.windowBits<48&&(tt.windowBits&15||(tt.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var rt=zlib_inflate.inflateInit2(this.strm,tt.windowBits);if(rt!==c$1.Z_OK)throw new Error(msg[rt]);if(this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header),tt.dictionary&&(typeof tt.dictionary=="string"?tt.dictionary=strings.string2buf(tt.dictionary):toString.call(tt.dictionary)==="[object ArrayBuffer]"&&(tt.dictionary=new Uint8Array(tt.dictionary)),tt.raw&&(rt=zlib_inflate.inflateSetDictionary(this.strm,tt.dictionary),rt!==c$1.Z_OK)))throw new Error(msg[rt])}Inflate.prototype.push=function(et,tt){var rt=this.strm,nt=this.options.chunkSize,at=this.options.dictionary,it,st,ot,lt,ct,ut=!1;if(this.ended)return!1;st=tt===~~tt?tt:tt===!0?c$1.Z_FINISH:c$1.Z_NO_FLUSH,typeof et=="string"?rt.input=strings.binstring2buf(et):toString.call(et)==="[object ArrayBuffer]"?rt.input=new Uint8Array(et):rt.input=et,rt.next_in=0,rt.avail_in=rt.input.length;do{if(rt.avail_out===0&&(rt.output=new utils.Buf8(nt),rt.next_out=0,rt.avail_out=nt),it=zlib_inflate.inflate(rt,c$1.Z_NO_FLUSH),it===c$1.Z_NEED_DICT&&at&&(it=zlib_inflate.inflateSetDictionary(this.strm,at)),it===c$1.Z_BUF_ERROR&&ut===!0&&(it=c$1.Z_OK,ut=!1),it!==c$1.Z_STREAM_END&&it!==c$1.Z_OK)return this.onEnd(it),this.ended=!0,!1;rt.next_out&&(rt.avail_out===0||it===c$1.Z_STREAM_END||rt.avail_in===0&&(st===c$1.Z_FINISH||st===c$1.Z_SYNC_FLUSH))&&(this.options.to==="string"?(ot=strings.utf8border(rt.output,rt.next_out),lt=rt.next_out-ot,ct=strings.buf2string(rt.output,ot),rt.next_out=lt,rt.avail_out=nt-lt,lt&&utils.arraySet(rt.output,rt.output,ot,lt,0),this.onData(ct)):this.onData(utils.shrinkBuf(rt.output,rt.next_out))),rt.avail_in===0&&rt.avail_out===0&&(ut=!0)}while((rt.avail_in>0||rt.avail_out===0)&&it!==c$1.Z_STREAM_END);return it===c$1.Z_STREAM_END&&(st=c$1.Z_FINISH),st===c$1.Z_FINISH?(it=zlib_inflate.inflateEnd(this.strm),this.onEnd(it),this.ended=!0,it===c$1.Z_OK):(st===c$1.Z_SYNC_FLUSH&&(this.onEnd(c$1.Z_OK),rt.avail_out=0),!0)};Inflate.prototype.onData=function(et){this.chunks.push(et)};Inflate.prototype.onEnd=function(et){et===c$1.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=et,this.msg=this.strm.msg};function inflate$1(et,tt){var rt=new Inflate(tt);if(rt.push(et,!0),rt.err)throw rt.msg||msg[rt.err];return rt.result}function inflateRaw(et,tt){return tt=tt||{},tt.raw=!0,inflate$1(et,tt)}inflate$4.Inflate=Inflate;inflate$4.inflate=inflate$1;inflate$4.inflateRaw=inflateRaw;inflate$4.ungzip=inflate$1;var assign=common.assign,deflate=deflate$4,inflate=inflate$4,constants=constants$1,pako={};assign(pako,deflate,inflate,constants);var pako_1=pako;const pako$1=getDefaultExportFromCjs(pako_1);var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=new Uint8Array(256);for(var i$1=0;i$1<chars.length;i$1++)lookup[chars.charCodeAt(i$1)]=i$1;var decodeFromBase64=function(et){var tt=et.length*.75,rt=et.length,nt,at=0,it,st,ot,lt;et[et.length-1]==="="&&(tt--,et[et.length-2]==="="&&tt--);var ct=new Uint8Array(tt);for(nt=0;nt<rt;nt+=4)it=lookup[et.charCodeAt(nt)],st=lookup[et.charCodeAt(nt+1)],ot=lookup[et.charCodeAt(nt+2)],lt=lookup[et.charCodeAt(nt+3)],ct[at++]=it<<2|st>>4,ct[at++]=(st&15)<<4|ot>>2,ct[at++]=(ot&3)<<6|lt&63;return ct},arrayToString=function(et){for(var tt="",rt=0;rt<et.length;rt++)tt+=String.fromCharCode(et[rt]);return tt},decompressJson=function(et){return arrayToString(pako$1.inflate(decodeFromBase64(et)))},padStart=function(et,tt,rt){for(var nt="",at=0,it=tt-et.length;at<it;at++)nt+=rt;return nt+et};const CourierBoldCompressed="eJyFWdtyGjkQ/RVqnnar8Bb4lpg3jEnCxgEvGDtxKg9iphm01oyILrZxKv++mrGd3az6KC8UnNa0+nrUGr5lI11VVLtskF198FaU1Dns9w9OOkf7/ePDrJu90bWbiorCgpH2RpLZO9WqaCReqZ8lnReJqKTa/SwL8DXJctPs9Lxs4oSS+bAuVVjXC7/tG/lAxYV0+SYbOOOpm402wojckVlQ8+T4wVFdUDHXlaifrTs91Q/Z4PNeMLu7t3/U6746POm+7vW/dLNlWGuUrOlCW+mkrrPBXr/X+4/gciPz25qszQbhyeyKjG2XZb3ewR+9Xi/sMdVO5k+ebHemcaHzW/57p3/y+qQbPk967We//TxoP191hoVeUWexs44q25nUuTZbbYSj4o9OZ6hUZ97osZ05WTJ3AQ37jMOqQtblIt9QG7lWycKJuhCmeJGGhSOxffccyqPj/W728eXX4cFJNxvavAmRyQbH++HnGf34vdc/etXNFq54d50NXh+2X6/C137v+CnQH8gZmYdQfP6WXX8MCppQTYMlditCBL53/wfTQ65EFeNfvQ6erlQsqX21akJc1rGs0EoJE+NbMnlToZFAVEFkQ3iABW2uGH3CUK1ojUTgMWEbjfaWeUp5G6N5aCwRw5vddkOM98EVqRlPrBJ2E8OPZHSM6prJkrtnVrqNIWbtOjQrg8o7Zq2VDwxId5x3xMe0lpzBuVaa0WGpkkCkmgaON/3qBVODpaHQiIybXz3ZliTi3DO2D2PoNIZGMXQWQ+MYehNDb2PoXQxNYujPGHofQ+cx9CGGpjE0i6GLGPorhuYxtIihyxhaxtBVDF3H0McY+hRDNzG0CqfQLTmeNlZBBvr0+TnIKbmUuTS5Z1jUN6xtw8nBtEjLb7wxDOesmB5j+JfpIIYLmIZiWC6GZAz9HUMMvTItzESL6VqG9rZMKGOI4QaGXpjY+xi6i6H7GGKYdMeQPl9foBBW3GHark9Vo5OqgEd9oe+ZOPOnc3NcqmZgiUuomehYnt1xZ8daaSPZ8wBoyb0Jx3jOBLBtGyvbiRNOLXw0Sy+DpNKAAhpxq/gXYhD6NdMda6bwwyTH0kwhypI70p5wdhR7Gjia3JEhpvfDLCRKI7YcqYXJnxgv/g3vSthEhNNSEKIfCQByUkpurWQaNXjqNtqjSfHp0OdLOwSAG31E7h03uLRMvlbEtDPoq0rkhqvhlSFu40I7kfP9VoRLFrH+G7YLcypCQLkJ1delML5SwjPb6DIMmQxL54L1gyq+YIfMyKNNsQ4zHj8UnoMDdoZwfoMqkJxX7A6Cj3czWzLdqcC+GuGM9tCa4RobSp5J2gTnk0D5CVA0Pp1RAqn7hC0o5J3kqvkTsGyY6gwBHlqmHtqBh2x77UI9QimVS75PljgMAjXDEljn0QNjvMlZIAju/pF0NH95VcFshSgnB3Ug+LhMkwYoVKOAUS+T2kZIG2DVcYInLXDTQkKUYHelH6kuGcEcbPE26aRPNklKOEQpNcCQHPp6k4jc5UYbRtkM7T4HcVsAvADWLtEGnq/M9t2G9e2Aw8xEM1CCQ4QDWq28cnKrmDHTAwcvgYNh1HJSqEKumdvVDlPDFOwjU8UyTpZZ4tTBohzYUSMaRAmdggBNgKLmzVsYGLjXbyujb6lm70CGSmnB1PsWJHuSYhQfupq/ioxBTRngkEaRuQEP3ICIPb/kAq/Axo6ZUEaQFFSStxwa/eDpiARDND4kqhIE+BG1Btp7hjKCjh6UKYt2xk7MkmMJ8PCMlGNy5XiSdvc6wYjYtIp5pSGBRTo9Z45R6Asw4bQ8HgrYhEJmTFsk6pWvyPfJOj4HiXNGFFQJw1hOCVaYgChNUOGcA6tD0DZCMSdDczMBDa5TFVWDqWn5i/yB+BByqARcGhx6ziqXVD4Ii2TqZmnLi8AS3L8dGqRoBIzwkM0LmXNpOAOKTNKbKciPBvg8XdZJ6RDoHEKO5meuGdDzmOiQMTrt0d63SVfAIDBJtgIwwaUvN7ps8l1r7v0I5lKPRUEV+rcqfaHlDvJH4FSdVBVCjk8IiXp87Jv/Ib90s/dk6gshTfPv8Zfv/wDUfBK2",CourierBoldObliqueCompressed="eJyFWdtyGjkQ/RVqnnarcAo7vuE3jEnCxgEvGDtxKg9iRgxaa0ZEF9s4lX/fnrGdTVZ9lBcKTmvU96PW8C0bmqqStc9OsqsPwYlSdnaPDvb6naP+3v5+1s3emNpPRCVpwdAEq6TdOTW6mC61+hpksyBo/euCTrOg89MKUSm9/XUNwddSletGcbOcfo+90Cof1KWmdTu7e4S4N+pBFhfK5+vsxNsgu9lwLazIvbRz2Tw7evCyLmQxM5Won809PTUP2cnnnYOj7s7eQa97fNjvHvd2v3SzBS21WtXywjjllakbRb3eT4LLtcpva+lcdkJPZlfSunZZ1uu9ftXr9UjFxHiVP7my2drGh84f+Z+d3f5xv0uf/V77udt+vm4/jzqDwixlZ751XlauM65zYzfGCi+LV53OQOvOrNnHdWbSSXtHKOkZ0apC1eU8X8s2dO0mcy/qQtjiRUoLh2Lz7jmWB4cUto8vv/Zf97vZwOVNhGx2crhHP8/kj987uxShbO6Ld9fZyfF++/WKvu72Dp/i/EF6q3IKxedv2fVH2qAJ1YQscRtBEfje/R8sH3Itqhj/Ggx5utSxpA7VsglxWceywmgtbIxvpM2bio0EoiKRo/AAC9pcMfsJK2stV0gEHhOu2dHdMk/p4GI0p0YTMbzebtaS8Z5cUYbxxGnh1jH8KK2JUVMzWfL3zEq/tpJZu6JuZVB1x6x16oEB5R3nneRjWivO4Nxow+zhZKWASDcNHCv9GgRTg6WV1IiMm8ReriWJOPeM7YMYOo2hYQydxdAoht7E0NsYehdD4xj6K4bex9B5DH2IoUkMTWPoIob+jqFZDM1j6DKGFjF0FUPXMfQxhj7F0E0MLekQupWep40lyUCfPj8HOSVXKlc2DwyLhoa1HZ0cTIu0/MYbw3DOkukxhn+ZDmK4gGkohuViSMXQPzHE0CvTwky0mK5laG/DhDKGGG5g6IWJfYihuxi6jyGGSbcM6fP1BQphyR2m7fpUNXqlC3jUF+aeiTN/OjfHpW4GlriEmoGO5dktd3astLGKPQ/ALnmwdIznTADbtnGqHTnh1MJHswyKJJUBFNCI241/IwahXzHdsWIKnyY5lmYKUZbckfaEs6PY08DR5E5ayfQ+zUKitGLDkRpdASTjxX/hXQqXiHBaCkL0IwFALrVWG6eYRiVP/doENCk+Hfp8aVMAuNFH5MFzg0vL5CstmXYGfVWJ3HI1vLSSU1wYL3K+3wq6ZUnWf8t2YS4LCig3oYa6FDZUWgRGjSlpyGRYOhesH7LiC3bAjDzGFiua8fih8BwcsFOE8woqIrmgWQ2Cj3czWzLdqYFeg3Bmd2pNusVSyTNJG+N8SlB+AhRNSGdUgtR9whYU6k5x1fwJWDZIdYYADy1SD23BQ669dqEekaktF3yfLHAYBGqGBbAuoAdGWMkZEQR3/0g6mr+8qmBUIcrJQR0IPi6TpAEa1Shg1MvkbkO0G2DVUYInHXDTQUJUQLs2j7IuGcEMqHibdDIkmyQlHKCUWmBIDn29SUTucm0ss9kUaZ+BuM0BXgBrF0hB4CuzfbfhQjvgMDPRFJTgAOGAVqugvdpoZswMwMFL4CCNWl4JXagVc7vaYmqYAD0qVSyjZJklTh0syoEdNaJBlNAJCNAYbNS8eaOBgXv9trTmVtbsHcjKUjkw9b4FyR6nGCVQV/NXkRGoKQscMigyN+CBGxCx55dc4BXYyDMTyhCSgk7ylkejHzwdkWCAxodEVYIAP6LWQLqnKCPo6EGZckgzdmKaHEuAh2dSeyZXnidpf28SjIhNq5hXGgpYZNJz5giFvgATTsvjVMCWCpkxbZ6oV74i3yfr+BwkzltRyEpYxnKZYIUxiNIYFc45sJqCthaaORmamwlocJOqqBpMTYvf5A/ERyKHSsCl5NBzVrmk8kGYJ1M3TVteEEtw/3YYkKIhMCJANi9UzqXhDGxkk95MQH4MwGfpsk5KB2DPAeRofuaagn0eEx0yQqc90n2bdAUMAuNkKwATfPpyY8om37Xh3o9gLg1YRFuhf6vSF1ruIH8ETtXJrSjk+IRQqMdHofkf8ks3ey9tfSGUbf49/vL9XxrnGMA=",CourierObliqueCompressed="eJyFWVtT2zgU/isZP+3OhE5Iy/UtDaHNFhI2IdDS4UGxFUeLbKW6AKHT/77Hhnbb1fnUFw98x9K5fzpyvmZDU1Wy9tlxdnUenChlZ3e//+awc7B32D/Kutmpqf1EVJJeGJpglbQ706VWX4JshEHrX4Wdn4SiUnr7q5jga6nKdaPvXBYqVISMvdAqH9Slpjd3dvuEuFP1KIsL5fN1duxtkN1suBZW5F7auWxWjx69rAtZzEwl6hc73741j9nx553+QXenv9frHr456h729m672YJetVrV8sI45ZWpG0W93k+Cy7XK72rpXHZMK7MraV37WtbrvX7V6/VIxcR4lT87s9naxovOH/mfnd2jw6MuPY967XO3ffbb5+v2edAZFGYpO/Ot87JynXGdG7sxVnhZvOp0Blp3Zs1urjOTTtp7QknbiN4qVF3O87VsQ9huMveiLoQtvkvpxaHYvH+J6d4+Be/j9//e9Pe72cDlTZxsdrzfP+pmJ/LH/zu7ewfdbO6L99e0crf98+rlzybY59JblVM8Pn/Nrj/S+iZeEzLEbQSF4Vv3f7B8zLWoYvxLMOToUseSOlTLJs5lHcsKo7WwMb6RNm/qNRKIikSOogMsaBPG7CesrLVcIRFYJlyzo7tjVungYjSnNhMxvN5u1pLxnlxRhvHEaeHWMfwkrYlRUzNZ8g/Mm35tJfPuipqWQdU9865Tjwwo7znvJB/TWnEG50YbZg8nKwVEuuniWOmXIJgaLK2kPmTcJBJzLVPEuWdsH8TQ2xgaxtBJDI1i6DSG3sXQ+xgax9BfMfQhhs5i6DyGJjE0jaGLGPo7hmYxNI+hyxhaxNBVDF3H0McY+hRDNzG0pJPoTnqeNpYkA336sg5ySq5UrmweGBYNDWk7OjiYFmn5jTeG4Zwl02MM/zIdxHAB01AMy8WQiqF/YoihV6aFmWgxXcvQ3oYJZQwx3MDQCxP7EEP3MfQQQwyTbhnS5+sLFMKSO0zb91PV6JUu4FFfmAcmzvzp3ByXuplX4hJqpjqWZ7fc2bHSxir2PAC75MHSMZ4zAWzbxql27oRTCx/NMiiSVAZQQCNuN/6NGIR+xXTHiil8GuRYmilEWXJH2jPOjmLPA0eTO2kl0/s0C4nSig1HanQJkIwX/4V3KVwiwmkpCNGPBAC51FptnGIalTz1axPQpPh86POlTQHgRh+RB88NLi2Tr7Rk2hn0VSVyy9Xw0kpOcWG8yPl+K+iyJVn/LduFOV3GaOBmuDvUpbCh0iIwakxJQybD0rlg/ZAVX7ADZuQxtljRjMcPhWfggJ0inFdQEckFzWoQfLyb2ZLpTg30GoQzu1Nr0lWWSp5J2hjnU4LyE6BoQjqjEqTuE7agUPeKq+ZPwLJBqjMEWLRILdqCRa69dqEekaktF3yfLHAYBGqGBbAuoAUjrOSECIK7fyQdzb9/r2BUIcrJQR0IPi6TpAEa1Shg1MvkbkO0G2DVUYInHXDTQUJUQLs2T7IuGcEMqHiXdDIkmyQlHKCUWmBIDn29SUTucm0ss9kUaZ+BuM0BXgBrF0hB4Cuz/bbhQjvgMDPRFJTgAOGAVqugvdpoZswMwMFL4CCNWl4JXagVc7vaYmqYAD0qVSyjZJklTh0syoEdNaJBlNAJCNAYbNR8eaOBgfv8trTmTtbsHcjKUjkw9b4DyR6nGCVQV/NXkRGoKQscMigyN2DBDYjYy0cu8Als5JkJZQhJQSd5y6PRD56OSDBA40OiKkGAn1BrIN1TlBF09KBMOaQZOzFNjiXAwxOpPZMrz5O0fzAJRsSmVcwnDQUsMuk5c4RCX4AJp+VxKmBLhcyYNk/UK1+RH5J1fAYS560oZCUsY7lMsMIYRGmMCucMWE1BWwvNnAzNzQQ0uElVVA2mpsVv8gfiI5FDJeBScuglq1xS+SDMk6mbpi0viCW4XzsMSNEQGBEgmxcq59JwAjaySW8mID8G4LN0WSelA7DnAHI0P3NNwT5PiQ4ZodMe6b5LugIGgXGyFYAJPn25MWWT79pw30cwlwYsoq3Qr1XpCy13kD8Bp+rkVhRyfEIo1OOj0PwOedvNPkhbXwhlm1+Pb7/9C/NFF2U=",CourierCompressed="eJyFWdtSGzkQ/RXXPO1WmZSBEAJvjnESb8AmGENCKg+ypj3Wohk5ugAmlX9fzUCyW6s+ysuUfVqXvh61Zr4XI1PX1PjiuLg6C05U1Ns/Ojx42TsYHB4eFf3irWn8VNQUB4xMsIpsCwatU1DUSm8T+JpUtW7XP6NShToiEy+0ksOm0nHkIP53b9UDlefKy3Vx7G2gfjFaCyukJzundu74wVNTUnlhatE8a/XmjXkojr/s7O33d/YOBv3D3YP+68HB136xiEOtVg2dG6e8Mk1xvLM7GPxHcLlW8rYh54rjOLO4Iuu6YcVgsP9iMBjELabGK/lkymZrWxt6f8g/e7tHr4/68Xk06J673XOve+53z8PesDRL6s23zlPtepNGGrsxVngqX/R6Q617F+1qrndBjuxdRONu4ziqVE01l2vqHNgtMveiKYUtf0rjwJHYvH/26MGrvX7x6ee/l3uv+sXQydZPtjh+tXfUL07o1/+d3YPDfjH35fvrOHO3+3n1/LN19hl5q2T0x5fvxfWnOL/11zQq4jYiuuFH/38wPUgt6hT/Fkw0dKlTSRPqZevnqkllpdFa2BTfkJVtdiYCUUeRi94BGnQBY9YTlhpNKyQC04RrV3S3zCwdXIrKWFQihdfbzZoY66MpyjCWOC3cOoUfyZoUNQ0TJX/PjPRrS8zYVSxZBlV3zFinHhiQ7jjriPdpoziFpdGGWcNRrYBIt1WcbvotCCYHK0uxDhkzvwVyHVOksWd0H6bQmxQapdBJCo1T6G0KvUuh9yk0SaG/UuhDCp2m0FkKTVNolkLnKfQxhS5SaJ5Clym0SKGrFLpOoU8p9DmFblJoGU+iW/I8bSyjDNTp8zzIKVIpqawMDIuGlrRdPDiYEun4jVeG4ZwlU2MM/zIVxHABU1AMy6WQSqG/U4ihV6aEGW8xVcvQ3oZxZQox3MDQC+P7kEJ3KXSfQgyTbhnS5/MLJMKSO0y78bls9EqX8KgvzT3jZ/50bo9L3fYraQq1XR3Ls1vu7FhpYxV7HoBVZLDxGJeMA7uycarrOmHXwnuzCipKagMooBV3C/9GDFy/YqpjxSR+bORYmilFVXFH2hPOtmJPDUcbO7LE1H7shURlxYYjtdj6E2PFv+5dCpfxcF4KXPQrAEBOWquNU0yhRkv92gTUKT4d+nxqRwdwrY+QwXONS8fkK01MOYO6qoW0XA4vLXEbl8YLyddbGa9axNpv2SqU8SoWG26Gu0NTCRtqLQKzjalik8mwtBSsHVTzCTtkWh5jy1Xs8fim8BQcsDOE8xvUkeSCZncQvL/b3pKpTg32NQhnVo+lGa+yMeWZoE1wPAmknwBJE/IRJRC6z1iDUt0pLps/A82GucoQYNIiN2kLJrnu2oVqhHJLLvg6WWA3CFQMC6BdQBPGeJOTSBDc/SNrqPz5voLZClGOBHkgeL9MswpolKOAUS+zq43QaoBVxxmedMBMBwlRgd21eaSmYgQXYIt3WSNDtkhywiEKqQWKSGjrTcZzl2tjmcVmaPcL4Lc5wEug7QJtEPjM7N5tuNA1OExPNAMpOEQ4oNU6aK82mmkzAzDwEhgYWy2vhC7VirldbTE1TME+Kpcs42yaZU4dLJJAjwbRIAroFDhoAhZq37zFhoF7/ba05pYa9g5kqVIOdL3vQLAnOUYJsar5q8gY5JQFBhnkmRsw4QZ47PklF3gFNvZMhzKCpKCzvOVR6wdPRyQYovYhk5XAwY+oNNDeMxQRdPSgSDm0MzZilm1LgIUnpD0TK8+TtL83GUbEqtXMKw0FNDL5PnOMXF+CDqfj8ZjANiYyo9o8k698Rn7I5vEpCJy3oqRaWEZzyrDCBHhpghLnFGgdnbYWmjkZ2psJKHCTy6gGdE2L38QP+IeQQRXg0mjQc1S5oPJOmGdDN8trXkaW4L52GBCiEVAiQDYvleTCcAIWsllrpiA+BuAX+bTOSodgzSHkaL7nmoF1HjMVMkanPdr7NmsKaAQm2VIAKvj85cZUbbwbw70fwVwasCguhb5W5S+03EH+CIxqsktFl+MTQqEaH4f2O+TXfvGBbHMulG2/Hn/98Q/b2xEO",HelveticaBoldCompressed="eJyNnVtzG0eyrf8KA0/7RMhzJJK6+U2+zMX2mJYsEuJMzANEtihsgYQMEITaO/Z/P41CV+bKlaug86JQf6uArsrKXNVX8H8m3y9vb7u7+8m3k4t/btazm+7o5PmTZy+PTl88eXk6eTT56/Lu/tfZbTc0+Hu3eOju51ezb75bLq532maxYO2oarPb+aJndRCm3fzm425/Y8N/3M8W86tXdzeLoeXjYXv91/mX7vq3+f3Vx8m396tN92jy/cfZanZ1361+73af/PHLfXd33V2/Wd7O7sY+fvfd8svk239/8+T540ffHB+/ePTk8eOTRy+fHf/n0eR8aLxazO+635br+f18eTf59ptBBuHtx/nVp7tuvZ58+3TgF91qXZpNHj8+/svjx4+Hnfy6HAawG8z3y8/9ajeGo/+6+j9HT16+ePpo9+/z8u/L3b8vH5d/nx+9ul6+745+79f33e366B93V8vV5+Vqdt9d/+Xo6NVicfRm9z3rozfduls9DNTDOF8fzY7uV7Pr7na2+nS0/HD0y/xued9/7r4ZGi2OXv3taHZ3/X+Xq6P58AXrzfv1/Ho+W8279V+Gzv447Op6fnfz+9XHrsxA6cnv98NHZqvrqg4Nv599/vs4Ic+fvHg0eVe3np4cP5q8Wl/tAr0axR862/7m+PHzR5Pf76//Pp18+2QnDv+/2P3/9PF+vv7Z3a/mV0NA//0/k+m7ybfHz4dGvw5dWX+eDXH830d7fHJyssfdl6vF7Nb46fPTPf9jsxzi9X5hytOnz/bK3eb2/W6ibu6ydr1cLGYr4y+GiSn8c7e62qV7FZ4fH++F2e0grYf4mGQdLj0oM557/Xm26u4W3YeWRB+r3Zitd9+4/uQdfzEO9/Nis85duBqqdJZ38bH//LG7y82HocyXYiTrxWz9MQfrz261zHR512V4vxUt7z+uOtH2w3KzEnT+INqu518E7B46MbddiKmnw/xOpNXVcrG8y3jd3c6jZDOw2NlAot0fm9ki45tVN5SzD/PZkyc1abp1sZqqvHz+dJx7kX2vMvouo+8z+sH3/Oz5Hv2YO/NX/2BNhb/l7/p7Tph/5DD/lD/4c97jL156NeT/zB/8NffrLA/ot9zqdf6uN/mDv+d+vc0fPM8fvPBZOx0neppbvcvoMu/xXzn53g+L2afuPtiGhfz9oMU65c9FT7FUnK2v5vOr+epqc5tnbbOz7fWw/nR5j8XfQmfsY7M8nve51VVudZ1bieL8kD94k9HH3OV5Rv+d9/gpt/IStiXhNu/xLqNlRp9F1WerFxa4zpG4z9+1yR98yJWwza2Ek/aOdsc9xfRzV3f5FRPh+MXjmpWrRvtD2Xg/X1w3l/rr5VaYe1idPWL35TjNk+NJrbgPuwND9Fkfs1o7PiyWq7ng667xLVeb1bCMX3kAj0+wbNbzcuCaoluPWnRZ3Wzmg3K7vNdHDju5fPFX5Bh6S5wPc8HE8dNwKCcPB65nNzedSNs9x0MxOuDYzV236kTtD8dCs5vV7DOY2tOaWcNJRCd80MP7frY+EOHD6kofK9gERH04KRg/Pxxizz+v52shDWO9/7jchGPFtOyH5PaZW80eRD3Mrjb36tClePmHRfcla43Kup1drdThzvtVp3Z8vbyfXYWKc2k+zCQGwJQV1qF3trseQqqOUTd3N7PV5nYx24jdLG+Gw8xP4utmOA6Yl9uQsy688sOek+cjW66uPwzHeeHA0I9Q4iLrByCR+x7OYA/Pntoebgen2yxwF7ayzMRie70r+vVaLGCLuGNfeSK3I5KlGNRQn8Mp8ZD34hziH2lK3QliBvryH/PGlyY5qf51cfb86Cj3oC4X1/OHOSS0fyT2zA+YRXF4txsfOj/0ob4Rg3U596IygaHmr/T9hVJx3J6IGdWDfyb2zmeCPuBnAWknfs4weASchBxXJ1YDfX7yvIrjVQ+xK3IdXztjHvgodVx+VR3w8mjlaDRVP9KXw7FTqda3RWOFcCarhAzRw1yzJ/rha9z76ct66rn8s7u7EZn7Ju7Cz+LUID05DhbJocx9xQuJHc02xnrFY/Xznxw5i+rbj8uVGNUZ7d3DQFVgJ3pU8Kd1EaOwWTXRDjxienErFzjWm3KUsxL9jSnoUWzxaKtmgrebxf3886IX/WqU/9s4QEuk4Xjrfj5bXM8/fMhz1bet4de4H09YkSxeGwfT7MCq05auGuO9a9lgK2N+jQHyxZDqHy+/DUcMeA3OToFWy0/dHZ4ImTmuupv5Oh76eonGyYblONdFPdRYb4aqDucjHmw6hrTCbERm2Ur1fzU+8C+q8NOX9di1XOmK18Eszj/ef8zw+6YBLpRv2VjuGybTNVfHlvCqdfhwICtjgP18uVUavG9zhdaMtJae1jK6bu0517Ht++BhCa+Y9bigW9wLA78PJu2euF0ecMTUNfu6240YSWMNX8rjTK8FPvixq0/xCOfFySn4+JDAqyGR1/n7fud8Pa2Tv2gsJD8fXH9/iRPnpxJ2X0eZYrIFt4wYJuetGv8ldtviMETt42wBS0Mt8t2pSaxwnwu1BJgvx8MmT7WvTGCjFLrWgG6imeKAxmlVs6rPRn6XB4iWwbLnlhDXg010KmMbS/731AlbuMhtTs3Or+dXymh/iF8EB2aHDnd/pcNa625j3t4czuuD+3rV+M5XTZOOpwM2A/F73IgPHFD+2Fruad9+iVie3dkBWTwSsG87WAo0QeaXB/e0WN7s5vtuKcK9bJvpJq9jNYOGr2pU8s3Bye1gJfeYN9L3Tq7jdnHnLh80u+e3lrsfN7u7kf95NPm5W939NpuvdveQ/z15tbtbPXn0zenj/zwat/buEdC+nxGNpo7wb8PWU9/au0pAODAUzsL3nOUu4NIbuE1VoPv6Dyg4T1DGkAW2vzoU0L5wEL0OW2+HrZe+VWOGKIzehfMQi/M6ekBh9MBh9EDr6AHR6EGx0QMb6zqwYidILoatF7Y1Hbae2dblsPXkiW/WISGDvgPeDJsnvlU/CCjEAjh8H9AaC0AUC1AsFsAsFsDGWDh5CJmwDVoft/KI+tzzsRGWpiEqDuNUpM65UqsC5WqIata4LNyqnuXv5hI2rurYxFzMJlFFG9dlbTLXtglU4Mapyit/nRHUuyEqeueq8qt6niPKHmBcGYGJ2Q1MIkswrn3BZDYHE9ghTIg2UTF4RUVgGBWhaxhj6zBB+EfVwEQMUd0ZV3ZiYrsy2ViMa3cxmS3GBPYZE6LZVPyQE3KbW/UCNQIhXGg0A3QhQ1TfxsmFnLMLVQVcyBC5kHHpQlU9y9/NLmRcuZCJ2YVMIhcyrl3IZHYhE8iFjJMLVf46I3AhQ+RCzpULVfU8R5RdyLhyIROzC5lELmRcu5DJ7EImsAuZEF2oYnChisCFKkIXMsYuZIJwoaqBCxmi4jOuXMjEdmWyCxnXLmQyu5AJ7EImRBeq+CEn5Da36gVqBEK4EIYGrShyqvQokimRyM4UZLCnyMmjoiiNKjQ5a+yPLSuKyrdii2xeUScHi6K2sdiGvSyqZGhRJFcL4usGB3+LnEyOROV0ocl5Y17Y86KojC+2yO4XdbLAKGofjG3YDKPKjhjVaItBA28MHAwycHTJKLBVRlX4ZWgAphk5GUYUlX3GFl/xFTbSKGo3jW3YUqPKvhrVaK5Be2jUxbbRvm/xQ/ETrusEPRcpGRVK5LdBYrcFEbwWKTktStJnocGZ3A97LErKYVHP/ooquStK2luxBTsrauSrKJGrgvRaUnBUpOSnQVJuCg3OZezZSVFSPop6dlFUyUNR0g6KLdg/UWP3RC16JyjgnEDBN4GiayJmz0RNOCbI4JdIqdpRUl6J+kEvYJ9ESbsktmCPRI0dErXoj6A8yAzfyra9pu1ICVccR4+WaIhMxTiZoXN2wqqADRoiDzQuDbCqZ/m72fqMK98zMZueSeR4xrXdmcxeZwIZnXFyucpfZwT+ZojMzblytqqe54iypxlXhmZidjOTyMqMax8zmU3MBHYwE6J9VQzeVREYV0XoWsbYskwQflU1MCtDVH/GlU2Z2K5MNijj2p1MZmsygX3JhGhKFT/khNzmVr1AjUAIF6p9RRtyRhXuAhkRCOxEJoEVOSMvckGakcln4vvZjlxQfuRqNiTXyJFc0JbkOnuSK2RKLpArmfBaMPAlZ2RMIChnMvlcxJe9yQVlTq5md3KN7MkF7U+us0G5wg7lSrQo4+BRxsCkjKFLOWSbckX4lIlgVM6oQF1QVuXqgfpls3JBu5XrbFeusF+5Eg3L+IPI1a1o1yvWiolwrdoxdC1nZAQukGuBwK5lEriWM3ItF6RrmXwmvp9dywXlWq5m13KNXMsF7Vqus2u5Qq7lArmWCa8FA9dyRq4FgnItk89FfNm1XFCu5Wp2LdfItVzQruU6u5Yr7FquRNcyDq5lDFzLGLqWQ3YtV4RrmQiu5Ywq1AXlWq4eqF92LRe0a7nOruUKu5Yr0bWMP4hc3Yp2vWKtmAjXWo2/6OG7q4RMoGLyK8PsVqMAXlUJOVXF0qdG8Sx9L3tUxcqhqpb9qSrkThVrb6oqO1Pl5EsVkyuN+HUi4EiVkB8ZVm40iucphuxEFSsfqlp2oaqQB1WsHaiq7D+Vs/tUHr1npOA8IwHfGQm6TkXsOZULxxkl8JtKqLIqVl5TtWbNsc9UrF2mquwxlbPDVB79ZaQPKeu2qU2fiR69cJUx19FWDFHhGidjcc7OUhWwFkPkLcaluVT1LH8324tx5S8mZoMxiRzGuLYYk9ljTCCTMU4uU/nrjMBnDJHROFdOU9XzHFH2GuPKbEzMbmMS2Y1x7Tcms+GYwI5jQrScisFzKgLTqQhdxxjbjgnCd6oGxmOIas+4sh4T25XJ5mNcu4/JbD8msP+YEA2o4oeckNvcqheoEYjsQt8N9FXcip8tqDoGIBHSwvUeYiALoiAVRvEpLISmkFq+jnbV9cS3LJ0che4CxwRzWrsLiKYcFBsIMBsIsHEge/LDGPdT34pu+gPGHZDw1h8o7kCjo/4Q4g7Mugts7C6QaJs/jCXvW9OwtSv0575VRwcIuux0/3tsdXJ3ZPzJNUOj/2L4DFEMjVMgjatomphDahLF1TgH1wSOsAkxzIYp1pVfZDTNCEJviOJvPE9ClWgmKk7TUV4IjNNREU9H5TwdlcvpqKKYjirxdFSepqMKaTqqQNNRMU/HyC8ymmaE01ERT0flYjpGiadjxDQdfx1n4oVv1V0BqvEHFEIPHDoEtAYckMUamIUZ2BhhIDW4jnbjPPatOgJAdQSAwgiAwwiA1hEAshEAsxEAG0cApI7AUZ2tJ48N2UyN7Kdxqo59Kw70J5wqQGKgP9FUAY0D/SlMFTAa6E8wVUDiQH+CgTqxcTraxK08zE1jTBs5pk0eEx+SgSJGuxGj3YTR/jzZn/Kc+FY8LipIHAQVng6CCo0HQQXJA8mi0OFRYfV8BlA8Ftqhctzy1LbsWMhRPYFBFA6PnOPhEVB7TTRgO2py5MdGzvzYyNhyNwLfskg7ipF2jpF2apF2xJF2xSPtzCLtyCJtaBPivsn5oc47fp6oU46fJ+ls42eR1aCI/ODTi58nfGaxI70tUGUrLtEFpYU2vIsf6oIECgGpKhrUJAeGGlCMSNXhokYcOZKpyEileosqJD8JVIWkUkGyKmqTmuQy5Qa5YqkFFS+pXMckc0lHGaqbBCp0UlXNU5Nc/tSAnIBUbQrUiP2BZLIKUsk1orppJRJ7CalfLyThMNTgYCE1fIcaHS6k5EYkR2OKIngUCWRXpCbn+mWC1/DKVrx8t0fiyt1O2B3ej5eddptTO0bdbZULWce+aSUODOvScfwFzUE6jZLgfo3nl0m6vPPLRF3Z+SW/o+qIgnDwHVVTMRz4BueLiDAw+Q1OFkSIqtaKU9BbYp8DwWFrv/X4S8wriCAJFEdWVTRjG4xpVCCyUcD4ksJRJlnEOrZoRVy0Otykb4WS56BdwGOD0V5xDgxR9J2ruFcVI14ZxLoijLIxjq8JIrJVa8U06C2xz4HgCBpPsRuO08oJ5lPfirccCop3gwoSNyAKT/ceCo23HQqiWwqF0d2EwsKNhELqeunorZn5Gc45ojDdLlyE75mGrXdhy6/QnE3SxZmzibous6P13Nd3aee+I6oWA9NgiObCOE2IcTUrJuapMYnmxzhPkgk8UybE6TJMc4brDoWBZ6+x7pB6kb97mtG7jGBa00LEPE9wlWiWK+apDi9TwXxHTpMeRZr5KKrpjy1yDkSdEiGKnA1R5ZSIasyLqFFypPc6VfQ4TQ6916maXDT2N23wdw0O+aNfb5RizqSgUzoFjXMKXkSBjEJK+YQSZRNKKpdQz5mEKuURSpxFqHEOoRYzCBXKH3qHLceJc6f9DltucCH3M5X0naSQMerVLiHlbAGVcgUUzpT6pgCkiSHKEeOUIMZVdpiYU8MkygvjnBQmcEaYENPBMOUCvuxDYeAsaLzsQ+pF/u5pRu8ygmlP78YwzxNeJZrtinmq47k5zjgrNPEs0/yzrNKA2+Rs4BaUFCxzbrDOKcJ6zBRWKWFIftuMKadPklUWUaOL5n6nTeVdU4EMY4USjeWcb9SC0o5Uzj57uh/yzhllnAuUay6oLHM155drlFkucE65wtnkSswj55RB4UUejghnTetFHpYvxPdPBXsnGORFft8lCTkXTKMsMM7zX083YfoN0ewbp8k3rubexDz1JtHMG+eJN4Hn3YQ47YZp1vEaBIWB57xxDYLUi/zd04zeZQTTnS5KMM+TXSWa64p5qutTYzDVhmiqjdNUG1dTbWKeapNoqo3zVJvAU21CnGrDNNX44CeFgae68eAnqRf5u6cZvcsIpjo9J8k8T3WVaKorpqn+bZzl8cmE33CGkdXZRUZP1rkQHq1z7M/WOYNH6BzCM3QO7SE6R3UGgflzMmUrXjErKD7RWJC4q1J4uq5WaLx/UhDdDymMboIUFu58FBLvKv4G8zZeTdyh2KDLg7L7iIj0oDo5qHCbEHAeayfG2omxLkOK2f0+QOKRr8LTrZxC44NeBcmHw4tCT38VFh8JLyg+2/UbVscY/dcTfMS0bMVHTAsSj5gWnh4xLTQ+YlqQfMS0KPSIaWH0iGlh4RHT155GPow6tD15M9nfzYet+GxOQeLZnMLTszmFxmdzCpLP5hSFns0prE4RoPjY0ZvRn2GrZj6i4MounMetPN7zxnjP5XjP83h5IkER4z2nZ5HewEQ68WXkzQQfMnwzrhSuXcal+Q2tDyOtVzFh9g1RSIyruJiYg2MSRci4DpPJHCsTKEGMU5bgdWhGlC+N69CkngvUiJXMIRPbseJsMn44VimvTODkMiFmWL7UbghyDa+rUyvOOnVdfZTqg8SQeoYonMZVOE3M4TSJwmlch9NkDqcJlHrGKfUqfysQpZ5zlXpVPReoESuZeia2Y8WpZ/xwrFLqmcCpZ0JMPXy0nTIEUg8fbadWnHrq0fYqpefYjqXAoT3wHJtuIsKsn2PTaiPkjefYtMypqp9jk+rbpsDJe+h5B9nmvCkcjLlO6tjkazFPCR7V/5+Y52SPckr5KFPipwdBZJZiEaTnQOQnUkE0nwLZNximu5z9vfSt+g2A6hkToDApwGEPQGv4AVk4gVkMgY2BA1Lz15G/oPoWSxiQONV4S8UKNJ5qvBVlCQqdarzFAgQUTzV2aHeO98K34rsaBcV3NQoS72oUnt7VKDS+q1EQvatRGL2rUVh4V6OQ+K7GDl0tFzTyeu7qbXafeOZbdZSAqrEgwlECh1EihVNXwHXwgGzwwGzwzj72nz925Zzr2NgyjGqZZ2vZmJqlnJplnho+nQVFTJqdzgLKM2Sns45WcSsPZBW93IV1dzvPU74JpbjJ9rFpeMVGesUmewU/kgqKcJGNcJFNcpFtmPA+buUk7XPm4buILwlRENK7iMxVhNS7iCxRrPK7iCxwbPhdRMbktXj8fkqIXFcfv7OY/TcdvzPXTpyP31kgT07H78TBxQxRrRgnnzauHMHEbAsmkTcYZxswgQ3chOjihsko/LXPhQodmXrFXa4Ftnfj5PHOhdGb2K45Zfmmke8bZ/M3gVeAKqRloArLHAxeEIwfygGxNJjUyIHGImFyK0V4uTDeSAVeOCpfCdQYul5HqioWkyrBimKo4ahybTGx7Zy8yhjXS43JLWNNi44J2li3Odt6gRrlpFajcKCPa1IUOI5R5fUpqjLWsYmIeGzAcY9qCm+UU5CjTKGOIq9k6XLAqRR4VTtwOUA3ESucvhyg1cZq17gcoGVe+fTlAKmi7UeBiz6qvCJGVXpibCKcMTZgf4xqssEop/UyyrRqRpENM6jsaCTGdTS+SNeq5bSmRpVXVlLV+hqbfM1L5FobW/CKG9W07kY5rb5BzmtwfMmuFc60Hkf16xmo1ubY4GAGttbp2OhwmqY1O6oHEzGt30FdNYWDYWus6KGNWtdDA1zdo3BwbdIrfWzytdUnrfpRbaz9sdHhJSofB0T50BK1bdVA3xQOWkM+Sjif4BM953g8ACg+x3OeVn7g6XriOa7xgOiZnfOwmgMLT+qc47rtqNroiRH6IZR6PRnH2nj1xjmN+tCrNy7m8TdevXHOkWi9euNCjEnj1RvjFJ30ysrIG6+sEKdgHXplhUQVtq+8skI6BfDgKyukcigPvLJCGgVVvr2hIsjhlW9vBEqhbb+9ESQV1oNvbwSVQnrg7Y2gcTibb28EhUIpXm3IseIw5lcbHFEAG682OFeha7/a4BIFrfVqgwscLv1qg2MKFL8SQKHgEDVfCUgKBezwKwFJVuH76isBqQUF8yuvBCSdQ3vwlYCkUqAbz8LruHLYxbPwwCjUrWfhQVDhPfAsPGgU0uaz8KBwGBvPwgOn0KVHxzkqHC77iW0IlzMKlwsULhdUuFzN4XKNwuUCh8sVDpcrMVzOKVwmULiMc7jGXw6GYFVCoaqYAlWxClPVcpCqQiGqmANUOYen8hicSik0I6bAjJTCcjGG5IVvxdOVCwwFIHG2d0EhABrP6y7C0IHRNYQLGDKQeJK2Q/6zzGUrzlxB8SzLhbO4FVOhIDHfhae5LjTOc0Hy94KLQrNfWD0/BRSnd4d20/rMt+IpS0E1BIDEdYvC0ylNofH6Q0F00aEwutJQ2DhjQOoIHMXT2YtJekR7h+Kguzw5dqUGkZ6vTs5XuBADOE9jJyarozLdMbu44tm5u6Dy0rfiKXlB4jy88HTyXWg84y5InmYXhc6tC6s5Biheyr2Y5Ke2dyxfiNjRTZjZTc7GTSP1NjL1Njn1+DICKCIpNyIpNyEpp6PrwVbs9RRdD5AYyJRcD2gcyDS4HjDq7hRcD0isoekEH7iboncBEo95Tcm7gMYHuqbCu0ChR7em6F2A4oNx09G7Tn0r3gyYoncBEjcFpuRdQOPl/2nwLmD0q7VT8C4g8Vr+FLzrCRC8Cj0drWv/I2VTtC5A9nYJoPwLbVOyLqT4donj+BNt02BdwPztEmNmXT7UZUi4ZS6SZaMilrIilrki2LpAEbVi1gUoFwZdqJ2Sc/m87Zzr1MZvzgUoJp5zTDynlniO+GaTK56SzjwlndWUNNKHeupz3fepvi9Hwxt/qekSHQ+ZvZEGLL6IAwK+iQPYXsUB5m/cAPRXbgDWd24A2RtpznbW99y34ot8l8n6gKd3+y7R+gDRxIFigwFW8xJQ7bajmS2wl2h9gOLN4stkfcDTscElWh8gOgK4DNYHLFxHv0Trc1RL6CmQW/xl5svR+174VjyfuETvQ5TPJy7J+5CC9wGOpxmXwfuA0WnG5Wh0MARzOmTq1cxL8jrE9GrmpXA7lPitzUv0O2T0hublJP8Y9iVZns/XJjbaiIFuWgPd6IFuxEDZ91BSA3XnQxhfT7206/RgBukmRBLY0/RtiKQKd0s3IpKQfC7fikgKOV66GcECeF96x4y5ckH1jhlL5Ietd8xYZmdM75gxJ4+sHIzSELmlcbJM48o3TczmaRI5qHG2URPYS02IhmqYXNVvMoVS5XtPXANgc4bIaY2T3ToXnmtiNl6XsvuaRhZsnH3YBDbjKizFoJMtmyAty1ThW6axeZnQcDDTk42ZwqZtAjt3upPIgvDwKm1E8+TmJhyMj/J101rxaTm86c34ZK83hQyfbvlVJ1T3/JTGzt+866caCP9X9/2UllYBeedPibQWqHt/QoMVASktCiipdQH1vDSgSqsDSnqBwBa8RqBGywRKtFKABIsFUlovUKIlAyW1aqCeFw5Uae1AiZcP1HgFQS0uIqjQOhJuBgfHELeJRYGBaSOlNQUlWlaCJFYW1PPiEtS8vqBMSwxKvMqgxgsNaEsdkrTcoCYdFRsIU0WZfRW1hrVik+SuKPIChBqvQepRAaGJlQjUjf5QWo9Q+1oA1aqE8oEAttYmbHIogHmFQjEuUkM5TfxXQsqW/66PoXj/yYXd3yTc/5WH3dY2bPl1nrIVr/MUlK7zVNfDHhmibhmXfasqdLCibUZ97gH313ju9Ngx7LQh6rRx2emqQqcr2mbU5x5wp43nTodnlaDnkVP3oyjHEJrAQALfNnjf6B+PK4p5cJDuMDSkNDCU5LCgAQwK6FbSXvaJh4NSHkx9zAdGYoiGYVyOoaowgIq2GfW5B9xv47nT9tgH9NoZddsF2W+ToePGtoL1oh/cdxdy5+0hDOi8M+q8C7Lz4c/Tjx0Nf56eWS/6wZ2Xf55+1MYHJaDrlVDHK5bdhr96PXYQ/up1JH3aN3dX/NXrUam/QAe9NUTdNS77i38kd+we/pFcQn3uAfdZ/ZHcvfR+oAvbc9ny4wRDqpdF8IObijbhq+nv4b1PxxrAZd/o7+G9FwcUoNCN0Pfh8AFY+LWK92OkfauPW3kMOY5XA/VA7LY+Be2T+gGRqzH4sBX3dZWDD0K8xXs1dtx70MeZvKKOj7QeC3zMCIZgSPamqguBaETGD38RjQ2PbaiTPEp1bDNK9uJrRjBUQ7KHVV0IREM1fviLaKj4viR1koeq3pes0nBat1jMaLAGcbgOdT9NX0jIg3bla1/HAzelV11Og3clD39/cjRZf55d7T5yOtJywp3/bM1xlhta/MLh9GxybTstW1f7v10LyE38Ovj3dR2ob9kIHeHQ9nTcA+7YEO298of86W1GvUDUI+OpW7uKG4O03zleSj028hA+sA1bX8JWH7diR1J97yldpx87whd2jyN+yJ/fZvQlo14g6qb0or1EPz4w9pVfTz+O+CF/fpvRl4x6gaiv0kxGSbwmUjus3hI5FtpD4+u2Df6lwfsW5+G0zqpGPV+IG0ckrsEcJ+VBftFW0i+S9prSKBonU1X1a3M8CFB4FCA96O/aavxF476BeSio5bHQayHjOPitkOOIH/Lntxl9yagXiPqrzgdHiV8PGDub3g44Jv4gvmIr2BfBesWoy/I0cNT4Gf2xz+kR/WPiD+IrtoJ9EaxXjPosz/722ocJXiSvpItb8aigoHotHFH+AePC05HDnuKflHUcf9e4IPr14sLo14t3bGlHOWUrHjIVJE6KCk8nGoXGk6KC5ElRUeikqLB46FVQfDr0wyRcgq6IDp1OohDozX6unvjGOGwg40whgTgA9jAg9GkCOsYGSA0AoDpHjvykXVxeaF5aqO1gpEbicA3HMTvOAzctjd6VFAKTYhwMUzCMU0TyZeCbxmXgm4OXgSOEMOkfgdBiDNmBn4DQLVL42j8AoRvEUDZ+/kGrFNao3rTCxCEmVQW6/knNY9+KNsN/SHNPP43utHfcT+hOgKJ9Ok+W/QndCRDfA3LFHdSZXVVyZHfK9ij/SoYWaCyHfiVDN8kjbPxKhlb1uFu/kqFlikbjVzL26iKszouwBi/y6ruQ6+4inwct8knPonHSs2if9MQrAvj1+QchtEC7av8gxNig/v2XbUa9QPT16u/P7qXbCV7pLFux2goSi3rhqQoLjYt6QXJRLwot6oXRlc7CwpXO2wn+2d1bHDEg6N2e3k3qTWXbikddd2mwwNMh1t0k3DA2JP9GxN0k3h42RkdZdxO8GVzJ7uD11LbcHsU9FH335C4+4RURBaH1fFcUczjE012R68CoZ7uiwCHKT3YFDMHKt5LvUrUzz7HD37t7Qohip3/vjsUcu/R7d8x17PLv3bHAsePfuyMMscNLLhQIjp265FKl9JtCT6TAcTzwm0K6iYip/k0hrTbi2/hNIS2nWMvfFJIixj0tITKUaQ6aS8jYoN47gzkwRNE3ruJuYo64SRRr4zrKJnN8TeDImhBjivcbTyPqcyA4gu2bi8sJ3llbhnV4t+V/uGkZdrXMe1nqHaB3EYJd4UXck9iqzx/kPbcdbpmucCoOHUlXOE9E+77xPdyvrzw3Aoeu2DV5uRIpdEs++xEodengsx9LvGpHCLqCV+1OYqs+f5B70H6Kg47FsRekQGdIgT6R0je/jXvIcu5ouF7IDDoXrheeULtefJa7cuCxkXrWgX3IB9OGoAd4fE0f5P2r4+tRQksiBLuvCHafjWvZMK5l27g+T/D84DN+FlA6K6gXzFp3GKPeEuM9RvoqU1+4uug+3Ncv3f//m9NnptYPXscPGa73DIXmN3wjjnGMmrrpG1vEa49BC3ERY1jFsBiuHVJavRostdBZ0WI3t88ErjtUWvzFUtLqTWuthu6oFnnyq+SFMgRp96wHbsUJK6j2EpF1DuB4/f2ZkeugW/o4urF6KFt2KcsRXb8ywV569y9bxq08EHXlvPBU1IXGk+yC5El2Uegku7CYvQXFK+c7ZFfOPWx/hAbrMO51NJcVZhEimx+EjVje11s5ZSO0cv5QL0yu9oYHG+GC7Cra3QjtdrsPzRBNlHFKO+ece3Qvv0ay4uvcklPRnqn2uBiipDQuo2lPSFF6Vr4UqDF+ma0m5pQ1ifLWuE5ekzmDTaA0Nk65zM9O8DT8kZuuc+A4v41TkjvnTHfl0AR5bhtRiQ8nDZTJfSaxDsS5wKjY8xweEUOUDMapGJxzMfBfqngW8XVuycVQORSDISoG4zLW6Y9H0A6WAjXGL4tB/e0IlqgYWn87gmUuhvS3I5hTMaS/HUHT8Eduus6B42IwTsXgnIvBlUMT5PluRBUDXMGiTO4zicUgLl9VJVxUwZKIAidGVLk8SE1FEnUqlSBetz6Vyibfr3uqBC6hg/frVJtUTukGlxYORlAXWPMGl27AxXbwBpdulApP3+DSKhdhUFMpBvWP1sfWrWlIxRlVLlFSU6GS/vU0gLqMXJYuXwqV1de3OBVz6zroXo/Xi2qYEOUHEj0gATbuAcJLjXQKPG6Vv905vuhnyJ/1IU63yIN6YadQlUwT2f0JyvHM3JAlB3G8EBClevY+npa/yOKo7PN3mMOJO1rZigVeUDUbQKLQC0/VXWgs6YKoRAuj+4mFhfuJhcT6fADrfWFk518nvhVvOj4kpwKebkY+oCcBIiMCxX9xzVm1HEB1HI7op8u2MLRTI27N2+zH24YJb6XzbrPdbpseuxXGus1uus0WusWh7Qeyu4Ls9x3KVry1UVB8rm6P8o2OwtM9jj1Nz9UVHO96FER3NAqjmxn9WCsnvhXzqsdaASRSradaARpTrQ+1Asx/ws/ZWCtAYo71qVb6MA99noc+z0PfmIdezkOv56HP89CLeegb81CK4KltWRE4ikXgHIvAqRWBIy4CV7wInFkROLIiMET1XRdEzCpDlFrGKb+MqyQzMWeaSZRuxjnnTODEMyFmn2FKQb7MQqGAdDBEGWmc0tK5yE0Tc4K6lLPUNEpV45yvJnDShms3TyOi9G1cuyExJ3K+dkNcp7S4dkMCJXe+dhM5pzncpINMR0rJjhLlO0oq5VHPWY8qJT5KnPuocfqjFisAFSqC/C6IiBWkG1KqBpSoIIIkagL1XBZBzZWBMhUHSlwfqHGJgAZVgpQKBSVVK6jnckGVKgYlXTTYgusGNSodlKh6xGtAY1L8OYHnmP+EHAASnlj+k2ccMJ9n/UnzCzQ8hfwnziag+Lzxn+DjTGKn2cUTzt0XHp6UNBB2cMY0pOTfI68nm10mcVyG47gc53GZlsblShqXSXFchmlcxmlc+JJUp2kcX5DiGKOUxxn0NNaopvEGOY45SDTuoMHY//O//w/7Vd1G",HelveticaBoldObliqueCompressed="eJyNnVtzG0eyrf8KA0/7RMhzRIq6+U2+zMX2mJYsEuJMzANEtihsgYQMEITaO/Z/P41CV+bKlaug86JQf6uArsrKXNVX8H8m3y9vb7u7+8m3k4t/btazm+7o+PT0xcnRsxdPXzybPJr8dXl3/+vsthsa/L1bPHT386vZN98tF9dn7xfzPzbdrslmseAmR7smR9Bmdjtf9NxqEKbd/Objbve7Dwzb/7ifLeZXr+5uFkPLb45PBrL+6/xLd/3b/P7q4+Tb+9WmezT5/uNsNbu671a/d7vP/vjlvru77q7fLG9nd2Onv/tu+WXy7b+/OX5++uibk5MXj46Pj08fvXx28p9Hk/Oh8Woxv+t+W67n9/Pl3W5Xjx+D8Pbj/OrTXbdeT759OvCLbrUuzSaPH5/85fHjx8NOfl0OQ9gN5/vl5361G8XRf139n6Pjly+ePtr9+7z8+3L378vH5d/nR6+ul++7o9/79X13uz76x93VcvV5uZrdd9d/OTp6tVgcvdl9z/roTbfuVg8D9YDO10ezo/vV7Lq7na0+HS0/HP0yv1ve95+7b4ZGi6NXfzua3V3/3+XqaD58wXrzfj2/ns9W8279l6GzPw67up7f3fx+9bErc1B68vv98JHZ6rqqQ8PvZ5//Pk7J8+MXjybv6tbTJ8NcvFpf7QK9GsUfOtv+5uTx80eT3++v/z6dfHu8E4f/X+z+f/p4P1//7O5X86shoP/+n8n03eTbk+dDo1+Hrqw/z4Y4/u+jPX7y5Mked1+uFrNb46fDPBb+x2Y5xOv9wpSnT5/tlbvN7fvdRN3cZe16uVjMVsZfDBNT+OdudbXL/yo8PznZC7PbQVoP8THJOlx6UGY89/rzbNXdLboPLYk+VrsxW+++cf3JO/5iHO7nxWadu3A1lO0s7+Jj//ljd5ebD0OZL8VI1ovZ+mMO1p/dapnp8q7L8H4rWt5/XHWi7YflZiXo/EG0Xc+/CNg9dGJuuxBTT4f5nUirq+VieZfxurudR8lmYLGzgUS7PzazRcY3q24oZx/ms+PjmjTdulhNVV4+fzrOvci+Vxl9l9H3Gf3ge372fI9+zJ35q3+wpsLf8nf9PSfMP3KYf8of/Dnv8RcvvRryf+YP/pr7dZYH9Ftu9Tp/15v8wd9zv97mD57nD174rJ2OEz3Nrd5ldJn3+K+cfO+HxexTdx9sw0L+ftBinfLnoqdYKs7WV/P51Xx1tbnNs7bZ2fZ6WH+6vMfib6Ez9rFZHs/73Ooqt7rOrURxfsgfvMnoY+7yPKP/znv8lFt5CduScJv3eJfRMqPPouqz1QsLXOdI3Ofv2uQPPuRK2OZWwkl7R7vjnmL6uau7/IqJcPLicc3KVaP9oWy8ny+um0v99XIrzD2szh6x+3Kc5slxXCvuw+7AEH3Wx6zWjg+L5Wou+LprfMvVZjUs41cewJMnWDbreTl0TdGtRy26rG4280G5Xd7rI4edXL74K3IMvSXOh7lg4vhpOJSThwPXs5ubTqTtnuOhGB1w7OauW3Wi9odjodnNavYZTO1pzazhdKITPujhfT9bH4jwYXWljxVsAqI+nBSMnx8Oseef1/O1kIax3n9cbsKxYlr2Q3L7zK1mD6IeZlebe3XoUrz8w6L7krVGZd3OrlbqcOf9qlM7vl7ez65Cxbk0H2YSA2DKCuvQO9tdDyFVx6ibu5vZanO7mG3EbpY3w2HmJ/F1MxwHzMttyFkXXvlhz5PnI1uurj8Mx3nhwNCPUOIi6wcgkfsezmAPz57aHm4Hp9sscBe2sszEYnu9K/r1Wixgi7hjX3kityOSpRjUUJ/DKfGQ9+Ic4h9pSt0JYgb68h/zxpcmOan+dXH2/Ogo96AuF9fzhzkktH8k9swPmEVxeLcbHzo/9KG+EYN1OfeiMoGh5q/0/YVScdyeiBnVg38m9s5ngj7gZwFpJ37OMHgEnIScVCdWA33+5HkVx6seYlfkOr52xjzwUeq4/Ko64OXRytFoqn6kL4djp1Ktb4vGCuFMVgkZooe5Zk/0w9e499OX9dRz+Wd3dyMy903chZ/FqUF6chwskkOZ+4oXEjuabYz1isfq5z85chbVtx+XKzGqM9q7h4GqwE70qOBP6yJGYbNqoh14xPTiVi5wrDflKGcl+htT0KPY4tFWzQRvN4v7+edFL/rVKP+3cYCWSMPx1v18trief/iQ56pvW8OvcT+esCJZvDYOptmBVactXTXGe9eywVbG/BoD5Ish1T9efhuOGPAanJ0CrZafujs8ETJzXHU383U89PUSjZMNy3Gui3qosd4MVR3ORzzYdAxphdmIzLKV6v9qfOBfVOGnL+uxa7nSFa+DWZx/vP+Y4fdNA1wo37Kx3DdMpmuuji3hVevw4UBWxgD7+XKrNHjf5gqtGWktPa1ldN3ac65j2/fBwxJeMetxQbe4FwZ+H0zaPXG7POCIqWv2dbcbMZLGGr6Ux5leC3zwY1ef4hHOiyen4ONDAq+GRF7n7/ud8/W0Tv6isZD8fHD9/SVOnJ9K2H0dZYrJFtwyYpict2r8l9hti8MQtY+zBSwNtch3pyaxwn0u1BJgvhwPmzzVvjKBjVLoWgO6iWaKAxqnVc2qPhv5XR4gWgbLnltCXA820amMbSz531MnbOEitzk1O7+eXymj/SF+ERyYHTrc/ZUOa627jXl7czivD+7rVeM7XzVNOp4O2AzE73EjPnBA+WNruad9+yVieXZnB2TxSMC+7WAp0ASZXx7c02J5s5vvu6UI97Jtppu8jtUMGr6qUck3Bye3g5XcY95I3zu5jtvFnbt80Oye31ruftzs7kb+59Hk525199tsvtrdQ/735NXubvXk0Tenj//zaNzau0dA+35GNJo6wr8NW099a+8qAeHAUDgL33OWu4BLb+A2VYHu6z+g4DxBGUMW2P7qUED7wkH0Omy9HbZe+laNGaIwehfOQyzO6+gBhdEDh9EDraMHRKMHxUYPbKzrwIqdILkYtl7Y1nTYemZbl8PW8bFv1iEhg74D3gybT3yrfhBQiAVw+D6gNRaAKBagWCyAWSyAjbFw8hAyYRu0Pm7lEfW552MjLE1DVBzGqUidc6VWBcrVENWscVm4VT3L380lbFzVsYm5mE2iijauy9pkrm0TqMCNU5VX/jojqHdDVPTOVeVX9TxHlD3AuDICE7MbmESWYFz7gslsDiawQ5gQbaJi8IqKwDAqQtcwxtZhgvCPqoGJGKK6M67sxMR2ZbKxGNfuYjJbjAnsMyZEs6n4ISfkNrfqBWoEQrjQaAboQoaovo2TCzlnF6oKuJAhciHj0oWqepa/m13IuHIhE7MLmUQuZFy7kMnsQiaQCxknF6r8dUbgQobIhZwrF6rqeY4ou5Bx5UImZhcyiVzIuHYhk9mFTGAXMiG6UMXgQhWBC1WELmSMXcgE4UJVAxcyRMVnXLmQie3KZBcyrl3IZHYhE9iFTIguVPFDTshtbtUL1AiEcCEMDVpR5FTpUSRTIpGdKchgT5GTR0VRGlVoctbYH1tWFJVvxRbZvKJODhZFbWOxDXtZVMnQokiuFsTXDQ7+FjmZHInK6UKT88a8sOdFURlfbJHdL+pkgVHUPhjbsBlGlR0xqtEWgwbeGDgYZODoklFgq4yq8MvQAEwzcjKMKCr7jC2+4itspFHUbhrbsKVGlX01qtFcg/bQqItto33f4ofiJ1zXCXouUjIqlMhvg8RuCyJ4LVJyWpSkz0KDM7kf9liUlMOinv0VVXJXlLS3Ygt2VtTIV1EiVwXptaTgqEjJT4Ok3BQanMvYs5OipHwU9eyiqJKHoqQdFFuwf6LG7ola9E5QwDmBgm8CRddEzJ6JmnBMkMEvkVK1o6S8EvWDXsA+iZJ2SWzBHokaOyRq0R9BeZAZvpVte03bkRKuOI4eLdEQmYpxMkPn7IRVARs0RB5oXBpgVc/yd7P1GVe+Z2I2PZPI8YxruzOZvc4EMjrj5HKVv84I/M0QmZtz5WxVPc8RZU8zrgzNxOxmJpGVGdc+ZjKbmAnsYCZE+6oYvKsiMK6K0LWMsWWZIPyqamBWhqj+jCubMrFdmWxQxrU7mczWZAL7kgnRlCp+yAm5za16gRqBEC5U+4o25Iwq3AUyIhDYiUwCK3JGXuSCNCOTz8T3sx25oPzI1WxIrpEjuaAtyXX2JFfIlFwgVzLhtWDgS87ImEBQzmTyuYgve5MLypxcze7kGtmTC9qfXGeDcoUdypVoUcbBo4yBSRlDl3LINuWK8CkTwaicUYG6oKzK1QP1y2blgnYr19muXGG/ciUalvEHkatb0a5XrBUT4Vq1Y+hazsgIXCDXAoFdyyRwLWfkWi5I1zL5THw/u5YLyrVcza7lGrmWC9q1XGfXcoVcywVyLRNeCwau5YxcCwTlWiafi/iya7mgXMvV7FqukWu5oF3LdXYtV9i1XImuZRxcyxi4ljF0LYfsWq4I1zIRXMsZVagLyrVcPVC/7FouaNdynV3LFXYtV6JrGX8QuboV7XrFWjERrrUaf9HDd1cJmUDF5FeG2a1GAbyqEnKqiqVPjeJZ+l72qIqVQ1Ut+1NVyJ0q1t5UVXamysmXKiZXGvHrRMCRKiE/MqzcaBTPUwzZiSpWPlS17EJVIQ+qWDtQVdl/Kmf3qTx6z0jBeUYCvjMSdJ2K2HMqF44zSuA3lVBlVay8pmrNmmOfqVi7TFXZYypnh6k8+stIH1LWbVObPhM9euEqY66jrRiiwjVOxuKcnaUqYC2GyFuMS3Op6ln+brYX48pfTMwGYxI5jHFtMSazx5hAJmOcXKby1xmBzxgio3GunKaq5zmi7DXGldmYmN3GJLIb49pvTGbDMYEdx4RoORWD51QEplMRuo4xth0ThO9UDYzHENWecWU9JrYrk83HuHYfk9l+TGD/MSEaUMUPOSG3uVUvUCMQ2YW+G+iruBU/W1B1DEAipIXrPcRAFkRBKoziU1gITSG1fB3tquvYtyydHIXuAscEc1q7C4imHBQbCDAbCLBxIHvywxj3U9+KbvoDxh2Q8NYfKO5Ao6P+EOIOzLoLbOwukGibP4wl71vTsLUr9Oe+VUcHCLrsdP97bHVyd2T8yTVDo/9i+AxRDI1TII2raJqYQ2oSxdU4B9cEjrAJMcyGKdaVX2Q0zQhCb4jibzxPQpVoJipO01FeCIzTURFPR+U8HZXL6aiimI4q8XRUnqajCmk6qkDTUTFPx8gvMppmhNNREU9H5WI6RomnY8Q0HX8dZ+KFb9VdAarxBxRCDxw6BLQGHJDFGpiFGdgYYSA1uI524zzxrToCQHUEgMIIgMMIgNYRALIRALMRABtHAKSOwFGdrePHhmymRvbTOFUnvhUH+hNOFSAx0J9oqoDGgf4UpgoYDfQnmCogcaA/wUCd2DgdbeJWHuamMaaNHNMmj4kPyUARo92I0W7CaH+e7E95nvhWPC4qSBwEFZ4OggqNB0EFyQPJotDhUWH1fAZQPBbaoXLc8tS27FjIUT2BQRQOj5zj4RFQe000YDtqcuTHRs782MjYcjcC37JIO4qRdo6RdmqRdsSRdsUj7cwi7cgibWgT4r7J+aHOO36eqFOOnyfpbONnkdWgiPzg04ufJ3xmsSO9LVBlKy7RBaWFNryLH+qCBAoBqSoa1CQHhhpQjEjV4aJGHDmSqchIpXqLKiQ/CVSFpFJBsipqk5rkMuUGuWKpBRUvqVzHJHNJRxmqmwQqdFJVzVOTXP7UgJyAVG0K1Ij9gWSyClLJNaK6aSUSewmpXy8k4TDU4GAhNXyHGh0upORGJEdjiiJ4FAlkV6Qm5/plgtfwyla8fLdH4srdTtgd3o+XnXabUztG3W2VC1knvmklDgzr0nH8Bc1BOo2S4H6N55dJurzzy0Rd2fklv6PqiIJw8B1VUzEc+Abni4gwMPkNThZEiKrWilPQW2KfA8Fha7/1+EvMK4ggCRRHVlU0YxuMaVQgslHA+JLCUSZZxDq2aEVctDrcpG+FkuegXcBjg9FecQ4MUfSdq7hXFSNeGcS6IoyyMY6vCSKyVWvFNOgtsc+B4AgaT7EbjtPKCeZT34q3HAqKd4MKEjcgCk/3HgqNtx0KolsKhdHdhMLCjYRC6nrp6K2Z+RnOOaIw3S5chO+Zhq13Ycuv0JxN0sWZs4m6LrOj9dzXd2nnviOqFgPTYIjmwjhNiHE1KybmqTGJ5sc4T5IJPFMmxOkyTHOG6w6FgWevse6QepG/e5rRu4xgWtNCxDxPcJVolivmqQ4vU8F8R06THkWa+Siq6Y8tcg5EnRIhipwNUeWUiGrMi6hRcqT3OlX0OE0Ovdepmlw09jdt8HcNDvmjX2+UYs6koFM6BY1zCl5EgYxCSvmEEmUTSiqXUM+ZhCrlEUqcRahxDqEWMwgVyh96hy3HiXOn/Q5bbnAh9zOV9J2kkDHq1S4h5WwBlXIFFM6U+qYApIkhyhHjlCDGVXaYmFPDJMoL45wUJnBGmBDTwTDlAr7sQ2HgLGi87EPqRf7uaUbvMoJpT+/GMM8TXiWa7Yp5quO5Oc44KzTxLNP8s6zSgNvkbOAWlBQsc26wzinCeswUVilhSH7bjCmnT5JVFlGji+Z+p03lXVOBDGOFEo3lnG/UgtKOVM4+e7of8s4ZZZwLlGsuqCxzNeeXa5RZLnBOucLZ5ErMI+eUQeFFHo4IZ03rRR6WL8T3TwV7JxjkRX7fJQk5F0yjLDDO819PN2H6DdHsG6fJN67m3sQ89SbRzBvniTeB592EOO2GadbxGgSFgee8cQ2C1Iv83dOM3mUE050uSjDPk10lmuuKearrU2Mw1YZoqo3TVBtXU21inmqTaKqN81SbwFNtQpxqwzTV+OAnhYGnuvHgJ6kX+bunGb3LCKY6PSfJPE91lWiqK6ap/m2c5fHJhN9whpHV2UVGT9a5EB6tc+zP1jmDR+gcwjN0Du0hOkd1BoH5czJlK14xKyg+0ViQuKtSeLquVmi8f1IQ3Q8pjG6CFBbufBQS7yr+BvM2Xk3codigy4Oy+4iI9KA6OahwmxBwHmsnxtqJsS5Ditn9PkDika/C062cQuODXgXJh8OLQk9/FRYfCS8oPtv1G1bHGP3XE3zEtGzFR0wLEo+YFp4eMS00PmJakHzEtCj0iGlh9IhpYeER09eeRj6MOrQ9eTPZ382HrfhsTkHi2ZzC07M5hcZncwqSz+YUhZ7NKaxOEaD42NGb0Z9hq2Y+ouDKLpzHrTze88Z4z+V4z/N4eSJBEeM9p2eR3sBEOvFl5M0EHzJ8M64Url3GpfkNrQ8jrVcxYfYNUUiMq7iYmINjEkXIuA6TyRwrEyhBjFOW4HVoRpQvjevQpJ4L1IiVzCET27HibDJ+OFYpr0zg5DIhZli+1G4Icg2vq1Mrzjp1XX2U6oPEkHqGKJzGVThNzOE0icJpXIfTZA6nCZR6xin1Kn8rEKWec5V6VT0XqBErmXomtmPFqWf8cKxS6pnAqWdCTD18tJ0yBFIPH22nVpx66tH2KqXn2E6kwKE98BybbiLCrJ9j02oj5I3n2LTMqaqfY5Pq26bAyXvoeQfZ5rwpHIy5TurY5GsxTwke1f+fmOdkj3JK+ShT4qcHQWSWYhGk50DkJ1JBNJ8C2TcYpruc/b30rfoNgOoZE6AwKcBhD0Br+AFZOIFZDIGNgQNS89eRv6D6FksYkDjVeEvFCjSearwVZQkKnWq8xQIEFE81dmh3jvfCt+K7GgXFdzUKEu9qFJ7e1Sg0vqtREL2rURi9q1FYeFejkPiuxg5dLRc08nru6m12n3jmW3WUgKqxIMJRAodRIoVTV8B18IBs8MBs8M4+9p8/duWc68TYMoxqmWdr2ZiapZyaZZ4aPp0FRUyanc4CyjNkp7OOVnErD2QVvdyFdXc7z1O+CaW4yfaxaXjFRnrFJnsFP5IKinCRjXCRTXKRbZjwPm7lJO1z5uG7iC8JURDSu4jMVYTUu4gsUazyu4gscGz4XUTG5LV4/H5KiFxXH7+zmP03Hb8z106cj99ZIE9Ox+/EwcUMUa0YJ582rhzBxGwLJpE3GGcbMIEN3ITo4obJKPy1z4UKHZl6xV2uBbZ34+TxzoXRm9iuOWX5ppHvG2fzN4FXgCqkZaAKyxwMXhCMH8oBsTSY1MiBxiJhcitFeLkw3kgFXjgqXwnUGLpeR6oqFpMqwYpiqOGocm0xse2cvMoY10uNyS1jTYuOCdpYtznbeoEa5aRWo3Cgj2tSFDiOUeX1Kaoy1rGJiHhswHGPagpvlFOQo0yhjiKvZOlywKkUeFU7cDlANxErnL4coNXGate4HKBlXvn05QCpou1HgYs+qrwiRlV6YmwinDE2YH+MarLBKKf1Msq0akaRDTOo7GgkxnU0vkjXquW0pkaVV1ZS1foam3zNS+RaG1vwihvVtO5GOa2+Qc5rcHzJrhXOtB5H9esZqNbm2OBgBrbW6djocJqmNTuqBxMxrd9BXTWFg2FrrOihjVrXQwNc3aNwcG3SK31s8rXVJ636UW2s/bHR4SUqHwdE+dAStW3VQN8UDlpDPko4n+ATPed4PAAoPsdznlZ+4Ol64jmu8YDomZ3zsJoDC0/qnOO67aja6BMj9EMo9XoyjrXx6o1zGvWhV29czONvvHrjnCPRevXGhRiTxqs3xik66ZWVkTdeWSFOwTr0ygqJKmxfeWWFdArgwVdWSOVQHnhlhTQKqnx7Q0WQwyvf3giUQtt+eyNIKqwH394IKoX0wNsbQeNwNt/eCAqFUrzakGPFYcyvNjiiADZebXCuQtd+tcElClrr1QYXOFz61QbHFCh+JYBCwSFqvhKQFArY4VcCkqzC99VXAlILCuZXXglIOof24CsBSaVAN56F13HlsItn4YFRqFvPwoOgwnvgWXjQKKTNZ+FB4TA2noUHTqFLj45zVDhc9hPbEC5nFC4XKFwuqHC5msPlGoXLBQ6XKxwuV2K4nFO4TKBwGedwjb8cDMGqhEJVMQWqYhWmquUgVYVCVDEHqHIOT+UxOJVSaEZMgRkpheViDMkL34qnKxcYCkDibO+CQgA0ntddhKEDo2sIFzBkIPEkbYf8Z5nLVpy5guJZlgtncSumQkFivgtPc11onOeC5O8FF4Vmv7B6fgooTu8O7ab1mW/FU5aCaggAiesWhadTmkLj9YeC6KJDYXSlobBxxoDUETiKp7MXk/SI9g7FQXd5cuxKDSI9X52cr3AhBnCexk5MVkdlumN2ccWzc3dB5aVvxVPygsR5eOHp5LvQeMZdkDzNLgqdWxdWcwxQvJR7MclPbe9YvhCxo5sws5ucjZtG6m1k6m1y6vFlBFBEUm5EUm5CUk5H14Ot2Ospuh4gMZApuR7QOJBpcD1g1N0puB6QWEPTCT5wN0XvAiQe85qSdwGND3RNhXeBQo9uTdG7AMUH46ajd536VrwZMEXvAiRuCkzJu4DGy//T4F3A6Fdrp+BdQOK1/Cl41zEQvAo9Ha1r/yNlU7QuQPZ2CaD8C21Tsi6k+HaJ4/gTbdNgXcD87RJjZl0+1GVIuGUukmWjIpayIpa5Iti6QBG1YtYFKBcGXaidknP5vO2c69TGb84FKCaec0w8p5Z4jvhmkyueks48JZ3VlDTSh3rqc933qb4vR8Mbf6npEh0Pmb2RBiy+iAMCvokD2F7FAeZv3AD0V24A1nduANkbac521vfct+KLfJfJ+oCnd/su0foA0cSBYoMBVvMSUO22o5ktsJdofYDizeLLZH3A07HBJVofIDoCuAzWByxcR79E63NUS+gpkFv8ZebL0fte+FY8n7hE70OUzycuyfuQgvcBjqcZl8H7gNFpxuVodDAEczpk6tXMS/I6xPRq5qVwO5T4rc1L9Dtk9Ibm5ST/GPYlWZ7P1yY22oiBbloD3eiBbsRA2fdQUgN150MYX0+9tOv0YAbpJkQS2NP0bYikCndLNyKSkHwu34pICjleuhnBAnhfeseMuXJB9Y4ZS+SHrXfMWGZnTO+YMSePrByM0hC5pXGyTOPKN03M5mkSOahxtlET2EtNiIZqmFzVbzKFUuV7T1wDYHOGyGmNk906F55rYjZel7L7mkYWbJx92AQ24yosxaCTLZsgLctU4VumsXmZ0HAw05ONmcKmbQI7d7qTyILw8CptRPPk5iYcjI/yddNa8Wk5vOnN+GSvN4UMn275VSdU9/yUxs7fvOunGgj/V/f9lJZWAXnnT4m0Fqh7f0KDFQEpLQooqXUB9bw0oEqrA0p6gcAWvEagRssESrRSgASLBVJaL1CiJQMltWqgnhcOVGntQImXD9R4BUEtLiKo0DoSbgYHxxC3iUWBgWkjpTUFJVpWgiRWFtTz4hLUvL6gTEsMSrzKoMYLDWhLHZK03KAmHRUbCFNFmX0VtYa1YpPkrijyAoQar0HqUQGhiZUI1I3+UFqPUPtaANWqhPKBALbWJmxyKIB5hUIxLlJDOU38V0LKlv+uj6F4/8mF3d8k3P+Vh93WNmz5dZ6yFa/zFJSu81TXwx4Zom4Zl32rKnSwom1Gfe4B99d47vTYMey0Ieq0cdnpqkKnK9pm1OcecKeN506HZ5Wg55FT96MoxxCawEAC3zZ43+gfjyuKeXCQ7jA0pDQwlOSwoAEMCuhW0l72iYeDUh5MfcwHRmKIhmFcjqGqMICKthn1uQfcb+O50/bYB/TaGXXbBdlvk6HjxraC9aIf3HcXcuftIQzovDPqvAuy8+HP048dDX+enlkv+sGdl3+eftTGByWg65VQxyuW3Ya/ej12EP7qdSR92jd3V/zV61Gpv0AHvTVE3TUu+4t/JHfsHv6RXEJ97gH3Wf2R3L30fqAL23PZ8uMEQ6qXRfCDm4o24avp7+G9T8cawGXf6O/hvRcHFKDQjdD34fABWPi1ivdjpH2rj1t5DDmOVwP1QOy2PgXtk/oBkasx+LAV93WVgw9CvMV7NXbce9DHmbyijo+0Hgt8zAiGYEj2pqoLgWhExg9/EY0Nj22okzxKdWwzSvbia0YwVEOyh1VdCERDNX74i2io+L4kdZKHqt6XrNJwWrdYzGiwBnG4DnU/TV9IyIN25WtfxwM3pVddToN3JQ9/f3I0WX+eXe0+cjrScsKd/2zNSZYbWvzC4fRscm07LVtX+79dC8hN/Dr493UdqG/ZCB3h0PZ03APu2BDtvfKH/OltRr1A1CPjqVu7ihuDtN85Xko9MfIQPrANW1/CVh+3YkdSfe8pXacfO8IXdk8ifsif32b0JaNeIOqm9KK9RD8+MPaVX08/ifghf36b0ZeMeoGor9JMRkm8JlI7rN4SORHaQ+Prtg3+pcH7FufhtM6qRj1fiBtHJK7BnCTlQX7RVtIvkvaa0igaJ1NV9WtzPAhQeBQgPejv2mr8ReO+gXkoqOWx0Gsh4zj4rZCTiB/y57cZfcmoF4j6q84HR4lfDxg7m94OOCH+IL5iK9gXwXrFqMvyNHDU+Bn9sc/pEf0T4g/iK7aCfRGsV4z6LM/+9tqHCV4kr6SLW/GooKB6LRxR/gHjwtORw57in5R1HH/XuCD69eLC6NeLd2xpRzllKx4yFSROigpPJxqFxpOiguRJUVHopKiweOhVUHw69MMkXIKuiA6dnkQh0Jv9XB37xjhsIONMIYE4APYwIPRpAjrGBkgNAKA6R478pF1cXmheWqjtYKRG4nANxzE7zgM3LY3elRQCk2IcDFMwjFNE8mXgm8Zl4JuDl4EjhDDpH4HQYgzZgZ+A0C1S+No/AKEbxFA2fv5BqxTWqN60wsQhJlUFuv5JzRPfijbDf0hzTz+N7rR33E/oToCifTpPlv0J3QkQ3wNyxR3UmV1VcmR3yvYo/0qGFmgsh34lQzfJI2z8SoZW9bhbv5KhZYpG41cy9uoirM6LsAYv8uq7kOvuIp8HLfJJz6Jx0rNon/TEKwL49fkHIbRAu2r/IMTYoP79l21GvUD09ervz+6l2wle6SxbsdoKEot64akKC42LekFyUS8KLeqF0ZXOwsKVztsJ/tndWxwxIOjdnt5N6k1l24pHXXdpsMDTIdbdJNwwNiT/RsTdJN4eNkZHWXcTvBlcye7g9dS23B7FPRR99+QuPuEVEQWh9XxXFHM4xNNdkevAqGe7osAhyk92BQzByreS71K1M8+xw9+7OyZEsdO/d8dijl36vTvmOnb59+5Y4Njx790RhtjhJRcKBMdOXXKpUvpNoWMpcBwP/KaQbiJiqn9TSKuN+DZ+U0jLKdbyN4WkiHFPS4gMZZqD5hIyNqj3zmAODFH0jau4m5gjbhLF2riOsskcXxM4sibEmOL9xtOI+hwIjmD75uJygnfWlmEd3m35H25ahl0t816WegfoXYRgV3gR90ls1ecP8p7bDrdMVzgVh46kK5xPRPu+8T3cr688NwKHrtg1ebkSKXRLPvsRKHXp4LMfS7xqRwi6glftnsRWff4g96D9FAcdi2MvSIHOkAJ9IqVvfhv3kOXc0XC9kBl0LlwvfELtevFZ7sqBx0bqWQf2IR9MG4Ie4PE1fZD3r46vRwktiRDsviLYfTauZcO4lm3j+jzB84PP+FlA6aygXjBr3WGMekuM9xjpq0x94eqi+3Bfv3T//29On5laP3gdP2S43jMUmt/wjTjGMWrqpm9sEa89Bi3ERYxhFcNiuHZIafVqsNRCZ0WL3dw+E7juUGnxF0tJqzettRq6o1rkya+SF8oQpN2zHrgVJ6yg2ktE1jmA4/X3Z0aug27p4+jG6qFs2aUsR3T9ygR76d2/bBm38kDUlfPCU1EXGk+yC5In2UWhk+zCYvYWFK+c75BdOfew/REarMO419FcVphFiGx+EDZieV9v5ZSN0Mr5Q70wudobHmyEC7KraHcjtNvtPjRDNFHGKe2cc+7RvfwayYqvc0tORXum2uNiiJLSuIymPSFF6Vn5UqDG+GW2mphT1iTKW+M6eU3mDDaB0tg45TI/O8HT8Eduus6B4/w2TknunDPdlUMT5LltRCU+nDRQJveZxDoQ5wKjYs9zeEQMUTIYp2JwzsXAf6niWcTXuSUXQ+VQDIaoGIzLWKc/HkE7WArUGL8sBvW3I1iiYmj97QiWuRjS345gTsWQ/nYETcMfuek6B46LwTgVg3MuBlcOTZDnuxFVDHAFizK5zyQWg7h8VZVwUQVLIgqcGFHl8iA1FUnUqVSCeN36VCqbfL/uqRK4hA7er1NtUjmlG1xaOBhBXWDNG1y6ARfbwRtculEqPH2DS6tchEFNpRjUP1ofW7emIRVnVLlESU2FSvrX0wDqMnJZunwpVFZf3+JUzK3roHs9Xi+qYUKUH0j0gATYuAcILzXSKfC4Vf525/iinyF/1oc43SIP6oWdQlUyTWT3JyjHM3NDlhzE8UJAlOrZ+3ha/iKLo7LP32EOJ+5oZSsWeEHVbACJQi88VXehsaQLohItjO4nFhbuJxYS6/MBrPeFkZ1/PfGteNPxITkV8HQz8gE9CRAZESj+i2vOquUAquNwRD9dtoWhnRpxa95mP942THgrnXeb7Xbb9NitMNZtdtNtttAtDm0/kN0VZL/vULbirY2C4nN1e5RvdBSe7nHsaXquruB416MguqNRGN3M6MdaeeJbMa96rBVAItV6qhWgMdX6UCvA/Cf8nI21AiTmWJ9qpQ/z0Od56PM89I156OU89Hoe+jwPvZiHvjEPpQie2pYVgaNYBM6xCJxaETjiInDFi8CZFYEjKwJDVN91QcSsMkSpZZzyy7hKMhNzpplE6Wacc84ETjwTYvYZphTkyywUCkgHQ5SRxiktnYvcNDEnqEs5S02jVDXO+WoCJ224dvM0IkrfxrUbEnMi52s3xHVKi2s3JFBy52s3kXOaw006yHSklOwoUb6jpFIe9Zz1qFLio8S5jxqnP2qxAlChIsjvgohYQbohpWpAiQoiSKImUM9lEdRcGShTcaDE9YEalwhoUCVIqVBQUrWCei4XVKliUNJFgy24blCj0kGJqke8BjQmxZ8TeI75T8gBIOGJ5T95xgHzedafNL9Aw1PIf+JsAorPG/8JPs4kdppdPOHcfeHhSUkDYQdnTENK/j3yerLZZRLHZTiOy3Eel2lpXK6kcZkUx2WYxmWcxoUvSXWaxvEFKY4xSnmcQU9jjWoab5DjmINE4w4ajP0///v/AGoZ428=",HelveticaObliqueCompressed="eJyNnVtzG8mxrf+KAk/nRGh8eBWleZPnItsaD0dXWNvhB5BsUdgC0TLAFgjt2P/9AI2uzJUrV7X8olB/q4CuyspaVX0p8H8mP7V3d83yfvLj5P3fu/Xstnl0fPbsydGjJ89Oz55MHk9+bZf3v8/uml2BvzSLr839/Hr2w+XVYv7vrtnL3WLB8iOQZ3fzxZYL7IRpM7/9tD/r35ubeXe3I3+9ny3m18+Xt4td2R+OT3Zk/ev8obn5Y35//Wny4/2qax5Pfvo0W82u75vVm2b/6V8e7pvlTXPzur2bLYfa/vnP7cPkx3/+cHxx9PiHk5Pzx8fHx08ePzs9/tfjybtd4dVivmz+aNfz+3m73J/q6AiEt5/m15+XzXo9+fF8x983q3VfbHJ0dPKno6Oj3Ul+b3eN2Dfop/bLdrVvx6P/c/1/Hx0/e3r+eP/vRf/vs/2/z476fy8ePb9pr5pHb7br++Zu/eivy+t29aVdze6bmz89evR8sXj0ev8960evm3Wz+rqjHs35+tHs0f1qdtPczVafH7UfH/02X7b32y/ND7tCi0fPXzyaLW/+X7t6NN99wbq7Ws9v5rPVvFn/aVfZX3anupkvb99cf2r6Xuhr8uZ+95HZ6qaou4I/zb78ZeiUi+Onjyf/KEfnJ6ePJ8/X1/tArwbx58aOfzg5ung8eXN/85fpTnzS//f97r9Pnx566+/N/Wp+vQvnP/9nMv3H5MeTi53w+64i6y+zXRT/9zHh5uF6Mbszfnp+fuD/7tpdtK4WppyfPzkoy+7uat9Nt8us3bSLxWxl/OmuW3r+pVld79O+CE+eXByE2d1OWu+i4zU7OYEa9P3ttTs9Hb5vtmqWi+ZjTaKPlWrM1vtvXH/2ij89Gz616NY5ONe70TrLp/i0/fKpWebiu6bM25vM14vZ+lMO1rdm1WbaLpsM7zei5P2nVSPKfmy7laDzr6Lsev4gYPO1EX3bhJh6OsyXIq2u20UrIrRu7uZRsh5Y7E0g0ebf3WyR8e2q2Q1m0cydD657oynK8dHxkNEzkX7PM/qzoYuSiT9l9HP+4C+Ojo8P6Ff/YInAi/xdf8lx+qu3bG+Xe/S3fMaXuf2/+dgr2fr3fMbfc70u89f/kUu9yt/1On/wTY7E2/zBd/mD7w09Oxt6eppL/SOjD/mM/5WjerWbyz4398E3XNxpcaDy56KpnD0xU7mez6/nq+vuLvdHt3ft9W76gTESDC5Uxj42y+gqp8S1MGAxbnODPuZStxl9ylWeZ/TfuV6fc6lFzksRLeE6wve+iGGfTXqV6yUcXsS+yx/8mrN3k0s9ZLTN6BtU9czzKybCyZOjkpWrSvmYjeaMfTbezxc3TQ7JYa6/aTcizmF69qngvl+meXIclxH3cb8uRKO1z2zV5PFx0a7mgq+byrdcd6vdPH7tATx+dgzDZj3vV66piWXZoofVbTffKXftvV467OX+i78jU+hLz36cCyYWULuVnFwP3Mxub9WcduC4FqMVx77vmlUDY//0whZDs9vV7Iuf7fS8ZNbuUqKBjAuu1DfzarYeifC4utKLBeuAqO+uCYZa7VbY8y/r+VpIu7bef2q7sFg0ty/zfkhu77nV7Kuo7Oy6uxf44OUfF81D1ioj6252vWrFia9WjTrxTXs/uw4jzqX5ricxAG5oOA69srsLut2aWyxSu+XtbNXdLWadOE17u1tnfhZfN1uFxZP1y13IWRee+7Ln9GJg7erm426hF1aGvkKJk6wvQCL3M1zCGZ6c2xnudk7XLfAUdrUxE1PezX7Qr9diAlvEE1tKtZHbiqRtctnd+NxdEe/yXkwxf01d6k4QM9Cn/5g3PjXJTvWvi73nq6NcgzJd3My/ziGh/SOxZr5gFoPDqx0/5Cs99SGbIikGNln3F180TKCp+Sv9fGGoOK53xIzGg3+m0kMdfcCvAtJJ/Jph5xFwEXJSnFg19KI4+HW56SFORa7j68KYB95KHZffVQV8eNRyNJqqr/Rlc+xSqvZt0VghnMkqIUNmsvlr9kQbivN49rOLoc6L9luzvBWZ+zqewq/iRpOzGx0kQvThVZtIVpW2XnNb/fonR85O8/ZTuxKtuqSzexgqbvCG+FmZxChsNpo4Yy1ienLr73Csu36VsxL1pRS0KNY42WoxwbtucT//stiKelEDPclDA88uyqXJbHU/ny1u5h8/5r7a1q3h93geT9ixZPllNM1GZp0sWTpVhueyZoO1jPk9BsgnQ/oivP+2WzHgTTi7BFq1n5slXgiZOa6a2/k6Ln19iMbOhuk4jwtzjm43qsP1iAe7soZcVSLTUmR8XFZS6r9ohJ89K2vX/lZXvBFmcf7l/lOGPyUDNDNXvnV6PLTxvjJvNNXZsTYLPq8tH0ayMgbYr5dpaNitCK6UuUKtR2pTT20aXdcGZR7Hdu7RZQnPmGVd0CzuxQ2f+2DS7ombdsQR6/G960RLKOYWKrnO9LFAofcr1bjCeVpuWPQ+vkvg1S6R1/n73qR8ffas5Kte0b4cnX9/ix3nlxL2WEeZYrIFt4wYJue16ey3WG2Lwy5qn2YLmBrKIN9fmtCtbuuLMZdfxmWTp9p3OrAyFJpag26jmWKDhm5Vvar77o1cIFoGy5qflR682dmEeujRxi4CK9SW1sXyZ+dm5zfza2W0P8cvgoXZ2HL399g/Xt1Kv70ez2ulurdWltDPqyYdLwesB6jOZsQjC8pfatM9O4XdIpYNtQVZXAnYt40OhUoV7kfPtGhv9/29bEW427qZdlkqQ3n3VZWRfDt+RQszuce8kr5LOY/bzZ1lXjS759fG+C/d/nHkvx5PXjar5R+z+Wr/EPmfk+f7h9WTxz+cHv3r8XB0cI+ADvWMaDB1hC/i0cFVAsKGoXAZj3IVcOoN3Loq0MP4Dyg4T1CGkAV2uDsU0GHgIHoVjt7ujo5P/LAELbDQflDe7Q7P/agEAFAIAHAIANASAEAUAFAsAMCGoR1Y7yhI3u+OLuxoGrQP+wYe+WFpEjKoO+AuhLXLydBVkqGTydDlZOiqydCJZOgsFsCGWDj5ujs6s6NNONrGo9IiQFDzgQ6FcHQaopAYp3HqnAdrUV4IRMPWuBy7Rb0UqFJLOZRNzF1oEvWjcd2ZJnOPmkBj3DgN9MJfZYRD3hiPexfk4C8yOIAhsgHjygtMzIZgErmCcW0NJrM/mMAmYUJ0ioLBLgqa5lJoHMbYPUwQFlK0LncYm4nxsZwUtmJSJScrBmNyLSeT1ZgQ/aZgMJ2CNhltBSIPMp6NaPADNCJDFE7jZETO2YiK8kIgMiLj0oiKeilQpZbSiEzMnW4Sdbpx3ekmc6ebQEZknIyo8FcZoREZYyNyQRpRkcGIDJERGVdGZGI2IpPIiIxrIzKZjcgENiITohEVDEZU0DSXQiMyxkZkgjCionW5w9iIjI/lpDAikyo5WTEik2s5mYzIhGhEBYMRFbTJaCsQGZHxbEQYGnSjyCmwUSRfIpHNKcgvapxsKorSq0KRyxofa4i0rlgi50rUKWGiqLMmluHUiSp5WhTJ2IL4qsLR4qLAPkeqNLtQBhwvcrK9KCrviyWyAUadXDCK2gpjGfbDqLIpRjU6Y9DAHgOfVsqjUUaB3TKqwjJDga6SCmyeUfzu0BA2GvWxoVEx1FhmdGgka41q9NeggckGvqnwbY2T50YxG68TtF2k1CEokeUGiQ0XxBeaktmiJK0WClxqWq+6NFnUcx6hSlmEks4hLMEZhBpZK0pkrCC9khRNFTFbatCkoUIJsFOkZKYoKStFPRspqmSjKGkTxRJsoaixgaIW7RMUME+gU1kWjRMx2yZqwjRB7mQ3s2Gi9J0kF2aJaj3JK0aJJUaSPJkkatEiQQGDBLqRdKspWSNK2RiH1qMrGqKQGyc/dM5mWJQXApENGpceWNRLgSq1lNZnYk4JkygfjOtkMJkzwQTyOuNkdIW/yggtzhj7mwvS3IoMzmaIbM248jQTs6GZRG5mXFuZyexjJrCJmRAdrGCwr4KmuRQalzF2LROEZRWtyx3GZmV8LCeFTZlUycmKQZlcy8lkTSZEXyoYTKmgTUZbgciLjGcjKnVFJ3JGAXWBvAgENiOTXihGduSC9COTLxWrVVZakqu5/12jBHBBZ4DrnAKukC+5QMZkwivB0JocsjeBIs3JdHAnZ2RPLih/cjUblGvkUC5oi3KdPcoVNilXoksZB5syNhXl0KgcslO5IqzKxE50IZuVC6PpKuzKtVq6VgzL9Wq6JstyJXqWcTAtYxvBtoqRb7mQjatUDI3LGQXXBTIuENi4THqhGBmXC9K4TL5UrFZZaVyu5kxwjTLBBZ0JrnMmuELG5QIZlwmvBEPjcsjGBYo0LtPBuJyRcbmgjMvVbFyukXG5oI3LdTYuV9i4XInGZRyMy9hUlEPjcsjG5YowLhM70YVsXC6MpqswLtdq6VoxLter6ZqMy5VoXMbBuIxtBNsqRsblQjau1fBDH16FQiiwBZNlGWbDGoQXmZBZFSytahAvM9HVkyZVtNznRaEeL1j3d1G5twsnayqYjGnArxJBUyqILcm4NKRBBTsqhMyoYGVFRctGVBSyoYK1CRWVLahwNqDCo/0MFMxnINNUBo2nILadwoXpDFKXuocNp+CRxBNmUxSdeBWjKWol8ZLJFB4tZqBgMAPZJLLNhKyl4GwsQ7qjsxiiEBonb3HO5lKUFwKRvRiX/lLUS4EqtZQWY2LuapOor43rzjaZe9sE8hnjZDSFv8oIrcYYe40L0myKDG5jiOzGuPIbE7PhmESOY1xbjsnsOSaw6ZgQXadgsJ2CprkUGo8xdh4ThPUUrcsdxuZjfCwnhf2YVMnJigGZXMvJZEEmRA8qGEyooE1GW4HIh4wnI/rzkJvHfuSdYSjED3joHqMlaoAoYKBYrIBZmIANEXJy+F2vxz+cGBl+uqugn6DQqRErNKDyShyVLJiLD8OfixecihdrTh8wgT7y8w49t+7pj2Jn9qi4OKDQR8BTl/e09BEg6wlg1hPAhp4AUizVkXvBz4MNuLZ3gGd+VFoHCKrstATQv9YiN6DSCRA+QxRD4xRI4yqaJuaQmkRxNc7BNYEjbEIMs2GKdeHvcximuRSE3hDF33juBM59Ol/qjn4fYeyOgrg7CufuKFx2RxFFdxSJu6Pw1B1FSN1RBOqOgrk7Bv4+h2GaS2F3FMTdUbjojkHi7hgwdcevQ0889aNyKkAl/oBC6IFDhYCWgAOyWAOzMAMbIgykBNfRzBYU/VFcQfWotACQWE/1PC2lehpXUT2iFVLPaHHUs7Au6klpgaPSW8eOfIXRH8VFTI/iyv+A8pKm52k1c6C27S/guL7pEa1dekbLlj1r41Guc1upYCsr2OaatHKR1Suijm1c7vcorvR/xTEB0V/tx+W5HZkzOSrRRxQW+wfhb8MIO6w+/oYjDFDJT0AhUsAhUkBLpABZPIBZnwEb8hNICZGjWTzKLZjlFswqLZjJFsxyC2aiBTPRgllqwSy3IK60/paXWHvUhY90uZldpU2dbFOX28QXCaCI1naitV1o7cvJ4Tr83I+i/fVIeF3Pk9f1NHpdj+TFYq+QC/asjDpA0fJeDv525kdx7n+J/oYoz/gvyd+Qgr8BjtP/y+BvwGjSfzn4GxzlOreVCraygm2uCfsbKKKO5m+A4trj5QSviV9O0uXwy5TVwJMrv5yk69+XIqtBIVd+OckXvC8nfK27J9uQLduc1ducvcGAcVyQQF9GqhotVOS7p6YxRKoeTlSIRxbJNMhIpfEWVUgPEiijSaUByapIfSqSRwEXyCOWStCQIZXHCMk8pKPcVoXRsMgxT0W+13B2AlK1KVCh8bazVZBKrhFVMBASyEtIVbZCRbLDUAEyG1K171AhtiCS2Y1IjsYUxW1thLFdkZrs47fJcGP52A/tnjKyeDvZlffxcH9ZeWFH/d3VMz+0e3nA8Kad4/ijr1ky/sT41oL1GwYCUOrz38Ke6mNiHIfanmqS3wsGYQk7js+IcYDkjmPSaqEKOscLd+lSLDhyapfuIJV7LRg+Yxw+F2T48NYRMwgf3jsqLU03j5Igwle0WviCzuEr4jbHgsNnXIQvDM4QxKikUJKsAxoKva8qGNwghBBHJQU6yircoUQ16LlUCn0yQhnN1A1VIxwKDNNU6AZj3AEuyNAX+b1gEO6CMNDGOMQmiOAWrRbWoHNAi7jNseAgGk/h2y154W5DfxQvYnsUr9V7JK5re56ua3sar2t7RFevPaOr156Fq9eexGv1y6Hvz/woLjsvc3+78N5m1Muhjz0u/9gdPbGjD9b/l9jNgKDpTsttBD+l3UYYUPFp6AZD1BfGqUOMq14xMXeNSdQ/xrmTTOCeMiF2l2HqM5y/KQzce5XZm1ToR5y7TyOCHsXp/IIQ9a2azEmiXk6P/QYe9k5Cf0dOnR5F6vkoqu6PJXIORJ0SIYqcDVHllIhqzIuoUXKkndwqepwmY/u4VRFImLRt+VRwSJ20nflCcUqi6mZmpVM6BY1zCjadQUYhpXxCibIJJZVLqOdMQpXyCCXOItQ4h1CLGYQK5Q9tWc1x4typb1jNBSBvaMfmaaKQM7SP8yJTypfKLs6sUq6AwplStgRBmhiiHDFOCWJcZYeJOTVMorwwzklhAmeECTEdDFMu4MY+CgNnQWVbH6nQ/7jl7TQi6HncBXdBiPpc7YEjiXq7YO7qeJsDe5wV6niWqf9ZVmnAZXI2cAlKCpY5N1jnFGE9ZgqrlDAkv63GlNMnySqLqBAkEymQU6RAapECGcYKJRrLOd+oBKUdqZx9tocH8s4ZZZwLlGsuqCxzNeeXa5RZLnBOucLZ5ErMI+eUQWHHHkeEs6a2X49lyJSwhe2UGGRH2NZ2wYwyQm5qY42ywDj3f7nchO43RL1vnDrfuOp7E3PXm0Q9b5w73gTudxNitxumXsfbEBQG7vPKTQhSocfxFsRpRNDfeFfighD1tronQRL1dcHc1eWVUOhqQ9TVxqmrjauuNjF3tUnU1ca5q03grjYhdrVh6mp8sZvCwF1dea2bVOhqfOX5NCLoanwL+oIQdbV6B5ok6uqCqav/GHp5eCX9D+xhZKV3kcUXf0HAe2KA7dVfYP6GL0B/xRdgeccXUOlBYLPQMntDBVB8i7BH4sldz9Pjup7GZ3Q9omduPaOHjD0L7wn2JD5w+wP67fipocYyqT+KD5V6VBIUUX583fP00OlA4Ykr4Pj8ukf0PLpn9L7bnrXxKNe5rVSwlRVsc034cSgooo724BNQfDr+B46OIfqvJvgGfH8U34DvkXgDvufpDfiexjfgeyTfgO8VegO+Z/QGfM/CG/CvJ4e3Hk78KLp2j4Qx9zx5ck+jHfdIvsPUK+TRPSvxBxQd+PVgvqd+FF9tfJ0t14V3NoheYy8BEqP8NfUS0DjKX4teAoXG/+vQS8DC+H8d5ojXYXp4PUwDrn2II+g1mf9Ayy1K6H1DlALGVR6YmJPBJMoI4zotTObcMIESxDhlCd5kPiVE+VK5yUwqZI4hSh/jKodMzIlkEmWTcZ1SJnNemcDJZULMsHwf3dA0B+JDLsVZp26aD1J5sgqpZ4hSz7hKPRNz6plEqWdcp57JnHomUOoZp9TDB+ynhCj1Ko/XSYXUM0SpZ1ylnok59Uyi1DOuU89kTj0TOPVMiKmHLxBQhkxzID7kUpx66u2BIqX3/U6kwGk48r6fLiJSUr/vp9VKelbe99Myp6p+30+qmLb6jYaKKlM4lMFEjgKnc1RlUsciIrVjAU7wqFbSPBZKyR7llPJRpsRPL3rILJ3WQvmh9ok0IKpveRwKvJnwPsg3k7QP8g0/6yTMxXmbF+FUPG1xTEL6SGgWfyyI9NFdfuO1bH9I17I9o2vZnqlr2V7I17I9pmvZnvG1bA/5WraH8Vq2R3Qt+3YwsjM/iiPpbbIs4GnMvEVzAiRHx9tgQ8Diu6Nv0XAczWIjZqIH7Br8iaNaB8x0B8xEB/hlOHyviv8sx98uxP2j1+0CfPgtJCN8jqrQiNbaxXlgleY2urnh+hx5CYNXuxFRaFQUPm2/fGr6ennntbFIK5rT1qre6qq3oqf40h0lUX27dsdyucP84t2LrehQNGgl+of2cIGybu7mOTO6WKgTp+lqcet03DoRN37RGSURt051e5eTfxMPt3QoGoOvnA3nww3WpWTaYZ0E9mK9xzqpImRpl3USkj/nfdZJoWClndYsgGenqx/myr3V1Q9L5OO1qx+W2dHT1Q9z8vbCZ6LZyeVNIKs3Ptq/yvRNq/Vvsn8Tqt3LE4FxMhdf9YSBz4sh/hpVyzRDmMA25MJYqNSE4ZqYNUykqcN4LYx5EilKmkmK0IrCaU4xYbSdanYxrZYStXnG9Fpb04xjQiUz0txThJVitRCkqcgFOR8VWUxKRepE8TQ9mTDaBWqiMq3WBbUpy/RaF+TJy5TKqN0ItlWs1nw1q4ULjjC3RSV9Z5TTPBdlHfdYRkU/lkh9EOU8/0U9BzzqHPaophkx3ZQ5kwLPjiM3ZXQRMVPqmzJarcyalZsyWuYZVN+UkeqsGrI8p0aZZ9ao/gcZJWfZWGI8o/KMG+XvJFSafaPKTkv3BaLbyZsG+ovr7clzc5STO5P8/ZDL2ZpKqDk7FuGZO6rjnSJm8aDnuTzIbfWDeV6P8n8QHTnHxxLjCVmd72Op8QjluT/Ko3mZ1wFBXtWV8fDllQHJen0QCqlVQijQVT+aVwxR/g86V64eYonxzq2uJGKp8c4Vq4qoj3rSpqps68p46PKa492w0DjzozhHvsMFBSAxV76jhQPQOCu+CwsEYHTv+x0sBIDEKe7dhF8/ejdJbx6VJwPY1rRDijm1Wu+QYjG3P+2QYs6RyDukWIgxSTukiFN0KjuLwuMRjJPeWSRFitjIziJZIsdO7yySIkexsrNIqjGeemeREimyY5ts4NESBldtshESBba6yUboOahqk42QOKByk43QYjDVJpssUSDrO1DKAziMYdqBwpyip3egsJjjlnagMOeI5R0oLMRYpR0oxClKlZ0b73h7Ql2hgNV2blRkFb6RnRuVEhTM6s6Nis6hrezcqKgU6NEtC6xy2MOWhcQo1HnLQhJUeOWWhaRRSMWWhaRwGNOWhcQpdJU3/J1zuOyPHTxXjMLlAoXLBRUuV3O4XKNwucDhcoXD5UoMl3MKlwkULuMcruEH3J9nQqEqmAJVsApT0XKQikIhKpgDVDiHp/AYnEIpNAOmwAyUwvJ+CMlTPyrhABR/S/R9CgPw9Fui77H5gOi3RN+HZgMLvyX6Hpvr6EVoz4vYcz2KV1wuXMajmAo9Ev3d89TXPY393CN5y6pXqPd7Fm9O9Sh27x75b8T2R3G7QY9KCACFhgBPmxJ6WhoCyKoLzHoM2NBjQEoLHJUr2zMg5TbQeUGxk5ucmHaPB5FOzEYmZrh/AzjnayPytRH5andkHLXxKDejrdS5lXVuc+X4Tgoootp2ywRQHlNwb8Q6BO9JeM91oWe7nI1dJfU6mXpdTj2+mQCKSMpOJGUXknI6uN65H8XXtaboeoDELogpuR7QuAtiGlwPGO3HmILrAYnbH6YTfHVyit4FSLwkOSXvAhpfh5wK7wKFXnyconcBiq84Tie452eK3gUo2vc0eRfwZMJT9C5AZLXT4F3AwgQ7Re9yVJzqqZG9fupHpU2A4jub02RUwNPvA03ZqADHX9qbBqMCRj+XN0Wj8oa1oUCbm6F+CXpKRgU0V07/EvQ0GBWw+EvQUzQqR2ZU3h9dKNDlhqhfOZySIwHNDdE/YjgNjgRMxD/+RuGebMM42ebxvE3j9sNgZMMPZX1AJ0NmDzSBxbvAIOCtX8B2vxeYP6QE6DdtAZY7tYDsGaSzvaU9PbcjmyodxanSOU6VTm2qdMRTpSs+VTqzqdKRTZWG+mXLmTXCHwUCiwuyD8nUsGz+lbIPaGvIaPr7EHwNC5b4A7L4OyuT+xMgw7LMC9FnGtFcf/iGrNLeRrc3PlsDLuLQiDg0Kg78wGzP5mE4zeO46xFtVv4weCV8RyuC0NYa3OoGt6Jh6RkZSD74ANrjMGCio3115wxXd54AXRyhnbCXrmYlnbaSTlhJel4EknKZTrlMRy6DDy0S44akxxZJkM1UDy6Sxg3Ojy6SktrHDy8SZz/F7YWDWaXthcyVvarthSyR0da2F7LMlpu2FzIn8y0cHcoYD0kTyIuNy/Fqqhi0pvHINYF9yYRkTqaQUxuPF9HGacTyMyv+GlXL5OAmsI27MBYqZeiuCVc3sRbH5O8mVOOYnL4IYPeGyPONs/EXoRXfm6YAE0aDpSYD02rxqE0LptfileYHE3iSSE85WRDTRZFwzjBW81s9e5g6YqtpHjGhMpmYXrXdPK2YQrZLjyMV5harB5JKkwGpPJJUModFPpRUYmq8eCypJJ55QIPJBynNPyipKQj1PAuhShMRSnouwhI8HaFGMxJKNCmBhA6MmK0CNZqdUJJGggWEl6DMdoIaOwZqyWRRpPkKJZqywvPqYBziSbb4vkrV0/SFGs9gQftOONU8FmQxlaE+Eu40oaE2Fu40rYEGMxtSmtxQ4vkNtFafI81yqH0voGquQ3kkYLUZD4ukCyIUeeJDjec+9fqE0MQMCCpOgohHZgU9FWKBcedPEyJqlTkRi4xNDnlmRDFODvudwl8tq/ZHm3DkP5feH8X7cz1K9+GKZeL3FrTJaJs/yKcxns81WDCeq6BNRtv8QT6X8Xyu8M4TnDDwTYVvK9/D549irgR0JVQB6EbSrfwGPjlK+dTlJRw4b0GbjLb5g3w64/lc9i4FnMzYRrCt+Cyfz4V8QnsbAU5obCPYVnyWT+hCPiH8zfuTQDaJbNOn+ETib94PCv5Z65OINhlt8wf5VOrPWh+kqx292luLHcUXG/ZkYefsj+KE16P4/B+E+MzqapLekLia4J8YvEIHBySetF2RXwONT9quhDuDQk/aroIXAws/nHgVOudqgk8XrjD+gFJdr3E5dl7I56B/VpG9TnchzgP+nEvq70l7Ns8D/pxLVr4n/bJF+SYTPqvS+tsOU/5k/WV2vQ/h+UD7L85/R+Qoy6TlSMULb0NfbVTEkbY/egjaNmjU2zzQBqo7zTDXByfk0/gNm/ylD7nUNpfiiqo5epB0ahjm2hYOtcWdiPSlD7nUNpfi2qqdiUVSbz2Xqsm3npWIldfLg8gfKuW3lfKpQbVlw6Cry7ZzVrhFtNY4TV+1kSd4kGW3siy3o7ICKapfxqVmgJTaARo2BPBGn+RBl97q0qkxqOXW8LvOQ23Tu87EoQV5+WXoIZfa5lJcY7UiG6T01utQrfzWKwtQYbGEc/Ygym1FOa60XNYNWnr5dKhcfvmUBai1WAc6exDltqIc11quDQ/ax8nhftSpH8VFWI/K3SdA4l2JnqelWk/juxI9ojciekZvRPQsvBHRk/i2x0eIuJPdeFg063V/8+NpgfFDTW4ovZFzQLqh+Y2cA01v5PQ4t5/fyOmZaH8bj3Kd1es3PZcVbHNN9Os3vSLqSK/f9Ch3CP1F7o95CfQkCgM9rJr21xf9Nks/svsjjuwmHqC4hfIglMvslUD0tcbpu52rE4j9oVKgk9V2h2pVnDj+jTnx5+X0X5b7PIyEEz+KfvEZRwKifDnzmUYCUhgJgONVzucwEoDRtcznYSTAUa5zW6lgKyvY5prwSABF1LGNV4mfcSQMKO9a1wK1pbJnvaKKRtd3rFcK5L6q7FfXKkentl9dym1VGA2L7O36ZnRdYLRZlXSo7UTXMiVJZSP6Qb2bDDeI/Sh6Ro/ET5X3HO8CO40/Vd4j+VPlvUI/Vd4z+qnynoWfKr8bbOiwqrlDGwKEtevpMjR2mRu7rDR2KRu7zI1dVhu7FI1disYuU2PjfcJlaPoyN52XigMNj8SPIqIgVB6Ik5jDkR+HE9eBEQ/DSeAQpUfhEUOw8BKfAsFhU5f4gxR+FekoIopd5TeRSMyxy7+IRFzHLv8eEgscu/RzSBFD7MKPIcVAcOzUDYci5d+KOFICx3HslyJkERHTyu9ESLUS38qvRGg5xVr/SIQSMe75JyJUKFMfVH8gYihQbm1DHxii6BtXcTcxR9wkirVxHWWTOb4mcGRNiDHNjwOWeO+fAsERVPf+D9JuvUB3+/eEbtC3w4n9I5tw5NdKbVhFt3kV3cpVdFmccFXSjVHiUCm8MUroIZ9nKxBVtP7wspW3Gs+ExvVOtxqHmqZbjYo/VCqwrXFq0HeeUML6jtukbjVmCdpDtxozfZCn3WpK7Rh92NnyzbmziLn+eHNuqCbenCP0kM+zFYgqXH9c2o7u5meV604yNIGUTVV5qFZlW1eoeSznVlY23rf5FiQL0KZwC5LZgzjZVjGq+8iT5XKx0d/ROz+PqHwNc9vQSDzuaiQRTs2S7W8k7pscSfCdjiSU7Y6Ebc9j5FcZXQtUCUN5VJh5eeyXlCExnkV8k0ve7Bo+u89cVKOpVK+pVK8Z66Wm3kvxj4WRVunBptaDTa0HP2YkOvS2koHxFhirnzKaC1SJ53wsbvN63OaV2MxrsZnXYvPfGYlSn0djsBCo0uDF+BfZX1aL/C4j0cZl5ZzLStIuR+uyrIzvVqDKidux3m3rvdtWejf9mTqSa53fVsLaVpr4RaAyzZDN/DsXXQlUCdCq0jOr0Z4REVtXTrCunGBdtdP16KkVGv1AJ1Clrt1YtnT1bOkq2cLXVSzXsqWrWUWnJ8L9QuMizvubjPx9eUPbXMoWGcyh+SR9yzX6Vonwt0o2fBOzkP7bp4Z52YUXmcfxGzYZwZorv4bWVl5Da+uvoX2Bip6eF+IPvwxtw0foBF/0dw/fUnt3KOo1sbyOdHjcRl9l6pmri+bjffnSw/9/OL8wtXywX+UcZWwrnayFaoqvXOmPuYUJzfJKadEecol1BY+ccD1yQrQ2pX63OkNfHIbZaljFH/tRvC20wrU7IHGTaEUrdqDx1tAqrNOB0R2fFazOgdgL84aGl+JOARwGy7mR3aLtMEhXsFwDgu0B7M0BOLQGSGkMoNIWR/EgdJTzRThI9VzUPjZ4nZPdmurEDpbhYPhWIEO+IcHzAB+C7+QLxt0syQMP+xS83O47z/wgnMt5h83pUig63WWd6rIudRnNniDkvuxyXw5zpYOv2LxtOBhqDsSrOMByRw2GoiEaj8ZpUBpXI9PEPDxNojFqnAeqCTxaTYhD1jCNW7+xicnBtzvPI/ZhbCQmhmGRHaalFDEl5olhygnjlBjwijETNW6LuMhEN0qOfhOjBRTsPlDIMpPoCIajLTgW3mBiNAi7TZ06mK2i8OwXRXFzMKKcAx56Uig6HVVlJOKJJys6VbSvpMedzCuJFG0G7u1TaLaZRNcRt+wHJfytJkJkPekvNTFX1iP/UBNJZD35zzSxwNaT/koTYbIe+iNNp0yD9RTs1mMk5pNhkU+mpXwyJeaTYcoY45QxsCuBiTKNIi4y0Y2S1mNitJ6C3XoKWWYSrcdwtB7HwnpMjNZjL+OnDmbrEX8biT7h7mJEWQ+8M0Ch6HRUlfWIFwZY0amirSe9LcC8kkjReuBVAQrNNpNoPeI9gaKEp9doQFFgG4oqm1FUpSXFIsKYYgG2p6gmk4pysqook2FFkW0rqJSppEULCyIYWeSUo1FUmRpL5HyNOmVtFDk7o8o5GtQql5YViixqfCwU2gpjETLEIIItBr6scbLIKJJRkqjsMhYh0wzil0p6JQMNqrDRoINfRi4tlV8lkiFle62/SKRLfCd12XDH3iLSZUbTO1mweoVIal8rId7WOFlz7fWhg563VoktVeVNhuEjfP02FEqrfuLwDXpv3TpN3sTxGyobLtfiT4knBb9Hemr5hB4RUoXv9LFBWziHo/3fzGUS7wY6Frf6ivg+kandfy1k/+fjn0VSZlrCMENGpdzoHe7gnmZxUA73hb8O0/zBbL7i3A6oTOiA4jvYzvHFa6f2trUjf3vamb8u7qzsY3Zir04bKonw1NoU9Sa3yd+tB6Tb1Mg2xVfnHeemNqKpjWhqG49yndtKBVtZwTbXJL3X7oqoo7/B7ijHnn5vd1PWjed2FN/v24QVoqO4LHSe3gLchAWgI1/1OfOlnrOyvnNiizpDJaGeWJt80bfBhAIUt/FsUkIBT+vbDScU4LjW3YSEAkar2s2QUHCU69xWKtjKCra5JulneFwRdfQf3XEUF9QbTKhD8B8muH3vAYMPKG7fe0jBB56etz1w8AHHTXMPIfjAaPvetriqH9lodmSu6kjsbNmyqzqNe1i20VWd0SacLbqqk7ghZYvT65GhWKDJjaItS9tsq85lo8SOpG2wVUeirbzhaFts1Y9yndV+oi3bqtNcE71daBtt1VncGLQNtmrIly9D9PGBxAkhalN6IMFcNVg9kGCJmp4fSLDA3cEPJBhTHNLSlWIhinJOGqfEdD4SC5GiLuU8Na0Sp5SxJtTi1ApUaaDMYhPrDeF8Nq6T2uRaWzi9jVf6NiU6vDINuY6UIoASZTxKKj6o5xChSlFCiSOBGncsanEMoEKhUr+rkYOlP8DjASUaEkEaD5YYGEHNYwPleizTCEFtJJatpvW2y9GC+mgDecygpIcNlhhpIw8elOpJwUPoW1mvnttRXIN/C+tVQHkN/o3Xq0Bxveo4Ls2/xfWqM1qafyvrVT/KdW4rFWxlBdtck7RedUXU0derjuK1wjeciRhR/dNMlLhonJqJkpT7Ic1EzLm1eSYioRWo0kDZS2omYqlS2Uqn5ZmIBeq+NBMNvNyvUoiaaJz60Llouom56S7lPjSNwmKc220C92ERWoEqDZR9aGK9IdyHxnUfmlxrC/ehcepD/BWkGqamBo36M2oiFKFADkeUc98GnUIWNI5LELmfUWwreCQIss9DgfGGct8HTfd/KDLWVs6DoEEu/Ot//z8nhUqv",HelveticaCompressed="eJyNnVtzG8mxrf+KAk/nRGh8eBWleZPnItsaj0ZXWNvhB5BsUdgE0TLAFgjt2P/9AI2uzJUrV7X8olB/q4CuyspaVX0p8H8mP7V3d83yfvLj5MPfu/Xspnl0enH05Nmjs6dHz84mjye/tsv732d3za7AX5rF1+Z+fjXb426xUHh2N19shTBt5jef92f5e3M97+525K/3s8X86vnyZrEre7Q7Xv86f2iu/5jfX32e/Hi/6prHk58+z1azq/tm9bbZf/aXh/tmed1cv2nvZsuhbn/+c/sw+fGfPxw/efL4h5OT88fHR0dHj5+dHv/r8eT9rvBqMV82f7Tr+f28XU5+/GEng/Du8/zqdtms15Mfz3f8Q7Na98UmR0cnf9p90e4kv7e7Juyb81P7Zbvat+LR/7n6v4+Onz09f7z/96L/99n+32dH/b8Xj55ft5fNo7fb9X1zt3701+VVu/rSrmb3zfWfHj16vlg8erP/nvWjN826WX3dUQvVo/n60ezR/Wp23dzNVreP2k+Pfpsv2/vtl+aHXaHFo+cvHs2W1/+vXT2a775g3V2u59fz2WrerP+0q+wvu1Ndz5c3b68+N30f9DV5e7/7yGx1XdRdwZ9mX/4ydMnF8dPHk3+Uo/OT08eT5+urfaBXg/hzY8c/nBxdPJ68vb/+y3QnPun/+2H336dPD7319+Z+Nb/ahfOf/zOZ/mPy48nFTvh9V5H1l9kuiv/7mHDzcLWY3Rk/PT8/8H937S5alwtTzs+fHJRld3e576abZdau28VitjL+dNctPf/SrK72SV6EJ08uDsLsbietd9Hxmp2cQA36/vbanZ4O3zdbNctF86km0cdKNWbr/Teub73iT8+GTy26dQ7O1W5szvIpPm+/fG6WufiuKfP2OvP1Yrb+nIP1rVm1mbbLJsP7jSh5/3nViLKf2m4l6PyrKLuePwjYfG1E3zYhpp4O86VIq6t20YoIrZu7eZSsBxZ7E0i0+Xc3W2R8s2p2g1k0899ds+6NpijHR8dDRs9E+j3P6M+GLkom/pTRz/mDvzg6Pj6gX/2DJQIv8nf9Jcfpr96yvV3u0d/yGV/m9v/mY69k69/zGX/P9XqVv/6PXOp1/q43+YNvcyTe5Q++zx/8YOjZ2dDT01zqHxl9zGf8rxzVy91cdtvcB99wcafFgcqfi6Zy9sRM5Wo+v5qvrrq73B/d3rXXu+kHxkgwuFAZ+9gso8ucElfCgMW4zQ36lEvdZPQ5V3me0X/net3mUouclyJawnWE730Rwz6b9CrXSzi8iH2XP/g1Z+8ml3rIaJvRN6jqmedXTISTJ0clK1eV8jEbzRn7bLyfL66bHJLDXH/dbkScw/TsU8F9v0zz5DguI+7Tfl2IRmuf2arJ49OiXc0FXzeVb7nqVrt5/MoDePzsGIbNet6vW1MTy7JFD6ubbr5T7tp7vXTYy/0Xf0em0Jee/TQXTCygdis5uR64nt3cqDntwHEtRiuOfd81qwbG/umFLYZmN6vZFz/b6XnJrN0FRAMZF1ypb+blbD0S4XF1pRcL1gFR7y8ZDrFZLOZf1vO1kHZtvf/cdmGxaG5f5v2Q3N5zq9lXUdnZVXcv8MHLPy2ah6xVRtbd7GrVihNfrhp14uv2fnYVRpxL811PYgDc0HAcemV3l3O7NbdYpHbLm9mqu1vMOnGa9ma3zrwVXzdbhcWT9ctdyFkXnvuyZ3fdOnz56vrTbqEXVoa+QomTrC9AIvczvIIzPDm3M9ztnK5b4CnsamMmprzr/aBfr8UEtogntpRqI7cVSdvksrvxubsi3uW9mGL+mrrUnSBmoE//MW98apKd6l8Xe89XR7kGZbq4nn+dQ0L7R2LNfMEsBodXO37IV3rqQzZFUgxssu4vvmiYQFPzV/r5wlBxXO+IGY0H/0ylhzr6gF8FpJP4NcPOI+Ai5KQ4sWroRXHwq3LTQ5yKXMfXhTEPvJU6Lr+rCvjwqOVoNFVf6cvm2KVU7duisUI4k1VChsxk89fsiTYU5/HsZxdDnRftt2Z5IzL3TTyFX8WNJmc3OkiE6MOrNpGsKm294rb69U+OnJ3m3ed2JVr1is7uYai4wVviZ2USo7DZaOKMtYjpya2/w7Hu+lXOStSXUtCiWONkq8UE77rF/fzLYivqRQ30JA8NPLsolyaz1f18trief/qU+2pbt4bf43k8YceS5ZfRNBuZdbJk6VQZnsuaDdYy5vcYIJ8M6Yvw/ttuxYA34ewSaNXeNku8EDJzXDU383Vc+voQjZ0N03EeF+Yc3W5Uh+sRD3ZlDbmqRKalyPi4rKTUf9EIP3tW1q79ra54I8zi/Mv95wx/SgZoZq586/R4aON9Zd5oqrNjbRZ8Xls+jGRlDLBfL9PQsFsRXClzhVqP1Kae2jS6rg3KPI7t3KPLEp4xy7qgWdyLGz73waTdEzftiCPW43vXiZZQzC1Ucp3pY4FC71eqcYXztNyw6H18l8CrXSKv8/e9Tfn67FnJV72ifTk6//4WO84vJeyxjjLFZAtuGTFMzmvT2W+x2haHXdQ+zxYwNZRBvr80oVvd1hdjLr+MyyZPte90YGUoNLUG3UQzxQYN3ap6VffdW7lAtAyWNT8rPXi9swn10KONXQRWqC2ti+XPzs3Or+dXymh/jl8EC7Ox5e7vsX+8upV+ezOe10p1b60soZ9XTTpeDlgPUJ3NiEcWlL/Upnt2CrtFLBtqC7K4ErBvGx0KlSrcj55p0d7s+3vZinC3dTPtslSG8u6rKiP5ZvyKFmZyj3klfZdyHrebO8u8aHbPr43xX7r948h/PZ68bFbLP2bz1f4h8j8nz/cPqyePfzg9+tfj4ejgHgEd6hnRYOoIX8Sjg6sEhA1D4VU8ylXAqTdw66pAD+M/oOA8QRlCFtjh7lBAh4GD6HU4erc7Oj7xwxK0wEL7QXm/Ozz3oxIAQCEAwCEAQEsAAFEAQLEAABuGdmC9oyD5sDu6sKNp0D7uG3jkh6VJyKDugLsQ1i4nQ1dJhk4mQ5eToasmQyeSobNYABti4eTr7ujMjjbhaBuPSosAQc0HOhTC0WmIQmKcxqlzHqxFeSEQDVvjcuwW9ZVAlVrKoWxi7kKTqB+N6840mXvUBBrjxmmgF/46IxzyxnjcuyAHf5HBAQyRDRhXXmBiNgSTyBWMa2swmf3BBDYJE6JTFAx2UdA0l0LjMMbuYYKwkKJ1ucPYTIyP5aSwFZMqOVkxGJNrOZmsxoToNwWD6RS0yWgrEHmQ8WxEgx+gERmicBonI3LORlSUFwKRERmXRlTUVwJVaimNyMTc6SZRpxvXnW4yd7oJZETGyYgKf50RGpExNiIXpBEVGYzIEBmRcWVEJmYjMomMyLg2IpPZiExgIzIhGlHBYEQFTXMpNCJjbEQmCCMqWpc7jI3I+FhOCiMyqZKTFSMyuZaTyYhMiEZUMBhRQZuMtgKRERnPRoShQTeKnAIbRfIlEtmcgvyixsmmoii9KhR5VeNjDZHWFUvkXIk6JUwUddbEMpw6USVPiyIZWxBfVzhaXBTY50iVZhfKgONFTrYXReV9sUQ2wKiTC0ZRW2Esw34YVTbFqEZnDBrYY+DTSnk0yiiwW0ZVWGYo0FVSgc0zit8dGsJGoz42NCqGGsuMDo1krVGN/ho0MNnANxW+rXHy3Chm43WCtouUOgQlstwgseGC+EJTMluUpNVCgVea1qsuTRb1nEeoUhahpHMIS3AGoUbWihIZK0ivJUVTRcyWGjRpqFAC7BQpmSlKykpRz0aKKtkoStpEsQRbKGpsoKhF+wQFzBPoVJZF40TMtomaME2QO9nNbJgofSfJhVmiWk/yilFiiZEkTyaJWrRIUMAggW4k3WpK1ohSNsah9eiKhijkxskPnbMZFuWFQGSDxqUHFvWVQJVaSuszMaeESZQPxnUymMyZYAJ5nXEyusJfZ4QWZ4z9zQVpbkUGZzNEtmZceZqJ2dBMIjczrq3MZPYxE9jETIgOVjDYV0HTXAqNyxi7lgnCsorW5Q5jszI+lpPCpkyq5GTFoEyu5WSyJhOiLxUMplTQJqOtQORFxrMRlbqiEzmjgLpAXgQCm5FJLxQjO3JB+pHJrxSrVVZakqu5/12jBHBBZ4DrnAKukC+5QMZkwmvB0JocsjeBIs3JdHAnZ2RPLih/cjUblGvkUC5oi3KdPcoVNilXoksZB5syNhXl0KgcslO5IqzKxE50IZuVC6PpKuzKtVq6VgzL9Wq6JstyJXqWcTAtYxvBtoqRb7mQjatUDI3LGQXXBTIuENi4THqhGBmXC9K4TH6lWK2y0rhczZngGmWCCzoTXOdMcIWMywUyLhNeC4bG5ZCNCxRpXKaDcTkj43JBGZer2bhcI+NyQRuX62xcrrBxuRKNyzgYl7GpKIfG5ZCNyxVhXCZ2ogvZuFwYTVdhXK7V0rViXK5X0zUZlyvRuIyDcRnbCLZVjIzLhWxcq+GHPrwKhVBgCybLMsyGNQgvMiGzKlha1SC+ykRXT5pU0XKfF4V6vGDd30Xl3i6crKlgMqYBv04ETakgtiTj0pAGFeyoEDKjgpUVFS0bUVHIhgrWJlRUtqDC2YAKj/YzUDCfgUxTGTSegth2ChemM0hd6h42nIJHEk+YTVF04lWMpqiVxEsmU3i0mIGCwQxkk8g2E7KWgrOxDOmOzmKIQmicvMU5m0tRXghE9mJc+ktRXwlUqaW0GBNzV5tEfW1cd7bJ3NsmkM8YJ6Mp/HVGaDXG2GtckGZTZHAbQ2Q3xpXfmJgNxyRyHOPackxmzzGBTceE6DoFg+0UNM2l0HiMsfOYIKynaF3uMDYf42M5KezHpEpOVgzI5FpOJgsyIXpQwWBCBW0y2gpEPmQ8GdGfh9w89iPvDEMhfsBD9xgtUQNEAQPFYgXMwgRsiJCTw+96Pf7hxMjw010F/QSFTo1YoQGVV+KoZMFcfBj+XLzgVLxYc/qACfSRn3fouXVPfxQ7s0fFxQGFPgKeurynpY8AWU8As54ANvQEkGKpjtwLfh5swLW9Azzzo9I6QFBlpyWA/rUWuQGVToDwGaIYGqdAGlfRNDGH1CSKq3EOrgkcYRNimA1TrAv/kMMwzaUg9IYo/sZzJ3Du0/lSd/T7CGN3FMTdUTh3R+GyO4oouqNI3B2Fp+4oQuqOIlB3FMzdMfAPOQzTXAq7oyDujsJFdwwSd8eAqTt+HXriqR+VUwEq8QcUQg8cKgS0BByQxRqYhRnYEGEgJbiOZrag6I/iCqpHpQWAxHqq52kp1dO4iuoRrZB6RoujnoV1UU9KCxyV3jp25CuM/iguYnoUV/4HlJc0PU+rmQO1bX8Bx/VNj2jt0jNatuxZG49yndtKBVtZwTbXpJWLrF4RdWzjcr9HcaX/K44JiP5qPy7P7cicyVGJPqKw2D8IfxtG2GH18TccYYBKfgIKkQIOkQJaIgXI4gHM+gzYkJ9ASogczeJRbsEst2BWacFMtmCWWzATLZiJFsxSC2a5BXGl9be8xNqjLnyky83sKm3qZJu63Ca+SABFtLYTre1Ca19ODtfh534U7a9Hwut6nryup9HreiQvFnuFXLBnZdQBipb3cvC3Mz+Kc/9L9DdEecZ/Sf6GFPwNcJz+XwZ/A0aT/svB3+Ao17mtVLCVFWxzTdjfQBF1NH8DFNceLyd4Tfxyki6HX6asBp5c+eUkXf++FFkNCrnyy0m+4H054WvdPdmGbNnmrN7m7A0GjOOCBPoyUtVooSLfPTWNIVL1cKJCPLJIpkFGKo23qEJ6kEAZTSoNSFZF6lORPAq4QB6xVIKGDKk8RkjmIR3ltiqMhkWOeSryvYazE5CqTYEKjbedrYJUco2ogoGQQF5CqrIVKpIdhgqQ2ZCqfYcKsQWRzG5EcjSmKG5rI4ztitRkH79NhhvLx35o95SRxdvJrnyIh/vLygs76u+unvmh3csDhjftHMcffc2S8SfGtxas3zAQgFKf/xb2VB8T4zjU9lST/EEwCEvYcXxGjAMkdxyTVgtV0DleuEuXYsGRU7t0B6nca8HwGePwuSDDh7eOmEH48N5RaWm6eZQEEb6i1cIXdA5fEbc5Fhw+4yJ8YXCGIEYlhZJkHdBQ6ENVweAGIYQ4KinQUVbhDiWqQc+lUuiTEcpopm6oGuFQYJimQjcY4w5wQYa+yB8Eg3AXhIE2xiE2QQS3aLWwBp0DWsRtjgUH0XgK327JC3cb+qN4EdujeK3eI3Fd2/N0XdvTeF3bI7p67RldvfYsXL32JF6rvxr6/syP4rLzVe5vFz7YjPpq6GOPyz92R0/s6KP1/yvsZkDQdKflNoKf0m4jDKj4NHSDIeoL49QhxlWvmJi7xiTqH+PcSSZwT5kQu8sw9RnO3xQG7r3K7E0q9CPO3acRQY/idH5BiPpWTeYkUS+nx34DD3snob8jp06PIvV8FFX3xxI5B6JOiRBFzoaockpENeZF1Cg50k5uFT1Ok7F93KoIJEzatnwqOKRO2s58oTglUXUzs9IpnYLGOQWbziCjkFI+oUTZhJLKJdRzJqFKeYQSZxFqnEOoxQxChfKHtqzmOHHu1Des5gKQN7Rj8zRRyBnax3mRKeVLZRdnVilXQOFMKVuCIE0MUY4YpwQxrrLDxJwaJlFeGOekMIEzwoSYDoYpF3BjH4WBs6CyrY9U6H/c8nYaEfQ87oK7IER9rvbAkUS9XTB3dbzNgT3OCnU8y9T/LKs04DI5G7gEJQXLnBusc4qwHjOFVUoYkt9VY8rpk2SVRVQIkokUyClSILVIgQxjhRKN5ZxvVILSjlTOPtvDA3nnjDLOBco1F1SWuZrzyzXKLBc4p1zhbHIl5pFzyqCwY48jwllT26/HMmRK2MJ2SgyyI2xru2BGGSE3tbFGWWCc+79cbkL3G6LeN06db1z1vYm5602injfOHW8C97sJsdsNU6/jbQgKA/d55SYEqdDjeAviNCLob7wrcUGIelvdkyCJ+rpg7urySih0tSHqauPU1cZVV5uYu9ok6mrj3NUmcFebELvaMHU1vthNYeCurrzWTSp0Nb7yfBoRdDW+BX1BiLpavQNNEnV1wdTVfwy9PLyS/gf2MLLSu8jii78g4D0xwPbqLzB/wxegv+ILsLzjC6j0ILBZaJm9oQIovkXYI/HkrufpcV1P4zO6HtEzt57RQ8aehfcEexIfuP0B/Xb81FBjmdQfxYdKPSoJiig/vu55euh0oPDEFXB8ft0jeh7dM3rfbc/aeJTr3FYq2MoKtrkm/DgUFFFHe/AJKD4d/wNHxxD91xN8A74/im/A90i8Ad/z9AZ8T+Mb8D2Sb8D3Cr0B3zN6A75n4Q34N5PDWw8nfhRdu0fCmHuePLmn0Y57JN9h6hXy6J6V+AOKDvxmMN9TP4qvNr7JluvCextEb7CXAIlR/oZ6CWgc5W9EL4FC4/9N6CVgYfy/CXPEmzA9vBmmAdc+xhH0hsx/oOUWJfS+IUoB4yoPTMzJYBJlhHGdFiZzbphACWKcsgRvMp8Sonyp3GQmFTLHEKWPcZVDJuZEMomyybhOKZM5r0zg5DIhZli+j25omgPxMZfirFM3zQepPFmF1DNEqWdcpZ6JOfVMotQzrlPPZE49Eyj1jFPq4QP2U0KUepXH66RC6hmi1DOuUs/EnHomUeoZ16lnMqeeCZx6JsTUwxcIKEOmORAfcylOPfX2QJHS+34nUuA0HHnfTxcRKanf99NqJT0r7/tpmVNVv+8nVUxb/UZDRZUpHMpgIkeB0zmqMqljEZHasQAneFQraR4LpWSPckr5KFPipxc9ZJZOa6H8WPtEGhDVtzwOBd5OeB/k20naB/mWn3US5uK8zYtwKp62OCYhfSQ0iz8WRProLr/xWrY/pGvZntG1bM/UtWwv5GvZHtO1bM/4WraHfC3bw3gt2yO6ln03GNmZH8WR9C5ZFvA0Zt6hOQGSo+NdsCFg8d3Rd2g4jmaxETPRA3YN/sRRrQNmugNmogP8Mhy+V8V/luNvF+L+0at2AT78DpIRPkdVaERr7eI8sEpzG93ccH2OvITBq92IKDQqCp+3Xz43fb2889pYpBXNaWtVb3XVW9FTfOmOkqi+XbtjudxhfvHuxVZ0KBq0Ev1De7hAWTd385wZXSzUidN0tbh1Om6diBu/6IySiFunur3Lyb+Jh1s6FI3BV86G8+EG61Iy7bBOAnux3mOdVBGytMs6Ccmf8z7rpFCw0k5rFsCz09UPc+Xe6uqHJfLx2tUPy+zo6eqHOXl74TPR7OTyJpDVGx/tX2X6ptX6N9m/CdXu5YnAOJmLr3rCwOfFEH+NqmWaIUxgG3JhLFRqwnBNzBom0tRhvBbGPIkUJc0kRWhF4TSnmDDaTjW7mFZLido8Y3qtrWnGMaGSGWnuKcJKsVoI0lTkgpyPiiwmpSJ1oniankwY7QI1UZlW64LalGV6rQvy5GVKZdRuBNsqVmu+mtXCBUeY26KSvjPKaZ6Lso57LKOiH0ukPohynv+ingMedQ57VNOMmG7KnEmBZ8eRmzK6iJgp9U0ZrVZmzcpNGS3zDKpvykh1Vg1ZnlOjzDNrVP+DjJKzbCwxnlF5xo3ydxIqzb5RZael+wLR7eRNA/3F9fbkuTnKyZ1J/n7I5WxNJdScHYvwzB3V8U4Rs3jQ81we5Lb6wTyvR/k/iI6c42OJ8YSszvex1HiE8twf5dG8zOuAIK/qynj48sqAZL0+CIXUKiEU6KofzSuGKP8HnStXD7HEeOdWVxKx1HjnilVF1Ec9aVNVtnVlPHR5zfF+WGic+VGcI9/jggKQmCvf08IBaJwV34cFAjC69/0eFgJA4hT3fsKvH72fpDePypMBbGvaIcWcWq13SLGY2592SDHnSOQdUizEmKQdUsQpOpWdReHxCMZJ7yySIkVsZGeRLJFjp3cWSZGjWNlZJNUYT72zSIkU2bFNNvBoCYOrNtkIiQJb3WQj9BxUtclGSBxQuclGaDGYapNNliiQ9R0o5QEcxjDtQGFO0dM7UFjMcUs7UJhzxPIOFBZirNIOFOIUpcrOjfe8PaGuUMBqOzcqsgrfyM6NSgkKZnXnRkXn0FZ2blRUCvTolgVWOexhy0JiFOq8ZSEJKrxyy0LSKKRiy0JSOIxpy0LiFLrKG/7OOVz2xw6eK0bhcoHC5YIKl6s5XK5RuFzgcLnC4XIlhss5hcsECpdxDtfwA+7PM6FQFUyBKliFqWg5SEWhEBXMASqcw1N4DE6hFJoBU2AGSmH5MITkqR+VcACKvyX6IYUBePot0Q/YfED0W6IfQrOBhd8S/YDNdfQitOdF7LkexSsuF17Fo5gKPRL93fPU1z2N/dwjecuqV6j3exZvTvUodu8e+W/E9kdxu0GPSggAhYYAT5sSeloaAsiqC8x6DNjQY0BKCxyVK9szIOU20HlBsZObnJh2jweRTsxGJma4fwM452sj8rUR+Wp3ZBy18Sg3o63UuZV1bnPl+E4KKKLadssEUB5TcG/EOgTvSXjPdaFnu5yNXSX1Opl6XU49vpkAikjKTiRlF5JyOrjeuR/F17Wm6HqAxC6IKbke0LgLYhpcDxjtx5iC6wGJ2x+mE3x1coreBUi8JDkl7wIaX4ecCu8ChV58nKJ3AYqvOE4nuOdnit4FKNr3NHkX8GTCU/QuQGS10+BdwMIEO0XvclSc6qmRvX7qR6VNgOI7m9NkVMDT7wNN2agAx1/amwajAkY/lzdFo/KGtaFAm5uhfgl6SkYFNFdO/xL0NBgVsPhL0FM0KkdmVN4fXSjQ5YaoXzmckiMBzQ3RP2I4DY4ETMQ//kbhnmzDONnm8bxN4/bjYGTDD2V9RCdDZg80gcW7wCDgrV/Adr8XmD+kBOg3bQGWO7WA7Bmks72lPT23I5sqHcWp0jlOlU5tqnTEU6UrPlU6s6nSkU2Vhvply5k1wh8FAosLso/J1LBs/pWyj2hryGj6+xh8DQuW+AOy+Dsrk/sTIMOyzAvRZxrRXH/4hqzS3ka3Nz5bAy7i0Ig4NCoO/MBsz+ZhOM3juOsRbVb+OHglfEcrgtDWGtzqBreiYekZGUg++ADa4zBgoqN9decMV3eeAF0coZ2wl65mJZ22kk5YSXpeBJJymU65TEcugw8tEuOGpMcWSZDNVA8uksYNzo8ukpLaxw8vEmc/xe2Fg1ml7YXMlb2q7YUskdHWtheyzJabthcyJ/MtHB3KGA9JE8iLjcvxaqoYtKbxyDWBfcmEZE6mkFMbjxfRxmnE8jMr/hpVy+TgJrCNuzAWKmXorglXN7EWx+TvJlTjmJy+CGD3hsjzjbPxF6EV35umABNGg6UmA9Nq8ahNC6bX4pXmBxN4kkhPOVkQ00WRcM4wVvNbPXuYOmKraR4xoTKZmF613TytmEK2S48jFeYWqweSSpMBqTySVDKHRT6UVGJqvHgsqSSeeUCDyQcpzT8oqSkI9TwLoUoTEUp6LsISPB2hRjMSSjQpgYQOjJitAjWanVCSRoIFhJegzHaCGjsGaslkUaT5CiWassLz6mAc4km2+L5K1dP0hRrPYEH7TjjVPBZkMZWhPhLuNKGhNhbuNK2BBjMbUprcUOL5DbRWnyPNcqh9L6BqrkN5JGC1GQ+LpAsiFHniQ43nPvX6hNDEDAgqToKIR2YFPRVigXHnTxMiapU5EYuMTQ55ZkQxTg77ncJfLav2R5tw5D+X3h/F+3M9SvfhimXi9xa0yWibP8inMZ7PNVgwnqugTUbb/EE+l/F8rvDOE5ww8E2Fbyvfw+ePYq4EdCVUAehG0q38Bj45SvnU5SUcOG9Bm4y2+YN8OuP5XPYuBZzM2Eawrfgsn8+FfEJ7GwFOaGwj2FZ8lk/oQj4h/M37k0A2iWzTp/hE4m/eDwr+WeuTiDYZbfMH+VTqz1ofpMsdvdxbix3FFxv2ZGHn7I/ihNej+PwfhPjM6nKS3pC4nOCfGLxEBwcknrRdkl8DjU/aLoU7g0JP2i6DFwMLP5x4GTrncoJPFy4x/oBSXa9wOXZeyG3Qb1Vkr9JdiPOAb3NJ/T1pz+Z5wLe5ZOV70i9blG8y4VaV1t92mPIn6y+zq30Izwfaf3H+OyJHWSYtRypeeBv6aqMijrT90UPQtkGj3uaBNlDdaYa5Pjghn8Zv2OQvfciltrkUV1TN0YOkU8Mw17ZwqC3uRKQvfciltrkU11btTCySeuu5VE2+9axErLxeHkT+UCm/rZRPDaotGwZdXbads8ItorXGafqqjTzBgyy7lWW5HZUVSFH9Mi41A6TUDtCwIYA3+iQPuvRWl06NQS23ht91Hmqb3nUmDi3Iyy9DD7nUNpfiGqsV2SClt16HauW3XlmACoslnLMHUW4rynGl5bJu0NLLp0Pl8sunLECtxTrQ2YMotxXluNZybXjQPk0O96NO/SguwnpU7j4BEu9K9Dwt1Xoa35XoEb0R0TN6I6Jn4Y2InsS3PT5BxJ3sxsOiWa/7mx9PC4wfanJD6Y2cA9INzW/kHGh6I6fHuf38Rk7PRPvbeJTrrF6/6bmsYJtrol+/6RVRR3r9pke5Q+gvcn/KS6AnURjoYdW0v77ot1n6kd0fcWQ38QDFLZQHoVxmrwSirzVO3+1cnUDsD5UCnay2O1Sr4sTxb8yJPy+n/7Lc7TASTvwo+sUtjgRE+XLmlkYCUhgJgONVzm0YCcDoWuZ2GAlwlOvcVirYygq2uSY8EkARdWzjVeItjoQB5V3rWqC2VPasV1TR6PqO9UqB3FeV/epa5ejU9qtLua0Ko2GRvV3fjK4LjDarkg61nehapiSpbEQ/qHeT4QaxH0XP6JH4qfKe411gp/Gnynskf6q8V+inyntGP1Xes/BT5XeDDR1WNXdoQ4Cwdj1dhsYuc2OXlcYuZWOXubHLamOXorFL0dhlamy8T7gMTV/mpvNScaDhkfhRRBSEygNxEnM48uNw4jow4mE4CRyi9Cg8YggWXuJTIDhs6hJ/kMKvIh1FRLGr/CYSiTl2+ReRiOvY5d9DYoFjl34OKWKIXfgxpBgIjp264VCk/FsRR0rgOI79UoQsImJa+Z0IqVbiW/mVCC2nWOsfiVAixj3/RIQKZeqD6g9EDAXKrW3oA0MUfeMq7ibmiJtEsTauo2wyx9cEjqwJMab5ccAS7/1TIDiC6t7/QdqtF+hu/57QDfp2OLF/ZBOO/FqpDavoNq+iW7mKLosTrkq6MUocKoU3Rgk95PNsBaKK1h9etvJW45nQuN7pVuNQ03SrUfGHSgW2NU4N+s4TSljfcZvUrcYsQXvoVmOmD/K0W02pHaMPO1u+OXcWMdcfb84N1cSbc4Qe8nm2AlGF649L29Hd/Kxy3UmGJpCyqSoP1aps6wo1j+XcysrG+zbfgmQB2hRuQTJ7ECfbKkZ1H3myXC42+jt65+cRla9hbhsaicddjSTCqVmy/Y3EfZMjCb7TkYSy3ZGw7XmM/DKjK4EqYSiPCjMvj/2SMiTGs4ivc8nrXcNn95mLajSV6jWV6jVjvdTUeyn+sTDSKj3Y1HqwqfXgp4xEh95UMjDeAmP1c0ZzgSrxnI/FbV6P27wSm3ktNvNabP47I1HqdjQGC4EqDV6Mf5H9ZbXI7zISbVxWzrmsJO1ytC7LyvhuBaqcuB3r3bbeu22ld9OfqSO51vltJaxtpYlfBCrTDNnMv3PRlUCVAK0qPbMa7RkRsXXlBOvKCdZVO12Pnlqh0Q90AlXq2o1lS1fPlq6SLXxdxXItW7qaVXR6ItwvNC7ivL/JyN+XN7TNpWyRwRyaT9K3XKNvlQh/q2TDNzEL6b99apiXXXiReRy/YZMRrLnya2ht5TW0tv4a2heo6Ol5If7wy9A2fIRO8EV/9/AttXeHol4Ty+tIh8dt9FWmnrm6aD7dly89/P+H8wtTywf7Vc5RxrbSyVqopvjKlf6YW5jQLK+UFu0hl1hX8MgJ1yMnRGtT6nerM/TFYZithlX8sR/F20IrXLsDEjeJVrRiBxpvDa3COh0Y3fFZweociL0wb2h4Ke4UwGGwnBvZLdoOg3QFyzUg2B7A3hyAQ2uAlMYAKm1xFA9CRzlfhINUz0XtY4PXOdmtqU7sYBkOhm8FMuQbEjwP8CH4Tr5g3M2SPPCwT8HL7b7zzA/CuZx32JwuhaLTXdapLutSl9HsCULuyy735TBXOviKzduGg6HmQLyKAyx31GAoGqLxaJwGpXE1Mk3Mw9MkGqPGeaCawKPVhDhkDdO49RubmBx8u/M8Yh/GRmJiGBbZYVpKEVNinhimnDBOiQGvGDNR47aIi0x0o+ToNzFaQMHuA4UsM4mOYDjagmPhDSZGg7Db1KmD2SoKz35RFDcHI8o54KEnhaLTUVVGIp54sqJTRftKetzJvJJI0Wbg3j6FZptJdB1xy35Qwt9qIkTWk/5SE3NlPfIPNZFE1pP/TBMLbD3przQRJuuhP9J0yjRYT8FuPUZiPhkW+WRayidTYj4ZpowxThkDuxKYKNMo4iIT3ShpPSZG6ynYraeQZSbRegxH63EsrMfEaD32Mn7qYLYe8beR6BPuLkaU9cA7AxSKTkdVWY94YYAVnSraetLbAswriRStB14VoNBsM4nWI94TKEp4eo0GFAW2oaiyGUVVWlIsIowpFmB7imoyqSgnq4oyGVYU2baCSplKWrSwIIKRRU45GkWVqbFEzteoU9ZGkbMzqpyjQa1yaVmhyKLGx0KhrTAWIUMMIthi4MsaJ4uMIhklicouYxEyzSB+qaRXMtCgChsNOvhl5NJS+VUiGVK21/qLRLrEd1KXDXfsLSJdZjS9kwWrV4ik9rUS4m2NkzXXXh866HlrldhSVd5kGD7C129DobTqJw7foPfWrdPkTRy/obLhci3+lHhS8Hukp5ZP6BEhVfhOHxu0hXM42v/NXCbxbqBjcauviB8Smdr910L2fz7+WSRlpiUMM2RUyo3e4Q7uaRYH5XBf+OswzR/M5ivO7YDKhA4ovoPtHF+8dmpvWzvyt6ed+evizso+Zif26rShkghPrU1Rb3Kb/N16QLpNjWxTfHXecW5qI5raiKa28SjXua1UsJUVbHNN0nvtrog6+hvsjnLs6fd2N2XdeG5H8f2+TVghOorLQufpLcBNWAA68lWfM1/qOSvrOye2qDNUEuqJtckXfRtMKEBxG88mJRTwtL7dcEIBjmvdTUgoYLSq3QwJBUe5zm2lgq2sYJtrkn6GxxVRR//RHUdxQb3BhDoE/2GC2/ceMPiA4va9hxR84Ol52wMHH3DcNPcQgg+Mtu9ti6v6kY1mR+aqjsTOli27qtO4h2UbXdUZbcLZoqs6iRtStji9HhmKBZrcKNqytM226lw2SuxI2gZbdSTayhuOtsVW/SjXWe0n2rKtOs010duFttFWncWNQdtgq4Z8+TJEHx9InBCiNqUHEsxVg9UDCZao6fmBBAvcHfxAgjHFIS1dKRaiKOekcUpM5yOxECnqUs5T0ypxShlrQi1OrUCVBsosNrHeEM5n4zqpTa61hdPbeKVvU6LDK9OQ60gpAihRxqOk4oN6DhGqFCWUOBKocceiFscAKhQq9bsaOVj6AzweUKIhEaTxYImBEdQ8NlCuxzKNENRGYtlqWm+7HC2ojzaQxwxKethgiZE28uBBqZ4UPIS+lfXquR3FNfi3sF4FlNfg33i9ChTXq47j0vxbXK86o6X5t7Je9aNc57ZSwVZWsM01SetVV0Qdfb3qKF4rfMOZiBHVP81EiYvGqZkoSbkf0kzEnFubZyISWoEqDZS9pGYiliqVrXRanolYoO5LM9HAy/0qhaiJxqkPnYumm5ib7lLuQ9MoLMa53SZwHxahFajSQNmHJtYbwn1oXPehybW2cB8apz7EX0GqYWpq0Kg/oyZCEQrkcEQ5923QKWRB47gEkfsZxbaCR4Ig+zwUGG8o933QdP+HImNt5TwIGuTCv/73/wO+9kRf",TimesBoldCompressed="eJyFnVtzG0eShf8KA0+7EfKseJXkN9nj0Vj0yNaNEHZiHkCySWEJsmmAIA1PzH/fRqMr8+TJU9CLQv2dYqMrK/NU9Q349+jH9va2uXsYfT86+8dqOb1u9o72Tw5P9o4PTk72R89Gf2vvHt5Nb5uuwafZbbP87od2frnhq/kc+V7h09vZfI1KB8fN7Prr5jOGRj8/TOezi9d31/Ou1fNue/m32R/N5W+zh4uvo+8fFqvm2ejHr9PF9OKhWXxsNn/50x8Pzd1lc/mhvZ3eDcf1ww/tH6Pv//nd/snLZ98d7L98tv/8+fNnrw6P//Vs9LlrvJjP7prf2uXsYdbejb7/rpNB+PR1dnFz1yyXo++PO37WLJZ9s9Hz5wd/6XbUfci79mF2senIj+39erHpw95/Xfz33v6rl8fPNv++6P99tfn31fP+38P+3xd7ry/b82bv43r50Nwu936+u2gX9+1i+tBc/mVv7/V8vvdhs7fl3odm2SweO7oN4my5N917WEwvm9vp4mavvdr7ZXbXPqzvm+/+3nR/9frN3vTu8n/axd6s++Pl6nw5u5xNF7Nm+ZfucH/qPuZydnf98eJr08e/P4qPD92fTBeXRe0a/ji9//swJCcvTp6NvpSto5P9Z6PXy4tNqBed+PLw2eivjW13QX7xbPTx4fLv467tUf/fs+6/+4evtgP2j+ZhMbvoIvrPf4/GX0bfH2wi+647kuX9tAvkf55t8eHh4RY3f1zMp7fGj4+Pt/z3VduF6nzuyvNhR3er2/PNSF3fZe2ync+nC+N9NvTCfbO42CR5UV6Wz5/edtKyi08+tP4Q+jHP2v100dzNm6uaFP/Mjm+63OxxeePKi3KA89XSqAXtoqvNaf6Ir+v7r81dbt51ZdZ6Tw5evBxiP58uv+aj+bNZtJm2d02GD0+i5cPXRSPaXrWrhaCzR9F2OftDwOaxEYPb6Jjeze5EXl208/Yu42VzO4uSjcB8YwSJNr+vpvOMrxdNV8qim7+vmmVvNkV5dVjG3o/9xcHBlr02dHLyYot+yK1+zOiv+Q9/crS/v0V/8z8sqfAmo797mDon69HPuWNv8x+e5oP4xfu9cYcN+kc++nd5X7/mo/8tt3qf9/UBvONkiz7m4/qU//BzRmfCOca52ZeMJvkj/zdn33k3n900D8E3rEjPOy0WKv8dmcrL/WIqF7PZxWxxsbrNw7ba+Paym3xEjfQGFw7GjSpH9dzQURnai9zqMrcSn3yVP/E67+trDtIs7+v/8h/e5D/0Gjbrv81/KFynza3uM/o9d9vNwcpqmY/+Ie9rlQ/iMWfcU24lrHSdj+tPP4hXR55fMREODp6XrFxU2lM2HjyHbHyYzS+rk/1l+yTiHKZnnwoe+qWaJ8d+Ka+rzdoQjdb7rCaPq3m7mAm+bCp7uVgtunn8Yp1TqS+b5axfuwr/365bdFldr2adcts+6KXDRu53/A2ZQl8S52ommFhBdWs5uR64nF5fqzlty3ExRiuOzdg1i8Zr//io6N0S/noxvQdTK3963p0/NKKXHt7z6XJHhHerlQWYDUDU3e67NfbsfjlbCqnr68PXdhUWi2neD8ntI7eYPop6mF6sHtTapffyq3nzR9YqlXU7vVio9c75olEffNk+TC9Cxbk060YSA2DKAuvQD7a57EKqFqmru+vpYnU7n67Ex7TX3TrzRuxuiv2AcbkNOevCa1/3HJpnLy6vuoVeWBn6EiVOsr4Cidw/4Vf4hEP/hNvO6VZz/Ajz5qkzc43LTdEvl7OszCvL85YOtOy9hbQvZd7VZ3dW3OU9jJst5tKQ+tQcM9Cn/5g3PjXJQfXdxdHz1VE6AltIX84eZ5cihJN4ZL5iFsXhh135o8+7/mhNVWiTdX/yRWUCXc279M8LpeI4h8GOnOrB/4ZGyEaC/sBPA9KH+ElD5xFwFhLPMqmjL45eFHG48CE+ilzH14UxD7yXOi7v1AF4edRyNJqqL/Vld+xcqra3aKwQzmyVniGhm8DJE335Gj/9qCyo5u2fzd21yNwPVFF2Gqc66cmxs0h2Ze7r2pAu4oHAUFNf/fwnR85O7T59bReiV7/Sp3sYKlXwMfKTF0P7y4oRfaYP8IjFyS1c4Viu+lXOQhxvTEGPYo2TrRYTvF3NH2b387U4LuqgJ3kcjpJI3XrrYTadX86uxCnWum4N7+LneMKKZPHa2JlmO2adunRRGei7mg3WMuZdpTZ/ph3h9bduxYAX4ewUaNHeNHd4ImTmuGiuZ8u49PUSpbWXT8e5LuxsZNVVdTgf8WDHnPLCrBhaS5Hxuqyk1P+SaR+9KmvX/lJXvBBmcf7pQaxQfqwa4FxOqvvDaD5UTKapzo414XVt+bAjKysB/rNWGvzZ5gq1EalNPbx4t3mk9sm5ju2zdy5LaMbcL+uCZv4gLvg8BJN2T3xqdzhiXuKU3d2uRE/iEXmo5DrTa4FC71ef4grnxTH6eJfAiy6RxaF9TCcxNjFX5t9Tlcd+ihEHzk8l7MaOMsX6QuNnOn80XqvxX+iwSxy6qH2dzmFqKEW+OTWhS902FsrlzZfjsslT7RsDSOsgCwLPz3beHs0UOzQMqxrVqZzrP8oFomWwPsWxayGdTaibHm1lyv+xchAryvwyEF2CzC6U0f614o2Lncvdd3F8/HAr4/Zhd17v/KzXlX2+rpp0PB2wEYj7cSMWE6cvRSrTfc0pbuQC2hZkYSXge9tZCnQIdsVm5yfN2+vNeN+14mJVWzfTVZZKBnW7qlTytTwSu8ICM7nHvJK+d2pXfv3lLi+a3fNrNf7TanM78l/PRqfN4u636WyxuYv8z9Hrze3q0bPvjo//9WzY2rpHQNvjjGgwdYRv4tbWVQLCjqHwa7d15FvlEABBcgRuQxXotv4DCs4TlCFkgW2vDgW0LRxE78PWp27rlW+VmCEKvXfh8yYWz23LBsBR6D1w6D3Q0ntA1HtQrPfAhroOrLcTJGfd1r53f7zZPDR1stl87pulU8jg6AHfd5sHtlt4TuDZdy+OCl6FQ1nlkK0qIVvJkK1yyFbVkK1EyFYiZKsUssfY06dNFtjWOnRwXboECA59oEMjLGFDVMfGqZidc0UX5Y1AVNvGZYEXFarcEJW6cVXvJuaiN4kq37guf5PZA0wgIzBOblD4+4zAFwyROThXDlFUsAlDlPjGVfabmEvAJKoD47oYTOaKMIHLwoRYGwWjpxSGxlIYuosxthgThM8UDcymIOU4RVvlQ2bvMb5rCIQLmVQZgoofmVwbguRMJugheBRRAqMqaJ2Dw5ZlPPvWYB/oW4bIt4yTbzln3yrKG4HIt4xL3yoq+JYh8i3jyrdMzL5lEvmWce1bJrNvmUC+ZZx8q/D3GYFvGSLfcq58q6jgW4aoaIyrojExF41JVDTGddGYzEVjAheNCbFoCkbfKgx9qzD0LWPsWyYI3yoa+FZByreKtsqHzL5lfNcQCN8yqTIEFd8yuTYEybdM0EPwKKIEvlXQOgeHfct49i2MDZpX5ORgUSQbI5G9LMhvapxcLYrS2kIT8LfIyeSiqJwutsh2F3XyvChq44tt2P2iShYYRfLBIL6vcHDEyMkWSVTeGJqAQUZOJRpFVaexRS7WqFPFRlGXbWzDtRtVLuCoxioOGrppENBSg4C+GgU216gKhw0NwGYDV14bGqwqXWPXjeI3h1T4b9R3DWnFiWObnUOaPDmqO4b0sRZhsOjA15XAsllHMTu2E/RrpOTWKJFXB4mdGsQ3mpJLoyQ9GhqAQyMlf0ZJuTPq2ZtRJWdGSfsytmBXRo08GSVyZJDeSwpujJS8OEjKiaEB+DBSKlmUVMGinssVVSpWlHSpYgsuVNS4TFGLRQoKui5g9FzA6LiI2W9RE24LMngtUOW0IK9kV9hlUfrGkAmHRbU+ZBV3xRY7hiw5K2rVIXvUkQRPBbqWAWQ/RSm76dB9tFJD5KPGyUSds4MW5Y1A5J3GpXEWFVzTEFmmceWXJmazNImc0ri2SZPZI00ggzRO7lj4+4zAFw2RKTpXjlhUsENDVFjGVVWZmEvKJKon47qYTOZKMoHLyIRYQwWj5xWGhlcYup0xtjoThM8VDUyuIOVwRVvlQ2ZvM75rCISrmVQZgoqfmVwbguRkJugheBRRAgMraJ2Dw9ZlPPtWOVg0LmfkXC6QdYHA3mXSG8XIvVyQ9mUy+JczMjAXlIO5mi3MNfIwF7SJuc4u5grZmAvkYya8FwyczBlZGQjKy0wGM3NGpeSCqiVXczG5RtXkgi4n17meXOGCciVWlHF0NYNoawbR1xyysbkinM1EsDZjyttMXIlDZ3dzYeeQCH9zrTYkFYdzvTokyeNcqQzJo4oY2JyxtQgUG50L2enKkaHTOSOnc4GcDgR2OpPeKEZO54J0OpPB6ZyR07mgnM7V7HSukdO5oJ3OdXY6V8jpXCCnM+G9YOB0zsjpQFBOZzI4nTMqKxdUWbmay8o1KisXdFm5zmXlCpeVK7GsjKPTGUSnM4hO55CdzhXhdCaC0xlTTmfiShw6O50LO4dEOJ1rtSGpOJ3r1SFJTudKZUgeVcTA6YxtnO6QAmVOlwTo9qAthi9bcTsphFyuYPI4w+xwg/AmE3K3gqW3DSI4WyHkawUrVyta9rSikKMVrP2sqOxmhZOXFUxONuD3iYCLFUIeZlg52CCCfxVCpVKwKpSi5TIpChVJwbpEisoFUjiXR+GxOAaKbjUg9KoBoVMVxD5VuHCpQQKPGohyqEFapUNldyp4R8iFMxVFh7ziSkWthDw5UuEy5I85MuBFA1mngPCKq+C83hpqA23IEPmQcTIi5+xERXkjEHmRcWlGRQU3MkR2ZFz5kYnZkEwiRzKuLclk9iQTyJSMkysV/j4j8CVDZEzOlTMVFazJEBWKcVUpJuZSMYlqxbguFpO5WkzgcjEh1kvB6FGFoUkVhi5ljG3KBOFTRQOjKkg5VdFW+ZDZq4zvGgLhViZVhqDiVybXhiA5lgl6CB5FlMC0Clrn4LBtGU++9UNHX2/WUs9ty5ZejorHAAoxBY7rM6clkoAsSsAsQMCG2AApBe/ocx8p2/L0MxQOF3hISKPlcAHRmINiHQFmHQE2dGRL/lrifmxbFndHFndHMe7OMe5OLe6OPO7OPO7OStydWNwNbUziyPozDluTuGWziyOcO4wO367XecEWDf6MwTJEETNOYTOuYmdiDqBJFEXjHEoTOJ4mxKAapsgWDuEtaJzRRCCKtvEc8iKluPfveMa4F8RxL5zjXriMexFF3IvEcS88xb0IKe5FoLgXzHEfOMZ9QOOMJgJx3AsXcR8kivvfhpC/8q2yT0Al0IBCjIHDJwMtkQVkQQVm8QQ2hBJIiaKjqc3l/VbpAaDSA0ChB8ChB0BLDwBZD4BZD4ANPQBSeuBo+52gXZ8OCol6k/vUlKUkIt2nRvYJXk4OOHe1EV1tRFfbuJWPua0cYCsPsM1H0tK8CIo4xras4QHl2FtJ7G/nyrdhjfI2r1He5jXK28oa5a1co7zNa5S3Yo3yVqxR3qY1ytu8Rnk71MT+sW3ZGsVR6QGguGxxjssWp7ZsceSLE2e+OHFWFidOSg8c0VbugVUAIt2DRvYgVADg3LFGdKwRHWvjVj7mtnKArTzANh8JVwAo4hitAgDlSNOksEGr0GCVO7KqdGQlO7LKHeHTGlBER1Yi2KuQRaej7XWGbQn0W7FseyRqtOepRnsaa7RHdNSgUPX2rIQfUCzV02D1p9nqT7PVn1as/lRa/am2+tNs9afC6k+F1Z8Gqz/NVn9asfpTafWn2epPq1Z/Kqz+NFv9abb605DVpzmrTytZfSqz+jRn9Wk1q09FVp+KrD6VWb054z7yrXjhrEfpslj4KpNQFyRQiZCqqoWa5MKhBlRDpOpyokZcWSRTkZFK9RZVSA8SKKNJpYJkVaQ+NclVwA1yxVILKhlSuUZI5pKOclsVdoZF1jw1+VbH2QlI1aZAjXb3na2CVHKNqIKBkEBeQqqyFWqSHYYakNmQqn2HGrEFkcxuRHI0piiCR5FAdkVqcq5fRsOF8wPbsmvmgOLlchPOwtY4bE3ilp3nOsKTV6Pxy4fLGsmUgoeTh1+GWBxbZywAgPAi8JaGt/YPIqL+197aj+pZRuOMJgJRYNTr7CRVQiTfbC9xwhe6KQYcMfVC9yDFbILgkUAhZFUFMrY5qwnjmjCpChRgUnOYY4NKsEUjDnmuWBlFDn+9YocGg59i+A1R4J2rkBf1LKNxRhOBKLTGc1CLVAlnkDmQRVznGHDwjKewvRttLzNsP7DfssnVkV24chQnWec4szq16dSRT4/OfD3grFy4cmJz4xaVwnwtEPXFOHXIuOqViblrJlH/jHMnTeCemhC7a5j6jDcIGFGf0w0C5qrP6gYBS9TnfIOABe4z3yBgzH0ODvC6KnD/o8pRiKqMRWwiIhIbcFyimqIT5RSjKFOkokjxKvc/XwtEMTJO0TGu4mJijohJFAvjHAUTuP8mxJ4bjn3+dejukW/FmxO/YicBxcc9nKdbGL9irwD5AxzOrC/Ahm4AsSc5DH2KW2XyQhTmLRc2U9axbY3D1pfQchI0m7EApUcEfkWjPSJEYU5Gy1wFXBktSxT6bLQs8CCw0TKm4cAVMSMamMqKmNSzHM9xRl/yH05yKx42tUgepPCmOAxg5DSKUaShjKIaz9giD2rUaWSjyMMbVR7jqMaBjhqNdvrCC8lp3Hd94YVqclYZlXGFf6nsZ1Jpz1lR/dKHQYeXXiExkFJaoERJgZJKCdRzQqBK6YASJwNqnAqoxURAhdKA3rMXlFKg/p59bnAmIz+W9Ivcw0S25WGvvHs+qOV1QRhxQzTcxmmsjauBNjGPskk0xMZ5fE3gwTUhjqxhGlZ8R5gRDWjlHWFSz3I8xxl9yX84ya14+NT7tIMUL7LhELJCI8kyDSjLaly5TR5ebkGjzDIPNus85qzHoWeVMoDkT3WF8iHJKi2o0Vl1xMZV5Ut1b5Pq33DmsJwTyF6hg9RxRknjAqWLCypRXM0p4holhwucFq5wQrgSU8E5JUF4wzYxGvjaG7Ysn4nojgX7Iv52ItrxoMq3UAetXN2B0TREg2mcxtK4GkoT80iaRANpnMfRBB5GE+IoGqZBxKt9jGgIK1f7SD3L8Rxn9CX/4SS34sFTFwAHCU/SjwjR2KWTdOZq7NRJOks0dvkknQUeOz5JZ0xjh28mMKKxq7yZQOpZjuc4oy/5Dye5FY+deop/K/02DNv2mfLfcMQAlcECFMYJeHpO/TccHUA2MMBsTIANwwGkjISj/gkt648/oeXIntByJB4s73l6sLyn8cHyHtHj4z2jx8d7Fh4f74k9N2QoPrW4IX5BqN+KF7t6ZHfOAeVLXD1PV7e2FG+MO47Xu3pEl7p6Rle5NqyNW/mY28oBtvIA23wk6a61K+IY/f60o3ixbYP4qcX3I3wvod+KGdUjkT49T+nT05g+PZLvJfQKJVbPKLF6FhLr/Sg9ffZhhM+r9FvxIZUeiSdTep4eR+lpfAalR/LBk16hp016Fh8x6VF8ruRDcNUP2VA/1Lz0wzBwvp/Pub+fK/39LPv7OfeXBw4U0d/P9NTpBxg4J735H5etje8f2tYkbsVH+D+Qqw+0XESD0TdEITGu4mJiDo5JFCHjOkwmc6xMoAQxTlmSL2o6onzZeVHT1M9535w+xnfFSiSSSZVYVVLK5FqsUnKZEDMsXLeNGTLOSTMRiLJOXaQdpHLnC1LPEIXTuAqniTmcJlE4jetwmszhNIFSzzilXuGQeoYo9Zyr1Cvq57xvTj3ju2IlUs+kSqwqqWdyLVYp9UyIqYdvRB3HDBnnpJkIRKmn3ogqUuVJTRY4tN98UpObiDDvelKT1UrIdz6pyTKn6q4nNUnFtNXP9lRUmcKhzefaZ6Z0juq3Y65SOzbYGfNamsdGu2OeUz7KlPjpoadjlaXjWvpOqgIXRPWhp22DbrjhxbR+y57tcRRfTOuReDGt5+nFtJ7GF9N6RC+m9YxeTOtZeDGtJ/HFtE9DNe+/tC1bkDuKC3LnuCB3agtyR7wgd8UX5M7sdRBHdlpnyE/p+q34TFWP7EsgHMWX3p3jybtTe9Xdkb/G7szj7qzE3Unpgf/hRTuHs/Qt2Z6qOoldanIv7VQVUcgu57KX4VQVGufON6Lzjej81/X91yYe0iwM3Syn2MxPwoy1YRdt7ntb6Sie8gK1MnJEeQmKF5izkpeArJoM2YmiF9giDOkiXgXqURlERGFKcGHZ3M5y5qzCMaxyrFaVWK1krFY5VvzsNigiViuRF6tUFE+hD/6dV/2WebGj9D1XZVpFF04PujEnP9YPurGYnTk96MacPTo/6MZCdOv0oBtx8O10GsBcObg6DWCJvLx2GsAyu3o6DWBO/l44mLwhym3jZPfGleebmC3RJDJA4+yCJnDKmxDz3jDNCIVTcTsOc0PBIhI8SxinqcK5sAYT6xFSM4dpleilOcSEWvR4Nil8lrOF5xXjPLkUoc275WnG+K4giQnHJHJS49pOTWZPNYEmIeM0ExXO01Hhi5xKPDEZp9nJuZqiiirmqSKt8mHyjGV8V9jF3GVSJeyVWczkWtjTfGaCLu6n3GuY3gzRHGdcTHTp6eYyoPrpZq3y1Lfj6WbdREyD+ulmraYpsfJ0s5ZpetRPN0sVp0p9wUKrctqsXrDQDXgK3XnBQjdK06m+YKFVnlqDihNsFLggo8qTbVTllBubiGklNuAJJKppGolyqtYoU81GkafloLKjkRin6Pgya+0D03QdVZ60SVX2GJt8K9JyGo8tdo5FntKjvHss0vQe1Fktb9NUH9U04Qe5rX1cmvyj+u1gq4VAbMDzUlQrs1NslOaoKPMCIaq8TAhqWiwEdVFL7bRwiCovH0iVi4jQRi0lQoNVrUNpWRHVbw+oWmLEBjsHtLbciI12D2heekR5l5k91SKGi5Eo8JIkqmlh8nlYjZw8t62yB0BlugAUYg8cPgFoiTIgixowCxWwIT5ASg04Ks59bMRKYUD4cssJIepwermFueq6ermFJQpCfrmFBQ4Hv9zCmAJTOEWnYA5ReofkRHEKln6HRIoqbNV3SKROAay8QyJVDqV8h0RqFNQgUmSDxuGl9zBOMqXQqvcwhKTCWnkPQ6gUUvkehtA4nOI9DKFQKEGiQILCYcQ3G04IUQDTmw3MVejUmw0sUdDymw0scLj4zQbGFKjCKUoFc4jECwQnWqGA1V4gqMgqfDteIKi0oGBWXyCo6BzaygsEFZUCTTLFm1QOe3js/oQZhTo/dp8EFV752H3SKKTisfukcBjTY/eJU+hMoKAZ53DZz19AuJxRuFygcLmgwuVqDpdrFC4XOFyucLhcieFyTuEygcLlv8NC4Rq+pR+CVQiFqmAKVMEqTEXLQSoKhahgDlDhHJ7CY3AKpdAMmAJTfvohhuVsCMn+9ob+GcYDmT3kDCxeHAIBLwkBtgtBwPzKDkA/ewVYnkgFZFd2nG1+DOHQema/gwAonm+54L9+0G/ZywWOxG8e9Dx9O1JP4y8d9Ej+yEGv0O8b9Cz+tEGP4q8abJBfv+q34ulej+ySpyNx2tfzdK7X03iC1yM6YesZnaX1LJya9SSefp+N/IoSkm3i7h+8Kqgf5ec2Vv41o8DKaXZg8UlqF8Kj1IDxq0aB+zPWzuBRaofwLLVBu8SzPRPdoM11ncMXtmXnnI7iY0vO8QTUqT2g5MgfOHLmTxkZa+OxtiKybS2KrY5iK6KVvhAVJBVI/0pUYP5ugzF/wN5rAi+XeFat4lauFHU1pOeyLFa5LPTFjl4RBcOXNXoWCmZcvHn7yP04eDMw82ZgcchAwCEDbEMGzMcFoCc4wOLNgGysnPU3IXwrvvgwTg4LPL34MEaHBSRffBgHhwXmOWYovj4zHhz25Ni2bLHgyBYKjuIiwTkuEJza4sCRLwyc+aLAWVkQOLHFgKFSC8dA8JWg8WCw/hdN7qXZKyLdy0b2Mngr4Nz5RnS+EZ03X9262XiE18vHo3SRfDzKV8bHgwW+sL2aAwKKb6Q5xzfSnNobaY4oL0Hxd9WclbwEZC+mGfJr1TaIaHw+2P6jOGM0PkDip3DGZHxA4w/gjIXxgUI/ezMOxgcs/NjNhmwu0J74Vlyj9ygttifFL/d90zIAmPklsOg8IKD1ADbvAeYWA9DzDWDxS0BmPM76p8yPbSs+mztJfgk8Pag7Qb8ExI8uu0I/pzFBvwQUfyxjMvjlS98qRw2oxB9Q6Ahw6AjQ0hFAdrjALPTAhsgDKT1wFNcOk+SXk8Ev9/f3bdPzzJktSJHFPHMBrQQorkehtVmMIzcSZ5B8BumG42SEq9HJKK1GJ6O8cJwMrgm7bUUE2lpvw8IRsFeVM57SQYKCc2iTOjAvLmNkn5ORWjdORrhunIzSunGS7BN4WjdORmndOBH2CQqtGyejvG6cjHjdOLH7GeAn6WZNEtgW9e2apAqDTDdskpCsMt+ySQqZZrppwwLYZ35BkbgyUvmCIklkqdUXFElmc80vKBInmy0cvNYQGa5xcl3jynpNzP5rEpmwcXZiE9iOTYiebJiM2W/GhQrle3SEseqNsVWZwI7tgjIyU7N3uyQM3ERyceNs5SYkPy8Km3rh4OyGyN6Ns8cXoRWfl9zehJ2RUr5vGpu/CZUZwPQ0DZjCc4EJPCGkW7oURzE1FGklEE0SxtVMYWKeLkyiOcO4njhM5tnDBJ5CTIjzCN1xLQarbrkqjSeU6k1X1UBMK+q2q9LS5CJvvCqRphh161VoMNEgpbkGJTXdoJ5nHFRp0kFJzzvYgqce1Gj2QYkmIJBgDkJK0xBKNBOhpCYj1PN8hCpNSSjxrIQaT0yoxbkJFZqewr34YBTiLn1W0IwQs8+ixrNV0JQNY4M8ZwVVTFuo08yFEk9eqKX5C0SewkCCWQwpTWQo8VwGWqs/Ps1oqH0rmmpeQ5mnNtQqsxs2SRMcijzHocbTnHosJIdbTHagrjSlKQ8lNeuhnic+VGnuQ0lPf9iCZ0DUeBJELcyDXcX2P7u8/a2Z4myIBkdDFB5lAg6fArQ8iQLI7vsDs5vbwOC37AeCPxW9Refd1vmoXNU+x+E/MrQZ2APfKgMKSHzD0jkNIND4DUvnYsBAoW9YOg8DBCx8zfn50Mntb90M5pp+K+Ioq0XaXiTtwtA/KLrdzeXF8COsjprwOQ0mwIDKiyuIOAEGTglQqBsuYsyLAYW8GFjIiy27gunGSfcx82a5nNlMfjXY64FttXHL0sCR+P2oKzJBoPGXoq6E5YFCvwl1hQYHKP760xXms/eV8mB7afmKUmCbAdd5D9elpplXnhjfquX3RmDL5hVHOFv0dFaGrj/GWUiwLcrZtOWcTVsa0maLYtpsWUybnt2UtYhvxft0N2HlASjfuruhdQbScJ/dcLyjdxOWE8DoC8tuyqx+bFsx6Dd5DneeBuMmzNiO5G933cT52Vn8Sc+bMBsbWsetfNQ5VW7yWzVDFCpv1WiVRnDXWzW6SR7XHW/V6BY02rW3arTMOZDfcJHx4szY9YaLbvKtEeHU2f2Gi27ECVV5w0WrlGb5vQct7AxMzsNiJdv1wx1a1oBwTiwo7BQEXLJsURtsqS3z8XYrG6QhaFXxzMihvfRSpNA2O6whaEUPvD5WFfgbYdTOoF350tzHjKAVBpaQtyqTWFo6bWfHKEet/MW8uSqPSm/3yUK0I1bjd6iyKuyImyQ74gbRbFgls2GZzIbl8GWZLMYnSnpVB2tHpHaE6Vsx2h2gHdHZFZpdcakH5dsRgf9/d3Jo6pByI//60YiHFbvSQsqKXS70ny3i2U/UytwptfB0qWjhD+5FHC9mRK18oNS6mXg+n9bU+LCraHE/vegv5Bwl6dE60AVpdLEZsJe2FZ+s6ZEtKQDZwQEM18AWZQ1jepN33eRd0xLFOeY5UFyMOI6vpi/issMZPTO0YZ7a/VYszB7F0LtATy1tkM/0/VaciXtkAQAU9+9CnP8XZTVkh97mALeVaLYymm0OW1rWuCIC2sYX9hdh1WLoPoTNT7SeG/s9tPcprlQvJq0h6r1xyjHnnMP6jqNhsW9O6Xy/kbkYDnW3MUk5zdPNRuY8PuJmYxSuc5w5/43LIkg3LYdKKBwS3RDVhHEqDOeqOkylEgl3OmNnuVgq9zlJrA8R1071JifJtVHiUsp3OCO/z8OQKqsIv+c/hxqz72XyVoYoaMYp351zjfGXPg01hl/6RC25xtKXPiUuBlB96VOSco2lL31izqOXv/SJhOscZ64x47LG0rdHDTVWONSMIaox41RjzlWNmUo1hl85RZ3lGtNfOcVifYi4xmpfOcVybZS4xtJXThG/z8OQaqwIv+c/xxqLX68CbaPAAYwqVwCpqfbkd7qUCsxXn9RfpWqsXH3Sqhr2+tUn3UBUaeXqk1RTLtSuPin5ujaCqYajqitZf11MqeegYpVGgWs7qlzhpMo6j2242vPVOBWoVPm7rsbJJt9KhOQFu6/GyUa7cyG5Q+VqnFLva8Oc/SLIv9d26N4xnNj1Fxm2l2qMlKATtq+0iji+HBA1fEEgKvaSQMT+OkDk/kpA5OW1gEjtG6oC/jQqr3MasRNnwuIV0CJuvk37KOx3nNpM0mdPdEwnKUDdAMFPCvVb8XpPj6JN9Ehc3+l5uq7T03g9p0d0HadndP2mZ+G6TU/i9ZpHmBS8T1Fvcp/ojsNjNnrnsk/ihsJj8HFHoqt8v+Cx2JJv5WPmFx+NywNs85Hktx5NEcfYxvfRHoN9GDJreNGjpzQcT6FrT7lrT5WuPcmuPeWuPVW79iS69pS79pS79pS7tk5dW4dMW+dMW+dMW1cybS0zba0zbZ0zbS0ybS0ybT3Ce+prHA5A4p76moYDaLynvhbDAQrdU1/jcACK99TXYjj4wscwJuHCR2zJo5MvfDAX4yQvfLCURyxf+CDOYycufEQBRjFdHmCuxlNdHmCJRrZ2eYBlHuN0eYA5jXa6FjAMuXh2cRh1fnYxteexl08uCklkQOW5RaXmPFCPLQqJs0E/tpg0yAn1MKGQVGZUHiUUKuXHjgcJRQvOEvUYoZAoV9RDhF26/Os//w8s8zdF",TimesBoldItalicCompressed="eJyFnV9TG0myxb8K0U/3RjC7NgZj5o0ZZnYGz5pZGyH3bsyDEA3oImhWfxCajf3ut1Xqyjx5Mkt+cbh/p9RdlZV1qrrVJf5T/dg+PjZPi+r76urvy/nortk7PPpwfLh39P7DyUm1X/3cPi0+jR6brsDl5LGZf/dDO735dTGaTsYbdTmdorq3UfdUHj1Opmss0MFhM7m731xwU7Y73pY+fbqbdqW+e3vUkfnPk9fm5vfJYnxffb+YLZv96sf70Ww0XjSzL83msz+9Lpqnm+bmc/s4euqr+cMP7Wv1/b++O3jzZv+7g7cf9k9O3u+fHLz9Y78adGVn08lT83s7nywm7dPmSl0xFS7vJ+OHp2Y+r74/6vhVM5unYtWbNwd/efPmTXeNT+1iMt605Mf2eT3bNGLvf8b/u/f25MPR/ubf4/Tvyebfkzfp33fp3+O905v2utn7sp4vmsf53q9P43b23M5Gi+bmL3t7p9Pp3ufN2eZ7n5t5M3vp6DaYk/neaG8xG900j6PZw157u/fb5KldrJ+b735puk+d/m1v9HTz13a2N+k+PF9ezyc3k9Fs0sz/0lX3p+4yN5Onuy/j+yZ1QKrFl0X3kdHsJqtdwR9Hz7/0ffL+/cl+9TUfHb4/2K9O5+NNpGed+OHdfnXWyHEX4+P96svi5pdhV/Yg/feq++/bg7fb/vp7s5hNxl1E//Wfavi1+v5gE9lPXU3mz6MukP/d3+J3XcwSbl7H09Gj8KOjoy3/97LtQnU9VeVNf6Kn5eP1pqfunrx2006no5nwD+/ebflzMxtvMj4Lx8cftsLosZPmXXi0ZvkzqQapy732PJo1T9PmtiTZj0n1RvPNGecPqhz3yvN0ORcqMRt3A3XkL3G/fr5vnnzxrimTVltykBs5n47m9742fzaz1tP2qfFwsQpKLu5nTVD2tl3OAjp5CcrOJ68BbF6aoG+bOKZPE6iwhGjcTtsnj+fN48RK0gPTjQ842vx7OZp6fDdrupEcNPPfy2aevEZT8KDve637+/fHW3bq0Q8e/ahpe9Cf7MyX+smjn/0H/+aHwC9+UP7qG3buT/9R0du3W/Sbtjuf6+++Ep88uvDn+t2X+oevxGewjvdb9MWf69Kfa+DPdeVrP/SlvvrT1x790yffdTeZPTQLYxsyRq87zY5T/hx5yrF4yngyGU9m4+Wj77XlxrXn3dQTDJHkb6Yy6lMeXQs6PDzsx1jgv75UcOVb/8E73433PkgTj/7Pn+vBl9IhLGn/6K8YmE5ge8/BqPdDaObR3Ndr4Sux9CF88Um48pV49R9c+0r8qejwg+aXTYSDg9zrMJna8ruycTGZ3hSn+pt2FcTZzM46EyzSQk2T421u/+1mYYg+K59ZR3PH7bSdTQI+bwpnGS9n3TQ+XvsuS8NmPklL18D+t6uWeFjdLSed8tgu4pXDRk4n/oZMoc+JczsJWLB+6lZy4XLgZnR3F01pW45LMVpwbPqumTU3/qPdWmh0Nxs9g6nlj153dxFN0EoN7/VoviPCu9XC+ks6wOrdXUGOzXQ6eZ5P5oHUtXVx3y7NWtFN+ya5tedmo5fABkfj5SJauiQvv502r16jkZXx42g8i5Y717MmuvBNuxiNzYhTadL1JAZAlBmOQ61sc9OFNFqjLp/uRrPl43S0DC7T3nXLzIfgdCNsB/TLo8nZk2xwp7rqOXjf53w7u7ntlnlmXagLFDvH6vrDcrnAhV7gncwJs5vHzueWU7yCnGmkTDzjZjPk5/Ng+poW1uZtoZ5tkPTd6OxuiLush16TlZzrUJ2Ybf7p5G+zRiemsEv1dLbvdG3kaiCTxc3kZXITdFJta6bL5WBoaLXth3SdF3xIJ0gagzJVpzsvGiTQVH9KvZ4ZKIp9GKTmNBr0M9RD0hP0Ab0HcBfRO4bOIeAWxN5iUkOPD4+z2D/0CC5FnqOrQpsH2so4Lp+iCujwKOWotVRd50dn0xup0tmsrUI4vVFqhphmAidH1MWrvfrhSR+waftn83QXXP6zvYTew0WN1OTYOUgCUYcXTyOylrUVga6mturdj4+c9tF9OwtadUFX1zAURsEXcok32WwLYRvQBTRidmozjzfmy7TGmQX1pRSUKJY42Wo2wcfldDF5nq6DelEDNcltd+RE6lZbi8loejO5vfV9tS5bwyd7HU3YXcny08402zHrlKVxoaOfSjZIHQqeEo/NX+lE+PCtWzDgEzi5AZq1D80T3gaJOc6au8ncLnx1iNLKS6djPy7kXmTZjWpzN6LBphWkDMyCobU8lmRcFlLqn2Tahyd55Zqec9mnYNLKnxb3vq4/Fg1wGvnWu7xsWxRMpinOjqVZ8LS0fNiRlYUA/1kaGqVKXZR6pDT1lDx3XrpyeRxf7FyW8IyZ1wXNdBE87lkYk1ZPXLU7HDFY6b3PJhe0xNZIQxWuM3UsUOj1PtWucI6P0Me7BJ51iQxVk2nE3cJ8OMj5OgonpI/hIkPuMGzH6T2MfKkTmWJ5ofFrITV/LY3x32j+y3HoonY/msKztzzIN7cm9Jxb+iJyefFlu2zSVPtGB9I6SILA87Pc31gzxQb13Rr16iic67+E613J4PgWRzKss4noG4+2MOX/WKjEkjL/UOz8ZjKOjPasMKHNdrbmk+0frW5huft5d17vXFqfFs55WjTp+HbgovDs8M9g4tSlSGG6LznFQ9iUN9mrzEpAz7ZzKNgq6PPdnVeatneb/n5qg0dVrTdTSR8v5QzqTlUYyXfhTYM8X4GZXGNeSN+ncB6H7w/dFKGeXxrjPy0330X+sV99bGZPv48ms803yP+qTjdfVVf7370/+mO/P9q6h0HbelrUmzrCv22O3sjR1lUMwoahcNEdHelRrgIgSA7DpasM3Y5/g4zzGKUPmWHbp0MGbQcOon9sjqT1l/YoxwyRab0KA3PWgW/9oND6Qdj6gW/9oNj6QdD6vPAzLNkJkqvu6ETaMOyOuqk4H9bd4bEe5SYBgqorhVcCOnyY8bI7eieFlvlsgEyAgMNVgOYAAaIAgSIBAiYBAtYHSMmLacPKHK3tkcRHEcZnS/tCOF4F0aAVTiNXOQ/frMAYFkQDWXg4mrMKQ1oQZbbwKL1F9DkuEiW68DjbReaUF4FGvXAa+pnD+M/oMkDkBMojO8jqwF+OjUH4rvAFFiFSIXwFsxC5FD5nGyJY78gYDCQjdJHMwEoEkZ8I96aSpchZsgb2Iog8RnhkNCJ6txGJLEd47Dsis/mIwA4kgrWhjF98q1cerQNE1iTc+1NvE+hPgsifhJM/KWd/ygr4kyDyJ+GhP2UV/EkQDTDh0QAT0Q8wkWiACY8HmMg8wEQgfxJO/pQ5+FNGlwEif1Ie+VNWB/5y7E/Cd4Uv8CeRCuEr+JPIpfA5fxLB+lPG4E8ZoT9lBv4kiPxJuPenLEX+lDXwJ0HkT8IjfxLR+5NI5E/CY38Smf1JBPYnEaw/ZfziW73yaB0g8ifh3p8wNGhSlpNTWZHsikT2LCODcVlO7mXF0MJMEfAxy2k0WjEakraEH5dWp8FpxXiE2jI8TK1KVmdF8jsjgukZflniZH8kRh5oigwK9WA3tOI34x/4otV3xb/gkLbMzvg7r7SqNUyjgWsajtZpBPBPy8lEreid1OiRnZoC4KmWk7FaMXJXW8JbrNXJZ60Ym60tw45rVbZdq1rvNdpLIU6rAl+XOPmxFb0pK0FLRkqGjBLZsZHYjEEEK0ZKRoxSaMNQAEwYKVkASpEBoO6HP6o0+FGKhz6W4IGPGtkuSmS6IIHlAr2MKdmtkSKzhQKD8OpstCh9I8qByaJajnLBYLHEjig7c0XNWisoYKxA0VYBg6kiJUtFyRsqqJGdggxmipSsFKXISFH3NooqmShKsYViCTZQ1Ng+UbPmCcpLGJNVSNcxJdNEyVtm33r0S0FklsLJKZWzTWYFPFIQGaTw0B2zCtYoiEas8Gi4iujHqkg0UIXHo1RkHqIikAsKJwvMHPwvo8sAkfMpj2wvqwN/OTY84bvCF1idSIXwFUxO5FL4nL2JYL0tYzC2jNDVMgNLE0R+JtybWZYiJ8sa2Jgg8jDhkYGJ6N1LJLIu4bFvicymJQI7lgjWrjJ+8a1eebQOEFmUcO9Pua5oUMrIoVQgiwKBPUokMCll5FIqhDYlMviUMhppKkRDTVU/1lSjwaZCPNpU5+GmCtmVCuRXIoBhCbuMGFkWCJFniTwIrsmupcLOWAa+pVoplgXnUr0YS+ddqljzEg7uJQztSyD4lzIyMBW8g4kWWZiI4GHKyMRUiFxMVW9jqpGPqRAbmersZKqwlalivUz4S9D+VcDWESM/U8EbWq4YGpoyMjQVyNBAYEMTCQxNGRmaCqGhiQyGpowGoQrRIFTVD0LVaBCqEA9C1XkQqkKGpgIZmghgaMIuI0aGBkJkaCIPgmuyoamwM5aBoalWimXB0FQvxtIZmirW0ISDoQlDQxMIhqaMDE0Fb2iiRYYmIhiaMjI0FSJDU9UbmmpkaCrEhqY6G5oqbGiqWEMT/hK0fxWwjaG9YyYxYQFbvdVm/W+UqANlQmaWMVmZYDayXgAby4RMLOPQwnoRDCwTGnIZRwMua364ZYUGW8bxUMsqD7TMybIyJsPqMdhVTy49IasSHBlVLw7cldikMt4RscCgshJHrGBOWS1EzBlT5taWegqm1BO0pB6BIWVCdpSxN6Neiayol8CIMiEbyjgyoax5C8oKGVDGsf1klc0nc7aezK3x9PTFtXXlyNoTWkFl7NdP/SBAvxFEhiOcHEc5W05WwHMEkekID10nq2A7gmgUCY+GkYh+HIlEA0l4PJJE5qEkArmPcLKfzMF/MroMEDmQ8siCsjrwl2MTEr4rfIENiVQIX8GIRC6Fz1mRCNaLMgYzygjdKDOwI0HkR8K9IWUpcqSsgSUJIk8SHpmSiN6VRCJbEh77kshsTCKwM4lgrSnjF9/qlUfrAJE9CXf+9ENHT7ujgyM5yp8FlL0EkAkpcLgC0BxIQBIkYBIfYH1ogOSBrWiQMlCOcgsAmeoCh+oCzdUFRF0OijQEmDQEWN+QLTkzcT/zcT/zcT8rxP0sjPuZj/tZEPezIO5nLu5nPu5nvRkcSXs2PnAoR7XRamuDZzTue9qbLkZGEIVHOMVIeBQoEX20RKKQCee4icDBE8FGUDCFMfMrHwYIaEa1L8WhFR7EN21itPHNiOObOcc38zC+WQzimyWOb+Yuvllw8c0CxTdjjm/Pr3wYML49qn0pF9/MXXx/7kPbT4Y/Y1iR5ZAiI4NSwTiUYrUoZeBECsGKFIoXKcphAzaSuT4d5aYAyi0BZBoCHNoBNDcDkLQCmDQCWN8GILkJira/cdk16uAkI2pjE3RQkxd/hhU6qIk7CHbdWh50XBN1XBN13EQyNh3lugMy1QQOtQSaKwNI6gJMqqKsldVaOrJru4RMTYC75V6iuSaAaMoFReoILN8GAMr5oKj/EVOTEDMzfmd2tCck9wKA7G1AEs6Ns557Uz33fnpesNLz0EXPvYGeB955HtjmuXPMc2+W5/2gP5T2jGyKneOgBxRk3TkNeqA2687NoAdGWXcOgx5IboEiGfRCrN74NsmIRxS3qQnbZIY7YN/UJmhqEzS1tUe+zm2hgm1YwdbXhAcYKEEdZYAB8rHXASZoaQosfUOWhYYsw4YsfUP4fgyUoCHLINhLk1cfq+2TkHd6ZO8sEwpuKhN395OJ2lvJhMK7yKTQDWRiOfyAcvgV6VD+iIkOKCc6Im8/HynRkUKiA7au9NEkOjBypY99osORr3NbqGAbVrD1NeFEByWooyQ6IGuTH/usPpC4S1YDsrVWjrVWKrVWxLVWRWutTCOrLPu9kLU98rVe+9qZqQ7HBQk0REiNRgsV8QOHCtAYIjUeTlSIRxbJNMhIpfFmVUgPEiijSaUByWqQ+lTEjwIu4EcslaAhQyqPEZJ5SFu5LQo7wxKOeSryrYazE5AamwIV2t12tgpSyTWsuiyNMPYSUiNboSLfGsNsNqTGvkOF2IJIZjci2RqTFddFYWdgvHP9Vm0f7b/9IEdyYwfIrORV2DwveHecj4bmqLZH4nyK0MuEmsfZ268OfusbrIXW/mxrfzbcc9/X2e25dzxqKW5Ip3MPPaoDRPWN9qOTFMUBt2FTcY5ItA27l2xKQHBIoBCxGgXKlrkqXXNYEuqiQM0j9VuNjILpB1T4UQ5seUD1BXq7w8AKopAqj4KZ1St/7qFHdYCo6sLLlY4ClbW1L87BEe6u8Kna3vdvlwXpyK6FEsp3zYCCNVHibiGUqF39JESrmcToO6bEzNdLidilzKc8pE4DRG0RTg0SHrVKRN80kah9wrmRInBLRbDNFUxtxi8bGFGb3ZcNzKM2R182sERt9l82sMBt5i8bGHObzQg/LQrcfqtyFKwaxsIWCSJiC3BcrOqiY2UXIytTpKxI8cpfnJ4GiGIknKIjPIqLiD4iIlEshHMUROD2i2BbLti2+aJv7qEe2Uc2F9hIQMFTnAtqGlD7FOfCNAgYPau5gGYAsc+hLvoZCo7s470LPy+poN8TXfSzkR59NSVro9HXRBdV9A3RBRrtISEKszNa5lHAI6NliULvjZYF7gQ2WsbUHbhWZUQdU1irknrl4zn06Kv/YO1LcbdFy9deMtu5oQMtp160InWlFaP+tCV8p1qdetaK3L1W5T62qu1oq1Fvux+eCDn1+64fnoiKXBV6ZVjgXwvnqQvlOSuKv7/Q67BpFRIDKaUFSpQUKEUpgbpPCFQpHVDiZECNUwE1mwioUBrQZviAUgqUN8P7Aldh5Ich/RqeoQ7LcrcX9oj3at4GCD0uiLpbOPW18KijRfS9LBJ1sXDuXxG4c0WwPSuYuhX3+DKiDi3s8SX1ysdz6NFX/8Hal+Lui7bE9pJ9xoVdyAr1JMvUoSxH/cplfPdyCepllrmzWec+Z912PauUASRflhXKBydHaUGFroo9NiwqX4tnq4uf4cxh2SeQ7JmD1FFGSaMCpYsKUaKo6lNENUoOFTgtVOGEUMWmgnJKArNz1jHq+NLOWZavgugOA/Y1+GwdlONODTeY9lp+ugO9KYg6Uzj1pfCoK0X0PSkSdaRw7kcRuBtFsL0omDoRn+Yxoi4sPM0j9crHc+jRV//B2pfizose8PUS3qQfEqK+czfpzKO+i27SWaK+8zfpLHDf8U06Y+o73LrAiPqusHWB1Csfz6FHX/0Ha1+K+y56038r/d5324cjOcqfBZQ7C5DpJ+BwBaC5dwBJxwCTPgHWdweQ3BOK9JWpdGRzLiGbbgkFmZa4S7JEbX4lRKmVGGVVYiahErG5tEH0nuQGNaaTGtulCdnX4rbIb2pJPOx488U0YLvDJSHavZIYbVzZsM2XzUfSLfINMyBbQeVYQaVSE0W8zUYVraMy2ZukSLYlCeKXEv9R4Y6GdGR3NCQU7GhI3O1oSNTuaEgo3NGQFNrRkBjtaEjM7Gj4XG1fDjnUIzsQEgqyPnGX9YnarE8ofNUrKTQeErPvrCVkk/9z76Hv9CinNSLjnCoMzHkGvr2DQnsHYXsHvr3cS6AE7R3Q+P8MvaRkY/Xb7+E+9y6vR7U9krxThPm1pfmRGfS+IAqJ8CguIvrgiEQREh6HSWSOlQiUIMIpS/AR5jtClC+FR5ikDvy5OX2E74pVkEgiFWJVSCmRS7FyySWCzTB8SksZMvSoDhBlXfRItpfy91yQeoIonMKjcIrowykShVN4HE6ROZwiUOoJp9TLHFJPEKWe8ij1sjrw5+bUE74rVkHqiVSIVSH1RC7FyqWeCDb1cC8VZcjQozpAlHrRXqosudcicyXi1yJjNQxw8bXIuAAHe+drkXEhF/j4tchY5YR17+C8CwVO3l3v4IRlBqVrunS26rdjHqW2LbAz5qU0t4V2x9ynvJUp8d3LSWGWDktCXRR4QBRfTtoW6Lo73dBtV7fpyK7CE8q3Q4CChXnibmGeqF2YJ0TL78T0FkFZ3tauxK7IL/vRrO25sDG4dOMWeBgQGaGAePWtiq6+leUBCEj26wlK2/UO5CjXGpBs11Nkt+spx+16SmW7niLdrqdMt+spy9v1lMh2PUHjdrrd1nWoZHtjqmXsJxrfSrkvRRS30tyXAoX7UigsSadIk05Z0Pj79fN9Y6u02cm3fX0sHdmXzRLS1ziEbe5vTyRL5f4WULD7MnG3+zJRu/syIcpLUGhfZmI5LwHZTZgbJPe32vqZadbMt1723CGyU4II8+Zx4jNnacos/SXoVyGUuxf8EpXXcBTxjgNV9N0cZUF/yu8+CFmZo7U98m3wLyPmaRVd2L3Wxpz8OH6tjUXvzO61Nubs0f61NhasW7vX2oiDb7vbAOaRg0e3ASyRl5duA1hmV3e3AczJ3zMHMxREHiic7F545IYieuMXidxfOE8BIrAVimAnA8E0I2ROg1uxmRsyDk7As4RwmiqU74hQMGmo5GcO0Wj6EM5ziAil6PFskjlMKYLIMoSzGWUBZhhBNM0Ij+YaEf2EIxLNOsLjqUdknn9EoElIOM1EmfN0lPnMR4MnJuE0OymPpqisBvNUlpa+NM9YwqNpS8TyfMATmPB4FhOZpzIRSilEk1rGK4/WASq0Opro3LvMeTaI32WOVZ76drzLHBcJpsH4XeZYdVNi4V3mWKbpMX6XOVRxqowfWMRqOG0WH1jEBXgK3fnAIi7kptP4gUWs8tRqVJxRrMCTiFV5srVqOKHYIsHEawvw9GtVNwlb2U0mVqYJ2Yo8LRuVHY1EO0XbnaNFYWek3aRN6jcjHU3gVCCYxm0Jnsyt6qZ0K+/uCze9GxUneSuwc1rVubXdqgrTpBV48rdquASwRYKFgC3AywGrFhYFtpBbGliZFwhW5WWCUd1iwaizUjzdwsGqvHwgNVxEmDLRUsIUWJY+6ZYVVg0XF7bIt2Zit9CwamG5YQu5RYeVdyczL0CMuCoJ66KwM2J+YTLoVyOHR3Ikz6MVyRshiuxzaeX4MFqpPIFWpE+UleljZGX52bESeYS/RWaXCiFqi9+lQjxqVbhLhSRqX7BLhQRuqdulQpja7Hd3RJxaX9jdEYlRHMq7OyKdIlLa3RGpHJt4d0ekUZR4o4OnFKFwo4OXouiUNjp4lSITb3TwGkcl2ujgFYqI2QVAiGLhdwEQj6IQ7gIgidof7AIggVvudgEQpjZHb8/HCkWg+PZ8LEfx2PX2fFyColN+ez7WOValt+djlSJnXxtnRtEKXhtnIYpQ/No4axSV6LVxVjgS/rVx5tR6+bsMpxGj1qtArVchar2qvvWqUetV4Narwq1XxbZeObW+/5H4U0+o5RlTuzOOWp013+asUIsz5vZmzq3N3LY1U9vSq76VH/TIvtV7ha0DFLzVe0WtAmrf6r0yrQFGb/VeQSuA2Ld6N2jzo/rbVxvTkf5oqyC7UFdBfyMrHdmN4gkFe8ETd9vAE7U7wBMKf+wqKbQtPDH7s1YJ2U3fG5Te/337Vg7lORAwCQIw+0QIBHwOBFie/gDTxzkA9ZVTgPmdU0DyOEeZvTfaEvOG8wbRZ5qgwfpLsMgKDcbnCsdA8YdgobT84qki/V1TZVEU5BHBsfTe5rnAkeTuxD70TIgeJW5Ya0/bBhFoS61t4+5tg+7lm3iUop6XG3ZkQS/zi9Mb5u+MN3Rpmr300VkGT3oTd493E7XPdBMKXwxPCj3iTSzojKV5mDvsPXTbhiF6KKA8HgHZn91VjsmpVJJQkSahMqkusL66QOT3dgWlp8zSHn20rMiml3LMLqWSXIo4t1TR1FImmaVIEkvQSOaBIRohIDt3DZ0NAndz1xBNEBDNXUNjgcDM3DVEA1SUR8ARkK3/ad+kZ15v5Ege9CmSB62AzAM/5W6Dx5CtDwrbDR5D43zA9DGpMDE+LaYPRIeVewo6rPyjz2FvfB/kFOJ7gGx3KsfuVCrdqYjyEhTtaGU5LwFJrwoSv9NORLvTzl7aI2t3w4LdDUO7G3q7GxbtbhjY3TCwu2Fod2t75Gu9drWrjUvW3iVr75J1wSXr0CVr75J14JJ14JK1c8nau2Tdu+SBtEdcElDwa5g1uSRQ+7uXdeCSoNAvXNbokoDsb1nWFX5RVlfu27G6cl+J1c4lgbsvv+rKfeNVV/5rrrry323VFX+hVVfuW6waXBIJfl9VV2aRWFd+kVhXfpFYO6M8Vu7WiDUbJZ7FrhHryq8R6ypYI9aV+xqprnCNWFdujVhXfo1YV2aNWFd+jVg7s0TBrxHryq8R68AvUeI1Yl35NWJd+TVi7T2zJs/U4CztkU/nZSF3l2HuLn3usmeCEmT1Msjqpc1qfEzfN889pmdOXhg/pmfRu6J7TM+c/dE/pmfBOqV7TE8cPNNtNmMeuWe02Ywl8tHSZjOW2VHdZjPm5K2Zj3xPs8sKJ6sVHuWsiD5xRaLsFc6JKgJnqwhxyrIbZ07jUrHx5YxxrAtjgxKBbVqFwKtF9IatUuDaIpJ1C2f/FsGZeFbYyTMHOxdEni6cjT0LbXA9Z/EihD4vamD2orHji1CwfdGd94vCE4AIPAtkgaeCzIP5IEvLABWGYDg9iFgeajxRCI9nC5FLI9HNGyLYkUjf5PUxib7JCySaRYrf5AW6n0uib/ICiWeU8Ju8QLPzSvRNnpdgdkFKEwxK0RyDup9mUKWZBqV4ssESPN+gRlMOSjTrgDQKs4TnHpRo+kEpGhao+5GBKg0OlHgAoMZjALXiMOA5CSSyB6OYmQkUtCDE7K6o8RRltGCWQt1PVEYN5irUabpCiWcs1NykBSLPWyDB1IWUZi+UeAIDrY0v76Yx1MKZDAsEkxnKPJ+hVpjSsIib1VDkiQ01nttA4+kNpGCGA3UZ0/JwD6c61HeOaZ7wUIrnPCyxY9S7mQ81M+qvO3Jd5a/srjF4h4L0D3RcYzgABX+K45qaD9T+0Y3roLmg0J/XuDbNA2b+kMZ4M+ikWZujB3sUfWE5lmWmRw8BCs8hW1M8eghQfI78183NWQQ+hDA809aStz/4f3M9zb/5v33B06hWakxaZKNGlFuACF+XAg7Jh1RtGHF+0QaQvEQBTF4tUHZb8R+825DuMtNmPk/PxgU2pgj84UtB9m9WCqbf/tmw2yq/Pn+bHVi01p+Z/Fa5/V2i28g+VRFjVKR/tTQj+gt0t9TV2+njoQ/HNjgPGA5A9hcKHtwkDNx9cf/A8QRsv89/MHMsMPod9wcT6Acf6IdCoB94PlNqw/9QDP+DnbSU2S558F1iRygGvfDOf6xSV+x65z8u4jtoxzv/cQnqttI7/7HMnenfvw/jxV286/37uIjv+ML797Eap0Pp/ftYpiQpvH+/VTeO9yLz8FP2YEDZgxGZM4KQf3lQUdsfbb/t3Rxt3gg/kCMN5OZobY9sZyTkwttilfurZASXyujVf3AdILqycH95Mx9BHQyHihj+WjjPusSpXlb0lYNJEaoGFCoG9DU8wzqmVCWUfIXyxAu1yQiqktGr/+A6QFQD4f7y9LYo1IIUqAwpr8WzrcsK1ZBlX1FZjUAVhUHlhL0Gn11HjKqigq9E/g1YqENGUIWMXv0H1wGi60d/5qmX0Ez6y2cEl8/o1X9wHSC6vHB3+byuKSxrrWy1hKbN7SLL2//3N4r4gepG2mbxePtH7yPNXDA45Sz+mGyRijR5DhJpdsnvS8zjeszt80yr5QuGWr7diFVTnajE82hcuKxugLI42gFmSmgKdtGV9f97IbII7hF/j0KYi/MvLBB2xcM9n6FIH+1js/37SseG2Bd5BMtfV7I42LcmGi79rGJ3qgmm3WfC6UUi4Wa/mVB5w9bgzW9zbd/azGToSO2J5K7F+MwvKS/QAdsLv/Sr7m26vOBSG5AdcC9uUQ3cvZn3wstnwPaFvRezUAamd5jCWnvk69wWKtiGFWx9TdzaVpWgjq19dfDFLF0FSX5vg9/NC5Xemacja/gJ2VfLEwoW9om7aSFRu4RPiJbkidF9fGLmN3wTsevxlUuoVYWPElaVe5SwMgkFKG5TE7YpeBaxMgmlKGgqP7JYmYRa+YRaFRJqFSbUyifUqphQqyChVj6hVj6hVj6hXk3wX33wX33wXwvBfw2D/xoH/9UH/zUI/msQ/LVLobVv2JqnKMJcPPgKxiv4oT/++/9jjgIE",TimesItalicCompressed="eJyNnV1320aWtf+KF6/mXcvpsWTJsnPnTtLdsdNx7ESGMb36gpZgmSNKcEhRCjNr/vsLgqhz9tlnFz03XsaziwDqVNWuDxSg/5l919/cdLd3s29n7/+5Wc+vukcnZ2fHZ49On5+dHs8ez/7W3979PL/phgS/LW669Tc/3s2Xi4udslkuUXnkyvxmsdyiNsCmW1x93l3nn93lYnMzkH36l7dXyyHdN0enfzkd2Ppviz+6y18WdxefZ9/erTbd49l3n+er+cVdt/q12/3+hz/uutvL7vJdfzO/ne7wr3/t/5h9+69vjp69ePzN8dHZ46MnR08eP3/+9N+PZ+dD4tVycdv90q8Xd4v+dnexJ09A+O3z4uL6tluvZ9+eDvx9t1qPyWZPnhz/5cmTJ8NFfu7vFhe77HzXf9mudjl59B8X/+/R0Yvnp493/56N/77Y/fviyfjv0/Hfs0cvL/uP3aNft+u77maI0e1Fv/rSr+Z33eVfHj16uVw+erc72/rRu27dre4Hug/mYv1o/uhuNb/sbuar60f9p0c/LW77u+2X7pt/dMOvXv790fz28j/71aPF8OP15uN6cbmYrxbd+i/D7f4wXOZycXv168XnbiyF8S5+vRt+Ml9dFnVI+N38yz+mgnl2+vTx7EM5Ojk5ejx7ub7YhXo1iM8H8fvOjscgz369u/xHM/v26fH43/fDf8+e7cvrn93danExBPRf/zNrPsy+Pd4F9ufhRtZf5kMc//fxHj99+nSPuz8ulvMb4yfHU/LfN/0QqY9LU06fTMrt5ubjrqCubrN22S+X85Xx5+UqX7rVxa6yF+Hs7PlemN8M0nqITr6z8Q7GEs/al/mqu112n2pS/Jnd3ny9O+P62pRnZ6fTr5abtVGL2cXQRuf5Ep+3Xz53tzn5kJVF7zk5LplcL+frz/lu/uxWfab9bZfh3YNIefd51Ym0n/rNStDFvUi7XvwhYHffibLtdExvF7eiWl30y/4243V3s4iSlcByZwOJdr9v5suMr1bd0JBFNn/fdOvRaoryolToud/7s6OjPXuZ0V8dPTvbo++82h4f79H3+Yc/ZPS3/MO/Z/SPHKYfvT2enOzRq3xfrz37p8/26Kfc9P6Zf/hzvok3+e5/yane5lTvchn8mu/rt3yu83yu9/num5zqQz59m9F/eVSH3mFEH4fO7Lq7C7ZhbfTjoMV2yr+LnnJS8jFfXywWF4vVxeYmh2KzM+310POIJjL6W7gZ96mMPuYqcSH8N6fqcl4/5R9eZfQ5/3CR0X/nK17nVMtc/iJawnSE7X0RrT4X2iqjdb4vEftNztB9bkIPOdUfGW3zTfzpqaxoh/rVUa08LbVyVUlPPdzJEdTGu8XyssuX3nf1l/2DiHPonb0nuBvHaV45jkr+P+0Ghuiz9put6js+LfvVQvB1VznLxWY1dOMXHsDjoxNoNuvFOHhNrb6MWnSzutosBuWmv9Mjh508nvgrcmVw8Wmh8i360WEoqIYDl/OrK9Wl7TkOxWjAsSu7btV52z899rHQ/Go1/wKmVn76cZhEdCKXHt6P8/WBCB9WKyGyAoj6c6uhy+Xiy3rhDXWYLnhW7z73mzBUTL1+qNtecKv5vfDf+cXmTo1cRiv/tOz+yBo1rIJv5hcrNdr5uOrUhS/7u/lFaHAuLYaCxACYssJm6Dc7TOmGEbcYom5ur+arzc1yvhGX6a+GUea1ON0c8+HFchNqrPGXPuY5PptqQL+6/DQM8sKo0IcnsYf10UfkL4p/vvELPD16Yhe4GVxus8QrmC/PRXd3uWvw67XovJaVkXkfuZ29F0PooW0O0+GhzotC+zGVp3fLsfp51x8rjXdLskT9dLHofGSU7sDG0JeL+8WlKKQ23pkPlkXL8NuOP/JRnviRd4/UBK2jHudd1EYgq/mUfr3QThynMPidU2Pw31RKaEM/8BlAuojPFwaDgAlInGBSRs+emTiteIhLkeX4mJDqgeUyxMVnAuoGvHnU6mh0VB/lq7P5NKp2tuiqEM7sk15DQjaBkyH60DVe/eRsusqy/7O7vRKXfxcv4TM4lUmvHAcbiRC9eXEvYiPZeCNQ1JRXn/vkyNllfvvcr0Su3tDVPQyVUvuVeLmry0rYzukCHrHYs4XFjfVmHOGsxP3GKuhRrPFoq2aCN5vl3eLLcivuizLolTwWR+n4hrHW3WK+vFx8+pTLaptt2JpgvI5X2EOV5YeD1exAr1OXLioFfVuzQa4x7ilzORr6kfoVXHobBgy4/mbTn1V/3d3iJMjMcdVdLdZx2OtNtDLw+lG0C5uJbIZWHeYiHmwaQFrDrESm56pu7bJSpf6LTPvkRRm4jqtccQ3McvnDnRihfFc1wKXyLW9uFZPpqr1jrRd8WRs+HKiVlQD/WWsatZt6UyuRWtdT89x17cr1Lv7NwWEJ21IZF3TLO7HYcxdM2gvpoT/giPUhzs1G5IT6cAuVHGd6W6DQ+yw1jnDOTtHHhwq8GiqyuLVf0wymKMtYI33VU/a/NsOIBffiebmN8kBHeWJ9PvZjZe74Y627/Im6vxKGIWif50tYeCttfDcziQ3ci+KQyd/GUZPXtK+UHw2DLAi17vkqeilmaCpVVah6EPqrHO5aBdYzHKtgg0uoxx09NS13Qn0Tm5j+5LRMsIdu80L57PeVsebq4Gj351g+fruV0e67w9VaXsustXLOl1WP1rOkN5WFwz8PjCd/qPX2dG1fHZZZsfFYGAj42Q42hXgLvrh78ErL/mpX3re9GMX3dS/dZKk05eFUlZZ8dXDO0N2Jhw5/Vqrv7cFufAh56iHc8mtt/IfN7kHkvx/PXner21/mi9Xu8fG/Zi93j6lnj795+uTfj6ejvXsEtL/PiCZPR/j33dGpHe1dJSDMGApvhqMTO8+bcguAoHIEbkUV6L79BxScJyhTyALbLw4FtG84iN6Go992OTqzI4sZoJh7E86Ho1M7z3nJPaCQe+CQe6Al94Ao96BY7oFN7Tqw0U6QvB+Ojp5YETbD4Qs7andJ/ciy5Ahv3SjsB8AAbYajY7vwppwNUAgQcLgK0BIgQBQgUCxAwCxAwKYAObkPWXsIR9t4lOOzzfGZEmF7NUSN1ji1XOfcfIsCbdgQNWTjsjUXFZq0IWrXxlXjNjG3cJOomRvXbd1kbvAmUKs3Tk2/8LcZgQkYIidwruygqOAJhsgYjCt3MDFbhEnkE8a1WZjMjmEC24YJ0TsKRgMpDFykoDa3APYT4/VGo5ylaGAvhshjjCujMTG7jUlkOca175jM5mMCO5AJ0YYKvs8RechoK1Al1MKfJptAfzJE/mSc/Mk5+1NRwJ8MkT8Zl/5UVPAnQ+RPxpU/mZj9ySTyJ+Pan0xmfzKB/Mk4+VPhbzMCfzJE/uRc+VNRwZ8MkT8ZV/5kYvYnk8ifjGt/Mpn9yQT2JxOiPxWM/lQY+FNBbW4B7E/G641G+VPRwJ8MkT8ZV/5kYvYnk8ifjGt/Mpn9yQT2JxOiPxV8nyPykNFWoEqohT9haNCkIieniiLZFYnsWUEG44qc3CuK0sJCEvCxyMnMoqgcLabIthZ18rYoaoOLadjlokpWF0XyuyC+rXBwvsjJ/khUHhiSgBFGTm4YRWWJMUX2xaiTOUZRO2RMwzYZVfbKqEbDDBq6ZhDAOgNvKy2UTTSKX2neyk5DAvDUyMlYo6jcNabIFht18tkoarONadhxo8q2G9XovUG7rwTyocK3NX6o1IQpO0FLRkqGjBLZcZDYjEEEK0ZKRoyStGFIACaMlCwYJWXAqGf7RZXMFyVtvZiCjRc1sl2UyHRBeispGC5SstsgKbOFBGC1SMloUVI2i3o2WVTJYlHSBosp2F5RY3NFLVorKGisgMFWgbayhbGlonSwaSo7BRnMFClZKUrKSFHPNooqmShK2kIxBRsoamyfqEXzBOVehuxB0q2m9XIRljnlHv3SEJmlcXJK52yTRQGPNEQGaVy6Y1HBGg2RLxpXpmhidkSTyA6Nay80mY3QBHJB42SBhb/NCMzPEDmfc2V7RQXPM0SGZ1y5nYnZ6kwinzOuTc5kdjgT2N5MiN5WMBpbYeBqBbW5BbCfGa83GuVkRQMbM0QeZlwZmInZvUwi6zKufctkNi0T2LFMiHZV8H2OyENGW4EqoRb+VO4VDcoZOZQLZFEgsEeZBCbljFzKBWlTJoNPOSOjckE5lavZqlwjr3JBm5Xr7FaukF25QH5lwlvBwLGckWWBoDzLZDAtZ+RaLijbcjX7lmtkXC5o53KdrcsV9i5XonkZR/cyCPZlrBUthA3MhQPNSlmYieBhzsjEXFAu5mq2MdfIx1zQRuY6O5krbGWuRC8zfi+C8yDYVrFa5IWhlRtDQ3NGhuYCGRoIbGgmgaE5I0NzQRqayWBozsjQXFCG5mo2NNfI0FzQhuY6G5orZGgukKGZ8FYwMDRnZGggKEMzGQzNGRmaC8rQXM2G5hoZmgva0FxnQ3OFDc2VaGjG0dAMgqEZa0ULYUNz4UCzUoZmIhiaMzI0F5ShuZoNzTUyNBe0obnOhuYKG5or0dCM34vgPAi2VawWeWFoq+n7JO5AhZCZFUxWZpiNbBLAxgohEytYWtgkgoEVQvZVsDKvomXrKgoZV8HatorKplU4WVbBZFgTfpsImFUhZFWGlVFNIthUIWRSBSuLKlo2qKKQPRWszamobE2FszEVHm1pomhKEwJLmkibajjbUcHVJqGsaJLAiAohGypYmVDRsgUVhQyoYG0/RWXzKZytp/BoPBO9T2F4SGSbiY6tsJupEaDfGCLDMU6O45wtpyjgOYbIdIxL1ykq2I4h8h3jynhMzM5jElmPce09JrP5mEDuY5zsp/C3GYEBGSIHcq4sqKjgQYbIhIwrFzIx25BJ5EPGtRGZzE5kAluRCdGLCkYzKgzcqKA2twD2I+P1RqMcqWhgSYbIk4wrUzIxu5JJZEvGtS+ZzMZkAjuTCdGaCr7PEXnIaCtQJdTZn/460Je7K/uRBdFR8RJAMaTOMZpOLZCOPEjOPD7OSmiclIbt6HyslHZUcgAo3C5wuF2g5XYBUZGDYhkBZhkBNmVkT76f4r733+8x7oCih3+f4g4cMgK0ZASQ3S4wu11g0+0CKXF39N689PvJBvyojUexF/me2v1EJ9PFyBii8BinGBlXgTIxR8skCplxjpsJHDwTYgQNUxgLf5/D0GTUCkShNS7iO77DGONbEMe3cI5v4TK+RRTxLRLHt/AU3yKk+BaB4lswx3fi73MYmoxagTi+haf4/m0K7dHRqR2aFwErIUUWDQoEdCjAZlHA3IkAuhUBLF4EqIQN2G6keeZHJSuASk4AhYwAh3wALdkAZLkAZpkANuUBSMmCo/0HLodMPTUUE3Q5U10Z+iHSmepkpuCF24BzXjuR107kdbGrYn5kFdJRHIw7xzrq1Ibgjnx47czuxFnvw7/x0LtaZ9TXuhA6W8fe2zpL3a1L0N86LJMAZFajnU1fMA0VYmWDofEoDp1GVCoEojAN2Auvpua/N4NX2PoBlSYDSMykXlHTBxrnT69CwwfmhedsajJA4iTp1dTon1p+5rFbeIWNHpDoDF5Rowcau4BXodEDI+N/BY0eSLT7V9Doj4108SiOcF9hm0eUR7ivqM0jhTYPOA58X4U2D4wGvq+mlgZH+Z77yg328gb7fCfcyEAR92hNDFAcib/CBuZoEwpnkyvUplJ7NrL2bHLt4fkYKKJebUS92oR69Xq2XwnZT33HoziLH5GYwI88zd1HGqftI5Iz9lGhyfrISvgBlfA76kIeuhjr11jREeXwv6aKjhQqOuBYKq9DRQdGsX89VfQTy0EfLfN1qujAkz++xooOSC4tvQ4VHVhcUHqNFd3RJh7lu95U7noj73qT75prNSjirjfk96+hVjvZxqN819t8d6Grw3ZBAjURUlVroSS54VACakOk6uZEibhlkUyNjFRqb1GFyk8CtUJSqUGyKtomJcnNlBPkFkspqPGSyu2YZG7SUe5rFYkbOqmq9VCSr1VVdgJSdfOiRNzSSCarIJVcI6qbqnAwMNJWKMnXAsNmQ+r/JTDJgkhmNyI5GlMUt1XhYGCyc/002y/tH/uRDfMAhZG8C7v1gv24fnfUhKM2pGzjsvOI0qLyjorl7J+mDD+1RJZLQNjE9xTfuT8mRJmsvHNPKmQX30cn1OYfcu7V++gkqTjga9iUR46Ieg17kmKVgOCQQCFiVQUqpoFwRaGpCW3tVBxAUnMYYwIVzNygZHw4sPUGNSWY7A4Da4hC6lwFs6gQxoKajNr8Qw6a8RyuIqlAFW2b88jBMZ7C8vNseoZyZkd2d47sGYqjOIFzjnlwahM4Rz5Nc+ZTSWflGYoTm7ntUWlSLwWivBinDBlXuTIxZ80kyp9xzqQJnFMTYnYNU57xYQMjynN62MBc5Vk9bGCJ8pwfNrDAeeaHDYw5z6GFv6wKnP+ochSiKmMRk4iIxAQcl6im6EQ5xSjKFKkoUrzKg9OXAlGMjFN0jKu4mJgjYhLFwjhHwQTOvwkx54Zjnt9M2d178BvMKaCSSUBxhuc8PXN+g7kC5HMzZ747wVnZmODEJmaGfrNR4BvsnBCFfsmFsUuyoyYcfQgp26D59gZHaUb7Bo12uttktMwp1tpoWcxRT0bLnOOfjZaFWBLJaIlDmaSxauKqdMJYNaImow/5h21OxcWmhq+TFF7nhgKMnEoxilSUUVTlGVPkQo06lWwUuXijymUc1VjQUaPSTh+eOBHR43I/9OEJleR9pVSaCv9QOU9bSc+1ov79hb0OL61CxUBK1QIlqhQoqSqBeq4QqFJ1QIkrA2pcFVCLFQEVqgb0MvxJihNXgfrL8DnBexn5RtIP8gytTMvFXntHfK+W1wChxA1RcRunsjauCtrEXMomUREb5/I1gQvXhFiyhqlY8R3fkxgGLtDKO76kvs/xbDL6kH/Y5lRcfPKV2L0U17iwCFmhkmSZCpRlVa6cJhcvp6BSZpkLm3Uuc9Zj0bNKNYBkqAisUH1IsqoWlOh9tcSaqvKhera2+huuOSznCmTvzEHVcUaVxgWqLi6oiuJqriKuUeVwgauFK1whXIlVwTlVgvDm7AlFhAu+9uYsy+9FdBvBPojftiIdF6p+wXSvldUdKE1DVJjGqSyNq6I0MZekSVSQxrkcTeBiNCGWomEqRFzNO4lh4CKsrOaR+j7Hs8noQ/5hm1Nx4akFvknCSfqUtTRJZ05lpyfpLOayS5N05lx2eZLOQiy7NEknDmWXXl1IXJUd7uuneDYZfcg/bHMqLju503+UfpmK7YUfld8CKoUFKJQTcLgC0FI6gKxggFmZAJuKA0gpCUe7zUbP/ajkAFDJAaCQA+CQA6AlB4AsB8AsB8CmHAApOXBE+yR3KCbocqbsyTUinalOZio8mAac89qJvHYir308yvfcV26wlzfY5zvhp8agiHu058OAcvB5U+LbGb7RMB7FNxpGJN5oGHl6o2Gk8Y2GEck3GkaF3mgYGb3RMLLwRsO7Gb4+Nh7F57UjEk+vR54e3o40PqcekXw4PSr0RHpk8fn8iOJD+XdTrOEo3/V55a7P5V2f57vmWIMi7vqcHp6/g1g7GV/Eel6OmnDUxiOrPY6wluxpWfiCMjREITGu4mJiDo5JFCHjOkwmc6xMoGI2TmVd+LlAlSzKojexnkWuBMYPZzFVBxO4TpgQKwYukVLBNhm1AlFlUeuhk1QeMkGNMUThNK7CaWIOp0kUTuM6nCZzOE2gGmOcakzh5wJVsihrjIn1LHKNMX44i6nGmMA1xoRYY/D9IyrYJqNWIKox6v2jIqWthOUm9FZCrcoAV7cS6gQc7INbCXWiFHi9lVCrXM+Cel4VDgZG17yY5GuBSbUwqv+XwOQaGeVUL6NMtTPtupFVqakJbVXgWlvddbNPMEy09hPMJ3YUZzkjsmmlI7HxdeRpLjTSuMV1RLRldWT00vbIwvvaI4n7VX+bmpzn502MwW+pcQGXAbFmBIiHla74sNKZvbfjyF7bMbSbmbw4tiObITqyGaKjOEN0jjNEpzZDdOQzRGc+Q3RWZohObIZo6KJfwirAnuxnXGcnhcRfdDmXNuFCFGqXc6xdQGHCBSexSufIK50zkfnP2y+fu9uQjUXIpr2rBoiWPnasD2ftc977SnH2sjj7XJw8cQNFFLRN3ADlUrWJm+d+FbK1yrmnl8n2SLxMthPW3c2i1JxnRjchzSZfYiMWsUae1q9GGpeuRsRb6V2h9ayRifLchFWsHXkIYdrGo5IHQLjLbk9xv9bkaGm/FnPyY71fi8XszGm/FnP26Lxfi4Xo1mm/FnHw7TTEZq4cXA2xWSIvrw2xWWZXT0Ns5uTvhYPJGyIfME52b1yZhInZKUwiuzDOzmACW6EJsTMwTN5ROHULjkPfULA4AfcSxqmrcC76CxNzp+FS7jlMo+7DOPchJtSix71J4YscIu5XjLMZFaHPl+NuxvihaiQ6HJMq1ajS9Zhcq2XcCRmv1Cbujgpf5Whwx2SceifnqosqquinirTJqbnHMq66LRNz32USdWDGdS9mMndlJtSqEHVqBT/kiG8Foj7OuOjo0ibd0hvoTbpa5a7vwCZdnUR0g3qTrlZTl1jZpKtl6h71Jl2pYlepVxW0KrvN6qqCTsBd6MFVBZ0odad6VUGr3LUGFTvYKLAPRpU726hKr4xJhGPGBOybUU32GOXUmUSZOuQospEGlTtnEmMXnV4FladM3bV+FbSiqq67+ipoJYHoxvWroPr3qUuvvAoqz52696AuaqFOXX1Uk1vHdzBrN5M6/6h+vVqrgUBMcLBa1wYFMdHhup8GCFE9WLvTYCGoq1o808Ahqjx8IFUOIkIaNZSIr47WfpmGFVGVg4uYRAwxYgIeaES1MtyIidKgI8qHKzMPQIL4UCvLbVXgIUn99b8xwfk0GtkvzZ7jEARQ/L7NeRpsAE+L0ec4rABEK8rnYQABLKwdn+NQwVFx7v0HSs5n6ZslZZEd85re0WBOudbvaLCY85/e0WDOkcjvaLAQY5Le0SBO0SmYQ5RehZhOo1+FkCJF7MCrEDJFjp1+FUKKHMXKqxBSjfHUr0IokSIbNA4vvU4wnU69TiAkCmz1dQKh56Cq1wmExAGVrxMILQZTvU6QJQokKBxG3KA/nSdt0GdO0dMb9FnMcUsb9JlzxPIGfRZirNIGfeIUpYI5RGIf/HSi2j74ikxxO7gPvpImR7G2D74ic0yr++AreoxwbR+8linepHLYw+7x6YR593gSKMiV3eNJzYHNu8eTwMEUu8eTEgOYd4+zQEEzzuGyv+cA4XJG4XKBwuWCCperOVyuUbhc4HC5wuFyJYbLOYXLBAqXcQ7X9DV6CFYhFKqCKVAFqzAVLQepKBSigjlAhXN4Co/BKZRCM2EKzEQpLO+nkDx7YkclHIBKKACFMACHEAAt2QdkWQdm2QY2ZRlIya6j3fLWUz8qOQAUPxnlPH23YqT26SdH/DU9V/xLUM7KHBSQfZLR0Li3+OjIDm0pDph/FdcZfRXXBVyKA+xfxXUGX8V1CF/FdWhfxXXkX8U1Fqen76H6HR2/KIh+04kM23JPYJUMhy/NAoX1HExtn5p15J+adaaiYKs0p5a/3dLMfo44HsVp44hinXOe5pAjtTrnyGuWM/8QrrE+3msvwtrXQtjrOtOLOpM+PwuSqk7++Vlgour4Tm+vKbji4RndxKMc8rigARwrilOrEI4oj6B4VXEmCqMsR+xJE+y1yfbaZHttKvbaSHttsr02wl4bYa9Nstcm22sz2eu+u2jQXgGJr642ZK9A41dXG2GvoNBXVxu0V0Dxq6vNDJf2m1laz29maRG/Sd4KPK1rNrO0Rt/M8sJ8M8ur8c2Ml+CbWVp3b5KpNmCqnib+osu5pAX0Jhkq8LRU3rCfQuK4KN7M8kp4M8vL3w266f6DU80MF7qbWVrdbmZ5SbuZ4Tp2M0uL102yPeCyOPtcnHpBupnlVehmlpaem1lab27Q7xzlBd5mhqu6zSwt5TbJ7oCnRdtmllZqG2F3oNCabDPLC7HNjFdfd2RcWTXr8OVUR2jGI21n+ES3RZcEFJ/dtsklgaentC26JCB6HtsGlwQWnry26JKOxmesp3ZkvbCj2Ak7xz7YqXXBjrgHdsU7YGfW/zqy7teQu0mbXbLNLtlWXLKVLtlml2yFS7bCJdvkkm12yTa5ZJtcsg0u2WaXbLNLthWXbKVLttol2+ySrXDJVrhkO0tPBtsZjjnbWRpzjkiMOUeexpwjjWPOEdGYs53lMWcbrLfN1ttWrLeV1ttm622r1tsK622z9bbZettsva203nayXk+zydnbVLK3kdnb5Oyx9YIisrcR9WMTGwc+oJlMKT2gYU6Wqh/QsJjNNT2gYc42mx/QsBANNz2gIQ7Wm17PY65MWL2exxLZce31PJbZmNPreczJoguf55JmszZOjm1c1VkTc8U1iWqvca6oJnBtNUFXWTZ1f+4W2iU/jqPU4gRs9MbJ7Z0fiJDwfZey+ZtGPYBx7gZMqEWPO4TCFwJR12Bc9Q8m5k7CJOopjHN3YQL3GUXoc7649zB+qDREP2JSpb5WehSTa9WZ+xbjlWrLvUzhoqsp0ian5k7H+KGoiO7HpEpUKh2RybWopC7JhNjI+StwTxKl3kl+BS5Lqo+qfQUuq9RT6a/AZY37K/UVuKxQrwUSdFxIqe9CSXVfqOceDFXqxFDS/Rim4K4MNerNUKIODaS5rCXcraFEPRtKqlmgnlsGqtQ4UOIGgBq3AdSqzYC7u/AYP9iDeMCff6PPxF0fStT7BelwFEUfGNTcDaJMPSFK3BmidiDI3CWCtNCUOkaUVN+Ieu4eUaUeEiXuJFHjfhK0XmaZe0uUvlJ6os9Etd4GKj0npjjQSrj/RKneFLgXBUl0pKBu5G+4O0XpK2ETnSqq9bBVulZMcSBsqYNFLZjL4Asz/+bMeGTPDR3FjaaTUDrtK4HoHMbliabEeCJDdCLj8kRhD9hVjdMpoyjPC9G70pTOiZI8Y9k+dCUQncu4PJFt8bhSjE7lgjyX7X+4UozO5YI817Rl4CoTOk/B8izlQ2dXAtF5jKsTfURTODHkf/L8IzZzQPHhlHN8OOXUHk45kn/Z/GNovsDo75l/hOa6Jxe7jssGRLuj66Bdx9xPgs0C/ZcFXedU+hz2TqGfo6DrnKpyjmEMsFzO6SwGr1VKfab9iGb/J0guPy7LXyE5OskyabgKcGTEd8aEugUo3oYL/gj6tKD7cPQQjrwe7Y78z6SMR3HzyYjSJpMyOONMoBufEKLsVNyYVM5Y4fcZPWQE+Sxom/PAOTaes83v8h5FDNk2RNk2LrOdXvqcMlT4fUYPGUG28d1FygNnW767OElqy/OR0DAAsruTog6F3EpdcorifYU/VDiGB/m2kuEUqCDmaIlJz1FSIFKqCxeSjJIab055Bule0gdJITpAtzJ7HBmURFx8cpUCAxJGBjGHBjUdG0iRggPavcYPGmN8AG91PlOEUMsh4n3eRxFDaNJAjbkMSdowPmWw8PuMHjKCEBS0zXngrBvP2U5bh4+IQ8bzuDIJMut5G/KUKxPuBXsQDLJvbCsywwFwIUcg7QY+Ig4RyKPhJMgI5J3FU85MuBfsQTCIgLGtyAxHwIUUgU8p7zsyNJdlt17vlkKeGfw0K+9C744Wdi/jEQ1eP+XsfqIx2X4KepWuvyNdPLJlTUe23RNQ/obryHFlEyhu9nQcP+06IvqA68joA65xtiNmOtVZzlUOVPkpx6XgTiCKkHEKk3MRKxNzwFzKUTONQmec42cCBzEvBVxVlgKuDi4FmMqB1W+dTz/Kb51rgUJdeeu8ooqw1986ryTIRVB561yrXBy1t86lfFUVqIBIlcVUeYd6X1jXoRCuc+Svc7ivKzG+loG91tG8ziG8FnG7FsHasT4e5XvuKzfYyxvs852k/dSuiHv03dSO7MmKoW08yne9zXdXazAs0MkONpikilh9rcGkBLmIDzYYVjmohxsMyX1VOBgWWUnqn0zQCQ5mq1KLap9M0DLVrconE6S6rQoHA5PrYRlC7kdbt7hSMSGcxRcUTgpCWUl01Afb67PX9TWD68vQbn+Ul8z7tEjDXJ42LMbsUWXxuz+0+N1/ffG7zxP+PZeL4r2aUQtJXomnzXual8r7ylJ5f3CpvA8zrT2it0qv6gpdiWV5QUoE1xWr9n1t1b4/vGrfx0nUnpU/7nIlEJ3duDx5UeHceU2+r6zJ9wfX5HtsZ3tU+v/aum7USRzZsvt0V/T9/8vrQviTmb/EGPEQyfmd1uIlxTlX+nf2gRellZ5PanHdO6dYmz9FXC6otHJBqZU1d62KeW1M8WV+0VVis/vJ0/yTu3hSkcLrxhDe/VuPp3YUt7qMyCqgI7HrZeRpt8tI4y6XEdHelZF5j++svO3oJG5f2aGLWXlzZTyySbqjUkKIrGAAlpnLPtqrqVJ7AqvLjuKVunzxLl88Dr+A4zICUBhoAbYNDo58Y4Mzi6qzq3hUyhcQ1SETbH/HsdWf3UjsxMrChl+A4hvaziG3QO3NbEf8QXdX/H1tZ/ZNe0f2QrYhnxV5Wf8esuojoRUaAKA4xF7F5o5QGHVxMGx+aR8xc2qIeh8xi7lJpn3EzLlx5n3ELMRmmvYRE4cGa4gajnFqPc65/aZHeFPBFn6Zk3Jzxp3LjCr3x61b71xmMbdzuXOZNWrxeecyC9z2cajMiFygMlQmlf0AdxWfxEJnZ9C7ilnMHpF2FTPXbpF3FbNAvpF2FRNPDlKE33OYwEsMkaEYJ1dxztbiivIX/GL11PzSF6uZk7/oL1azmP0lfbGaOftL/mI1C9Ff0heriYO/GKL2a5zar3P2l/SsfCr2wi9zUvYX/EY2o8r9sb/ob2SzmP1FfiObNfKX/I1sFthfcOMAI/KXysYBUtlf8EPZJ7HQ2V/0h7JZzP6SPpTNXPtL/lA2C+Qv6UPZxJO/FOH3HCbwF0PkL8bJX5yzv7gi/SWs9KDLRIG9JqrsOFGVvhOTCPeJCdiDopqcKMrJj6JMrhRF9qb4jATKMArsA1FlNyA1eZZ+MFMqVFAvaz9LLpbWp7VwMCfJ1w6sT+skwuPq69M6BftdZX1ay8n70gMdLbAPHnqgI9MkT0wL4yeqyiV/PLAwrpMIr9QL41qt+GZlYVzL7KF6YVyq2U+D/Hst3OitUWCHjSr7LKnJbUkXnjstBo2vbe03DBixW4nY7DVi8RV509BQoxK/G2+YvgVv3L0z8mKakcaPwhf8WyYWVsIxXkHc/UG2/R+tLWT3l9hOQkx3f4LtLKSxv71GGAK0V+7BWvcvjdxjddujh5ToISfaQqL9Bzy2mGhCPNElzMnF9r2s4I/+/b//H63X5Vs=",TimesRomanCompressed="eJyFnVtzG0mOhf+Kgk+7Ee5ZSdbN/aa+ebzuMdvupmjORD9QUlnmmmJpSMoSZ2L++9YNwMEBkn5xuL6TdUkkgLxUFvXv0Y/1/X212o6+H1397XEzv6sOTl6+Onx1cHry6uXJ6MXol3q1fTe/r5oCfyzuq813H+r7+aoVHpdLFA5UmN8vljuUGjitFnef27tIqTfb+XJxc7m6WzbFDpvjzS+L5+r2t8X25vPo++36sXox+vHzfD2/2Vbr36v21J+ft9XqtrrVGzWP9sMP9fPo+398d3R28eK746OLF0eHh4cvLl5d/PliNGkKr5eLVfVbvVlsF/Vq9P13jQzCH58XN19W1WYz+v604VfVetMVGx0eHv+luVBzk3f1dnHT1uTH+mG3bitx8F83/31w9Ori9EX773n376v231eH3b8vu3/PDy5v6+vq4PfdZlvdbw7erG7q9UO9nm+r278cHFwulwcf2qs1dqs21fprQ3szLjYH84Pten5b3c/XXw7qTwe/Llb1dvdQfffXqjnr8vXBfHX7P/X6YNGcvHm83ixuF/P1otr8pXncn5vb3C5Wd7/ffK66Buie4vdtc8p8fStqU/DH+cNfhzY5Ozt+MfooRyetJS43N62p14148fLF6KdKjxsjn78Y/b69/et09P3xRfffq+a/Fyd9e/2t2q4XN41B//Hv0fRjU6S93LvmQTYP88aO/3nR45cvX/a4er5Zzu+Vnxxe9Pyfj3VjqeulKqeHw4VWj/fXbUPdraJ2Wy+X87XyC7nLQ7W+ab1chPPz4Tbz+0baNNaJT9Y9QdfiUXuYr6vVsvpUkvxp+njzTXvFzRdTzk6Gs5aPG6Vqs5smOOfxFp93D5+rVSzeVGVRW02OpZKb5XzzOT7Nv6p1HWm9qiLcPiUlt5/XVVL2U/24Tujia1J2s3hOYPW1Stq2ym26WsADa5Vv6mW9SixR3S+8pC2wbNNAoNU/H+fLiO/WVRPIVs2TkxNxmmrTpRpRXh0fDW0P3nd83LNLRWdn5z36IaIf44k/Wamj4fo/21OenvXol3ji64j+Gh3sjaEmtXXof+OJb+ND/GqhJyf+LZ74LqJxfPrfYqn30Tgf4om/x+f6I15rEtGVtZq05zSW+hjRLN7x79Gq101n9qXaurShnnndaD5O+TyfU07OXklOuVksbhbrm0fLohocj23S3jQ9T5J5u/zmHka9eB6vdB1L3ST5N5ZK7vwpnngX0edopEVE/xdP/BJLWQhr5k+slSSdJO09RPTPWEfLDRpCm/hcST57jOhr9LinWCrJpLvYHP8ydHFo/uUd4VhbHTpTX556uJMj8MbtYnlb7Opv66fEzq53tp5g243TzDmOJOw/tQNDzLNW56zv+LSs14uEb6rCVW4e1003fmMGPJLad2GzWXQD1yT996MWZ01z8sdFo9zX23zk0Mrdhb8hk+kl7X1aJCwZPzUDuXQ4cDu/u6uSnrvnOBSjAUfbdtW6gtg/tbHQ/G49f4CkJqdeN9OHKqmlmfd6vtlj4f1qYfylDeD1bs7Q22a5XDxsFptEauq6/Vw/urFi6Padc1vLredfk3iY3zxuE9zn8k/L6jlqhci6n9+s6+TG1+squ/FtvZ3fuIgzadG0JBrAEhrGoT1sdduYNBujPq7u5uvH++X8MblNfdcMM78kl5tjPaBd7p3P6uDi0kY9x+eDz9fr20/NMM+NC22A4vtYG394rjcY2w1eHh3qDe6bPPe4dHeQzDRPRqO3bchvNkn3tSyMzevCc9bJILqJzmZC3Hh90mpvQoNax+z9zzp/7zXWMaVNapfzbWdjo/AEOoq+XXxdgDvbKf7JbLichIY9duGkSXKSdRYUg9pVdzMvChKoaryk3c8FiuFyQ8wpGuwc/3TWEnSCzQHCTWzG0GQImIL4KSZV9PxMxWHNI7kV5RwbFXo/sFrmdnmXPYCFR8lHfUq1cX52NZtIla7m0yqYMyZK8xBXTeCUEW3wSnc/H+6yrP9Vre6STPKhEFGvs0qac+wNkn2ee1nqRtaFJr3hutrsJ1pOxyR/fK7XSa3GdHczA0WBTvOIX0iyLZhtQjcwi/muzS1vbB67Mc46eV7vgmbFEqe0Kknw/nG5XTwsd8lz+QqCk/vmkI6vGW1tF/Pl7eJTMsHalVPDO38fc9jEWSw29rrZnl6nLN0U0t2qlAapQSGnzFM/fkMXwsW3ZsCAK3A6AVrXX6oVToM0Oa6ru8XGD3wtRAsjrzcxLs50LvLYRLWbjZixCyPIdcEyNceSxmXBpf7uLXZ68kpGrt06l18F01r+vLURiiXZYgJcZnnr5fHgvdtCkqmKvWNJuCwNH/Z4pTewzZZLoVG697jUIqWuh3Ou9iOlO5fjeLx3WMI9powLquU2We7ZuiRtOfGp3pMR40hPzrt/TGrin8hMlY4zLRbI9DZP9SOc81PM440DrxtHhkfTbiRMYaRtloWO5G06yNAZhm+4V7JuoK90spxYnpC9KYT+m1KI/0pPLWZojPZ5voSeQWK8nZnQMrc2xb6x88qPmszTvtF+hUioSt3znc+lWKGhVbNG9fnMeDbcVQfOZzjqYE2WyF541BRalgnn+XiDks2pZvPbxU2WZ38q9GfrvbV559vHHpdGuzbc3OvWe+91WfCFy2KOzmcDY38dy8NJv2kjkUJvX0oUX9Lxs47H3EDArrY3FPwj2PLu3jst67u2vVd1Moqvy7n0MUoSys2lCpF8t3fOUEFHbjYvuO8q7cbh9WHoISzll2L858f2VeSfL0Zvq/Xqt/li3b5A/sfosn1RPXrx3cnhny+Goz57ONQ/p0dDTkf42h/1WcUhrBgK4+bo9FSP5BEAgXM4rk3laB//DrnM45TBZI71i0MO9YGD6L07+qM5Ojo60kMxmmOu/qBM3KUm0QCTggEmqQEm0QCTogEmiQFk6OdYl1GQXLWVeKmH0+bwlbbprBUPVZxJnZDBwwOGfQHOSF+bw/MTOXpq73YsRzt/JDcDBPca6FAIA0ARRYFyCgXjHA+ivE4QRYbyNDxEhRhRRH6iPHMWFaPHqERuozz3HZXZgVSgMFJOsST8fUQYVco4tExI40vkSbw8R5ryfRZMYk6lggUL0adyyYIhDlXwwSgYI1IYhKUgjE1lHKAqJFEqWhqqIkK8CoKgFbRLEIWv8hjDQyhhDCuiGFZOMWycY1iU1wmiGFaexrCoEMOKyAOVZx6oYvRAlcgDleceqDJ7oAoUw8ophoW/jwhjWBnHsAlpDIs8iZfnGFa+z4JJDKtUsGAhhlUuWTDEsAo+hgVjDAuDGBaEMayMY1iFJIZFS2NYRIhhQRDDgnYJohhWHmMY2wkD2XOKZi9SSJPIce3k1yVOEe7FNMxdEYh1z8ldvZj5rC8RHdfr5L1ezF3Yl2E/9iqlAy9STnDi+wLH7OAFThGkpnnClZkUbskZw4vfbIIkd3h9XxMUsogvs7cJQj7xqk8qTsPM4gRIL45jjvECJxqvJtnGFUhTjisBecdxSD6O70qc0pAXYy4ygpkIKeUhlCgLOYlzEIivc0r5B6U0+0AByD1Iye1Rypwe9ejyqJLDo5S7O5ZgZ0eNsg1KlGtAep9SzDOIOcs4Lc0xUGKS3orzC0rfMHSSW1AtG7qQV7DEHkOHnIKazyigYD4BDNkEKOYSxJxJUEvyCMhpFgEdcghQyCBAdzml7IFSzB1D42DiUERZQzmlDOOcL0R5nSDKFMrTNCEq5AhF5LfKM6dVMXqsSuSuynNfVZkdVQVKB8opFwh/HxFmAWWcAkxI41/kSbw8R77yfRZMYl6lggUL0a5yyYIhzlXwQS4YI1wYhLcgjG1lHNgqJFEtWhrSIkI8C4JgFrRLEIWx8hjDYjgMYmMUxSZQGIPAcazS64xRJJuQhrLKEMvGyBVNyHzR1OiMppE3mpC7o+nsj6ZQSJtAMa3C+4RhVBvksAYljWvVJ8ktOLJN2GvOJLZNK5mzEN2mF80Z4tsUH+DKMcIVQogrwxg3yEFuShLlKqZhrirEuTIIdGW7jFGomxBjXWyFsW6MYt0EinUQONZVep0xinUT0lhXGWLdGDmnCZlzmhqd0zRyThNy5zSdndMUinUTKNZVeJ8wjHWDHOugpLGu+iS5Bce6CXvNmcS6aSVzFmLd9KI5Q6yb4mNdOca6Qoh1ZRjrBjnWTUliXcU01lWFWFfWxvopheguY9pMLGBD9Np6+CjbAkoIxblginLFHOOD8DoSim/BaXQPIsS2EHJFwZkjihbdUBRyQsG5C4rKDiicolkwxfKA3weCcSyIo1h5GsODOgmX5vgVvMdoSeyKkhutELeiFowWYla4j9iBYrwOCKJ1IBirgjhShSdxOkhplA4axOhAoDceyC4S6okFx3548BgMTkUUncopPI1zfIryOkEUocrTEBUVYlQR+ZvyzOFUjB6nErmc8tznVGanU4FCVTnFqvD3EWG0KuNwNSGNV5En8fIcscr3WTCJWZUKFixErcolC4a4VcEHrmCMXGEQuoIwdpVx8KqQRK9oafiKCPErCAJY0C5BFMLKQwz/0NDL5qivcnck5wKSeAPk2hc43AGotCogbTFg2ljAhnYCIs5vaNJZVo+sIRS5xwXumkapPC4g8j9QtCLAtCLAhor05KfB7id25DPmT2h3QK4iwKEiQKUigPRxgenjAhseF4jY3dCVO2rj5KUezTS4fsLgABSywLCb11lGEZlHOdlIeWYoFaO1VCKTKWe7qcDGU8FbUDGZUfhVRGBQQbNoLDat8sS+3XcA3r6C2L7C2b7CU/uKmNhXJLav8GBfEYJ9RSD7Cmb7DvwqIrTvgGbRWMG+woN9fxlM2+fsX9CqgMSggJwtgcMdgIoFAanxgKndgA0mAyLWMtSOwY60PnNNpoakBoB8fjWO+dWo5ldDlkWNWRY1JlnUiNTAUP/jUC++uzgUUju9jnWqCxWo0wrUsQI1dxCmJFWrZWAHKNZj+NUqqcj/Du51ZkdSEUDSOIBc3YBD3YBK3QBpDYBp4wAbGgeIVKpHb0f9MPylHelow5AfWhjHoYVRHVoYoqYAxQYdxqQpAOkIQ1F7dHyqR/LUgGRMjQgrAhwqglQ/5HBY6gdIawFMm8NYrWOkt+j0gJJB3FtyeqB+EPc2cXpQaHj3Fp0ekB/LtehRQ6A78qHaoSRUOx5CtaM+VDuUhmqnUKh2jLJQx1wWasnOWX4X/WMXG91NtjAuSKAQITWLFioSA4cKUAyRmocTFeLIIpmCjFSKN69WJYtxFJJKAclqEptU5FstlkUslaDgJZXjmGQOaS9DdJNAgU5qFvNUJIY/FaBMQGqeFKgQ5weSKVWQSlnDq5BASKBcQmqWVqhIzDBUgJINqXneoUKcgkjmbESyT0xe3JVcidMVqSEOfh3160r9EkJ3JMGGyK0lmdAtsRweyuFUB5+/jmRhRUVYUzHm5uyK3UqK3a17/6BPvfNj+V+pegPFb1iGK4VPWALPauu+7hgeFb/uGOrtv+7wxYIF8q87vJbZAj/boHqyVbLPNgZJJpfZHUTbxeJ8B+XJHZzzQROQQA3BatYcvgw2ilegabwwK54SmonkpLF8idSgIXxTGwXjFsN3KDAkVzSuIjKr8cygoqIphYERBc2SYsFwKiQmEy0zlmi7WE82kPJgmncjXA7tjnxv2iG/HNqhpFfteOhKO+r7zw5Rf9gxWg7tmFsO7YjvDN9J8F4miOqinCqkPKuVirFqKlH9lHMlVeCaquCrq5jqjOuGjKjOYd2QeVbnbN2QJapzXDdkgevM64aMuc4uyi+LAtffq2wFr6a28EUSi/gCbBevBut4OdjIy2QpL5K95B3IZYLIRsrJOsozu6gYLaIS2UI5W0EFrr8KvuaKfZ3HrrrjWNNxrOS4UL9xWrVxrNU4qdA4qcs4VGOc16DtpfqF2zF2UIiS177joVs61aOpu+pHV3LmStqKryHsKnoaE+24kGjHhUQ73pdox+VEOy4k2nEp0Y5LiXacJ9pxIdEqhzYJI+PAs9bBkTHZcxpv9zGeOIsncrNlI+VBcl8TQQN6Tq3oRWpKL2bt6UvERvU6tawXuXm9ym3sVd/QXqPWDp/7nSTW43bf97FfVuSq0CrTwnN8LFxnVrgOe0Xxg7dBh09FwDGQklugRE6BUuYSqEeHQJXcASV2BtTYFVDzjoAKuQF9i3US7MQuUP4SKxa4Si0/Te/+Mb3CLL0CN3vh66RBlQ8LoMUVUXMrp7ZWnjW0irGVVaImVs7tqwI3rgq+ZRVTs+KXNSfeDNyghe9qSL2K9pzG232MJ87iidx82Tcog+RX1bAJWaGWZJkalOWsXblMbF4uQa3MMjc269zmrPumZ5U8gGRwBFbIH4KcuQUVuiq22LT4RB+LV5sVr8aew3J0IP3UAFzHGDmNCeQuJmSOYmp0EdPIOUxgtzCFHcIU7wrGyQnctzgnZBFu+NKXOCxfJdadJvf8mJw7S87lRk2/Vhk0Wd2B1lREjamc2lJ51pQqxpZUiRpSObejCtyMKvhWVEyNiCt6J94M3ISFFT1Sr6I9p/F2H+OJs3giN162wjdIcZI+LkzSx4VJ+njfJH1cnqSPC5P0cWmSPi5N0sf5JH1cmqTjTt0TbwZuu8I+XVKvoj2n8XYf44mzeCK3XbantZd+G5qtX479DVsMkDQWINdOwMNe1d+wdQBpwwDTNgE2NAcQaQlDtvmpO/JvDDvkNz91KHlz2PHwurCj/h1hh+idX8foRV/H3Nu9jvhNQy2SzU/DZuIW6T6igb0f4ZbZ7shvme1QsmW242HLbEf9ltkOpVtmO4W2zHaMtsx2zG2Z/TDqN0mc2JHfs9ihZFtix8OOxI76zYgdoqcGhXYodkzeUwPy+w8/DJF9ZkcS1IhcPJswcdeZxPpOCvWdpPWdxPpyK4GS1HdCmzE/QCsZaRPQhR61uad/u/JhyDFndqQb2AzhrrSeykIOtL4iMonyzC4qRuOoRBZSnptJZbaVCuQgyslLcGHtjBD5S2FhjdRJvDa7j/J9tkocSaWCrQoupXLJVsG5VPAehmuHFx6Br+FCIfkRe122UDhI8vYFXE8RmVN5Zk4VozlVInMqz82pMptTBXI95eR6wsH1FJHrGc9cT9RJvDa7nvJ9tkpcT6WCrQqup3LJVsH1VPCuh5v1LzwC18PN+uRH7HrZZn2RwvZAeYh8e2CupgYubg/MC7Cx924PzAsFw+fbA3OVHTbsEDlLBXbefTtE0jKT0j2DO3v12zbPXNsX2Gvzkpv7QvttHl3ey+T4YevMRSZgEISdM6lfh4Ao7pvpC/wxGqYZL/VIpxmGdJphyE8zjOM0w6hOMwzZNMOYTTOMyTTDiE4zFLXRfHShRzr6NuRH38Zx9G1UR9+GePRtio2+jen3CIZ0aqHIvqnojuSpAYndAbmKAA8R0FHv9h0iN+6Y2h0uONgdiM8bLer/wrVMWXvST5f6rUotac84V103GQOSxILIfcFjPGy97ilsHIbC+mGPIdpW3TH7sEfZ8HfPZSbbosVIpvzdkV896RCtW7SsdgasYwvXhebEPcNApUaAyC9B0boCE78EJK1qSOe31ohrV611rP1aGhGR6xJMsL+NLtmtpe0+4xM70i7BkO8HjKPrG1XXN8Rp3hQLCmOW0I1JFlfy5Cy380exvXexXXGz1ZDRwmYr5pSP881WLMbMHDZbMeccHTdbseCzddhsRRzydpgGMM8yeDYNYIlyeWkawDJn9TANYE75Xfg8tjRneuWU7pVnSULFmPhVouyvnLsAFbgfUMF3BoqpRxBO3YJh1zcIhhStiHoJ5dRVGI9f7ZgYOw2TYs+hGnUfyrkPUYE7EhG4NxEOXYoiyqzKuXMRoY6twt2M8n1ulHQ4KlGvozzvelTm/kcF6oSUU08knLsj4etoDe6YlFPvZDzrokRN+imRoLNSRD2W8qzbUjH2XSpRB6Y878VU5q5MBe7PVPCdmuCn2BK7BBWcLevowg5b6Q3yHba5yl3fnh22eZGkG8x32OZq6BILO2xzmbrHfIdtqmJXmS9Y5GrabRYXLPIC3IXuXbDIC4XuNF+wyFXuWp06L3lY6Ga9yp2tV9Nc6YskHa8vwN2vV0Mn7OXQFXuZOmQvcrfsVO6cSfRdtP+CEro2L3B37VXutEnNum5fJOnAqUDSjfsS/pNcVu33HlI5dOxODt27U7GT9wL3VV4NHb7/ZLPU9qHz9+q33TobCPgCPBzwamFQ4AuFoYGXeYDgVR4mODUMFpy6LtkzDBy8ysMHUtNBhCuTDSVcARxQeIGHFV5NBxe+SDLE8AV4oOHVwnDDFwqDDi+HoYeXaQDixKdSS++Kwt4QiAOTyTAaObEjvx49wXEHoGRdekIjDKC+N5i4sQQwWkaewKgBiM/wsn6O1QjfTjCnCuXfTrAYqxa+nWDOlYzfTrDgqxu+nRh4+OYg5VT7/JuDVMzsUPzmINXJIoVvDlKVbZN+c5BqZCXafp9QslC2/T6RMusUtt8nKlkm3X6faGyVZPt9opBFcG86I7JF2JvOPLNCtjedJap/3JvOAtec96Yzpjone7oLClmgtKe7IGf22LOnu1CCrFPc013Q2VaFPd0FlSznNjMHRtaKm5mDkFko3cwcNLJKspk5KGyJsJk5cKq9/pL0Zcao9iZQ7U3Iam9qrL1pVHsTuPamcO1N8bU3TrUffqn3MhKquWCqt+Cs1qLFOotCNRbM9RXOtRXu6yrU1/RqqOXwS61XWEVkulcTmF9fAAFXFQDrWgIwWxwAaBsYAcoORkC6OGCs/Y3jIzvyW0w75IfsJoydTWgvSIeSxux4aMiO+kbsULrXoFOoaTvmd3J0KLYd7E/tDrXtgKkRgPm3rMbxdxKN6nq4IZs3G7N2gztJuwHSX0pUJBOkfurWk2Hz7fErQVSHKqmrLTgAyqtapVV16wl44WiCKjFBlZlAVwmGH99oWbs2cGZHunXDkP9ZLeP4G0JG9eexDNlvYhmjnxpsWe2NbL/oCMxHOgg4ozKqywSGeKUQrmErAsZ0URDK6eRfke3GtmI43TZvaufY5xrqOrEG5L3EOHqJUfUGQ1RDUMxPjNm6kjH5SdGOTCUx9603dYkZmAY3MGouEzAxA9bEDMwSM0DzboAS4IA0MRvrFrHtyO+Sn4b0Cjzskp9iegWU7pKfuvQKTF3MkD62Ilthno7CsvJ0FNaSpyG3Ag/LD1PMrYBojWw6iovC0xGvBE8xsxqSWHh5bqTPrP2a5XRIrHZGFWupaRVRXssq9IZTTqtQ2HeSU5dVgSWV16R6puGycCctfA8+denPWO2uWse6ZwunU859RmNz5uui01FcDJ2OwgrodBSWPaeY+awRMfFZY7eJ71RP08QHyP95AePhs6QpJj5A/PcETLE/JWDM/oqAMfkDAkraBb7zl3qk6doQpuWOzny+nCX5cpbky1kpX87yfDlL8uUsy5ezLF/OYr6cJflyNsIfMZ1hvgSUvD2ZUb4E6t+CzJJ8CQrtc5hhvgTkf2x0NuTLYZQzw4SJTFsAGOV+E3DXqlH/w8ozlzOBwYdQBvVLKEP+p5VnkDX78JqNwnh0NqRNuEyVVFYTp2OFylZpZf2IFEpHI1SJEarMCDYi7UepsyF79u8nZpg9AdEfAJkN2fPoSK9rg0dgvrogYAwb9XtvZkkCxWvQ67sZZlAsp1MORTx4nFEOtaZ/9IZ6pHnHLGRRFMIsY4ZpFFCopEk00Zi5PIoF/VxrpuvnkFrCy4EgcIbMXw8ENcmV4QVBEELWjK8IgkL5M7wkYAEyafjWjXmWU7Nv3Vii7Fr61o1lzrPhWzfmlHGFY9pVxulIBU7AKqSJSdWYnVSiVKSc85EKISmpQulZOeVo4RSthn22Fp5VO+RtFTh5m7DPUEkaNynJ5SoWrBiyugpFK4b8LgIkeUWU6ZVzuhcBc74yTvwqpNlf1dgFqET9gPJCZ6A69wgqcLegAvUNwkMHIULSS4j0mNg89BcqpJ2GqrHnUIm6D+WFPkR17khUCL2JKtSl0EtFybXZW8VM476l+F4xK5D0MNmbxUwL/Uz6bjETqbfJ3i4mGvQ5SKnbQSnreVCPnQ+q1P+glHdBWIJ7IdSoI0KJ+iKQsDtCzIkWNe6UUEvTLRaIGRdVyqsocWpFLWRXFKmbQslWkYJGWcMpvsMCqXCt0G2hxj2X075hzaT/cmrShaFetnboyFDbZ+3QnYEGPRpS6tRQ4n4NNOzaEHPvhlrawWGB2MehSt0cSoWeDotwZ4ca93eoUZcHUuj1QEs6PlAf8wYK3R9qaQ+IBWIniCr1gygVukIswr0haqFDRNH3iU3Ydn9fsu8F2qN241r/YlFSHhYQBKWG5IelBEEpt9sHijoO5eGRoTRQKCvbR6CgICiluwWgmDIo5/629VDO/W3roRz8dd2hFPx13aEM/gnPoRD+Cc++1DV6br+4ez245LEdiScCSt6yXZPfAfVv2a4TPwOF3r9dO7cCNniTka9arZtRvxYKRxpNhnBc1FNxsV2C6ALK41Xw2w9GdJXs2w+R5M8Ru+sY5CuZEq/Vd5L9Hy24vV7K3y3os5hTvdRW0H7uqTvyOwM6lO0MUM/Toyd39OxK7vyRr1puZenG8fkU0UMqT5/UpRqPniJ6jifuEkRVKHuLDDmwHoqoHsrTeogK9cAPkwg9xxN3CaJ6lP3VDY9cZRznGjkxr1bI3gl/KvDnwnV2Jc71dWKsNHQKdzmlCqOUVpc7n0CfUvqcXmGXU6okSkkVbdzq6oiYK4laXksogdUE/JTj5/wiuwLmqqIW6ypd912CqI7K0/q5YYFHTxE9xxN3CaK6KI/10LHFXcaoJiakVfFjF2JPCXtOzt1ljOpjQqyQDoLuMkYVMiGtkB9kEXtK2HNy7i5jVCETQoU+jWS2r0d+Z0eHbG6vKNns0fGw2aOjfrNHh2hLR8fohw875n74sCN+l0eLmmhaVptNN5VU+Ekt2B4tdITWHfmR5CcadfQTy7vBNnagk1IlYhkj/nW8Ynwbr1BfxiuxN+6KbLqrSN63KxCT9ESmHvNIfA0U+2ooTuqiWqiQKr5Wiqlqyql+yl0llfqaxs9JU+5rXfiYNBUTC5Q/JU11b43Sh6SpSpbJPyNNNWcl/VNgeuDsEf78VwsXLi0t4tB0URgOLdJxwyL2Q4skny+SlNgeWbR3Rz5DdcjWywzFDNXxkKF66lbFFPvE1SFKXB2jxNWy2h/FZ64LD1inD1jHJwnrS6Ykz1j7/XId8pnUdydJR5J3IV/il8bD9QpfGucqteC+L43zItFse740zkuQjUtfGucy+0D86jcX9poldZLyV795gb3VKnhR6avfXCbfKnz1m6q7kiOx85W/Be0LLIdRU3+XpVul61H8OnUQ5GfYDUleOtEje85kzJiPFleYNocrxbn6qjBXX5Xn6iucYg8XjpPnVWHyvCpPnlfeRHj5QqOxwLf6RqOtcHVwuJWgXSzFl1ceLlyPcB2udiPqWi5+qEc+CGu+ZE+xOYfrxgWa2rWwP5Fvk7ZwL4XudbhhYbWhjqsKyXX4/uVVhV6nvnx4hHQNoObZfrgC37w02+9VHDAM940T19rNUv2JfLt0ltpL9B0h3JIUuDMpu+LV+DlYjo/jBkbDgyQT3dpPaulcvm0+qe01SX9wP8yIxx7t4ol8s+yvyg4SxvtwL3wbcOzRLp7I90pTQCc9uAs8xHMf8tOG1xCFVWove03OWFaf5Fvdi1SQ58hV/0kCq8l2di4CdcoL+E3urNKudpZpMz/L7qMGFv1O+E7NjbXHUnvM9C0b7TfQHuvsM80+u5SN8m2LwP+HL6HQ5Ubtm7LTw4ibB5xvc22pTu6xDwuv0dJVUsIP/pzmYyTWYZ0/p/6kS6bJRCHV3MMmJboJ7mnEfruB1/SGmSZvu3LVP05S4mF+U+Wm6ax9ETG1RyzxVWveWFf3pZwoudPTuiNd2zOU3aIVdBvHsV5M39n2lZOG49u6d2QXHtEDlN6ReZUfJez5G56Hf79yeB73ruvCI3qe0rsur/LzhB9AlOdJf7JLnsqJ+Gxe4Cf0av6c+c9eHWc3pmcefLRL0ER81CjWFTWP/Vqa13D9ySu6fuaxrZx5TpuDlMtqmae6TubwH2o3Jbo6QTixtYj2t6eEdH96ypH2t+BfeSI2JQwG6pUmzLsFz37E1B3porYhaQpAfseEcdwxYVR3TBiyfRHGbF+EMdkXYUTMbUgi4EyJze66Iz/h65C2BaD4Z6c6HqaFPcWFIMP+r1F1iP4aVcfor1G1rNZQ6o78y4UOJdtUOh62qXTUb1PpULpNpVNom0rHpEsGpLZXpHHeG/9phK+CntChAPlXQU/BoYCHkfUTOhQgWlx6cg4FzL0KekKHMuQd6mmEK29Po7Dc9hQaB3hagTpWIF9CexrFdbOnUVgsexqFFbKn2DjPLjKeY2Q8x8h4LkTGcxoZz3lkPMfIeE4i4zmJjF1ojl2s2I5HDIS5eLLlNip40p//+X+DG1I7",SymbolCompressed="eJx9WFlv2zgQ/iuGnnYBt5DkS85bmk13g27SoEkPbNEHWqIlIhSpklSuov99R7JIkSLtFyGZjxzN8c0h/4oueF1jpqKz6Mt1K1GJZ4s4S+PZYrvdbqJ59J4zdYNqDAfuXuodp52spdSToZrQl6n0KyZl1Sm/xgVpa5BcKURJfs5KCgdj+F++J8+4uCUqr6IzJVo8jy4qJFCusLjD3d27BucE0cGYd+/4c3T2/U2SxfM36XYxT+JtDI8k/jGPPrMCC0oYvuWSKMJZdPYmiWMLuK9I/sCwlNHZCuRfsJD9sSiOk7dxnMFbbrgieefGBW9eROfA7I/8z1myzVbz7rnpn9vuCW/unpvZecF3eHb3IhWu5eyK5Vw0XCCFi7ezc0pnvRo5E1hi8QhCeM0lHCoIK+/yCvdR67zrfd2THPA7VfzzNTrbpv2fX+BPeH8fm2usBMnBg++/oq/forO08+QGNMgGgeG/5wfxYrE4iPFzTlFt5JtkkLeMPIL/EFoNreJBE2vrXReako3YcqvVEXCTKWJdzPS7Gizyjk/mZZvsAKC66d7FCgMtF4NC2eaVqpDyLW+QwIzi/TGoD6tvPQL7BJEPNVKVb39DW2mkJnY5FALyD9eEhU6DL4SPrqTaS0mRrHyDXrHgvpQz7AvVU+CkqgQOnN3zVgSkkFVfKslzQIgfMfPFOBxWRiyDjcs5p5wFIoFr4kImprQrP59WP1ubiVpcCgxlNLq5XC4PwM8Wy77EvSs5ZyU0EpuFaXqAzmlTjVlerzcH8TuskH/4oiLj0WQQ/oWpdXadJAfxZSOJ7exmPfD01lYSD8K/kU0288JLS7Mh+hW337dINCPA5MRX8QE1jXU8Wx/E/6J6V4zyLBtCdd36Km4Cso+QTOG4N6T5dvRusxxsu6/scK5Wgw2fKovZ20HxHSnrQDjv0WjEejvw7/MkxmMD6ZQkvnEfa1xayperg/ibZfN2kN1K4lvxHw4lZAfD6QErpy1lOt2QF4H3XATa8HDP7VnrVWY6SoNZQfKWokBRt90Ak7mt2GACwTVE8bNPE+Tw3VTIzkmQqRuLqsvtUGaFw3cTcjzJxSod3tjYSnQgS4fvpgyc8KaDZuLwXR8FtYlv8YPD9rHBuGxfbQYG1q1vL2v9+3zC9nF0EF+BqoLBFBbbjRfSYbsJprLYboxtpx1Fj23esXoMhqlx7rB9uR2OPxP/aCMDmX61/Vhm8cha7HA91bzbWUR1z0/m8tLUKSyJ1qWNHqeXrTUf16lb76Or6XIzTmWFA4mHyeLOkUS3+H23UpJQPAnbE0bUS2CSUi6IdWM13Mhpu/OlBUE1t/YbA1QYCeWLYVsrRh+SeDm0RCQEf9pxa3Xpds4RcpJhqNVDbXPkzqTpOJcK/mT1VO17gUtn57C3J3cpMlUucW77Px3hRwZ83VJFGvriJ6YRHJboLmnWPUNXWAC7FbQg+/0IrjUL4RMFBxhYkEdSBLxiXB0xD8TkEZorywPXoP0I/jxhXGzWKEoJUFgeiTvs3srq2eO9Hq2Aeq92S9eDIgeYwIeawKoVY+KyVOumuBmpY0r+CgrgQVn7ohl9n6aIoc4TJjB0lEDWvmaGa05ETrGfPRd3lm1jI64b9SKtBJlbhAFTgEhuqWoUvlhCFdwRBW613cNWqnGYyDAdj+OQfdnugpBWHUa14jAKbbN2tlDrfR6mXUT9p7F3peyGvHNBb0UCl933GHgmyN6Hc/0R6+KZxiG7Ba6ReJjg6RiAos0DpTRsHWNz1s284Mr58DI+UF52N8B7vyIGzP4+nGJcWLXiNMtiR0/0S0BPtExAj3ZNwE42zh11e6duTZS/YlZaK6DebfrkOsb4aURMnsqiA+viHpPowDrwsoX1y6moRTZ20cMXtmpOgFYf8sGd8kFrRw4ptuCQagu2lJvwmpXEUu2DNSlOoEf12vY4aXOZkG6WY8OC4hzrwHRcjVhWepjd4KdYKK7jrx5H89WjRxPWoycydlS3jZ/I2VS/G9yp9gB6PG1T1aY4YAp3LfPHPPqABbtFRHS/jf34/T82FAfb",ZapfDingbatsCompressed="eJxtmNtu20YQhl+F4FULyMGeD7pz3AY1ChtG7NpFA18w1NomIlECSRcxgrx7SVk7+wOdG8H5OJydf2Z2d5gf9cV+t0v9VK/r+6vXsXlOlbHe28paq229qj/t++m62aXZ4J/m8PRb1z9/baZxefK63Z6eXN5dVMvTCh83u277xr/6kLrnl2XNq7TpXnczuZyabdee98/b2VzM/x4/dd/T5qab2pd6PQ2vaVVfvDRD005puE3Lu7eH1HbN9hTjx4/77/X6y5lcnUmjVzHIVVDicVX/1W/SsO36dLMfu6nb9/X6TAoBD+5euvZbn8axXtuZ36dhPJrVQqgPQoh5hev91LWLkIv94W1Ygq9+aX+tZAx2tfz64284/sblN/rqfLP/mqrbt3FKu7G67Nv9cNgPzZQ2H6rz7bb6vLgZq89pTMO/M/xfEqturJpqSM/d7GJIm2oamk3aNcO3av80O5xh3yyKmm1193ZIT02bqovTKjP+MAf++7zsZvZ3276kYyWWXB0z99S18/PbafPHQ71W4fjn/fxnFO+ZvkrT0LVzTr78qB/+nk38bHM9exgP8zr1z9U7jt6840YW5uSJKcZOCaBBnKgm5mU8MVNYyMwWFvO7Ukagkmgg6sDWQ5yFFqjzUrLEaQ3BEmiwNsMSaZS0vgWfOkPHWQowNeTUc0kumnxZvsgPxlGai6VTGUqAVCTQ6QkWnc77DKEiLktSUBJKqHIQZ86d8gCpHYoiEzMsb1ubYy8vW50DChB5ZhGqrijD0EqUIeiaEHIfCg5Kpuu0ApiToaGPSY0uaQsyr65L2oKi1yFt1PLaQ3lzfXTgXodGoJYzglndSLDMPg1sTPJpQJHJigw0QrGERqD9YhyTOgONQDUyuF1zaxuokc/BW2ztXCMrGZ9WMW1oQZHIXWNBkSCfRZEL5BMUiZw6CzVSFCfUSGZFNjIldoKDkonTKQiJIGzWmFd3BizJJ9SINoLDriOfUCOZS+zg+KGD1qGiLNMLxtJD1/ns00ON6EzyUCM6vbxhoBKaqbG3DFQCNiL1iHccBPV0DHhQH/JW8EW90dkyFKGywCJU0WkVSvSGeiSUODWFFD0HYdPQVoiRgfPMA+/nnRgiAyNYSjpWNQcNSMrtFCUH4ZIRpSCWocFCSuhCEY6hoUClc0WC52BJlCYYLQdhN+hygRRRlo5BKRRLS6oihSqh+ZzzRGG1Mo4Iz1LoP0qsxDGFzk0JE42ji0jCPejomJKCuwil4m5CiRMEUMVSzVLDUstSx1Juc0oVWMpqY295qVltmtWmWW2a1aZZbZrVplltmtWmWW2G1WZYbYbVZlhthtVmWG2G1WZYbYbVZlhtltVmWW2W1WZZbZbVZlltltVmWW2W1QYjQCh7E2aAQHeGhCFgPoNoy8KNb2wxBhmGKBxoUZXlLGsLI6AsftEDHV0wIURVbANLcTKlGGBIKPOAxCmhePCKUwFzAmpDFRQvjA9R06Hq8TONvshgKDCuRAZTXigUxjxNFfKRo3CLhnIJBMFRvMZpqpNBMlQJzGT5WFQMVQI/AikPMIhEU1aDjqJvQwmjSHB05cC9jbYwc5UtAHNLhDw41ha+lEqF4JaH3gmB61SYcqInxTDmQK8v08vjqv4zDf1N0w3Lf4A8/vwPpfK11w==";var compressedJsonForFontName={Courier:CourierCompressed,"Courier-Bold":CourierBoldCompressed,"Courier-Oblique":CourierObliqueCompressed,"Courier-BoldOblique":CourierBoldObliqueCompressed,Helvetica:HelveticaCompressed,"Helvetica-Bold":HelveticaBoldCompressed,"Helvetica-Oblique":HelveticaObliqueCompressed,"Helvetica-BoldOblique":HelveticaBoldObliqueCompressed,"Times-Roman":TimesRomanCompressed,"Times-Bold":TimesBoldCompressed,"Times-Italic":TimesItalicCompressed,"Times-BoldItalic":TimesBoldItalicCompressed,Symbol:SymbolCompressed,ZapfDingbats:ZapfDingbatsCompressed},FontNames;(function(et){et.Courier="Courier",et.CourierBold="Courier-Bold",et.CourierOblique="Courier-Oblique",et.CourierBoldOblique="Courier-BoldOblique",et.Helvetica="Helvetica",et.HelveticaBold="Helvetica-Bold",et.HelveticaOblique="Helvetica-Oblique",et.HelveticaBoldOblique="Helvetica-BoldOblique",et.TimesRoman="Times-Roman",et.TimesRomanBold="Times-Bold",et.TimesRomanItalic="Times-Italic",et.TimesRomanBoldItalic="Times-BoldItalic",et.Symbol="Symbol",et.ZapfDingbats="ZapfDingbats"})(FontNames||(FontNames={}));var fontCache={},Font=function(){function et(){var tt=this;this.getWidthOfGlyph=function(rt){return tt.CharWidths[rt]},this.getXAxisKerningForPair=function(rt,nt){return(tt.KernPairXAmounts[rt]||{})[nt]}}return et.load=function(tt){var rt=fontCache[tt];if(rt)return rt;var nt=decompressJson(compressedJsonForFontName[tt]),at=Object.assign(new et,JSON.parse(nt));return at.CharWidths=at.CharMetrics.reduce(function(it,st){return it[st.N]=st.WX,it},{}),at.KernPairXAmounts=at.KernPairs.reduce(function(it,st){var ot=st[0],lt=st[1],ct=st[2];return it[ot]||(it[ot]={}),it[ot][lt]=ct,it},{}),fontCache[tt]=at,at},et}();const AllEncodingsCompressed="eJztWsuy48iN/Ret74KZfHtX47meqfGjPHaXx4/wgpJ4JbooUU1JVXXb0f9u4JwESF13R7TD29koIpFi8gCJBHDA/Pvm+nraTuPmZ3/f5HHzs7/k8WlzvXS7fvPXp02eqyR/2vRfd2N3gqhUUfm0Od9P236+DoczxLWK66fNpZ93/fkGWaOy5mnTnUR67c57lRaZSItM/tnN/XnsX/DfIqg0JOk8HI4UK4BCAFzG+xWCQgXF02Y3nU4dJJVKKrx5mPgKBVMImOvYXY+QKJRCoHzXzxMErQrap810hqaloioF1e0L5kvFUwqe23Hu+Q+1TinWeZnuMwSKrRRsL8Nn/kOxlYLtOnzFWE1Viqmu/eceVioVaylYe1OwVKilQD0PCYgiLRtVcJz4kEItW13mNLi0UsCVAB77KyxTKeJKEPff3rsREkVcCeLD3He3HqArBV0J6G/v/fU2cK1WH23l0e3c7T71N9uUVv/c5i73bWlVs1Y0u5/3srO7aQb2EPUB+eUTva0TYgG5mGbbzZSUkJTpn75ygF4PThhq1SMGMds4HYZdN54n/rdWc8rv02bfH9I2hbqGsKbPnIYzHSc0qmTIxI6nuwpiAIQmU8F4Gy7jK8RwntAI1v3wedj39FmFECp508s4zUOyGmwpKrwbL8eOIlVU//Yf/S1J9C212Pa/uuSwbVDYlWzxf/aj/UtfWgm258t1GG1X1BVawfdnX0xdoRbjPCdBVGs1svo3R/tPVD1r2YL3k0kUfC04f9ldLkmk0NVwv+pO232SKXa126/vHAO5wPxNGivsRsZ/HDhWzLVg/iBuOSfMUTGrTX+b/qSIG0H8u+NEl1J4jcD7/XBI9kDcUYN/0/FNCDuNAP64skYOeLrykUsjElWC9+cmAEAB9NtrEijCplaE/YHvKuC5Iup8zxBAWtFrayakC2QC8uCbhggSskx9zXYNQSRkeuZWQBFKQowabNIfS/qeqOgSOFTINcC4DKcnE70H2zqElJAJ3k++dwgrIRPA47J5iCwr724RWELINFBTAAWiCL7SOogrIQj6abWBOH8hCPoL/4a4EoJgn9MWIq40lcY52cJAGbCHMgkpA3g9t7e0sRWgB1HnvjJYRez6yrSTlYJvRZmdCQhe80Pa24roNYL75uLo10WyKYHVeFLjYnImilM0qPDOJOKWNGlFCJsIrw/qsNv7OPY3SnNYSQ9DP46DLHylvGCcEFU08Nz6JIVx9Chd+93ENNhEWroSuC8SAi0WNznNpqH9+c5k1RQ0nIbi9/LnTzdmoKZAaAwaib/0g0Ti29wxG8gUgLey/O8eHmmqt4eiKTNYo416LPrLkcIWa2u06eZ5+mLBXCaoTp4m7pckBm41P8Qe0mUG6DUCYWY/fTmnCQbwkCa2043vrhA2gqakncwM3aGfe9GAj1Vw9qiuzPW2o4Or4PcxhmUu4atwAGKMy8wCscJhiDFfJh1lhY2K6mo250DrTJXOC82EUgVIkTMmOd0moqC5Dd24H15e0hRKJS0Cvg7Xm9RKgz9ErdWrTpfb6zV5Wx2ytwlDZLplUQ/8Ye72Qyq5RI5kqY4t6fe0iHOItdCYbo8zKOi0vLjvjrdjZ2IYRAPUZZ72910SI7vEiL9LaHSvrZFkipKOf02y8gc9vEbmKHQjRP95uH6ShZI9c9pao41otTPLICMETXSC5jLNupbP8bxo2Dy/DOfh9prk8BKNk935MPIo1jiKUSNQqiVSVSozBWYan5nmNMGz1+r6AleO8KJJwXdk2H8XwgVVP31AticBhdvqIZPwNPcvqWhqah74iIB6GsYuvbdGeYFS93yY775hPNh6giUlzNNXr/eaJmNYKrnLKznOt4ZsEQ6f5ZCfWVvJFK2Xs5BcP8ND23r5uJqDyaPmM90Oscl9a87aIC3HLCxz+uOzNFgOhA+P4XRq8hPTjP3Xhzn4oiYIm1svybSpOX03zDuJX4kqyAx3rrKZdZ3XNMggGh9lsUt/Fm+7m+1bGCxqOttPN/fOFiExKh+xnb1d0gz8qiiXmS0r5YxLaaULN/TaOsu4WEgTS3Fd1TCvlsvj9F1/PvQpPzHAZqiN9yZEntcyaDfet0mGOKLl5LGX6EMhU5ZGkf3QnVIWqvJA5FoG7KbLK1BcBcyLTfNYZGr7g8ar+WEWm63VgmSefX/q5k+r6Rplrdo/Heb+q00gKzcWUiVy3pY5RkGL7kept7/zSRS8Uc+Kw+nOV5ukqeu1KqtZ2Ds2a6yrWZghX/NS7q3OwQZ5WM0tgGCBPK7muPM6B2fP8wditayKMKG5YzW7rIvzkJcPs8vKOBGaRJxo+boMocrFfe407G0SJlJS7pO+KOrwqKkAcw4lp28Xi28vU7AM2Lfz9gUITKM8fJlcnoRtlJIvkwsSRtD2kXkuC8M2ytbX08vSME4ZHqd9cTQgojL5hXr60uhDxDJfTy7WQ3kXy2I9q+t+L7V+d3nZD+fDtrtdf7iZ8gPUNhVNSLOdFKmrqgg5UGR5ktUWkERW4ETnYSnQpK5PsqU2k3I5yZbCTGhJki0lmbJ2ypxOd8rYKXM23Slnp6yxclZkVZK1li1EVlMWmY0yyJokC5bIRdYm6sDCW/9X54knZEYnurpKJCEzNtHVdYqTmdGJrm6SiJRMsdWJmTS1MYWuSZwAHg3D5dSJO6tnpqPiNXIHapSQHkL9WNCyDwEZymTtQzyGcfx/rQVukWUP4RgGS29oG5RieEMSVKm67GISoHZUs0g6TKImlZMdbde2cDMFUCZBSBWevKlNIlRrBNQkEVpt0CXUSYTWGvzG1q5TldeFIklgFfiMvQ6tNXgMtk5IM+qSAjbJSpOh4wdUtYnQYgOqxkRosgFVayK02SJsYCJ02tRw9HkVodUG00UTodcG4+UmQrdN0dPhVYR2m8KPBhX1t/bkumgaofzWplwXDT2Oo9K2Lhp6dogUvT+HBpGC98fQxlDs/lSVCr/OVGZ7CGY3lXEIKyD3fylyrQS63P4VjTl0uRkGJxB+l5th2CBS5LkZhg0iRZ6bYdgPUqC5aYMEh8CSmzrsCinU3PRBKkNYyQ0qTgSiSmFQcSAQVAqDimSFmFIYVPaKFGphUNktUqiFQUVaUvLVFbaHSEZK47vC0LNfpOgLQ8+OkaIvDD2SjZbOXWHokWBQgJeGHkmlwaEz9EglKHFKQ48og8qmNPQgJEp0u9LQg4mAjJeGnm0rRV8aeratFH1p6EE8tBnQlYYebSutwLrS0KNrhRZYZegRbpV3dpWhR8tKSU9XGXr2rJTsdJXBTz0ruLjhT00rVaAyBVLTSjWoTIPUs1IVKlOBbSulAV1lOrBzpZS2q0wJNq8yhH7TovIOb1cb5tSXUny14Ut9KUYQUyS1phRgbaDZmEIiFrKThCnpIMMYGrZh0JBo7M01e+H65sZeUpPp6ZsbX4+dcH1xa1YgxYsIAWYF9rXBI1p/L9tiiL6ZmYGtrYpZybaz8caUCA1iA4iIPcEN0ZAQIuq70g2ZPCOQ7R+yE5riIjTojfMRESbsge1zHMhgsSlk5PR4u0WnQDraMOdEE7JTj7dbhAqpw4K3W4wKGZv3eHtempBkA+nHQldgrwXHM1jwCgj0pB7BwlcIbI7BnhbAAmsvHNJgISyw+MIxDRbEAqsvHNRgYSyw/GqZSE0j1l84rMFCWWABhuMaLJgFVmA4sMHCWUi8CRpZQAvkSzizwUJaIE/CoQ0W1ALpEU5tsLDGDzqg6yI0jaKzfxGaRuRBOLjBglsgAcpYHZhG5D04usECXCDdQd0WLMQFshwc6GBBLqQOETSyMBdIa3DMgwW6QD6Dcx4s1AXyDpSRYmoTsrpmzWKQyDJw0GWjTci2GCBZIAtkFDj+wSJZIJPA+Q8WygIJRCQkw8meFCJAsGAWCu8BiNAsjzTAXkKwEBfYg2IQqM3y7EFFauT/ZAcUGlk0DAU7nyzETPeSHBIa1aZmSe4IjWpTsyRphEa1qVmSTFMjU7Mki4ZGreEsSZ+hUWO6s7+bc4/8cdJlaNSYQdjTRbEbM3+c5BgaWTgOSA7stkSLiqFiCwbgLUiHinQX4C1Kh4pEl+BN94oEl+DNdBWJLcH74yS0AG8RPeCjRmRZ3JiR0ZWKrItbW7MmZWVlbG+vSVWxHY2tyW+lJTUy0yEVgdTKmmYlNplKagSDCMFlTIaH8GmVMWkpIj6sMsQv+Ae3UmUIX3AP6q0yRC94x/IOBC84B4+VyhC7yHTIELQRhGgM32hchmAM14hMRCpEMIZrNC6DJvAMWkxl0ASOQYOpDJqACrX+EmgCX9EQ8f3T5stwlggXf/otCfss8O19uvX7LfqmP3Z1AiRPP2JPY2pA/vTbFIhHqhFedB2s0/2v3bIAG1z14yH8CVcvwJFFoePr5cgbDv9/G+Pfvo2BUIP6ix0r8EO9ZYARuKFeMMAIvFA/gWMESqifiTACG9QrBTpCBFGK9wuMQKz0UgJGoH+C7L8xAvPTL40Y4au7gPkfjEAB9SYBRmB/eokAIxA/vT6AETifXh7ACHRPrwroqAFX0i/5GIEmCZb/xQj8Tu8LYARqp5cFMAKr03sCGIHQ6SUBjMDlBMsfMLIP//+HERicXlzACORNsPxJR2iW4I4FRj92EQa8TTuGInY3/vHrMSBwuoPX3TDot4c7osKPXJtBm0XLvsPc0XfRZkHNhxE4nLZsMQJ902/jDOQIkriXkAL7JhEyNh1ZemtZ98IxCZvebeCYZE3AHjkmUdMPGRyTpAm6v3FMgqY3EjgmOdPPZhyTmOlFBIwZxHEPgWNeJ9BbBxyz+af9c45J2PRMcEyyph8EOSZP03PMMTmaXjLgmN0+vWLAMfBpFfeZY7838AVjNilxLYJj4NOy7ZVjUju9zcHxv3/FiVcKULCpf9yGcb9qEOPL/6pp7GyO2cU+S7N2AaOzDMHKBXxO4/goyYBiZ3S7+yxxf0fNKud0r31a0gnddp4+9WfTpHJOt/r4yfIlfVDq5z7dgWABg8amf4SBnLxZQ9A0718keFqMZSGDNurhPoxjf5r84LGeQY/77d0vb3QvyYc1DTrd9nWo56movd196uyqy792faz2prfkJHyAHPiBONTe+kZ2ephrlhb4Ll0HSRfRNOLxqk5onB1LWu4kCPAGRmicIDOZ6j67Ro0T5V2/F6t1lDpTlkz6iMTpspj/JI53H83+jZNmt/+ybY2TZ1lRctmcUldonEDLxLEbGV5aZ9AwRnqAJmydSFu6c2dunU6/8yDIL5Og0+8W67VOp98xsL6kr1H8FglO/W45Uq1z6ncPXto6rX432zlpnVW/e6bAGfXPV0aOmXPqZwcbM+fUzw42Zs6pnx/BxsyJ9fMaV8ycW79fre3c+v1qbefW79+u7QT7/ePazrGf+UE7Zk6wf+Mmi8EJ9ocFQnCC/WGBEJxgf3gDgddNNIp/WC3Mb12i24cHXIEfkcs3FzGDM/UPnnJjcKb+cQXOmfrHFThn6h/fgItO1z8+4IjO2P+0LBOdsX9znHgBKUYn7Id+Pkklvh3TCgtpX9DFhbSvll1I+1t0C3NfTBcX5v4IeSHv5sYxX7g7H86dt+/Wbpw7c+8XsLkz934Bmztz79+AzZ2+9w+4cmfww2ptZ/DDam1n8MPbtZ3GDw9rs9ui3KZPblw4tz8vJiuc208LhMK5/bRAKJzbT28gFE7wp9XCTvCnR1zO8ZeLw7Fwjj8tTlw4x78v0Ern+PcFWukc//4GWulE//6AonSu/7paxrn+zZ2YnRclRK/rBXJsCAjxh2cKEAWVJ02ku/wOoFv2+12XkmnODwHgW4uQGVbZ0uM7mAJ1b/68/JlpUMnWdy5MF6/Vd5eL19YYSPd6FqPwBkNQo/h2NQxdQQ3bn/dpCxrGrqCW7U8rKZl/mfi0Xytk3Am66ZhYbg4y+KAVslDwbXdNL2d5qU5hnYBlTZaa6hs2t1qWdaeeTptcLco+hl5R7w4H5uOGcQbtEkpT18GusOI2xT9dYcVJf7zCSjmbD+Iud2s1NPRb9E+0UICmizb8ZK/+5JOLOulSqwaw5VJr2vB8dSFn89fvv/8H0oq1dA==";var decompressedEncodings=decompressJson(AllEncodingsCompressed),allUnicodeMappings=JSON.parse(decompressedEncodings),Encoding=function(){function et(tt,rt){var nt=this;this.canEncodeUnicodeCodePoint=function(at){return at in nt.unicodeMappings},this.encodeUnicodeCodePoint=function(at){var it=nt.unicodeMappings[at];if(!it){var st=String.fromCharCode(at),ot="0x"+padStart(at.toString(16),4,"0"),lt=nt.name+' cannot encode "'+st+'" ('+ot+")";throw new Error(lt)}return{code:it[0],name:it[1]}},this.name=tt,this.supportedCodePoints=Object.keys(rt).map(Number).sort(function(at,it){return at-it}),this.unicodeMappings=rt}return et}(),Encodings={Symbol:new Encoding("Symbol",allUnicodeMappings.symbol),ZapfDingbats:new Encoding("ZapfDingbats",allUnicodeMappings.zapfdingbats),WinAnsi:new Encoding("WinAnsi",allUnicodeMappings.win1252)},values=function(et){return Object.keys(et).map(function(tt){return et[tt]})},StandardFontValues=values(FontNames),isStandardFont=function(et){return StandardFontValues.includes(et)},rectanglesAreEqual=function(et,tt){return et.x===tt.x&&et.y===tt.y&&et.width===tt.width&&et.height===tt.height},backtick=function(et){return"`"+et+"`"},singleQuote=function(et){return"'"+et+"'"},formatValue=function(et){var tt=typeof et;return tt==="string"?singleQuote(et):tt==="undefined"?backtick(et):et},createValueErrorMsg=function(et,tt,rt){for(var nt=new Array(rt.length),at=0,it=rt.length;at<it;at++){var st=rt[at];nt[at]=formatValue(st)}var ot=nt.join(" or ");return backtick(tt)+" must be one of "+ot+", but was actually "+formatValue(et)},assertIsOneOf=function(et,tt,rt){Array.isArray(rt)||(rt=values(rt));for(var nt=0,at=rt.length;nt<at;nt++)if(et===rt[nt])return;throw new TypeError(createValueErrorMsg(et,tt,rt))},assertIsOneOfOrUndefined=function(et,tt,rt){Array.isArray(rt)||(rt=values(rt)),assertIsOneOf(et,tt,rt.concat(void 0))},assertIsSubset=function(et,tt,rt){Array.isArray(rt)||(rt=values(rt));for(var nt=0,at=et.length;nt<at;nt++)assertIsOneOf(et[nt],tt,rt)},getType=function(et){return et===null?"null":et===void 0?"undefined":typeof et=="string"?"string":isNaN(et)?"NaN":typeof et=="number"?"number":typeof et=="boolean"?"boolean":typeof et=="symbol"?"symbol":typeof et=="bigint"?"bigint":et.constructor&&et.constructor.name?et.constructor.name:et.name?et.name:et.constructor?String(et.constructor):String(et)},isType=function(et,tt){return tt==="null"?et===null:tt==="undefined"?et===void 0:tt==="string"?typeof et=="string":tt==="number"?typeof et=="number"&&!isNaN(et):tt==="boolean"?typeof et=="boolean":tt==="symbol"?typeof et=="symbol":tt==="bigint"?typeof et=="bigint":tt===Date?et instanceof Date:tt===Array?et instanceof Array:tt===Uint8Array?et instanceof Uint8Array:tt===ArrayBuffer?et instanceof ArrayBuffer:tt===Function?et instanceof Function:et instanceof tt[0]},createTypeErrorMsg=function(et,tt,rt){for(var nt=new Array(rt.length),at=0,it=rt.length;at<it;at++){var st=rt[at];st==="null"&&(nt[at]=backtick("null")),st==="undefined"&&(nt[at]=backtick("undefined")),st==="string"?nt[at]=backtick("string"):st==="number"?nt[at]=backtick("number"):st==="boolean"?nt[at]=backtick("boolean"):st==="symbol"?nt[at]=backtick("symbol"):st==="bigint"?nt[at]=backtick("bigint"):st===Array?nt[at]=backtick("Array"):st===Uint8Array?nt[at]=backtick("Uint8Array"):st===ArrayBuffer?nt[at]=backtick("ArrayBuffer"):nt[at]=backtick(st[1])}var ot=nt.join(" or ");return backtick(tt)+" must be of type "+ot+", but was actually of type "+backtick(getType(et))},assertIs=function(et,tt,rt){for(var nt=0,at=rt.length;nt<at;nt++)if(isType(et,rt[nt]))return;throw new TypeError(createTypeErrorMsg(et,tt,rt))},assertOrUndefined=function(et,tt,rt){assertIs(et,tt,rt.concat("undefined"))},assertEachIs=function(et,tt,rt){for(var nt=0,at=et.length;nt<at;nt++)assertIs(et[nt],tt,rt)},assertRange=function(et,tt,rt,nt){if(assertIs(et,tt,["number"]),assertIs(rt,"min",["number"]),assertIs(nt,"max",["number"]),nt=Math.max(rt,nt),et<rt||et>nt)throw new Error(backtick(tt)+" must be at least "+rt+" and at most "+nt+", but was actually "+et)},assertRangeOrUndefined=function(et,tt,rt,nt){assertIs(et,tt,["number","undefined"]),typeof et=="number"&&assertRange(et,tt,rt,nt)},assertMultiple=function(et,tt,rt){if(assertIs(et,tt,["number"]),et%rt!==0)throw new Error(backtick(tt)+" must be a multiple of "+rt+", but was actually "+et)},assertInteger=function(et,tt){if(!Number.isInteger(et))throw new Error(backtick(tt)+" must be an integer, but was actually "+et)},assertPositive=function(et,tt){if(![1,0].includes(Math.sign(et)))throw new Error(backtick(tt)+" must be a positive number or 0, but was actually "+et)},pdfDocEncodingToUnicode=new Uint16Array(256);for(var idx$2=0;idx$2<256;idx$2++)pdfDocEncodingToUnicode[idx$2]=idx$2;pdfDocEncodingToUnicode[22]=toCharCode("");pdfDocEncodingToUnicode[24]=toCharCode("");pdfDocEncodingToUnicode[25]=toCharCode("");pdfDocEncodingToUnicode[26]=toCharCode("");pdfDocEncodingToUnicode[27]=toCharCode("");pdfDocEncodingToUnicode[28]=toCharCode("");pdfDocEncodingToUnicode[29]=toCharCode("");pdfDocEncodingToUnicode[30]=toCharCode("");pdfDocEncodingToUnicode[31]=toCharCode("");pdfDocEncodingToUnicode[127]=toCharCode("");pdfDocEncodingToUnicode[128]=toCharCode("");pdfDocEncodingToUnicode[129]=toCharCode("");pdfDocEncodingToUnicode[130]=toCharCode("");pdfDocEncodingToUnicode[131]=toCharCode("");pdfDocEncodingToUnicode[132]=toCharCode("");pdfDocEncodingToUnicode[133]=toCharCode("");pdfDocEncodingToUnicode[134]=toCharCode("");pdfDocEncodingToUnicode[135]=toCharCode("");pdfDocEncodingToUnicode[136]=toCharCode("");pdfDocEncodingToUnicode[137]=toCharCode("");pdfDocEncodingToUnicode[138]=toCharCode("");pdfDocEncodingToUnicode[139]=toCharCode("");pdfDocEncodingToUnicode[140]=toCharCode("");pdfDocEncodingToUnicode[141]=toCharCode("");pdfDocEncodingToUnicode[142]=toCharCode("");pdfDocEncodingToUnicode[143]=toCharCode("");pdfDocEncodingToUnicode[144]=toCharCode("");pdfDocEncodingToUnicode[145]=toCharCode("");pdfDocEncodingToUnicode[146]=toCharCode("");pdfDocEncodingToUnicode[147]=toCharCode("");pdfDocEncodingToUnicode[148]=toCharCode("");pdfDocEncodingToUnicode[149]=toCharCode("");pdfDocEncodingToUnicode[150]=toCharCode("");pdfDocEncodingToUnicode[151]=toCharCode("");pdfDocEncodingToUnicode[152]=toCharCode("");pdfDocEncodingToUnicode[153]=toCharCode("");pdfDocEncodingToUnicode[154]=toCharCode("");pdfDocEncodingToUnicode[155]=toCharCode("");pdfDocEncodingToUnicode[156]=toCharCode("");pdfDocEncodingToUnicode[157]=toCharCode("");pdfDocEncodingToUnicode[158]=toCharCode("");pdfDocEncodingToUnicode[159]=toCharCode("");pdfDocEncodingToUnicode[160]=toCharCode("");pdfDocEncodingToUnicode[173]=toCharCode("");var pdfDocEncodingDecode=function(et){for(var tt=new Array(et.length),rt=0,nt=et.length;rt<nt;rt++)tt[rt]=pdfDocEncodingToUnicode[et[rt]];return String.fromCodePoint.apply(String,tt)},Cache=function(){function et(tt){this.populate=tt,this.value=void 0}return et.prototype.getValue=function(){return this.value},et.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},et.prototype.invalidate=function(){this.value=void 0},et.populatedBy=function(tt){return new et(tt)},et}(),MethodNotImplementedError=function(et){__extends(tt,et);function tt(rt,nt){var at=this,it="Method "+rt+"."+nt+"() not implemented";return at=et.call(this,it)||this,at}return tt}(Error),PrivateConstructorError=function(et){__extends(tt,et);function tt(rt){var nt=this,at="Cannot construct "+rt+" - it has a private constructor";return nt=et.call(this,at)||this,nt}return tt}(Error),UnexpectedObjectTypeError=function(et){__extends(tt,et);function tt(rt,nt){var at=this,it=function(lt){var ct,ut;return(ct=lt==null?void 0:lt.name)!==null&&ct!==void 0?ct:(ut=lt==null?void 0:lt.constructor)===null||ut===void 0?void 0:ut.name},st=Array.isArray(rt)?rt.map(it):[it(rt)],ot="Expected instance of "+st.join(" or ")+", "+("but got instance of "+(nt&&it(nt)));return at=et.call(this,ot)||this,at}return tt}(Error),UnsupportedEncodingError=function(et){__extends(tt,et);function tt(rt){var nt=this,at=rt+" stream encoding not supported";return nt=et.call(this,at)||this,nt}return tt}(Error),ReparseError=function(et){__extends(tt,et);function tt(rt,nt){var at=this,it="Cannot call "+rt+"."+nt+"() more than once";return at=et.call(this,it)||this,at}return tt}(Error);(function(et){__extends(tt,et);function tt(rt){var nt=this,at="Missing catalog (ref="+rt+")";return nt=et.call(this,at)||this,nt}return tt})(Error);var MissingPageContentsEmbeddingError=function(et){__extends(tt,et);function tt(){var rt=this,nt="Can't embed page with missing Contents";return rt=et.call(this,nt)||this,rt}return tt}(Error),UnrecognizedStreamTypeError=function(et){__extends(tt,et);function tt(rt){var nt,at,it,st=this,ot=(it=(at=(nt=rt==null?void 0:rt.contructor)===null||nt===void 0?void 0:nt.name)!==null&&at!==void 0?at:rt==null?void 0:rt.name)!==null&&it!==void 0?it:rt,lt="Unrecognized stream type: "+ot;return st=et.call(this,lt)||this,st}return tt}(Error),PageEmbeddingMismatchedContextError=function(et){__extends(tt,et);function tt(){var rt=this,nt="Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.";return rt=et.call(this,nt)||this,rt}return tt}(Error),PDFArrayIsNotRectangleError=function(et){__extends(tt,et);function tt(rt){var nt=this,at="Attempted to convert PDFArray with "+rt+" elements to rectangle, but must have exactly 4 elements.";return nt=et.call(this,at)||this,nt}return tt}(Error),InvalidPDFDateStringError=function(et){__extends(tt,et);function tt(rt){var nt=this,at='Attempted to convert "'+rt+'" to a date, but it does not match the PDF date string format.';return nt=et.call(this,at)||this,nt}return tt}(Error),InvalidTargetIndexError=function(et){__extends(tt,et);function tt(rt,nt){var at=this,it="Invalid targetIndex specified: targetIndex="+rt+" must be less than Count="+nt;return at=et.call(this,it)||this,at}return tt}(Error),CorruptPageTreeError=function(et){__extends(tt,et);function tt(rt,nt){var at=this,it="Failed to "+nt+" at targetIndex="+rt+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return at=et.call(this,it)||this,at}return tt}(Error),IndexOutOfBoundsError=function(et){__extends(tt,et);function tt(rt,nt,at){var it=this,st="index should be at least "+nt+" and at most "+at+", but was actually "+rt;return it=et.call(this,st)||this,it}return tt}(Error),InvalidAcroFieldValueError=function(et){__extends(tt,et);function tt(){var rt=this,nt="Attempted to set invalid field value";return rt=et.call(this,nt)||this,rt}return tt}(Error),MultiSelectValueError=function(et){__extends(tt,et);function tt(){var rt=this,nt="Attempted to select multiple values for single-select field";return rt=et.call(this,nt)||this,rt}return tt}(Error),MissingDAEntryError=function(et){__extends(tt,et);function tt(rt){var nt=this,at="No /DA (default appearance) entry found for field: "+rt;return nt=et.call(this,at)||this,nt}return tt}(Error),MissingTfOperatorError=function(et){__extends(tt,et);function tt(rt){var nt=this,at="No Tf operator found for DA of field: "+rt;return nt=et.call(this,at)||this,nt}return tt}(Error),NumberParsingError=function(et){__extends(tt,et);function tt(rt,nt){var at=this,it="Failed to parse number "+("(line:"+rt.line+" col:"+rt.column+" offset="+rt.offset+'): "'+nt+'"');return at=et.call(this,it)||this,at}return tt}(Error),PDFParsingError=function(et){__extends(tt,et);function tt(rt,nt){var at=this,it="Failed to parse PDF document "+("(line:"+rt.line+" col:"+rt.column+" offset="+rt.offset+"): "+nt);return at=et.call(this,it)||this,at}return tt}(Error),NextByteAssertionError=function(et){__extends(tt,et);function tt(rt,nt,at){var it=this,st="Expected next byte to be "+nt+" but it was actually "+at;return it=et.call(this,rt,st)||this,it}return tt}(PDFParsingError),PDFObjectParsingError=function(et){__extends(tt,et);function tt(rt,nt){var at=this,it="Failed to parse PDF object starting with the following byte: "+nt;return at=et.call(this,rt,it)||this,at}return tt}(PDFParsingError),PDFInvalidObjectParsingError=function(et){__extends(tt,et);function tt(rt){var nt=this,at="Failed to parse invalid PDF object";return nt=et.call(this,rt,at)||this,nt}return tt}(PDFParsingError),PDFStreamParsingError=function(et){__extends(tt,et);function tt(rt){var nt=this,at="Failed to parse PDF stream";return nt=et.call(this,rt,at)||this,nt}return tt}(PDFParsingError),UnbalancedParenthesisError=function(et){__extends(tt,et);function tt(rt){var nt=this,at="Failed to parse PDF literal string due to unbalanced parenthesis";return nt=et.call(this,rt,at)||this,nt}return tt}(PDFParsingError),StalledParserError=function(et){__extends(tt,et);function tt(rt){var nt=this,at="Parser stalled";return nt=et.call(this,rt,at)||this,nt}return tt}(PDFParsingError),MissingPDFHeaderError=function(et){__extends(tt,et);function tt(rt){var nt=this,at="No PDF header found";return nt=et.call(this,rt,at)||this,nt}return tt}(PDFParsingError),MissingKeywordError=function(et){__extends(tt,et);function tt(rt,nt){var at=this,it="Did not find expected keyword '"+arrayAsString(nt)+"'";return at=et.call(this,rt,it)||this,at}return tt}(PDFParsingError),CharCodes;(function(et){et[et.Null=0]="Null",et[et.Backspace=8]="Backspace",et[et.Tab=9]="Tab",et[et.Newline=10]="Newline",et[et.FormFeed=12]="FormFeed",et[et.CarriageReturn=13]="CarriageReturn",et[et.Space=32]="Space",et[et.ExclamationPoint=33]="ExclamationPoint",et[et.Hash=35]="Hash",et[et.Percent=37]="Percent",et[et.LeftParen=40]="LeftParen",et[et.RightParen=41]="RightParen",et[et.Plus=43]="Plus",et[et.Minus=45]="Minus",et[et.Dash=45]="Dash",et[et.Period=46]="Period",et[et.ForwardSlash=47]="ForwardSlash",et[et.Zero=48]="Zero",et[et.One=49]="One",et[et.Two=50]="Two",et[et.Three=51]="Three",et[et.Four=52]="Four",et[et.Five=53]="Five",et[et.Six=54]="Six",et[et.Seven=55]="Seven",et[et.Eight=56]="Eight",et[et.Nine=57]="Nine",et[et.LessThan=60]="LessThan",et[et.GreaterThan=62]="GreaterThan",et[et.A=65]="A",et[et.D=68]="D",et[et.E=69]="E",et[et.F=70]="F",et[et.O=79]="O",et[et.P=80]="P",et[et.R=82]="R",et[et.LeftSquareBracket=91]="LeftSquareBracket",et[et.BackSlash=92]="BackSlash",et[et.RightSquareBracket=93]="RightSquareBracket",et[et.a=97]="a",et[et.b=98]="b",et[et.d=100]="d",et[et.e=101]="e",et[et.f=102]="f",et[et.i=105]="i",et[et.j=106]="j",et[et.l=108]="l",et[et.m=109]="m",et[et.n=110]="n",et[et.o=111]="o",et[et.r=114]="r",et[et.s=115]="s",et[et.t=116]="t",et[et.u=117]="u",et[et.x=120]="x",et[et.LeftCurly=123]="LeftCurly",et[et.RightCurly=125]="RightCurly",et[et.Tilde=126]="Tilde"})(CharCodes||(CharCodes={}));const CharCodes$1=CharCodes;var PDFHeader=function(){function et(tt,rt){this.major=String(tt),this.minor=String(rt)}return et.prototype.toString=function(){var tt=charFromCode(129);return"%PDF-"+this.major+"."+this.minor+`
%`+tt+tt+tt+tt},et.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},et.prototype.copyBytesInto=function(tt,rt){var nt=rt;return tt[rt++]=CharCodes$1.Percent,tt[rt++]=CharCodes$1.P,tt[rt++]=CharCodes$1.D,tt[rt++]=CharCodes$1.F,tt[rt++]=CharCodes$1.Dash,rt+=copyStringIntoBuffer(this.major,tt,rt),tt[rt++]=CharCodes$1.Period,rt+=copyStringIntoBuffer(this.minor,tt,rt),tt[rt++]=CharCodes$1.Newline,tt[rt++]=CharCodes$1.Percent,tt[rt++]=129,tt[rt++]=129,tt[rt++]=129,tt[rt++]=129,rt-nt},et.forVersion=function(tt,rt){return new et(tt,rt)},et}(),PDFObject=function(){function et(){}return et.prototype.clone=function(tt){throw new MethodNotImplementedError(this.constructor.name,"clone")},et.prototype.toString=function(){throw new MethodNotImplementedError(this.constructor.name,"toString")},et.prototype.sizeInBytes=function(){throw new MethodNotImplementedError(this.constructor.name,"sizeInBytes")},et.prototype.copyBytesInto=function(tt,rt){throw new MethodNotImplementedError(this.constructor.name,"copyBytesInto")},et}(),PDFNumber=function(et){__extends(tt,et);function tt(rt){var nt=et.call(this)||this;return nt.numberValue=rt,nt.stringValue=numberToString(rt),nt}return tt.prototype.asNumber=function(){return this.numberValue},tt.prototype.value=function(){return this.numberValue},tt.prototype.clone=function(){return tt.of(this.numberValue)},tt.prototype.toString=function(){return this.stringValue},tt.prototype.sizeInBytes=function(){return this.stringValue.length},tt.prototype.copyBytesInto=function(rt,nt){return nt+=copyStringIntoBuffer(this.stringValue,rt,nt),this.stringValue.length},tt.of=function(rt){return new tt(rt)},tt}(PDFObject),PDFArray=function(et){__extends(tt,et);function tt(rt){var nt=et.call(this)||this;return nt.array=[],nt.context=rt,nt}return tt.prototype.size=function(){return this.array.length},tt.prototype.push=function(rt){this.array.push(rt)},tt.prototype.insert=function(rt,nt){this.array.splice(rt,0,nt)},tt.prototype.indexOf=function(rt){var nt=this.array.indexOf(rt);return nt===-1?void 0:nt},tt.prototype.remove=function(rt){this.array.splice(rt,1)},tt.prototype.set=function(rt,nt){this.array[rt]=nt},tt.prototype.get=function(rt){return this.array[rt]},tt.prototype.lookupMaybe=function(rt){for(var nt,at=[],it=1;it<arguments.length;it++)at[it-1]=arguments[it];return(nt=this.context).lookupMaybe.apply(nt,__spreadArrays([this.get(rt)],at))},tt.prototype.lookup=function(rt){for(var nt,at=[],it=1;it<arguments.length;it++)at[it-1]=arguments[it];return(nt=this.context).lookup.apply(nt,__spreadArrays([this.get(rt)],at))},tt.prototype.asRectangle=function(){if(this.size()!==4)throw new PDFArrayIsNotRectangleError(this.size());var rt=this.lookup(0,PDFNumber).asNumber(),nt=this.lookup(1,PDFNumber).asNumber(),at=this.lookup(2,PDFNumber).asNumber(),it=this.lookup(3,PDFNumber).asNumber(),st=rt,ot=nt,lt=at-rt,ct=it-nt;return{x:st,y:ot,width:lt,height:ct}},tt.prototype.asArray=function(){return this.array.slice()},tt.prototype.clone=function(rt){for(var nt=tt.withContext(rt||this.context),at=0,it=this.size();at<it;at++)nt.push(this.array[at]);return nt},tt.prototype.toString=function(){for(var rt="[ ",nt=0,at=this.size();nt<at;nt++)rt+=this.get(nt).toString(),rt+=" ";return rt+="]",rt},tt.prototype.sizeInBytes=function(){for(var rt=3,nt=0,at=this.size();nt<at;nt++)rt+=this.get(nt).sizeInBytes()+1;return rt},tt.prototype.copyBytesInto=function(rt,nt){var at=nt;rt[nt++]=CharCodes$1.LeftSquareBracket,rt[nt++]=CharCodes$1.Space;for(var it=0,st=this.size();it<st;it++)nt+=this.get(it).copyBytesInto(rt,nt),rt[nt++]=CharCodes$1.Space;return rt[nt++]=CharCodes$1.RightSquareBracket,nt-at},tt.prototype.scalePDFNumbers=function(rt,nt){for(var at=0,it=this.size();at<it;at++){var st=this.lookup(at);if(st instanceof PDFNumber){var ot=at%2===0?rt:nt;this.set(at,PDFNumber.of(st.asNumber()*ot))}}},tt.withContext=function(rt){return new tt(rt)},tt}(PDFObject),ENFORCER$2={},PDFBool=function(et){__extends(tt,et);function tt(rt,nt){var at=this;if(rt!==ENFORCER$2)throw new PrivateConstructorError("PDFBool");return at=et.call(this)||this,at.value=nt,at}return tt.prototype.asBoolean=function(){return this.value},tt.prototype.clone=function(){return this},tt.prototype.toString=function(){return String(this.value)},tt.prototype.sizeInBytes=function(){return this.value?4:5},tt.prototype.copyBytesInto=function(rt,nt){return this.value?(rt[nt++]=CharCodes$1.t,rt[nt++]=CharCodes$1.r,rt[nt++]=CharCodes$1.u,rt[nt++]=CharCodes$1.e,4):(rt[nt++]=CharCodes$1.f,rt[nt++]=CharCodes$1.a,rt[nt++]=CharCodes$1.l,rt[nt++]=CharCodes$1.s,rt[nt++]=CharCodes$1.e,5)},tt.True=new tt(ENFORCER$2,!0),tt.False=new tt(ENFORCER$2,!1),tt}(PDFObject),IsDelimiter=new Uint8Array(256);IsDelimiter[CharCodes$1.LeftParen]=1;IsDelimiter[CharCodes$1.RightParen]=1;IsDelimiter[CharCodes$1.LessThan]=1;IsDelimiter[CharCodes$1.GreaterThan]=1;IsDelimiter[CharCodes$1.LeftSquareBracket]=1;IsDelimiter[CharCodes$1.RightSquareBracket]=1;IsDelimiter[CharCodes$1.LeftCurly]=1;IsDelimiter[CharCodes$1.RightCurly]=1;IsDelimiter[CharCodes$1.ForwardSlash]=1;IsDelimiter[CharCodes$1.Percent]=1;var IsWhitespace=new Uint8Array(256);IsWhitespace[CharCodes$1.Null]=1;IsWhitespace[CharCodes$1.Tab]=1;IsWhitespace[CharCodes$1.Newline]=1;IsWhitespace[CharCodes$1.FormFeed]=1;IsWhitespace[CharCodes$1.CarriageReturn]=1;IsWhitespace[CharCodes$1.Space]=1;var IsIrregular=new Uint8Array(256);for(var idx$1=0,len$1=256;idx$1<len$1;idx$1++)IsIrregular[idx$1]=IsWhitespace[idx$1]||IsDelimiter[idx$1]?1:0;IsIrregular[CharCodes$1.Hash]=1;var decodeName=function(et){return et.replace(/#([\dABCDEF]{2})/g,function(tt,rt){return charFromHexCode(rt)})},isRegularChar=function(et){return et>=CharCodes$1.ExclamationPoint&&et<=CharCodes$1.Tilde&&!IsIrregular[et]},ENFORCER$1={},pool$1=new Map,PDFName=function(et){__extends(tt,et);function tt(rt,nt){var at=this;if(rt!==ENFORCER$1)throw new PrivateConstructorError("PDFName");at=et.call(this)||this;for(var it="/",st=0,ot=nt.length;st<ot;st++){var lt=nt[st],ct=toCharCode(lt);it+=isRegularChar(ct)?lt:"#"+toHexString(ct)}return at.encodedName=it,at}return tt.prototype.asBytes=function(){for(var rt=[],nt="",at=!1,it=function(dt){dt!==void 0&&rt.push(dt),at=!1},st=1,ot=this.encodedName.length;st<ot;st++){var lt=this.encodedName[st],ct=toCharCode(lt),ut=this.encodedName[st+1];at?ct>=CharCodes$1.Zero&&ct<=CharCodes$1.Nine||ct>=CharCodes$1.a&&ct<=CharCodes$1.f||ct>=CharCodes$1.A&&ct<=CharCodes$1.F?(nt+=lt,(nt.length===2||!(ut>="0"&&ut<="9"||ut>="a"&&ut<="f"||ut>="A"&&ut<="F"))&&(it(parseInt(nt,16)),nt="")):it(ct):ct===CharCodes$1.Hash?at=!0:it(ct)}return new Uint8Array(rt)},tt.prototype.decodeText=function(){var rt=this.asBytes();return String.fromCharCode.apply(String,Array.from(rt))},tt.prototype.asString=function(){return this.encodedName},tt.prototype.value=function(){return this.encodedName},tt.prototype.clone=function(){return this},tt.prototype.toString=function(){return this.encodedName},tt.prototype.sizeInBytes=function(){return this.encodedName.length},tt.prototype.copyBytesInto=function(rt,nt){return nt+=copyStringIntoBuffer(this.encodedName,rt,nt),this.encodedName.length},tt.of=function(rt){var nt=decodeName(rt),at=pool$1.get(nt);return at||(at=new tt(ENFORCER$1,nt),pool$1.set(nt,at)),at},tt.Length=tt.of("Length"),tt.FlateDecode=tt.of("FlateDecode"),tt.Resources=tt.of("Resources"),tt.Font=tt.of("Font"),tt.XObject=tt.of("XObject"),tt.ExtGState=tt.of("ExtGState"),tt.Contents=tt.of("Contents"),tt.Type=tt.of("Type"),tt.Parent=tt.of("Parent"),tt.MediaBox=tt.of("MediaBox"),tt.Page=tt.of("Page"),tt.Annots=tt.of("Annots"),tt.TrimBox=tt.of("TrimBox"),tt.ArtBox=tt.of("ArtBox"),tt.BleedBox=tt.of("BleedBox"),tt.CropBox=tt.of("CropBox"),tt.Rotate=tt.of("Rotate"),tt.Title=tt.of("Title"),tt.Author=tt.of("Author"),tt.Subject=tt.of("Subject"),tt.Creator=tt.of("Creator"),tt.Keywords=tt.of("Keywords"),tt.Producer=tt.of("Producer"),tt.CreationDate=tt.of("CreationDate"),tt.ModDate=tt.of("ModDate"),tt}(PDFObject),PDFNull=function(et){__extends(tt,et);function tt(){return et!==null&&et.apply(this,arguments)||this}return tt.prototype.asNull=function(){return null},tt.prototype.clone=function(){return this},tt.prototype.toString=function(){return"null"},tt.prototype.sizeInBytes=function(){return 4},tt.prototype.copyBytesInto=function(rt,nt){return rt[nt++]=CharCodes$1.n,rt[nt++]=CharCodes$1.u,rt[nt++]=CharCodes$1.l,rt[nt++]=CharCodes$1.l,4},tt}(PDFObject);const PDFNull$1=new PDFNull;var PDFDict=function(et){__extends(tt,et);function tt(rt,nt){var at=et.call(this)||this;return at.dict=rt,at.context=nt,at}return tt.prototype.keys=function(){return Array.from(this.dict.keys())},tt.prototype.values=function(){return Array.from(this.dict.values())},tt.prototype.entries=function(){return Array.from(this.dict.entries())},tt.prototype.set=function(rt,nt){this.dict.set(rt,nt)},tt.prototype.get=function(rt,nt){nt===void 0&&(nt=!1);var at=this.dict.get(rt);if(!(at===PDFNull$1&&!nt))return at},tt.prototype.has=function(rt){var nt=this.dict.get(rt);return nt!==void 0&&nt!==PDFNull$1},tt.prototype.lookupMaybe=function(rt){for(var nt,at=[],it=1;it<arguments.length;it++)at[it-1]=arguments[it];var st=at.includes(PDFNull$1),ot=(nt=this.context).lookupMaybe.apply(nt,__spreadArrays([this.get(rt,st)],at));if(!(ot===PDFNull$1&&!st))return ot},tt.prototype.lookup=function(rt){for(var nt,at=[],it=1;it<arguments.length;it++)at[it-1]=arguments[it];var st=at.includes(PDFNull$1),ot=(nt=this.context).lookup.apply(nt,__spreadArrays([this.get(rt,st)],at));if(!(ot===PDFNull$1&&!st))return ot},tt.prototype.delete=function(rt){return this.dict.delete(rt)},tt.prototype.asMap=function(){return new Map(this.dict)},tt.prototype.uniqueKey=function(rt){rt===void 0&&(rt="");for(var nt=this.keys(),at=PDFName.of(this.context.addRandomSuffix(rt,10));nt.includes(at);)at=PDFName.of(this.context.addRandomSuffix(rt,10));return at},tt.prototype.clone=function(rt){for(var nt=tt.withContext(rt||this.context),at=this.entries(),it=0,st=at.length;it<st;it++){var ot=at[it],lt=ot[0],ct=ot[1];nt.set(lt,ct)}return nt},tt.prototype.toString=function(){for(var rt=`<<
`,nt=this.entries(),at=0,it=nt.length;at<it;at++){var st=nt[at],ot=st[0],lt=st[1];rt+=ot.toString()+" "+lt.toString()+`
`}return rt+=">>",rt},tt.prototype.sizeInBytes=function(){for(var rt=5,nt=this.entries(),at=0,it=nt.length;at<it;at++){var st=nt[at],ot=st[0],lt=st[1];rt+=ot.sizeInBytes()+lt.sizeInBytes()+2}return rt},tt.prototype.copyBytesInto=function(rt,nt){var at=nt;rt[nt++]=CharCodes$1.LessThan,rt[nt++]=CharCodes$1.LessThan,rt[nt++]=CharCodes$1.Newline;for(var it=this.entries(),st=0,ot=it.length;st<ot;st++){var lt=it[st],ct=lt[0],ut=lt[1];nt+=ct.copyBytesInto(rt,nt),rt[nt++]=CharCodes$1.Space,nt+=ut.copyBytesInto(rt,nt),rt[nt++]=CharCodes$1.Newline}return rt[nt++]=CharCodes$1.GreaterThan,rt[nt++]=CharCodes$1.GreaterThan,nt-at},tt.withContext=function(rt){return new tt(new Map,rt)},tt.fromMapWithContext=function(rt,nt){return new tt(rt,nt)},tt}(PDFObject),PDFStream=function(et){__extends(tt,et);function tt(rt){var nt=et.call(this)||this;return nt.dict=rt,nt}return tt.prototype.clone=function(rt){throw new MethodNotImplementedError(this.constructor.name,"clone")},tt.prototype.getContentsString=function(){throw new MethodNotImplementedError(this.constructor.name,"getContentsString")},tt.prototype.getContents=function(){throw new MethodNotImplementedError(this.constructor.name,"getContents")},tt.prototype.getContentsSize=function(){throw new MethodNotImplementedError(this.constructor.name,"getContentsSize")},tt.prototype.updateDict=function(){var rt=this.getContentsSize();this.dict.set(PDFName.Length,PDFNumber.of(rt))},tt.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},tt.prototype.toString=function(){this.updateDict();var rt=this.dict.toString();return rt+=`
stream
`,rt+=this.getContentsString(),rt+=`
endstream`,rt},tt.prototype.copyBytesInto=function(rt,nt){this.updateDict();var at=nt;nt+=this.dict.copyBytesInto(rt,nt),rt[nt++]=CharCodes$1.Newline,rt[nt++]=CharCodes$1.s,rt[nt++]=CharCodes$1.t,rt[nt++]=CharCodes$1.r,rt[nt++]=CharCodes$1.e,rt[nt++]=CharCodes$1.a,rt[nt++]=CharCodes$1.m,rt[nt++]=CharCodes$1.Newline;for(var it=this.getContents(),st=0,ot=it.length;st<ot;st++)rt[nt++]=it[st];return rt[nt++]=CharCodes$1.Newline,rt[nt++]=CharCodes$1.e,rt[nt++]=CharCodes$1.n,rt[nt++]=CharCodes$1.d,rt[nt++]=CharCodes$1.s,rt[nt++]=CharCodes$1.t,rt[nt++]=CharCodes$1.r,rt[nt++]=CharCodes$1.e,rt[nt++]=CharCodes$1.a,rt[nt++]=CharCodes$1.m,nt-at},tt}(PDFObject),PDFRawStream=function(et){__extends(tt,et);function tt(rt,nt){var at=et.call(this,rt)||this;return at.contents=nt,at}return tt.prototype.asUint8Array=function(){return this.contents.slice()},tt.prototype.clone=function(rt){return tt.of(this.dict.clone(rt),this.contents.slice())},tt.prototype.getContentsString=function(){return arrayAsString(this.contents)},tt.prototype.getContents=function(){return this.contents},tt.prototype.getContentsSize=function(){return this.contents.length},tt.of=function(rt,nt){return new tt(rt,nt)},tt}(PDFStream),ENFORCER={},pool=new Map,PDFRef=function(et){__extends(tt,et);function tt(rt,nt,at){var it=this;if(rt!==ENFORCER)throw new PrivateConstructorError("PDFRef");return it=et.call(this)||this,it.objectNumber=nt,it.generationNumber=at,it.tag=nt+" "+at+" R",it}return tt.prototype.clone=function(){return this},tt.prototype.toString=function(){return this.tag},tt.prototype.sizeInBytes=function(){return this.tag.length},tt.prototype.copyBytesInto=function(rt,nt){return nt+=copyStringIntoBuffer(this.tag,rt,nt),this.tag.length},tt.of=function(rt,nt){nt===void 0&&(nt=0);var at=rt+" "+nt+" R",it=pool.get(at);return it||(it=new tt(ENFORCER,rt,nt),pool.set(at,it)),it},tt}(PDFObject),PDFOperator=function(){function et(tt,rt){this.name=tt,this.args=rt||[]}return et.prototype.clone=function(tt){for(var rt=new Array(this.args.length),nt=0,at=rt.length;nt<at;nt++){var it=this.args[nt];rt[nt]=it instanceof PDFObject?it.clone(tt):it}return et.of(this.name,rt)},et.prototype.toString=function(){for(var tt="",rt=0,nt=this.args.length;rt<nt;rt++)tt+=String(this.args[rt])+" ";return tt+=this.name,tt},et.prototype.sizeInBytes=function(){for(var tt=0,rt=0,nt=this.args.length;rt<nt;rt++){var at=this.args[rt];tt+=(at instanceof PDFObject?at.sizeInBytes():at.length)+1}return tt+=this.name.length,tt},et.prototype.copyBytesInto=function(tt,rt){for(var nt=rt,at=0,it=this.args.length;at<it;at++){var st=this.args[at];st instanceof PDFObject?rt+=st.copyBytesInto(tt,rt):rt+=copyStringIntoBuffer(st,tt,rt),tt[rt++]=CharCodes$1.Space}return rt+=copyStringIntoBuffer(this.name,tt,rt),rt-nt},et.of=function(tt,rt){return new et(tt,rt)},et}(),PDFOperatorNames;(function(et){et.NonStrokingColor="sc",et.NonStrokingColorN="scn",et.NonStrokingColorRgb="rg",et.NonStrokingColorGray="g",et.NonStrokingColorCmyk="k",et.NonStrokingColorspace="cs",et.StrokingColor="SC",et.StrokingColorN="SCN",et.StrokingColorRgb="RG",et.StrokingColorGray="G",et.StrokingColorCmyk="K",et.StrokingColorspace="CS",et.BeginMarkedContentSequence="BDC",et.BeginMarkedContent="BMC",et.EndMarkedContent="EMC",et.MarkedContentPointWithProps="DP",et.MarkedContentPoint="MP",et.DrawObject="Do",et.ConcatTransformationMatrix="cm",et.PopGraphicsState="Q",et.PushGraphicsState="q",et.SetFlatness="i",et.SetGraphicsStateParams="gs",et.SetLineCapStyle="J",et.SetLineDashPattern="d",et.SetLineJoinStyle="j",et.SetLineMiterLimit="M",et.SetLineWidth="w",et.SetTextMatrix="Tm",et.SetRenderingIntent="ri",et.AppendRectangle="re",et.BeginInlineImage="BI",et.BeginInlineImageData="ID",et.EndInlineImage="EI",et.ClipEvenOdd="W*",et.ClipNonZero="W",et.CloseAndStroke="s",et.CloseFillEvenOddAndStroke="b*",et.CloseFillNonZeroAndStroke="b",et.ClosePath="h",et.AppendBezierCurve="c",et.CurveToReplicateFinalPoint="y",et.CurveToReplicateInitialPoint="v",et.EndPath="n",et.FillEvenOddAndStroke="B*",et.FillEvenOdd="f*",et.FillNonZeroAndStroke="B",et.FillNonZero="f",et.LegacyFillNonZero="F",et.LineTo="l",et.MoveTo="m",et.ShadingFill="sh",et.StrokePath="S",et.BeginText="BT",et.EndText="ET",et.MoveText="Td",et.MoveTextSetLeading="TD",et.NextLine="T*",et.SetCharacterSpacing="Tc",et.SetFontAndSize="Tf",et.SetTextHorizontalScaling="Tz",et.SetTextLineHeight="TL",et.SetTextRenderingMode="Tr",et.SetTextRise="Ts",et.SetWordSpacing="Tw",et.ShowText="Tj",et.ShowTextAdjusted="TJ",et.ShowTextLine="'",et.ShowTextLineAndSpace='"',et.Type3D0="d0",et.Type3D1="d1",et.BeginCompatibilitySection="BX",et.EndCompatibilitySection="EX"})(PDFOperatorNames||(PDFOperatorNames={}));const Ops=PDFOperatorNames;var PDFFlateStream=function(et){__extends(tt,et);function tt(rt,nt){var at=et.call(this,rt)||this;return at.computeContents=function(){var it=at.getUnencodedContents();return at.encode?pako$1.deflate(it):it},at.encode=nt,nt&&rt.set(PDFName.of("Filter"),PDFName.of("FlateDecode")),at.contentsCache=Cache.populatedBy(at.computeContents),at}return tt.prototype.getContents=function(){return this.contentsCache.access()},tt.prototype.getContentsSize=function(){return this.contentsCache.access().length},tt.prototype.getUnencodedContents=function(){throw new MethodNotImplementedError(this.constructor.name,"getUnencodedContents")},tt}(PDFStream),PDFContentStream=function(et){__extends(tt,et);function tt(rt,nt,at){at===void 0&&(at=!0);var it=et.call(this,rt,at)||this;return it.operators=nt,it}return tt.prototype.push=function(){for(var rt,nt=[],at=0;at<arguments.length;at++)nt[at]=arguments[at];(rt=this.operators).push.apply(rt,nt)},tt.prototype.clone=function(rt){for(var nt=new Array(this.operators.length),at=0,it=this.operators.length;at<it;at++)nt[at]=this.operators[at].clone(rt);var st=this,ot=st.dict,lt=st.encode;return tt.of(ot.clone(rt),nt,lt)},tt.prototype.getContentsString=function(){for(var rt="",nt=0,at=this.operators.length;nt<at;nt++)rt+=this.operators[nt]+`
`;return rt},tt.prototype.getUnencodedContents=function(){for(var rt=new Uint8Array(this.getUnencodedContentsSize()),nt=0,at=0,it=this.operators.length;at<it;at++)nt+=this.operators[at].copyBytesInto(rt,nt),rt[nt++]=CharCodes$1.Newline;return rt},tt.prototype.getUnencodedContentsSize=function(){for(var rt=0,nt=0,at=this.operators.length;nt<at;nt++)rt+=this.operators[nt].sizeInBytes()+1;return rt},tt.of=function(rt,nt,at){return at===void 0&&(at=!0),new tt(rt,nt,at)},tt}(PDFFlateStream),SimpleRNG=function(){function et(tt){this.seed=tt}return et.prototype.nextInt=function(){var tt=Math.sin(this.seed++)*1e4;return tt-Math.floor(tt)},et.withSeed=function(tt){return new et(tt)},et}(),byAscendingObjectNumber=function(et,tt){var rt=et[0],nt=tt[0];return rt.objectNumber-nt.objectNumber},PDFContext=function(){function et(){this.largestObjectNumber=0,this.header=PDFHeader.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=SimpleRNG.withSeed(1)}return et.prototype.assign=function(tt,rt){this.indirectObjects.set(tt,rt),tt.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=tt.objectNumber)},et.prototype.nextRef=function(){return this.largestObjectNumber+=1,PDFRef.of(this.largestObjectNumber)},et.prototype.register=function(tt){var rt=this.nextRef();return this.assign(rt,tt),rt},et.prototype.delete=function(tt){return this.indirectObjects.delete(tt)},et.prototype.lookupMaybe=function(tt){for(var rt=[],nt=1;nt<arguments.length;nt++)rt[nt-1]=arguments[nt];var at=rt.includes(PDFNull$1),it=tt instanceof PDFRef?this.indirectObjects.get(tt):tt;if(!(!it||it===PDFNull$1&&!at)){for(var st=0,ot=rt.length;st<ot;st++){var lt=rt[st];if(lt===PDFNull$1){if(it===PDFNull$1)return it}else if(it instanceof lt)return it}throw new UnexpectedObjectTypeError(rt,it)}},et.prototype.lookup=function(tt){for(var rt=[],nt=1;nt<arguments.length;nt++)rt[nt-1]=arguments[nt];var at=tt instanceof PDFRef?this.indirectObjects.get(tt):tt;if(rt.length===0)return at;for(var it=0,st=rt.length;it<st;it++){var ot=rt[it];if(ot===PDFNull$1){if(at===PDFNull$1)return at}else if(at instanceof ot)return at}throw new UnexpectedObjectTypeError(rt,at)},et.prototype.getObjectRef=function(tt){for(var rt=Array.from(this.indirectObjects.entries()),nt=0,at=rt.length;nt<at;nt++){var it=rt[nt],st=it[0],ot=it[1];if(ot===tt)return st}},et.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(byAscendingObjectNumber)},et.prototype.obj=function(tt){if(tt instanceof PDFObject)return tt;if(tt==null)return PDFNull$1;if(typeof tt=="string")return PDFName.of(tt);if(typeof tt=="number")return PDFNumber.of(tt);if(typeof tt=="boolean")return tt?PDFBool.True:PDFBool.False;if(Array.isArray(tt)){for(var rt=PDFArray.withContext(this),nt=0,at=tt.length;nt<at;nt++)rt.push(this.obj(tt[nt]));return rt}else{for(var it=PDFDict.withContext(this),st=Object.keys(tt),nt=0,at=st.length;nt<at;nt++){var ot=st[nt],lt=tt[ot];lt!==void 0&&it.set(PDFName.of(ot),this.obj(lt))}return it}},et.prototype.stream=function(tt,rt){return rt===void 0&&(rt={}),PDFRawStream.of(this.obj(rt),typedArrayFor(tt))},et.prototype.flateStream=function(tt,rt){return rt===void 0&&(rt={}),this.stream(pako$1.deflate(typedArrayFor(tt)),__assign(__assign({},rt),{Filter:"FlateDecode"}))},et.prototype.contentStream=function(tt,rt){return rt===void 0&&(rt={}),PDFContentStream.of(this.obj(rt),tt)},et.prototype.formXObject=function(tt,rt){return rt===void 0&&(rt={}),this.contentStream(tt,__assign(__assign({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},rt),{Type:"XObject",Subtype:"Form"}))},et.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var tt=this.obj({}),rt=PDFOperator.of(Ops.PushGraphicsState),nt=PDFContentStream.of(tt,[rt]);return this.pushGraphicsStateContentStreamRef=this.register(nt),this.pushGraphicsStateContentStreamRef},et.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var tt=this.obj({}),rt=PDFOperator.of(Ops.PopGraphicsState),nt=PDFContentStream.of(tt,[rt]);return this.popGraphicsStateContentStreamRef=this.register(nt),this.popGraphicsStateContentStreamRef},et.prototype.addRandomSuffix=function(tt,rt){return rt===void 0&&(rt=4),tt+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,rt))},et.create=function(){return new et},et}(),PDFPageLeaf=function(et){__extends(tt,et);function tt(rt,nt,at){at===void 0&&(at=!0);var it=et.call(this,rt,nt)||this;return it.normalized=!1,it.autoNormalizeCTM=at,it}return tt.prototype.clone=function(rt){for(var nt=tt.fromMapWithContext(new Map,rt||this.context,this.autoNormalizeCTM),at=this.entries(),it=0,st=at.length;it<st;it++){var ot=at[it],lt=ot[0],ct=ot[1];nt.set(lt,ct)}return nt},tt.prototype.Parent=function(){return this.lookupMaybe(PDFName.Parent,PDFDict)},tt.prototype.Contents=function(){return this.lookup(PDFName.of("Contents"))},tt.prototype.Annots=function(){return this.lookupMaybe(PDFName.Annots,PDFArray)},tt.prototype.BleedBox=function(){return this.lookupMaybe(PDFName.BleedBox,PDFArray)},tt.prototype.TrimBox=function(){return this.lookupMaybe(PDFName.TrimBox,PDFArray)},tt.prototype.ArtBox=function(){return this.lookupMaybe(PDFName.ArtBox,PDFArray)},tt.prototype.Resources=function(){var rt=this.getInheritableAttribute(PDFName.Resources);return this.context.lookupMaybe(rt,PDFDict)},tt.prototype.MediaBox=function(){var rt=this.getInheritableAttribute(PDFName.MediaBox);return this.context.lookup(rt,PDFArray)},tt.prototype.CropBox=function(){var rt=this.getInheritableAttribute(PDFName.CropBox);return this.context.lookupMaybe(rt,PDFArray)},tt.prototype.Rotate=function(){var rt=this.getInheritableAttribute(PDFName.Rotate);return this.context.lookupMaybe(rt,PDFNumber)},tt.prototype.getInheritableAttribute=function(rt){var nt;return this.ascend(function(at){nt||(nt=at.get(rt))}),nt},tt.prototype.setParent=function(rt){this.set(PDFName.Parent,rt)},tt.prototype.addContentStream=function(rt){var nt=this.normalizedEntries().Contents||this.context.obj([]);this.set(PDFName.Contents,nt),nt.push(rt)},tt.prototype.wrapContentStreams=function(rt,nt){var at=this.Contents();return at instanceof PDFArray?(at.insert(0,rt),at.push(nt),!0):!1},tt.prototype.addAnnot=function(rt){var nt=this.normalizedEntries().Annots;nt.push(rt)},tt.prototype.removeAnnot=function(rt){var nt=this.normalizedEntries().Annots,at=nt.indexOf(rt);at!==void 0&&nt.remove(at)},tt.prototype.setFontDictionary=function(rt,nt){var at=this.normalizedEntries().Font;at.set(rt,nt)},tt.prototype.newFontDictionaryKey=function(rt){var nt=this.normalizedEntries().Font;return nt.uniqueKey(rt)},tt.prototype.newFontDictionary=function(rt,nt){var at=this.newFontDictionaryKey(rt);return this.setFontDictionary(at,nt),at},tt.prototype.setXObject=function(rt,nt){var at=this.normalizedEntries().XObject;at.set(rt,nt)},tt.prototype.newXObjectKey=function(rt){var nt=this.normalizedEntries().XObject;return nt.uniqueKey(rt)},tt.prototype.newXObject=function(rt,nt){var at=this.newXObjectKey(rt);return this.setXObject(at,nt),at},tt.prototype.setExtGState=function(rt,nt){var at=this.normalizedEntries().ExtGState;at.set(rt,nt)},tt.prototype.newExtGStateKey=function(rt){var nt=this.normalizedEntries().ExtGState;return nt.uniqueKey(rt)},tt.prototype.newExtGState=function(rt,nt){var at=this.newExtGStateKey(rt);return this.setExtGState(at,nt),at},tt.prototype.ascend=function(rt){rt(this);var nt=this.Parent();nt&&nt.ascend(rt)},tt.prototype.normalize=function(){if(!this.normalized){var rt=this.context,nt=this.get(PDFName.Contents),at=this.context.lookup(nt);at instanceof PDFStream&&this.set(PDFName.Contents,rt.obj([nt])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var it=this.getInheritableAttribute(PDFName.Resources),st=rt.lookupMaybe(it,PDFDict)||rt.obj({});this.set(PDFName.Resources,st);var ot=st.lookupMaybe(PDFName.Font,PDFDict)||rt.obj({});st.set(PDFName.Font,ot);var lt=st.lookupMaybe(PDFName.XObject,PDFDict)||rt.obj({});st.set(PDFName.XObject,lt);var ct=st.lookupMaybe(PDFName.ExtGState,PDFDict)||rt.obj({});st.set(PDFName.ExtGState,ct);var ut=this.Annots()||rt.obj([]);this.set(PDFName.Annots,ut),this.normalized=!0}},tt.prototype.normalizedEntries=function(){this.normalize();var rt=this.Annots(),nt=this.Resources(),at=this.Contents();return{Annots:rt,Resources:nt,Contents:at,Font:nt.lookup(PDFName.Font,PDFDict),XObject:nt.lookup(PDFName.XObject,PDFDict),ExtGState:nt.lookup(PDFName.ExtGState,PDFDict)}},tt.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],tt.withContextAndParent=function(rt,nt){var at=new Map;return at.set(PDFName.Type,PDFName.Page),at.set(PDFName.Parent,nt),at.set(PDFName.Resources,rt.obj({})),at.set(PDFName.MediaBox,rt.obj([0,0,612,792])),new tt(at,rt,!1)},tt.fromMapWithContext=function(rt,nt,at){return at===void 0&&(at=!0),new tt(rt,nt,at)},tt}(PDFDict),PDFObjectCopier=function(){function et(tt,rt){var nt=this;this.traversedObjects=new Map,this.copy=function(at){return at instanceof PDFPageLeaf?nt.copyPDFPage(at):at instanceof PDFDict?nt.copyPDFDict(at):at instanceof PDFArray?nt.copyPDFArray(at):at instanceof PDFStream?nt.copyPDFStream(at):at instanceof PDFRef?nt.copyPDFIndirectObject(at):at.clone()},this.copyPDFPage=function(at){for(var it=at.clone(),st=PDFPageLeaf.InheritableEntries,ot=0,lt=st.length;ot<lt;ot++){var ct=PDFName.of(st[ot]),ut=it.getInheritableAttribute(ct);!it.get(ct)&&ut&&it.set(ct,ut)}return it.delete(PDFName.of("Parent")),nt.copyPDFDict(it)},this.copyPDFDict=function(at){if(nt.traversedObjects.has(at))return nt.traversedObjects.get(at);var it=at.clone(nt.dest);nt.traversedObjects.set(at,it);for(var st=at.entries(),ot=0,lt=st.length;ot<lt;ot++){var ct=st[ot],ut=ct[0],dt=ct[1];it.set(ut,nt.copy(dt))}return it},this.copyPDFArray=function(at){if(nt.traversedObjects.has(at))return nt.traversedObjects.get(at);var it=at.clone(nt.dest);nt.traversedObjects.set(at,it);for(var st=0,ot=at.size();st<ot;st++){var lt=at.get(st);it.set(st,nt.copy(lt))}return it},this.copyPDFStream=function(at){if(nt.traversedObjects.has(at))return nt.traversedObjects.get(at);var it=at.clone(nt.dest);nt.traversedObjects.set(at,it);for(var st=at.dict.entries(),ot=0,lt=st.length;ot<lt;ot++){var ct=st[ot],ut=ct[0],dt=ct[1];it.dict.set(ut,nt.copy(dt))}return it},this.copyPDFIndirectObject=function(at){var it=nt.traversedObjects.has(at);if(!it){var st=nt.dest.nextRef();nt.traversedObjects.set(at,st);var ot=nt.src.lookup(at);if(ot){var lt=nt.copy(ot);nt.dest.assign(st,lt)}}return nt.traversedObjects.get(at)},this.src=tt,this.dest=rt}return et.for=function(tt,rt){return new et(tt,rt)},et}(),PDFCrossRefSection=function(){function et(tt){this.subsections=tt?[[tt]]:[],this.chunkIdx=0,this.chunkLength=tt?1:0}return et.prototype.addEntry=function(tt,rt){this.append({ref:tt,offset:rt,deleted:!1})},et.prototype.addDeletedEntry=function(tt,rt){this.append({ref:tt,offset:rt,deleted:!0})},et.prototype.toString=function(){for(var tt=`xref
`,rt=0,nt=this.subsections.length;rt<nt;rt++){var at=this.subsections[rt];tt+=at[0].ref.objectNumber+" "+at.length+`
`;for(var it=0,st=at.length;it<st;it++){var ot=at[it];tt+=padStart$1(String(ot.offset),10,"0"),tt+=" ",tt+=padStart$1(String(ot.ref.generationNumber),5,"0"),tt+=" ",tt+=ot.deleted?"f":"n",tt+=` 
`}}return tt},et.prototype.sizeInBytes=function(){for(var tt=5,rt=0,nt=this.subsections.length;rt<nt;rt++){var at=this.subsections[rt],it=at.length,st=at[0];tt+=2,tt+=String(st.ref.objectNumber).length,tt+=String(it).length,tt+=20*it}return tt},et.prototype.copyBytesInto=function(tt,rt){var nt=rt;return tt[rt++]=CharCodes$1.x,tt[rt++]=CharCodes$1.r,tt[rt++]=CharCodes$1.e,tt[rt++]=CharCodes$1.f,tt[rt++]=CharCodes$1.Newline,rt+=this.copySubsectionsIntoBuffer(this.subsections,tt,rt),rt-nt},et.prototype.copySubsectionsIntoBuffer=function(tt,rt,nt){for(var at=nt,it=tt.length,st=0;st<it;st++){var ot=this.subsections[st],lt=String(ot[0].ref.objectNumber);nt+=copyStringIntoBuffer(lt,rt,nt),rt[nt++]=CharCodes$1.Space;var ct=String(ot.length);nt+=copyStringIntoBuffer(ct,rt,nt),rt[nt++]=CharCodes$1.Newline,nt+=this.copyEntriesIntoBuffer(ot,rt,nt)}return nt-at},et.prototype.copyEntriesIntoBuffer=function(tt,rt,nt){for(var at=tt.length,it=0;it<at;it++){var st=tt[it],ot=padStart$1(String(st.offset),10,"0");nt+=copyStringIntoBuffer(ot,rt,nt),rt[nt++]=CharCodes$1.Space;var lt=padStart$1(String(st.ref.generationNumber),5,"0");nt+=copyStringIntoBuffer(lt,rt,nt),rt[nt++]=CharCodes$1.Space,rt[nt++]=st.deleted?CharCodes$1.f:CharCodes$1.n,rt[nt++]=CharCodes$1.Space,rt[nt++]=CharCodes$1.Newline}return 20*at},et.prototype.append=function(tt){if(this.chunkLength===0){this.subsections.push([tt]),this.chunkIdx=0,this.chunkLength=1;return}var rt=this.subsections[this.chunkIdx],nt=rt[this.chunkLength-1];tt.ref.objectNumber-nt.ref.objectNumber>1?(this.subsections.push([tt]),this.chunkIdx+=1,this.chunkLength=1):(rt.push(tt),this.chunkLength+=1)},et.create=function(){return new et({ref:PDFRef.of(0,65535),offset:0,deleted:!0})},et.createEmpty=function(){return new et},et}(),PDFTrailer=function(){function et(tt){this.lastXRefOffset=String(tt)}return et.prototype.toString=function(){return`startxref
`+this.lastXRefOffset+`
%%EOF`},et.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},et.prototype.copyBytesInto=function(tt,rt){var nt=rt;return tt[rt++]=CharCodes$1.s,tt[rt++]=CharCodes$1.t,tt[rt++]=CharCodes$1.a,tt[rt++]=CharCodes$1.r,tt[rt++]=CharCodes$1.t,tt[rt++]=CharCodes$1.x,tt[rt++]=CharCodes$1.r,tt[rt++]=CharCodes$1.e,tt[rt++]=CharCodes$1.f,tt[rt++]=CharCodes$1.Newline,rt+=copyStringIntoBuffer(this.lastXRefOffset,tt,rt),tt[rt++]=CharCodes$1.Newline,tt[rt++]=CharCodes$1.Percent,tt[rt++]=CharCodes$1.Percent,tt[rt++]=CharCodes$1.E,tt[rt++]=CharCodes$1.O,tt[rt++]=CharCodes$1.F,rt-nt},et.forLastCrossRefSectionOffset=function(tt){return new et(tt)},et}(),PDFTrailerDict=function(){function et(tt){this.dict=tt}return et.prototype.toString=function(){return`trailer
`+this.dict.toString()},et.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},et.prototype.copyBytesInto=function(tt,rt){var nt=rt;return tt[rt++]=CharCodes$1.t,tt[rt++]=CharCodes$1.r,tt[rt++]=CharCodes$1.a,tt[rt++]=CharCodes$1.i,tt[rt++]=CharCodes$1.l,tt[rt++]=CharCodes$1.e,tt[rt++]=CharCodes$1.r,tt[rt++]=CharCodes$1.Newline,rt+=this.dict.copyBytesInto(tt,rt),rt-nt},et.of=function(tt){return new et(tt)},et}(),PDFObjectStream=function(et){__extends(tt,et);function tt(rt,nt,at){at===void 0&&(at=!0);var it=et.call(this,rt.obj({}),at)||this;return it.objects=nt,it.offsets=it.computeObjectOffsets(),it.offsetsString=it.computeOffsetsString(),it.dict.set(PDFName.of("Type"),PDFName.of("ObjStm")),it.dict.set(PDFName.of("N"),PDFNumber.of(it.objects.length)),it.dict.set(PDFName.of("First"),PDFNumber.of(it.offsetsString.length)),it}return tt.prototype.getObjectsCount=function(){return this.objects.length},tt.prototype.clone=function(rt){return tt.withContextAndObjects(rt||this.dict.context,this.objects.slice(),this.encode)},tt.prototype.getContentsString=function(){for(var rt=this.offsetsString,nt=0,at=this.objects.length;nt<at;nt++){var it=this.objects[nt],st=it[1];rt+=st+`
`}return rt},tt.prototype.getUnencodedContents=function(){for(var rt=new Uint8Array(this.getUnencodedContentsSize()),nt=copyStringIntoBuffer(this.offsetsString,rt,0),at=0,it=this.objects.length;at<it;at++){var st=this.objects[at],ot=st[1];nt+=ot.copyBytesInto(rt,nt),rt[nt++]=CharCodes$1.Newline}return rt},tt.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+last(this.offsets)[1]+last(this.objects)[1].sizeInBytes()+1},tt.prototype.computeOffsetsString=function(){for(var rt="",nt=0,at=this.offsets.length;nt<at;nt++){var it=this.offsets[nt],st=it[0],ot=it[1];rt+=st+" "+ot+" "}return rt},tt.prototype.computeObjectOffsets=function(){for(var rt=0,nt=new Array(this.objects.length),at=0,it=this.objects.length;at<it;at++){var st=this.objects[at],ot=st[0],lt=st[1];nt[at]=[ot.objectNumber,rt],rt+=lt.sizeInBytes()+1}return nt},tt.withContextAndObjects=function(rt,nt,at){return at===void 0&&(at=!0),new tt(rt,nt,at)},tt}(PDFFlateStream),PDFWriter=function(){function et(tt,rt){var nt=this;this.parsedObjects=0,this.shouldWaitForTick=function(at){return nt.parsedObjects+=at,nt.parsedObjects%nt.objectsPerTick===0},this.context=tt,this.objectsPerTick=rt}return et.prototype.serializeToBuffer=function(){return __awaiter(this,void 0,void 0,function(){var tt,rt,nt,at,it,st,ot,lt,ct,ut,dt,ft,ht,gt,mt,xt,vt;return __generator(this,function(_t){switch(_t.label){case 0:return[4,this.computeBufferSize()];case 1:tt=_t.sent(),rt=tt.size,nt=tt.header,at=tt.indirectObjects,it=tt.xref,st=tt.trailerDict,ot=tt.trailer,lt=0,ct=new Uint8Array(rt),lt+=nt.copyBytesInto(ct,lt),ct[lt++]=CharCodes$1.Newline,ct[lt++]=CharCodes$1.Newline,ut=0,dt=at.length,_t.label=2;case 2:return ut<dt?(ft=at[ut],ht=ft[0],gt=ft[1],mt=String(ht.objectNumber),lt+=copyStringIntoBuffer(mt,ct,lt),ct[lt++]=CharCodes$1.Space,xt=String(ht.generationNumber),lt+=copyStringIntoBuffer(xt,ct,lt),ct[lt++]=CharCodes$1.Space,ct[lt++]=CharCodes$1.o,ct[lt++]=CharCodes$1.b,ct[lt++]=CharCodes$1.j,ct[lt++]=CharCodes$1.Newline,lt+=gt.copyBytesInto(ct,lt),ct[lt++]=CharCodes$1.Newline,ct[lt++]=CharCodes$1.e,ct[lt++]=CharCodes$1.n,ct[lt++]=CharCodes$1.d,ct[lt++]=CharCodes$1.o,ct[lt++]=CharCodes$1.b,ct[lt++]=CharCodes$1.j,ct[lt++]=CharCodes$1.Newline,ct[lt++]=CharCodes$1.Newline,vt=gt instanceof PDFObjectStream?gt.getObjectsCount():1,this.shouldWaitForTick(vt)?[4,waitForTick()]:[3,4]):[3,5];case 3:_t.sent(),_t.label=4;case 4:return ut++,[3,2];case 5:return it&&(lt+=it.copyBytesInto(ct,lt),ct[lt++]=CharCodes$1.Newline),st&&(lt+=st.copyBytesInto(ct,lt),ct[lt++]=CharCodes$1.Newline,ct[lt++]=CharCodes$1.Newline),lt+=ot.copyBytesInto(ct,lt),[2,ct]}})})},et.prototype.computeIndirectObjectSize=function(tt){var rt=tt[0],nt=tt[1],at=rt.sizeInBytes()+3,it=nt.sizeInBytes()+9;return at+it},et.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},et.prototype.computeBufferSize=function(){return __awaiter(this,void 0,void 0,function(){var tt,rt,nt,at,it,st,ot,lt,ct,ut,dt;return __generator(this,function(ft){switch(ft.label){case 0:tt=PDFHeader.forVersion(1,7),rt=tt.sizeInBytes()+2,nt=PDFCrossRefSection.create(),at=this.context.enumerateIndirectObjects(),it=0,st=at.length,ft.label=1;case 1:return it<st?(ot=at[it],lt=ot[0],nt.addEntry(lt,rt),rt+=this.computeIndirectObjectSize(ot),this.shouldWaitForTick(1)?[4,waitForTick()]:[3,3]):[3,4];case 2:ft.sent(),ft.label=3;case 3:return it++,[3,1];case 4:return ct=rt,rt+=nt.sizeInBytes()+1,ut=PDFTrailerDict.of(this.createTrailerDict()),rt+=ut.sizeInBytes()+2,dt=PDFTrailer.forLastCrossRefSectionOffset(ct),rt+=dt.sizeInBytes(),[2,{size:rt,header:tt,indirectObjects:at,xref:nt,trailerDict:ut,trailer:dt}]}})})},et.forContext=function(tt,rt){return new et(tt,rt)},et}(),PDFInvalidObject=function(et){__extends(tt,et);function tt(rt){var nt=et.call(this)||this;return nt.data=rt,nt}return tt.prototype.clone=function(){return tt.of(this.data.slice())},tt.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},tt.prototype.sizeInBytes=function(){return this.data.length},tt.prototype.copyBytesInto=function(rt,nt){for(var at=this.data.length,it=0;it<at;it++)rt[nt++]=this.data[it];return at},tt.of=function(rt){return new tt(rt)},tt}(PDFObject),EntryType;(function(et){et[et.Deleted=0]="Deleted",et[et.Uncompressed=1]="Uncompressed",et[et.Compressed=2]="Compressed"})(EntryType||(EntryType={}));var PDFCrossRefStream=function(et){__extends(tt,et);function tt(rt,nt,at){at===void 0&&(at=!0);var it=et.call(this,rt,at)||this;return it.computeIndex=function(){for(var st=[],ot=0,lt=0,ct=it.entries.length;lt<ct;lt++){var ut=it.entries[lt],dt=it.entries[lt-1];lt===0?st.push(ut.ref.objectNumber):ut.ref.objectNumber-dt.ref.objectNumber>1&&(st.push(ot),st.push(ut.ref.objectNumber),ot=0),ot+=1}return st.push(ot),st},it.computeEntryTuples=function(){for(var st=new Array(it.entries.length),ot=0,lt=it.entries.length;ot<lt;ot++){var ct=it.entries[ot];if(ct.type===EntryType.Deleted){var ut=ct.type,dt=ct.nextFreeObjectNumber,ft=ct.ref;st[ot]=[ut,dt,ft.generationNumber]}if(ct.type===EntryType.Uncompressed){var ut=ct.type,ht=ct.offset,ft=ct.ref;st[ot]=[ut,ht,ft.generationNumber]}if(ct.type===EntryType.Compressed){var ut=ct.type,gt=ct.objectStreamRef,mt=ct.index;st[ot]=[ut,gt.objectNumber,mt]}}return st},it.computeMaxEntryByteWidths=function(){for(var st=it.entryTuplesCache.access(),ot=[0,0,0],lt=0,ct=st.length;lt<ct;lt++){var ut=st[lt],dt=ut[0],ft=ut[1],ht=ut[2],gt=sizeInBytes(dt),mt=sizeInBytes(ft),xt=sizeInBytes(ht);gt>ot[0]&&(ot[0]=gt),mt>ot[1]&&(ot[1]=mt),xt>ot[2]&&(ot[2]=xt)}return ot},it.entries=nt||[],it.entryTuplesCache=Cache.populatedBy(it.computeEntryTuples),it.maxByteWidthsCache=Cache.populatedBy(it.computeMaxEntryByteWidths),it.indexCache=Cache.populatedBy(it.computeIndex),rt.set(PDFName.of("Type"),PDFName.of("XRef")),it}return tt.prototype.addDeletedEntry=function(rt,nt){var at=EntryType.Deleted;this.entries.push({type:at,ref:rt,nextFreeObjectNumber:nt}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},tt.prototype.addUncompressedEntry=function(rt,nt){var at=EntryType.Uncompressed;this.entries.push({type:at,ref:rt,offset:nt}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},tt.prototype.addCompressedEntry=function(rt,nt,at){var it=EntryType.Compressed;this.entries.push({type:it,ref:rt,objectStreamRef:nt,index:at}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},tt.prototype.clone=function(rt){var nt=this,at=nt.dict,it=nt.entries,st=nt.encode;return tt.of(at.clone(rt),it.slice(),st)},tt.prototype.getContentsString=function(){for(var rt=this.entryTuplesCache.access(),nt=this.maxByteWidthsCache.access(),at="",it=0,st=rt.length;it<st;it++){for(var ot=rt[it],lt=ot[0],ct=ot[1],ut=ot[2],dt=reverseArray(bytesFor(lt)),ft=reverseArray(bytesFor(ct)),ht=reverseArray(bytesFor(ut)),gt=nt[0]-1;gt>=0;gt--)at+=(dt[gt]||0).toString(2);for(var gt=nt[1]-1;gt>=0;gt--)at+=(ft[gt]||0).toString(2);for(var gt=nt[2]-1;gt>=0;gt--)at+=(ht[gt]||0).toString(2)}return at},tt.prototype.getUnencodedContents=function(){for(var rt=this.entryTuplesCache.access(),nt=this.maxByteWidthsCache.access(),at=new Uint8Array(this.getUnencodedContentsSize()),it=0,st=0,ot=rt.length;st<ot;st++){for(var lt=rt[st],ct=lt[0],ut=lt[1],dt=lt[2],ft=reverseArray(bytesFor(ct)),ht=reverseArray(bytesFor(ut)),gt=reverseArray(bytesFor(dt)),mt=nt[0]-1;mt>=0;mt--)at[it++]=ft[mt]||0;for(var mt=nt[1]-1;mt>=0;mt--)at[it++]=ht[mt]||0;for(var mt=nt[2]-1;mt>=0;mt--)at[it++]=gt[mt]||0}return at},tt.prototype.getUnencodedContentsSize=function(){var rt=this.maxByteWidthsCache.access(),nt=sum(rt);return nt*this.entries.length},tt.prototype.updateDict=function(){et.prototype.updateDict.call(this);var rt=this.maxByteWidthsCache.access(),nt=this.indexCache.access(),at=this.dict.context;this.dict.set(PDFName.of("W"),at.obj(rt)),this.dict.set(PDFName.of("Index"),at.obj(nt))},tt.create=function(rt,nt){nt===void 0&&(nt=!0);var at=new tt(rt,[],nt);return at.addDeletedEntry(PDFRef.of(0,65535),0),at},tt.of=function(rt,nt,at){return at===void 0&&(at=!0),new tt(rt,nt,at)},tt}(PDFFlateStream),PDFStreamWriter=function(et){__extends(tt,et);function tt(rt,nt,at,it){var st=et.call(this,rt,nt)||this;return st.encodeStreams=at,st.objectsPerStream=it,st}return tt.prototype.computeBufferSize=function(){return __awaiter(this,void 0,void 0,function(){var rt,nt,at,it,st,ot,lt,ct,gt,mt,ut,vt,dt,ft,xt,ht,gt,mt,xt,vt,_t,yt,St,bt;return __generator(this,function(Et){switch(Et.label){case 0:rt=this.context.largestObjectNumber+1,nt=PDFHeader.forVersion(1,7),at=nt.sizeInBytes()+2,it=PDFCrossRefStream.create(this.createTrailerDict(),this.encodeStreams),st=[],ot=[],lt=[],ct=this.context.enumerateIndirectObjects(),gt=0,mt=ct.length,Et.label=1;case 1:return gt<mt?(ut=ct[gt],vt=ut[0],dt=ut[1],ft=vt===this.context.trailerInfo.Encrypt||dt instanceof PDFStream||dt instanceof PDFInvalidObject||vt.generationNumber!==0,ft?(st.push(ut),it.addUncompressedEntry(vt,at),at+=this.computeIndirectObjectSize(ut),this.shouldWaitForTick(1)?[4,waitForTick()]:[3,3]):[3,4]):[3,6];case 2:Et.sent(),Et.label=3;case 3:return[3,5];case 4:xt=last(ot),ht=last(lt),(!xt||xt.length%this.objectsPerStream===0)&&(xt=[],ot.push(xt),ht=PDFRef.of(rt++),lt.push(ht)),it.addCompressedEntry(vt,ht,xt.length),xt.push(ut),Et.label=5;case 5:return gt++,[3,1];case 6:gt=0,mt=ot.length,Et.label=7;case 7:return gt<mt?(xt=ot[gt],vt=lt[gt],_t=PDFObjectStream.withContextAndObjects(this.context,xt,this.encodeStreams),it.addUncompressedEntry(vt,at),at+=this.computeIndirectObjectSize([vt,_t]),st.push([vt,_t]),this.shouldWaitForTick(xt.length)?[4,waitForTick()]:[3,9]):[3,10];case 8:Et.sent(),Et.label=9;case 9:return gt++,[3,7];case 10:return yt=PDFRef.of(rt++),it.dict.set(PDFName.of("Size"),PDFNumber.of(rt)),it.addUncompressedEntry(yt,at),St=at,at+=this.computeIndirectObjectSize([yt,it]),st.push([yt,it]),bt=PDFTrailer.forLastCrossRefSectionOffset(St),at+=bt.sizeInBytes(),[2,{size:at,header:nt,indirectObjects:st,trailer:bt}]}})})},tt.forContext=function(rt,nt,at,it){return at===void 0&&(at=!0),it===void 0&&(it=50),new tt(rt,nt,at,it)},tt}(PDFWriter),PDFHexString=function(et){__extends(tt,et);function tt(rt){var nt=et.call(this)||this;return nt.value=rt,nt}return tt.prototype.asBytes=function(){for(var rt=this.value+(this.value.length%2===1?"0":""),nt=rt.length,at=new Uint8Array(rt.length/2),it=0,st=0;it<nt;){var ot=parseInt(rt.substring(it,it+2),16);at[st]=ot,it+=2,st+=1}return at},tt.prototype.decodeText=function(){var rt=this.asBytes();return hasUtf16BOM(rt)?utf16Decode(rt):pdfDocEncodingDecode(rt)},tt.prototype.decodeDate=function(){var rt=this.decodeText(),nt=parseDate(rt);if(!nt)throw new InvalidPDFDateStringError(rt);return nt},tt.prototype.asString=function(){return this.value},tt.prototype.clone=function(){return tt.of(this.value)},tt.prototype.toString=function(){return"<"+this.value+">"},tt.prototype.sizeInBytes=function(){return this.value.length+2},tt.prototype.copyBytesInto=function(rt,nt){return rt[nt++]=CharCodes$1.LessThan,nt+=copyStringIntoBuffer(this.value,rt,nt),rt[nt++]=CharCodes$1.GreaterThan,this.value.length+2},tt.of=function(rt){return new tt(rt)},tt.fromText=function(rt){for(var nt=utf16Encode(rt),at="",it=0,st=nt.length;it<st;it++)at+=toHexStringOfMinLength(nt[it],4);return new tt(at)},tt}(PDFObject),StandardFontEmbedder=function(){function et(tt,rt){this.encoding=tt===FontNames.ZapfDingbats?Encodings.ZapfDingbats:tt===FontNames.Symbol?Encodings.Symbol:Encodings.WinAnsi,this.font=Font.load(tt),this.fontName=this.font.FontName,this.customName=rt}return et.prototype.encodeText=function(tt){for(var rt=this.encodeTextAsGlyphs(tt),nt=new Array(rt.length),at=0,it=rt.length;at<it;at++)nt[at]=toHexString(rt[at].code);return PDFHexString.of(nt.join(""))},et.prototype.widthOfTextAtSize=function(tt,rt){for(var nt=this.encodeTextAsGlyphs(tt),at=0,it=0,st=nt.length;it<st;it++){var ot=nt[it].name,lt=(nt[it+1]||{}).name,ct=this.font.getXAxisKerningForPair(ot,lt)||0;at+=this.widthOfGlyph(ot)+ct}var ut=rt/1e3;return at*ut},et.prototype.heightOfFontAtSize=function(tt,rt){rt===void 0&&(rt={});var nt=rt.descender,at=nt===void 0?!0:nt,it=this.font,st=it.Ascender,ot=it.Descender,lt=it.FontBBox,ct=st||lt[3],ut=ot||lt[1],dt=ct-ut;return at||(dt+=ot||0),dt/1e3*tt},et.prototype.sizeOfFontAtHeight=function(tt){var rt=this.font,nt=rt.Ascender,at=rt.Descender,it=rt.FontBBox,st=nt||it[3],ot=at||it[1];return 1e3*tt/(st-ot)},et.prototype.embedIntoContext=function(tt,rt){var nt=tt.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===Encodings.WinAnsi?"WinAnsiEncoding":void 0});return rt?(tt.assign(rt,nt),rt):tt.register(nt)},et.prototype.widthOfGlyph=function(tt){return this.font.getWidthOfGlyph(tt)||250},et.prototype.encodeTextAsGlyphs=function(tt){for(var rt=Array.from(tt),nt=new Array(rt.length),at=0,it=rt.length;at<it;at++){var st=toCodePoint(rt[at]);nt[at]=this.encoding.encodeUnicodeCodePoint(st)}return nt},et.for=function(tt,rt){return new et(tt,rt)},et}(),createCmap=function(et,tt){for(var rt=new Array(et.length),nt=0,at=et.length;nt<at;nt++){var it=et[nt],st=cmapHexFormat(cmapHexString(tt(it))),ot=cmapHexFormat.apply(void 0,it.codePoints.map(cmapCodePointFormat));rt[nt]=[st,ot]}return fillCmapTemplate(rt)},fillCmapTemplate=function(et){return`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange
`+et.length+` beginbfchar
`+et.map(function(tt){var rt=tt[0],nt=tt[1];return rt+" "+nt}).join(`
`)+`
endbfchar
endcmap
CMapName currentdict /CMap defineresource pop
end
end`},cmapHexFormat=function(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];return"<"+et.join("")+">"},cmapHexString=function(et){return toHexStringOfMinLength(et,4)},cmapCodePointFormat=function(et){if(isWithinBMP(et))return cmapHexString(et);if(hasSurrogates(et)){var tt=highSurrogate(et),rt=lowSurrogate(et);return""+cmapHexString(tt)+cmapHexString(rt)}var nt=toHexString(et),at="0x"+nt+" is not a valid UTF-8 or UTF-16 codepoint.";throw new Error(at)},makeFontFlags=function(et){var tt=0,rt=function(nt){tt|=1<<nt-1};return et.fixedPitch&&rt(1),et.serif&&rt(2),et.symbolic&&rt(3),et.script&&rt(4),et.nonsymbolic&&rt(6),et.italic&&rt(7),et.allCap&&rt(17),et.smallCap&&rt(18),et.forceBold&&rt(19),tt},deriveFontFlags=function(et){var tt=et["OS/2"]?et["OS/2"].sFamilyClass:0,rt=makeFontFlags({fixedPitch:et.post.isFixedPitch,serif:1<=tt&&tt<=7,symbolic:!0,script:tt===10,italic:et.head.macStyle.italic});return rt},PDFString=function(et){__extends(tt,et);function tt(rt){var nt=et.call(this)||this;return nt.value=rt,nt}return tt.prototype.asBytes=function(){for(var rt=[],nt="",at=!1,it=function(dt){dt!==void 0&&rt.push(dt),at=!1},st=0,ot=this.value.length;st<ot;st++){var lt=this.value[st],ct=toCharCode(lt),ut=this.value[st+1];at?ct===CharCodes$1.Newline||ct===CharCodes$1.CarriageReturn?it():ct===CharCodes$1.n?it(CharCodes$1.Newline):ct===CharCodes$1.r?it(CharCodes$1.CarriageReturn):ct===CharCodes$1.t?it(CharCodes$1.Tab):ct===CharCodes$1.b?it(CharCodes$1.Backspace):ct===CharCodes$1.f?it(CharCodes$1.FormFeed):ct===CharCodes$1.LeftParen?it(CharCodes$1.LeftParen):ct===CharCodes$1.RightParen?it(CharCodes$1.RightParen):ct===CharCodes$1.Backspace?it(CharCodes$1.BackSlash):ct>=CharCodes$1.Zero&&ct<=CharCodes$1.Seven?(nt+=lt,(nt.length===3||!(ut>="0"&&ut<="7"))&&(it(parseInt(nt,8)),nt="")):it(ct):ct===CharCodes$1.BackSlash?at=!0:it(ct)}return new Uint8Array(rt)},tt.prototype.decodeText=function(){var rt=this.asBytes();return hasUtf16BOM(rt)?utf16Decode(rt):pdfDocEncodingDecode(rt)},tt.prototype.decodeDate=function(){var rt=this.decodeText(),nt=parseDate(rt);if(!nt)throw new InvalidPDFDateStringError(rt);return nt},tt.prototype.asString=function(){return this.value},tt.prototype.clone=function(){return tt.of(this.value)},tt.prototype.toString=function(){return"("+this.value+")"},tt.prototype.sizeInBytes=function(){return this.value.length+2},tt.prototype.copyBytesInto=function(rt,nt){return rt[nt++]=CharCodes$1.LeftParen,nt+=copyStringIntoBuffer(this.value,rt,nt),rt[nt++]=CharCodes$1.RightParen,this.value.length+2},tt.of=function(rt){return new tt(rt)},tt.fromDate=function(rt){var nt=padStart$1(String(rt.getUTCFullYear()),4,"0"),at=padStart$1(String(rt.getUTCMonth()+1),2,"0"),it=padStart$1(String(rt.getUTCDate()),2,"0"),st=padStart$1(String(rt.getUTCHours()),2,"0"),ot=padStart$1(String(rt.getUTCMinutes()),2,"0"),lt=padStart$1(String(rt.getUTCSeconds()),2,"0");return new tt("D:"+nt+at+it+st+ot+lt+"Z")},tt}(PDFObject),CustomFontEmbedder=function(){function et(tt,rt,nt,at){var it=this;this.allGlyphsInFontSortedById=function(){for(var st=new Array(it.font.characterSet.length),ot=0,lt=st.length;ot<lt;ot++){var ct=it.font.characterSet[ot];st[ot]=it.font.glyphForCodePoint(ct)}return sortedUniq(st.sort(byAscendingId),function(ut){return ut.id})},this.font=tt,this.scale=1e3/this.font.unitsPerEm,this.fontData=rt,this.fontName=this.font.postscriptName||"Font",this.customName=nt,this.fontFeatures=at,this.baseFontName="",this.glyphCache=Cache.populatedBy(this.allGlyphsInFontSortedById)}return et.for=function(tt,rt,nt,at){return __awaiter(this,void 0,void 0,function(){var it;return __generator(this,function(st){switch(st.label){case 0:return[4,tt.create(rt)];case 1:return it=st.sent(),[2,new et(it,rt,nt,at)]}})})},et.prototype.encodeText=function(tt){for(var rt=this.font.layout(tt,this.fontFeatures).glyphs,nt=new Array(rt.length),at=0,it=rt.length;at<it;at++)nt[at]=toHexStringOfMinLength(rt[at].id,4);return PDFHexString.of(nt.join(""))},et.prototype.widthOfTextAtSize=function(tt,rt){for(var nt=this.font.layout(tt,this.fontFeatures).glyphs,at=0,it=0,st=nt.length;it<st;it++)at+=nt[it].advanceWidth*this.scale;var ot=rt/1e3;return at*ot},et.prototype.heightOfFontAtSize=function(tt,rt){rt===void 0&&(rt={});var nt=rt.descender,at=nt===void 0?!0:nt,it=this.font,st=it.ascent,ot=it.descent,lt=it.bbox,ct=(st||lt.maxY)*this.scale,ut=(ot||lt.minY)*this.scale,dt=ct-ut;return at||(dt-=Math.abs(ot)||0),dt/1e3*tt},et.prototype.sizeOfFontAtHeight=function(tt){var rt=this.font,nt=rt.ascent,at=rt.descent,it=rt.bbox,st=(nt||it.maxY)*this.scale,ot=(at||it.minY)*this.scale;return 1e3*tt/(st-ot)},et.prototype.embedIntoContext=function(tt,rt){return this.baseFontName=this.customName||tt.addRandomSuffix(this.fontName),this.embedFontDict(tt,rt)},et.prototype.embedFontDict=function(tt,rt){return __awaiter(this,void 0,void 0,function(){var nt,at,it;return __generator(this,function(st){switch(st.label){case 0:return[4,this.embedCIDFontDict(tt)];case 1:return nt=st.sent(),at=this.embedUnicodeCmap(tt),it=tt.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[nt],ToUnicode:at}),rt?(tt.assign(rt,it),[2,rt]):[2,tt.register(it)]}})})},et.prototype.isCFF=function(){return this.font.cff},et.prototype.embedCIDFontDict=function(tt){return __awaiter(this,void 0,void 0,function(){var rt,nt;return __generator(this,function(at){switch(at.label){case 0:return[4,this.embedFontDescriptor(tt)];case 1:return rt=at.sent(),nt=tt.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:PDFString.of("Adobe"),Ordering:PDFString.of("Identity"),Supplement:0},FontDescriptor:rt,W:this.computeWidths()}),[2,tt.register(nt)]}})})},et.prototype.embedFontDescriptor=function(tt){return __awaiter(this,void 0,void 0,function(){var rt,nt,at,it,st,ot,lt,ct,ut,dt,ft,ht,gt,mt,xt;return __generator(this,function(vt){switch(vt.label){case 0:return[4,this.embedFontStream(tt)];case 1:return rt=vt.sent(),nt=this.scale,at=this.font,it=at.italicAngle,st=at.ascent,ot=at.descent,lt=at.capHeight,ct=at.xHeight,ut=this.font.bbox,dt=ut.minX,ft=ut.minY,ht=ut.maxX,gt=ut.maxY,mt=tt.obj((xt={Type:"FontDescriptor",FontName:this.baseFontName,Flags:deriveFontFlags(this.font),FontBBox:[dt*nt,ft*nt,ht*nt,gt*nt],ItalicAngle:it,Ascent:st*nt,Descent:ot*nt,CapHeight:(lt||st)*nt,XHeight:(ct||0)*nt,StemV:0},xt[this.isCFF()?"FontFile3":"FontFile2"]=rt,xt)),[2,tt.register(mt)]}})})},et.prototype.serializeFont=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(tt){return[2,this.fontData]})})},et.prototype.embedFontStream=function(tt){return __awaiter(this,void 0,void 0,function(){var rt,nt,at;return __generator(this,function(it){switch(it.label){case 0:return at=(nt=tt).flateStream,[4,this.serializeFont()];case 1:return rt=at.apply(nt,[it.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,tt.register(rt)]}})})},et.prototype.embedUnicodeCmap=function(tt){var rt=createCmap(this.glyphCache.access(),this.glyphId.bind(this)),nt=tt.flateStream(rt);return tt.register(nt)},et.prototype.glyphId=function(tt){return tt?tt.id:-1},et.prototype.computeWidths=function(){for(var tt=this.glyphCache.access(),rt=[],nt=[],at=0,it=tt.length;at<it;at++){var st=tt[at],ot=tt[at-1],lt=this.glyphId(st),ct=this.glyphId(ot);at===0?rt.push(lt):lt-ct!==1&&(rt.push(nt),rt.push(lt),nt=[]),nt.push(st.advanceWidth*this.scale)}return rt.push(nt),rt},et}(),CustomFontSubsetEmbedder=function(et){__extends(tt,et);function tt(rt,nt,at,it){var st=et.call(this,rt,nt,at,it)||this;return st.subset=st.font.createSubset(),st.glyphs=[],st.glyphCache=Cache.populatedBy(function(){return st.glyphs}),st.glyphIdMap=new Map,st}return tt.for=function(rt,nt,at,it){return __awaiter(this,void 0,void 0,function(){var st;return __generator(this,function(ot){switch(ot.label){case 0:return[4,rt.create(nt)];case 1:return st=ot.sent(),[2,new tt(st,nt,at,it)]}})})},tt.prototype.encodeText=function(rt){for(var nt=this.font.layout(rt,this.fontFeatures).glyphs,at=new Array(nt.length),it=0,st=nt.length;it<st;it++){var ot=nt[it],lt=this.subset.includeGlyph(ot);this.glyphs[lt-1]=ot,this.glyphIdMap.set(ot.id,lt),at[it]=toHexStringOfMinLength(lt,4)}return this.glyphCache.invalidate(),PDFHexString.of(at.join(""))},tt.prototype.isCFF=function(){return this.subset.cff},tt.prototype.glyphId=function(rt){return rt?this.glyphIdMap.get(rt.id):-1},tt.prototype.serializeFont=function(){var rt=this;return new Promise(function(nt,at){var it=[];rt.subset.encodeStream().on("data",function(st){return it.push(st)}).on("end",function(){return nt(mergeUint8Arrays(it))}).on("error",function(st){return at(st)})})},tt}(CustomFontEmbedder),AFRelationship;(function(et){et.Source="Source",et.Data="Data",et.Alternative="Alternative",et.Supplement="Supplement",et.EncryptedPayload="EncryptedPayload",et.FormData="EncryptedPayload",et.Schema="Schema",et.Unspecified="Unspecified"})(AFRelationship||(AFRelationship={}));var FileEmbedder=function(){function et(tt,rt,nt){nt===void 0&&(nt={}),this.fileData=tt,this.fileName=rt,this.options=nt}return et.for=function(tt,rt,nt){return nt===void 0&&(nt={}),new et(tt,rt,nt)},et.prototype.embedIntoContext=function(tt,rt){return __awaiter(this,void 0,void 0,function(){var nt,at,it,st,ot,lt,ct,ut,dt;return __generator(this,function(ft){return nt=this.options,at=nt.mimeType,it=nt.description,st=nt.creationDate,ot=nt.modificationDate,lt=nt.afRelationship,ct=tt.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:at??void 0,Params:{Size:this.fileData.length,CreationDate:st?PDFString.fromDate(st):void 0,ModDate:ot?PDFString.fromDate(ot):void 0}}),ut=tt.register(ct),dt=tt.obj({Type:"Filespec",F:PDFString.of(this.fileName),UF:PDFHexString.fromText(this.fileName),EF:{F:ut},Desc:it?PDFHexString.fromText(it):void 0,AFRelationship:lt??void 0}),rt?(tt.assign(rt,dt),[2,rt]):[2,tt.register(dt)]})})},et}(),MARKERS=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487],ColorSpace;(function(et){et.DeviceGray="DeviceGray",et.DeviceRGB="DeviceRGB",et.DeviceCMYK="DeviceCMYK"})(ColorSpace||(ColorSpace={}));var ChannelToColorSpace={1:ColorSpace.DeviceGray,3:ColorSpace.DeviceRGB,4:ColorSpace.DeviceCMYK},JpegEmbedder=function(){function et(tt,rt,nt,at,it){this.imageData=tt,this.bitsPerComponent=rt,this.width=nt,this.height=at,this.colorSpace=it}return et.for=function(tt){return __awaiter(this,void 0,void 0,function(){var rt,nt,at,it,st,ot,lt,ct,ut,dt;return __generator(this,function(ft){if(rt=new DataView(tt.buffer),nt=rt.getUint16(0),nt!==65496)throw new Error("SOI not found in JPEG");for(at=2;at<rt.byteLength&&(it=rt.getUint16(at),at+=2,!MARKERS.includes(it));)at+=rt.getUint16(at);if(!MARKERS.includes(it))throw new Error("Invalid JPEG");if(at+=2,st=rt.getUint8(at++),ot=rt.getUint16(at),at+=2,lt=rt.getUint16(at),at+=2,ct=rt.getUint8(at++),ut=ChannelToColorSpace[ct],!ut)throw new Error("Unknown JPEG channel.");return dt=ut,[2,new et(tt,st,lt,ot,dt)]})})},et.prototype.embedIntoContext=function(tt,rt){return __awaiter(this,void 0,void 0,function(){var nt;return __generator(this,function(at){return nt=tt.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===ColorSpace.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),rt?(tt.assign(rt,nt),[2,rt]):[2,tt.register(nt)]})})},et}(),UPNG={};UPNG.toRGBA8=function(et){var tt=et.width,rt=et.height;if(et.tabs.acTL==null)return[UPNG.toRGBA8.decodeImage(et.data,tt,rt,et).buffer];var nt=[];et.frames[0].data==null&&(et.frames[0].data=et.data);for(var at=tt*rt*4,it=new Uint8Array(at),st=new Uint8Array(at),ot=new Uint8Array(at),lt=0;lt<et.frames.length;lt++){var ct=et.frames[lt],ut=ct.rect.x,dt=ct.rect.y,ft=ct.rect.width,ht=ct.rect.height,gt=UPNG.toRGBA8.decodeImage(ct.data,ft,ht,et);if(lt!=0)for(var mt=0;mt<at;mt++)ot[mt]=it[mt];if(ct.blend==0?UPNG._copyTile(gt,ft,ht,it,tt,rt,ut,dt,0):ct.blend==1&&UPNG._copyTile(gt,ft,ht,it,tt,rt,ut,dt,1),nt.push(it.buffer.slice(0)),ct.dispose!=0){if(ct.dispose==1)UPNG._copyTile(st,ft,ht,it,tt,rt,ut,dt,0);else if(ct.dispose==2)for(var mt=0;mt<at;mt++)it[mt]=ot[mt]}}return nt};UPNG.toRGBA8.decodeImage=function(et,tt,rt,nt){var at=tt*rt,it=UPNG.decode._getBPP(nt),st=Math.ceil(tt*it/8),ot=new Uint8Array(at*4),lt=new Uint32Array(ot.buffer),ct=nt.ctype,ut=nt.depth,dt=UPNG._bin.readUshort;if(ct==6){var ft=at<<2;if(ut==8)for(var ht=0;ht<ft;ht+=4)ot[ht]=et[ht],ot[ht+1]=et[ht+1],ot[ht+2]=et[ht+2],ot[ht+3]=et[ht+3];if(ut==16)for(var ht=0;ht<ft;ht++)ot[ht]=et[ht<<1]}else if(ct==2){var gt=nt.tabs.tRNS;if(gt==null){if(ut==8)for(var ht=0;ht<at;ht++){var mt=ht*3;lt[ht]=255<<24|et[mt+2]<<16|et[mt+1]<<8|et[mt]}if(ut==16)for(var ht=0;ht<at;ht++){var mt=ht*6;lt[ht]=255<<24|et[mt+4]<<16|et[mt+2]<<8|et[mt]}}else{var xt=gt[0],vt=gt[1],_t=gt[2];if(ut==8)for(var ht=0;ht<at;ht++){var yt=ht<<2,mt=ht*3;lt[ht]=255<<24|et[mt+2]<<16|et[mt+1]<<8|et[mt],et[mt]==xt&&et[mt+1]==vt&&et[mt+2]==_t&&(ot[yt+3]=0)}if(ut==16)for(var ht=0;ht<at;ht++){var yt=ht<<2,mt=ht*6;lt[ht]=255<<24|et[mt+4]<<16|et[mt+2]<<8|et[mt],dt(et,mt)==xt&&dt(et,mt+2)==vt&&dt(et,mt+4)==_t&&(ot[yt+3]=0)}}}else if(ct==3){var St=nt.tabs.PLTE,bt=nt.tabs.tRNS,Et=bt?bt.length:0;if(ut==1)for(var Tt=0;Tt<rt;Tt++)for(var At=Tt*st,Ct=Tt*tt,ht=0;ht<tt;ht++){var yt=Ct+ht<<2,kt=et[At+(ht>>3)]>>7-((ht&7)<<0)&1,Pt=3*kt;ot[yt]=St[Pt],ot[yt+1]=St[Pt+1],ot[yt+2]=St[Pt+2],ot[yt+3]=kt<Et?bt[kt]:255}if(ut==2)for(var Tt=0;Tt<rt;Tt++)for(var At=Tt*st,Ct=Tt*tt,ht=0;ht<tt;ht++){var yt=Ct+ht<<2,kt=et[At+(ht>>2)]>>6-((ht&3)<<1)&3,Pt=3*kt;ot[yt]=St[Pt],ot[yt+1]=St[Pt+1],ot[yt+2]=St[Pt+2],ot[yt+3]=kt<Et?bt[kt]:255}if(ut==4)for(var Tt=0;Tt<rt;Tt++)for(var At=Tt*st,Ct=Tt*tt,ht=0;ht<tt;ht++){var yt=Ct+ht<<2,kt=et[At+(ht>>1)]>>4-((ht&1)<<2)&15,Pt=3*kt;ot[yt]=St[Pt],ot[yt+1]=St[Pt+1],ot[yt+2]=St[Pt+2],ot[yt+3]=kt<Et?bt[kt]:255}if(ut==8)for(var ht=0;ht<at;ht++){var yt=ht<<2,kt=et[ht],Pt=3*kt;ot[yt]=St[Pt],ot[yt+1]=St[Pt+1],ot[yt+2]=St[Pt+2],ot[yt+3]=kt<Et?bt[kt]:255}}else if(ct==4){if(ut==8)for(var ht=0;ht<at;ht++){var yt=ht<<2,Dt=ht<<1,Ft=et[Dt];ot[yt]=Ft,ot[yt+1]=Ft,ot[yt+2]=Ft,ot[yt+3]=et[Dt+1]}if(ut==16)for(var ht=0;ht<at;ht++){var yt=ht<<2,Dt=ht<<2,Ft=et[Dt];ot[yt]=Ft,ot[yt+1]=Ft,ot[yt+2]=Ft,ot[yt+3]=et[Dt+2]}}else if(ct==0)for(var xt=nt.tabs.tRNS?nt.tabs.tRNS:-1,Tt=0;Tt<rt;Tt++){var Ot=Tt*st,It=Tt*tt;if(ut==1)for(var Bt=0;Bt<tt;Bt++){var Ft=255*(et[Ot+(Bt>>>3)]>>>7-(Bt&7)&1),qt=Ft==xt*255?0:255;lt[It+Bt]=qt<<24|Ft<<16|Ft<<8|Ft}else if(ut==2)for(var Bt=0;Bt<tt;Bt++){var Ft=85*(et[Ot+(Bt>>>2)]>>>6-((Bt&3)<<1)&3),qt=Ft==xt*85?0:255;lt[It+Bt]=qt<<24|Ft<<16|Ft<<8|Ft}else if(ut==4)for(var Bt=0;Bt<tt;Bt++){var Ft=17*(et[Ot+(Bt>>>1)]>>>4-((Bt&1)<<2)&15),qt=Ft==xt*17?0:255;lt[It+Bt]=qt<<24|Ft<<16|Ft<<8|Ft}else if(ut==8)for(var Bt=0;Bt<tt;Bt++){var Ft=et[Ot+Bt],qt=Ft==xt?0:255;lt[It+Bt]=qt<<24|Ft<<16|Ft<<8|Ft}else if(ut==16)for(var Bt=0;Bt<tt;Bt++){var Ft=et[Ot+(Bt<<1)],qt=dt(et,Ot+(Bt<<ht))==xt?0:255;lt[It+Bt]=qt<<24|Ft<<16|Ft<<8|Ft}}return ot};UPNG.decode=function(et){for(var tt=new Uint8Array(et),rt=8,nt=UPNG._bin,at=nt.readUshort,it=nt.readUint,st={tabs:{},frames:[]},ot=new Uint8Array(tt.length),lt=0,ct,ut=0,dt=[137,80,78,71,13,10,26,10],ft=0;ft<8;ft++)if(tt[ft]!=dt[ft])throw"The input is not a PNG file!";for(;rt<tt.length;){var ht=nt.readUint(tt,rt);rt+=4;var gt=nt.readASCII(tt,rt,4);if(rt+=4,gt=="IHDR")UPNG.decode._IHDR(tt,rt,st);else if(gt=="IDAT"){for(var ft=0;ft<ht;ft++)ot[lt+ft]=tt[rt+ft];lt+=ht}else if(gt=="acTL")st.tabs[gt]={num_frames:it(tt,rt),num_plays:it(tt,rt+4)},ct=new Uint8Array(tt.length);else if(gt=="fcTL"){if(ut!=0){var mt=st.frames[st.frames.length-1];mt.data=UPNG.decode._decompress(st,ct.slice(0,ut),mt.rect.width,mt.rect.height),ut=0}var xt={x:it(tt,rt+12),y:it(tt,rt+16),width:it(tt,rt+4),height:it(tt,rt+8)},vt=at(tt,rt+22);vt=at(tt,rt+20)/(vt==0?100:vt);var _t={rect:xt,delay:Math.round(vt*1e3),dispose:tt[rt+24],blend:tt[rt+25]};st.frames.push(_t)}else if(gt=="fdAT"){for(var ft=0;ft<ht-4;ft++)ct[ut+ft]=tt[rt+ft+4];ut+=ht-4}else if(gt=="pHYs")st.tabs[gt]=[nt.readUint(tt,rt),nt.readUint(tt,rt+4),tt[rt+8]];else if(gt=="cHRM"){st.tabs[gt]=[];for(var ft=0;ft<8;ft++)st.tabs[gt].push(nt.readUint(tt,rt+ft*4))}else if(gt=="tEXt"){st.tabs[gt]==null&&(st.tabs[gt]={});var yt=nt.nextZero(tt,rt),St=nt.readASCII(tt,rt,yt-rt),bt=nt.readASCII(tt,yt+1,rt+ht-yt-1);st.tabs[gt][St]=bt}else if(gt=="iTXt"){st.tabs[gt]==null&&(st.tabs[gt]={});var yt=0,Et=rt;yt=nt.nextZero(tt,Et);var St=nt.readASCII(tt,Et,yt-Et);Et=yt+1,tt[Et],tt[Et+1],Et+=2,yt=nt.nextZero(tt,Et),nt.readASCII(tt,Et,yt-Et),Et=yt+1,yt=nt.nextZero(tt,Et),nt.readUTF8(tt,Et,yt-Et),Et=yt+1;var bt=nt.readUTF8(tt,Et,ht-(Et-rt));st.tabs[gt][St]=bt}else if(gt=="PLTE")st.tabs[gt]=nt.readBytes(tt,rt,ht);else if(gt=="hIST"){var Tt=st.tabs.PLTE.length/3;st.tabs[gt]=[];for(var ft=0;ft<Tt;ft++)st.tabs[gt].push(at(tt,rt+ft*2))}else if(gt=="tRNS")st.ctype==3?st.tabs[gt]=nt.readBytes(tt,rt,ht):st.ctype==0?st.tabs[gt]=at(tt,rt):st.ctype==2&&(st.tabs[gt]=[at(tt,rt),at(tt,rt+2),at(tt,rt+4)]);else if(gt=="gAMA")st.tabs[gt]=nt.readUint(tt,rt)/1e5;else if(gt=="sRGB")st.tabs[gt]=tt[rt];else if(gt=="bKGD")st.ctype==0||st.ctype==4?st.tabs[gt]=[at(tt,rt)]:st.ctype==2||st.ctype==6?st.tabs[gt]=[at(tt,rt),at(tt,rt+2),at(tt,rt+4)]:st.ctype==3&&(st.tabs[gt]=tt[rt]);else if(gt=="IEND")break;rt+=ht,nt.readUint(tt,rt),rt+=4}if(ut!=0){var mt=st.frames[st.frames.length-1];mt.data=UPNG.decode._decompress(st,ct.slice(0,ut),mt.rect.width,mt.rect.height),ut=0}return st.data=UPNG.decode._decompress(st,ot,st.width,st.height),delete st.compress,delete st.interlace,delete st.filter,st};UPNG.decode._decompress=function(et,tt,rt,nt){var at=UPNG.decode._getBPP(et),it=Math.ceil(rt*at/8),st=new Uint8Array((it+1+et.interlace)*nt);return tt=UPNG.decode._inflate(tt,st),et.interlace==0?tt=UPNG.decode._filterZero(tt,et,0,rt,nt):et.interlace==1&&(tt=UPNG.decode._readInterlace(tt,et)),tt};UPNG.decode._inflate=function(et,tt){var rt=UPNG.inflateRaw(new Uint8Array(et.buffer,2,et.length-6),tt);return rt};UPNG.inflateRaw=function(){var et={};return et.H={},et.H.N=function(tt,rt){var nt=Uint8Array,at=0,it=0,st=0,ot=0,lt=0,ct=0,ut=0,dt=0,ft=0,ht,gt;if(tt[0]==3&&tt[1]==0)return rt||new nt(0);var mt=et.H,xt=mt.b,vt=mt.e,_t=mt.R,yt=mt.n,St=mt.A,bt=mt.Z,Et=mt.m,Tt=rt==null;for(Tt&&(rt=new nt(tt.length>>>2<<3));at==0;){if(at=xt(tt,ft,1),it=xt(tt,ft+1,2),ft+=3,it==0){ft&7&&(ft+=8-(ft&7));var At=(ft>>>3)+4,Ct=tt[At-4]|tt[At-3]<<8;Tt&&(rt=et.H.W(rt,dt+Ct)),rt.set(new nt(tt.buffer,tt.byteOffset+At,Ct),dt),ft=At+Ct<<3,dt+=Ct;continue}if(Tt&&(rt=et.H.W(rt,dt+(1<<17))),it==1&&(ht=Et.J,gt=Et.h,ct=512-1,ut=32-1),it==2){st=vt(tt,ft,5)+257,ot=vt(tt,ft+5,5)+1,lt=vt(tt,ft+10,4)+4,ft+=14;for(var kt=1,Pt=0;Pt<38;Pt+=2)Et.Q[Pt]=0,Et.Q[Pt+1]=0;for(var Pt=0;Pt<lt;Pt++){var Dt=vt(tt,ft+Pt*3,3);Et.Q[(Et.X[Pt]<<1)+1]=Dt,Dt>kt&&(kt=Dt)}ft+=3*lt,yt(Et.Q,kt),St(Et.Q,kt,Et.u),ht=Et.w,gt=Et.d,ft=_t(Et.u,(1<<kt)-1,st+ot,tt,ft,Et.v);var Ft=mt.V(Et.v,0,st,Et.C);ct=(1<<Ft)-1;var Ot=mt.V(Et.v,st,ot,Et.D);ut=(1<<Ot)-1,yt(Et.C,Ft),St(Et.C,Ft,ht),yt(Et.D,Ot),St(Et.D,Ot,gt)}for(;;){var It=ht[bt(tt,ft)&ct];ft+=It&15;var Bt=It>>>4;if(!(Bt>>>8))rt[dt++]=Bt;else{if(Bt==256)break;var qt=dt+Bt-254;if(Bt>264){var Ut=Et.q[Bt-257];qt=dt+(Ut>>>3)+vt(tt,ft,Ut&7),ft+=Ut&7}var Ht=gt[bt(tt,ft)&ut];ft+=Ht&15;var Qt=Ht>>>4,ir=Et.c[Qt],Xt=(ir>>>4)+xt(tt,ft,ir&15);for(ft+=ir&15;dt<qt;)rt[dt]=rt[dt++-Xt],rt[dt]=rt[dt++-Xt],rt[dt]=rt[dt++-Xt],rt[dt]=rt[dt++-Xt];dt=qt}}}return rt.length==dt?rt:rt.slice(0,dt)},et.H.W=function(tt,rt){var nt=tt.length;if(rt<=nt)return tt;var at=new Uint8Array(nt<<1);return at.set(tt,0),at},et.H.R=function(tt,rt,nt,at,it,st){for(var ot=et.H.e,lt=et.H.Z,ct=0;ct<nt;){var ut=tt[lt(at,it)&rt];it+=ut&15;var dt=ut>>>4;if(dt<=15)st[ct]=dt,ct++;else{var ft=0,ht=0;dt==16?(ht=3+ot(at,it,2),it+=2,ft=st[ct-1]):dt==17?(ht=3+ot(at,it,3),it+=3):dt==18&&(ht=11+ot(at,it,7),it+=7);for(var gt=ct+ht;ct<gt;)st[ct]=ft,ct++}}return it},et.H.V=function(tt,rt,nt,at){for(var it=0,st=0,ot=at.length>>>1;st<nt;){var lt=tt[st+rt];at[st<<1]=0,at[(st<<1)+1]=lt,lt>it&&(it=lt),st++}for(;st<ot;)at[st<<1]=0,at[(st<<1)+1]=0,st++;return it},et.H.n=function(tt,rt){for(var nt=et.H.m,at=tt.length,it,st,ot,lt,ct,ut=nt.j,lt=0;lt<=rt;lt++)ut[lt]=0;for(lt=1;lt<at;lt+=2)ut[tt[lt]]++;var dt=nt.K;for(it=0,ut[0]=0,st=1;st<=rt;st++)it=it+ut[st-1]<<1,dt[st]=it;for(ot=0;ot<at;ot+=2)ct=tt[ot+1],ct!=0&&(tt[ot]=dt[ct],dt[ct]++)},et.H.A=function(tt,rt,nt){for(var at=tt.length,it=et.H.m,st=it.r,ot=0;ot<at;ot+=2)if(tt[ot+1]!=0)for(var lt=ot>>1,ct=tt[ot+1],ut=lt<<4|ct,dt=rt-ct,ft=tt[ot]<<dt,ht=ft+(1<<dt);ft!=ht;){var gt=st[ft]>>>15-rt;nt[gt]=ut,ft++}},et.H.l=function(tt,rt){for(var nt=et.H.m.r,at=15-rt,it=0;it<tt.length;it+=2){var st=tt[it]<<rt-tt[it+1];tt[it]=nt[st]>>>at}},et.H.M=function(tt,rt,nt){nt=nt<<(rt&7);var at=rt>>>3;tt[at]|=nt,tt[at+1]|=nt>>>8},et.H.I=function(tt,rt,nt){nt=nt<<(rt&7);var at=rt>>>3;tt[at]|=nt,tt[at+1]|=nt>>>8,tt[at+2]|=nt>>>16},et.H.e=function(tt,rt,nt){return(tt[rt>>>3]|tt[(rt>>>3)+1]<<8)>>>(rt&7)&(1<<nt)-1},et.H.b=function(tt,rt,nt){return(tt[rt>>>3]|tt[(rt>>>3)+1]<<8|tt[(rt>>>3)+2]<<16)>>>(rt&7)&(1<<nt)-1},et.H.Z=function(tt,rt){return(tt[rt>>>3]|tt[(rt>>>3)+1]<<8|tt[(rt>>>3)+2]<<16)>>>(rt&7)},et.H.i=function(tt,rt){return(tt[rt>>>3]|tt[(rt>>>3)+1]<<8|tt[(rt>>>3)+2]<<16|tt[(rt>>>3)+3]<<24)>>>(rt&7)},et.H.m=function(){var tt=Uint16Array,rt=Uint32Array;return{K:new tt(16),j:new tt(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new tt(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new rt(32),J:new tt(512),_:[],h:new tt(32),$:[],w:new tt(32768),C:[],v:[],d:new tt(32768),D:[],u:new tt(512),Q:[],r:new tt(32768),s:new rt(286),Y:new rt(30),a:new rt(19),t:new rt(15e3),k:new tt(65536),g:new tt(32768)}}(),function(){for(var tt=et.H.m,rt=32768,nt=0;nt<rt;nt++){var at=nt;at=(at&2863311530)>>>1|(at&1431655765)<<1,at=(at&3435973836)>>>2|(at&858993459)<<2,at=(at&4042322160)>>>4|(at&252645135)<<4,at=(at&4278255360)>>>8|(at&16711935)<<8,tt.r[nt]=(at>>>16|at<<16)>>>17}function it(st,ot,lt){for(;ot--!=0;)st.push(0,lt)}for(var nt=0;nt<32;nt++)tt.q[nt]=tt.S[nt]<<3|tt.T[nt],tt.c[nt]=tt.p[nt]<<4|tt.z[nt];it(tt._,144,8),it(tt._,255-143,9),it(tt._,279-255,7),it(tt._,287-279,8),et.H.n(tt._,9),et.H.A(tt._,9,tt.J),et.H.l(tt._,9),it(tt.$,32,5),et.H.n(tt.$,5),et.H.A(tt.$,5,tt.h),et.H.l(tt.$,5),it(tt.Q,19,0),it(tt.C,286,0),it(tt.D,30,0),it(tt.v,320,0)}(),et.H.N}();UPNG.decode._readInterlace=function(et,tt){for(var rt=tt.width,nt=tt.height,at=UPNG.decode._getBPP(tt),it=at>>3,st=Math.ceil(rt*at/8),ot=new Uint8Array(nt*st),lt=0,ct=[0,0,4,0,2,0,1],ut=[0,4,0,2,0,1,0],dt=[8,8,8,4,4,2,2],ft=[8,8,4,4,2,2,1],ht=0;ht<7;){for(var gt=dt[ht],mt=ft[ht],xt=0,vt=0,_t=ct[ht];_t<nt;)_t+=gt,vt++;for(var yt=ut[ht];yt<rt;)yt+=mt,xt++;var St=Math.ceil(xt*at/8);UPNG.decode._filterZero(et,tt,lt,xt,vt);for(var bt=0,Et=ct[ht];Et<nt;){for(var Tt=ut[ht],At=lt+bt*St<<3;Tt<rt;){if(at==1){var Ct=et[At>>3];Ct=Ct>>7-(At&7)&1,ot[Et*st+(Tt>>3)]|=Ct<<7-((Tt&7)<<0)}if(at==2){var Ct=et[At>>3];Ct=Ct>>6-(At&7)&3,ot[Et*st+(Tt>>2)]|=Ct<<6-((Tt&3)<<1)}if(at==4){var Ct=et[At>>3];Ct=Ct>>4-(At&7)&15,ot[Et*st+(Tt>>1)]|=Ct<<4-((Tt&1)<<2)}if(at>=8)for(var kt=Et*st+Tt*it,Pt=0;Pt<it;Pt++)ot[kt+Pt]=et[(At>>3)+Pt];At+=at,Tt+=mt}bt++,Et+=gt}xt*vt!=0&&(lt+=vt*(1+St)),ht=ht+1}return ot};UPNG.decode._getBPP=function(et){var tt=[1,null,3,1,2,null,4][et.ctype];return tt*et.depth};UPNG.decode._filterZero=function(et,tt,rt,nt,at){var it=UPNG.decode._getBPP(tt),st=Math.ceil(nt*it/8),ot=UPNG.decode._paeth;it=Math.ceil(it/8);var lt=0,ct=1,ut=et[rt],dt=0;if(ut>1&&(et[rt]=[0,0,1][ut-2]),ut==3)for(dt=it;dt<st;dt++)et[dt+1]=et[dt+1]+(et[dt+1-it]>>>1)&255;for(var ft=0;ft<at;ft++)if(lt=rt+ft*st,ct=lt+ft+1,ut=et[ct-1],dt=0,ut==0)for(;dt<st;dt++)et[lt+dt]=et[ct+dt];else if(ut==1){for(;dt<it;dt++)et[lt+dt]=et[ct+dt];for(;dt<st;dt++)et[lt+dt]=et[ct+dt]+et[lt+dt-it]}else if(ut==2)for(;dt<st;dt++)et[lt+dt]=et[ct+dt]+et[lt+dt-st];else if(ut==3){for(;dt<it;dt++)et[lt+dt]=et[ct+dt]+(et[lt+dt-st]>>>1);for(;dt<st;dt++)et[lt+dt]=et[ct+dt]+(et[lt+dt-st]+et[lt+dt-it]>>>1)}else{for(;dt<it;dt++)et[lt+dt]=et[ct+dt]+ot(0,et[lt+dt-st],0);for(;dt<st;dt++)et[lt+dt]=et[ct+dt]+ot(et[lt+dt-it],et[lt+dt-st],et[lt+dt-it-st])}return et};UPNG.decode._paeth=function(et,tt,rt){var nt=et+tt-rt,at=nt-et,it=nt-tt,st=nt-rt;return at*at<=it*it&&at*at<=st*st?et:it*it<=st*st?tt:rt};UPNG.decode._IHDR=function(et,tt,rt){var nt=UPNG._bin;rt.width=nt.readUint(et,tt),tt+=4,rt.height=nt.readUint(et,tt),tt+=4,rt.depth=et[tt],tt++,rt.ctype=et[tt],tt++,rt.compress=et[tt],tt++,rt.filter=et[tt],tt++,rt.interlace=et[tt],tt++};UPNG._bin={nextZero:function(et,tt){for(;et[tt]!=0;)tt++;return tt},readUshort:function(et,tt){return et[tt]<<8|et[tt+1]},writeUshort:function(et,tt,rt){et[tt]=rt>>8&255,et[tt+1]=rt&255},readUint:function(et,tt){return et[tt]*(256*256*256)+(et[tt+1]<<16|et[tt+2]<<8|et[tt+3])},writeUint:function(et,tt,rt){et[tt]=rt>>24&255,et[tt+1]=rt>>16&255,et[tt+2]=rt>>8&255,et[tt+3]=rt&255},readASCII:function(et,tt,rt){for(var nt="",at=0;at<rt;at++)nt+=String.fromCharCode(et[tt+at]);return nt},writeASCII:function(et,tt,rt){for(var nt=0;nt<rt.length;nt++)et[tt+nt]=rt.charCodeAt(nt)},readBytes:function(et,tt,rt){for(var nt=[],at=0;at<rt;at++)nt.push(et[tt+at]);return nt},pad:function(et){return et.length<2?"0"+et:et},readUTF8:function(et,tt,rt){for(var nt="",at,it=0;it<rt;it++)nt+="%"+UPNG._bin.pad(et[tt+it].toString(16));try{at=decodeURIComponent(nt)}catch{return UPNG._bin.readASCII(et,tt,rt)}return at}};UPNG._copyTile=function(et,tt,rt,nt,at,it,st,ot,lt){for(var ct=Math.min(tt,at),ut=Math.min(rt,it),dt=0,ft=0,ht=0;ht<ut;ht++)for(var gt=0;gt<ct;gt++)if(st>=0&&ot>=0?(dt=ht*tt+gt<<2,ft=(ot+ht)*at+st+gt<<2):(dt=(-ot+ht)*tt-st+gt<<2,ft=ht*at+gt<<2),lt==0)nt[ft]=et[dt],nt[ft+1]=et[dt+1],nt[ft+2]=et[dt+2],nt[ft+3]=et[dt+3];else if(lt==1){var mt=et[dt+3]*.00392156862745098,xt=et[dt]*mt,vt=et[dt+1]*mt,_t=et[dt+2]*mt,yt=nt[ft+3]*(1/255),St=nt[ft]*yt,bt=nt[ft+1]*yt,Et=nt[ft+2]*yt,Tt=1-mt,At=mt+yt*Tt,Ct=At==0?0:1/At;nt[ft+3]=255*At,nt[ft+0]=(xt+St*Tt)*Ct,nt[ft+1]=(vt+bt*Tt)*Ct,nt[ft+2]=(_t+Et*Tt)*Ct}else if(lt==2){var mt=et[dt+3],xt=et[dt],vt=et[dt+1],_t=et[dt+2],yt=nt[ft+3],St=nt[ft],bt=nt[ft+1],Et=nt[ft+2];mt==yt&&xt==St&&vt==bt&&_t==Et?(nt[ft]=0,nt[ft+1]=0,nt[ft+2]=0,nt[ft+3]=0):(nt[ft]=xt,nt[ft+1]=vt,nt[ft+2]=_t,nt[ft+3]=mt)}else if(lt==3){var mt=et[dt+3],xt=et[dt],vt=et[dt+1],_t=et[dt+2],yt=nt[ft+3],St=nt[ft],bt=nt[ft+1],Et=nt[ft+2];if(mt==yt&&xt==St&&vt==bt&&_t==Et)continue;if(mt<220&&yt>20)return!1}return!0};UPNG.encode=function(et,tt,rt,nt,at,it,st){nt==null&&(nt=0),st==null&&(st=!1);var ot=UPNG.encode.compress(et,tt,rt,nt,[!1,!1,!1,0,st]);return UPNG.encode.compressPNG(ot,-1),UPNG.encode._main(ot,tt,rt,at,it)};UPNG.encodeLL=function(et,tt,rt,nt,at,it,st,ot){for(var lt={ctype:0+(nt==1?0:2)+(at==0?0:4),depth:it,frames:[]},ct=(nt+at)*it,ut=ct*tt,dt=0;dt<et.length;dt++)lt.frames.push({rect:{x:0,y:0,width:tt,height:rt},img:new Uint8Array(et[dt]),blend:0,dispose:1,bpp:Math.ceil(ct/8),bpl:Math.ceil(ut/8)});UPNG.encode.compressPNG(lt,0,!0);var ft=UPNG.encode._main(lt,tt,rt,st,ot);return ft};UPNG.encode._main=function(et,tt,rt,nt,at){at==null&&(at={});var it=UPNG.crc.crc,st=UPNG._bin.writeUint,ot=UPNG._bin.writeUshort,lt=UPNG._bin.writeASCII,ct=8,ut=et.frames.length>1,dt=!1,ft=8+(16+5+4)+(ut?20:0);if(at.sRGB!=null&&(ft+=8+1+4),at.pHYs!=null&&(ft+=8+9+4),et.ctype==3){for(var ht=et.plte.length,gt=0;gt<ht;gt++)et.plte[gt]>>>24!=255&&(dt=!0);ft+=8+ht*3+4+(dt?8+ht*1+4:0)}for(var mt=0;mt<et.frames.length;mt++){var xt=et.frames[mt];ut&&(ft+=38),ft+=xt.cimg.length+12,mt!=0&&(ft+=4)}ft+=12;for(var vt=new Uint8Array(ft),_t=[137,80,78,71,13,10,26,10],gt=0;gt<8;gt++)vt[gt]=_t[gt];if(st(vt,ct,13),ct+=4,lt(vt,ct,"IHDR"),ct+=4,st(vt,ct,tt),ct+=4,st(vt,ct,rt),ct+=4,vt[ct]=et.depth,ct++,vt[ct]=et.ctype,ct++,vt[ct]=0,ct++,vt[ct]=0,ct++,vt[ct]=0,ct++,st(vt,ct,it(vt,ct-17,17)),ct+=4,at.sRGB!=null&&(st(vt,ct,1),ct+=4,lt(vt,ct,"sRGB"),ct+=4,vt[ct]=at.sRGB,ct++,st(vt,ct,it(vt,ct-5,5)),ct+=4),at.pHYs!=null&&(st(vt,ct,9),ct+=4,lt(vt,ct,"pHYs"),ct+=4,st(vt,ct,at.pHYs[0]),ct+=4,st(vt,ct,at.pHYs[1]),ct+=4,vt[ct]=at.pHYs[2],ct++,st(vt,ct,it(vt,ct-13,13)),ct+=4),ut&&(st(vt,ct,8),ct+=4,lt(vt,ct,"acTL"),ct+=4,st(vt,ct,et.frames.length),ct+=4,st(vt,ct,at.loop!=null?at.loop:0),ct+=4,st(vt,ct,it(vt,ct-12,12)),ct+=4),et.ctype==3){var ht=et.plte.length;st(vt,ct,ht*3),ct+=4,lt(vt,ct,"PLTE"),ct+=4;for(var gt=0;gt<ht;gt++){var yt=gt*3,St=et.plte[gt],bt=St&255,Et=St>>>8&255,Tt=St>>>16&255;vt[ct+yt+0]=bt,vt[ct+yt+1]=Et,vt[ct+yt+2]=Tt}if(ct+=ht*3,st(vt,ct,it(vt,ct-ht*3-4,ht*3+4)),ct+=4,dt){st(vt,ct,ht),ct+=4,lt(vt,ct,"tRNS"),ct+=4;for(var gt=0;gt<ht;gt++)vt[ct+gt]=et.plte[gt]>>>24&255;ct+=ht,st(vt,ct,it(vt,ct-ht-4,ht+4)),ct+=4}}for(var At=0,mt=0;mt<et.frames.length;mt++){var xt=et.frames[mt];ut&&(st(vt,ct,26),ct+=4,lt(vt,ct,"fcTL"),ct+=4,st(vt,ct,At++),ct+=4,st(vt,ct,xt.rect.width),ct+=4,st(vt,ct,xt.rect.height),ct+=4,st(vt,ct,xt.rect.x),ct+=4,st(vt,ct,xt.rect.y),ct+=4,ot(vt,ct,nt[mt]),ct+=2,ot(vt,ct,1e3),ct+=2,vt[ct]=xt.dispose,ct++,vt[ct]=xt.blend,ct++,st(vt,ct,it(vt,ct-30,30)),ct+=4);var Ct=xt.cimg,ht=Ct.length;st(vt,ct,ht+(mt==0?0:4)),ct+=4;var kt=ct;lt(vt,ct,mt==0?"IDAT":"fdAT"),ct+=4,mt!=0&&(st(vt,ct,At++),ct+=4),vt.set(Ct,ct),ct+=ht,st(vt,ct,it(vt,kt,ct-kt)),ct+=4}return st(vt,ct,0),ct+=4,lt(vt,ct,"IEND"),ct+=4,st(vt,ct,it(vt,ct-4,4)),ct+=4,vt.buffer};UPNG.encode.compressPNG=function(et,tt,rt){for(var nt=0;nt<et.frames.length;nt++){var at=et.frames[nt];at.rect.width;var it=at.rect.height,st=new Uint8Array(it*at.bpl+it);at.cimg=UPNG.encode._filterZero(at.img,it,at.bpp,at.bpl,st,tt,rt)}};UPNG.encode.compress=function(et,tt,rt,nt,at){for(var it=at[0],st=at[1],ot=at[2],lt=at[3],ct=at[4],ut=6,dt=8,ft=255,ht=0;ht<et.length;ht++)for(var gt=new Uint8Array(et[ht]),mt=gt.length,xt=0;xt<mt;xt+=4)ft&=gt[xt+3];var vt=ft!=255,_t=UPNG.encode.framize(et,tt,rt,it,st,ot),yt={},St=[],bt=[];if(nt!=0){for(var Et=[],xt=0;xt<_t.length;xt++)Et.push(_t[xt].img.buffer);for(var Tt=UPNG.encode.concatRGBA(Et),At=UPNG.quantize(Tt,nt),Ct=0,kt=new Uint8Array(At.abuf),xt=0;xt<_t.length;xt++){var Pt=_t[xt].img,Dt=Pt.length;bt.push(new Uint8Array(At.inds.buffer,Ct>>2,Dt>>2));for(var ht=0;ht<Dt;ht+=4)Pt[ht]=kt[Ct+ht],Pt[ht+1]=kt[Ct+ht+1],Pt[ht+2]=kt[Ct+ht+2],Pt[ht+3]=kt[Ct+ht+3];Ct+=Dt}for(var xt=0;xt<At.plte.length;xt++)St.push(At.plte[xt].est.rgba)}else for(var ht=0;ht<_t.length;ht++){var Ft=_t[ht],Ot=new Uint32Array(Ft.img.buffer),It=Ft.rect.width,mt=Ot.length,Bt=new Uint8Array(mt);bt.push(Bt);for(var xt=0;xt<mt;xt++){var qt=Ot[xt];if(xt!=0&&qt==Ot[xt-1])Bt[xt]=Bt[xt-1];else if(xt>It&&qt==Ot[xt-It])Bt[xt]=Bt[xt-It];else{var Ut=yt[qt];if(Ut==null&&(yt[qt]=Ut=St.length,St.push(qt),St.length>=300))break;Bt[xt]=Ut}}}var Ht=St.length;Ht<=256&&ct==!1&&(Ht<=2?dt=1:Ht<=4?dt=2:Ht<=16?dt=4:dt=8,dt=Math.max(dt,lt));for(var ht=0;ht<_t.length;ht++){var Ft=_t[ht];Ft.rect.x,Ft.rect.y;var It=Ft.rect.width,Qt=Ft.rect.height,ir=Ft.img;new Uint32Array(ir.buffer);var Xt=4*It,Lt=4;if(Ht<=256&&ct==!1){Xt=Math.ceil(dt*It/8);for(var jt=new Uint8Array(Xt*Qt),Nt=bt[ht],Mt=0;Mt<Qt;Mt++){var xt=Mt*Xt,Vt=Mt*It;if(dt==8)for(var Gt=0;Gt<It;Gt++)jt[xt+Gt]=Nt[Vt+Gt];else if(dt==4)for(var Gt=0;Gt<It;Gt++)jt[xt+(Gt>>1)]|=Nt[Vt+Gt]<<4-(Gt&1)*4;else if(dt==2)for(var Gt=0;Gt<It;Gt++)jt[xt+(Gt>>2)]|=Nt[Vt+Gt]<<6-(Gt&3)*2;else if(dt==1)for(var Gt=0;Gt<It;Gt++)jt[xt+(Gt>>3)]|=Nt[Vt+Gt]<<7-(Gt&7)*1}ir=jt,ut=3,Lt=1}else if(vt==!1&&_t.length==1){for(var jt=new Uint8Array(It*Qt*3),Zt=It*Qt,xt=0;xt<Zt;xt++){var Pt=xt*3,er=xt*4;jt[Pt]=ir[er],jt[Pt+1]=ir[er+1],jt[Pt+2]=ir[er+2]}ir=jt,ut=2,Lt=3,Xt=3*It}Ft.img=ir,Ft.bpl=Xt,Ft.bpp=Lt}return{ctype:ut,depth:dt,plte:St,frames:_t}};UPNG.encode.framize=function(et,tt,rt,nt,at,it){for(var st=[],ot=0;ot<et.length;ot++){var lt=new Uint8Array(et[ot]),ct=new Uint32Array(lt.buffer),ut,dt=0,ft=0,ht=tt,gt=rt,mt=nt?1:0;if(ot!=0){for(var xt=it||nt||ot==1||st[ot-2].dispose!=0?1:2,vt=0,_t=1e9,yt=0;yt<xt;yt++){for(var Ft=new Uint8Array(et[ot-1-yt]),St=new Uint32Array(et[ot-1-yt]),bt=tt,Et=rt,Tt=-1,At=-1,Ct=0;Ct<rt;Ct++)for(var kt=0;kt<tt;kt++){var Pt=Ct*tt+kt;ct[Pt]!=St[Pt]&&(kt<bt&&(bt=kt),kt>Tt&&(Tt=kt),Ct<Et&&(Et=Ct),Ct>At&&(At=Ct))}Tt==-1&&(bt=Et=Tt=At=0),at&&((bt&1)==1&&bt--,(Et&1)==1&&Et--);var Dt=(Tt-bt+1)*(At-Et+1);Dt<_t&&(_t=Dt,vt=yt,dt=bt,ft=Et,ht=Tt-bt+1,gt=At-Et+1)}var Ft=new Uint8Array(et[ot-1-vt]);vt==1&&(st[ot-1].dispose=2),ut=new Uint8Array(ht*gt*4),UPNG._copyTile(Ft,tt,rt,ut,ht,gt,-dt,-ft,0),mt=UPNG._copyTile(lt,tt,rt,ut,ht,gt,-dt,-ft,3)?1:0,mt==1?UPNG.encode._prepareDiff(lt,tt,rt,ut,{x:dt,y:ft,width:ht,height:gt}):UPNG._copyTile(lt,tt,rt,ut,ht,gt,-dt,-ft,0)}else ut=lt.slice(0);st.push({rect:{x:dt,y:ft,width:ht,height:gt},img:ut,blend:mt,dispose:0})}if(nt)for(var ot=0;ot<st.length;ot++){var Ot=st[ot];if(Ot.blend!=1){var It=Ot.rect,Bt=st[ot-1].rect,qt=Math.min(It.x,Bt.x),Ut=Math.min(It.y,Bt.y),Ht=Math.max(It.x+It.width,Bt.x+Bt.width),Qt=Math.max(It.y+It.height,Bt.y+Bt.height),ir={x:qt,y:Ut,width:Ht-qt,height:Qt-Ut};st[ot-1].dispose=1,ot-1!=0&&UPNG.encode._updateFrame(et,tt,rt,st,ot-1,ir,at),UPNG.encode._updateFrame(et,tt,rt,st,ot,ir,at)}}var Xt=0;if(et.length!=1)for(var Pt=0;Pt<st.length;Pt++){var Ot=st[Pt];Xt+=Ot.rect.width*Ot.rect.height}return st};UPNG.encode._updateFrame=function(et,tt,rt,nt,at,it,st){for(var ot=Uint8Array,lt=Uint32Array,ct=new ot(et[at-1]),ut=new lt(et[at-1]),dt=at+1<et.length?new ot(et[at+1]):null,ft=new ot(et[at]),ht=new lt(ft.buffer),gt=tt,mt=rt,xt=-1,vt=-1,_t=0;_t<it.height;_t++)for(var yt=0;yt<it.width;yt++){var St=it.x+yt,bt=it.y+_t,Et=bt*tt+St,Tt=ht[Et];Tt==0||nt[at-1].dispose==0&&ut[Et]==Tt&&(dt==null||dt[Et*4+3]!=0)||(St<gt&&(gt=St),St>xt&&(xt=St),bt<mt&&(mt=bt),bt>vt&&(vt=bt))}xt==-1&&(gt=mt=xt=vt=0),st&&((gt&1)==1&&gt--,(mt&1)==1&&mt--),it={x:gt,y:mt,width:xt-gt+1,height:vt-mt+1};var At=nt[at];At.rect=it,At.blend=1,At.img=new Uint8Array(it.width*it.height*4),nt[at-1].dispose==0?(UPNG._copyTile(ct,tt,rt,At.img,it.width,it.height,-it.x,-it.y,0),UPNG.encode._prepareDiff(ft,tt,rt,At.img,it)):UPNG._copyTile(ft,tt,rt,At.img,it.width,it.height,-it.x,-it.y,0)};UPNG.encode._prepareDiff=function(et,tt,rt,nt,at){UPNG._copyTile(et,tt,rt,nt,at.width,at.height,-at.x,-at.y,2)};UPNG.encode._filterZero=function(et,tt,rt,nt,at,it,st){var ot=[],lt=[0,1,2,3,4];it!=-1?lt=[it]:(tt*nt>5e5||rt==1)&&(lt=[0]);var ct;st&&(ct={level:0});for(var ut=st&&UZIP!=null?UZIP:pako$1,dt=0;dt<lt.length;dt++){for(var ft=0;ft<tt;ft++)UPNG.encode._filterLine(at,et,ft,nt,rt,lt[dt]);ot.push(ut.deflate(at,ct))}for(var ht,gt=1e9,dt=0;dt<ot.length;dt++)ot[dt].length<gt&&(ht=dt,gt=ot[dt].length);return ot[ht]};UPNG.encode._filterLine=function(et,tt,rt,nt,at,it){var st=rt*nt,ot=st+rt,lt=UPNG.decode._paeth;if(et[ot]=it,ot++,it==0)if(nt<500)for(var ct=0;ct<nt;ct++)et[ot+ct]=tt[st+ct];else et.set(new Uint8Array(tt.buffer,st,nt),ot);else if(it==1){for(var ct=0;ct<at;ct++)et[ot+ct]=tt[st+ct];for(var ct=at;ct<nt;ct++)et[ot+ct]=tt[st+ct]-tt[st+ct-at]+256&255}else if(rt==0){for(var ct=0;ct<at;ct++)et[ot+ct]=tt[st+ct];if(it==2)for(var ct=at;ct<nt;ct++)et[ot+ct]=tt[st+ct];if(it==3)for(var ct=at;ct<nt;ct++)et[ot+ct]=tt[st+ct]-(tt[st+ct-at]>>1)+256&255;if(it==4)for(var ct=at;ct<nt;ct++)et[ot+ct]=tt[st+ct]-lt(tt[st+ct-at],0,0)+256&255}else{if(it==2)for(var ct=0;ct<nt;ct++)et[ot+ct]=tt[st+ct]+256-tt[st+ct-nt]&255;if(it==3){for(var ct=0;ct<at;ct++)et[ot+ct]=tt[st+ct]+256-(tt[st+ct-nt]>>1)&255;for(var ct=at;ct<nt;ct++)et[ot+ct]=tt[st+ct]+256-(tt[st+ct-nt]+tt[st+ct-at]>>1)&255}if(it==4){for(var ct=0;ct<at;ct++)et[ot+ct]=tt[st+ct]+256-lt(0,tt[st+ct-nt],0)&255;for(var ct=at;ct<nt;ct++)et[ot+ct]=tt[st+ct]+256-lt(tt[st+ct-at],tt[st+ct-nt],tt[st+ct-at-nt])&255}}};UPNG.crc={table:function(){for(var et=new Uint32Array(256),tt=0;tt<256;tt++){for(var rt=tt,nt=0;nt<8;nt++)rt&1?rt=3988292384^rt>>>1:rt=rt>>>1;et[tt]=rt}return et}(),update:function(et,tt,rt,nt){for(var at=0;at<nt;at++)et=UPNG.crc.table[(et^tt[rt+at])&255]^et>>>8;return et},crc:function(et,tt,rt){return UPNG.crc.update(4294967295,et,tt,rt)^4294967295}};UPNG.quantize=function(et,tt){var rt=new Uint8Array(et),nt=rt.slice(0),at=new Uint32Array(nt.buffer),it=UPNG.quantize.getKDtree(nt,tt),st=it[0],ot=it[1];UPNG.quantize.planeDst;for(var lt=rt,ct=at,ut=lt.length,dt=new Uint8Array(rt.length>>2),ft=0;ft<ut;ft+=4){var ht=lt[ft]*.00392156862745098,gt=lt[ft+1]*(1/255),mt=lt[ft+2]*(1/255),xt=lt[ft+3]*(1/255),vt=UPNG.quantize.getNearest(st,ht,gt,mt,xt);dt[ft>>2]=vt.ind,ct[ft>>2]=vt.est.rgba}return{abuf:nt.buffer,inds:dt,plte:ot}};UPNG.quantize.getKDtree=function(et,tt,rt){rt==null&&(rt=1e-4);var nt=new Uint32Array(et.buffer),at={i0:0,i1:et.length,bst:null,est:null,tdst:0,left:null,right:null};at.bst=UPNG.quantize.stats(et,at.i0,at.i1),at.est=UPNG.quantize.estats(at.bst);for(var it=[at];it.length<tt;){for(var st=0,ot=0,lt=0;lt<it.length;lt++)it[lt].est.L>st&&(st=it[lt].est.L,ot=lt);if(st<rt)break;var ct=it[ot],ut=UPNG.quantize.splitPixels(et,nt,ct.i0,ct.i1,ct.est.e,ct.est.eMq255),dt=ct.i0>=ut||ct.i1<=ut;if(dt){ct.est.L=0;continue}var ft={i0:ct.i0,i1:ut,bst:null,est:null,tdst:0,left:null,right:null};ft.bst=UPNG.quantize.stats(et,ft.i0,ft.i1),ft.est=UPNG.quantize.estats(ft.bst);var ht={i0:ut,i1:ct.i1,bst:null,est:null,tdst:0,left:null,right:null};ht.bst={R:[],m:[],N:ct.bst.N-ft.bst.N};for(var lt=0;lt<16;lt++)ht.bst.R[lt]=ct.bst.R[lt]-ft.bst.R[lt];for(var lt=0;lt<4;lt++)ht.bst.m[lt]=ct.bst.m[lt]-ft.bst.m[lt];ht.est=UPNG.quantize.estats(ht.bst),ct.left=ft,ct.right=ht,it[ot]=ft,it.push(ht)}it.sort(function(gt,mt){return mt.bst.N-gt.bst.N});for(var lt=0;lt<it.length;lt++)it[lt].ind=lt;return[at,it]};UPNG.quantize.getNearest=function(et,tt,rt,nt,at){if(et.left==null)return et.tdst=UPNG.quantize.dist(et.est.q,tt,rt,nt,at),et;var it=UPNG.quantize.planeDst(et.est,tt,rt,nt,at),st=et.left,ot=et.right;it>0&&(st=et.right,ot=et.left);var lt=UPNG.quantize.getNearest(st,tt,rt,nt,at);if(lt.tdst<=it*it)return lt;var ct=UPNG.quantize.getNearest(ot,tt,rt,nt,at);return ct.tdst<lt.tdst?ct:lt};UPNG.quantize.planeDst=function(et,tt,rt,nt,at){var it=et.e;return it[0]*tt+it[1]*rt+it[2]*nt+it[3]*at-et.eMq};UPNG.quantize.dist=function(et,tt,rt,nt,at){var it=tt-et[0],st=rt-et[1],ot=nt-et[2],lt=at-et[3];return it*it+st*st+ot*ot+lt*lt};UPNG.quantize.splitPixels=function(et,tt,rt,nt,at,it){var st=UPNG.quantize.vecDot;for(nt-=4;rt<nt;){for(;st(et,rt,at)<=it;)rt+=4;for(;st(et,nt,at)>it;)nt-=4;if(rt>=nt)break;var ot=tt[rt>>2];tt[rt>>2]=tt[nt>>2],tt[nt>>2]=ot,rt+=4,nt-=4}for(;st(et,rt,at)>it;)rt-=4;return rt+4};UPNG.quantize.vecDot=function(et,tt,rt){return et[tt]*rt[0]+et[tt+1]*rt[1]+et[tt+2]*rt[2]+et[tt+3]*rt[3]};UPNG.quantize.stats=function(et,tt,rt){for(var nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],at=[0,0,0,0],it=rt-tt>>2,st=tt;st<rt;st+=4){var ot=et[st]*.00392156862745098,lt=et[st+1]*(1/255),ct=et[st+2]*(1/255),ut=et[st+3]*(1/255);at[0]+=ot,at[1]+=lt,at[2]+=ct,at[3]+=ut,nt[0]+=ot*ot,nt[1]+=ot*lt,nt[2]+=ot*ct,nt[3]+=ot*ut,nt[5]+=lt*lt,nt[6]+=lt*ct,nt[7]+=lt*ut,nt[10]+=ct*ct,nt[11]+=ct*ut,nt[15]+=ut*ut}return nt[4]=nt[1],nt[8]=nt[2],nt[9]=nt[6],nt[12]=nt[3],nt[13]=nt[7],nt[14]=nt[11],{R:nt,m:at,N:it}};UPNG.quantize.estats=function(et){var tt=et.R,rt=et.m,nt=et.N,at=rt[0],it=rt[1],st=rt[2],ot=rt[3],lt=nt==0?0:1/nt,ct=[tt[0]-at*at*lt,tt[1]-at*it*lt,tt[2]-at*st*lt,tt[3]-at*ot*lt,tt[4]-it*at*lt,tt[5]-it*it*lt,tt[6]-it*st*lt,tt[7]-it*ot*lt,tt[8]-st*at*lt,tt[9]-st*it*lt,tt[10]-st*st*lt,tt[11]-st*ot*lt,tt[12]-ot*at*lt,tt[13]-ot*it*lt,tt[14]-ot*st*lt,tt[15]-ot*ot*lt],ut=ct,dt=UPNG.M4,ft=[.5,.5,.5,.5],ht=0,gt=0;if(nt!=0)for(var mt=0;mt<10&&(ft=dt.multVec(ut,ft),gt=Math.sqrt(dt.dot(ft,ft)),ft=dt.sml(1/gt,ft),!(Math.abs(gt-ht)<1e-9));mt++)ht=gt;var xt=[at*lt,it*lt,st*lt,ot*lt],vt=dt.dot(dt.sml(255,xt),ft);return{Cov:ct,q:xt,e:ft,L:ht,eMq255:vt,eMq:dt.dot(ft,xt),rgba:(Math.round(255*xt[3])<<24|Math.round(255*xt[2])<<16|Math.round(255*xt[1])<<8|Math.round(255*xt[0])<<0)>>>0}};UPNG.M4={multVec:function(et,tt){return[et[0]*tt[0]+et[1]*tt[1]+et[2]*tt[2]+et[3]*tt[3],et[4]*tt[0]+et[5]*tt[1]+et[6]*tt[2]+et[7]*tt[3],et[8]*tt[0]+et[9]*tt[1]+et[10]*tt[2]+et[11]*tt[3],et[12]*tt[0]+et[13]*tt[1]+et[14]*tt[2]+et[15]*tt[3]]},dot:function(et,tt){return et[0]*tt[0]+et[1]*tt[1]+et[2]*tt[2]+et[3]*tt[3]},sml:function(et,tt){return[et*tt[0],et*tt[1],et*tt[2],et*tt[3]]}};UPNG.encode.concatRGBA=function(et){for(var tt=0,rt=0;rt<et.length;rt++)tt+=et[rt].byteLength;for(var nt=new Uint8Array(tt),at=0,rt=0;rt<et.length;rt++){for(var it=new Uint8Array(et[rt]),st=it.length,ot=0;ot<st;ot+=4){var lt=it[ot],ct=it[ot+1],ut=it[ot+2],dt=it[ot+3];dt==0&&(lt=ct=ut=0),nt[at+ot]=lt,nt[at+ot+1]=ct,nt[at+ot+2]=ut,nt[at+ot+3]=dt}at+=st}return nt.buffer};var getImageType=function(et){if(et===0)return PngType.Greyscale;if(et===2)return PngType.Truecolour;if(et===3)return PngType.IndexedColour;if(et===4)return PngType.GreyscaleWithAlpha;if(et===6)return PngType.TruecolourWithAlpha;throw new Error("Unknown color type: "+et)},splitAlphaChannel=function(et){for(var tt=Math.floor(et.length/4),rt=new Uint8Array(tt*3),nt=new Uint8Array(tt*1),at=0,it=0,st=0;at<et.length;)rt[it++]=et[at++],rt[it++]=et[at++],rt[it++]=et[at++],nt[st++]=et[at++];return{rgbChannel:rt,alphaChannel:nt}},PngType;(function(et){et.Greyscale="Greyscale",et.Truecolour="Truecolour",et.IndexedColour="IndexedColour",et.GreyscaleWithAlpha="GreyscaleWithAlpha",et.TruecolourWithAlpha="TruecolourWithAlpha"})(PngType||(PngType={}));var PNG=function(){function et(tt){var rt=UPNG.decode(tt),nt=UPNG.toRGBA8(rt);if(nt.length>1)throw new Error("Animated PNGs are not supported");var at=new Uint8Array(nt[0]),it=splitAlphaChannel(at),st=it.rgbChannel,ot=it.alphaChannel;this.rgbChannel=st;var lt=ot.some(function(ct){return ct<255});lt&&(this.alphaChannel=ot),this.type=getImageType(rt.ctype),this.width=rt.width,this.height=rt.height,this.bitsPerComponent=8}return et.load=function(tt){return new et(tt)},et}(),PngEmbedder=function(){function et(tt){this.image=tt,this.bitsPerComponent=tt.bitsPerComponent,this.width=tt.width,this.height=tt.height,this.colorSpace="DeviceRGB"}return et.for=function(tt){return __awaiter(this,void 0,void 0,function(){var rt;return __generator(this,function(nt){return rt=PNG.load(tt),[2,new et(rt)]})})},et.prototype.embedIntoContext=function(tt,rt){return __awaiter(this,void 0,void 0,function(){var nt,at;return __generator(this,function(it){return nt=this.embedAlphaChannel(tt),at=tt.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:nt}),rt?(tt.assign(rt,at),[2,rt]):[2,tt.register(at)]})})},et.prototype.embedAlphaChannel=function(tt){if(this.image.alphaChannel){var rt=tt.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return tt.register(rt)}},et}(),Stream=function(){function et(tt,rt,nt){this.bytes=tt,this.start=rt||0,this.pos=this.start,this.end=rt&&nt?rt+nt:this.bytes.length}return Object.defineProperty(et.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(et.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),et.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},et.prototype.getUint16=function(){var tt=this.getByte(),rt=this.getByte();return tt===-1||rt===-1?-1:(tt<<8)+rt},et.prototype.getInt32=function(){var tt=this.getByte(),rt=this.getByte(),nt=this.getByte(),at=this.getByte();return(tt<<24)+(rt<<16)+(nt<<8)+at},et.prototype.getBytes=function(tt,rt){rt===void 0&&(rt=!1);var nt=this.bytes,at=this.pos,it=this.end;if(tt){var ot=at+tt;ot>it&&(ot=it),this.pos=ot;var st=nt.subarray(at,ot);return rt?new Uint8ClampedArray(st):st}else{var st=nt.subarray(at,it);return rt?new Uint8ClampedArray(st):st}},et.prototype.peekByte=function(){var tt=this.getByte();return this.pos--,tt},et.prototype.peekBytes=function(tt,rt){rt===void 0&&(rt=!1);var nt=this.getBytes(tt,rt);return this.pos-=nt.length,nt},et.prototype.skip=function(tt){tt||(tt=1),this.pos+=tt},et.prototype.reset=function(){this.pos=this.start},et.prototype.moveStart=function(){this.start=this.pos},et.prototype.makeSubStream=function(tt,rt){return new et(this.bytes,tt,rt)},et.prototype.decode=function(){return this.bytes},et}(),emptyBuffer=new Uint8Array(0),DecodeStream=function(){function et(tt){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=emptyBuffer,this.minBufferLength=512,tt)for(;this.minBufferLength<tt;)this.minBufferLength*=2}return Object.defineProperty(et.prototype,"isEmpty",{get:function(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0},enumerable:!1,configurable:!0}),et.prototype.getByte=function(){for(var tt=this.pos;this.bufferLength<=tt;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},et.prototype.getUint16=function(){var tt=this.getByte(),rt=this.getByte();return tt===-1||rt===-1?-1:(tt<<8)+rt},et.prototype.getInt32=function(){var tt=this.getByte(),rt=this.getByte(),nt=this.getByte(),at=this.getByte();return(tt<<24)+(rt<<16)+(nt<<8)+at},et.prototype.getBytes=function(tt,rt){rt===void 0&&(rt=!1);var nt,at=this.pos;if(tt){for(this.ensureBuffer(at+tt),nt=at+tt;!this.eof&&this.bufferLength<nt;)this.readBlock();var it=this.bufferLength;nt>it&&(nt=it)}else{for(;!this.eof;)this.readBlock();nt=this.bufferLength}this.pos=nt;var st=this.buffer.subarray(at,nt);return rt&&!(st instanceof Uint8ClampedArray)?new Uint8ClampedArray(st):st},et.prototype.peekByte=function(){var tt=this.getByte();return this.pos--,tt},et.prototype.peekBytes=function(tt,rt){rt===void 0&&(rt=!1);var nt=this.getBytes(tt,rt);return this.pos-=nt.length,nt},et.prototype.skip=function(tt){tt||(tt=1),this.pos+=tt},et.prototype.reset=function(){this.pos=0},et.prototype.makeSubStream=function(tt,rt){for(var nt=tt+rt;this.bufferLength<=nt&&!this.eof;)this.readBlock();return new Stream(this.buffer,tt,rt)},et.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},et.prototype.readBlock=function(){throw new MethodNotImplementedError(this.constructor.name,"readBlock")},et.prototype.ensureBuffer=function(tt){var rt=this.buffer;if(tt<=rt.byteLength)return rt;for(var nt=this.minBufferLength;nt<tt;)nt*=2;var at=new Uint8Array(nt);return at.set(rt),this.buffer=at},et}(),isSpace=function(et){return et===32||et===9||et===13||et===10},Ascii85Stream=function(et){__extends(tt,et);function tt(rt,nt){var at=et.call(this,nt)||this;return at.stream=rt,at.input=new Uint8Array(5),nt&&(nt=.8*nt),at}return tt.prototype.readBlock=function(){for(var rt=126,nt=122,at=-1,it=this.stream,st=it.getByte();isSpace(st);)st=it.getByte();if(st===at||st===rt){this.eof=!0;return}var ot=this.bufferLength,lt,ct;if(st===nt){for(lt=this.ensureBuffer(ot+4),ct=0;ct<4;++ct)lt[ot+ct]=0;this.bufferLength+=4}else{var ut=this.input;for(ut[0]=st,ct=1;ct<5;++ct){for(st=it.getByte();isSpace(st);)st=it.getByte();if(ut[ct]=st,st===at||st===rt)break}if(lt=this.ensureBuffer(ot+ct-1),this.bufferLength+=ct-1,ct<5){for(;ct<5;++ct)ut[ct]=33+84;this.eof=!0}var dt=0;for(ct=0;ct<5;++ct)dt=dt*85+(ut[ct]-33);for(ct=3;ct>=0;--ct)lt[ot+ct]=dt&255,dt>>=8}},tt}(DecodeStream),AsciiHexStream=function(et){__extends(tt,et);function tt(rt,nt){var at=et.call(this,nt)||this;return at.stream=rt,at.firstDigit=-1,nt&&(nt=.5*nt),at}return tt.prototype.readBlock=function(){var rt=8e3,nt=this.stream.getBytes(rt);if(!nt.length){this.eof=!0;return}for(var at=nt.length+1>>1,it=this.ensureBuffer(this.bufferLength+at),st=this.bufferLength,ot=this.firstDigit,lt=0,ct=nt.length;lt<ct;lt++){var ut=nt[lt],dt=void 0;if(ut>=48&&ut<=57)dt=ut&15;else if(ut>=65&&ut<=70||ut>=97&&ut<=102)dt=(ut&15)+9;else if(ut===62){this.eof=!0;break}else continue;ot<0?ot=dt:(it[st++]=ot<<4|dt,ot=-1)}ot>=0&&this.eof&&(it[st++]=ot<<4,ot=-1),this.firstDigit=ot,this.bufferLength=st},tt}(DecodeStream),codeLenCodeMap=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lengthDecode=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),distDecode=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),fixedLitCodeTab=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],fixedDistCodeTab=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],FlateStream=function(et){__extends(tt,et);function tt(rt,nt){var at=et.call(this,nt)||this;at.stream=rt;var it=rt.getByte(),st=rt.getByte();if(it===-1||st===-1)throw new Error("Invalid header in flate stream: "+it+", "+st);if((it&15)!==8)throw new Error("Unknown compression method in flate stream: "+it+", "+st);if(((it<<8)+st)%31!==0)throw new Error("Bad FCHECK in flate stream: "+it+", "+st);if(st&32)throw new Error("FDICT bit set in flate stream: "+it+", "+st);return at.codeSize=0,at.codeBuf=0,at}return tt.prototype.readBlock=function(){var rt,nt,at=this.stream,it=this.getBits(3);if(it&1&&(this.eof=!0),it>>=1,it===0){var st=void 0;if((st=at.getByte())===-1)throw new Error("Bad block header in flate stream");var ot=st;if((st=at.getByte())===-1)throw new Error("Bad block header in flate stream");if(ot|=st<<8,(st=at.getByte())===-1)throw new Error("Bad block header in flate stream");var lt=st;if((st=at.getByte())===-1)throw new Error("Bad block header in flate stream");if(lt|=st<<8,lt!==(~ot&65535)&&(ot!==0||lt!==0))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var ct=this.bufferLength;rt=this.ensureBuffer(ct+ot);var ut=ct+ot;if(this.bufferLength=ut,ot===0)at.peekByte()===-1&&(this.eof=!0);else for(var dt=ct;dt<ut;++dt){if((st=at.getByte())===-1){this.eof=!0;break}rt[dt]=st}return}var ft,ht;if(it===1)ft=fixedLitCodeTab,ht=fixedDistCodeTab;else if(it===2){var gt=this.getBits(5)+257,mt=this.getBits(5)+1,xt=this.getBits(4)+4,vt=new Uint8Array(codeLenCodeMap.length),_t=void 0;for(_t=0;_t<xt;++_t)vt[codeLenCodeMap[_t]]=this.getBits(3);var yt=this.generateHuffmanTable(vt);nt=0,_t=0;for(var St=gt+mt,bt=new Uint8Array(St),Et=void 0,Tt=void 0,At=void 0;_t<St;){var Ct=this.getCode(yt);if(Ct===16)Et=2,Tt=3,At=nt;else if(Ct===17)Et=3,Tt=3,At=nt=0;else if(Ct===18)Et=7,Tt=11,At=nt=0;else{bt[_t++]=nt=Ct;continue}for(var kt=this.getBits(Et)+Tt;kt-- >0;)bt[_t++]=At}ft=this.generateHuffmanTable(bt.subarray(0,gt)),ht=this.generateHuffmanTable(bt.subarray(gt,St))}else throw new Error("Unknown block type in flate stream");rt=this.buffer;for(var Pt=rt?rt.length:0,Dt=this.bufferLength;;){var Ft=this.getCode(ft);if(Ft<256){Dt+1>=Pt&&(rt=this.ensureBuffer(Dt+1),Pt=rt.length),rt[Dt++]=Ft;continue}if(Ft===256){this.bufferLength=Dt;return}Ft-=257,Ft=lengthDecode[Ft];var Ot=Ft>>16;Ot>0&&(Ot=this.getBits(Ot)),nt=(Ft&65535)+Ot,Ft=this.getCode(ht),Ft=distDecode[Ft],Ot=Ft>>16,Ot>0&&(Ot=this.getBits(Ot));var It=(Ft&65535)+Ot;Dt+nt>=Pt&&(rt=this.ensureBuffer(Dt+nt),Pt=rt.length);for(var Bt=0;Bt<nt;++Bt,++Dt)rt[Dt]=rt[Dt-It]}},tt.prototype.getBits=function(rt){for(var nt=this.stream,at=this.codeSize,it=this.codeBuf,st;at<rt;){if((st=nt.getByte())===-1)throw new Error("Bad encoding in flate stream");it|=st<<at,at+=8}return st=it&(1<<rt)-1,this.codeBuf=it>>rt,this.codeSize=at-=rt,st},tt.prototype.getCode=function(rt){for(var nt=this.stream,at=rt[0],it=rt[1],st=this.codeSize,ot=this.codeBuf,lt;st<it&&(lt=nt.getByte())!==-1;)ot|=lt<<st,st+=8;var ct=at[ot&(1<<it)-1];typeof at=="number"&&console.log("FLATE:",ct);var ut=ct>>16,dt=ct&65535;if(ut<1||st<ut)throw new Error("Bad encoding in flate stream");return this.codeBuf=ot>>ut,this.codeSize=st-ut,dt},tt.prototype.generateHuffmanTable=function(rt){var nt=rt.length,at=0,it;for(it=0;it<nt;++it)rt[it]>at&&(at=rt[it]);for(var st=1<<at,ot=new Int32Array(st),lt=1,ct=0,ut=2;lt<=at;++lt,ct<<=1,ut<<=1)for(var dt=0;dt<nt;++dt)if(rt[dt]===lt){var ft=0,ht=ct;for(it=0;it<lt;++it)ft=ft<<1|ht&1,ht>>=1;for(it=ft;it<st;it+=ut)ot[it]=lt<<16|dt;++ct}return[ot,at]},tt}(DecodeStream),LZWStream=function(et){__extends(tt,et);function tt(rt,nt,at){var it=et.call(this,nt)||this;it.stream=rt,it.cachedData=0,it.bitsCached=0;for(var st=4096,ot={earlyChange:at,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(st),dictionaryLengths:new Uint16Array(st),dictionaryPrevCodes:new Uint16Array(st),currentSequence:new Uint8Array(st),currentSequenceLength:0},lt=0;lt<256;++lt)ot.dictionaryValues[lt]=lt,ot.dictionaryLengths[lt]=1;return it.lzwState=ot,it}return tt.prototype.readBlock=function(){var rt=512,nt=rt*2,at=rt,it,st,ot,lt=this.lzwState;if(lt){var ct=lt.earlyChange,ut=lt.nextCode,dt=lt.dictionaryValues,ft=lt.dictionaryLengths,ht=lt.dictionaryPrevCodes,gt=lt.codeLength,mt=lt.prevCode,xt=lt.currentSequence,vt=lt.currentSequenceLength,_t=0,yt=this.bufferLength,St=this.ensureBuffer(this.bufferLength+nt);for(it=0;it<rt;it++){var bt=this.readBits(gt),Et=vt>0;if(!bt||bt<256)xt[0]=bt,vt=1;else if(bt>=258)if(bt<ut)for(vt=ft[bt],st=vt-1,ot=bt;st>=0;st--)xt[st]=dt[ot],ot=ht[ot];else xt[vt++]=xt[0];else if(bt===256){gt=9,ut=258,vt=0;continue}else{this.eof=!0,delete this.lzwState;break}if(Et&&(ht[ut]=mt,ft[ut]=ft[mt]+1,dt[ut]=xt[0],ut++,gt=ut+ct&ut+ct-1?gt:Math.min(Math.log(ut+ct)/.6931471805599453+1,12)|0),mt=bt,_t+=vt,nt<_t){do nt+=at;while(nt<_t);St=this.ensureBuffer(this.bufferLength+nt)}for(st=0;st<vt;st++)St[yt++]=xt[st]}lt.nextCode=ut,lt.codeLength=gt,lt.prevCode=mt,lt.currentSequenceLength=vt,this.bufferLength=yt}},tt.prototype.readBits=function(rt){for(var nt=this.bitsCached,at=this.cachedData;nt<rt;){var it=this.stream.getByte();if(it===-1)return this.eof=!0,null;at=at<<8|it,nt+=8}return this.bitsCached=nt-=rt,this.cachedData=at,at>>>nt&(1<<rt)-1},tt}(DecodeStream),RunLengthStream=function(et){__extends(tt,et);function tt(rt,nt){var at=et.call(this,nt)||this;return at.stream=rt,at}return tt.prototype.readBlock=function(){var rt=this.stream.getBytes(2);if(!rt||rt.length<2||rt[0]===128){this.eof=!0;return}var nt,at=this.bufferLength,it=rt[0];if(it<128){if(nt=this.ensureBuffer(at+it+1),nt[at++]=rt[1],it>0){var st=this.stream.getBytes(it);nt.set(st,at),at+=it}}else{it=257-it;var ot=rt[1];nt=this.ensureBuffer(at+it+1);for(var lt=0;lt<it;lt++)nt[at++]=ot}this.bufferLength=at},tt}(DecodeStream),decodeStream=function(et,tt,rt){if(tt===PDFName.of("FlateDecode"))return new FlateStream(et);if(tt===PDFName.of("LZWDecode")){var nt=1;if(rt instanceof PDFDict){var at=rt.lookup(PDFName.of("EarlyChange"));at instanceof PDFNumber&&(nt=at.asNumber())}return new LZWStream(et,void 0,nt)}if(tt===PDFName.of("ASCII85Decode"))return new Ascii85Stream(et);if(tt===PDFName.of("ASCIIHexDecode"))return new AsciiHexStream(et);if(tt===PDFName.of("RunLengthDecode"))return new RunLengthStream(et);throw new UnsupportedEncodingError(tt.asString())},decodePDFRawStream=function(et){var tt=et.dict,rt=et.contents,nt=new Stream(rt),at=tt.lookup(PDFName.of("Filter")),it=tt.lookup(PDFName.of("DecodeParms"));if(at instanceof PDFName)nt=decodeStream(nt,at,it);else if(at instanceof PDFArray)for(var st=0,ot=at.size();st<ot;st++)nt=decodeStream(nt,at.lookup(st,PDFName),it&&it.lookupMaybe(st,PDFDict));else if(at)throw new UnexpectedObjectTypeError([PDFName,PDFArray],at);return nt},fullPageBoundingBox=function(et){var tt=et.MediaBox(),rt=tt.lookup(2,PDFNumber).asNumber()-tt.lookup(0,PDFNumber).asNumber(),nt=tt.lookup(3,PDFNumber).asNumber()-tt.lookup(1,PDFNumber).asNumber();return{left:0,bottom:0,right:rt,top:nt}},boundingBoxAdjustedMatrix=function(et){return[1,0,0,1,-et.left,-et.bottom]},PDFPageEmbedder=function(){function et(tt,rt,nt){this.page=tt;var at=rt??fullPageBoundingBox(tt);this.width=at.right-at.left,this.height=at.top-at.bottom,this.boundingBox=at,this.transformationMatrix=nt??boundingBoxAdjustedMatrix(at)}return et.for=function(tt,rt,nt){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(at){return[2,new et(tt,rt,nt)]})})},et.prototype.embedIntoContext=function(tt,rt){return __awaiter(this,void 0,void 0,function(){var nt,at,it,st,ot,lt,ct,ut,dt,ft;return __generator(this,function(ht){if(nt=this.page.normalizedEntries(),at=nt.Contents,it=nt.Resources,!at)throw new MissingPageContentsEmbeddingError;return st=this.decodeContents(at),ot=this.boundingBox,lt=ot.left,ct=ot.bottom,ut=ot.right,dt=ot.top,ft=tt.flateStream(st,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[lt,ct,ut,dt],Matrix:this.transformationMatrix,Resources:it}),rt?(tt.assign(rt,ft),[2,rt]):[2,tt.register(ft)]})})},et.prototype.decodeContents=function(tt){for(var rt=Uint8Array.of(CharCodes$1.Newline),nt=[],at=0,it=tt.size();at<it;at++){var st=tt.lookup(at,PDFStream),ot=void 0;if(st instanceof PDFRawStream)ot=decodePDFRawStream(st).decode();else if(st instanceof PDFContentStream)ot=st.getUnencodedContents();else throw new UnrecognizedStreamTypeError(st);nt.push(ot,rt)}return mergeIntoTypedArray.apply(void 0,nt)},et}(),asEnum=function(et,tt){if(et!==void 0)return tt[et]},NonFullScreenPageMode;(function(et){et.UseNone="UseNone",et.UseOutlines="UseOutlines",et.UseThumbs="UseThumbs",et.UseOC="UseOC"})(NonFullScreenPageMode||(NonFullScreenPageMode={}));var ReadingDirection;(function(et){et.L2R="L2R",et.R2L="R2L"})(ReadingDirection||(ReadingDirection={}));var PrintScaling;(function(et){et.None="None",et.AppDefault="AppDefault"})(PrintScaling||(PrintScaling={}));var Duplex;(function(et){et.Simplex="Simplex",et.DuplexFlipShortEdge="DuplexFlipShortEdge",et.DuplexFlipLongEdge="DuplexFlipLongEdge"})(Duplex||(Duplex={}));var ViewerPreferences=function(){function et(tt){this.dict=tt}return et.prototype.lookupBool=function(tt){var rt=this.dict.lookup(PDFName.of(tt));if(rt instanceof PDFBool)return rt},et.prototype.lookupName=function(tt){var rt=this.dict.lookup(PDFName.of(tt));if(rt instanceof PDFName)return rt},et.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},et.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},et.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},et.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},et.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},et.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},et.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},et.prototype.Direction=function(){return this.lookupName("Direction")},et.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},et.prototype.Duplex=function(){return this.lookupName("Duplex")},et.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},et.prototype.PrintPageRange=function(){var tt=this.dict.lookup(PDFName.of("PrintPageRange"));if(tt instanceof PDFArray)return tt},et.prototype.NumCopies=function(){var tt=this.dict.lookup(PDFName.of("NumCopies"));if(tt instanceof PDFNumber)return tt},et.prototype.getHideToolbar=function(){var tt,rt;return(rt=(tt=this.HideToolbar())===null||tt===void 0?void 0:tt.asBoolean())!==null&&rt!==void 0?rt:!1},et.prototype.getHideMenubar=function(){var tt,rt;return(rt=(tt=this.HideMenubar())===null||tt===void 0?void 0:tt.asBoolean())!==null&&rt!==void 0?rt:!1},et.prototype.getHideWindowUI=function(){var tt,rt;return(rt=(tt=this.HideWindowUI())===null||tt===void 0?void 0:tt.asBoolean())!==null&&rt!==void 0?rt:!1},et.prototype.getFitWindow=function(){var tt,rt;return(rt=(tt=this.FitWindow())===null||tt===void 0?void 0:tt.asBoolean())!==null&&rt!==void 0?rt:!1},et.prototype.getCenterWindow=function(){var tt,rt;return(rt=(tt=this.CenterWindow())===null||tt===void 0?void 0:tt.asBoolean())!==null&&rt!==void 0?rt:!1},et.prototype.getDisplayDocTitle=function(){var tt,rt;return(rt=(tt=this.DisplayDocTitle())===null||tt===void 0?void 0:tt.asBoolean())!==null&&rt!==void 0?rt:!1},et.prototype.getNonFullScreenPageMode=function(){var tt,rt,nt=(tt=this.NonFullScreenPageMode())===null||tt===void 0?void 0:tt.decodeText();return(rt=asEnum(nt,NonFullScreenPageMode))!==null&&rt!==void 0?rt:NonFullScreenPageMode.UseNone},et.prototype.getReadingDirection=function(){var tt,rt,nt=(tt=this.Direction())===null||tt===void 0?void 0:tt.decodeText();return(rt=asEnum(nt,ReadingDirection))!==null&&rt!==void 0?rt:ReadingDirection.L2R},et.prototype.getPrintScaling=function(){var tt,rt,nt=(tt=this.PrintScaling())===null||tt===void 0?void 0:tt.decodeText();return(rt=asEnum(nt,PrintScaling))!==null&&rt!==void 0?rt:PrintScaling.AppDefault},et.prototype.getDuplex=function(){var tt,rt=(tt=this.Duplex())===null||tt===void 0?void 0:tt.decodeText();return asEnum(rt,Duplex)},et.prototype.getPickTrayByPDFSize=function(){var tt;return(tt=this.PickTrayByPDFSize())===null||tt===void 0?void 0:tt.asBoolean()},et.prototype.getPrintPageRange=function(){var tt=this.PrintPageRange();if(!tt)return[];for(var rt=[],nt=0;nt<tt.size();nt+=2){var at=tt.lookup(nt,PDFNumber).asNumber(),it=tt.lookup(nt+1,PDFNumber).asNumber();rt.push({start:at,end:it})}return rt},et.prototype.getNumCopies=function(){var tt,rt;return(rt=(tt=this.NumCopies())===null||tt===void 0?void 0:tt.asNumber())!==null&&rt!==void 0?rt:1},et.prototype.setHideToolbar=function(tt){var rt=this.dict.context.obj(tt);this.dict.set(PDFName.of("HideToolbar"),rt)},et.prototype.setHideMenubar=function(tt){var rt=this.dict.context.obj(tt);this.dict.set(PDFName.of("HideMenubar"),rt)},et.prototype.setHideWindowUI=function(tt){var rt=this.dict.context.obj(tt);this.dict.set(PDFName.of("HideWindowUI"),rt)},et.prototype.setFitWindow=function(tt){var rt=this.dict.context.obj(tt);this.dict.set(PDFName.of("FitWindow"),rt)},et.prototype.setCenterWindow=function(tt){var rt=this.dict.context.obj(tt);this.dict.set(PDFName.of("CenterWindow"),rt)},et.prototype.setDisplayDocTitle=function(tt){var rt=this.dict.context.obj(tt);this.dict.set(PDFName.of("DisplayDocTitle"),rt)},et.prototype.setNonFullScreenPageMode=function(tt){assertIsOneOf(tt,"nonFullScreenPageMode",NonFullScreenPageMode);var rt=PDFName.of(tt);this.dict.set(PDFName.of("NonFullScreenPageMode"),rt)},et.prototype.setReadingDirection=function(tt){assertIsOneOf(tt,"readingDirection",ReadingDirection);var rt=PDFName.of(tt);this.dict.set(PDFName.of("Direction"),rt)},et.prototype.setPrintScaling=function(tt){assertIsOneOf(tt,"printScaling",PrintScaling);var rt=PDFName.of(tt);this.dict.set(PDFName.of("PrintScaling"),rt)},et.prototype.setDuplex=function(tt){assertIsOneOf(tt,"duplex",Duplex);var rt=PDFName.of(tt);this.dict.set(PDFName.of("Duplex"),rt)},et.prototype.setPickTrayByPDFSize=function(tt){var rt=this.dict.context.obj(tt);this.dict.set(PDFName.of("PickTrayByPDFSize"),rt)},et.prototype.setPrintPageRange=function(tt){Array.isArray(tt)||(tt=[tt]);for(var rt=[],nt=0,at=tt.length;nt<at;nt++)rt.push(tt[nt].start),rt.push(tt[nt].end);assertEachIs(rt,"printPageRange",["number"]);var it=this.dict.context.obj(rt);this.dict.set(PDFName.of("PrintPageRange"),it)},et.prototype.setNumCopies=function(tt){assertRange(tt,"numCopies",1,Number.MAX_VALUE),assertInteger(tt,"numCopies");var rt=this.dict.context.obj(tt);this.dict.set(PDFName.of("NumCopies"),rt)},et.fromDict=function(tt){return new et(tt)},et.create=function(tt){var rt=tt.obj({});return new et(rt)},et}(),tfRegex$1=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,PDFAcroField=function(){function et(tt,rt){this.dict=tt,this.ref=rt}return et.prototype.T=function(){return this.dict.lookupMaybe(PDFName.of("T"),PDFString,PDFHexString)},et.prototype.Ff=function(){var tt=this.getInheritableAttribute(PDFName.of("Ff"));return this.dict.context.lookupMaybe(tt,PDFNumber)},et.prototype.V=function(){var tt=this.getInheritableAttribute(PDFName.of("V"));return this.dict.context.lookup(tt)},et.prototype.Kids=function(){return this.dict.lookupMaybe(PDFName.of("Kids"),PDFArray)},et.prototype.DA=function(){var tt=this.dict.lookup(PDFName.of("DA"));if(tt instanceof PDFString||tt instanceof PDFHexString)return tt},et.prototype.setKids=function(tt){this.dict.set(PDFName.of("Kids"),this.dict.context.obj(tt))},et.prototype.getParent=function(){var tt=this.dict.get(PDFName.of("Parent"));if(tt instanceof PDFRef){var rt=this.dict.lookup(PDFName.of("Parent"),PDFDict);return new et(rt,tt)}},et.prototype.setParent=function(tt){tt?this.dict.set(PDFName.of("Parent"),tt):this.dict.delete(PDFName.of("Parent"))},et.prototype.getFullyQualifiedName=function(){var tt=this.getParent();return tt?tt.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},et.prototype.getPartialName=function(){var tt;return(tt=this.T())===null||tt===void 0?void 0:tt.decodeText()},et.prototype.setPartialName=function(tt){tt?this.dict.set(PDFName.of("T"),PDFHexString.fromText(tt)):this.dict.delete(PDFName.of("T"))},et.prototype.setDefaultAppearance=function(tt){this.dict.set(PDFName.of("DA"),PDFString.of(tt))},et.prototype.getDefaultAppearance=function(){var tt=this.DA();return tt instanceof PDFHexString?tt.decodeText():tt==null?void 0:tt.asString()},et.prototype.setFontSize=function(tt){var rt,nt=(rt=this.getFullyQualifiedName())!==null&&rt!==void 0?rt:"",at=this.getDefaultAppearance();if(!at)throw new MissingDAEntryError(nt);var it=findLastMatch(at,tfRegex$1);if(!it.match)throw new MissingTfOperatorError(nt);var st=at.slice(0,it.pos-it.match[0].length),ot=it.pos<=at.length?at.slice(it.pos):"",lt=it.match[1],ct=st+" /"+lt+" "+tt+" Tf "+ot;this.setDefaultAppearance(ct)},et.prototype.getFlags=function(){var tt,rt;return(rt=(tt=this.Ff())===null||tt===void 0?void 0:tt.asNumber())!==null&&rt!==void 0?rt:0},et.prototype.setFlags=function(tt){this.dict.set(PDFName.of("Ff"),PDFNumber.of(tt))},et.prototype.hasFlag=function(tt){var rt=this.getFlags();return(rt&tt)!==0},et.prototype.setFlag=function(tt){var rt=this.getFlags();this.setFlags(rt|tt)},et.prototype.clearFlag=function(tt){var rt=this.getFlags();this.setFlags(rt&~tt)},et.prototype.setFlagTo=function(tt,rt){rt?this.setFlag(tt):this.clearFlag(tt)},et.prototype.getInheritableAttribute=function(tt){var rt;return this.ascend(function(nt){rt||(rt=nt.dict.get(tt))}),rt},et.prototype.ascend=function(tt){tt(this);var rt=this.getParent();rt&&rt.ascend(tt)},et}(),BorderStyle=function(){function et(tt){this.dict=tt}return et.prototype.W=function(){var tt=this.dict.lookup(PDFName.of("W"));if(tt instanceof PDFNumber)return tt},et.prototype.getWidth=function(){var tt,rt;return(rt=(tt=this.W())===null||tt===void 0?void 0:tt.asNumber())!==null&&rt!==void 0?rt:1},et.prototype.setWidth=function(tt){var rt=this.dict.context.obj(tt);this.dict.set(PDFName.of("W"),rt)},et.fromDict=function(tt){return new et(tt)},et}(),PDFAnnotation=function(){function et(tt){this.dict=tt}return et.prototype.Rect=function(){return this.dict.lookup(PDFName.of("Rect"),PDFArray)},et.prototype.AP=function(){return this.dict.lookupMaybe(PDFName.of("AP"),PDFDict)},et.prototype.F=function(){var tt=this.dict.lookup(PDFName.of("F"));return this.dict.context.lookupMaybe(tt,PDFNumber)},et.prototype.getRectangle=function(){var tt,rt=this.Rect();return(tt=rt==null?void 0:rt.asRectangle())!==null&&tt!==void 0?tt:{x:0,y:0,width:0,height:0}},et.prototype.setRectangle=function(tt){var rt=tt.x,nt=tt.y,at=tt.width,it=tt.height,st=this.dict.context.obj([rt,nt,rt+at,nt+it]);this.dict.set(PDFName.of("Rect"),st)},et.prototype.getAppearanceState=function(){var tt=this.dict.lookup(PDFName.of("AS"));if(tt instanceof PDFName)return tt},et.prototype.setAppearanceState=function(tt){this.dict.set(PDFName.of("AS"),tt)},et.prototype.setAppearances=function(tt){this.dict.set(PDFName.of("AP"),tt)},et.prototype.ensureAP=function(){var tt=this.AP();return tt||(tt=this.dict.context.obj({}),this.dict.set(PDFName.of("AP"),tt)),tt},et.prototype.getNormalAppearance=function(){var tt=this.ensureAP(),rt=tt.get(PDFName.of("N"));if(rt instanceof PDFRef||rt instanceof PDFDict)return rt;throw new Error("Unexpected N type: "+(rt==null?void 0:rt.constructor.name))},et.prototype.setNormalAppearance=function(tt){var rt=this.ensureAP();rt.set(PDFName.of("N"),tt)},et.prototype.setRolloverAppearance=function(tt){var rt=this.ensureAP();rt.set(PDFName.of("R"),tt)},et.prototype.setDownAppearance=function(tt){var rt=this.ensureAP();rt.set(PDFName.of("D"),tt)},et.prototype.removeRolloverAppearance=function(){var tt=this.AP();tt==null||tt.delete(PDFName.of("R"))},et.prototype.removeDownAppearance=function(){var tt=this.AP();tt==null||tt.delete(PDFName.of("D"))},et.prototype.getAppearances=function(){var tt=this.AP();if(tt){var rt=tt.lookup(PDFName.of("N"),PDFDict,PDFStream),nt=tt.lookupMaybe(PDFName.of("R"),PDFDict,PDFStream),at=tt.lookupMaybe(PDFName.of("D"),PDFDict,PDFStream);return{normal:rt,rollover:nt,down:at}}},et.prototype.getFlags=function(){var tt,rt;return(rt=(tt=this.F())===null||tt===void 0?void 0:tt.asNumber())!==null&&rt!==void 0?rt:0},et.prototype.setFlags=function(tt){this.dict.set(PDFName.of("F"),PDFNumber.of(tt))},et.prototype.hasFlag=function(tt){var rt=this.getFlags();return(rt&tt)!==0},et.prototype.setFlag=function(tt){var rt=this.getFlags();this.setFlags(rt|tt)},et.prototype.clearFlag=function(tt){var rt=this.getFlags();this.setFlags(rt&~tt)},et.prototype.setFlagTo=function(tt,rt){rt?this.setFlag(tt):this.clearFlag(tt)},et.fromDict=function(tt){return new et(tt)},et}(),AppearanceCharacteristics=function(){function et(tt){this.dict=tt}return et.prototype.R=function(){var tt=this.dict.lookup(PDFName.of("R"));if(tt instanceof PDFNumber)return tt},et.prototype.BC=function(){var tt=this.dict.lookup(PDFName.of("BC"));if(tt instanceof PDFArray)return tt},et.prototype.BG=function(){var tt=this.dict.lookup(PDFName.of("BG"));if(tt instanceof PDFArray)return tt},et.prototype.CA=function(){var tt=this.dict.lookup(PDFName.of("CA"));if(tt instanceof PDFHexString||tt instanceof PDFString)return tt},et.prototype.RC=function(){var tt=this.dict.lookup(PDFName.of("RC"));if(tt instanceof PDFHexString||tt instanceof PDFString)return tt},et.prototype.AC=function(){var tt=this.dict.lookup(PDFName.of("AC"));if(tt instanceof PDFHexString||tt instanceof PDFString)return tt},et.prototype.getRotation=function(){var tt;return(tt=this.R())===null||tt===void 0?void 0:tt.asNumber()},et.prototype.getBorderColor=function(){var tt=this.BC();if(tt){for(var rt=[],nt=0,at=tt==null?void 0:tt.size();nt<at;nt++){var it=tt.get(nt);it instanceof PDFNumber&&rt.push(it.asNumber())}return rt}},et.prototype.getBackgroundColor=function(){var tt=this.BG();if(tt){for(var rt=[],nt=0,at=tt==null?void 0:tt.size();nt<at;nt++){var it=tt.get(nt);it instanceof PDFNumber&&rt.push(it.asNumber())}return rt}},et.prototype.getCaptions=function(){var tt=this.CA(),rt=this.RC(),nt=this.AC();return{normal:tt==null?void 0:tt.decodeText(),rollover:rt==null?void 0:rt.decodeText(),down:nt==null?void 0:nt.decodeText()}},et.prototype.setRotation=function(tt){var rt=this.dict.context.obj(tt);this.dict.set(PDFName.of("R"),rt)},et.prototype.setBorderColor=function(tt){var rt=this.dict.context.obj(tt);this.dict.set(PDFName.of("BC"),rt)},et.prototype.setBackgroundColor=function(tt){var rt=this.dict.context.obj(tt);this.dict.set(PDFName.of("BG"),rt)},et.prototype.setCaptions=function(tt){var rt=PDFHexString.fromText(tt.normal);if(this.dict.set(PDFName.of("CA"),rt),tt.rollover){var nt=PDFHexString.fromText(tt.rollover);this.dict.set(PDFName.of("RC"),nt)}else this.dict.delete(PDFName.of("RC"));if(tt.down){var at=PDFHexString.fromText(tt.down);this.dict.set(PDFName.of("AC"),at)}else this.dict.delete(PDFName.of("AC"))},et.fromDict=function(tt){return new et(tt)},et}(),PDFWidgetAnnotation=function(et){__extends(tt,et);function tt(){return et!==null&&et.apply(this,arguments)||this}return tt.prototype.MK=function(){var rt=this.dict.lookup(PDFName.of("MK"));if(rt instanceof PDFDict)return rt},tt.prototype.BS=function(){var rt=this.dict.lookup(PDFName.of("BS"));if(rt instanceof PDFDict)return rt},tt.prototype.DA=function(){var rt=this.dict.lookup(PDFName.of("DA"));if(rt instanceof PDFString||rt instanceof PDFHexString)return rt},tt.prototype.P=function(){var rt=this.dict.get(PDFName.of("P"));if(rt instanceof PDFRef)return rt},tt.prototype.setP=function(rt){this.dict.set(PDFName.of("P"),rt)},tt.prototype.setDefaultAppearance=function(rt){this.dict.set(PDFName.of("DA"),PDFString.of(rt))},tt.prototype.getDefaultAppearance=function(){var rt=this.DA();return rt instanceof PDFHexString?rt.decodeText():rt==null?void 0:rt.asString()},tt.prototype.getAppearanceCharacteristics=function(){var rt=this.MK();if(rt)return AppearanceCharacteristics.fromDict(rt)},tt.prototype.getOrCreateAppearanceCharacteristics=function(){var rt=this.MK();if(rt)return AppearanceCharacteristics.fromDict(rt);var nt=AppearanceCharacteristics.fromDict(this.dict.context.obj({}));return this.dict.set(PDFName.of("MK"),nt.dict),nt},tt.prototype.getBorderStyle=function(){var rt=this.BS();if(rt)return BorderStyle.fromDict(rt)},tt.prototype.getOrCreateBorderStyle=function(){var rt=this.BS();if(rt)return BorderStyle.fromDict(rt);var nt=BorderStyle.fromDict(this.dict.context.obj({}));return this.dict.set(PDFName.of("BS"),nt.dict),nt},tt.prototype.getOnValue=function(){var rt,nt=(rt=this.getAppearances())===null||rt===void 0?void 0:rt.normal;if(nt instanceof PDFDict)for(var at=nt.keys(),it=0,st=at.length;it<st;it++){var ot=at[it];if(ot!==PDFName.of("Off"))return ot}},tt.fromDict=function(rt){return new tt(rt)},tt.create=function(rt,nt){var at=rt.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:nt});return new tt(at)},tt}(PDFAnnotation),PDFAcroTerminal=function(et){__extends(tt,et);function tt(){return et!==null&&et.apply(this,arguments)||this}return tt.prototype.FT=function(){var rt=this.getInheritableAttribute(PDFName.of("FT"));return this.dict.context.lookup(rt,PDFName)},tt.prototype.getWidgets=function(){var rt=this.Kids();if(!rt)return[PDFWidgetAnnotation.fromDict(this.dict)];for(var nt=new Array(rt.size()),at=0,it=rt.size();at<it;at++){var st=rt.lookup(at,PDFDict);nt[at]=PDFWidgetAnnotation.fromDict(st)}return nt},tt.prototype.addWidget=function(rt){var nt=this.normalizedEntries().Kids;nt.push(rt)},tt.prototype.removeWidget=function(rt){var nt=this.Kids();if(nt){if(rt<0||rt>nt.size())throw new IndexOutOfBoundsError(rt,0,nt.size());nt.remove(rt)}else{if(rt!==0)throw new IndexOutOfBoundsError(rt,0,0);this.setKids([])}},tt.prototype.normalizedEntries=function(){var rt=this.Kids();return rt||(rt=this.dict.context.obj([this.ref]),this.dict.set(PDFName.of("Kids"),rt)),{Kids:rt}},tt.fromDict=function(rt,nt){return new tt(rt,nt)},tt}(PDFAcroField),PDFAcroButton=function(et){__extends(tt,et);function tt(){return et!==null&&et.apply(this,arguments)||this}return tt.prototype.Opt=function(){return this.dict.lookupMaybe(PDFName.of("Opt"),PDFString,PDFHexString,PDFArray)},tt.prototype.setOpt=function(rt){this.dict.set(PDFName.of("Opt"),this.dict.context.obj(rt))},tt.prototype.getExportValues=function(){var rt=this.Opt();if(rt){if(rt instanceof PDFString||rt instanceof PDFHexString)return[rt];for(var nt=[],at=0,it=rt.size();at<it;at++){var st=rt.lookup(at);(st instanceof PDFString||st instanceof PDFHexString)&&nt.push(st)}return nt}},tt.prototype.removeExportValue=function(rt){var nt=this.Opt();if(nt)if(nt instanceof PDFString||nt instanceof PDFHexString){if(rt!==0)throw new IndexOutOfBoundsError(rt,0,0);this.setOpt([])}else{if(rt<0||rt>nt.size())throw new IndexOutOfBoundsError(rt,0,nt.size());nt.remove(rt)}},tt.prototype.normalizeExportValues=function(){for(var rt,nt,at,it,st=(rt=this.getExportValues())!==null&&rt!==void 0?rt:[],ot=[],lt=this.getWidgets(),ct=0,ut=lt.length;ct<ut;ct++){var dt=lt[ct],ft=(nt=st[ct])!==null&&nt!==void 0?nt:PDFHexString.fromText((it=(at=dt.getOnValue())===null||at===void 0?void 0:at.decodeText())!==null&&it!==void 0?it:"");ot.push(ft)}this.setOpt(ot)},tt.prototype.addOpt=function(rt,nt){var at;this.normalizeExportValues();var it=rt.decodeText(),st;if(nt)for(var ot=(at=this.getExportValues())!==null&&at!==void 0?at:[],lt=0,ct=ot.length;lt<ct;lt++){var ut=ot[lt];ut.decodeText()===it&&(st=lt)}var dt=this.Opt();return dt.push(rt),st??dt.size()-1},tt.prototype.addWidgetWithOpt=function(rt,nt,at){var it=this.addOpt(nt,at),st=PDFName.of(String(it));return this.addWidget(rt),st},tt}(PDFAcroTerminal),PDFAcroCheckBox=function(et){__extends(tt,et);function tt(){return et!==null&&et.apply(this,arguments)||this}return tt.prototype.setValue=function(rt){var nt,at=(nt=this.getOnValue())!==null&&nt!==void 0?nt:PDFName.of("Yes");if(rt!==at&&rt!==PDFName.of("Off"))throw new InvalidAcroFieldValueError;this.dict.set(PDFName.of("V"),rt);for(var it=this.getWidgets(),st=0,ot=it.length;st<ot;st++){var lt=it[st],ct=lt.getOnValue()===rt?rt:PDFName.of("Off");lt.setAppearanceState(ct)}},tt.prototype.getValue=function(){var rt=this.V();return rt instanceof PDFName?rt:PDFName.of("Off")},tt.prototype.getOnValue=function(){var rt=this.getWidgets()[0];return rt==null?void 0:rt.getOnValue()},tt.fromDict=function(rt,nt){return new tt(rt,nt)},tt.create=function(rt){var nt=rt.obj({FT:"Btn",Kids:[]}),at=rt.register(nt);return new tt(nt,at)},tt}(PDFAcroButton),flag$1=function(et){return 1<<et},AcroFieldFlags;(function(et){et[et.ReadOnly=flag$1(1-1)]="ReadOnly",et[et.Required=flag$1(2-1)]="Required",et[et.NoExport=flag$1(3-1)]="NoExport"})(AcroFieldFlags||(AcroFieldFlags={}));var AcroButtonFlags;(function(et){et[et.NoToggleToOff=flag$1(15-1)]="NoToggleToOff",et[et.Radio=flag$1(16-1)]="Radio",et[et.PushButton=flag$1(17-1)]="PushButton",et[et.RadiosInUnison=flag$1(26-1)]="RadiosInUnison"})(AcroButtonFlags||(AcroButtonFlags={}));var AcroTextFlags;(function(et){et[et.Multiline=flag$1(13-1)]="Multiline",et[et.Password=flag$1(14-1)]="Password",et[et.FileSelect=flag$1(21-1)]="FileSelect",et[et.DoNotSpellCheck=flag$1(23-1)]="DoNotSpellCheck",et[et.DoNotScroll=flag$1(24-1)]="DoNotScroll",et[et.Comb=flag$1(25-1)]="Comb",et[et.RichText=flag$1(26-1)]="RichText"})(AcroTextFlags||(AcroTextFlags={}));var AcroChoiceFlags;(function(et){et[et.Combo=flag$1(18-1)]="Combo",et[et.Edit=flag$1(19-1)]="Edit",et[et.Sort=flag$1(20-1)]="Sort",et[et.MultiSelect=flag$1(22-1)]="MultiSelect",et[et.DoNotSpellCheck=flag$1(23-1)]="DoNotSpellCheck",et[et.CommitOnSelChange=flag$1(27-1)]="CommitOnSelChange"})(AcroChoiceFlags||(AcroChoiceFlags={}));var PDFAcroChoice=function(et){__extends(tt,et);function tt(){return et!==null&&et.apply(this,arguments)||this}return tt.prototype.setValues=function(rt){if(this.hasFlag(AcroChoiceFlags.Combo)&&!this.hasFlag(AcroChoiceFlags.Edit)&&!this.valuesAreValid(rt))throw new InvalidAcroFieldValueError;if(rt.length===0&&this.dict.delete(PDFName.of("V")),rt.length===1&&this.dict.set(PDFName.of("V"),rt[0]),rt.length>1){if(!this.hasFlag(AcroChoiceFlags.MultiSelect))throw new MultiSelectValueError;this.dict.set(PDFName.of("V"),this.dict.context.obj(rt))}this.updateSelectedIndices(rt)},tt.prototype.valuesAreValid=function(rt){for(var nt=this.getOptions(),at=function(lt,ct){var ut=rt[lt].decodeText();if(!nt.find(function(dt){return ut===(dt.display||dt.value).decodeText()}))return{value:!1}},it=0,st=rt.length;it<st;it++){var ot=at(it);if(typeof ot=="object")return ot.value}return!0},tt.prototype.updateSelectedIndices=function(rt){if(rt.length>1){for(var nt=new Array(rt.length),at=this.getOptions(),it=function(lt,ct){var ut=rt[lt].decodeText();nt[lt]=at.findIndex(function(dt){return ut===(dt.display||dt.value).decodeText()})},st=0,ot=rt.length;st<ot;st++)it(st,ot);this.dict.set(PDFName.of("I"),this.dict.context.obj(nt.sort()))}else this.dict.delete(PDFName.of("I"))},tt.prototype.getValues=function(){var rt=this.V();if(rt instanceof PDFString||rt instanceof PDFHexString)return[rt];if(rt instanceof PDFArray){for(var nt=[],at=0,it=rt.size();at<it;at++){var st=rt.lookup(at);(st instanceof PDFString||st instanceof PDFHexString)&&nt.push(st)}return nt}return[]},tt.prototype.Opt=function(){return this.dict.lookupMaybe(PDFName.of("Opt"),PDFString,PDFHexString,PDFArray)},tt.prototype.setOptions=function(rt){for(var nt=new Array(rt.length),at=0,it=rt.length;at<it;at++){var st=rt[at],ot=st.value,lt=st.display;nt[at]=this.dict.context.obj([ot,lt||ot])}this.dict.set(PDFName.of("Opt"),this.dict.context.obj(nt))},tt.prototype.getOptions=function(){var rt=this.Opt();if(rt instanceof PDFString||rt instanceof PDFHexString)return[{value:rt,display:rt}];if(rt instanceof PDFArray){for(var nt=[],at=0,it=rt.size();at<it;at++){var st=rt.lookup(at);if((st instanceof PDFString||st instanceof PDFHexString)&&nt.push({value:st,display:st}),st instanceof PDFArray&&st.size()>0){var ot=st.lookup(0,PDFString,PDFHexString),lt=st.lookupMaybe(1,PDFString,PDFHexString);nt.push({value:ot,display:lt||ot})}}return nt}return[]},tt}(PDFAcroTerminal),PDFAcroComboBox=function(et){__extends(tt,et);function tt(){return et!==null&&et.apply(this,arguments)||this}return tt.fromDict=function(rt,nt){return new tt(rt,nt)},tt.create=function(rt){var nt=rt.obj({FT:"Ch",Ff:AcroChoiceFlags.Combo,Kids:[]}),at=rt.register(nt);return new tt(nt,at)},tt}(PDFAcroChoice),PDFAcroNonTerminal=function(et){__extends(tt,et);function tt(){return et!==null&&et.apply(this,arguments)||this}return tt.prototype.addField=function(rt){var nt=this.normalizedEntries().Kids;nt==null||nt.push(rt)},tt.prototype.normalizedEntries=function(){var rt=this.Kids();return rt||(rt=this.dict.context.obj([]),this.dict.set(PDFName.of("Kids"),rt)),{Kids:rt}},tt.fromDict=function(rt,nt){return new tt(rt,nt)},tt.create=function(rt){var nt=rt.obj({}),at=rt.register(nt);return new tt(nt,at)},tt}(PDFAcroField),PDFAcroSignature=function(et){__extends(tt,et);function tt(){return et!==null&&et.apply(this,arguments)||this}return tt.fromDict=function(rt,nt){return new tt(rt,nt)},tt}(PDFAcroTerminal),PDFAcroText=function(et){__extends(tt,et);function tt(){return et!==null&&et.apply(this,arguments)||this}return tt.prototype.MaxLen=function(){var rt=this.dict.lookup(PDFName.of("MaxLen"));if(rt instanceof PDFNumber)return rt},tt.prototype.Q=function(){var rt=this.dict.lookup(PDFName.of("Q"));if(rt instanceof PDFNumber)return rt},tt.prototype.setMaxLength=function(rt){this.dict.set(PDFName.of("MaxLen"),PDFNumber.of(rt))},tt.prototype.removeMaxLength=function(){this.dict.delete(PDFName.of("MaxLen"))},tt.prototype.getMaxLength=function(){var rt;return(rt=this.MaxLen())===null||rt===void 0?void 0:rt.asNumber()},tt.prototype.setQuadding=function(rt){this.dict.set(PDFName.of("Q"),PDFNumber.of(rt))},tt.prototype.getQuadding=function(){var rt;return(rt=this.Q())===null||rt===void 0?void 0:rt.asNumber()},tt.prototype.setValue=function(rt){this.dict.set(PDFName.of("V"),rt)},tt.prototype.removeValue=function(){this.dict.delete(PDFName.of("V"))},tt.prototype.getValue=function(){var rt=this.V();if(rt instanceof PDFString||rt instanceof PDFHexString)return rt},tt.fromDict=function(rt,nt){return new tt(rt,nt)},tt.create=function(rt){var nt=rt.obj({FT:"Tx",Kids:[]}),at=rt.register(nt);return new tt(nt,at)},tt}(PDFAcroTerminal),PDFAcroPushButton=function(et){__extends(tt,et);function tt(){return et!==null&&et.apply(this,arguments)||this}return tt.fromDict=function(rt,nt){return new tt(rt,nt)},tt.create=function(rt){var nt=rt.obj({FT:"Btn",Ff:AcroButtonFlags.PushButton,Kids:[]}),at=rt.register(nt);return new tt(nt,at)},tt}(PDFAcroButton),PDFAcroRadioButton=function(et){__extends(tt,et);function tt(){return et!==null&&et.apply(this,arguments)||this}return tt.prototype.setValue=function(rt){var nt=this.getOnValues();if(!nt.includes(rt)&&rt!==PDFName.of("Off"))throw new InvalidAcroFieldValueError;this.dict.set(PDFName.of("V"),rt);for(var at=this.getWidgets(),it=0,st=at.length;it<st;it++){var ot=at[it],lt=ot.getOnValue()===rt?rt:PDFName.of("Off");ot.setAppearanceState(lt)}},tt.prototype.getValue=function(){var rt=this.V();return rt instanceof PDFName?rt:PDFName.of("Off")},tt.prototype.getOnValues=function(){for(var rt=this.getWidgets(),nt=[],at=0,it=rt.length;at<it;at++){var st=rt[at].getOnValue();st&&nt.push(st)}return nt},tt.fromDict=function(rt,nt){return new tt(rt,nt)},tt.create=function(rt){var nt=rt.obj({FT:"Btn",Ff:AcroButtonFlags.Radio,Kids:[]}),at=rt.register(nt);return new tt(nt,at)},tt}(PDFAcroButton),PDFAcroListBox=function(et){__extends(tt,et);function tt(){return et!==null&&et.apply(this,arguments)||this}return tt.fromDict=function(rt,nt){return new tt(rt,nt)},tt.create=function(rt){var nt=rt.obj({FT:"Ch",Kids:[]}),at=rt.register(nt);return new tt(nt,at)},tt}(PDFAcroChoice),createPDFAcroFields=function(et){if(!et)return[];for(var tt=[],rt=0,nt=et.size();rt<nt;rt++){var at=et.get(rt),it=et.lookup(rt);at instanceof PDFRef&&it instanceof PDFDict&&tt.push([createPDFAcroField(it,at),at])}return tt},createPDFAcroField=function(et,tt){var rt=isNonTerminalAcroField(et);return rt?PDFAcroNonTerminal.fromDict(et,tt):createPDFAcroTerminal(et,tt)},isNonTerminalAcroField=function(et){var tt=et.lookup(PDFName.of("Kids"));if(tt instanceof PDFArray)for(var rt=0,nt=tt.size();rt<nt;rt++){var at=tt.lookup(rt),it=at instanceof PDFDict&&at.has(PDFName.of("T"));if(it)return!0}return!1},createPDFAcroTerminal=function(et,tt){var rt=getInheritableAttribute(et,PDFName.of("FT")),nt=et.context.lookup(rt,PDFName);return nt===PDFName.of("Btn")?createPDFAcroButton(et,tt):nt===PDFName.of("Ch")?createPDFAcroChoice(et,tt):nt===PDFName.of("Tx")?PDFAcroText.fromDict(et,tt):nt===PDFName.of("Sig")?PDFAcroSignature.fromDict(et,tt):PDFAcroTerminal.fromDict(et,tt)},createPDFAcroButton=function(et,tt){var rt,nt=getInheritableAttribute(et,PDFName.of("Ff")),at=et.context.lookupMaybe(nt,PDFNumber),it=(rt=at==null?void 0:at.asNumber())!==null&&rt!==void 0?rt:0;return flagIsSet(it,AcroButtonFlags.PushButton)?PDFAcroPushButton.fromDict(et,tt):flagIsSet(it,AcroButtonFlags.Radio)?PDFAcroRadioButton.fromDict(et,tt):PDFAcroCheckBox.fromDict(et,tt)},createPDFAcroChoice=function(et,tt){var rt,nt=getInheritableAttribute(et,PDFName.of("Ff")),at=et.context.lookupMaybe(nt,PDFNumber),it=(rt=at==null?void 0:at.asNumber())!==null&&rt!==void 0?rt:0;return flagIsSet(it,AcroChoiceFlags.Combo)?PDFAcroComboBox.fromDict(et,tt):PDFAcroListBox.fromDict(et,tt)},flagIsSet=function(et,tt){return(et&tt)!==0},getInheritableAttribute=function(et,tt){var rt;return ascend(et,function(nt){rt||(rt=nt.get(tt))}),rt},ascend=function(et,tt){tt(et);var rt=et.lookupMaybe(PDFName.of("Parent"),PDFDict);rt&&ascend(rt,tt)},PDFAcroForm=function(){function et(tt){this.dict=tt}return et.prototype.Fields=function(){var tt=this.dict.lookup(PDFName.of("Fields"));if(tt instanceof PDFArray)return tt},et.prototype.getFields=function(){for(var tt=this.normalizedEntries().Fields,rt=new Array(tt.size()),nt=0,at=tt.size();nt<at;nt++){var it=tt.get(nt),st=tt.lookup(nt,PDFDict);rt[nt]=[createPDFAcroField(st,it),it]}return rt},et.prototype.getAllFields=function(){var tt=[],rt=function(nt){if(nt)for(var at=0,it=nt.length;at<it;at++){var st=nt[at];tt.push(st);var ot=st[0];ot instanceof PDFAcroNonTerminal&&rt(createPDFAcroFields(ot.Kids()))}};return rt(this.getFields()),tt},et.prototype.addField=function(tt){var rt=this.normalizedEntries().Fields;rt==null||rt.push(tt)},et.prototype.removeField=function(tt){var rt=tt.getParent(),nt=rt===void 0?this.normalizedEntries().Fields:rt.Kids(),at=nt==null?void 0:nt.indexOf(tt.ref);if(nt===void 0||at===void 0)throw new Error("Tried to remove inexistent field "+tt.getFullyQualifiedName());nt.remove(at),rt!==void 0&&nt.size()===0&&this.removeField(rt)},et.prototype.normalizedEntries=function(){var tt=this.Fields();return tt||(tt=this.dict.context.obj([]),this.dict.set(PDFName.of("Fields"),tt)),{Fields:tt}},et.fromDict=function(tt){return new et(tt)},et.create=function(tt){var rt=tt.obj({Fields:[]});return new et(rt)},et}(),PDFCatalog=function(et){__extends(tt,et);function tt(){return et!==null&&et.apply(this,arguments)||this}return tt.prototype.Pages=function(){return this.lookup(PDFName.of("Pages"),PDFDict)},tt.prototype.AcroForm=function(){return this.lookupMaybe(PDFName.of("AcroForm"),PDFDict)},tt.prototype.getAcroForm=function(){var rt=this.AcroForm();if(rt)return PDFAcroForm.fromDict(rt)},tt.prototype.getOrCreateAcroForm=function(){var rt=this.getAcroForm();if(!rt){rt=PDFAcroForm.create(this.context);var nt=this.context.register(rt.dict);this.set(PDFName.of("AcroForm"),nt)}return rt},tt.prototype.ViewerPreferences=function(){return this.lookupMaybe(PDFName.of("ViewerPreferences"),PDFDict)},tt.prototype.getViewerPreferences=function(){var rt=this.ViewerPreferences();if(rt)return ViewerPreferences.fromDict(rt)},tt.prototype.getOrCreateViewerPreferences=function(){var rt=this.getViewerPreferences();if(!rt){rt=ViewerPreferences.create(this.context);var nt=this.context.register(rt.dict);this.set(PDFName.of("ViewerPreferences"),nt)}return rt},tt.prototype.insertLeafNode=function(rt,nt){var at=this.get(PDFName.of("Pages")),it=this.Pages().insertLeafNode(rt,nt);return it||at},tt.prototype.removeLeafNode=function(rt){this.Pages().removeLeafNode(rt)},tt.withContextAndPages=function(rt,nt){var at=new Map;return at.set(PDFName.of("Type"),PDFName.of("Catalog")),at.set(PDFName.of("Pages"),nt),new tt(at,rt)},tt.fromMapWithContext=function(rt,nt){return new tt(rt,nt)},tt}(PDFDict),PDFPageTree=function(et){__extends(tt,et);function tt(){return et!==null&&et.apply(this,arguments)||this}return tt.prototype.Parent=function(){return this.lookup(PDFName.of("Parent"))},tt.prototype.Kids=function(){return this.lookup(PDFName.of("Kids"),PDFArray)},tt.prototype.Count=function(){return this.lookup(PDFName.of("Count"),PDFNumber)},tt.prototype.pushTreeNode=function(rt){var nt=this.Kids();nt.push(rt)},tt.prototype.pushLeafNode=function(rt){var nt=this.Kids();this.insertLeafKid(nt.size(),rt)},tt.prototype.insertLeafNode=function(rt,nt){var at=this.Kids(),it=this.Count().asNumber();if(nt>it)throw new InvalidTargetIndexError(nt,it);for(var st=nt,ot=0,lt=at.size();ot<lt;ot++){if(st===0){this.insertLeafKid(ot,rt);return}var ct=at.get(ot),ut=this.context.lookup(ct);if(ut instanceof tt){if(ut.Count().asNumber()>st)return ut.insertLeafNode(rt,st)||ct;st-=ut.Count().asNumber()}ut instanceof PDFPageLeaf&&(st-=1)}if(st===0){this.insertLeafKid(at.size(),rt);return}throw new CorruptPageTreeError(nt,"insertLeafNode")},tt.prototype.removeLeafNode=function(rt,nt){nt===void 0&&(nt=!0);var at=this.Kids(),it=this.Count().asNumber();if(rt>=it)throw new InvalidTargetIndexError(rt,it);for(var st=rt,ot=0,lt=at.size();ot<lt;ot++){var ct=at.get(ot),ut=this.context.lookup(ct);if(ut instanceof tt)if(ut.Count().asNumber()>st){ut.removeLeafNode(st,nt),nt&&ut.Kids().size()===0&&at.remove(ot);return}else st-=ut.Count().asNumber();if(ut instanceof PDFPageLeaf)if(st===0){this.removeKid(ot);return}else st-=1}throw new CorruptPageTreeError(rt,"removeLeafNode")},tt.prototype.ascend=function(rt){rt(this);var nt=this.Parent();nt&&nt.ascend(rt)},tt.prototype.traverse=function(rt){for(var nt=this.Kids(),at=0,it=nt.size();at<it;at++){var st=nt.get(at),ot=this.context.lookup(st);ot instanceof tt&&ot.traverse(rt),rt(ot,st)}},tt.prototype.insertLeafKid=function(rt,nt){var at=this.Kids();this.ascend(function(it){var st=it.Count().asNumber()+1;it.set(PDFName.of("Count"),PDFNumber.of(st))}),at.insert(rt,nt)},tt.prototype.removeKid=function(rt){var nt=this.Kids(),at=nt.lookup(rt);at instanceof PDFPageLeaf&&this.ascend(function(it){var st=it.Count().asNumber()-1;it.set(PDFName.of("Count"),PDFNumber.of(st))}),nt.remove(rt)},tt.withContext=function(rt,nt){var at=new Map;return at.set(PDFName.of("Type"),PDFName.of("Pages")),at.set(PDFName.of("Kids"),rt.obj([])),at.set(PDFName.of("Count"),rt.obj(0)),nt&&at.set(PDFName.of("Parent"),nt),new tt(at,rt)},tt.fromMapWithContext=function(rt,nt){return new tt(rt,nt)},tt}(PDFDict),IsDigit=new Uint8Array(256);IsDigit[CharCodes$1.Zero]=1;IsDigit[CharCodes$1.One]=1;IsDigit[CharCodes$1.Two]=1;IsDigit[CharCodes$1.Three]=1;IsDigit[CharCodes$1.Four]=1;IsDigit[CharCodes$1.Five]=1;IsDigit[CharCodes$1.Six]=1;IsDigit[CharCodes$1.Seven]=1;IsDigit[CharCodes$1.Eight]=1;IsDigit[CharCodes$1.Nine]=1;var IsNumericPrefix=new Uint8Array(256);IsNumericPrefix[CharCodes$1.Period]=1;IsNumericPrefix[CharCodes$1.Plus]=1;IsNumericPrefix[CharCodes$1.Minus]=1;var IsNumeric=new Uint8Array(256);for(var idx=0,len=256;idx<len;idx++)IsNumeric[idx]=IsDigit[idx]||IsNumericPrefix[idx]?1:0;var Newline$1=CharCodes$1.Newline,CarriageReturn$1=CharCodes$1.CarriageReturn,BaseParser=function(){function et(tt,rt){rt===void 0&&(rt=!1),this.bytes=tt,this.capNumbers=rt}return et.prototype.parseRawInt=function(){for(var tt="";!this.bytes.done();){var rt=this.bytes.peek();if(!IsDigit[rt])break;tt+=charFromCode(this.bytes.next())}var nt=Number(tt);if(!tt||!isFinite(nt))throw new NumberParsingError(this.bytes.position(),tt);return nt},et.prototype.parseRawNumber=function(){for(var tt="";!this.bytes.done();){var rt=this.bytes.peek();if(!IsNumeric[rt]||(tt+=charFromCode(this.bytes.next()),rt===CharCodes$1.Period))break}for(;!this.bytes.done();){var rt=this.bytes.peek();if(!IsDigit[rt])break;tt+=charFromCode(this.bytes.next())}var nt=Number(tt);if(!tt||!isFinite(nt))throw new NumberParsingError(this.bytes.position(),tt);if(nt>Number.MAX_SAFE_INTEGER)if(this.capNumbers){var at="Parsed number that is too large for some PDF readers: "+tt+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(at),Number.MAX_SAFE_INTEGER}else{var at="Parsed number that is too large for some PDF readers: "+tt+", not capping.";console.warn(at)}return nt},et.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&IsWhitespace[this.bytes.peek()];)this.bytes.next()},et.prototype.skipLine=function(){for(;!this.bytes.done();){var tt=this.bytes.peek();if(tt===Newline$1||tt===CarriageReturn$1)return;this.bytes.next()}},et.prototype.skipComment=function(){if(this.bytes.peek()!==CharCodes$1.Percent)return!1;for(;!this.bytes.done();){var tt=this.bytes.peek();if(tt===Newline$1||tt===CarriageReturn$1)return!0;this.bytes.next()}return!0},et.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},et.prototype.matchKeyword=function(tt){for(var rt=this.bytes.offset(),nt=0,at=tt.length;nt<at;nt++)if(this.bytes.done()||this.bytes.next()!==tt[nt])return this.bytes.moveTo(rt),!1;return!0},et}(),ByteStream=function(){function et(tt){this.idx=0,this.line=0,this.column=0,this.bytes=tt,this.length=this.bytes.length}return et.prototype.moveTo=function(tt){this.idx=tt},et.prototype.next=function(){var tt=this.bytes[this.idx++];return tt===CharCodes$1.Newline?(this.line+=1,this.column=0):this.column+=1,tt},et.prototype.assertNext=function(tt){if(this.peek()!==tt)throw new NextByteAssertionError(this.position(),tt,this.peek());return this.next()},et.prototype.peek=function(){return this.bytes[this.idx]},et.prototype.peekAhead=function(tt){return this.bytes[this.idx+tt]},et.prototype.peekAt=function(tt){return this.bytes[tt]},et.prototype.done=function(){return this.idx>=this.length},et.prototype.offset=function(){return this.idx},et.prototype.slice=function(tt,rt){return this.bytes.slice(tt,rt)},et.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},et.of=function(tt){return new et(tt)},et.fromPDFRawStream=function(tt){return et.of(decodePDFRawStream(tt).decode())},et}(),Space=CharCodes$1.Space,CarriageReturn=CharCodes$1.CarriageReturn,Newline=CharCodes$1.Newline,stream=[CharCodes$1.s,CharCodes$1.t,CharCodes$1.r,CharCodes$1.e,CharCodes$1.a,CharCodes$1.m],endstream=[CharCodes$1.e,CharCodes$1.n,CharCodes$1.d,CharCodes$1.s,CharCodes$1.t,CharCodes$1.r,CharCodes$1.e,CharCodes$1.a,CharCodes$1.m],Keywords={header:[CharCodes$1.Percent,CharCodes$1.P,CharCodes$1.D,CharCodes$1.F,CharCodes$1.Dash],eof:[CharCodes$1.Percent,CharCodes$1.Percent,CharCodes$1.E,CharCodes$1.O,CharCodes$1.F],obj:[CharCodes$1.o,CharCodes$1.b,CharCodes$1.j],endobj:[CharCodes$1.e,CharCodes$1.n,CharCodes$1.d,CharCodes$1.o,CharCodes$1.b,CharCodes$1.j],xref:[CharCodes$1.x,CharCodes$1.r,CharCodes$1.e,CharCodes$1.f],trailer:[CharCodes$1.t,CharCodes$1.r,CharCodes$1.a,CharCodes$1.i,CharCodes$1.l,CharCodes$1.e,CharCodes$1.r],startxref:[CharCodes$1.s,CharCodes$1.t,CharCodes$1.a,CharCodes$1.r,CharCodes$1.t,CharCodes$1.x,CharCodes$1.r,CharCodes$1.e,CharCodes$1.f],true:[CharCodes$1.t,CharCodes$1.r,CharCodes$1.u,CharCodes$1.e],false:[CharCodes$1.f,CharCodes$1.a,CharCodes$1.l,CharCodes$1.s,CharCodes$1.e],null:[CharCodes$1.n,CharCodes$1.u,CharCodes$1.l,CharCodes$1.l],stream,streamEOF1:__spreadArrays(stream,[Space,CarriageReturn,Newline]),streamEOF2:__spreadArrays(stream,[CarriageReturn,Newline]),streamEOF3:__spreadArrays(stream,[CarriageReturn]),streamEOF4:__spreadArrays(stream,[Newline]),endstream,EOF1endstream:__spreadArrays([CarriageReturn,Newline],endstream),EOF2endstream:__spreadArrays([CarriageReturn],endstream),EOF3endstream:__spreadArrays([Newline],endstream)},PDFObjectParser=function(et){__extends(tt,et);function tt(rt,nt,at){at===void 0&&(at=!1);var it=et.call(this,rt,at)||this;return it.context=nt,it}return tt.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.true))return PDFBool.True;if(this.matchKeyword(Keywords.false))return PDFBool.False;if(this.matchKeyword(Keywords.null))return PDFNull$1;var rt=this.bytes.peek();if(rt===CharCodes$1.LessThan&&this.bytes.peekAhead(1)===CharCodes$1.LessThan)return this.parseDictOrStream();if(rt===CharCodes$1.LessThan)return this.parseHexString();if(rt===CharCodes$1.LeftParen)return this.parseString();if(rt===CharCodes$1.ForwardSlash)return this.parseName();if(rt===CharCodes$1.LeftSquareBracket)return this.parseArray();if(IsNumeric[rt])return this.parseNumberOrRef();throw new PDFObjectParsingError(this.bytes.position(),rt)},tt.prototype.parseNumberOrRef=function(){var rt=this.parseRawNumber();this.skipWhitespaceAndComments();var nt=this.bytes.offset();if(IsDigit[this.bytes.peek()]){var at=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===CharCodes$1.R)return this.bytes.assertNext(CharCodes$1.R),PDFRef.of(rt,at)}return this.bytes.moveTo(nt),PDFNumber.of(rt)},tt.prototype.parseHexString=function(){var rt="";for(this.bytes.assertNext(CharCodes$1.LessThan);!this.bytes.done()&&this.bytes.peek()!==CharCodes$1.GreaterThan;)rt+=charFromCode(this.bytes.next());return this.bytes.assertNext(CharCodes$1.GreaterThan),PDFHexString.of(rt)},tt.prototype.parseString=function(){for(var rt=0,nt=!1,at="";!this.bytes.done();){var it=this.bytes.next();if(at+=charFromCode(it),nt||(it===CharCodes$1.LeftParen&&(rt+=1),it===CharCodes$1.RightParen&&(rt-=1)),it===CharCodes$1.BackSlash?nt=!nt:nt&&(nt=!1),rt===0)return PDFString.of(at.substring(1,at.length-1))}throw new UnbalancedParenthesisError(this.bytes.position())},tt.prototype.parseName=function(){this.bytes.assertNext(CharCodes$1.ForwardSlash);for(var rt="";!this.bytes.done();){var nt=this.bytes.peek();if(IsWhitespace[nt]||IsDelimiter[nt])break;rt+=charFromCode(nt),this.bytes.next()}return PDFName.of(rt)},tt.prototype.parseArray=function(){this.bytes.assertNext(CharCodes$1.LeftSquareBracket),this.skipWhitespaceAndComments();for(var rt=PDFArray.withContext(this.context);this.bytes.peek()!==CharCodes$1.RightSquareBracket;){var nt=this.parseObject();rt.push(nt),this.skipWhitespaceAndComments()}return this.bytes.assertNext(CharCodes$1.RightSquareBracket),rt},tt.prototype.parseDict=function(){this.bytes.assertNext(CharCodes$1.LessThan),this.bytes.assertNext(CharCodes$1.LessThan),this.skipWhitespaceAndComments();for(var rt=new Map;!this.bytes.done()&&this.bytes.peek()!==CharCodes$1.GreaterThan&&this.bytes.peekAhead(1)!==CharCodes$1.GreaterThan;){var nt=this.parseName(),at=this.parseObject();rt.set(nt,at),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(CharCodes$1.GreaterThan),this.bytes.assertNext(CharCodes$1.GreaterThan);var it=rt.get(PDFName.of("Type"));return it===PDFName.of("Catalog")?PDFCatalog.fromMapWithContext(rt,this.context):it===PDFName.of("Pages")?PDFPageTree.fromMapWithContext(rt,this.context):it===PDFName.of("Page")?PDFPageLeaf.fromMapWithContext(rt,this.context):PDFDict.fromMapWithContext(rt,this.context)},tt.prototype.parseDictOrStream=function(){var rt=this.bytes.position(),nt=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Keywords.streamEOF1)&&!this.matchKeyword(Keywords.streamEOF2)&&!this.matchKeyword(Keywords.streamEOF3)&&!this.matchKeyword(Keywords.streamEOF4)&&!this.matchKeyword(Keywords.stream))return nt;var at=this.bytes.offset(),it,st=nt.get(PDFName.of("Length"));st instanceof PDFNumber?(it=at+st.asNumber(),this.bytes.moveTo(it),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.endstream)||(this.bytes.moveTo(at),it=this.findEndOfStreamFallback(rt))):it=this.findEndOfStreamFallback(rt);var ot=this.bytes.slice(at,it);return PDFRawStream.of(nt,ot)},tt.prototype.findEndOfStreamFallback=function(rt){for(var nt=1,at=this.bytes.offset();!this.bytes.done()&&(at=this.bytes.offset(),this.matchKeyword(Keywords.stream)?nt+=1:this.matchKeyword(Keywords.EOF1endstream)||this.matchKeyword(Keywords.EOF2endstream)||this.matchKeyword(Keywords.EOF3endstream)||this.matchKeyword(Keywords.endstream)?nt-=1:this.bytes.next(),nt!==0););if(nt!==0)throw new PDFStreamParsingError(rt);return at},tt.forBytes=function(rt,nt,at){return new tt(ByteStream.of(rt),nt,at)},tt.forByteStream=function(rt,nt,at){return at===void 0&&(at=!1),new tt(rt,nt,at)},tt}(BaseParser),PDFObjectStreamParser=function(et){__extends(tt,et);function tt(rt,nt){var at=et.call(this,ByteStream.fromPDFRawStream(rt),rt.dict.context)||this,it=rt.dict;return at.alreadyParsed=!1,at.shouldWaitForTick=nt||function(){return!1},at.firstOffset=it.lookup(PDFName.of("First"),PDFNumber).asNumber(),at.objectCount=it.lookup(PDFName.of("N"),PDFNumber).asNumber(),at}return tt.prototype.parseIntoContext=function(){return __awaiter(this,void 0,void 0,function(){var rt,nt,at,it,st,ot,lt,ct;return __generator(this,function(ut){switch(ut.label){case 0:if(this.alreadyParsed)throw new ReparseError("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,rt=this.parseOffsetsAndObjectNumbers(),nt=0,at=rt.length,ut.label=1;case 1:return nt<at?(it=rt[nt],st=it.objectNumber,ot=it.offset,this.bytes.moveTo(this.firstOffset+ot),lt=this.parseObject(),ct=PDFRef.of(st,0),this.context.assign(ct,lt),this.shouldWaitForTick()?[4,waitForTick()]:[3,3]):[3,4];case 2:ut.sent(),ut.label=3;case 3:return nt++,[3,1];case 4:return[2]}})})},tt.prototype.parseOffsetsAndObjectNumbers=function(){for(var rt=[],nt=0,at=this.objectCount;nt<at;nt++){this.skipWhitespaceAndComments();var it=this.parseRawInt();this.skipWhitespaceAndComments();var st=this.parseRawInt();rt.push({objectNumber:it,offset:st})}return rt},tt.forStream=function(rt,nt){return new tt(rt,nt)},tt}(PDFObjectParser),PDFXRefStreamParser=function(){function et(tt){this.alreadyParsed=!1,this.dict=tt.dict,this.bytes=ByteStream.fromPDFRawStream(tt),this.context=this.dict.context;var rt=this.dict.lookup(PDFName.of("Size"),PDFNumber),nt=this.dict.lookup(PDFName.of("Index"));if(nt instanceof PDFArray){this.subsections=[];for(var at=0,it=nt.size();at<it;at+=2){var st=nt.lookup(at+0,PDFNumber).asNumber(),ot=nt.lookup(at+1,PDFNumber).asNumber();this.subsections.push({firstObjectNumber:st,length:ot})}}else this.subsections=[{firstObjectNumber:0,length:rt.asNumber()}];var lt=this.dict.lookup(PDFName.of("W"),PDFArray);this.byteWidths=[-1,-1,-1];for(var at=0,it=lt.size();at<it;at++)this.byteWidths[at]=lt.lookup(at,PDFNumber).asNumber()}return et.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new ReparseError("PDFXRefStreamParser","parseIntoContext");this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(PDFName.of("Root")),Encrypt:this.dict.get(PDFName.of("Encrypt")),Info:this.dict.get(PDFName.of("Info")),ID:this.dict.get(PDFName.of("ID"))};var tt=this.parseEntries();return tt},et.prototype.parseEntries=function(){for(var tt=[],rt=this.byteWidths,nt=rt[0],at=rt[1],it=rt[2],st=0,ot=this.subsections.length;st<ot;st++)for(var lt=this.subsections[st],ct=lt.firstObjectNumber,ut=lt.length,dt=0;dt<ut;dt++){for(var ft=0,ht=0,gt=nt;ht<gt;ht++)ft=ft<<8|this.bytes.next();for(var mt=0,ht=0,gt=at;ht<gt;ht++)mt=mt<<8|this.bytes.next();for(var xt=0,ht=0,gt=it;ht<gt;ht++)xt=xt<<8|this.bytes.next();nt===0&&(ft=1);var vt=ct+dt,_t={ref:PDFRef.of(vt,xt),offset:mt,deleted:ft===0,inObjectStream:ft===2};tt.push(_t)}return tt},et.forStream=function(tt){return new et(tt)},et}(),PDFParser=function(et){__extends(tt,et);function tt(rt,nt,at,it){nt===void 0&&(nt=1/0),at===void 0&&(at=!1),it===void 0&&(it=!1);var st=et.call(this,ByteStream.of(rt),PDFContext.create(),it)||this;return st.alreadyParsed=!1,st.parsedObjects=0,st.shouldWaitForTick=function(){return st.parsedObjects+=1,st.parsedObjects%st.objectsPerTick===0},st.objectsPerTick=nt,st.throwOnInvalidObject=at,st}return tt.prototype.parseDocument=function(){return __awaiter(this,void 0,void 0,function(){var rt,nt;return __generator(this,function(at){switch(at.label){case 0:if(this.alreadyParsed)throw new ReparseError("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),at.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(at.sent(),nt=this.bytes.offset(),nt===rt)throw new StalledParserError(this.bytes.position());return rt=nt,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(PDFRef.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(PDFRef.of(0))),[2,this.context]}})})},tt.prototype.maybeRecoverRoot=function(){var rt=function(ut){return ut instanceof PDFDict&&ut.lookup(PDFName.of("Type"))===PDFName.of("Catalog")},nt=this.context.lookup(this.context.trailerInfo.Root);if(!rt(nt))for(var at=this.context.enumerateIndirectObjects(),it=0,st=at.length;it<st;it++){var ot=at[it],lt=ot[0],ct=ot[1];rt(ct)&&(this.context.trailerInfo.Root=lt)}},tt.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(Keywords.header)){var rt=this.parseRawInt();this.bytes.assertNext(CharCodes$1.Period);var nt=this.parseRawInt(),at=PDFHeader.forVersion(rt,nt);return this.skipBinaryHeaderComment(),at}this.bytes.next()}throw new MissingPDFHeaderError(this.bytes.position())},tt.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var rt=this.parseRawInt();this.skipWhitespaceAndComments();var nt=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Keywords.obj))throw new MissingKeywordError(this.bytes.position(),Keywords.obj);return PDFRef.of(rt,nt)},tt.prototype.matchIndirectObjectHeader=function(){var rt=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch{return this.bytes.moveTo(rt),!1}},tt.prototype.parseIndirectObject=function(){return __awaiter(this,void 0,void 0,function(){var rt,nt;return __generator(this,function(at){switch(at.label){case 0:return rt=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),nt=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.endobj),nt instanceof PDFRawStream&&nt.dict.lookup(PDFName.of("Type"))===PDFName.of("ObjStm")?[4,PDFObjectStreamParser.forStream(nt,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return at.sent(),[3,3];case 2:nt instanceof PDFRawStream&&nt.dict.lookup(PDFName.of("Type"))===PDFName.of("XRef")?PDFXRefStreamParser.forStream(nt).parseIntoContext():this.context.assign(rt,nt),at.label=3;case 3:return[2,rt]}})})},tt.prototype.tryToParseInvalidIndirectObject=function(){var rt=this.bytes.position(),nt="Trying to parse invalid object: "+JSON.stringify(rt)+")";if(this.throwOnInvalidObject)throw new Error(nt);console.warn(nt);var at=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+at),this.skipWhitespaceAndComments();for(var it=this.bytes.offset(),st=!0;!this.bytes.done()&&(this.matchKeyword(Keywords.endobj)&&(st=!1),!!st);)this.bytes.next();if(st)throw new PDFInvalidObjectParsingError(rt);var ot=this.bytes.offset()-Keywords.endobj.length,lt=PDFInvalidObject.of(this.bytes.slice(it,ot));return this.context.assign(at,lt),at},tt.prototype.parseIndirectObjects=function(){return __awaiter(this,void 0,void 0,function(){var rt;return __generator(this,function(nt){switch(nt.label){case 0:this.skipWhitespaceAndComments(),nt.label=1;case 1:if(!(!this.bytes.done()&&IsDigit[this.bytes.peek()]))return[3,8];rt=this.bytes.offset(),nt.label=2;case 2:return nt.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return nt.sent(),[3,5];case 4:return nt.sent(),this.bytes.moveTo(rt),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,waitForTick()]:[3,7];case 6:nt.sent(),nt.label=7;case 7:return[3,1];case 8:return[2]}})})},tt.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.xref)){this.skipWhitespaceAndComments();for(var rt=-1,nt=PDFCrossRefSection.createEmpty();!this.bytes.done()&&IsDigit[this.bytes.peek()];){var at=this.parseRawInt();this.skipWhitespaceAndComments();var it=this.parseRawInt();this.skipWhitespaceAndComments();var st=this.bytes.peek();if(st===CharCodes$1.n||st===CharCodes$1.f){var ot=PDFRef.of(rt,it);this.bytes.next()===CharCodes$1.n?nt.addEntry(ot,at):nt.addDeletedEntry(ot,at),rt+=1}else rt=at;this.skipWhitespaceAndComments()}return nt}},tt.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.trailer)){this.skipWhitespaceAndComments();var rt=this.parseDict(),nt=this.context;nt.trailerInfo={Root:rt.get(PDFName.of("Root"))||nt.trailerInfo.Root,Encrypt:rt.get(PDFName.of("Encrypt"))||nt.trailerInfo.Encrypt,Info:rt.get(PDFName.of("Info"))||nt.trailerInfo.Info,ID:rt.get(PDFName.of("ID"))||nt.trailerInfo.ID}}},tt.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.startxref)){this.skipWhitespaceAndComments();var rt=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(Keywords.eof),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.eof),this.skipWhitespaceAndComments(),PDFTrailer.forLastCrossRefSectionOffset(rt)}},tt.prototype.parseDocumentSection=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(rt){switch(rt.label){case 0:return[4,this.parseIndirectObjects()];case 1:return rt.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}})})},tt.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var rt=this.bytes.offset(),nt=this.bytes.peek(),at=nt>=CharCodes$1.Space&&nt<=CharCodes$1.Tilde;if(at&&(this.matchKeyword(Keywords.xref)||this.matchKeyword(Keywords.trailer)||this.matchKeyword(Keywords.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(rt);break}this.bytes.next()}},tt.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var rt=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(rt)}catch{this.bytes.next(),this.skipWhitespaceAndComments()}},tt.forBytesWithOptions=function(rt,nt,at,it){return new tt(rt,nt,at,it)},tt}(PDFObjectParser),flag=function(et){return 1<<et},AnnotationFlags;(function(et){et[et.Invisible=flag(1-1)]="Invisible",et[et.Hidden=flag(2-1)]="Hidden",et[et.Print=flag(3-1)]="Print",et[et.NoZoom=flag(4-1)]="NoZoom",et[et.NoRotate=flag(5-1)]="NoRotate",et[et.NoView=flag(6-1)]="NoView",et[et.ReadOnly=flag(7-1)]="ReadOnly",et[et.Locked=flag(8-1)]="Locked",et[et.ToggleNoView=flag(9-1)]="ToggleNoView",et[et.LockedContents=flag(10-1)]="LockedContents"})(AnnotationFlags||(AnnotationFlags={}));var asPDFName=function(et){return et instanceof PDFName?et:PDFName.of(et)},asPDFNumber=function(et){return et instanceof PDFNumber?et:PDFNumber.of(et)},asNumber=function(et){return et instanceof PDFNumber?et.asNumber():et},RotationTypes;(function(et){et.Degrees="degrees",et.Radians="radians"})(RotationTypes||(RotationTypes={}));var degrees=function(et){return assertIs(et,"degreeAngle",["number"]),{type:RotationTypes.Degrees,angle:et}},Radians=RotationTypes.Radians,Degrees=RotationTypes.Degrees,degreesToRadians=function(et){return et*Math.PI/180},radiansToDegrees=function(et){return et*180/Math.PI},toRadians=function(et){return et.type===Radians?et.angle:et.type===Degrees?degreesToRadians(et.angle):error("Invalid rotation: "+JSON.stringify(et))},toDegrees=function(et){return et.type===Radians?radiansToDegrees(et.angle):et.type===Degrees?et.angle:error("Invalid rotation: "+JSON.stringify(et))},reduceRotation=function(et){et===void 0&&(et=0);var tt=et/90%4;return tt===0?0:tt===1?90:tt===2?180:tt===3?270:0},adjustDimsForRotation=function(et,tt){tt===void 0&&(tt=0);var rt=reduceRotation(tt);return rt===90||rt===270?{width:et.height,height:et.width}:{width:et.width,height:et.height}},rotateRectangle=function(et,tt,rt){tt===void 0&&(tt=0),rt===void 0&&(rt=0);var nt=et.x,at=et.y,it=et.width,st=et.height,ot=reduceRotation(rt),lt=tt/2;return ot===0?{x:nt-lt,y:at-lt,width:it,height:st}:ot===90?{x:nt-st+lt,y:at-lt,width:st,height:it}:ot===180?{x:nt-it+lt,y:at-st+lt,width:it,height:st}:ot===270?{x:nt-lt,y:at-it+lt,width:st,height:it}:{x:nt-lt,y:at-lt,width:it,height:st}},clip=function(){return PDFOperator.of(Ops.ClipNonZero)},cos=Math.cos,sin=Math.sin,tan=Math.tan,concatTransformationMatrix=function(et,tt,rt,nt,at,it){return PDFOperator.of(Ops.ConcatTransformationMatrix,[asPDFNumber(et),asPDFNumber(tt),asPDFNumber(rt),asPDFNumber(nt),asPDFNumber(at),asPDFNumber(it)])},translate=function(et,tt){return concatTransformationMatrix(1,0,0,1,et,tt)},scale=function(et,tt){return concatTransformationMatrix(et,0,0,tt,0,0)},rotateRadians=function(et){return concatTransformationMatrix(cos(asNumber(et)),sin(asNumber(et)),-sin(asNumber(et)),cos(asNumber(et)),0,0)},rotateDegrees=function(et){return rotateRadians(degreesToRadians(asNumber(et)))},skewRadians=function(et,tt){return concatTransformationMatrix(1,tan(asNumber(et)),tan(asNumber(tt)),1,0,0)},setDashPattern=function(et,tt){return PDFOperator.of(Ops.SetLineDashPattern,["["+et.map(asPDFNumber).join(" ")+"]",asPDFNumber(tt)])},LineCapStyle;(function(et){et[et.Butt=0]="Butt",et[et.Round=1]="Round",et[et.Projecting=2]="Projecting"})(LineCapStyle||(LineCapStyle={}));var setLineCap=function(et){return PDFOperator.of(Ops.SetLineCapStyle,[asPDFNumber(et)])},LineJoinStyle;(function(et){et[et.Miter=0]="Miter",et[et.Round=1]="Round",et[et.Bevel=2]="Bevel"})(LineJoinStyle||(LineJoinStyle={}));var setGraphicsState=function(et){return PDFOperator.of(Ops.SetGraphicsStateParams,[asPDFName(et)])},pushGraphicsState=function(){return PDFOperator.of(Ops.PushGraphicsState)},popGraphicsState=function(){return PDFOperator.of(Ops.PopGraphicsState)},setLineWidth=function(et){return PDFOperator.of(Ops.SetLineWidth,[asPDFNumber(et)])},appendBezierCurve=function(et,tt,rt,nt,at,it){return PDFOperator.of(Ops.AppendBezierCurve,[asPDFNumber(et),asPDFNumber(tt),asPDFNumber(rt),asPDFNumber(nt),asPDFNumber(at),asPDFNumber(it)])},appendQuadraticCurve=function(et,tt,rt,nt){return PDFOperator.of(Ops.CurveToReplicateInitialPoint,[asPDFNumber(et),asPDFNumber(tt),asPDFNumber(rt),asPDFNumber(nt)])},closePath=function(){return PDFOperator.of(Ops.ClosePath)},moveTo=function(et,tt){return PDFOperator.of(Ops.MoveTo,[asPDFNumber(et),asPDFNumber(tt)])},lineTo=function(et,tt){return PDFOperator.of(Ops.LineTo,[asPDFNumber(et),asPDFNumber(tt)])},stroke=function(){return PDFOperator.of(Ops.StrokePath)},fill=function(){return PDFOperator.of(Ops.FillNonZero)},fillAndStroke=function(){return PDFOperator.of(Ops.FillNonZeroAndStroke)},endPath=function(){return PDFOperator.of(Ops.EndPath)},nextLine=function(){return PDFOperator.of(Ops.NextLine)},showText=function(et){return PDFOperator.of(Ops.ShowText,[et])},beginText=function(){return PDFOperator.of(Ops.BeginText)},endText=function(){return PDFOperator.of(Ops.EndText)},setFontAndSize=function(et,tt){return PDFOperator.of(Ops.SetFontAndSize,[asPDFName(et),asPDFNumber(tt)])},setLineHeight=function(et){return PDFOperator.of(Ops.SetTextLineHeight,[asPDFNumber(et)])},TextRenderingMode;(function(et){et[et.Fill=0]="Fill",et[et.Outline=1]="Outline",et[et.FillAndOutline=2]="FillAndOutline",et[et.Invisible=3]="Invisible",et[et.FillAndClip=4]="FillAndClip",et[et.OutlineAndClip=5]="OutlineAndClip",et[et.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",et[et.Clip=7]="Clip"})(TextRenderingMode||(TextRenderingMode={}));var setTextMatrix=function(et,tt,rt,nt,at,it){return PDFOperator.of(Ops.SetTextMatrix,[asPDFNumber(et),asPDFNumber(tt),asPDFNumber(rt),asPDFNumber(nt),asPDFNumber(at),asPDFNumber(it)])},rotateAndSkewTextRadiansAndTranslate=function(et,tt,rt,nt,at){return setTextMatrix(cos(asNumber(et)),sin(asNumber(et))+tan(asNumber(tt)),-sin(asNumber(et))+tan(asNumber(rt)),cos(asNumber(et)),nt,at)},drawObject=function(et){return PDFOperator.of(Ops.DrawObject,[asPDFName(et)])},setFillingGrayscaleColor=function(et){return PDFOperator.of(Ops.NonStrokingColorGray,[asPDFNumber(et)])},setStrokingGrayscaleColor=function(et){return PDFOperator.of(Ops.StrokingColorGray,[asPDFNumber(et)])},setFillingRgbColor=function(et,tt,rt){return PDFOperator.of(Ops.NonStrokingColorRgb,[asPDFNumber(et),asPDFNumber(tt),asPDFNumber(rt)])},setStrokingRgbColor=function(et,tt,rt){return PDFOperator.of(Ops.StrokingColorRgb,[asPDFNumber(et),asPDFNumber(tt),asPDFNumber(rt)])},setFillingCmykColor=function(et,tt,rt,nt){return PDFOperator.of(Ops.NonStrokingColorCmyk,[asPDFNumber(et),asPDFNumber(tt),asPDFNumber(rt),asPDFNumber(nt)])},setStrokingCmykColor=function(et,tt,rt,nt){return PDFOperator.of(Ops.StrokingColorCmyk,[asPDFNumber(et),asPDFNumber(tt),asPDFNumber(rt),asPDFNumber(nt)])},beginMarkedContent=function(et){return PDFOperator.of(Ops.BeginMarkedContent,[asPDFName(et)])},endMarkedContent=function(){return PDFOperator.of(Ops.EndMarkedContent)},ColorTypes;(function(et){et.Grayscale="Grayscale",et.RGB="RGB",et.CMYK="CMYK"})(ColorTypes||(ColorTypes={}));var grayscale=function(et){return assertRange(et,"gray",0,1),{type:ColorTypes.Grayscale,gray:et}},rgb=function(et,tt,rt){return assertRange(et,"red",0,1),assertRange(tt,"green",0,1),assertRange(rt,"blue",0,1),{type:ColorTypes.RGB,red:et,green:tt,blue:rt}},cmyk=function(et,tt,rt,nt){return assertRange(et,"cyan",0,1),assertRange(tt,"magenta",0,1),assertRange(rt,"yellow",0,1),assertRange(nt,"key",0,1),{type:ColorTypes.CMYK,cyan:et,magenta:tt,yellow:rt,key:nt}},Grayscale=ColorTypes.Grayscale,RGB=ColorTypes.RGB,CMYK=ColorTypes.CMYK,setFillingColor=function(et){return et.type===Grayscale?setFillingGrayscaleColor(et.gray):et.type===RGB?setFillingRgbColor(et.red,et.green,et.blue):et.type===CMYK?setFillingCmykColor(et.cyan,et.magenta,et.yellow,et.key):error("Invalid color: "+JSON.stringify(et))},setStrokingColor=function(et){return et.type===Grayscale?setStrokingGrayscaleColor(et.gray):et.type===RGB?setStrokingRgbColor(et.red,et.green,et.blue):et.type===CMYK?setStrokingCmykColor(et.cyan,et.magenta,et.yellow,et.key):error("Invalid color: "+JSON.stringify(et))},componentsToColor=function(et,tt){return tt===void 0&&(tt=1),(et==null?void 0:et.length)===1?grayscale(et[0]*tt):(et==null?void 0:et.length)===3?rgb(et[0]*tt,et[1]*tt,et[2]*tt):(et==null?void 0:et.length)===4?cmyk(et[0]*tt,et[1]*tt,et[2]*tt,et[3]*tt):void 0},colorToComponents=function(et){return et.type===Grayscale?[et.gray]:et.type===RGB?[et.red,et.green,et.blue]:et.type===CMYK?[et.cyan,et.magenta,et.yellow,et.key]:error("Invalid color: "+JSON.stringify(et))},cx=0,cy=0,px=0,py=0,sx=0,sy=0,parameters=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),parse=function(et){for(var tt,rt=[],nt=[],at="",it=!1,st=0,ot=0,lt=et;ot<lt.length;ot++){var ct=lt[ot];if(parameters.has(ct))st=parameters.get(ct),tt&&(at.length>0&&(nt[nt.length]=+at),rt[rt.length]={cmd:tt,args:nt},nt=[],at="",it=!1),tt=ct;else if([" ",","].includes(ct)||ct==="-"&&at.length>0&&at[at.length-1]!=="e"||ct==="."&&it){if(at.length===0)continue;nt.length===st?(rt[rt.length]={cmd:tt,args:nt},nt=[+at],tt==="M"&&(tt="L"),tt==="m"&&(tt="l")):nt[nt.length]=+at,it=ct===".",at=["-","."].includes(ct)?ct:""}else at+=ct,ct==="."&&(it=!0)}return at.length>0&&(nt.length===st?(rt[rt.length]={cmd:tt,args:nt},nt=[+at],tt==="M"&&(tt="L"),tt==="m"&&(tt="l")):nt[nt.length]=+at),rt[rt.length]={cmd:tt,args:nt},rt},apply=function(et){cx=cy=px=py=sx=sy=0;for(var tt=[],rt=0;rt<et.length;rt++){var nt=et[rt];if(nt.cmd&&typeof runners[nt.cmd]=="function"){var at=runners[nt.cmd](nt.args);Array.isArray(at)?tt=tt.concat(at):tt.push(at)}}return tt},runners={M:function(et){return cx=et[0],cy=et[1],px=py=null,sx=cx,sy=cy,moveTo(cx,cy)},m:function(et){return cx+=et[0],cy+=et[1],px=py=null,sx=cx,sy=cy,moveTo(cx,cy)},C:function(et){return cx=et[4],cy=et[5],px=et[2],py=et[3],appendBezierCurve(et[0],et[1],et[2],et[3],et[4],et[5])},c:function(et){var tt=appendBezierCurve(et[0]+cx,et[1]+cy,et[2]+cx,et[3]+cy,et[4]+cx,et[5]+cy);return px=cx+et[2],py=cy+et[3],cx+=et[4],cy+=et[5],tt},S:function(et){(px===null||py===null)&&(px=cx,py=cy);var tt=appendBezierCurve(cx-(px-cx),cy-(py-cy),et[0],et[1],et[2],et[3]);return px=et[0],py=et[1],cx=et[2],cy=et[3],tt},s:function(et){(px===null||py===null)&&(px=cx,py=cy);var tt=appendBezierCurve(cx-(px-cx),cy-(py-cy),cx+et[0],cy+et[1],cx+et[2],cy+et[3]);return px=cx+et[0],py=cy+et[1],cx+=et[2],cy+=et[3],tt},Q:function(et){return px=et[0],py=et[1],cx=et[2],cy=et[3],appendQuadraticCurve(et[0],et[1],cx,cy)},q:function(et){var tt=appendQuadraticCurve(et[0]+cx,et[1]+cy,et[2]+cx,et[3]+cy);return px=cx+et[0],py=cy+et[1],cx+=et[2],cy+=et[3],tt},T:function(et){px===null||py===null?(px=cx,py=cy):(px=cx-(px-cx),py=cy-(py-cy));var tt=appendQuadraticCurve(px,py,et[0],et[1]);return px=cx-(px-cx),py=cy-(py-cy),cx=et[0],cy=et[1],tt},t:function(et){px===null||py===null?(px=cx,py=cy):(px=cx-(px-cx),py=cy-(py-cy));var tt=appendQuadraticCurve(px,py,cx+et[0],cy+et[1]);return cx+=et[0],cy+=et[1],tt},A:function(et){var tt=solveArc(cx,cy,et);return cx=et[5],cy=et[6],tt},a:function(et){et[5]+=cx,et[6]+=cy;var tt=solveArc(cx,cy,et);return cx=et[5],cy=et[6],tt},L:function(et){return cx=et[0],cy=et[1],px=py=null,lineTo(cx,cy)},l:function(et){return cx+=et[0],cy+=et[1],px=py=null,lineTo(cx,cy)},H:function(et){return cx=et[0],px=py=null,lineTo(cx,cy)},h:function(et){return cx+=et[0],px=py=null,lineTo(cx,cy)},V:function(et){return cy=et[0],px=py=null,lineTo(cx,cy)},v:function(et){return cy+=et[0],px=py=null,lineTo(cx,cy)},Z:function(){var et=closePath();return cx=sx,cy=sy,et},z:function(){var et=closePath();return cx=sx,cy=sy,et}},solveArc=function(et,tt,rt){for(var nt=rt[0],at=rt[1],it=rt[2],st=rt[3],ot=rt[4],lt=rt[5],ct=rt[6],ut=arcToSegments(lt,ct,nt,at,st,ot,it,et,tt),dt=[],ft=0,ht=ut;ft<ht.length;ft++){var gt=ht[ft],mt=segmentToBezier.apply(void 0,gt);dt.push(appendBezierCurve.apply(void 0,mt))}return dt},arcToSegments=function(et,tt,rt,nt,at,it,st,ot,lt){var ct=st*(Math.PI/180),ut=Math.sin(ct),dt=Math.cos(ct);rt=Math.abs(rt),nt=Math.abs(nt),px=dt*(ot-et)*.5+ut*(lt-tt)*.5,py=dt*(lt-tt)*.5-ut*(ot-et)*.5;var ft=px*px/(rt*rt)+py*py/(nt*nt);ft>1&&(ft=Math.sqrt(ft),rt*=ft,nt*=ft);var ht=dt/rt,gt=ut/rt,mt=-ut/nt,xt=dt/nt,vt=ht*ot+gt*lt,_t=mt*ot+xt*lt,yt=ht*et+gt*tt,St=mt*et+xt*tt,bt=(yt-vt)*(yt-vt)+(St-_t)*(St-_t),Et=1/bt-.25;Et<0&&(Et=0);var Tt=Math.sqrt(Et);it===at&&(Tt=-Tt);var At=.5*(vt+yt)-Tt*(St-_t),Ct=.5*(_t+St)+Tt*(yt-vt),kt=Math.atan2(_t-Ct,vt-At),Pt=Math.atan2(St-Ct,yt-At),Dt=Pt-kt;Dt<0&&it===1?Dt+=2*Math.PI:Dt>0&&it===0&&(Dt-=2*Math.PI);for(var Ft=Math.ceil(Math.abs(Dt/(Math.PI*.5+.001))),Ot=[],It=0;It<Ft;It++){var Bt=kt+It*Dt/Ft,qt=kt+(It+1)*Dt/Ft;Ot[It]=[At,Ct,Bt,qt,rt,nt,ut,dt]}return Ot},segmentToBezier=function(et,tt,rt,nt,at,it,st,ot){var lt=ot*at,ct=-st*it,ut=st*at,dt=ot*it,ft=.5*(nt-rt),ht=8/3*Math.sin(ft*.5)*Math.sin(ft*.5)/Math.sin(ft),gt=et+Math.cos(rt)-ht*Math.sin(rt),mt=tt+Math.sin(rt)+ht*Math.cos(rt),xt=et+Math.cos(nt),vt=tt+Math.sin(nt),_t=xt+ht*Math.sin(nt),yt=vt-ht*Math.cos(nt),St=[lt*gt+ct*mt,ut*gt+dt*mt,lt*_t+ct*yt,ut*_t+dt*yt,lt*xt+ct*vt,ut*xt+dt*vt];return St},svgPathToOperators=function(et){return apply(parse(et))},drawLinesOfText=function(et,tt){for(var rt=[pushGraphicsState(),tt.graphicsState&&setGraphicsState(tt.graphicsState),beginText(),setFillingColor(tt.color),setFontAndSize(tt.font,tt.size),setLineHeight(tt.lineHeight),rotateAndSkewTextRadiansAndTranslate(toRadians(tt.rotate),toRadians(tt.xSkew),toRadians(tt.ySkew),tt.x,tt.y)].filter(Boolean),nt=0,at=et.length;nt<at;nt++)rt.push(showText(et[nt]),nextLine());return rt.push(endText(),popGraphicsState()),rt},drawImage=function(et,tt){return[pushGraphicsState(),tt.graphicsState&&setGraphicsState(tt.graphicsState),translate(tt.x,tt.y),rotateRadians(toRadians(tt.rotate)),scale(tt.width,tt.height),skewRadians(toRadians(tt.xSkew),toRadians(tt.ySkew)),drawObject(et),popGraphicsState()].filter(Boolean)},drawPage=function(et,tt){return[pushGraphicsState(),tt.graphicsState&&setGraphicsState(tt.graphicsState),translate(tt.x,tt.y),rotateRadians(toRadians(tt.rotate)),scale(tt.xScale,tt.yScale),skewRadians(toRadians(tt.xSkew),toRadians(tt.ySkew)),drawObject(et),popGraphicsState()].filter(Boolean)},drawLine=function(et){var tt,rt;return[pushGraphicsState(),et.graphicsState&&setGraphicsState(et.graphicsState),et.color&&setStrokingColor(et.color),setLineWidth(et.thickness),setDashPattern((tt=et.dashArray)!==null&&tt!==void 0?tt:[],(rt=et.dashPhase)!==null&&rt!==void 0?rt:0),moveTo(et.start.x,et.start.y),et.lineCap&&setLineCap(et.lineCap),moveTo(et.start.x,et.start.y),lineTo(et.end.x,et.end.y),stroke(),popGraphicsState()].filter(Boolean)},drawRectangle=function(et){var tt,rt;return[pushGraphicsState(),et.graphicsState&&setGraphicsState(et.graphicsState),et.color&&setFillingColor(et.color),et.borderColor&&setStrokingColor(et.borderColor),setLineWidth(et.borderWidth),et.borderLineCap&&setLineCap(et.borderLineCap),setDashPattern((tt=et.borderDashArray)!==null&&tt!==void 0?tt:[],(rt=et.borderDashPhase)!==null&&rt!==void 0?rt:0),translate(et.x,et.y),rotateRadians(toRadians(et.rotate)),skewRadians(toRadians(et.xSkew),toRadians(et.ySkew)),moveTo(0,0),lineTo(0,et.height),lineTo(et.width,et.height),lineTo(et.width,0),closePath(),et.color&&et.borderWidth?fillAndStroke():et.color?fill():et.borderColor?stroke():closePath(),popGraphicsState()].filter(Boolean)},KAPPA=4*((Math.sqrt(2)-1)/3),drawEllipsePath=function(et){var tt=asNumber(et.x),rt=asNumber(et.y),nt=asNumber(et.xScale),at=asNumber(et.yScale);tt-=nt,rt-=at;var it=nt*KAPPA,st=at*KAPPA,ot=tt+nt*2,lt=rt+at*2,ct=tt+nt,ut=rt+at;return[pushGraphicsState(),moveTo(tt,ut),appendBezierCurve(tt,ut-st,ct-it,rt,ct,rt),appendBezierCurve(ct+it,rt,ot,ut-st,ot,ut),appendBezierCurve(ot,ut+st,ct+it,lt,ct,lt),appendBezierCurve(ct-it,lt,tt,ut+st,tt,ut),popGraphicsState()]},drawEllipseCurves=function(et){var tt=asNumber(et.x),rt=asNumber(et.y),nt=asNumber(et.xScale),at=asNumber(et.yScale),it=-nt,st=-at,ot=nt*KAPPA,lt=at*KAPPA,ct=it+nt*2,ut=st+at*2,dt=it+nt,ft=st+at;return[translate(tt,rt),rotateRadians(toRadians(et.rotate)),moveTo(it,ft),appendBezierCurve(it,ft-lt,dt-ot,st,dt,st),appendBezierCurve(dt+ot,st,ct,ft-lt,ct,ft),appendBezierCurve(ct,ft+lt,dt+ot,ut,dt,ut),appendBezierCurve(dt-ot,ut,it,ft+lt,it,ft)]},drawEllipse=function(et){var tt,rt,nt;return __spreadArrays([pushGraphicsState(),et.graphicsState&&setGraphicsState(et.graphicsState),et.color&&setFillingColor(et.color),et.borderColor&&setStrokingColor(et.borderColor),setLineWidth(et.borderWidth),et.borderLineCap&&setLineCap(et.borderLineCap),setDashPattern((tt=et.borderDashArray)!==null&&tt!==void 0?tt:[],(rt=et.borderDashPhase)!==null&&rt!==void 0?rt:0)],et.rotate===void 0?drawEllipsePath({x:et.x,y:et.y,xScale:et.xScale,yScale:et.yScale}):drawEllipseCurves({x:et.x,y:et.y,xScale:et.xScale,yScale:et.yScale,rotate:(nt=et.rotate)!==null&&nt!==void 0?nt:degrees(0)}),[et.color&&et.borderWidth?fillAndStroke():et.color?fill():et.borderColor?stroke():closePath(),popGraphicsState()]).filter(Boolean)},drawSvgPath=function(et,tt){var rt,nt,at;return __spreadArrays([pushGraphicsState(),tt.graphicsState&&setGraphicsState(tt.graphicsState),translate(tt.x,tt.y),rotateRadians(toRadians((rt=tt.rotate)!==null&&rt!==void 0?rt:degrees(0))),tt.scale?scale(tt.scale,-tt.scale):scale(1,-1),tt.color&&setFillingColor(tt.color),tt.borderColor&&setStrokingColor(tt.borderColor),tt.borderWidth&&setLineWidth(tt.borderWidth),tt.borderLineCap&&setLineCap(tt.borderLineCap),setDashPattern((nt=tt.borderDashArray)!==null&&nt!==void 0?nt:[],(at=tt.borderDashPhase)!==null&&at!==void 0?at:0)],svgPathToOperators(et),[tt.color&&tt.borderWidth?fillAndStroke():tt.color?fill():tt.borderColor?stroke():closePath(),popGraphicsState()]).filter(Boolean)},drawCheckMark=function(et){var tt=asNumber(et.size),rt=-1+.75,nt=-1+.51,at=1-.525,it=1-.31,st=-1+.325,ot=-((st-rt)*(it-rt))/(at-nt)+nt;return[pushGraphicsState(),et.color&&setStrokingColor(et.color),setLineWidth(et.thickness),translate(et.x,et.y),moveTo(st*tt,ot*tt),lineTo(rt*tt,nt*tt),lineTo(it*tt,at*tt),stroke(),popGraphicsState()].filter(Boolean)},rotateInPlace=function(et){return et.rotation===0?[translate(0,0),rotateDegrees(0)]:et.rotation===90?[translate(et.width,0),rotateDegrees(90)]:et.rotation===180?[translate(et.width,et.height),rotateDegrees(180)]:et.rotation===270?[translate(0,et.height),rotateDegrees(270)]:[]},drawCheckBox=function(et){var tt=drawRectangle({x:et.x,y:et.y,width:et.width,height:et.height,borderWidth:et.borderWidth,color:et.color,borderColor:et.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)});if(!et.filled)return tt;var rt=asNumber(et.width),nt=asNumber(et.height),at=Math.min(rt,nt)/2,it=drawCheckMark({x:rt/2,y:nt/2,size:at,thickness:et.thickness,color:et.markColor});return __spreadArrays([pushGraphicsState()],tt,it,[popGraphicsState()])},drawRadioButton=function(et){var tt=asNumber(et.width),rt=asNumber(et.height),nt=Math.min(tt,rt)/2,at=drawEllipse({x:et.x,y:et.y,xScale:nt,yScale:nt,color:et.color,borderColor:et.borderColor,borderWidth:et.borderWidth});if(!et.filled)return at;var it=drawEllipse({x:et.x,y:et.y,xScale:nt*.45,yScale:nt*.45,color:et.dotColor,borderColor:void 0,borderWidth:0});return __spreadArrays([pushGraphicsState()],at,it,[popGraphicsState()])},drawButton=function(et){var tt=asNumber(et.x),rt=asNumber(et.y),nt=asNumber(et.width),at=asNumber(et.height),it=drawRectangle({x:tt,y:rt,width:nt,height:at,borderWidth:et.borderWidth,color:et.color,borderColor:et.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),st=drawTextLines(et.textLines,{color:et.textColor,font:et.font,size:et.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)});return __spreadArrays([pushGraphicsState()],it,st,[popGraphicsState()])},drawTextLines=function(et,tt){for(var rt=[beginText(),setFillingColor(tt.color),setFontAndSize(tt.font,tt.size)],nt=0,at=et.length;nt<at;nt++){var it=et[nt],st=it.encoded,ot=it.x,lt=it.y;rt.push(rotateAndSkewTextRadiansAndTranslate(toRadians(tt.rotate),toRadians(tt.xSkew),toRadians(tt.ySkew),ot,lt),showText(st))}return rt.push(endText()),rt},drawTextField=function(et){var tt=asNumber(et.x),rt=asNumber(et.y),nt=asNumber(et.width),at=asNumber(et.height),it=asNumber(et.borderWidth),st=asNumber(et.padding),ot=tt+it/2+st,lt=rt+it/2+st,ct=nt-(it/2+st)*2,ut=at-(it/2+st)*2,dt=[moveTo(ot,lt),lineTo(ot,lt+ut),lineTo(ot+ct,lt+ut),lineTo(ot+ct,lt),closePath(),clip(),endPath()],ft=drawRectangle({x:tt,y:rt,width:nt,height:at,borderWidth:et.borderWidth,color:et.color,borderColor:et.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),ht=drawTextLines(et.textLines,{color:et.textColor,font:et.font,size:et.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),gt=__spreadArrays([beginMarkedContent("Tx"),pushGraphicsState()],ht,[popGraphicsState(),endMarkedContent()]);return __spreadArrays([pushGraphicsState()],ft,dt,gt,[popGraphicsState()])},drawOptionList=function(et){for(var tt=asNumber(et.x),rt=asNumber(et.y),nt=asNumber(et.width),at=asNumber(et.height),it=asNumber(et.lineHeight),st=asNumber(et.borderWidth),ot=asNumber(et.padding),lt=tt+st/2+ot,ct=rt+st/2+ot,ut=nt-(st/2+ot)*2,dt=at-(st/2+ot)*2,ft=[moveTo(lt,ct),lineTo(lt,ct+dt),lineTo(lt+ut,ct+dt),lineTo(lt+ut,ct),closePath(),clip(),endPath()],ht=drawRectangle({x:tt,y:rt,width:nt,height:at,borderWidth:et.borderWidth,color:et.color,borderColor:et.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),gt=[],mt=0,xt=et.selectedLines.length;mt<xt;mt++){var vt=et.textLines[et.selectedLines[mt]];gt.push.apply(gt,drawRectangle({x:vt.x-ot,y:vt.y-(it-vt.height)/2,width:nt-st,height:vt.height+(it-vt.height)/2,borderWidth:0,color:et.selectedColor,borderColor:void 0,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}))}var _t=drawTextLines(et.textLines,{color:et.textColor,font:et.font,size:et.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),yt=__spreadArrays([beginMarkedContent("Tx"),pushGraphicsState()],_t,[popGraphicsState(),endMarkedContent()]);return __spreadArrays([pushGraphicsState()],ht,gt,ft,yt,[popGraphicsState()])},EncryptedPDFError=function(et){__extends(tt,et);function tt(){var rt=this,nt="Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.";return rt=et.call(this,nt)||this,rt}return tt}(Error),FontkitNotRegisteredError=function(et){__extends(tt,et);function tt(){var rt=this,nt="Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.";return rt=et.call(this,nt)||this,rt}return tt}(Error),ForeignPageError=function(et){__extends(tt,et);function tt(){var rt=this,nt="A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.";return rt=et.call(this,nt)||this,rt}return tt}(Error),RemovePageFromEmptyDocumentError=function(et){__extends(tt,et);function tt(){var rt=this,nt="PDFDocument has no pages so `PDFDocument.removePage` cannot be called";return rt=et.call(this,nt)||this,rt}return tt}(Error),NoSuchFieldError=function(et){__extends(tt,et);function tt(rt){var nt=this,at='PDFDocument has no form field with the name "'+rt+'"';return nt=et.call(this,at)||this,nt}return tt}(Error),UnexpectedFieldTypeError=function(et){__extends(tt,et);function tt(rt,nt,at){var it,st,ot=this,lt=nt==null?void 0:nt.name,ct=(st=(it=at==null?void 0:at.constructor)===null||it===void 0?void 0:it.name)!==null&&st!==void 0?st:at,ut='Expected field "'+rt+'" to be of type '+lt+", "+("but it is actually of type "+ct);return ot=et.call(this,ut)||this,ot}return tt}(Error);(function(et){__extends(tt,et);function tt(rt){var nt=this,at='Failed to select check box due to missing onValue: "'+rt+'"';return nt=et.call(this,at)||this,nt}return tt})(Error);var FieldAlreadyExistsError=function(et){__extends(tt,et);function tt(rt){var nt=this,at='A field already exists with the specified name: "'+rt+'"';return nt=et.call(this,at)||this,nt}return tt}(Error),InvalidFieldNamePartError=function(et){__extends(tt,et);function tt(rt){var nt=this,at='Field name contains invalid component: "'+rt+'"';return nt=et.call(this,at)||this,nt}return tt}(Error);(function(et){__extends(tt,et);function tt(rt){var nt=this,at='A non-terminal field already exists with the specified name: "'+rt+'"';return nt=et.call(this,at)||this,nt}return tt})(Error);var RichTextFieldReadError=function(et){__extends(tt,et);function tt(rt){var nt=this,at="Reading rich text fields is not supported: Attempted to read rich text field: "+rt;return nt=et.call(this,at)||this,nt}return tt}(Error),CombedTextLayoutError=function(et){__extends(tt,et);function tt(rt,nt){var at=this,it="Failed to layout combed text as lineLength="+rt+" is greater than cellCount="+nt;return at=et.call(this,it)||this,at}return tt}(Error),ExceededMaxLengthError=function(et){__extends(tt,et);function tt(rt,nt,at){var it=this,st="Attempted to set text with length="+rt+" for TextField with maxLength="+nt+" and name="+at;return it=et.call(this,st)||this,it}return tt}(Error),InvalidMaxLengthError=function(et){__extends(tt,et);function tt(rt,nt,at){var it=this,st="Attempted to set maxLength="+nt+", which is less than "+rt+", the length of this field's current value (name="+at+")";return it=et.call(this,st)||this,it}return tt}(Error),TextAlignment;(function(et){et[et.Left=0]="Left",et[et.Center=1]="Center",et[et.Right=2]="Right"})(TextAlignment||(TextAlignment={}));var MIN_FONT_SIZE=4,MAX_FONT_SIZE=500,computeFontSize=function(et,tt,rt,nt){nt===void 0&&(nt=!1);for(var at=MIN_FONT_SIZE;at<MAX_FONT_SIZE;){for(var it=0,st=0,ot=et.length;st<ot;st++){it+=1;for(var lt=et[st],ct=lt.split(" "),ut=rt.width,dt=0,ft=ct.length;dt<ft;dt++){var ht=dt===ft-1,gt=ht?ct[dt]:ct[dt]+" ",mt=tt.widthOfTextAtSize(gt,at);ut-=mt,ut<=0&&(it+=1,ut=rt.width-mt)}}if(!nt&&it>et.length)return at-1;var xt=tt.heightAtSize(at),vt=xt+xt*.2,_t=vt*it;if(_t>Math.abs(rt.height))return at-1;at+=1}return at},computeCombedFontSize=function(et,tt,rt,nt){for(var at=rt.width/nt,it=rt.height,st=MIN_FONT_SIZE,ot=charSplit(et);st<MAX_FONT_SIZE;){for(var lt=0,ct=ot.length;lt<ct;lt++){var ut=ot[lt],dt=tt.widthOfTextAtSize(ut,st)>at*.75;if(dt)return st-1}var ft=tt.heightAtSize(st,{descender:!1});if(ft>it)return st-1;st+=1}return st},lastIndexOfWhitespace=function(et){for(var tt=et.length;tt>0;tt--)if(/\s/.test(et[tt]))return tt},splitOutLines=function(et,tt,rt,nt){for(var at,it=et.length;it>0;){var st=et.substring(0,it),ot=rt.encodeText(st),lt=rt.widthOfTextAtSize(st,nt);if(lt<tt){var ct=et.substring(it)||void 0;return{line:st,encoded:ot,width:lt,remainder:ct}}it=(at=lastIndexOfWhitespace(st))!==null&&at!==void 0?at:0}return{line:et,encoded:rt.encodeText(et),width:rt.widthOfTextAtSize(et,nt),remainder:void 0}},layoutMultilineText=function(et,tt){var rt=tt.alignment,nt=tt.fontSize,at=tt.font,it=tt.bounds,st=lineSplit(cleanText(et));(nt===void 0||nt===0)&&(nt=computeFontSize(st,at,it,!0));for(var ot=at.heightAtSize(nt),lt=ot+ot*.2,ct=[],ut=it.x,dt=it.y,ft=it.x+it.width,ht=it.y+it.height,gt=it.y+it.height,mt=0,xt=st.length;mt<xt;mt++)for(var vt=st[mt];vt!==void 0;){var _t=splitOutLines(vt,it.width,at,nt),yt=_t.line,St=_t.encoded,bt=_t.width,Et=_t.remainder,Tt=rt===TextAlignment.Left?it.x:rt===TextAlignment.Center?it.x+it.width/2-bt/2:rt===TextAlignment.Right?it.x+it.width-bt:it.x;gt-=lt,Tt<ut&&(ut=Tt),gt<dt&&(dt=gt),Tt+bt>ft&&(ft=Tt+bt),gt+ot>ht&&(ht=gt+ot),ct.push({text:yt,encoded:St,width:bt,height:ot,x:Tt,y:gt}),vt=Et==null?void 0:Et.trim()}return{fontSize:nt,lineHeight:lt,lines:ct,bounds:{x:ut,y:dt,width:ft-ut,height:ht-dt}}},layoutCombedText=function(et,tt){var rt=tt.fontSize,nt=tt.font,at=tt.bounds,it=tt.cellCount,st=mergeLines(cleanText(et));if(st.length>it)throw new CombedTextLayoutError(st.length,it);(rt===void 0||rt===0)&&(rt=computeCombedFontSize(st,nt,at,it));for(var ot=at.width/it,lt=nt.heightAtSize(rt,{descender:!1}),ct=at.y+(at.height/2-lt/2),ut=[],dt=at.x,ft=at.y,ht=at.x+at.width,gt=at.y+at.height,mt=0,xt=0;mt<it;){var vt=charAtIndex(st,xt),_t=vt[0],yt=vt[1],St=nt.encodeText(_t),bt=nt.widthOfTextAtSize(_t,rt),Et=at.x+(ot*mt+ot/2),Tt=Et-bt/2;Tt<dt&&(dt=Tt),ct<ft&&(ft=ct),Tt+bt>ht&&(ht=Tt+bt),ct+lt>gt&&(gt=ct+lt),ut.push({text:st,encoded:St,width:bt,height:lt,x:Tt,y:ct}),mt+=1,xt+=yt}return{fontSize:rt,cells:ut,bounds:{x:dt,y:ft,width:ht-dt,height:gt-ft}}},layoutSinglelineText=function(et,tt){var rt=tt.alignment,nt=tt.fontSize,at=tt.font,it=tt.bounds,st=mergeLines(cleanText(et));(nt===void 0||nt===0)&&(nt=computeFontSize([st],at,it));var ot=at.encodeText(st),lt=at.widthOfTextAtSize(st,nt),ct=at.heightAtSize(nt,{descender:!1}),ut=rt===TextAlignment.Left?it.x:rt===TextAlignment.Center?it.x+it.width/2-lt/2:rt===TextAlignment.Right?it.x+it.width-lt:it.x,dt=it.y+(it.height/2-ct/2);return{fontSize:nt,line:{text:st,encoded:ot,width:lt,height:ct,x:ut,y:dt},bounds:{x:ut,y:dt,width:lt,height:ct}}},normalizeAppearance=function(et){return"normal"in et?et:{normal:et}},tfRegex=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,getDefaultFontSize=function(et){var tt,rt,nt=(tt=et.getDefaultAppearance())!==null&&tt!==void 0?tt:"",at=(rt=findLastMatch(nt,tfRegex).match)!==null&&rt!==void 0?rt:[],it=Number(at[2]);return isFinite(it)?it:void 0},colorRegex=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,getDefaultColor=function(et){var tt,rt=(tt=et.getDefaultAppearance())!==null&&tt!==void 0?tt:"",nt=findLastMatch(rt,colorRegex).match,at=nt??[],it=at[1],st=at[2],ot=at[3],lt=at[4],ct=at[5];if(ct==="g"&&it)return grayscale(Number(it));if(ct==="rg"&&it&&st&&ot)return rgb(Number(it),Number(st),Number(ot));if(ct==="k"&&it&&st&&ot&&lt)return cmyk(Number(it),Number(st),Number(ot),Number(lt))},updateDefaultAppearance=function(et,tt,rt,nt){var at;nt===void 0&&(nt=0);var it=[setFillingColor(tt).toString(),setFontAndSize((at=rt==null?void 0:rt.name)!==null&&at!==void 0?at:"dummy__noop",nt).toString()].join(`
`);et.setDefaultAppearance(it)},defaultCheckBoxAppearanceProvider=function(et,tt){var rt,nt,at,it=getDefaultColor(tt),st=getDefaultColor(et.acroField),ot=tt.getRectangle(),lt=tt.getAppearanceCharacteristics(),ct=tt.getBorderStyle(),ut=(rt=ct==null?void 0:ct.getWidth())!==null&&rt!==void 0?rt:0,dt=reduceRotation(lt==null?void 0:lt.getRotation()),ft=adjustDimsForRotation(ot,dt),ht=ft.width,gt=ft.height,mt=rotateInPlace(__assign(__assign({},ot),{rotation:dt})),xt=rgb(0,0,0),vt=(nt=componentsToColor(lt==null?void 0:lt.getBorderColor()))!==null&&nt!==void 0?nt:xt,_t=componentsToColor(lt==null?void 0:lt.getBackgroundColor()),yt=componentsToColor(lt==null?void 0:lt.getBackgroundColor(),.8),St=(at=it??st)!==null&&at!==void 0?at:xt;updateDefaultAppearance(it?tt:et.acroField,St);var bt={x:0+ut/2,y:0+ut/2,width:ht-ut,height:gt-ut,thickness:1.5,borderWidth:ut,borderColor:vt,markColor:St};return{normal:{on:__spreadArrays(mt,drawCheckBox(__assign(__assign({},bt),{color:_t,filled:!0}))),off:__spreadArrays(mt,drawCheckBox(__assign(__assign({},bt),{color:_t,filled:!1})))},down:{on:__spreadArrays(mt,drawCheckBox(__assign(__assign({},bt),{color:yt,filled:!0}))),off:__spreadArrays(mt,drawCheckBox(__assign(__assign({},bt),{color:yt,filled:!1})))}}},defaultRadioGroupAppearanceProvider=function(et,tt){var rt,nt,at,it=getDefaultColor(tt),st=getDefaultColor(et.acroField),ot=tt.getRectangle(),lt=tt.getAppearanceCharacteristics(),ct=tt.getBorderStyle(),ut=(rt=ct==null?void 0:ct.getWidth())!==null&&rt!==void 0?rt:0,dt=reduceRotation(lt==null?void 0:lt.getRotation()),ft=adjustDimsForRotation(ot,dt),ht=ft.width,gt=ft.height,mt=rotateInPlace(__assign(__assign({},ot),{rotation:dt})),xt=rgb(0,0,0),vt=(nt=componentsToColor(lt==null?void 0:lt.getBorderColor()))!==null&&nt!==void 0?nt:xt,_t=componentsToColor(lt==null?void 0:lt.getBackgroundColor()),yt=componentsToColor(lt==null?void 0:lt.getBackgroundColor(),.8),St=(at=it??st)!==null&&at!==void 0?at:xt;updateDefaultAppearance(it?tt:et.acroField,St);var bt={x:ht/2,y:gt/2,width:ht-ut,height:gt-ut,borderWidth:ut,borderColor:vt,dotColor:St};return{normal:{on:__spreadArrays(mt,drawRadioButton(__assign(__assign({},bt),{color:_t,filled:!0}))),off:__spreadArrays(mt,drawRadioButton(__assign(__assign({},bt),{color:_t,filled:!1})))},down:{on:__spreadArrays(mt,drawRadioButton(__assign(__assign({},bt),{color:yt,filled:!0}))),off:__spreadArrays(mt,drawRadioButton(__assign(__assign({},bt),{color:yt,filled:!1})))}}},defaultButtonAppearanceProvider=function(et,tt,rt){var nt,at,it,st,ot,lt=getDefaultColor(tt),ct=getDefaultColor(et.acroField),ut=getDefaultFontSize(tt),dt=getDefaultFontSize(et.acroField),ft=tt.getRectangle(),ht=tt.getAppearanceCharacteristics(),gt=tt.getBorderStyle(),mt=ht==null?void 0:ht.getCaptions(),xt=(nt=mt==null?void 0:mt.normal)!==null&&nt!==void 0?nt:"",vt=(it=(at=mt==null?void 0:mt.down)!==null&&at!==void 0?at:xt)!==null&&it!==void 0?it:"",_t=(st=gt==null?void 0:gt.getWidth())!==null&&st!==void 0?st:0,yt=reduceRotation(ht==null?void 0:ht.getRotation()),St=adjustDimsForRotation(ft,yt),bt=St.width,Et=St.height,Tt=rotateInPlace(__assign(__assign({},ft),{rotation:yt})),At=rgb(0,0,0),Ct=componentsToColor(ht==null?void 0:ht.getBorderColor()),kt=componentsToColor(ht==null?void 0:ht.getBackgroundColor()),Pt=componentsToColor(ht==null?void 0:ht.getBackgroundColor(),.8),Dt={x:_t,y:_t,width:bt-_t*2,height:Et-_t*2},Ft=layoutSinglelineText(xt,{alignment:TextAlignment.Center,fontSize:ut??dt,font:rt,bounds:Dt}),Ot=layoutSinglelineText(vt,{alignment:TextAlignment.Center,fontSize:ut??dt,font:rt,bounds:Dt}),It=Math.min(Ft.fontSize,Ot.fontSize),Bt=(ot=lt??ct)!==null&&ot!==void 0?ot:At;updateDefaultAppearance(lt||ut!==void 0?tt:et.acroField,Bt,rt,It);var qt={x:0+_t/2,y:0+_t/2,width:bt-_t,height:Et-_t,borderWidth:_t,borderColor:Ct,textColor:Bt,font:rt.name,fontSize:It};return{normal:__spreadArrays(Tt,drawButton(__assign(__assign({},qt),{color:kt,textLines:[Ft.line]}))),down:__spreadArrays(Tt,drawButton(__assign(__assign({},qt),{color:Pt,textLines:[Ot.line]})))}},defaultTextFieldAppearanceProvider=function(et,tt,rt){var nt,at,it,st,ot=getDefaultColor(tt),lt=getDefaultColor(et.acroField),ct=getDefaultFontSize(tt),ut=getDefaultFontSize(et.acroField),dt=tt.getRectangle(),ft=tt.getAppearanceCharacteristics(),ht=tt.getBorderStyle(),gt=(nt=et.getText())!==null&&nt!==void 0?nt:"",mt=(at=ht==null?void 0:ht.getWidth())!==null&&at!==void 0?at:0,xt=reduceRotation(ft==null?void 0:ft.getRotation()),vt=adjustDimsForRotation(dt,xt),_t=vt.width,yt=vt.height,St=rotateInPlace(__assign(__assign({},dt),{rotation:xt})),bt=rgb(0,0,0),Et=componentsToColor(ft==null?void 0:ft.getBorderColor()),Tt=componentsToColor(ft==null?void 0:ft.getBackgroundColor()),At,Ct,kt=et.isCombed()?0:1,Pt={x:mt+kt,y:mt+kt,width:_t-(mt+kt)*2,height:yt-(mt+kt)*2};if(et.isMultiline()){var Dt=layoutMultilineText(gt,{alignment:et.getAlignment(),fontSize:ct??ut,font:rt,bounds:Pt});At=Dt.lines,Ct=Dt.fontSize}else if(et.isCombed()){var Dt=layoutCombedText(gt,{fontSize:ct??ut,font:rt,bounds:Pt,cellCount:(it=et.getMaxLength())!==null&&it!==void 0?it:0});At=Dt.cells,Ct=Dt.fontSize}else{var Dt=layoutSinglelineText(gt,{alignment:et.getAlignment(),fontSize:ct??ut,font:rt,bounds:Pt});At=[Dt.line],Ct=Dt.fontSize}var Ft=(st=ot??lt)!==null&&st!==void 0?st:bt;updateDefaultAppearance(ot||ct!==void 0?tt:et.acroField,Ft,rt,Ct);var Ot={x:0+mt/2,y:0+mt/2,width:_t-mt,height:yt-mt,borderWidth:mt??0,borderColor:Et,textColor:Ft,font:rt.name,fontSize:Ct,color:Tt,textLines:At,padding:kt};return __spreadArrays(St,drawTextField(Ot))},defaultDropdownAppearanceProvider=function(et,tt,rt){var nt,at,it,st=getDefaultColor(tt),ot=getDefaultColor(et.acroField),lt=getDefaultFontSize(tt),ct=getDefaultFontSize(et.acroField),ut=tt.getRectangle(),dt=tt.getAppearanceCharacteristics(),ft=tt.getBorderStyle(),ht=(nt=et.getSelected()[0])!==null&&nt!==void 0?nt:"",gt=(at=ft==null?void 0:ft.getWidth())!==null&&at!==void 0?at:0,mt=reduceRotation(dt==null?void 0:dt.getRotation()),xt=adjustDimsForRotation(ut,mt),vt=xt.width,_t=xt.height,yt=rotateInPlace(__assign(__assign({},ut),{rotation:mt})),St=rgb(0,0,0),bt=componentsToColor(dt==null?void 0:dt.getBorderColor()),Et=componentsToColor(dt==null?void 0:dt.getBackgroundColor()),Tt=1,At={x:gt+Tt,y:gt+Tt,width:vt-(gt+Tt)*2,height:_t-(gt+Tt)*2},Ct=layoutSinglelineText(ht,{alignment:TextAlignment.Left,fontSize:lt??ct,font:rt,bounds:At}),kt=Ct.line,Pt=Ct.fontSize,Dt=(it=st??ot)!==null&&it!==void 0?it:St;updateDefaultAppearance(st||lt!==void 0?tt:et.acroField,Dt,rt,Pt);var Ft={x:0+gt/2,y:0+gt/2,width:vt-gt,height:_t-gt,borderWidth:gt??0,borderColor:bt,textColor:Dt,font:rt.name,fontSize:Pt,color:Et,textLines:[kt],padding:Tt};return __spreadArrays(yt,drawTextField(Ft))},defaultOptionListAppearanceProvider=function(et,tt,rt){var nt,at,it=getDefaultColor(tt),st=getDefaultColor(et.acroField),ot=getDefaultFontSize(tt),lt=getDefaultFontSize(et.acroField),ct=tt.getRectangle(),ut=tt.getAppearanceCharacteristics(),dt=tt.getBorderStyle(),ft=(nt=dt==null?void 0:dt.getWidth())!==null&&nt!==void 0?nt:0,ht=reduceRotation(ut==null?void 0:ut.getRotation()),gt=adjustDimsForRotation(ct,ht),mt=gt.width,xt=gt.height,vt=rotateInPlace(__assign(__assign({},ct),{rotation:ht})),_t=rgb(0,0,0),yt=componentsToColor(ut==null?void 0:ut.getBorderColor()),St=componentsToColor(ut==null?void 0:ut.getBackgroundColor()),bt=et.getOptions(),Et=et.getSelected();et.isSorted()&&bt.sort();for(var Tt="",At=0,Ct=bt.length;At<Ct;At++)Tt+=bt[At],At<Ct-1&&(Tt+=`
`);for(var kt=1,Pt={x:ft+kt,y:ft+kt,width:mt-(ft+kt)*2,height:xt-(ft+kt)*2},Dt=layoutMultilineText(Tt,{alignment:TextAlignment.Left,fontSize:ot??lt,font:rt,bounds:Pt}),Ft=Dt.lines,Ot=Dt.fontSize,It=Dt.lineHeight,Bt=[],At=0,Ct=Ft.length;At<Ct;At++){var qt=Ft[At];Et.includes(qt.text)&&Bt.push(At)}var Ut=rgb(153/255,193/255,218/255),Ht=(at=it??st)!==null&&at!==void 0?at:_t;return updateDefaultAppearance(it||ot!==void 0?tt:et.acroField,Ht,rt,Ot),__spreadArrays(vt,drawOptionList({x:0+ft/2,y:0+ft/2,width:mt-ft,height:xt-ft,borderWidth:ft??0,borderColor:yt,textColor:Ht,font:rt.name,fontSize:Ot,color:St,textLines:Ft,lineHeight:It,selectedColor:Ut,selectedLines:Bt,padding:kt}))},PDFEmbeddedPage=function(){function et(tt,rt,nt){this.alreadyEmbedded=!1,assertIs(tt,"ref",[[PDFRef,"PDFRef"]]),assertIs(rt,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(nt,"embedder",[[PDFPageEmbedder,"PDFPageEmbedder"]]),this.ref=tt,this.doc=rt,this.width=nt.width,this.height=nt.height,this.embedder=nt}return et.prototype.scale=function(tt){return assertIs(tt,"factor",["number"]),{width:this.width*tt,height:this.height*tt}},et.prototype.size=function(){return this.scale(1)},et.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(tt){switch(tt.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:tt.sent(),this.alreadyEmbedded=!0,tt.label=2;case 2:return[2]}})})},et.of=function(tt,rt,nt){return new et(tt,rt,nt)},et}(),PDFFont=function(){function et(tt,rt,nt){this.modified=!0,assertIs(tt,"ref",[[PDFRef,"PDFRef"]]),assertIs(rt,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(nt,"embedder",[[CustomFontEmbedder,"CustomFontEmbedder"],[StandardFontEmbedder,"StandardFontEmbedder"]]),this.ref=tt,this.doc=rt,this.name=nt.fontName,this.embedder=nt}return et.prototype.encodeText=function(tt){return assertIs(tt,"text",["string"]),this.modified=!0,this.embedder.encodeText(tt)},et.prototype.widthOfTextAtSize=function(tt,rt){return assertIs(tt,"text",["string"]),assertIs(rt,"size",["number"]),this.embedder.widthOfTextAtSize(tt,rt)},et.prototype.heightAtSize=function(tt,rt){var nt;return assertIs(tt,"size",["number"]),assertOrUndefined(rt==null?void 0:rt.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(tt,{descender:(nt=rt==null?void 0:rt.descender)!==null&&nt!==void 0?nt:!0})},et.prototype.sizeAtHeight=function(tt){return assertIs(tt,"height",["number"]),this.embedder.sizeOfFontAtHeight(tt)},et.prototype.getCharacterSet=function(){return this.embedder instanceof StandardFontEmbedder?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},et.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(tt){switch(tt.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:tt.sent(),this.modified=!1,tt.label=2;case 2:return[2]}})})},et.of=function(tt,rt,nt){return new et(tt,rt,nt)},et}(),PDFImage=function(){function et(tt,rt,nt){assertIs(tt,"ref",[[PDFRef,"PDFRef"]]),assertIs(rt,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(nt,"embedder",[[JpegEmbedder,"JpegEmbedder"],[PngEmbedder,"PngEmbedder"]]),this.ref=tt,this.doc=rt,this.width=nt.width,this.height=nt.height,this.embedder=nt}return et.prototype.scale=function(tt){return assertIs(tt,"factor",["number"]),{width:this.width*tt,height:this.height*tt}},et.prototype.scaleToFit=function(tt,rt){assertIs(tt,"width",["number"]),assertIs(rt,"height",["number"]);var nt=tt/this.width,at=rt/this.height,it=Math.min(nt,at);return this.scale(it)},et.prototype.size=function(){return this.scale(1)},et.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){var tt,rt,nt;return __generator(this,function(at){switch(at.label){case 0:return this.embedder?(this.embedTask||(tt=this,rt=tt.doc,nt=tt.ref,this.embedTask=this.embedder.embedIntoContext(rt.context,nt)),[4,this.embedTask]):[2];case 1:return at.sent(),this.embedder=void 0,[2]}})})},et.of=function(tt,rt,nt){return new et(tt,rt,nt)},et}(),ImageAlignment;(function(et){et[et.Left=0]="Left",et[et.Center=1]="Center",et[et.Right=2]="Right"})(ImageAlignment||(ImageAlignment={}));var assertFieldAppearanceOptions=function(et){assertOrUndefined(et==null?void 0:et.x,"options.x",["number"]),assertOrUndefined(et==null?void 0:et.y,"options.y",["number"]),assertOrUndefined(et==null?void 0:et.width,"options.width",["number"]),assertOrUndefined(et==null?void 0:et.height,"options.height",["number"]),assertOrUndefined(et==null?void 0:et.textColor,"options.textColor",[[Object,"Color"]]),assertOrUndefined(et==null?void 0:et.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),assertOrUndefined(et==null?void 0:et.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(et==null?void 0:et.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(et==null?void 0:et.rotate,"options.rotate",[[Object,"Rotation"]])},PDFField=function(){function et(tt,rt,nt){assertIs(tt,"acroField",[[PDFAcroTerminal,"PDFAcroTerminal"]]),assertIs(rt,"ref",[[PDFRef,"PDFRef"]]),assertIs(nt,"doc",[[PDFDocument,"PDFDocument"]]),this.acroField=tt,this.ref=rt,this.doc=nt}return et.prototype.getName=function(){var tt;return(tt=this.acroField.getFullyQualifiedName())!==null&&tt!==void 0?tt:""},et.prototype.isReadOnly=function(){return this.acroField.hasFlag(AcroFieldFlags.ReadOnly)},et.prototype.enableReadOnly=function(){this.acroField.setFlagTo(AcroFieldFlags.ReadOnly,!0)},et.prototype.disableReadOnly=function(){this.acroField.setFlagTo(AcroFieldFlags.ReadOnly,!1)},et.prototype.isRequired=function(){return this.acroField.hasFlag(AcroFieldFlags.Required)},et.prototype.enableRequired=function(){this.acroField.setFlagTo(AcroFieldFlags.Required,!0)},et.prototype.disableRequired=function(){this.acroField.setFlagTo(AcroFieldFlags.Required,!1)},et.prototype.isExported=function(){return!this.acroField.hasFlag(AcroFieldFlags.NoExport)},et.prototype.enableExporting=function(){this.acroField.setFlagTo(AcroFieldFlags.NoExport,!1)},et.prototype.disableExporting=function(){this.acroField.setFlagTo(AcroFieldFlags.NoExport,!0)},et.prototype.needsAppearancesUpdate=function(){throw new MethodNotImplementedError(this.constructor.name,"needsAppearancesUpdate")},et.prototype.defaultUpdateAppearances=function(tt){throw new MethodNotImplementedError(this.constructor.name,"defaultUpdateAppearances")},et.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},et.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},et.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},et.prototype.createWidget=function(tt){var rt,nt=tt.textColor,at=tt.backgroundColor,it=tt.borderColor,st=tt.borderWidth,ot=toDegrees(tt.rotate),lt=tt.caption,ct=tt.x,ut=tt.y,dt=tt.width+st,ft=tt.height+st,ht=!!tt.hidden,gt=tt.page;assertMultiple(ot,"degreesAngle",90);var mt=PDFWidgetAnnotation.create(this.doc.context,this.ref),xt=rotateRectangle({x:ct,y:ut,width:dt,height:ft},st,ot);mt.setRectangle(xt),gt&&mt.setP(gt);var vt=mt.getOrCreateAppearanceCharacteristics();at&&vt.setBackgroundColor(colorToComponents(at)),vt.setRotation(ot),lt&&vt.setCaptions({normal:lt}),it&&vt.setBorderColor(colorToComponents(it));var _t=mt.getOrCreateBorderStyle();if(st!==void 0&&_t.setWidth(st),mt.setFlagTo(AnnotationFlags.Print,!0),mt.setFlagTo(AnnotationFlags.Hidden,ht),mt.setFlagTo(AnnotationFlags.Invisible,!1),nt){var yt=(rt=this.acroField.getDefaultAppearance())!==null&&rt!==void 0?rt:"",St=yt+`
`+setFillingColor(nt).toString();this.acroField.setDefaultAppearance(St)}return mt},et.prototype.updateWidgetAppearanceWithFont=function(tt,rt,nt){var at=nt.normal,it=nt.rollover,st=nt.down;this.updateWidgetAppearances(tt,{normal:this.createAppearanceStream(tt,at,rt),rollover:it&&this.createAppearanceStream(tt,it,rt),down:st&&this.createAppearanceStream(tt,st,rt)})},et.prototype.updateOnOffWidgetAppearance=function(tt,rt,nt){var at=nt.normal,it=nt.rollover,st=nt.down;this.updateWidgetAppearances(tt,{normal:this.createAppearanceDict(tt,at,rt),rollover:it&&this.createAppearanceDict(tt,it,rt),down:st&&this.createAppearanceDict(tt,st,rt)})},et.prototype.updateWidgetAppearances=function(tt,rt){var nt=rt.normal,at=rt.rollover,it=rt.down;tt.setNormalAppearance(nt),at?tt.setRolloverAppearance(at):tt.removeRolloverAppearance(),it?tt.setDownAppearance(it):tt.removeDownAppearance()},et.prototype.createAppearanceStream=function(tt,rt,nt){var at,it=this.acroField.dict.context,st=tt.getRectangle(),ot=st.width,lt=st.height,ct=nt&&{Font:(at={},at[nt.name]=nt.ref,at)},ut=it.formXObject(rt,{Resources:ct,BBox:it.obj([0,0,ot,lt]),Matrix:it.obj([1,0,0,1,0,0])}),dt=it.register(ut);return dt},et.prototype.createImageAppearanceStream=function(tt,rt,nt){var at,it,st=this.acroField.dict.context,ot=tt.getRectangle(),lt=tt.getAppearanceCharacteristics(),ct=tt.getBorderStyle(),ut=(it=ct==null?void 0:ct.getWidth())!==null&&it!==void 0?it:0,dt=reduceRotation(lt==null?void 0:lt.getRotation()),ft=rotateInPlace(__assign(__assign({},ot),{rotation:dt})),ht=adjustDimsForRotation(ot,dt),gt=rt.scaleToFit(ht.width-ut*2,ht.height-ut*2),mt={x:ut,y:ut,width:gt.width,height:gt.height,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)};nt===ImageAlignment.Center?(mt.x+=(ht.width-ut*2)/2-gt.width/2,mt.y+=(ht.height-ut*2)/2-gt.height/2):nt===ImageAlignment.Right&&(mt.x=ht.width-ut-gt.width,mt.y=ht.height-ut-gt.height);var xt=this.doc.context.addRandomSuffix("Image",10),vt=__spreadArrays(ft,drawImage(xt,mt)),_t={XObject:(at={},at[xt]=rt.ref,at)},yt=st.formXObject(vt,{Resources:_t,BBox:st.obj([0,0,ot.width,ot.height]),Matrix:st.obj([1,0,0,1,0,0])});return st.register(yt)},et.prototype.createAppearanceDict=function(tt,rt,nt){var at=this.acroField.dict.context,it=this.createAppearanceStream(tt,rt.on),st=this.createAppearanceStream(tt,rt.off),ot=at.obj({});return ot.set(nt,it),ot.set(PDFName.of("Off"),st),ot},et}(),PDFCheckBox=function(et){__extends(tt,et);function tt(rt,nt,at){var it=et.call(this,rt,nt,at)||this;return assertIs(rt,"acroCheckBox",[[PDFAcroCheckBox,"PDFAcroCheckBox"]]),it.acroField=rt,it}return tt.prototype.check=function(){var rt,nt=(rt=this.acroField.getOnValue())!==null&&rt!==void 0?rt:PDFName.of("Yes");this.markAsDirty(),this.acroField.setValue(nt)},tt.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(PDFName.of("Off"))},tt.prototype.isChecked=function(){var rt=this.acroField.getOnValue();return!!rt&&rt===this.acroField.getValue()},tt.prototype.addToPage=function(rt,nt){var at,it,st,ot,lt,ct;assertIs(rt,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(nt),nt||(nt={}),"textColor"in nt||(nt.textColor=rgb(0,0,0)),"backgroundColor"in nt||(nt.backgroundColor=rgb(1,1,1)),"borderColor"in nt||(nt.borderColor=rgb(0,0,0)),"borderWidth"in nt||(nt.borderWidth=1);var ut=this.createWidget({x:(at=nt.x)!==null&&at!==void 0?at:0,y:(it=nt.y)!==null&&it!==void 0?it:0,width:(st=nt.width)!==null&&st!==void 0?st:50,height:(ot=nt.height)!==null&&ot!==void 0?ot:50,textColor:nt.textColor,backgroundColor:nt.backgroundColor,borderColor:nt.borderColor,borderWidth:(lt=nt.borderWidth)!==null&&lt!==void 0?lt:0,rotate:(ct=nt.rotate)!==null&&ct!==void 0?ct:degrees(0),hidden:nt.hidden,page:rt.ref}),dt=this.doc.context.register(ut.dict);this.acroField.addWidget(dt),ut.setAppearanceState(PDFName.of("Off")),this.updateWidgetAppearance(ut,PDFName.of("Yes")),rt.node.addAnnot(dt)},tt.prototype.needsAppearancesUpdate=function(){for(var rt,nt=this.acroField.getWidgets(),at=0,it=nt.length;at<it;at++){var st=nt[at],ot=st.getAppearanceState(),lt=(rt=st.getAppearances())===null||rt===void 0?void 0:rt.normal;if(!(lt instanceof PDFDict)||ot&&!lt.has(ot))return!0}return!1},tt.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},tt.prototype.updateAppearances=function(rt){var nt;assertOrUndefined(rt,"provider",[Function]);for(var at=this.acroField.getWidgets(),it=0,st=at.length;it<st;it++){var ot=at[it],lt=(nt=ot.getOnValue())!==null&&nt!==void 0?nt:PDFName.of("Yes");lt&&this.updateWidgetAppearance(ot,lt,rt)}this.markAsClean()},tt.prototype.updateWidgetAppearance=function(rt,nt,at){var it=at??defaultCheckBoxAppearanceProvider,st=normalizeAppearance(it(this,rt));this.updateOnOffWidgetAppearance(rt,nt,st)},tt.of=function(rt,nt,at){return new tt(rt,nt,at)},tt}(PDFField),PDFDropdown=function(et){__extends(tt,et);function tt(rt,nt,at){var it=et.call(this,rt,nt,at)||this;return assertIs(rt,"acroComboBox",[[PDFAcroComboBox,"PDFAcroComboBox"]]),it.acroField=rt,it}return tt.prototype.getOptions=function(){for(var rt=this.acroField.getOptions(),nt=new Array(rt.length),at=0,it=nt.length;at<it;at++){var st=rt[at],ot=st.display,lt=st.value;nt[at]=(ot??lt).decodeText()}return nt},tt.prototype.getSelected=function(){for(var rt=this.acroField.getValues(),nt=new Array(rt.length),at=0,it=rt.length;at<it;at++)nt[at]=rt[at].decodeText();return nt},tt.prototype.setOptions=function(rt){assertIs(rt,"options",[Array]);for(var nt=new Array(rt.length),at=0,it=rt.length;at<it;at++)nt[at]={value:PDFHexString.fromText(rt[at])};this.acroField.setOptions(nt)},tt.prototype.addOptions=function(rt){assertIs(rt,"options",["string",Array]);for(var nt=Array.isArray(rt)?rt:[rt],at=this.acroField.getOptions(),it=new Array(nt.length),st=0,ot=nt.length;st<ot;st++)it[st]={value:PDFHexString.fromText(nt[st])};this.acroField.setOptions(at.concat(it))},tt.prototype.select=function(rt,nt){nt===void 0&&(nt=!1),assertIs(rt,"options",["string",Array]),assertIs(nt,"merge",["boolean"]);var at=Array.isArray(rt)?rt:[rt],it=this.getOptions(),st=at.find(function(dt){return!it.includes(dt)});st&&this.enableEditing(),this.markAsDirty(),(at.length>1||at.length===1&&nt)&&this.enableMultiselect();for(var ot=new Array(at.length),lt=0,ct=at.length;lt<ct;lt++)ot[lt]=PDFHexString.fromText(at[lt]);if(nt){var ut=this.acroField.getValues();this.acroField.setValues(ut.concat(ot))}else this.acroField.setValues(ot)},tt.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},tt.prototype.setFontSize=function(rt){assertPositive(rt,"fontSize"),this.acroField.setFontSize(rt),this.markAsDirty()},tt.prototype.isEditable=function(){return this.acroField.hasFlag(AcroChoiceFlags.Edit)},tt.prototype.enableEditing=function(){this.acroField.setFlagTo(AcroChoiceFlags.Edit,!0)},tt.prototype.disableEditing=function(){this.acroField.setFlagTo(AcroChoiceFlags.Edit,!1)},tt.prototype.isSorted=function(){return this.acroField.hasFlag(AcroChoiceFlags.Sort)},tt.prototype.enableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!0)},tt.prototype.disableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!1)},tt.prototype.isMultiselect=function(){return this.acroField.hasFlag(AcroChoiceFlags.MultiSelect)},tt.prototype.enableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!0)},tt.prototype.disableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!1)},tt.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(AcroChoiceFlags.DoNotSpellCheck)},tt.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(AcroChoiceFlags.DoNotSpellCheck,!1)},tt.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(AcroChoiceFlags.DoNotSpellCheck,!0)},tt.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(AcroChoiceFlags.CommitOnSelChange)},tt.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!0)},tt.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!1)},tt.prototype.addToPage=function(rt,nt){var at,it,st,ot,lt,ct,ut;assertIs(rt,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(nt),nt||(nt={}),"textColor"in nt||(nt.textColor=rgb(0,0,0)),"backgroundColor"in nt||(nt.backgroundColor=rgb(1,1,1)),"borderColor"in nt||(nt.borderColor=rgb(0,0,0)),"borderWidth"in nt||(nt.borderWidth=1);var dt=this.createWidget({x:(at=nt.x)!==null&&at!==void 0?at:0,y:(it=nt.y)!==null&&it!==void 0?it:0,width:(st=nt.width)!==null&&st!==void 0?st:200,height:(ot=nt.height)!==null&&ot!==void 0?ot:50,textColor:nt.textColor,backgroundColor:nt.backgroundColor,borderColor:nt.borderColor,borderWidth:(lt=nt.borderWidth)!==null&&lt!==void 0?lt:0,rotate:(ct=nt.rotate)!==null&&ct!==void 0?ct:degrees(0),hidden:nt.hidden,page:rt.ref}),ft=this.doc.context.register(dt.dict);this.acroField.addWidget(ft);var ht=(ut=nt.font)!==null&&ut!==void 0?ut:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(dt,ht),rt.node.addAnnot(ft)},tt.prototype.needsAppearancesUpdate=function(){var rt;if(this.isDirty())return!0;for(var nt=this.acroField.getWidgets(),at=0,it=nt.length;at<it;at++){var st=nt[at],ot=((rt=st.getAppearances())===null||rt===void 0?void 0:rt.normal)instanceof PDFStream;if(!ot)return!0}return!1},tt.prototype.defaultUpdateAppearances=function(rt){assertIs(rt,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(rt)},tt.prototype.updateAppearances=function(rt,nt){assertIs(rt,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(nt,"provider",[Function]);for(var at=this.acroField.getWidgets(),it=0,st=at.length;it<st;it++){var ot=at[it];this.updateWidgetAppearance(ot,rt,nt)}this.markAsClean()},tt.prototype.updateWidgetAppearance=function(rt,nt,at){var it=at??defaultDropdownAppearanceProvider,st=normalizeAppearance(it(this,rt,nt));this.updateWidgetAppearanceWithFont(rt,nt,st)},tt.of=function(rt,nt,at){return new tt(rt,nt,at)},tt}(PDFField),PDFOptionList=function(et){__extends(tt,et);function tt(rt,nt,at){var it=et.call(this,rt,nt,at)||this;return assertIs(rt,"acroListBox",[[PDFAcroListBox,"PDFAcroListBox"]]),it.acroField=rt,it}return tt.prototype.getOptions=function(){for(var rt=this.acroField.getOptions(),nt=new Array(rt.length),at=0,it=nt.length;at<it;at++){var st=rt[at],ot=st.display,lt=st.value;nt[at]=(ot??lt).decodeText()}return nt},tt.prototype.getSelected=function(){for(var rt=this.acroField.getValues(),nt=new Array(rt.length),at=0,it=rt.length;at<it;at++)nt[at]=rt[at].decodeText();return nt},tt.prototype.setOptions=function(rt){assertIs(rt,"options",[Array]),this.markAsDirty();for(var nt=new Array(rt.length),at=0,it=rt.length;at<it;at++)nt[at]={value:PDFHexString.fromText(rt[at])};this.acroField.setOptions(nt)},tt.prototype.addOptions=function(rt){assertIs(rt,"options",["string",Array]),this.markAsDirty();for(var nt=Array.isArray(rt)?rt:[rt],at=this.acroField.getOptions(),it=new Array(nt.length),st=0,ot=nt.length;st<ot;st++)it[st]={value:PDFHexString.fromText(nt[st])};this.acroField.setOptions(at.concat(it))},tt.prototype.select=function(rt,nt){nt===void 0&&(nt=!1),assertIs(rt,"options",["string",Array]),assertIs(nt,"merge",["boolean"]);var at=Array.isArray(rt)?rt:[rt],it=this.getOptions();assertIsSubset(at,"option",it),this.markAsDirty(),(at.length>1||at.length===1&&nt)&&this.enableMultiselect();for(var st=new Array(at.length),ot=0,lt=at.length;ot<lt;ot++)st[ot]=PDFHexString.fromText(at[ot]);if(nt){var ct=this.acroField.getValues();this.acroField.setValues(ct.concat(st))}else this.acroField.setValues(st)},tt.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},tt.prototype.setFontSize=function(rt){assertPositive(rt,"fontSize"),this.acroField.setFontSize(rt),this.markAsDirty()},tt.prototype.isSorted=function(){return this.acroField.hasFlag(AcroChoiceFlags.Sort)},tt.prototype.enableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!0)},tt.prototype.disableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!1)},tt.prototype.isMultiselect=function(){return this.acroField.hasFlag(AcroChoiceFlags.MultiSelect)},tt.prototype.enableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!0)},tt.prototype.disableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!1)},tt.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(AcroChoiceFlags.CommitOnSelChange)},tt.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!0)},tt.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!1)},tt.prototype.addToPage=function(rt,nt){var at,it,st,ot,lt,ct,ut;assertIs(rt,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(nt),nt||(nt={}),"textColor"in nt||(nt.textColor=rgb(0,0,0)),"backgroundColor"in nt||(nt.backgroundColor=rgb(1,1,1)),"borderColor"in nt||(nt.borderColor=rgb(0,0,0)),"borderWidth"in nt||(nt.borderWidth=1);var dt=this.createWidget({x:(at=nt.x)!==null&&at!==void 0?at:0,y:(it=nt.y)!==null&&it!==void 0?it:0,width:(st=nt.width)!==null&&st!==void 0?st:200,height:(ot=nt.height)!==null&&ot!==void 0?ot:100,textColor:nt.textColor,backgroundColor:nt.backgroundColor,borderColor:nt.borderColor,borderWidth:(lt=nt.borderWidth)!==null&&lt!==void 0?lt:0,rotate:(ct=nt.rotate)!==null&&ct!==void 0?ct:degrees(0),hidden:nt.hidden,page:rt.ref}),ft=this.doc.context.register(dt.dict);this.acroField.addWidget(ft);var ht=(ut=nt.font)!==null&&ut!==void 0?ut:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(dt,ht),rt.node.addAnnot(ft)},tt.prototype.needsAppearancesUpdate=function(){var rt;if(this.isDirty())return!0;for(var nt=this.acroField.getWidgets(),at=0,it=nt.length;at<it;at++){var st=nt[at],ot=((rt=st.getAppearances())===null||rt===void 0?void 0:rt.normal)instanceof PDFStream;if(!ot)return!0}return!1},tt.prototype.defaultUpdateAppearances=function(rt){assertIs(rt,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(rt)},tt.prototype.updateAppearances=function(rt,nt){assertIs(rt,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(nt,"provider",[Function]);for(var at=this.acroField.getWidgets(),it=0,st=at.length;it<st;it++){var ot=at[it];this.updateWidgetAppearance(ot,rt,nt)}this.markAsClean()},tt.prototype.updateWidgetAppearance=function(rt,nt,at){var it=at??defaultOptionListAppearanceProvider,st=normalizeAppearance(it(this,rt,nt));this.updateWidgetAppearanceWithFont(rt,nt,st)},tt.of=function(rt,nt,at){return new tt(rt,nt,at)},tt}(PDFField),PDFRadioGroup=function(et){__extends(tt,et);function tt(rt,nt,at){var it=et.call(this,rt,nt,at)||this;return assertIs(rt,"acroRadioButton",[[PDFAcroRadioButton,"PDFAcroRadioButton"]]),it.acroField=rt,it}return tt.prototype.getOptions=function(){var rt=this.acroField.getExportValues();if(rt){for(var nt=new Array(rt.length),at=0,it=rt.length;at<it;at++)nt[at]=rt[at].decodeText();return nt}for(var st=this.acroField.getOnValues(),ot=new Array(st.length),at=0,it=ot.length;at<it;at++)ot[at]=st[at].decodeText();return ot},tt.prototype.getSelected=function(){var rt=this.acroField.getValue();if(rt!==PDFName.of("Off")){var nt=this.acroField.getExportValues();if(nt){for(var at=this.acroField.getOnValues(),it=0,st=at.length;it<st;it++)if(at[it]===rt)return nt[it].decodeText()}return rt.decodeText()}},tt.prototype.select=function(rt){assertIs(rt,"option",["string"]);var nt=this.getOptions();assertIsOneOf(rt,"option",nt),this.markAsDirty();var at=this.acroField.getOnValues(),it=this.acroField.getExportValues();if(it)for(var st=0,ot=it.length;st<ot;st++)it[st].decodeText()===rt&&this.acroField.setValue(at[st]);else for(var st=0,ot=at.length;st<ot;st++){var lt=at[st];lt.decodeText()===rt&&this.acroField.setValue(lt)}},tt.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(PDFName.of("Off"))},tt.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(AcroButtonFlags.NoToggleToOff)},tt.prototype.enableOffToggling=function(){this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff,!1)},tt.prototype.disableOffToggling=function(){this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff,!0)},tt.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(AcroButtonFlags.RadiosInUnison)},tt.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison,!1)},tt.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison,!0)},tt.prototype.addOptionToPage=function(rt,nt,at){var it,st,ot,lt,ct,ut,dt,ft,ht;assertIs(rt,"option",["string"]),assertIs(nt,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(at);var gt=this.createWidget({x:(it=at==null?void 0:at.x)!==null&&it!==void 0?it:0,y:(st=at==null?void 0:at.y)!==null&&st!==void 0?st:0,width:(ot=at==null?void 0:at.width)!==null&&ot!==void 0?ot:50,height:(lt=at==null?void 0:at.height)!==null&&lt!==void 0?lt:50,textColor:(ct=at==null?void 0:at.textColor)!==null&&ct!==void 0?ct:rgb(0,0,0),backgroundColor:(ut=at==null?void 0:at.backgroundColor)!==null&&ut!==void 0?ut:rgb(1,1,1),borderColor:(dt=at==null?void 0:at.borderColor)!==null&&dt!==void 0?dt:rgb(0,0,0),borderWidth:(ft=at==null?void 0:at.borderWidth)!==null&&ft!==void 0?ft:1,rotate:(ht=at==null?void 0:at.rotate)!==null&&ht!==void 0?ht:degrees(0),hidden:at==null?void 0:at.hidden,page:nt.ref}),mt=this.doc.context.register(gt.dict),xt=this.acroField.addWidgetWithOpt(mt,PDFHexString.fromText(rt),!this.isMutuallyExclusive());gt.setAppearanceState(PDFName.of("Off")),this.updateWidgetAppearance(gt,xt),nt.node.addAnnot(mt)},tt.prototype.needsAppearancesUpdate=function(){for(var rt,nt=this.acroField.getWidgets(),at=0,it=nt.length;at<it;at++){var st=nt[at],ot=st.getAppearanceState(),lt=(rt=st.getAppearances())===null||rt===void 0?void 0:rt.normal;if(!(lt instanceof PDFDict)||ot&&!lt.has(ot))return!0}return!1},tt.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},tt.prototype.updateAppearances=function(rt){assertOrUndefined(rt,"provider",[Function]);for(var nt=this.acroField.getWidgets(),at=0,it=nt.length;at<it;at++){var st=nt[at],ot=st.getOnValue();ot&&this.updateWidgetAppearance(st,ot,rt)}},tt.prototype.updateWidgetAppearance=function(rt,nt,at){var it=at??defaultRadioGroupAppearanceProvider,st=normalizeAppearance(it(this,rt));this.updateOnOffWidgetAppearance(rt,nt,st)},tt.of=function(rt,nt,at){return new tt(rt,nt,at)},tt}(PDFField),PDFSignature=function(et){__extends(tt,et);function tt(rt,nt,at){var it=et.call(this,rt,nt,at)||this;return assertIs(rt,"acroSignature",[[PDFAcroSignature,"PDFAcroSignature"]]),it.acroField=rt,it}return tt.prototype.needsAppearancesUpdate=function(){return!1},tt.of=function(rt,nt,at){return new tt(rt,nt,at)},tt}(PDFField),PDFTextField=function(et){__extends(tt,et);function tt(rt,nt,at){var it=et.call(this,rt,nt,at)||this;return assertIs(rt,"acroText",[[PDFAcroText,"PDFAcroText"]]),it.acroField=rt,it}return tt.prototype.getText=function(){var rt=this.acroField.getValue();if(!rt&&this.isRichFormatted())throw new RichTextFieldReadError(this.getName());return rt==null?void 0:rt.decodeText()},tt.prototype.setText=function(rt){assertOrUndefined(rt,"text",["string"]);var nt=this.getMaxLength();if(nt!==void 0&&rt&&rt.length>nt)throw new ExceededMaxLengthError(rt.length,nt,this.getName());this.markAsDirty(),this.disableRichFormatting(),rt?this.acroField.setValue(PDFHexString.fromText(rt)):this.acroField.removeValue()},tt.prototype.getAlignment=function(){var rt=this.acroField.getQuadding();return rt===0?TextAlignment.Left:rt===1?TextAlignment.Center:rt===2?TextAlignment.Right:TextAlignment.Left},tt.prototype.setAlignment=function(rt){assertIsOneOf(rt,"alignment",TextAlignment),this.markAsDirty(),this.acroField.setQuadding(rt)},tt.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},tt.prototype.setMaxLength=function(rt){if(assertRangeOrUndefined(rt,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),rt===void 0)this.acroField.removeMaxLength();else{var nt=this.getText();if(nt&&nt.length>rt)throw new InvalidMaxLengthError(nt.length,rt,this.getName());this.acroField.setMaxLength(rt)}},tt.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},tt.prototype.setImage=function(rt){for(var nt=this.getAlignment(),at=nt===TextAlignment.Center?ImageAlignment.Center:nt===TextAlignment.Right?ImageAlignment.Right:ImageAlignment.Left,it=this.acroField.getWidgets(),st=0,ot=it.length;st<ot;st++){var lt=it[st],ct=this.createImageAppearanceStream(lt,rt,at);this.updateWidgetAppearances(lt,{normal:ct})}this.markAsClean()},tt.prototype.setFontSize=function(rt){assertPositive(rt,"fontSize"),this.acroField.setFontSize(rt),this.markAsDirty()},tt.prototype.isMultiline=function(){return this.acroField.hasFlag(AcroTextFlags.Multiline)},tt.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Multiline,!0)},tt.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Multiline,!1)},tt.prototype.isPassword=function(){return this.acroField.hasFlag(AcroTextFlags.Password)},tt.prototype.enablePassword=function(){this.acroField.setFlagTo(AcroTextFlags.Password,!0)},tt.prototype.disablePassword=function(){this.acroField.setFlagTo(AcroTextFlags.Password,!1)},tt.prototype.isFileSelector=function(){return this.acroField.hasFlag(AcroTextFlags.FileSelect)},tt.prototype.enableFileSelection=function(){this.acroField.setFlagTo(AcroTextFlags.FileSelect,!0)},tt.prototype.disableFileSelection=function(){this.acroField.setFlagTo(AcroTextFlags.FileSelect,!1)},tt.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(AcroTextFlags.DoNotSpellCheck)},tt.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotSpellCheck,!1)},tt.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotSpellCheck,!0)},tt.prototype.isScrollable=function(){return!this.acroField.hasFlag(AcroTextFlags.DoNotScroll)},tt.prototype.enableScrolling=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotScroll,!1)},tt.prototype.disableScrolling=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotScroll,!0)},tt.prototype.isCombed=function(){return this.acroField.hasFlag(AcroTextFlags.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&this.getMaxLength()!==void 0},tt.prototype.enableCombing=function(){if(this.getMaxLength()===void 0){var rt="PDFTextFields must have a max length in order to be combed";console.warn(rt)}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(AcroTextFlags.Comb,!0)},tt.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Comb,!1)},tt.prototype.isRichFormatted=function(){return this.acroField.hasFlag(AcroTextFlags.RichText)},tt.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(AcroTextFlags.RichText,!0)},tt.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(AcroTextFlags.RichText,!1)},tt.prototype.addToPage=function(rt,nt){var at,it,st,ot,lt,ct,ut;assertIs(rt,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(nt),nt||(nt={}),"textColor"in nt||(nt.textColor=rgb(0,0,0)),"backgroundColor"in nt||(nt.backgroundColor=rgb(1,1,1)),"borderColor"in nt||(nt.borderColor=rgb(0,0,0)),"borderWidth"in nt||(nt.borderWidth=1);var dt=this.createWidget({x:(at=nt.x)!==null&&at!==void 0?at:0,y:(it=nt.y)!==null&&it!==void 0?it:0,width:(st=nt.width)!==null&&st!==void 0?st:200,height:(ot=nt.height)!==null&&ot!==void 0?ot:50,textColor:nt.textColor,backgroundColor:nt.backgroundColor,borderColor:nt.borderColor,borderWidth:(lt=nt.borderWidth)!==null&&lt!==void 0?lt:0,rotate:(ct=nt.rotate)!==null&&ct!==void 0?ct:degrees(0),hidden:nt.hidden,page:rt.ref}),ft=this.doc.context.register(dt.dict);this.acroField.addWidget(ft);var ht=(ut=nt.font)!==null&&ut!==void 0?ut:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(dt,ht),rt.node.addAnnot(ft)},tt.prototype.needsAppearancesUpdate=function(){var rt;if(this.isDirty())return!0;for(var nt=this.acroField.getWidgets(),at=0,it=nt.length;at<it;at++){var st=nt[at],ot=((rt=st.getAppearances())===null||rt===void 0?void 0:rt.normal)instanceof PDFStream;if(!ot)return!0}return!1},tt.prototype.defaultUpdateAppearances=function(rt){assertIs(rt,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(rt)},tt.prototype.updateAppearances=function(rt,nt){assertIs(rt,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(nt,"provider",[Function]);for(var at=this.acroField.getWidgets(),it=0,st=at.length;it<st;it++){var ot=at[it];this.updateWidgetAppearance(ot,rt,nt)}this.markAsClean()},tt.prototype.updateWidgetAppearance=function(rt,nt,at){var it=at??defaultTextFieldAppearanceProvider,st=normalizeAppearance(it(this,rt,nt));this.updateWidgetAppearanceWithFont(rt,nt,st)},tt.of=function(rt,nt,at){return new tt(rt,nt,at)},tt}(PDFField),StandardFonts;(function(et){et.Courier="Courier",et.CourierBold="Courier-Bold",et.CourierOblique="Courier-Oblique",et.CourierBoldOblique="Courier-BoldOblique",et.Helvetica="Helvetica",et.HelveticaBold="Helvetica-Bold",et.HelveticaOblique="Helvetica-Oblique",et.HelveticaBoldOblique="Helvetica-BoldOblique",et.TimesRoman="Times-Roman",et.TimesRomanBold="Times-Bold",et.TimesRomanItalic="Times-Italic",et.TimesRomanBoldItalic="Times-BoldItalic",et.Symbol="Symbol",et.ZapfDingbats="ZapfDingbats"})(StandardFonts||(StandardFonts={}));var PDFForm=function(){function et(tt,rt){var nt=this;this.embedDefaultFont=function(){return nt.doc.embedStandardFont(StandardFonts.Helvetica)},assertIs(tt,"acroForm",[[PDFAcroForm,"PDFAcroForm"]]),assertIs(rt,"doc",[[PDFDocument,"PDFDocument"]]),this.acroForm=tt,this.doc=rt,this.dirtyFields=new Set,this.defaultFontCache=Cache.populatedBy(this.embedDefaultFont)}return et.prototype.hasXFA=function(){return this.acroForm.dict.has(PDFName.of("XFA"))},et.prototype.deleteXFA=function(){this.acroForm.dict.delete(PDFName.of("XFA"))},et.prototype.getFields=function(){for(var tt=this.acroForm.getAllFields(),rt=[],nt=0,at=tt.length;nt<at;nt++){var it=tt[nt],st=it[0],ot=it[1],lt=convertToPDFField(st,ot,this.doc);lt&&rt.push(lt)}return rt},et.prototype.getFieldMaybe=function(tt){assertIs(tt,"name",["string"]);for(var rt=this.getFields(),nt=0,at=rt.length;nt<at;nt++){var it=rt[nt];if(it.getName()===tt)return it}},et.prototype.getField=function(tt){assertIs(tt,"name",["string"]);var rt=this.getFieldMaybe(tt);if(rt)return rt;throw new NoSuchFieldError(tt)},et.prototype.getButton=function(tt){assertIs(tt,"name",["string"]);var rt=this.getField(tt);if(rt instanceof PDFButton$1)return rt;throw new UnexpectedFieldTypeError(tt,PDFButton$1,rt)},et.prototype.getCheckBox=function(tt){assertIs(tt,"name",["string"]);var rt=this.getField(tt);if(rt instanceof PDFCheckBox)return rt;throw new UnexpectedFieldTypeError(tt,PDFCheckBox,rt)},et.prototype.getDropdown=function(tt){assertIs(tt,"name",["string"]);var rt=this.getField(tt);if(rt instanceof PDFDropdown)return rt;throw new UnexpectedFieldTypeError(tt,PDFDropdown,rt)},et.prototype.getOptionList=function(tt){assertIs(tt,"name",["string"]);var rt=this.getField(tt);if(rt instanceof PDFOptionList)return rt;throw new UnexpectedFieldTypeError(tt,PDFOptionList,rt)},et.prototype.getRadioGroup=function(tt){assertIs(tt,"name",["string"]);var rt=this.getField(tt);if(rt instanceof PDFRadioGroup)return rt;throw new UnexpectedFieldTypeError(tt,PDFRadioGroup,rt)},et.prototype.getSignature=function(tt){assertIs(tt,"name",["string"]);var rt=this.getField(tt);if(rt instanceof PDFSignature)return rt;throw new UnexpectedFieldTypeError(tt,PDFSignature,rt)},et.prototype.getTextField=function(tt){assertIs(tt,"name",["string"]);var rt=this.getField(tt);if(rt instanceof PDFTextField)return rt;throw new UnexpectedFieldTypeError(tt,PDFTextField,rt)},et.prototype.createButton=function(tt){assertIs(tt,"name",["string"]);var rt=splitFieldName(tt),nt=this.findOrCreateNonTerminals(rt.nonTerminal),at=PDFAcroPushButton.create(this.doc.context);return at.setPartialName(rt.terminal),addFieldToParent(nt,[at,at.ref],rt.terminal),PDFButton$1.of(at,at.ref,this.doc)},et.prototype.createCheckBox=function(tt){assertIs(tt,"name",["string"]);var rt=splitFieldName(tt),nt=this.findOrCreateNonTerminals(rt.nonTerminal),at=PDFAcroCheckBox.create(this.doc.context);return at.setPartialName(rt.terminal),addFieldToParent(nt,[at,at.ref],rt.terminal),PDFCheckBox.of(at,at.ref,this.doc)},et.prototype.createDropdown=function(tt){assertIs(tt,"name",["string"]);var rt=splitFieldName(tt),nt=this.findOrCreateNonTerminals(rt.nonTerminal),at=PDFAcroComboBox.create(this.doc.context);return at.setPartialName(rt.terminal),addFieldToParent(nt,[at,at.ref],rt.terminal),PDFDropdown.of(at,at.ref,this.doc)},et.prototype.createOptionList=function(tt){assertIs(tt,"name",["string"]);var rt=splitFieldName(tt),nt=this.findOrCreateNonTerminals(rt.nonTerminal),at=PDFAcroListBox.create(this.doc.context);return at.setPartialName(rt.terminal),addFieldToParent(nt,[at,at.ref],rt.terminal),PDFOptionList.of(at,at.ref,this.doc)},et.prototype.createRadioGroup=function(tt){assertIs(tt,"name",["string"]);var rt=splitFieldName(tt),nt=this.findOrCreateNonTerminals(rt.nonTerminal),at=PDFAcroRadioButton.create(this.doc.context);return at.setPartialName(rt.terminal),addFieldToParent(nt,[at,at.ref],rt.terminal),PDFRadioGroup.of(at,at.ref,this.doc)},et.prototype.createTextField=function(tt){assertIs(tt,"name",["string"]);var rt=splitFieldName(tt),nt=this.findOrCreateNonTerminals(rt.nonTerminal),at=PDFAcroText.create(this.doc.context);return at.setPartialName(rt.terminal),addFieldToParent(nt,[at,at.ref],rt.terminal),PDFTextField.of(at,at.ref,this.doc)},et.prototype.flatten=function(tt){tt===void 0&&(tt={updateFieldAppearances:!0}),tt.updateFieldAppearances&&this.updateFieldAppearances();for(var rt=this.getFields(),nt=0,at=rt.length;nt<at;nt++){for(var it=rt[nt],st=it.acroField.getWidgets(),ot=0,lt=st.length;ot<lt;ot++){var ct=st[ot],ut=this.findWidgetPage(ct),dt=this.findWidgetAppearanceRef(it,ct),ft=ut.node.newXObject("FlatWidget",dt),ht=ct.getRectangle(),gt=__spreadArrays([pushGraphicsState(),translate(ht.x,ht.y)],rotateInPlace(__assign(__assign({},ht),{rotation:0})),[drawObject(ft),popGraphicsState()]).filter(Boolean);ut.pushOperators.apply(ut,gt)}this.removeField(it)}},et.prototype.removeField=function(tt){for(var rt=tt.acroField.getWidgets(),nt=new Set,at=0,it=rt.length;at<it;at++){var st=rt[at],ot=this.findWidgetAppearanceRef(tt,st),lt=this.findWidgetPage(st);nt.add(lt),lt.node.removeAnnot(ot)}nt.forEach(function(ht){return ht.node.removeAnnot(tt.ref)}),this.acroForm.removeField(tt.acroField);for(var ct=tt.acroField.normalizedEntries().Kids,ut=ct.size(),dt=0;dt<ut;dt++){var ft=ct.get(dt);ft instanceof PDFRef&&this.doc.context.delete(ft)}this.doc.context.delete(tt.ref)},et.prototype.updateFieldAppearances=function(tt){assertOrUndefined(tt,"font",[[PDFFont,"PDFFont"]]),tt=tt??this.getDefaultFont();for(var rt=this.getFields(),nt=0,at=rt.length;nt<at;nt++){var it=rt[nt];it.needsAppearancesUpdate()&&it.defaultUpdateAppearances(tt)}},et.prototype.markFieldAsDirty=function(tt){assertOrUndefined(tt,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.add(tt)},et.prototype.markFieldAsClean=function(tt){assertOrUndefined(tt,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.delete(tt)},et.prototype.fieldIsDirty=function(tt){return assertOrUndefined(tt,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.has(tt)},et.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},et.prototype.findWidgetPage=function(tt){var rt=tt.P(),nt=this.doc.getPages().find(function(it){return it.ref===rt});if(nt===void 0){var at=this.doc.context.getObjectRef(tt.dict);if(at===void 0)throw new Error("Could not find PDFRef for PDFObject");if(nt=this.doc.findPageForAnnotationRef(at),nt===void 0)throw new Error("Could not find page for PDFRef "+at)}return nt},et.prototype.findWidgetAppearanceRef=function(tt,rt){var nt,at=rt.getNormalAppearance();if(at instanceof PDFDict&&(tt instanceof PDFCheckBox||tt instanceof PDFRadioGroup)){var it=tt.acroField.getValue(),st=(nt=at.get(it))!==null&&nt!==void 0?nt:at.get(PDFName.of("Off"));st instanceof PDFRef&&(at=st)}if(!(at instanceof PDFRef)){var ot=tt.getName();throw new Error("Failed to extract appearance ref for: "+ot)}return at},et.prototype.findOrCreateNonTerminals=function(tt){for(var rt=[this.acroForm],nt=0,at=tt.length;nt<at;nt++){var it=tt[nt];if(!it)throw new InvalidFieldNamePartError(it);var st=rt[0],ot=rt[1],lt=this.findNonTerminal(it,st);if(lt)rt=lt;else{var ct=PDFAcroNonTerminal.create(this.doc.context);ct.setPartialName(it),ct.setParent(ot);var ut=this.doc.context.register(ct.dict);st.addField(ut),rt=[ct,ut]}}return rt},et.prototype.findNonTerminal=function(tt,rt){for(var nt=rt instanceof PDFAcroForm?this.acroForm.getFields():createPDFAcroFields(rt.Kids()),at=0,it=nt.length;at<it;at++){var st=nt[at],ot=st[0],lt=st[1];if(ot.getPartialName()===tt){if(ot instanceof PDFAcroNonTerminal)return[ot,lt];throw new FieldAlreadyExistsError(tt)}}},et.of=function(tt,rt){return new et(tt,rt)},et}(),convertToPDFField=function(et,tt,rt){if(et instanceof PDFAcroPushButton)return PDFButton$1.of(et,tt,rt);if(et instanceof PDFAcroCheckBox)return PDFCheckBox.of(et,tt,rt);if(et instanceof PDFAcroComboBox)return PDFDropdown.of(et,tt,rt);if(et instanceof PDFAcroListBox)return PDFOptionList.of(et,tt,rt);if(et instanceof PDFAcroText)return PDFTextField.of(et,tt,rt);if(et instanceof PDFAcroRadioButton)return PDFRadioGroup.of(et,tt,rt);if(et instanceof PDFAcroSignature)return PDFSignature.of(et,tt,rt)},splitFieldName=function(et){if(et.length===0)throw new Error("PDF field names must not be empty strings");for(var tt=et.split("."),rt=0,nt=tt.length;rt<nt;rt++)if(tt[rt]==="")throw new Error('Periods in PDF field names must be separated by at least one character: "'+et+'"');return tt.length===1?{nonTerminal:[],terminal:tt[0]}:{nonTerminal:tt.slice(0,tt.length-1),terminal:tt[tt.length-1]}},addFieldToParent=function(et,tt,rt){for(var nt=et[0],at=et[1],it=tt[0],st=tt[1],ot=nt.normalizedEntries(),lt=createPDFAcroFields("Kids"in ot?ot.Kids:ot.Fields),ct=0,ut=lt.length;ct<ut;ct++)if(lt[ct][0].getPartialName()===rt)throw new FieldAlreadyExistsError(rt);nt.addField(st),it.setParent(at)},PageSizes={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],Executive:[521.86,756],Folio:[612,936],Legal:[612,1008],Letter:[612,792],Tabloid:[792,1224]},ParseSpeeds;(function(et){et[et.Fastest=1/0]="Fastest",et[et.Fast=1500]="Fast",et[et.Medium=500]="Medium",et[et.Slow=100]="Slow"})(ParseSpeeds||(ParseSpeeds={}));var PDFEmbeddedFile=function(){function et(tt,rt,nt){this.alreadyEmbedded=!1,this.ref=tt,this.doc=rt,this.embedder=nt}return et.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){var tt,rt,nt,at,it;return __generator(this,function(st){switch(st.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:tt=st.sent(),this.doc.catalog.has(PDFName.of("Names"))||this.doc.catalog.set(PDFName.of("Names"),this.doc.context.obj({})),rt=this.doc.catalog.lookup(PDFName.of("Names"),PDFDict),rt.has(PDFName.of("EmbeddedFiles"))||rt.set(PDFName.of("EmbeddedFiles"),this.doc.context.obj({})),nt=rt.lookup(PDFName.of("EmbeddedFiles"),PDFDict),nt.has(PDFName.of("Names"))||nt.set(PDFName.of("Names"),this.doc.context.obj([])),at=nt.lookup(PDFName.of("Names"),PDFArray),at.push(PDFHexString.fromText(this.embedder.fileName)),at.push(tt),this.doc.catalog.has(PDFName.of("AF"))||this.doc.catalog.set(PDFName.of("AF"),this.doc.context.obj([])),it=this.doc.catalog.lookup(PDFName.of("AF"),PDFArray),it.push(tt),this.alreadyEmbedded=!0,st.label=2;case 2:return[2]}})})},et.of=function(tt,rt,nt){return new et(tt,rt,nt)},et}(),PDFJavaScript=function(){function et(tt,rt,nt){this.alreadyEmbedded=!1,this.ref=tt,this.doc=rt,this.embedder=nt}return et.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){var tt,rt,nt,at,it,st,ot;return __generator(this,function(lt){switch(lt.label){case 0:return this.alreadyEmbedded?[3,2]:(tt=this.doc,rt=tt.catalog,nt=tt.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:at=lt.sent(),rt.has(PDFName.of("Names"))||rt.set(PDFName.of("Names"),nt.obj({})),it=rt.lookup(PDFName.of("Names"),PDFDict),it.has(PDFName.of("JavaScript"))||it.set(PDFName.of("JavaScript"),nt.obj({})),st=it.lookup(PDFName.of("JavaScript"),PDFDict),st.has(PDFName.of("Names"))||st.set(PDFName.of("Names"),nt.obj([])),ot=st.lookup(PDFName.of("Names"),PDFArray),ot.push(PDFHexString.fromText(this.embedder.scriptName)),ot.push(at),this.alreadyEmbedded=!0,lt.label=2;case 2:return[2]}})})},et.of=function(tt,rt,nt){return new et(tt,rt,nt)},et}(),JavaScriptEmbedder=function(){function et(tt,rt){this.script=tt,this.scriptName=rt}return et.for=function(tt,rt){return new et(tt,rt)},et.prototype.embedIntoContext=function(tt,rt){return __awaiter(this,void 0,void 0,function(){var nt;return __generator(this,function(at){return nt=tt.obj({Type:"Action",S:"JavaScript",JS:PDFHexString.fromText(this.script)}),rt?(tt.assign(rt,nt),[2,rt]):[2,tt.register(nt)]})})},et}(),PDFDocument=function(){function et(tt,rt,nt){var at=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var it=[];return at.catalog.Pages().traverse(function(st,ot){if(st instanceof PDFPageLeaf){var lt=at.pageMap.get(st);lt||(lt=PDFPage.of(st,ot,at),at.pageMap.set(st,lt)),it.push(lt)}}),it},this.getOrCreateForm=function(){var it=at.catalog.getOrCreateAcroForm();return PDFForm.of(it,at)},assertIs(tt,"context",[[PDFContext,"PDFContext"]]),assertIs(rt,"ignoreEncryption",["boolean"]),this.context=tt,this.catalog=tt.lookup(tt.trailerInfo.Root),this.isEncrypted=!!tt.lookup(tt.trailerInfo.Encrypt),this.pageCache=Cache.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=Cache.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!rt&&this.isEncrypted)throw new EncryptedPDFError;nt&&this.updateInfoDict()}return et.load=function(tt,rt){return rt===void 0&&(rt={}),__awaiter(this,void 0,void 0,function(){var nt,at,it,st,ot,lt,ct,ut,dt,ft,ht,gt;return __generator(this,function(mt){switch(mt.label){case 0:return nt=rt.ignoreEncryption,at=nt===void 0?!1:nt,it=rt.parseSpeed,st=it===void 0?ParseSpeeds.Slow:it,ot=rt.throwOnInvalidObject,lt=ot===void 0?!1:ot,ct=rt.updateMetadata,ut=ct===void 0?!0:ct,dt=rt.capNumbers,ft=dt===void 0?!1:dt,assertIs(tt,"pdf",["string",Uint8Array,ArrayBuffer]),assertIs(at,"ignoreEncryption",["boolean"]),assertIs(st,"parseSpeed",["number"]),assertIs(lt,"throwOnInvalidObject",["boolean"]),ht=toUint8Array(tt),[4,PDFParser.forBytesWithOptions(ht,st,lt,ft).parseDocument()];case 1:return gt=mt.sent(),[2,new et(gt,at,ut)]}})})},et.create=function(tt){return tt===void 0&&(tt={}),__awaiter(this,void 0,void 0,function(){var rt,nt,at,it,st,ot;return __generator(this,function(lt){return rt=tt.updateMetadata,nt=rt===void 0?!0:rt,at=PDFContext.create(),it=PDFPageTree.withContext(at),st=at.register(it),ot=PDFCatalog.withContextAndPages(at,st),at.trailerInfo.Root=at.register(ot),[2,new et(at,!1,nt)]})})},et.prototype.registerFontkit=function(tt){this.fontkit=tt},et.prototype.getForm=function(){var tt=this.formCache.access();return tt.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),tt.deleteXFA()),tt},et.prototype.getTitle=function(){var tt=this.getInfoDict().lookup(PDFName.Title);if(tt)return assertIsLiteralOrHexString(tt),tt.decodeText()},et.prototype.getAuthor=function(){var tt=this.getInfoDict().lookup(PDFName.Author);if(tt)return assertIsLiteralOrHexString(tt),tt.decodeText()},et.prototype.getSubject=function(){var tt=this.getInfoDict().lookup(PDFName.Subject);if(tt)return assertIsLiteralOrHexString(tt),tt.decodeText()},et.prototype.getKeywords=function(){var tt=this.getInfoDict().lookup(PDFName.Keywords);if(tt)return assertIsLiteralOrHexString(tt),tt.decodeText()},et.prototype.getCreator=function(){var tt=this.getInfoDict().lookup(PDFName.Creator);if(tt)return assertIsLiteralOrHexString(tt),tt.decodeText()},et.prototype.getProducer=function(){var tt=this.getInfoDict().lookup(PDFName.Producer);if(tt)return assertIsLiteralOrHexString(tt),tt.decodeText()},et.prototype.getCreationDate=function(){var tt=this.getInfoDict().lookup(PDFName.CreationDate);if(tt)return assertIsLiteralOrHexString(tt),tt.decodeDate()},et.prototype.getModificationDate=function(){var tt=this.getInfoDict().lookup(PDFName.ModDate);if(tt)return assertIsLiteralOrHexString(tt),tt.decodeDate()},et.prototype.setTitle=function(tt,rt){assertIs(tt,"title",["string"]);var nt=PDFName.of("Title");if(this.getInfoDict().set(nt,PDFHexString.fromText(tt)),rt!=null&&rt.showInWindowTitleBar){var at=this.catalog.getOrCreateViewerPreferences();at.setDisplayDocTitle(!0)}},et.prototype.setAuthor=function(tt){assertIs(tt,"author",["string"]);var rt=PDFName.of("Author");this.getInfoDict().set(rt,PDFHexString.fromText(tt))},et.prototype.setSubject=function(tt){assertIs(tt,"author",["string"]);var rt=PDFName.of("Subject");this.getInfoDict().set(rt,PDFHexString.fromText(tt))},et.prototype.setKeywords=function(tt){assertIs(tt,"keywords",[Array]);var rt=PDFName.of("Keywords");this.getInfoDict().set(rt,PDFHexString.fromText(tt.join(" ")))},et.prototype.setCreator=function(tt){assertIs(tt,"creator",["string"]);var rt=PDFName.of("Creator");this.getInfoDict().set(rt,PDFHexString.fromText(tt))},et.prototype.setProducer=function(tt){assertIs(tt,"creator",["string"]);var rt=PDFName.of("Producer");this.getInfoDict().set(rt,PDFHexString.fromText(tt))},et.prototype.setLanguage=function(tt){assertIs(tt,"language",["string"]);var rt=PDFName.of("Lang");this.catalog.set(rt,PDFString.of(tt))},et.prototype.setCreationDate=function(tt){assertIs(tt,"creationDate",[[Date,"Date"]]);var rt=PDFName.of("CreationDate");this.getInfoDict().set(rt,PDFString.fromDate(tt))},et.prototype.setModificationDate=function(tt){assertIs(tt,"modificationDate",[[Date,"Date"]]);var rt=PDFName.of("ModDate");this.getInfoDict().set(rt,PDFString.fromDate(tt))},et.prototype.getPageCount=function(){return this.pageCount===void 0&&(this.pageCount=this.getPages().length),this.pageCount},et.prototype.getPages=function(){return this.pageCache.access()},et.prototype.getPage=function(tt){var rt=this.getPages();return assertRange(tt,"index",0,rt.length-1),rt[tt]},et.prototype.getPageIndices=function(){return range(0,this.getPageCount())},et.prototype.removePage=function(tt){var rt=this.getPageCount();if(this.pageCount===0)throw new RemovePageFromEmptyDocumentError;assertRange(tt,"index",0,rt-1),this.catalog.removeLeafNode(tt),this.pageCount=rt-1},et.prototype.addPage=function(tt){return assertIs(tt,"page",["undefined",[PDFPage,"PDFPage"],Array]),this.insertPage(this.getPageCount(),tt)},et.prototype.insertPage=function(tt,rt){var nt=this.getPageCount();if(assertRange(tt,"index",0,nt),assertIs(rt,"page",["undefined",[PDFPage,"PDFPage"],Array]),!rt||Array.isArray(rt)){var at=Array.isArray(rt)?rt:PageSizes.A4;rt=PDFPage.create(this),rt.setSize.apply(rt,at)}else if(rt.doc!==this)throw new ForeignPageError;var it=this.catalog.insertLeafNode(rt.ref,tt);return rt.node.setParent(it),this.pageMap.set(rt.node,rt),this.pageCache.invalidate(),this.pageCount=nt+1,rt},et.prototype.copyPages=function(tt,rt){return __awaiter(this,void 0,void 0,function(){var nt,at,it,st,ot,lt,ct,ut;return __generator(this,function(dt){switch(dt.label){case 0:return assertIs(tt,"srcDoc",[[et,"PDFDocument"]]),assertIs(rt,"indices",[Array]),[4,tt.flush()];case 1:for(dt.sent(),nt=PDFObjectCopier.for(tt.context,this.context),at=tt.getPages(),it=new Array(rt.length),st=0,ot=rt.length;st<ot;st++)lt=at[rt[st]],ct=nt.copy(lt.node),ut=this.context.register(ct),it[st]=PDFPage.of(ct,ut,this);return[2,it]}})})},et.prototype.copy=function(){return __awaiter(this,void 0,void 0,function(){var tt,rt,nt,at;return __generator(this,function(it){switch(it.label){case 0:return[4,et.create()];case 1:return tt=it.sent(),[4,tt.copyPages(this,this.getPageIndices())];case 2:for(rt=it.sent(),nt=0,at=rt.length;nt<at;nt++)tt.addPage(rt[nt]);return this.getAuthor()!==void 0&&tt.setAuthor(this.getAuthor()),this.getCreationDate()!==void 0&&tt.setCreationDate(this.getCreationDate()),this.getCreator()!==void 0&&tt.setCreator(this.getCreator()),this.getModificationDate()!==void 0&&tt.setModificationDate(this.getModificationDate()),this.getProducer()!==void 0&&tt.setProducer(this.getProducer()),this.getSubject()!==void 0&&tt.setSubject(this.getSubject()),this.getTitle()!==void 0&&tt.setTitle(this.getTitle()),tt.defaultWordBreaks=this.defaultWordBreaks,[2,tt]}})})},et.prototype.addJavaScript=function(tt,rt){assertIs(tt,"name",["string"]),assertIs(rt,"script",["string"]);var nt=JavaScriptEmbedder.for(rt,tt),at=this.context.nextRef(),it=PDFJavaScript.of(at,this,nt);this.javaScripts.push(it)},et.prototype.attach=function(tt,rt,nt){return nt===void 0&&(nt={}),__awaiter(this,void 0,void 0,function(){var at,it,st,ot;return __generator(this,function(lt){return assertIs(tt,"attachment",["string",Uint8Array,ArrayBuffer]),assertIs(rt,"name",["string"]),assertOrUndefined(nt.mimeType,"mimeType",["string"]),assertOrUndefined(nt.description,"description",["string"]),assertOrUndefined(nt.creationDate,"options.creationDate",[Date]),assertOrUndefined(nt.modificationDate,"options.modificationDate",[Date]),assertIsOneOfOrUndefined(nt.afRelationship,"options.afRelationship",AFRelationship),at=toUint8Array(tt),it=FileEmbedder.for(at,rt,nt),st=this.context.nextRef(),ot=PDFEmbeddedFile.of(st,this,it),this.embeddedFiles.push(ot),[2]})})},et.prototype.embedFont=function(tt,rt){return rt===void 0&&(rt={}),__awaiter(this,void 0,void 0,function(){var nt,at,it,st,ot,lt,ct,ut,dt,ft;return __generator(this,function(ht){switch(ht.label){case 0:return nt=rt.subset,at=nt===void 0?!1:nt,it=rt.customName,st=rt.features,assertIs(tt,"font",["string",Uint8Array,ArrayBuffer]),assertIs(at,"subset",["boolean"]),isStandardFont(tt)?(ot=StandardFontEmbedder.for(tt,it),[3,7]):[3,1];case 1:return canBeConvertedToUint8Array(tt)?(lt=toUint8Array(tt),ct=this.assertFontkit(),at?[4,CustomFontSubsetEmbedder.for(ct,lt,it,st)]:[3,3]):[3,6];case 2:return ut=ht.sent(),[3,5];case 3:return[4,CustomFontEmbedder.for(ct,lt,it,st)];case 4:ut=ht.sent(),ht.label=5;case 5:return ot=ut,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return dt=this.context.nextRef(),ft=PDFFont.of(dt,this,ot),this.fonts.push(ft),[2,ft]}})})},et.prototype.embedStandardFont=function(tt,rt){if(assertIs(tt,"font",["string"]),!isStandardFont(tt))throw new TypeError("`font` must be one of type `StandardFonts`");var nt=StandardFontEmbedder.for(tt,rt),at=this.context.nextRef(),it=PDFFont.of(at,this,nt);return this.fonts.push(it),it},et.prototype.embedJpg=function(tt){return __awaiter(this,void 0,void 0,function(){var rt,nt,at,it;return __generator(this,function(st){switch(st.label){case 0:return assertIs(tt,"jpg",["string",Uint8Array,ArrayBuffer]),rt=toUint8Array(tt),[4,JpegEmbedder.for(rt)];case 1:return nt=st.sent(),at=this.context.nextRef(),it=PDFImage.of(at,this,nt),this.images.push(it),[2,it]}})})},et.prototype.embedPng=function(tt){return __awaiter(this,void 0,void 0,function(){var rt,nt,at,it;return __generator(this,function(st){switch(st.label){case 0:return assertIs(tt,"png",["string",Uint8Array,ArrayBuffer]),rt=toUint8Array(tt),[4,PngEmbedder.for(rt)];case 1:return nt=st.sent(),at=this.context.nextRef(),it=PDFImage.of(at,this,nt),this.images.push(it),[2,it]}})})},et.prototype.embedPdf=function(tt,rt){return rt===void 0&&(rt=[0]),__awaiter(this,void 0,void 0,function(){var nt,at,it;return __generator(this,function(st){switch(st.label){case 0:return assertIs(tt,"pdf",["string",Uint8Array,ArrayBuffer,[et,"PDFDocument"]]),assertIs(rt,"indices",[Array]),tt instanceof et?(at=tt,[3,3]):[3,1];case 1:return[4,et.load(tt)];case 2:at=st.sent(),st.label=3;case 3:return nt=at,it=pluckIndices(nt.getPages(),rt),[2,this.embedPages(it)]}})})},et.prototype.embedPage=function(tt,rt,nt){return __awaiter(this,void 0,void 0,function(){var at;return __generator(this,function(it){switch(it.label){case 0:return assertIs(tt,"page",[[PDFPage,"PDFPage"]]),[4,this.embedPages([tt],[rt],[nt])];case 1:return at=it.sent()[0],[2,at]}})})},et.prototype.embedPages=function(tt,rt,nt){return rt===void 0&&(rt=[]),nt===void 0&&(nt=[]),__awaiter(this,void 0,void 0,function(){var ct,ut,at,it,st,ot,lt,ct,ut,dt,ft,ht,gt,mt,xt;return __generator(this,function(vt){switch(vt.label){case 0:if(tt.length===0)return[2,[]];for(ct=0,ut=tt.length-1;ct<ut;ct++)if(at=tt[ct],it=tt[ct+1],at.node.context!==it.node.context)throw new PageEmbeddingMismatchedContextError;st=tt[0].node.context,ot=st===this.context?function(_t){return _t}:PDFObjectCopier.for(st,this.context).copy,lt=new Array(tt.length),ct=0,ut=tt.length,vt.label=1;case 1:return ct<ut?(dt=ot(tt[ct].node),ft=rt[ct],ht=nt[ct],[4,PDFPageEmbedder.for(dt,ft,ht)]):[3,4];case 2:gt=vt.sent(),mt=this.context.nextRef(),lt[ct]=PDFEmbeddedPage.of(mt,this,gt),vt.label=3;case 3:return ct++,[3,1];case 4:return(xt=this.embeddedPages).push.apply(xt,lt),[2,lt]}})})},et.prototype.flush=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(tt){switch(tt.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return tt.sent(),[4,this.embedAll(this.images)];case 2:return tt.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return tt.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return tt.sent(),[4,this.embedAll(this.javaScripts)];case 5:return tt.sent(),[2]}})})},et.prototype.save=function(tt){return tt===void 0&&(tt={}),__awaiter(this,void 0,void 0,function(){var rt,nt,at,it,st,ot,lt,ct,ut,dt;return __generator(this,function(ft){switch(ft.label){case 0:return rt=tt.useObjectStreams,nt=rt===void 0?!0:rt,at=tt.addDefaultPage,it=at===void 0?!0:at,st=tt.objectsPerTick,ot=st===void 0?50:st,lt=tt.updateFieldAppearances,ct=lt===void 0?!0:lt,assertIs(nt,"useObjectStreams",["boolean"]),assertIs(it,"addDefaultPage",["boolean"]),assertIs(ot,"objectsPerTick",["number"]),assertIs(ct,"updateFieldAppearances",["boolean"]),it&&this.getPageCount()===0&&this.addPage(),ct&&(ut=this.formCache.getValue(),ut&&ut.updateFieldAppearances()),[4,this.flush()];case 1:return ft.sent(),dt=nt?PDFStreamWriter:PDFWriter,[2,dt.forContext(this.context,ot).serializeToBuffer()]}})})},et.prototype.saveAsBase64=function(tt){return tt===void 0&&(tt={}),__awaiter(this,void 0,void 0,function(){var rt,nt,at,it,st;return __generator(this,function(ot){switch(ot.label){case 0:return rt=tt.dataUri,nt=rt===void 0?!1:rt,at=__rest(tt,["dataUri"]),assertIs(nt,"dataUri",["boolean"]),[4,this.save(at)];case 1:return it=ot.sent(),st=encodeToBase64(it),[2,nt?"data:application/pdf;base64,"+st:st]}})})},et.prototype.findPageForAnnotationRef=function(tt){for(var rt=this.getPages(),nt=0,at=rt.length;nt<at;nt++){var it=rt[nt],st=it.node.Annots();if((st==null?void 0:st.indexOf(tt))!==void 0)return it}},et.prototype.embedAll=function(tt){return __awaiter(this,void 0,void 0,function(){var rt,nt;return __generator(this,function(at){switch(at.label){case 0:rt=0,nt=tt.length,at.label=1;case 1:return rt<nt?[4,tt[rt].embed()]:[3,4];case 2:at.sent(),at.label=3;case 3:return rt++,[3,1];case 4:return[2]}})})},et.prototype.updateInfoDict=function(){var tt="pdf-lib (https://github.com/Hopding/pdf-lib)",rt=new Date,nt=this.getInfoDict();this.setProducer(tt),this.setModificationDate(rt),nt.get(PDFName.of("Creator"))||this.setCreator(tt),nt.get(PDFName.of("CreationDate"))||this.setCreationDate(rt)},et.prototype.getInfoDict=function(){var tt=this.context.lookup(this.context.trailerInfo.Info);if(tt instanceof PDFDict)return tt;var rt=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(rt),rt},et.prototype.assertFontkit=function(){if(!this.fontkit)throw new FontkitNotRegisteredError;return this.fontkit},et}();function assertIsLiteralOrHexString(et){if(!(et instanceof PDFHexString)&&!(et instanceof PDFString))throw new UnexpectedObjectTypeError([PDFHexString,PDFString],et)}var BlendMode;(function(et){et.Normal="Normal",et.Multiply="Multiply",et.Screen="Screen",et.Overlay="Overlay",et.Darken="Darken",et.Lighten="Lighten",et.ColorDodge="ColorDodge",et.ColorBurn="ColorBurn",et.HardLight="HardLight",et.SoftLight="SoftLight",et.Difference="Difference",et.Exclusion="Exclusion"})(BlendMode||(BlendMode={}));var PDFPage=function(){function et(tt,rt,nt){this.fontSize=24,this.fontColor=rgb(0,0,0),this.lineHeight=24,this.x=0,this.y=0,assertIs(tt,"leafNode",[[PDFPageLeaf,"PDFPageLeaf"]]),assertIs(rt,"ref",[[PDFRef,"PDFRef"]]),assertIs(nt,"doc",[[PDFDocument,"PDFDocument"]]),this.node=tt,this.ref=rt,this.doc=nt}return et.prototype.setRotation=function(tt){var rt=toDegrees(tt);assertMultiple(rt,"degreesAngle",90),this.node.set(PDFName.of("Rotate"),this.doc.context.obj(rt))},et.prototype.getRotation=function(){var tt=this.node.Rotate();return degrees(tt?tt.asNumber():0)},et.prototype.setSize=function(tt,rt){assertIs(tt,"width",["number"]),assertIs(rt,"height",["number"]);var nt=this.getMediaBox();this.setMediaBox(nt.x,nt.y,tt,rt);var at=this.getCropBox(),it=this.getBleedBox(),st=this.getTrimBox(),ot=this.getArtBox(),lt=this.node.CropBox(),ct=this.node.BleedBox(),ut=this.node.TrimBox(),dt=this.node.ArtBox();lt&&rectanglesAreEqual(at,nt)&&this.setCropBox(nt.x,nt.y,tt,rt),ct&&rectanglesAreEqual(it,nt)&&this.setBleedBox(nt.x,nt.y,tt,rt),ut&&rectanglesAreEqual(st,nt)&&this.setTrimBox(nt.x,nt.y,tt,rt),dt&&rectanglesAreEqual(ot,nt)&&this.setArtBox(nt.x,nt.y,tt,rt)},et.prototype.setWidth=function(tt){assertIs(tt,"width",["number"]),this.setSize(tt,this.getSize().height)},et.prototype.setHeight=function(tt){assertIs(tt,"height",["number"]),this.setSize(this.getSize().width,tt)},et.prototype.setMediaBox=function(tt,rt,nt,at){assertIs(tt,"x",["number"]),assertIs(rt,"y",["number"]),assertIs(nt,"width",["number"]),assertIs(at,"height",["number"]);var it=this.doc.context.obj([tt,rt,tt+nt,rt+at]);this.node.set(PDFName.MediaBox,it)},et.prototype.setCropBox=function(tt,rt,nt,at){assertIs(tt,"x",["number"]),assertIs(rt,"y",["number"]),assertIs(nt,"width",["number"]),assertIs(at,"height",["number"]);var it=this.doc.context.obj([tt,rt,tt+nt,rt+at]);this.node.set(PDFName.CropBox,it)},et.prototype.setBleedBox=function(tt,rt,nt,at){assertIs(tt,"x",["number"]),assertIs(rt,"y",["number"]),assertIs(nt,"width",["number"]),assertIs(at,"height",["number"]);var it=this.doc.context.obj([tt,rt,tt+nt,rt+at]);this.node.set(PDFName.BleedBox,it)},et.prototype.setTrimBox=function(tt,rt,nt,at){assertIs(tt,"x",["number"]),assertIs(rt,"y",["number"]),assertIs(nt,"width",["number"]),assertIs(at,"height",["number"]);var it=this.doc.context.obj([tt,rt,tt+nt,rt+at]);this.node.set(PDFName.TrimBox,it)},et.prototype.setArtBox=function(tt,rt,nt,at){assertIs(tt,"x",["number"]),assertIs(rt,"y",["number"]),assertIs(nt,"width",["number"]),assertIs(at,"height",["number"]);var it=this.doc.context.obj([tt,rt,tt+nt,rt+at]);this.node.set(PDFName.ArtBox,it)},et.prototype.getSize=function(){var tt=this.getMediaBox(),rt=tt.width,nt=tt.height;return{width:rt,height:nt}},et.prototype.getWidth=function(){return this.getSize().width},et.prototype.getHeight=function(){return this.getSize().height},et.prototype.getMediaBox=function(){var tt=this.node.MediaBox();return tt.asRectangle()},et.prototype.getCropBox=function(){var tt,rt=this.node.CropBox();return(tt=rt==null?void 0:rt.asRectangle())!==null&&tt!==void 0?tt:this.getMediaBox()},et.prototype.getBleedBox=function(){var tt,rt=this.node.BleedBox();return(tt=rt==null?void 0:rt.asRectangle())!==null&&tt!==void 0?tt:this.getCropBox()},et.prototype.getTrimBox=function(){var tt,rt=this.node.TrimBox();return(tt=rt==null?void 0:rt.asRectangle())!==null&&tt!==void 0?tt:this.getCropBox()},et.prototype.getArtBox=function(){var tt,rt=this.node.ArtBox();return(tt=rt==null?void 0:rt.asRectangle())!==null&&tt!==void 0?tt:this.getCropBox()},et.prototype.translateContent=function(tt,rt){assertIs(tt,"x",["number"]),assertIs(rt,"y",["number"]),this.node.normalize(),this.getContentStream();var nt=this.createContentStream(pushGraphicsState(),translate(tt,rt)),at=this.doc.context.register(nt),it=this.createContentStream(popGraphicsState()),st=this.doc.context.register(it);this.node.wrapContentStreams(at,st)},et.prototype.scale=function(tt,rt){assertIs(tt,"x",["number"]),assertIs(rt,"y",["number"]),this.setSize(this.getWidth()*tt,this.getHeight()*rt),this.scaleContent(tt,rt),this.scaleAnnotations(tt,rt)},et.prototype.scaleContent=function(tt,rt){assertIs(tt,"x",["number"]),assertIs(rt,"y",["number"]),this.node.normalize(),this.getContentStream();var nt=this.createContentStream(pushGraphicsState(),scale(tt,rt)),at=this.doc.context.register(nt),it=this.createContentStream(popGraphicsState()),st=this.doc.context.register(it);this.node.wrapContentStreams(at,st)},et.prototype.scaleAnnotations=function(tt,rt){assertIs(tt,"x",["number"]),assertIs(rt,"y",["number"]);var nt=this.node.Annots();if(nt)for(var at=0;at<nt.size();at++){var it=nt.lookup(at);it instanceof PDFDict&&this.scaleAnnot(it,tt,rt)}},et.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},et.prototype.setFont=function(tt){assertIs(tt,"font",[[PDFFont,"PDFFont"]]),this.font=tt,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},et.prototype.setFontSize=function(tt){assertIs(tt,"fontSize",["number"]),this.fontSize=tt},et.prototype.setFontColor=function(tt){assertIs(tt,"fontColor",[[Object,"Color"]]),this.fontColor=tt},et.prototype.setLineHeight=function(tt){assertIs(tt,"lineHeight",["number"]),this.lineHeight=tt},et.prototype.getPosition=function(){return{x:this.x,y:this.y}},et.prototype.getX=function(){return this.x},et.prototype.getY=function(){return this.y},et.prototype.moveTo=function(tt,rt){assertIs(tt,"x",["number"]),assertIs(rt,"y",["number"]),this.x=tt,this.y=rt},et.prototype.moveDown=function(tt){assertIs(tt,"yDecrease",["number"]),this.y-=tt},et.prototype.moveUp=function(tt){assertIs(tt,"yIncrease",["number"]),this.y+=tt},et.prototype.moveLeft=function(tt){assertIs(tt,"xDecrease",["number"]),this.x-=tt},et.prototype.moveRight=function(tt){assertIs(tt,"xIncrease",["number"]),this.x+=tt},et.prototype.pushOperators=function(){for(var tt=[],rt=0;rt<arguments.length;rt++)tt[rt]=arguments[rt];assertEachIs(tt,"operator",[[PDFOperator,"PDFOperator"]]);var nt=this.getContentStream();nt.push.apply(nt,tt)},et.prototype.drawText=function(tt,rt){var nt,at,it,st,ot,lt,ct;rt===void 0&&(rt={}),assertIs(tt,"text",["string"]),assertOrUndefined(rt.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(rt.opacity,"opacity.opacity",0,1),assertOrUndefined(rt.font,"options.font",[[PDFFont,"PDFFont"]]),assertOrUndefined(rt.size,"options.size",["number"]),assertOrUndefined(rt.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(rt.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(rt.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertOrUndefined(rt.x,"options.x",["number"]),assertOrUndefined(rt.y,"options.y",["number"]),assertOrUndefined(rt.lineHeight,"options.lineHeight",["number"]),assertOrUndefined(rt.maxWidth,"options.maxWidth",["number"]),assertOrUndefined(rt.wordBreaks,"options.wordBreaks",[Array]),assertIsOneOfOrUndefined(rt.blendMode,"options.blendMode",BlendMode);for(var ut=this.setOrEmbedFont(rt.font),dt=ut.oldFont,ft=ut.newFont,ht=ut.newFontKey,gt=rt.size||this.fontSize,mt=rt.wordBreaks||this.doc.defaultWordBreaks,xt=function(Tt){return ft.widthOfTextAtSize(Tt,gt)},vt=rt.maxWidth===void 0?lineSplit(cleanText(tt)):breakTextIntoLines(tt,mt,rt.maxWidth,xt),_t=new Array(vt.length),yt=0,St=vt.length;yt<St;yt++)_t[yt]=ft.encodeText(vt[yt]);var bt=this.maybeEmbedGraphicsState({opacity:rt.opacity,blendMode:rt.blendMode}),Et=this.getContentStream();Et.push.apply(Et,drawLinesOfText(_t,{color:(nt=rt.color)!==null&&nt!==void 0?nt:this.fontColor,font:ht,size:gt,rotate:(at=rt.rotate)!==null&&at!==void 0?at:degrees(0),xSkew:(it=rt.xSkew)!==null&&it!==void 0?it:degrees(0),ySkew:(st=rt.ySkew)!==null&&st!==void 0?st:degrees(0),x:(ot=rt.x)!==null&&ot!==void 0?ot:this.x,y:(lt=rt.y)!==null&&lt!==void 0?lt:this.y,lineHeight:(ct=rt.lineHeight)!==null&&ct!==void 0?ct:this.lineHeight,graphicsState:bt})),rt.font&&(dt?this.setFont(dt):this.resetFont())},et.prototype.drawImage=function(tt,rt){var nt,at,it,st,ot,lt,ct;rt===void 0&&(rt={}),assertIs(tt,"image",[[PDFImage,"PDFImage"]]),assertOrUndefined(rt.x,"options.x",["number"]),assertOrUndefined(rt.y,"options.y",["number"]),assertOrUndefined(rt.width,"options.width",["number"]),assertOrUndefined(rt.height,"options.height",["number"]),assertOrUndefined(rt.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(rt.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(rt.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertRangeOrUndefined(rt.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(rt.blendMode,"options.blendMode",BlendMode);var ut=this.node.newXObject("Image",tt.ref),dt=this.maybeEmbedGraphicsState({opacity:rt.opacity,blendMode:rt.blendMode}),ft=this.getContentStream();ft.push.apply(ft,drawImage(ut,{x:(nt=rt.x)!==null&&nt!==void 0?nt:this.x,y:(at=rt.y)!==null&&at!==void 0?at:this.y,width:(it=rt.width)!==null&&it!==void 0?it:tt.size().width,height:(st=rt.height)!==null&&st!==void 0?st:tt.size().height,rotate:(ot=rt.rotate)!==null&&ot!==void 0?ot:degrees(0),xSkew:(lt=rt.xSkew)!==null&&lt!==void 0?lt:degrees(0),ySkew:(ct=rt.ySkew)!==null&&ct!==void 0?ct:degrees(0),graphicsState:dt}))},et.prototype.drawPage=function(tt,rt){var nt,at,it,st,ot;rt===void 0&&(rt={}),assertIs(tt,"embeddedPage",[[PDFEmbeddedPage,"PDFEmbeddedPage"]]),assertOrUndefined(rt.x,"options.x",["number"]),assertOrUndefined(rt.y,"options.y",["number"]),assertOrUndefined(rt.xScale,"options.xScale",["number"]),assertOrUndefined(rt.yScale,"options.yScale",["number"]),assertOrUndefined(rt.width,"options.width",["number"]),assertOrUndefined(rt.height,"options.height",["number"]),assertOrUndefined(rt.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(rt.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(rt.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertRangeOrUndefined(rt.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(rt.blendMode,"options.blendMode",BlendMode);var lt=this.node.newXObject("EmbeddedPdfPage",tt.ref),ct=this.maybeEmbedGraphicsState({opacity:rt.opacity,blendMode:rt.blendMode}),ut=rt.width!==void 0?rt.width/tt.width:rt.xScale!==void 0?rt.xScale:1,dt=rt.height!==void 0?rt.height/tt.height:rt.yScale!==void 0?rt.yScale:1,ft=this.getContentStream();ft.push.apply(ft,drawPage(lt,{x:(nt=rt.x)!==null&&nt!==void 0?nt:this.x,y:(at=rt.y)!==null&&at!==void 0?at:this.y,xScale:ut,yScale:dt,rotate:(it=rt.rotate)!==null&&it!==void 0?it:degrees(0),xSkew:(st=rt.xSkew)!==null&&st!==void 0?st:degrees(0),ySkew:(ot=rt.ySkew)!==null&&ot!==void 0?ot:degrees(0),graphicsState:ct}))},et.prototype.drawSvgPath=function(tt,rt){var nt,at,it,st,ot,lt,ct,ut,dt;rt===void 0&&(rt={}),assertIs(tt,"path",["string"]),assertOrUndefined(rt.x,"options.x",["number"]),assertOrUndefined(rt.y,"options.y",["number"]),assertOrUndefined(rt.scale,"options.scale",["number"]),assertOrUndefined(rt.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(rt.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(rt.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(rt.opacity,"opacity.opacity",0,1),assertOrUndefined(rt.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(rt.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(rt.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(rt.borderLineCap,"options.borderLineCap",LineCapStyle),assertRangeOrUndefined(rt.borderOpacity,"options.borderOpacity",0,1),assertIsOneOfOrUndefined(rt.blendMode,"options.blendMode",BlendMode);var ft=this.maybeEmbedGraphicsState({opacity:rt.opacity,borderOpacity:rt.borderOpacity,blendMode:rt.blendMode});!("color"in rt)&&!("borderColor"in rt)&&(rt.borderColor=rgb(0,0,0));var ht=this.getContentStream();ht.push.apply(ht,drawSvgPath(tt,{x:(nt=rt.x)!==null&&nt!==void 0?nt:this.x,y:(at=rt.y)!==null&&at!==void 0?at:this.y,scale:rt.scale,rotate:(it=rt.rotate)!==null&&it!==void 0?it:degrees(0),color:(st=rt.color)!==null&&st!==void 0?st:void 0,borderColor:(ot=rt.borderColor)!==null&&ot!==void 0?ot:void 0,borderWidth:(lt=rt.borderWidth)!==null&&lt!==void 0?lt:0,borderDashArray:(ct=rt.borderDashArray)!==null&&ct!==void 0?ct:void 0,borderDashPhase:(ut=rt.borderDashPhase)!==null&&ut!==void 0?ut:void 0,borderLineCap:(dt=rt.borderLineCap)!==null&&dt!==void 0?dt:void 0,graphicsState:ft}))},et.prototype.drawLine=function(tt){var rt,nt,at,it,st;assertIs(tt.start,"options.start",[[Object,"{ x: number, y: number }"]]),assertIs(tt.end,"options.end",[[Object,"{ x: number, y: number }"]]),assertIs(tt.start.x,"options.start.x",["number"]),assertIs(tt.start.y,"options.start.y",["number"]),assertIs(tt.end.x,"options.end.x",["number"]),assertIs(tt.end.y,"options.end.y",["number"]),assertOrUndefined(tt.thickness,"options.thickness",["number"]),assertOrUndefined(tt.color,"options.color",[[Object,"Color"]]),assertOrUndefined(tt.dashArray,"options.dashArray",[Array]),assertOrUndefined(tt.dashPhase,"options.dashPhase",["number"]),assertIsOneOfOrUndefined(tt.lineCap,"options.lineCap",LineCapStyle),assertRangeOrUndefined(tt.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(tt.blendMode,"options.blendMode",BlendMode);var ot=this.maybeEmbedGraphicsState({borderOpacity:tt.opacity,blendMode:tt.blendMode});"color"in tt||(tt.color=rgb(0,0,0));var lt=this.getContentStream();lt.push.apply(lt,drawLine({start:tt.start,end:tt.end,thickness:(rt=tt.thickness)!==null&&rt!==void 0?rt:1,color:(nt=tt.color)!==null&&nt!==void 0?nt:void 0,dashArray:(at=tt.dashArray)!==null&&at!==void 0?at:void 0,dashPhase:(it=tt.dashPhase)!==null&&it!==void 0?it:void 0,lineCap:(st=tt.lineCap)!==null&&st!==void 0?st:void 0,graphicsState:ot}))},et.prototype.drawRectangle=function(tt){var rt,nt,at,it,st,ot,lt,ct,ut,dt,ft,ht,gt;tt===void 0&&(tt={}),assertOrUndefined(tt.x,"options.x",["number"]),assertOrUndefined(tt.y,"options.y",["number"]),assertOrUndefined(tt.width,"options.width",["number"]),assertOrUndefined(tt.height,"options.height",["number"]),assertOrUndefined(tt.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(tt.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(tt.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertOrUndefined(tt.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(tt.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(tt.opacity,"opacity.opacity",0,1),assertOrUndefined(tt.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(tt.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(tt.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(tt.borderLineCap,"options.borderLineCap",LineCapStyle),assertRangeOrUndefined(tt.borderOpacity,"options.borderOpacity",0,1),assertIsOneOfOrUndefined(tt.blendMode,"options.blendMode",BlendMode);var mt=this.maybeEmbedGraphicsState({opacity:tt.opacity,borderOpacity:tt.borderOpacity,blendMode:tt.blendMode});!("color"in tt)&&!("borderColor"in tt)&&(tt.color=rgb(0,0,0));var xt=this.getContentStream();xt.push.apply(xt,drawRectangle({x:(rt=tt.x)!==null&&rt!==void 0?rt:this.x,y:(nt=tt.y)!==null&&nt!==void 0?nt:this.y,width:(at=tt.width)!==null&&at!==void 0?at:150,height:(it=tt.height)!==null&&it!==void 0?it:100,rotate:(st=tt.rotate)!==null&&st!==void 0?st:degrees(0),xSkew:(ot=tt.xSkew)!==null&&ot!==void 0?ot:degrees(0),ySkew:(lt=tt.ySkew)!==null&&lt!==void 0?lt:degrees(0),borderWidth:(ct=tt.borderWidth)!==null&&ct!==void 0?ct:0,color:(ut=tt.color)!==null&&ut!==void 0?ut:void 0,borderColor:(dt=tt.borderColor)!==null&&dt!==void 0?dt:void 0,borderDashArray:(ft=tt.borderDashArray)!==null&&ft!==void 0?ft:void 0,borderDashPhase:(ht=tt.borderDashPhase)!==null&&ht!==void 0?ht:void 0,graphicsState:mt,borderLineCap:(gt=tt.borderLineCap)!==null&&gt!==void 0?gt:void 0}))},et.prototype.drawSquare=function(tt){tt===void 0&&(tt={});var rt=tt.size;assertOrUndefined(rt,"size",["number"]),this.drawRectangle(__assign(__assign({},tt),{width:rt,height:rt}))},et.prototype.drawEllipse=function(tt){var rt,nt,at,it,st,ot,lt,ct,ut,dt,ft;tt===void 0&&(tt={}),assertOrUndefined(tt.x,"options.x",["number"]),assertOrUndefined(tt.y,"options.y",["number"]),assertOrUndefined(tt.xScale,"options.xScale",["number"]),assertOrUndefined(tt.yScale,"options.yScale",["number"]),assertOrUndefined(tt.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(tt.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(tt.opacity,"opacity.opacity",0,1),assertOrUndefined(tt.borderColor,"options.borderColor",[[Object,"Color"]]),assertRangeOrUndefined(tt.borderOpacity,"options.borderOpacity",0,1),assertOrUndefined(tt.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(tt.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(tt.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(tt.borderLineCap,"options.borderLineCap",LineCapStyle),assertIsOneOfOrUndefined(tt.blendMode,"options.blendMode",BlendMode);var ht=this.maybeEmbedGraphicsState({opacity:tt.opacity,borderOpacity:tt.borderOpacity,blendMode:tt.blendMode});!("color"in tt)&&!("borderColor"in tt)&&(tt.color=rgb(0,0,0));var gt=this.getContentStream();gt.push.apply(gt,drawEllipse({x:(rt=tt.x)!==null&&rt!==void 0?rt:this.x,y:(nt=tt.y)!==null&&nt!==void 0?nt:this.y,xScale:(at=tt.xScale)!==null&&at!==void 0?at:100,yScale:(it=tt.yScale)!==null&&it!==void 0?it:100,rotate:(st=tt.rotate)!==null&&st!==void 0?st:void 0,color:(ot=tt.color)!==null&&ot!==void 0?ot:void 0,borderColor:(lt=tt.borderColor)!==null&&lt!==void 0?lt:void 0,borderWidth:(ct=tt.borderWidth)!==null&&ct!==void 0?ct:0,borderDashArray:(ut=tt.borderDashArray)!==null&&ut!==void 0?ut:void 0,borderDashPhase:(dt=tt.borderDashPhase)!==null&&dt!==void 0?dt:void 0,borderLineCap:(ft=tt.borderLineCap)!==null&&ft!==void 0?ft:void 0,graphicsState:ht}))},et.prototype.drawCircle=function(tt){tt===void 0&&(tt={});var rt=tt.size,nt=rt===void 0?100:rt;assertOrUndefined(nt,"size",["number"]),this.drawEllipse(__assign(__assign({},tt),{xScale:nt,yScale:nt}))},et.prototype.setOrEmbedFont=function(tt){var rt=this.font,nt=this.fontKey;tt?this.setFont(tt):this.getFont();var at=this.font,it=this.fontKey;return{oldFont:rt,oldFontKey:nt,newFont:at,newFontKey:it}},et.prototype.getFont=function(){if(!this.font||!this.fontKey){var tt=this.doc.embedStandardFont(StandardFonts.Helvetica);this.setFont(tt)}return[this.font,this.fontKey]},et.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},et.prototype.getContentStream=function(tt){return tt===void 0&&(tt=!0),tt&&this.contentStream?this.contentStream:(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef),this.contentStream)},et.prototype.createContentStream=function(){for(var tt=[],rt=0;rt<arguments.length;rt++)tt[rt]=arguments[rt];var nt=this.doc.context.obj({}),at=PDFContentStream.of(nt,tt);return at},et.prototype.maybeEmbedGraphicsState=function(tt){var rt=tt.opacity,nt=tt.borderOpacity,at=tt.blendMode;if(!(rt===void 0&&nt===void 0&&at===void 0)){var it=this.doc.context.obj({Type:"ExtGState",ca:rt,CA:nt,BM:at}),st=this.node.newExtGState("GS",it);return st}},et.prototype.scaleAnnot=function(tt,rt,nt){for(var at=["RD","CL","Vertices","QuadPoints","L","Rect"],it=0,st=at.length;it<st;it++){var ot=tt.lookup(PDFName.of(at[it]));ot instanceof PDFArray&&ot.scalePDFNumbers(rt,nt)}var lt=tt.lookup(PDFName.of("InkList"));if(lt instanceof PDFArray)for(var it=0,st=lt.size();it<st;it++){var ct=lt.lookup(it);ct instanceof PDFArray&&ct.scalePDFNumbers(rt,nt)}},et.of=function(tt,rt,nt){return new et(tt,rt,nt)},et.create=function(tt){assertIs(tt,"doc",[[PDFDocument,"PDFDocument"]]);var rt=PDFRef.of(-1),nt=PDFPageLeaf.withContextAndParent(tt.context,rt),at=tt.context.register(nt);return new et(nt,at,tt)},et}(),PDFButton=function(et){__extends(tt,et);function tt(rt,nt,at){var it=et.call(this,rt,nt,at)||this;return assertIs(rt,"acroButton",[[PDFAcroPushButton,"PDFAcroPushButton"]]),it.acroField=rt,it}return tt.prototype.setImage=function(rt,nt){nt===void 0&&(nt=ImageAlignment.Center);for(var at=this.acroField.getWidgets(),it=0,st=at.length;it<st;it++){var ot=at[it],lt=this.createImageAppearanceStream(ot,rt,nt);this.updateWidgetAppearances(ot,{normal:lt})}this.markAsClean()},tt.prototype.setFontSize=function(rt){assertPositive(rt,"fontSize"),this.acroField.setFontSize(rt),this.markAsDirty()},tt.prototype.addToPage=function(rt,nt,at){var it,st,ot,lt,ct,ut,dt,ft,ht,gt,mt;assertOrUndefined(rt,"text",["string"]),assertOrUndefined(nt,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(at);var xt=this.createWidget({x:((it=at==null?void 0:at.x)!==null&&it!==void 0?it:0)-((st=at==null?void 0:at.borderWidth)!==null&&st!==void 0?st:0)/2,y:((ot=at==null?void 0:at.y)!==null&&ot!==void 0?ot:0)-((lt=at==null?void 0:at.borderWidth)!==null&&lt!==void 0?lt:0)/2,width:(ct=at==null?void 0:at.width)!==null&&ct!==void 0?ct:100,height:(ut=at==null?void 0:at.height)!==null&&ut!==void 0?ut:50,textColor:(dt=at==null?void 0:at.textColor)!==null&&dt!==void 0?dt:rgb(0,0,0),backgroundColor:(ft=at==null?void 0:at.backgroundColor)!==null&&ft!==void 0?ft:rgb(.75,.75,.75),borderColor:at==null?void 0:at.borderColor,borderWidth:(ht=at==null?void 0:at.borderWidth)!==null&&ht!==void 0?ht:0,rotate:(gt=at==null?void 0:at.rotate)!==null&&gt!==void 0?gt:degrees(0),caption:rt,hidden:at==null?void 0:at.hidden,page:nt.ref}),vt=this.doc.context.register(xt.dict);this.acroField.addWidget(vt);var _t=(mt=at==null?void 0:at.font)!==null&&mt!==void 0?mt:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(xt,_t),nt.node.addAnnot(vt)},tt.prototype.needsAppearancesUpdate=function(){var rt;if(this.isDirty())return!0;for(var nt=this.acroField.getWidgets(),at=0,it=nt.length;at<it;at++){var st=nt[at],ot=((rt=st.getAppearances())===null||rt===void 0?void 0:rt.normal)instanceof PDFStream;if(!ot)return!0}return!1},tt.prototype.defaultUpdateAppearances=function(rt){assertIs(rt,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(rt)},tt.prototype.updateAppearances=function(rt,nt){assertIs(rt,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(nt,"provider",[Function]);for(var at=this.acroField.getWidgets(),it=0,st=at.length;it<st;it++){var ot=at[it];this.updateWidgetAppearance(ot,rt,nt)}},tt.prototype.updateWidgetAppearance=function(rt,nt,at){var it=at??defaultButtonAppearanceProvider,st=normalizeAppearance(it(this,rt,nt));this.updateWidgetAppearanceWithFont(rt,nt,st)},tt.of=function(rt,nt,at){return new tt(rt,nt,at)},tt}(PDFField);const PDFButton$1=PDFButton;async function fetchCompanyProfile(){const{data:et,error:tt}=await supabase.from("company_profile").select("official_letterhead_pdf_url, company_name").limit(1).single();if(tt&&tt.code!=="PGRST116")throw console.error("Error fetching company profile:",tt),new Error("Gagal memuat profil perusahaan: "+tt.message);if(!et||!et.official_letterhead_pdf_url)throw new Error("URL PDF kop surat belum diatur di profil perusahaan. Harap hubungi Admin.");return et}const generateLeaveRequestPdf=async et=>{try{const rt=(await fetchCompanyProfile()).official_letterhead_pdf_url,nt=await fetch(rt).then(Qt=>Qt.arrayBuffer()),at=await PDFDocument.load(nt),it=await at.embedFont(StandardFonts.Helvetica),st=await at.embedFont(StandardFonts.HelveticaBold),lt=at.getPages()[0],{width:ct,height:ut}=lt.getSize(),dt=Qt=>Qt?new Date(Qt).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"}):"-",ft=(Qt,ir,Xt,Lt={})=>{lt.drawText(Qt||"-",{x:ir,y:Xt,font:Lt.font||it,size:Lt.size||10,color:Lt.color||rgb(0,0,0),lineHeight:Lt.lineHeight||12,maxWidth:Lt.maxWidth})},ht=et.employees||{},gt=et.leave_types||{},mt=dt(et.start_date),xt=dt(et.end_date),vt=dt(et.requested_at),_t=calculateLeaveDuration(et.start_date,et.end_date),yt=ut-180,St=70,bt=200;ft("FORMULIR PERMOHONAN CUTI KARYAWAN",St,yt+20,{font:st,size:14,color:rgb(.1,.1,.1)});let Et=yt-15;ft("DATA KARYAWAN",St,Et,{font:st,size:11}),Et-=15,ft("Nomor Surat Cuti",St,Et),ft(`: ${et.leave_request_number||"Belum ada"}`,St+bt,Et),Et-=15,ft("Tanggal Surat Cuti",St,Et),ft(`: ${vt}`,St+bt,Et),Et-=15,ft("Nama Lengkap",St,Et),ft(`: ${ht.name||"N/A"}`,St+bt,Et),Et-=15,ft("Divisi / Bagian / Unit Kerja",St,Et),ft(`: ${ht.division||"N/A"}`,St+bt,Et),Et-=15,ft("Jabatan",St,Et),ft(`: ${ht.position||"N/A"}`,St+bt,Et),Et-=25,ft("KETERANGAN CUTI",St,Et,{font:st,size:11}),Et-=15,ft("Jenis Cuti",St,Et),ft(`: ${gt.name||"N/A"}`,St+bt,Et),Et-=15,ft("Lama Cuti Dijalankan",St,Et),ft(`: ${mt} s/d ${xt} (${_t} hari kerja)`,St+bt,Et),Et-=15;const Tt=ht.address||"Sesuai alamat KTP",At=ht.phone||"Sesuai nomor telepon terdaftar";ft("Alamat Selama Cuti",St,Et),lt.drawText(`: ${Tt}`,{x:St+bt,y:Et,font:it,size:10,color:rgb(0,0,0),lineHeight:12,maxWidth:ct-(St+bt)-30});const Ct=Math.ceil((Tt||"-").length/45);Et-=Ct*12+3,ft("No. Telepon Selama Cuti",St,Et),ft(`: ${At}`,St+bt,Et),Et-=15,ft("Keterangan / Alasan",St,Et),lt.drawText(`: ${et.reason||"-"}`,{x:St+bt,y:Et,font:it,size:10,color:rgb(0,0,0),lineHeight:12,maxWidth:ct-(St+bt)-30});const kt=Math.ceil((et.reason||"-").length/45);Et-=kt*12+3,Et-=15,ft("Status Pengajuan",St,Et),ft(`: ${et.status||"N/A"}`,St+bt,Et,{font:st}),Et-=25,ft("SELAMA CUTI TUGAS DIGANTIKAN OLEH",St,Et,{font:st,size:11}),Et-=15,ft("Nama Lengkap",St,Et),ft(": .....................................................................",St+bt,Et),Et-=15,ft("Tanda Tangan",St,Et),ft(": ..........................",St+bt,Et),Et-=40;const Pt=new Date().toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"});ft(`Jakarta, ${Pt}`,St,Et),Et-=15;const Dt=Et,Ft=(ct-St*2)/3;ft("Pemohon Cuti,",St,Dt,{size:10}),ft(ht.name||"(..............................)",St,Dt-50,{size:10});const Ot=St+Ft;ft("Persetujuan Atasan,",Ot,Dt,{size:10}),ft("(..............................)",Ot,Dt-50,{size:10});const It=St+Ft*2;ft("HRD,",It,Dt,{size:10}),ft("(..............................)",It,Dt-50,{size:10}),Et=Dt-80,ft("CATATAN DARI HRD",St,Et,{font:st,size:11}),lt.drawRectangle({x:St-5,y:Et-55,width:ct-St*2+10,height:50,borderColor:rgb(0,0,0),borderWidth:.5}),Et-=75,ft("Perhatian:",St,Et,{font:st,size:10}),Et-=12,ft("1. Surat permohonan cuti ini harus diajukan minimal 1 minggu sebelum cuti dijalankan.",St+10,Et,{size:9}),Et-=12,ft("2. Sebelum ada persetujuan dari atasan, tidak diperkenankan untuk meninggalkan/mendahului cuti,",St+10,Et,{size:9}),Et-=10,ft("   kecuali sakit dengan dibuktikan dengan surat keterangan dokter atau karena keperluan yang mendesak.",St+10,Et,{size:9});const Bt=await at.save(),qt=new Blob([Bt],{type:"application/pdf"}),Ut=`Surat_Cuti_${ht.name?ht.name.replace(/\s/g,"_"):"Karyawan"}_${et.leave_request_number||"NoSurat"}.pdf`,Ht=document.createElement("a");Ht.href=URL.createObjectURL(qt),Ht.download=Ut,document.body.appendChild(Ht),Ht.click(),document.body.removeChild(Ht),URL.revokeObjectURL(Ht.href)}catch(tt){throw console.error("Error generating PDF:",tt),tt}};function calculateLeaveDuration(et,tt){if(!et||!tt)return 0;const rt=new Date(et),nt=new Date(tt);let at=0,it=new Date(rt);for(;it<=nt;){const st=it.getDay();st!==0&&st!==6&&at++,it.setDate(it.getDate()+1)}return at}const LeaveRequestsTab=({leaveRequests:et,loading:tt,onOpenDirectRequestDialog:rt,onUpdateRequestStatus:nt})=>{const at=async it=>{try{await generateLeaveRequestPdf(it),toast({title:"Sukses",description:"Surat cuti PDF berhasil dibuat."})}catch(st){toast({title:"Error Membuat PDF",description:st.message||"Gagal membuat surat cuti PDF.",variant:"destructive"})}};return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Daftar Pengajuan Cuti"}),jsxRuntimeExports.jsx(CardDescription,{children:"Tinjau dan kelola pengajuan cuti dari karyawan."})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs(Button,{onClick:rt,className:"mb-4 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white",children:[jsxRuntimeExports.jsx(UserPlus,{className:"mr-2 h-4 w-4"})," Buat Pengajuan Langsung"]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"No. Cuti"}),jsxRuntimeExports.jsx(TableHead,{children:"Nama Karyawan"}),jsxRuntimeExports.jsx(TableHead,{children:"Jenis Cuti"}),jsxRuntimeExports.jsx(TableHead,{children:"Tanggal Cuti"}),jsxRuntimeExports.jsx(TableHead,{children:"Tanggal Dibuat"}),jsxRuntimeExports.jsx(TableHead,{children:"Status"}),jsxRuntimeExports.jsx(TableHead,{className:"text-center",children:"Aksi"})]})}),jsxRuntimeExports.jsx(TableBody,{children:tt.requests?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:"7",className:"text-center",children:"Memuat..."})}):et.length===0?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:"7",className:"text-center",children:"Tidak ada pengajuan cuti."})}):et.map(it=>{var st,ot;return jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:it.leave_request_number||"-"}),jsxRuntimeExports.jsx(TableCell,{children:((st=it.employees)==null?void 0:st.name)||"N/A"}),jsxRuntimeExports.jsx(TableCell,{children:((ot=it.leave_types)==null?void 0:ot.name)||"N/A"}),jsxRuntimeExports.jsxs(TableCell,{children:[new Date(it.start_date).toLocaleDateString("id-ID")," - ",new Date(it.end_date).toLocaleDateString("id-ID")]}),jsxRuntimeExports.jsx(TableCell,{children:it.requested_at?format$1(new Date(it.requested_at),"dd MMM yyyy, HH:mm"):"-"}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${it.status==="Disetujui"?"bg-green-100 text-green-700":it.status==="Ditolak"?"bg-red-100 text-red-700":it.status==="Dibatalkan"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:it.status})}),jsxRuntimeExports.jsxs(TableCell,{className:"text-center space-x-1",children:[it.status==="Menunggu Persetujuan"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>nt(it.id,"Disetujui",it.employee_id,it.start_date,it.end_date,it.leave_type_id),className:"hover:text-green-500",title:"Setujui",children:jsxRuntimeExports.jsx(CheckCircle,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>nt(it.id,"Ditolak"),className:"hover:text-red-500",title:"Tolak",children:jsxRuntimeExports.jsx(XCircle,{className:"h-4 w-4"})})]}),it.status==="Disetujui"&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>nt(it.id,"Dibatalkan",it.employee_id,it.start_date,it.end_date,it.leave_type_id),className:"hover:text-yellow-600 mr-1",title:"Batalkan Cuti",children:jsxRuntimeExports.jsx(XCircle,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>at(it),className:"hover:text-blue-500",title:"Cetak Surat Cuti",children:jsxRuntimeExports.jsx(Printer,{className:"h-4 w-4"})})]})]},it.id)})})]})})]})]})},LeaveTypesTab=({leaveTypes:et,loading:tt,onOpenLeaveTypeDialog:rt,onDeleteLeaveType:nt})=>jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Daftar Jenis Cuti"}),jsxRuntimeExports.jsx(CardDescription,{children:"Kelola jenis-jenis cuti yang tersedia untuk karyawan."})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs(Button,{onClick:()=>rt(),className:"mb-4 bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white",children:[jsxRuntimeExports.jsx(PlusCircle,{className:"mr-2 h-4 w-4"})," Tambah Jenis Cuti"]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Nama Jenis Cuti"}),jsxRuntimeExports.jsx(TableHead,{children:"Mengurangi Kuota?"}),jsxRuntimeExports.jsx(TableHead,{children:"Aksi"})]})}),jsxRuntimeExports.jsx(TableBody,{children:tt.types?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:"3",className:"text-center",children:"Memuat..."})}):et.length===0?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:"3",className:"text-center",children:"Tidak ada jenis cuti."})}):et.map(at=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:at.name}),jsxRuntimeExports.jsx(TableCell,{children:at.reduces_quota?"Ya":"Tidak"}),jsxRuntimeExports.jsxs(TableCell,{children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>rt(at),className:"hover:text-blue-500 mr-2",title:"Edit",children:jsxRuntimeExports.jsx(PenSquare,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>nt(at.id),className:"hover:text-red-500",title:"Hapus",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]},at.id))})]})})]})]}),EmployeeQuotasTab=({employeeQuotas:et,loading:tt,onOpenQuotaDialog:rt})=>{const[nt,at]=reactExports.useState(""),it=reactExports.useMemo(()=>nt?et.filter(st=>{var ut,dt,ft,ht;const ot=((dt=(ut=st.employees)==null?void 0:ut.name)==null?void 0:dt.toLowerCase())||"",lt=((ht=(ft=st.employees)==null?void 0:ft.nik)==null?void 0:ht.toLowerCase())||"",ct=nt.toLowerCase();return ot.includes(ct)||lt.includes(ct)}):et,[nt,et]);return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Kuota Cuti Karyawan"}),jsxRuntimeExports.jsx(CardDescription,{children:"Kelola kuota cuti tahunan untuk setiap karyawan."})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-4",children:[jsxRuntimeExports.jsxs(Button,{onClick:()=>rt(),className:"w-full sm:w-auto bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white",children:[jsxRuntimeExports.jsx(PlusCircle,{className:"mr-2 h-4 w-4"})," Atur Kuota Karyawan"]}),jsxRuntimeExports.jsxs("div",{className:"relative w-full sm:max-w-sm",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{type:"text",placeholder:"Cari nama atau NIK karyawan...",value:nt,onChange:st=>at(st.target.value),className:"pl-10"})]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Nama Karyawan"}),jsxRuntimeExports.jsx(TableHead,{children:"NIK"}),jsxRuntimeExports.jsx(TableHead,{children:"Tahun"}),jsxRuntimeExports.jsx(TableHead,{children:"Total Kuota"}),jsxRuntimeExports.jsx(TableHead,{children:"Terpakai"}),jsxRuntimeExports.jsx(TableHead,{children:"Sisa Kuota"}),jsxRuntimeExports.jsx(TableHead,{children:"Aksi"})]})}),jsxRuntimeExports.jsx(TableBody,{children:tt.quotas?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:"7",className:"text-center",children:"Memuat..."})}):it.length===0?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:"7",className:"text-center",children:nt?"Karyawan tidak ditemukan.":"Tidak ada data kuota."})}):it.map(st=>{var ot,lt;return jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:((ot=st.employees)==null?void 0:ot.name)||"Karyawan Tidak Ditemukan"}),jsxRuntimeExports.jsx(TableCell,{children:((lt=st.employees)==null?void 0:lt.nik)||"-"}),jsxRuntimeExports.jsx(TableCell,{children:st.year}),jsxRuntimeExports.jsx(TableCell,{children:st.total_quota}),jsxRuntimeExports.jsx(TableCell,{children:st.used_quota}),jsxRuntimeExports.jsx(TableCell,{children:st.remaining_quota}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>rt(st),className:"hover:text-blue-500",title:"Edit Kuota",children:jsxRuntimeExports.jsx(PenSquare,{className:"h-4 w-4"})})})]},st.id)})})]})})]})]})},LeaveTypeDialog=({isOpen:et,onOpenChange:tt,currentLeaveType:rt,onSuccess:nt})=>{const[at,it]=reactExports.useState(""),[st,ot]=reactExports.useState(!0),[lt,ct]=reactExports.useState(!1);reactExports.useEffect(()=>{et&&(rt?(it(rt.name),ot(rt.reduces_quota)):(it(""),ot(!0)))},[et,rt]);const ut=async()=>{if(!at){toast({title:"Validasi Gagal",description:"Nama jenis cuti tidak boleh kosong.",variant:"destructive"});return}ct(!0);try{let dt;const ft={name:at,reduces_quota:st};if(rt?dt=await supabase.from("leave_types").update(ft).eq("id",rt.id).select():dt=await supabase.from("leave_types").insert(ft).select(),dt.error)throw dt.error;toast({title:"Sukses",description:`Jenis cuti berhasil ${rt?"diperbarui":"ditambahkan"}.`}),nt(),tt(!1)}catch(dt){toast({title:"Error",description:`Gagal menyimpan jenis cuti: ${dt.message}`,variant:"destructive"})}finally{ct(!1)}};return jsxRuntimeExports.jsx(Dialog,{open:et,onOpenChange:tt,children:jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:rt?"Edit Jenis Cuti":"Tambah Jenis Cuti Baru"}),jsxRuntimeExports.jsx(DialogDescription,{children:rt?"Ubah detail jenis cuti.":"Tambahkan jenis cuti baru ke sistem."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"leaveTypeName",children:"Nama Jenis Cuti"}),jsxRuntimeExports.jsx(Input,{id:"leaveTypeName",value:at,onChange:dt=>it(dt.target.value),placeholder:"Contoh: Cuti Tahunan"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Input,{type:"checkbox",id:"reducesQuota",checked:st,onChange:dt=>ot(dt.target.checked),className:"h-4 w-4"}),jsxRuntimeExports.jsx(Label$3,{htmlFor:"reducesQuota",className:"text-sm font-normal",children:"Jenis cuti ini mengurangi kuota tahunan karyawan"})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>tt(!1),disabled:lt,children:"Batal"}),jsxRuntimeExports.jsx(Button,{onClick:ut,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",disabled:lt,children:lt?"Menyimpan...":"Simpan"})]})]})})};var U$2=1,Y$1=.9,a$1=.8,H$1=.17,p$1=.1,u$1=.999,J$2=.9999,k$1=.99,m$1=/[\\\/_+.#"@\[\(\{&]/,B$2=/[\\\/_+.#"@\[\(\{&]/g,K$1=/[\s-]/,X=/[\s-]/g;function G$1(et,tt,rt,nt,at,it,st){if(it===tt.length)return at===et.length?U$2:k$1;var ot=`${at},${it}`;if(st[ot]!==void 0)return st[ot];for(var lt=nt.charAt(it),ct=rt.indexOf(lt,at),ut=0,dt,ft,ht,gt;ct>=0;)dt=G$1(et,tt,rt,nt,ct+1,it+1,st),dt>ut&&(ct===at?dt*=U$2:m$1.test(et.charAt(ct-1))?(dt*=a$1,ht=et.slice(at,ct-1).match(B$2),ht&&at>0&&(dt*=Math.pow(u$1,ht.length))):K$1.test(et.charAt(ct-1))?(dt*=Y$1,gt=et.slice(at,ct-1).match(X),gt&&at>0&&(dt*=Math.pow(u$1,gt.length))):(dt*=H$1,at>0&&(dt*=Math.pow(u$1,ct-at))),et.charAt(ct)!==tt.charAt(it)&&(dt*=J$2)),(dt<p$1&&rt.charAt(ct-1)===nt.charAt(it+1)||nt.charAt(it+1)===nt.charAt(it)&&rt.charAt(ct-1)!==nt.charAt(it))&&(ft=G$1(et,tt,rt,nt,ct+1,it+2,st),ft*p$1>dt&&(dt=ft*p$1)),dt>ut&&(ut=dt),ct=rt.indexOf(lt,ct+1);return st[ot]=ut,ut}function D$2(et){return et.toLowerCase().replace(X," ")}function W$2(et,tt){return G$1(et,tt,D$2(et),D$2(tt),0,0,{})}function $e42e1063c40fb3ef$export$b9ecd428b558ff10(et,tt,{checkForDefaultPrevented:rt=!0}={}){return function(at){if(et==null||et(at),rt===!1||!at.defaultPrevented)return tt==null?void 0:tt(at)}}function $6ed0406888f73fc4$var$setRef(et,tt){typeof et=="function"?et(tt):et!=null&&(et.current=tt)}function $6ed0406888f73fc4$export$43e446d32b3d21af(...et){return tt=>et.forEach(rt=>$6ed0406888f73fc4$var$setRef(rt,tt))}function $6ed0406888f73fc4$export$c7b2cbe3552a0d05(...et){return reactExports.useCallback($6ed0406888f73fc4$export$43e446d32b3d21af(...et),et)}function $c512c27ab02ef895$export$50c7b4e9d9f19c1(et,tt=[]){let rt=[];function nt(it,st){const ot=reactExports.createContext(st),lt=rt.length;rt=[...rt,st];function ct(dt){const{scope:ft,children:ht,...gt}=dt,mt=(ft==null?void 0:ft[et][lt])||ot,xt=reactExports.useMemo(()=>gt,Object.values(gt));return reactExports.createElement(mt.Provider,{value:xt},ht)}function ut(dt,ft){const ht=(ft==null?void 0:ft[et][lt])||ot,gt=reactExports.useContext(ht);if(gt)return gt;if(st!==void 0)return st;throw new Error(`\`${dt}\` must be used within \`${it}\``)}return ct.displayName=it+"Provider",[ct,ut]}const at=()=>{const it=rt.map(st=>reactExports.createContext(st));return function(ot){const lt=(ot==null?void 0:ot[et])||it;return reactExports.useMemo(()=>({[`__scope${et}`]:{...ot,[et]:lt}}),[ot,lt])}};return at.scopeName=et,[nt,$c512c27ab02ef895$var$composeContextScopes(at,...tt)]}function $c512c27ab02ef895$var$composeContextScopes(...et){const tt=et[0];if(et.length===1)return tt;const rt=()=>{const nt=et.map(at=>({useScope:at(),scopeName:at.scopeName}));return function(it){const st=nt.reduce((ot,{useScope:lt,scopeName:ct})=>{const dt=lt(it)[`__scope${ct}`];return{...ot,...dt}},{});return reactExports.useMemo(()=>({[`__scope${tt.scopeName}`]:st}),[st])}};return rt.scopeName=tt.scopeName,rt}const $9f79659886946c16$export$e5c5a5f917a5871c=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},$1746a345f3d73bb7$var$useReactId=$2AODx$react["useId".toString()]||(()=>{});let $1746a345f3d73bb7$var$count=0;function $1746a345f3d73bb7$export$f680877a34711e37(et){const[tt,rt]=reactExports.useState($1746a345f3d73bb7$var$useReactId());return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{et||rt(nt=>nt??String($1746a345f3d73bb7$var$count++))},[et]),et||(tt?`radix-${tt}`:"")}function $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(et){const tt=reactExports.useRef(et);return reactExports.useEffect(()=>{tt.current=et}),reactExports.useMemo(()=>(...rt)=>{var nt;return(nt=tt.current)===null||nt===void 0?void 0:nt.call(tt,...rt)},[])}function $71cd76cc60e0454e$export$6f32135080cb4c3({prop:et,defaultProp:tt,onChange:rt=()=>{}}){const[nt,at]=$71cd76cc60e0454e$var$useUncontrolledState({defaultProp:tt,onChange:rt}),it=et!==void 0,st=it?et:nt,ot=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(rt),lt=reactExports.useCallback(ct=>{if(it){const dt=typeof ct=="function"?ct(et):ct;dt!==et&&ot(dt)}else at(ct)},[it,et,at,ot]);return[st,lt]}function $71cd76cc60e0454e$var$useUncontrolledState({defaultProp:et,onChange:tt}){const rt=reactExports.useState(et),[nt]=rt,at=reactExports.useRef(nt),it=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(tt);return reactExports.useEffect(()=>{at.current!==nt&&(it(nt),at.current=nt)},[nt,at,it]),rt}const $5e63c961fc1ce211$export$8c6ed5c666ac1360=reactExports.forwardRef((et,tt)=>{const{children:rt,...nt}=et,at=reactExports.Children.toArray(rt),it=at.find($5e63c961fc1ce211$var$isSlottable);if(it){const st=it.props.children,ot=at.map(lt=>lt===it?reactExports.Children.count(st)>1?reactExports.Children.only(null):reactExports.isValidElement(st)?st.props.children:null:lt);return reactExports.createElement($5e63c961fc1ce211$var$SlotClone,_extends$e({},nt,{ref:tt}),reactExports.isValidElement(st)?reactExports.cloneElement(st,void 0,ot):null)}return reactExports.createElement($5e63c961fc1ce211$var$SlotClone,_extends$e({},nt,{ref:tt}),rt)});$5e63c961fc1ce211$export$8c6ed5c666ac1360.displayName="Slot";const $5e63c961fc1ce211$var$SlotClone=reactExports.forwardRef((et,tt)=>{const{children:rt,...nt}=et;return reactExports.isValidElement(rt)?reactExports.cloneElement(rt,{...$5e63c961fc1ce211$var$mergeProps(nt,rt.props),ref:$6ed0406888f73fc4$export$43e446d32b3d21af(tt,rt.ref)}):reactExports.Children.count(rt)>1?reactExports.Children.only(null):null});$5e63c961fc1ce211$var$SlotClone.displayName="SlotClone";const $5e63c961fc1ce211$export$d9f1ccf0bdb05d45=({children:et})=>reactExports.createElement(reactExports.Fragment,null,et);function $5e63c961fc1ce211$var$isSlottable(et){return reactExports.isValidElement(et)&&et.type===$5e63c961fc1ce211$export$d9f1ccf0bdb05d45}function $5e63c961fc1ce211$var$mergeProps(et,tt){const rt={...tt};for(const nt in tt){const at=et[nt],it=tt[nt];/^on[A-Z]/.test(nt)?rt[nt]=(...ot)=>{it==null||it(...ot),at==null||at(...ot)}:nt==="style"?rt[nt]={...at,...it}:nt==="className"&&(rt[nt]=[at,it].filter(Boolean).join(" "))}return{...et,...rt}}const $8927f6f2acc4f386$var$NODES=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],$8927f6f2acc4f386$export$250ffa63cdc0d034=$8927f6f2acc4f386$var$NODES.reduce((et,tt)=>{const rt=reactExports.forwardRef((nt,at)=>{const{asChild:it,...st}=nt,ot=it?$5e63c961fc1ce211$export$8c6ed5c666ac1360:tt;return reactExports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),reactExports.createElement(ot,_extends$e({},st,{ref:at}))});return rt.displayName=`Primitive.${tt}`,{...et,[tt]:rt}},{});function $8927f6f2acc4f386$export$6d1a0317bde7de7f(et,tt){et&&reactDomExports.flushSync(()=>et.dispatchEvent(tt))}function $addc16e1bbe58fd0$export$3a72a57244d6e765(et){const tt=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(et);reactExports.useEffect(()=>{const rt=nt=>{nt.key==="Escape"&&tt(nt)};return document.addEventListener("keydown",rt),()=>document.removeEventListener("keydown",rt)},[tt])}const $5cb92bef7577960e$var$CONTEXT_UPDATE="dismissableLayer.update",$5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",$5cb92bef7577960e$var$FOCUS_OUTSIDE="dismissableLayer.focusOutside";let $5cb92bef7577960e$var$originalBodyPointerEvents;const $5cb92bef7577960e$var$DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$5cb92bef7577960e$export$177fb62ff3ec1f22=reactExports.forwardRef((et,tt)=>{const{disableOutsidePointerEvents:rt=!1,onEscapeKeyDown:nt,onPointerDownOutside:at,onFocusOutside:it,onInteractOutside:st,onDismiss:ot,...lt}=et,ct=reactExports.useContext($5cb92bef7577960e$var$DismissableLayerContext),[ut,dt]=reactExports.useState(null),[,ft]=reactExports.useState({}),ht=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(tt,Et=>dt(Et)),gt=Array.from(ct.layers),[mt]=[...ct.layersWithOutsidePointerEventsDisabled].slice(-1),xt=gt.indexOf(mt),vt=ut?gt.indexOf(ut):-1,_t=ct.layersWithOutsidePointerEventsDisabled.size>0,yt=vt>=xt,St=$5cb92bef7577960e$var$usePointerDownOutside(Et=>{const Tt=Et.target,At=[...ct.branches].some(Ct=>Ct.contains(Tt));!yt||At||(at==null||at(Et),st==null||st(Et),Et.defaultPrevented||ot==null||ot())}),bt=$5cb92bef7577960e$var$useFocusOutside(Et=>{const Tt=Et.target;[...ct.branches].some(Ct=>Ct.contains(Tt))||(it==null||it(Et),st==null||st(Et),Et.defaultPrevented||ot==null||ot())});return $addc16e1bbe58fd0$export$3a72a57244d6e765(Et=>{vt===ct.layers.size-1&&(nt==null||nt(Et),!Et.defaultPrevented&&ot&&(Et.preventDefault(),ot()))}),reactExports.useEffect(()=>{if(ut)return rt&&(ct.layersWithOutsidePointerEventsDisabled.size===0&&($5cb92bef7577960e$var$originalBodyPointerEvents=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),ct.layersWithOutsidePointerEventsDisabled.add(ut)),ct.layers.add(ut),$5cb92bef7577960e$var$dispatchUpdate(),()=>{rt&&ct.layersWithOutsidePointerEventsDisabled.size===1&&(document.body.style.pointerEvents=$5cb92bef7577960e$var$originalBodyPointerEvents)}},[ut,rt,ct]),reactExports.useEffect(()=>()=>{ut&&(ct.layers.delete(ut),ct.layersWithOutsidePointerEventsDisabled.delete(ut),$5cb92bef7577960e$var$dispatchUpdate())},[ut,ct]),reactExports.useEffect(()=>{const Et=()=>ft({});return document.addEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE,Et),()=>document.removeEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE,Et)},[]),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$e({},lt,{ref:ht,style:{pointerEvents:_t?yt?"auto":"none":void 0,...et.style},onFocusCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(et.onFocusCapture,bt.onFocusCapture),onBlurCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(et.onBlurCapture,bt.onBlurCapture),onPointerDownCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(et.onPointerDownCapture,St.onPointerDownCapture)}))});function $5cb92bef7577960e$var$usePointerDownOutside(et){const tt=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(et),rt=reactExports.useRef(!1),nt=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const at=st=>{if(st.target&&!rt.current){let ct=function(){$5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE,tt,lt,{discrete:!0})};var ot=ct;const lt={originalEvent:st};st.pointerType==="touch"?(document.removeEventListener("click",nt.current),nt.current=ct,document.addEventListener("click",nt.current,{once:!0})):ct()}rt.current=!1},it=window.setTimeout(()=>{document.addEventListener("pointerdown",at)},0);return()=>{window.clearTimeout(it),document.removeEventListener("pointerdown",at),document.removeEventListener("click",nt.current)}},[tt]),{onPointerDownCapture:()=>rt.current=!0}}function $5cb92bef7577960e$var$useFocusOutside(et){const tt=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(et),rt=reactExports.useRef(!1);return reactExports.useEffect(()=>{const nt=at=>{at.target&&!rt.current&&$5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$FOCUS_OUTSIDE,tt,{originalEvent:at},{discrete:!1})};return document.addEventListener("focusin",nt),()=>document.removeEventListener("focusin",nt)},[tt]),{onFocusCapture:()=>rt.current=!0,onBlurCapture:()=>rt.current=!1}}function $5cb92bef7577960e$var$dispatchUpdate(){const et=new CustomEvent($5cb92bef7577960e$var$CONTEXT_UPDATE);document.dispatchEvent(et)}function $5cb92bef7577960e$var$handleAndDispatchCustomEvent(et,tt,rt,{discrete:nt}){const at=rt.originalEvent.target,it=new CustomEvent(et,{bubbles:!1,cancelable:!0,detail:rt});tt&&at.addEventListener(et,tt,{once:!0}),nt?$8927f6f2acc4f386$export$6d1a0317bde7de7f(at,it):at.dispatchEvent(it)}const $d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",$d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",$d3863c46a17e8a28$var$EVENT_OPTIONS={bubbles:!1,cancelable:!0},$d3863c46a17e8a28$export$20e40289641fbbb6=reactExports.forwardRef((et,tt)=>{const{loop:rt=!1,trapped:nt=!1,onMountAutoFocus:at,onUnmountAutoFocus:it,...st}=et,[ot,lt]=reactExports.useState(null),ct=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(at),ut=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(it),dt=reactExports.useRef(null),ft=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(tt,mt=>lt(mt)),ht=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(nt){let vt=function(yt){if(ht.paused||!ot)return;const St=yt.target;ot.contains(St)?dt.current=St:$d3863c46a17e8a28$var$focus(dt.current,{select:!0})},_t=function(yt){ht.paused||!ot||ot.contains(yt.relatedTarget)||$d3863c46a17e8a28$var$focus(dt.current,{select:!0})};var mt=vt,xt=_t;return document.addEventListener("focusin",vt),document.addEventListener("focusout",_t),()=>{document.removeEventListener("focusin",vt),document.removeEventListener("focusout",_t)}}},[nt,ot,ht.paused]),reactExports.useEffect(()=>{if(ot){$d3863c46a17e8a28$var$focusScopesStack.add(ht);const mt=document.activeElement;if(!ot.contains(mt)){const vt=new CustomEvent($d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT,$d3863c46a17e8a28$var$EVENT_OPTIONS);ot.addEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT,ct),ot.dispatchEvent(vt),vt.defaultPrevented||($d3863c46a17e8a28$var$focusFirst($d3863c46a17e8a28$var$removeLinks($d3863c46a17e8a28$var$getTabbableCandidates(ot)),{select:!0}),document.activeElement===mt&&$d3863c46a17e8a28$var$focus(ot))}return()=>{ot.removeEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT,ct),setTimeout(()=>{const vt=new CustomEvent($d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT,$d3863c46a17e8a28$var$EVENT_OPTIONS);ot.addEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT,ut),ot.dispatchEvent(vt),vt.defaultPrevented||$d3863c46a17e8a28$var$focus(mt??document.body,{select:!0}),ot.removeEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT,ut),$d3863c46a17e8a28$var$focusScopesStack.remove(ht)},0)}}},[ot,ct,ut,ht]);const gt=reactExports.useCallback(mt=>{if(!rt&&!nt||ht.paused)return;const xt=mt.key==="Tab"&&!mt.altKey&&!mt.ctrlKey&&!mt.metaKey,vt=document.activeElement;if(xt&&vt){const _t=mt.currentTarget,[yt,St]=$d3863c46a17e8a28$var$getTabbableEdges(_t);yt&&St?!mt.shiftKey&&vt===St?(mt.preventDefault(),rt&&$d3863c46a17e8a28$var$focus(yt,{select:!0})):mt.shiftKey&&vt===yt&&(mt.preventDefault(),rt&&$d3863c46a17e8a28$var$focus(St,{select:!0})):vt===_t&&mt.preventDefault()}},[rt,nt,ht.paused]);return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$e({tabIndex:-1},st,{ref:ft,onKeyDown:gt}))});function $d3863c46a17e8a28$var$focusFirst(et,{select:tt=!1}={}){const rt=document.activeElement;for(const nt of et)if($d3863c46a17e8a28$var$focus(nt,{select:tt}),document.activeElement!==rt)return}function $d3863c46a17e8a28$var$getTabbableEdges(et){const tt=$d3863c46a17e8a28$var$getTabbableCandidates(et),rt=$d3863c46a17e8a28$var$findVisible(tt,et),nt=$d3863c46a17e8a28$var$findVisible(tt.reverse(),et);return[rt,nt]}function $d3863c46a17e8a28$var$getTabbableCandidates(et){const tt=[],rt=document.createTreeWalker(et,NodeFilter.SHOW_ELEMENT,{acceptNode:nt=>{const at=nt.tagName==="INPUT"&&nt.type==="hidden";return nt.disabled||nt.hidden||at?NodeFilter.FILTER_SKIP:nt.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;rt.nextNode();)tt.push(rt.currentNode);return tt}function $d3863c46a17e8a28$var$findVisible(et,tt){for(const rt of et)if(!$d3863c46a17e8a28$var$isHidden(rt,{upTo:tt}))return rt}function $d3863c46a17e8a28$var$isHidden(et,{upTo:tt}){if(getComputedStyle(et).visibility==="hidden")return!0;for(;et;){if(tt!==void 0&&et===tt)return!1;if(getComputedStyle(et).display==="none")return!0;et=et.parentElement}return!1}function $d3863c46a17e8a28$var$isSelectableInput(et){return et instanceof HTMLInputElement&&"select"in et}function $d3863c46a17e8a28$var$focus(et,{select:tt=!1}={}){if(et&&et.focus){const rt=document.activeElement;et.focus({preventScroll:!0}),et!==rt&&$d3863c46a17e8a28$var$isSelectableInput(et)&&tt&&et.select()}}const $d3863c46a17e8a28$var$focusScopesStack=$d3863c46a17e8a28$var$createFocusScopesStack();function $d3863c46a17e8a28$var$createFocusScopesStack(){let et=[];return{add(tt){const rt=et[0];tt!==rt&&(rt==null||rt.pause()),et=$d3863c46a17e8a28$var$arrayRemove(et,tt),et.unshift(tt)},remove(tt){var rt;et=$d3863c46a17e8a28$var$arrayRemove(et,tt),(rt=et[0])===null||rt===void 0||rt.resume()}}}function $d3863c46a17e8a28$var$arrayRemove(et,tt){const rt=[...et],nt=rt.indexOf(tt);return nt!==-1&&rt.splice(nt,1),rt}function $d3863c46a17e8a28$var$removeLinks(et){return et.filter(tt=>tt.tagName!=="A")}const $f1701beae083dbae$export$602eac185826482c=reactExports.forwardRef((et,tt)=>{var rt;const{container:nt=globalThis==null||(rt=globalThis.document)===null||rt===void 0?void 0:rt.body,...at}=et;return nt?$7SXl2$reactdom.createPortal(reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$e({},at,{ref:tt})),nt):null});function $fe963b355347cc68$export$3e6543de14f8614f(et,tt){return reactExports.useReducer((rt,nt)=>{const at=tt[rt][nt];return at??rt},et)}const $921a889cee6df7e8$export$99c2b779aa4e8b8b=et=>{const{present:tt,children:rt}=et,nt=$921a889cee6df7e8$var$usePresence(tt),at=typeof rt=="function"?rt({present:nt.isPresent}):reactExports.Children.only(rt),it=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(nt.ref,at.ref);return typeof rt=="function"||nt.isPresent?reactExports.cloneElement(at,{ref:it}):null};$921a889cee6df7e8$export$99c2b779aa4e8b8b.displayName="Presence";function $921a889cee6df7e8$var$usePresence(et){const[tt,rt]=reactExports.useState(),nt=reactExports.useRef({}),at=reactExports.useRef(et),it=reactExports.useRef("none"),st=et?"mounted":"unmounted",[ot,lt]=$fe963b355347cc68$export$3e6543de14f8614f(st,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const ct=$921a889cee6df7e8$var$getAnimationName(nt.current);it.current=ot==="mounted"?ct:"none"},[ot]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{const ct=nt.current,ut=at.current;if(ut!==et){const ft=it.current,ht=$921a889cee6df7e8$var$getAnimationName(ct);et?lt("MOUNT"):ht==="none"||(ct==null?void 0:ct.display)==="none"?lt("UNMOUNT"):lt(ut&&ft!==ht?"ANIMATION_OUT":"UNMOUNT"),at.current=et}},[et,lt]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(tt){const ct=dt=>{const ht=$921a889cee6df7e8$var$getAnimationName(nt.current).includes(dt.animationName);dt.target===tt&&ht&&reactDomExports.flushSync(()=>lt("ANIMATION_END"))},ut=dt=>{dt.target===tt&&(it.current=$921a889cee6df7e8$var$getAnimationName(nt.current))};return tt.addEventListener("animationstart",ut),tt.addEventListener("animationcancel",ct),tt.addEventListener("animationend",ct),()=>{tt.removeEventListener("animationstart",ut),tt.removeEventListener("animationcancel",ct),tt.removeEventListener("animationend",ct)}}else lt("ANIMATION_END")},[tt,lt]),{isPresent:["mounted","unmountSuspended"].includes(ot),ref:reactExports.useCallback(ct=>{ct&&(nt.current=getComputedStyle(ct)),rt(ct)},[])}}function $921a889cee6df7e8$var$getAnimationName(et){return(et==null?void 0:et.animationName)||"none"}let $3db38b7d1fb3fe6a$var$count=0;function $3db38b7d1fb3fe6a$export$b7ece24a22aeda8c(){reactExports.useEffect(()=>{var et,tt;const rt=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(et=rt[0])!==null&&et!==void 0?et:$3db38b7d1fb3fe6a$var$createFocusGuard()),document.body.insertAdjacentElement("beforeend",(tt=rt[1])!==null&&tt!==void 0?tt:$3db38b7d1fb3fe6a$var$createFocusGuard()),$3db38b7d1fb3fe6a$var$count++,()=>{$3db38b7d1fb3fe6a$var$count===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(nt=>nt.remove()),$3db38b7d1fb3fe6a$var$count--}},[])}function $3db38b7d1fb3fe6a$var$createFocusGuard(){const et=document.createElement("span");return et.setAttribute("data-radix-focus-guard",""),et.tabIndex=0,et.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",et}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(et,tt){var rt=reactExports.useRef(null),nt=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),at=nt[0],it=nt[1],st=et.forwardProps,ot=et.children,lt=et.className,ct=et.removeScrollBar,ut=et.enabled,dt=et.shards,ft=et.sideCar,ht=et.noIsolation,gt=et.inert,mt=et.allowPinchZoom,xt=et.as,vt=xt===void 0?"div":xt,_t=__rest$5(et,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),yt=ft,St=useMergeRefs([rt,tt]),bt=__assign$1(__assign$1({},_t),at);return reactExports.createElement(reactExports.Fragment,null,ut&&reactExports.createElement(yt,{sideCar:effectCar,removeScrollBar:ct,shards:dt,noIsolation:ht,inert:gt,setCallbacks:it,allowPinchZoom:!!mt,lockRef:rt}),st?reactExports.cloneElement(reactExports.Children.only(ot),__assign$1(__assign$1({},bt),{ref:St})):reactExports.createElement(vt,__assign$1({},bt,{className:lt,ref:St}),ot))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,elementCouldBeVScrolled=function(et){var tt=window.getComputedStyle(et);return tt.overflowY!=="hidden"&&!(tt.overflowY===tt.overflowX&&tt.overflowY==="visible")},elementCouldBeHScrolled=function(et){var tt=window.getComputedStyle(et);return tt.overflowX!=="hidden"&&!(tt.overflowY===tt.overflowX&&tt.overflowX==="visible")},locationCouldBeScrolled=function(et,tt){var rt=tt;do{typeof ShadowRoot<"u"&&rt instanceof ShadowRoot&&(rt=rt.host);var nt=elementCouldBeScrolled(et,rt);if(nt){var at=getScrollVariables(et,rt),it=at[1],st=at[2];if(it>st)return!0}rt=rt.parentNode}while(rt&&rt!==document.body);return!1},getVScrollVariables=function(et){var tt=et.scrollTop,rt=et.scrollHeight,nt=et.clientHeight;return[tt,rt,nt]},getHScrollVariables=function(et){var tt=et.scrollLeft,rt=et.scrollWidth,nt=et.clientWidth;return[tt,rt,nt]},elementCouldBeScrolled=function(et,tt){return et==="v"?elementCouldBeVScrolled(tt):elementCouldBeHScrolled(tt)},getScrollVariables=function(et,tt){return et==="v"?getVScrollVariables(tt):getHScrollVariables(tt)},getDirectionFactor=function(et,tt){return et==="h"&&tt==="rtl"?-1:1},handleScroll=function(et,tt,rt,nt,at){var it=getDirectionFactor(et,window.getComputedStyle(tt).direction),st=it*nt,ot=rt.target,lt=tt.contains(ot),ct=!1,ut=st>0,dt=0,ft=0;do{var ht=getScrollVariables(et,ot),gt=ht[0],mt=ht[1],xt=ht[2],vt=mt-xt-it*gt;(gt||vt)&&elementCouldBeScrolled(et,ot)&&(dt+=vt,ft+=gt),ot=ot.parentNode}while(!lt&&ot!==document.body||lt&&(tt.contains(ot)||tt===ot));return(ut&&(at&&dt===0||!at&&st>dt)||!ut&&(at&&ft===0||!at&&-st>ft))&&(ct=!0),ct},getTouchXY=function(et){return"changedTouches"in et?[et.changedTouches[0].clientX,et.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(et){return[et.deltaX,et.deltaY]},extractRef=function(et){return et&&"current"in et?et.current:et},deltaCompare=function(et,tt){return et[0]===tt[0]&&et[1]===tt[1]},generateStyle=function(et){return`
  .block-interactivity-`.concat(et,` {pointer-events: none;}
  .allow-interactivity-`).concat(et,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(et){var tt=reactExports.useRef([]),rt=reactExports.useRef([0,0]),nt=reactExports.useRef(),at=reactExports.useState(idCounter++)[0],it=reactExports.useState(function(){return styleSingleton()})[0],st=reactExports.useRef(et);reactExports.useEffect(function(){st.current=et},[et]),reactExports.useEffect(function(){if(et.inert){document.body.classList.add("block-interactivity-".concat(at));var mt=__spreadArray$1([et.lockRef.current],(et.shards||[]).map(extractRef),!0).filter(Boolean);return mt.forEach(function(xt){return xt.classList.add("allow-interactivity-".concat(at))}),function(){document.body.classList.remove("block-interactivity-".concat(at)),mt.forEach(function(xt){return xt.classList.remove("allow-interactivity-".concat(at))})}}},[et.inert,et.lockRef.current,et.shards]);var ot=reactExports.useCallback(function(mt,xt){if("touches"in mt&&mt.touches.length===2)return!st.current.allowPinchZoom;var vt=getTouchXY(mt),_t=rt.current,yt="deltaX"in mt?mt.deltaX:_t[0]-vt[0],St="deltaY"in mt?mt.deltaY:_t[1]-vt[1],bt,Et=mt.target,Tt=Math.abs(yt)>Math.abs(St)?"h":"v";if("touches"in mt&&Tt==="h"&&Et.type==="range")return!1;var At=locationCouldBeScrolled(Tt,Et);if(!At)return!0;if(At?bt=Tt:(bt=Tt==="v"?"h":"v",At=locationCouldBeScrolled(Tt,Et)),!At)return!1;if(!nt.current&&"changedTouches"in mt&&(yt||St)&&(nt.current=bt),!bt)return!0;var Ct=nt.current||bt;return handleScroll(Ct,xt,mt,Ct==="h"?yt:St,!0)},[]),lt=reactExports.useCallback(function(mt){var xt=mt;if(!(!lockStack.length||lockStack[lockStack.length-1]!==it)){var vt="deltaY"in xt?getDeltaXY(xt):getTouchXY(xt),_t=tt.current.filter(function(bt){return bt.name===xt.type&&bt.target===xt.target&&deltaCompare(bt.delta,vt)})[0];if(_t&&_t.should){xt.preventDefault();return}if(!_t){var yt=(st.current.shards||[]).map(extractRef).filter(Boolean).filter(function(bt){return bt.contains(xt.target)}),St=yt.length>0?ot(xt,yt[0]):!st.current.noIsolation;St&&xt.preventDefault()}}},[]),ct=reactExports.useCallback(function(mt,xt,vt,_t){var yt={name:mt,delta:xt,target:vt,should:_t};tt.current.push(yt),setTimeout(function(){tt.current=tt.current.filter(function(St){return St!==yt})},1)},[]),ut=reactExports.useCallback(function(mt){rt.current=getTouchXY(mt),nt.current=void 0},[]),dt=reactExports.useCallback(function(mt){ct(mt.type,getDeltaXY(mt),mt.target,ot(mt,et.lockRef.current))},[]),ft=reactExports.useCallback(function(mt){ct(mt.type,getTouchXY(mt),mt.target,ot(mt,et.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(it),et.setCallbacks({onScrollCapture:dt,onWheelCapture:dt,onTouchMoveCapture:ft}),document.addEventListener("wheel",lt,nonPassive),document.addEventListener("touchmove",lt,nonPassive),document.addEventListener("touchstart",ut,nonPassive),function(){lockStack=lockStack.filter(function(mt){return mt!==it}),document.removeEventListener("wheel",lt,nonPassive),document.removeEventListener("touchmove",lt,nonPassive),document.removeEventListener("touchstart",ut,nonPassive)}},[]);var ht=et.removeScrollBar,gt=et.inert;return reactExports.createElement(reactExports.Fragment,null,gt?reactExports.createElement(it,{styles:generateStyle(at)}):null,ht?reactExports.createElement(RemoveScrollBar,{gapMode:"margin"}):null)}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(et,tt){return reactExports.createElement(RemoveScroll,__assign$1({},et,{ref:tt,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;const $67UHm$RemoveScroll=ReactRemoveScroll,$5d3850c4d0b4e6c7$var$DIALOG_NAME="Dialog",[$5d3850c4d0b4e6c7$var$createDialogContext,$5d3850c4d0b4e6c7$export$cc702773b8ea3e41]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($5d3850c4d0b4e6c7$var$DIALOG_NAME),[$5d3850c4d0b4e6c7$var$DialogProvider,$5d3850c4d0b4e6c7$var$useDialogContext]=$5d3850c4d0b4e6c7$var$createDialogContext($5d3850c4d0b4e6c7$var$DIALOG_NAME),$5d3850c4d0b4e6c7$export$3ddf2d174ce01153=et=>{const{__scopeDialog:tt,children:rt,open:nt,defaultOpen:at,onOpenChange:it,modal:st=!0}=et,ot=reactExports.useRef(null),lt=reactExports.useRef(null),[ct=!1,ut]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:nt,defaultProp:at,onChange:it});return reactExports.createElement($5d3850c4d0b4e6c7$var$DialogProvider,{scope:tt,triggerRef:ot,contentRef:lt,contentId:$1746a345f3d73bb7$export$f680877a34711e37(),titleId:$1746a345f3d73bb7$export$f680877a34711e37(),descriptionId:$1746a345f3d73bb7$export$f680877a34711e37(),open:ct,onOpenChange:ut,onOpenToggle:reactExports.useCallback(()=>ut(dt=>!dt),[ut]),modal:st},rt)},$5d3850c4d0b4e6c7$var$PORTAL_NAME="DialogPortal",[$5d3850c4d0b4e6c7$var$PortalProvider,$5d3850c4d0b4e6c7$var$usePortalContext]=$5d3850c4d0b4e6c7$var$createDialogContext($5d3850c4d0b4e6c7$var$PORTAL_NAME,{forceMount:void 0}),$5d3850c4d0b4e6c7$export$dad7c95542bacce0=et=>{const{__scopeDialog:tt,forceMount:rt,children:nt,container:at}=et,it=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$PORTAL_NAME,tt);return reactExports.createElement($5d3850c4d0b4e6c7$var$PortalProvider,{scope:tt,forceMount:rt},reactExports.Children.map(nt,st=>reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:rt||it.open},reactExports.createElement($f1701beae083dbae$export$602eac185826482c,{asChild:!0,container:at},st))))},$5d3850c4d0b4e6c7$var$OVERLAY_NAME="DialogOverlay",$5d3850c4d0b4e6c7$export$bd1d06c79be19e17=reactExports.forwardRef((et,tt)=>{const rt=$5d3850c4d0b4e6c7$var$usePortalContext($5d3850c4d0b4e6c7$var$OVERLAY_NAME,et.__scopeDialog),{forceMount:nt=rt.forceMount,...at}=et,it=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$OVERLAY_NAME,et.__scopeDialog);return it.modal?reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:nt||it.open},reactExports.createElement($5d3850c4d0b4e6c7$var$DialogOverlayImpl,_extends$e({},at,{ref:tt}))):null}),$5d3850c4d0b4e6c7$var$DialogOverlayImpl=reactExports.forwardRef((et,tt)=>{const{__scopeDialog:rt,...nt}=et,at=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$OVERLAY_NAME,rt);return reactExports.createElement($67UHm$RemoveScroll,{as:$5e63c961fc1ce211$export$8c6ed5c666ac1360,allowPinchZoom:!0,shards:[at.contentRef]},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$e({"data-state":$5d3850c4d0b4e6c7$var$getState(at.open)},nt,{ref:tt,style:{pointerEvents:"auto",...nt.style}})))}),$5d3850c4d0b4e6c7$var$CONTENT_NAME="DialogContent",$5d3850c4d0b4e6c7$export$b6d9565de1e068cf=reactExports.forwardRef((et,tt)=>{const rt=$5d3850c4d0b4e6c7$var$usePortalContext($5d3850c4d0b4e6c7$var$CONTENT_NAME,et.__scopeDialog),{forceMount:nt=rt.forceMount,...at}=et,it=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CONTENT_NAME,et.__scopeDialog);return reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:nt||it.open},it.modal?reactExports.createElement($5d3850c4d0b4e6c7$var$DialogContentModal,_extends$e({},at,{ref:tt})):reactExports.createElement($5d3850c4d0b4e6c7$var$DialogContentNonModal,_extends$e({},at,{ref:tt})))}),$5d3850c4d0b4e6c7$var$DialogContentModal=reactExports.forwardRef((et,tt)=>{const rt=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CONTENT_NAME,et.__scopeDialog),nt=reactExports.useRef(null),at=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(tt,rt.contentRef,nt);return reactExports.useEffect(()=>{const it=nt.current;if(it)return hideOthers(it)},[]),reactExports.createElement($5d3850c4d0b4e6c7$var$DialogContentImpl,_extends$e({},et,{ref:at,trapFocus:rt.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(et.onCloseAutoFocus,it=>{var st;it.preventDefault(),(st=rt.triggerRef.current)===null||st===void 0||st.focus()}),onPointerDownOutside:$e42e1063c40fb3ef$export$b9ecd428b558ff10(et.onPointerDownOutside,it=>{const st=it.detail.originalEvent,ot=st.button===0&&st.ctrlKey===!0;(st.button===2||ot)&&it.preventDefault()}),onFocusOutside:$e42e1063c40fb3ef$export$b9ecd428b558ff10(et.onFocusOutside,it=>it.preventDefault())}))}),$5d3850c4d0b4e6c7$var$DialogContentNonModal=reactExports.forwardRef((et,tt)=>{const rt=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CONTENT_NAME,et.__scopeDialog),nt=reactExports.useRef(!1);return reactExports.createElement($5d3850c4d0b4e6c7$var$DialogContentImpl,_extends$e({},et,{ref:tt,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:at=>{var it;if((it=et.onCloseAutoFocus)===null||it===void 0||it.call(et,at),!at.defaultPrevented){var st;nt.current||(st=rt.triggerRef.current)===null||st===void 0||st.focus(),at.preventDefault()}nt.current=!1},onInteractOutside:at=>{var it,st;(it=et.onInteractOutside)===null||it===void 0||it.call(et,at),at.defaultPrevented||(nt.current=!0);const ot=at.target;((st=rt.triggerRef.current)===null||st===void 0?void 0:st.contains(ot))&&at.preventDefault()}}))}),$5d3850c4d0b4e6c7$var$DialogContentImpl=reactExports.forwardRef((et,tt)=>{const{__scopeDialog:rt,trapFocus:nt,onOpenAutoFocus:at,onCloseAutoFocus:it,...st}=et,ot=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CONTENT_NAME,rt),lt=reactExports.useRef(null),ct=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(tt,lt);return $3db38b7d1fb3fe6a$export$b7ece24a22aeda8c(),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement($d3863c46a17e8a28$export$20e40289641fbbb6,{asChild:!0,loop:!0,trapped:nt,onMountAutoFocus:at,onUnmountAutoFocus:it},reactExports.createElement($5cb92bef7577960e$export$177fb62ff3ec1f22,_extends$e({role:"dialog",id:ot.contentId,"aria-describedby":ot.descriptionId,"aria-labelledby":ot.titleId,"data-state":$5d3850c4d0b4e6c7$var$getState(ot.open)},st,{ref:ct,onDismiss:()=>ot.onOpenChange(!1)}))),!1)});function $5d3850c4d0b4e6c7$var$getState(et){return et?"open":"closed"}const $5d3850c4d0b4e6c7$export$be92b6f5f03c0fe9=$5d3850c4d0b4e6c7$export$3ddf2d174ce01153,$5d3850c4d0b4e6c7$export$602eac185826482c=$5d3850c4d0b4e6c7$export$dad7c95542bacce0,$5d3850c4d0b4e6c7$export$c6fdb837b070b4ff=$5d3850c4d0b4e6c7$export$bd1d06c79be19e17,$5d3850c4d0b4e6c7$export$7c6e2c02157bb7d2=$5d3850c4d0b4e6c7$export$b6d9565de1e068cf;var fe='[cmdk-list-sizer=""]',O$1='[cmdk-group=""]',U$1='[cmdk-group-items=""]',me$1='[cmdk-group-heading=""]',W$1='[cmdk-item=""]',ae$1=`${W$1}:not([aria-disabled="true"])`,B$1="cmdk-item-select",S$1="data-value",pe=(et,tt)=>W$2(et,tt),se$1=reactExports.createContext(void 0),A$1=()=>reactExports.useContext(se$1),ie$1=reactExports.createContext(void 0),J$1=()=>reactExports.useContext(ie$1),ce$1=reactExports.createContext(void 0),le$1=reactExports.forwardRef((et,tt)=>{let rt=reactExports.useRef(null),nt=w$1(()=>{var Qt,ir,Xt;return{search:"",value:(Xt=(ir=et.value)!=null?ir:(Qt=et.defaultValue)==null?void 0:Qt.toLowerCase())!=null?Xt:"",filtered:{count:0,items:new Map,groups:new Set}}}),at=w$1(()=>new Set),it=w$1(()=>new Map),st=w$1(()=>new Map),ot=w$1(()=>new Set),lt=ue(et),{label:ct,children:ut,value:dt,onValueChange:ft,filter:ht,shouldFilter:gt,vimBindings:mt=!0,...xt}=et,vt=reactExports.useId(),_t=reactExports.useId(),yt=reactExports.useId(),St=Le();D$1(()=>{if(dt!==void 0){let Qt=dt.trim().toLowerCase();nt.current.value=Qt,St(6,Pt),bt.emit()}},[dt]);let bt=reactExports.useMemo(()=>({subscribe:Qt=>(ot.current.add(Qt),()=>ot.current.delete(Qt)),snapshot:()=>nt.current,setState:(Qt,ir,Xt)=>{var Lt,jt,Nt;if(!Object.is(nt.current[Qt],ir)){if(nt.current[Qt]=ir,Qt==="search")kt(),At(),St(1,Ct);else if(Qt==="value")if(((Lt=lt.current)==null?void 0:Lt.value)!==void 0){let Mt=ir??"";(Nt=(jt=lt.current).onValueChange)==null||Nt.call(jt,Mt);return}else Xt||St(5,Pt);bt.emit()}},emit:()=>{ot.current.forEach(Qt=>Qt())}}),[]),Et=reactExports.useMemo(()=>({value:(Qt,ir)=>{ir!==st.current.get(Qt)&&(st.current.set(Qt,ir),nt.current.filtered.items.set(Qt,Tt(ir)),St(2,()=>{At(),bt.emit()}))},item:(Qt,ir)=>(at.current.add(Qt),ir&&(it.current.has(ir)?it.current.get(ir).add(Qt):it.current.set(ir,new Set([Qt]))),St(3,()=>{kt(),At(),nt.current.value||Ct(),bt.emit()}),()=>{st.current.delete(Qt),at.current.delete(Qt),nt.current.filtered.items.delete(Qt);let Xt=Dt();St(4,()=>{kt(),(Xt==null?void 0:Xt.getAttribute("id"))===Qt&&Ct(),bt.emit()})}),group:Qt=>(it.current.has(Qt)||it.current.set(Qt,new Set),()=>{st.current.delete(Qt),it.current.delete(Qt)}),filter:()=>lt.current.shouldFilter,label:ct||et["aria-label"],commandRef:rt,listId:vt,inputId:yt,labelId:_t}),[]);function Tt(Qt){var ir,Xt;let Lt=(Xt=(ir=lt.current)==null?void 0:ir.filter)!=null?Xt:pe;return Qt?Lt(Qt,nt.current.search):0}function At(){if(!rt.current||!nt.current.search||lt.current.shouldFilter===!1)return;let Qt=nt.current.filtered.items,ir=[];nt.current.filtered.groups.forEach(Lt=>{let jt=it.current.get(Lt),Nt=0;jt.forEach(Mt=>{let Vt=Qt.get(Mt);Nt=Math.max(Vt,Nt)}),ir.push([Lt,Nt])});let Xt=rt.current.querySelector(fe);Ft().sort((Lt,jt)=>{var Nt,Mt;let Vt=Lt.getAttribute(S$1),Gt=jt.getAttribute(S$1);return((Nt=Qt.get(Gt))!=null?Nt:0)-((Mt=Qt.get(Vt))!=null?Mt:0)}).forEach(Lt=>{let jt=Lt.closest(U$1);jt?jt.appendChild(Lt.parentElement===jt?Lt:Lt.closest(`${U$1} > *`)):Xt.appendChild(Lt.parentElement===Xt?Lt:Lt.closest(`${U$1} > *`))}),ir.sort((Lt,jt)=>jt[1]-Lt[1]).forEach(Lt=>{let jt=rt.current.querySelector(`${O$1}[${S$1}="${Lt[0]}"]`);jt==null||jt.parentElement.appendChild(jt)})}function Ct(){let Qt=Ft().find(Xt=>!Xt.ariaDisabled),ir=Qt==null?void 0:Qt.getAttribute(S$1);bt.setState("value",ir||void 0)}function kt(){if(!nt.current.search||lt.current.shouldFilter===!1){nt.current.filtered.count=at.current.size;return}nt.current.filtered.groups=new Set;let Qt=0;for(let ir of at.current){let Xt=st.current.get(ir),Lt=Tt(Xt);nt.current.filtered.items.set(ir,Lt),Lt>0&&Qt++}for(let[ir,Xt]of it.current)for(let Lt of Xt)if(nt.current.filtered.items.get(Lt)>0){nt.current.filtered.groups.add(ir);break}nt.current.filtered.count=Qt}function Pt(){var Qt,ir,Xt;let Lt=Dt();Lt&&(((Qt=Lt.parentElement)==null?void 0:Qt.firstChild)===Lt&&((Xt=(ir=Lt.closest(O$1))==null?void 0:ir.querySelector(me$1))==null||Xt.scrollIntoView({block:"nearest"})),Lt.scrollIntoView({block:"nearest"}))}function Dt(){var Qt;return(Qt=rt.current)==null?void 0:Qt.querySelector(`${W$1}[aria-selected="true"]`)}function Ft(){return Array.from(rt.current.querySelectorAll(ae$1))}function Ot(Qt){let ir=Ft()[Qt];ir&&bt.setState("value",ir.getAttribute(S$1))}function It(Qt){var ir;let Xt=Dt(),Lt=Ft(),jt=Lt.findIndex(Mt=>Mt===Xt),Nt=Lt[jt+Qt];(ir=lt.current)!=null&&ir.loop&&(Nt=jt+Qt<0?Lt[Lt.length-1]:jt+Qt===Lt.length?Lt[0]:Lt[jt+Qt]),Nt&&bt.setState("value",Nt.getAttribute(S$1))}function Bt(Qt){let ir=Dt(),Xt=ir==null?void 0:ir.closest(O$1),Lt;for(;Xt&&!Lt;)Xt=Qt>0?ye(Xt,O$1):xe$1(Xt,O$1),Lt=Xt==null?void 0:Xt.querySelector(ae$1);Lt?bt.setState("value",Lt.getAttribute(S$1)):It(Qt)}let qt=()=>Ot(Ft().length-1),Ut=Qt=>{Qt.preventDefault(),Qt.metaKey?qt():Qt.altKey?Bt(1):It(1)},Ht=Qt=>{Qt.preventDefault(),Qt.metaKey?Ot(0):Qt.altKey?Bt(-1):It(-1)};return reactExports.createElement("div",{ref:_$1([rt,tt]),...xt,"cmdk-root":"",onKeyDown:Qt=>{var ir;if((ir=xt.onKeyDown)==null||ir.call(xt,Qt),!Qt.defaultPrevented)switch(Qt.key){case"n":case"j":{mt&&Qt.ctrlKey&&Ut(Qt);break}case"ArrowDown":{Ut(Qt);break}case"p":case"k":{mt&&Qt.ctrlKey&&Ht(Qt);break}case"ArrowUp":{Ht(Qt);break}case"Home":{Qt.preventDefault(),Ot(0);break}case"End":{Qt.preventDefault(),qt();break}case"Enter":if(!Qt.nativeEvent.isComposing){Qt.preventDefault();let Xt=Dt();if(Xt){let Lt=new Event(B$1);Xt.dispatchEvent(Lt)}}}}},reactExports.createElement("label",{"cmdk-label":"",htmlFor:Et.inputId,id:Et.labelId,style:Te$1},ct),reactExports.createElement(ie$1.Provider,{value:bt},reactExports.createElement(se$1.Provider,{value:Et},ut)))}),ve=reactExports.forwardRef((et,tt)=>{var rt,nt;let at=reactExports.useId(),it=reactExports.useRef(null),st=reactExports.useContext(ce$1),ot=A$1(),lt=ue(et),ct=(nt=(rt=lt.current)==null?void 0:rt.forceMount)!=null?nt:st==null?void 0:st.forceMount;D$1(()=>ot.item(at,st==null?void 0:st.id),[]);let ut=de(at,it,[et.value,et.children,it]),dt=J$1(),ft=L$3(bt=>bt.value&&bt.value===ut.current),ht=L$3(bt=>ct||ot.filter()===!1?!0:bt.search?bt.filtered.items.get(at)>0:!0);reactExports.useEffect(()=>{let bt=it.current;if(!(!bt||et.disabled))return bt.addEventListener(B$1,gt),()=>bt.removeEventListener(B$1,gt)},[ht,et.onSelect,et.disabled]);function gt(){var bt,Et;mt(),(Et=(bt=lt.current).onSelect)==null||Et.call(bt,ut.current)}function mt(){dt.setState("value",ut.current,!0)}if(!ht)return null;let{disabled:xt,value:vt,onSelect:_t,forceMount:yt,...St}=et;return reactExports.createElement("div",{ref:_$1([it,tt]),...St,id:at,"cmdk-item":"",role:"option","aria-disabled":xt||void 0,"aria-selected":ft||void 0,"data-disabled":xt||void 0,"data-selected":ft||void 0,onPointerMove:xt?void 0:mt,onClick:xt?void 0:gt},et.children)}),ge$1=reactExports.forwardRef((et,tt)=>{let{heading:rt,children:nt,forceMount:at,...it}=et,st=reactExports.useId(),ot=reactExports.useRef(null),lt=reactExports.useRef(null),ct=reactExports.useId(),ut=A$1(),dt=L$3(gt=>at||ut.filter()===!1?!0:gt.search?gt.filtered.groups.has(st):!0);D$1(()=>ut.group(st),[]),de(st,ot,[et.value,et.heading,lt]);let ft=reactExports.useMemo(()=>({id:st,forceMount:at}),[at]),ht=reactExports.createElement(ce$1.Provider,{value:ft},nt);return reactExports.createElement("div",{ref:_$1([ot,tt]),...it,"cmdk-group":"",role:"presentation",hidden:dt?void 0:!0},rt&&reactExports.createElement("div",{ref:lt,"cmdk-group-heading":"","aria-hidden":!0,id:ct},rt),reactExports.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":rt?ct:void 0},ht))}),Re$1=reactExports.forwardRef((et,tt)=>{let{alwaysRender:rt,...nt}=et,at=reactExports.useRef(null),it=L$3(st=>!st.search);return!rt&&!it?null:reactExports.createElement("div",{ref:_$1([at,tt]),...nt,"cmdk-separator":"",role:"separator"})}),be$1=reactExports.forwardRef((et,tt)=>{let{onValueChange:rt,...nt}=et,at=et.value!=null,it=J$1(),st=L$3(ut=>ut.search),ot=L$3(ut=>ut.value),lt=A$1(),ct=reactExports.useMemo(()=>{var ut;let dt=(ut=lt.commandRef.current)==null?void 0:ut.querySelector(`${W$1}[${S$1}="${ot}"]`);return dt==null?void 0:dt.getAttribute("id")},[ot,lt.commandRef]);return reactExports.useEffect(()=>{et.value!=null&&it.setState("search",et.value)},[et.value]),reactExports.createElement("input",{ref:tt,...nt,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":lt.listId,"aria-labelledby":lt.labelId,"aria-activedescendant":ct,id:lt.inputId,type:"text",value:at?et.value:st,onChange:ut=>{at||it.setState("search",ut.target.value),rt==null||rt(ut.target.value)}})}),he=reactExports.forwardRef((et,tt)=>{let{children:rt,...nt}=et,at=reactExports.useRef(null),it=reactExports.useRef(null),st=A$1();return reactExports.useEffect(()=>{if(it.current&&at.current){let ot=it.current,lt=at.current,ct,ut=new ResizeObserver(()=>{ct=requestAnimationFrame(()=>{let dt=ot.offsetHeight;lt.style.setProperty("--cmdk-list-height",dt.toFixed(1)+"px")})});return ut.observe(ot),()=>{cancelAnimationFrame(ct),ut.unobserve(ot)}}},[]),reactExports.createElement("div",{ref:_$1([at,tt]),...nt,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:st.listId,"aria-labelledby":st.inputId},reactExports.createElement("div",{ref:it,"cmdk-list-sizer":""},rt))}),Ee$1=reactExports.forwardRef((et,tt)=>{let{open:rt,onOpenChange:nt,overlayClassName:at,contentClassName:it,container:st,...ot}=et;return reactExports.createElement($5d3850c4d0b4e6c7$export$be92b6f5f03c0fe9,{open:rt,onOpenChange:nt},reactExports.createElement($5d3850c4d0b4e6c7$export$602eac185826482c,{container:st},reactExports.createElement($5d3850c4d0b4e6c7$export$c6fdb837b070b4ff,{"cmdk-overlay":"",className:at}),reactExports.createElement($5d3850c4d0b4e6c7$export$7c6e2c02157bb7d2,{"aria-label":et.label,"cmdk-dialog":"",className:it},reactExports.createElement(le$1,{ref:tt,...ot}))))}),Se$1=reactExports.forwardRef((et,tt)=>{let rt=reactExports.useRef(!0),nt=L$3(at=>at.filtered.count===0);return reactExports.useEffect(()=>{rt.current=!1},[]),rt.current||!nt?null:reactExports.createElement("div",{ref:tt,...et,"cmdk-empty":"",role:"presentation"})}),Ce$1=reactExports.forwardRef((et,tt)=>{let{progress:rt,children:nt,...at}=et;return reactExports.createElement("div",{ref:tt,...at,"cmdk-loading":"",role:"progressbar","aria-valuenow":rt,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},reactExports.createElement("div",{"aria-hidden":!0},nt))}),we$1=Object.assign(le$1,{List:he,Item:ve,Input:be$1,Group:ge$1,Separator:Re$1,Dialog:Ee$1,Empty:Se$1,Loading:Ce$1});function ye(et,tt){let rt=et.nextElementSibling;for(;rt;){if(rt.matches(tt))return rt;rt=rt.nextElementSibling}}function xe$1(et,tt){let rt=et.previousElementSibling;for(;rt;){if(rt.matches(tt))return rt;rt=rt.previousElementSibling}}function ue(et){let tt=reactExports.useRef(et);return D$1(()=>{tt.current=et}),tt}var D$1=typeof window>"u"?reactExports.useEffect:reactExports.useLayoutEffect;function w$1(et){let tt=reactExports.useRef();return tt.current===void 0&&(tt.current=et()),tt}function _$1(et){return tt=>{et.forEach(rt=>{typeof rt=="function"?rt(tt):rt!=null&&(rt.current=tt)})}}function L$3(et){let tt=J$1(),rt=()=>et(tt.snapshot());return reactExports.useSyncExternalStore(tt.subscribe,rt,rt)}function de(et,tt,rt){let nt=reactExports.useRef(),at=A$1();return D$1(()=>{var it;let st=(()=>{var ot;for(let lt of rt){if(typeof lt=="string")return lt.trim().toLowerCase();if(typeof lt=="object"&&"current"in lt)return lt.current?(ot=lt.current.textContent)==null?void 0:ot.trim().toLowerCase():nt.current}})();at.value(et,st),(it=tt.current)==null||it.setAttribute(S$1,st),nt.current=st}),nt}var Le=()=>{let[et,tt]=reactExports.useState(),rt=w$1(()=>new Map);return D$1(()=>{rt.current.forEach(nt=>nt()),rt.current=new Map},[et]),(nt,at)=>{rt.current.set(nt,at),tt({})}},Te$1={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Command=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(we$1,{ref:rt,className:cn("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",et),...tt}));Command.displayName=we$1.displayName;const CommandInput=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[jsxRuntimeExports.jsx(Search,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),jsxRuntimeExports.jsx(we$1.Input,{ref:rt,className:cn("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",et),...tt})]}));CommandInput.displayName=we$1.Input.displayName;const CommandList=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(we$1.List,{ref:rt,className:cn("max-h-[300px] overflow-y-auto overflow-x-hidden",et),...tt}));CommandList.displayName=we$1.List.displayName;const CommandEmpty=React$1.forwardRef((et,tt)=>jsxRuntimeExports.jsx(we$1.Empty,{ref:tt,className:"py-6 text-center text-sm",...et}));CommandEmpty.displayName=we$1.Empty.displayName;const CommandGroup=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(we$1.Group,{ref:rt,className:cn("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",et),...tt}));CommandGroup.displayName=we$1.Group.displayName;const CommandSeparator=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(we$1.Separator,{ref:rt,className:cn("-mx-1 h-px bg-border",et),...tt}));CommandSeparator.displayName=we$1.Separator.displayName;const CommandItem=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(we$1.Item,{ref:rt,className:cn("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",et),...tt}));CommandItem.displayName=we$1.Item.displayName;function createSlot(et){const tt=createSlotClone(et),rt=reactExports.forwardRef((nt,at)=>{const{children:it,...st}=nt,ot=reactExports.Children.toArray(it),lt=ot.find(isSlottable);if(lt){const ct=lt.props.children,ut=ot.map(dt=>dt===lt?reactExports.Children.count(ct)>1?reactExports.Children.only(null):reactExports.isValidElement(ct)?ct.props.children:null:dt);return jsxRuntimeExports.jsx(tt,{...st,ref:at,children:reactExports.isValidElement(ct)?reactExports.cloneElement(ct,void 0,ut):null})}return jsxRuntimeExports.jsx(tt,{...st,ref:at,children:it})});return rt.displayName=`${et}.Slot`,rt}function createSlotClone(et){const tt=reactExports.forwardRef((rt,nt)=>{const{children:at,...it}=rt;if(reactExports.isValidElement(at)){const st=getElementRef(at),ot=mergeProps(it,at.props);return at.type!==reactExports.Fragment&&(ot.ref=nt?composeRefs(nt,st):st),reactExports.cloneElement(at,ot)}return reactExports.Children.count(at)>1?reactExports.Children.only(null):null});return tt.displayName=`${et}.SlotClone`,tt}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable(et){return reactExports.isValidElement(et)&&typeof et.type=="function"&&"__radixId"in et.type&&et.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(et,tt){const rt={...tt};for(const nt in tt){const at=et[nt],it=tt[nt];/^on[A-Z]/.test(nt)?at&&it?rt[nt]=(...ot)=>{const lt=it(...ot);return at(...ot),lt}:at&&(rt[nt]=at):nt==="style"?rt[nt]={...at,...it}:nt==="className"&&(rt[nt]=[at,it].filter(Boolean).join(" "))}return{...et,...rt}}function getElementRef(et){var nt,at;let tt=(nt=Object.getOwnPropertyDescriptor(et.props,"ref"))==null?void 0:nt.get,rt=tt&&"isReactWarning"in tt&&tt.isReactWarning;return rt?et.ref:(tt=(at=Object.getOwnPropertyDescriptor(et,"ref"))==null?void 0:at.get,rt=tt&&"isReactWarning"in tt&&tt.isReactWarning,rt?et.props.ref:et.props.ref||et.ref)}var POPOVER_NAME="Popover",[createPopoverContext,createPopoverScope]=createContextScope$1(POPOVER_NAME,[createPopperScope]),usePopperScope=createPopperScope(),[PopoverProvider,usePopoverContext]=createPopoverContext(POPOVER_NAME),Popover$1=et=>{const{__scopePopover:tt,children:rt,open:nt,defaultOpen:at,onOpenChange:it,modal:st=!1}=et,ot=usePopperScope(tt),lt=reactExports.useRef(null),[ct,ut]=reactExports.useState(!1),[dt,ft]=useControllableState({prop:nt,defaultProp:at??!1,onChange:it,caller:POPOVER_NAME});return jsxRuntimeExports.jsx(Root2$4,{...ot,children:jsxRuntimeExports.jsx(PopoverProvider,{scope:tt,contentId:useId(),triggerRef:lt,open:dt,onOpenChange:ft,onOpenToggle:reactExports.useCallback(()=>ft(ht=>!ht),[ft]),hasCustomAnchor:ct,onCustomAnchorAdd:reactExports.useCallback(()=>ut(!0),[]),onCustomAnchorRemove:reactExports.useCallback(()=>ut(!1),[]),modal:st,children:rt})})};Popover$1.displayName=POPOVER_NAME;var ANCHOR_NAME="PopoverAnchor",PopoverAnchor=reactExports.forwardRef((et,tt)=>{const{__scopePopover:rt,...nt}=et,at=usePopoverContext(ANCHOR_NAME,rt),it=usePopperScope(rt),{onCustomAnchorAdd:st,onCustomAnchorRemove:ot}=at;return reactExports.useEffect(()=>(st(),()=>ot()),[st,ot]),jsxRuntimeExports.jsx(Anchor,{...it,...nt,ref:tt})});PopoverAnchor.displayName=ANCHOR_NAME;var TRIGGER_NAME$1="PopoverTrigger",PopoverTrigger$1=reactExports.forwardRef((et,tt)=>{const{__scopePopover:rt,...nt}=et,at=usePopoverContext(TRIGGER_NAME$1,rt),it=usePopperScope(rt),st=useComposedRefs(tt,at.triggerRef),ot=jsxRuntimeExports.jsx(Primitive$2.button,{type:"button","aria-haspopup":"dialog","aria-expanded":at.open,"aria-controls":at.contentId,"data-state":getState(at.open),...nt,ref:st,onClick:composeEventHandlers(et.onClick,at.onOpenToggle)});return at.hasCustomAnchor?ot:jsxRuntimeExports.jsx(Anchor,{asChild:!0,...it,children:ot})});PopoverTrigger$1.displayName=TRIGGER_NAME$1;var PORTAL_NAME="PopoverPortal",[PortalProvider,usePortalContext]=createPopoverContext(PORTAL_NAME,{forceMount:void 0}),PopoverPortal=et=>{const{__scopePopover:tt,forceMount:rt,children:nt,container:at}=et,it=usePopoverContext(PORTAL_NAME,tt);return jsxRuntimeExports.jsx(PortalProvider,{scope:tt,forceMount:rt,children:jsxRuntimeExports.jsx(Presence,{present:rt||it.open,children:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,container:at,children:nt})})})};PopoverPortal.displayName=PORTAL_NAME;var CONTENT_NAME$1="PopoverContent",PopoverContent$1=reactExports.forwardRef((et,tt)=>{const rt=usePortalContext(CONTENT_NAME$1,et.__scopePopover),{forceMount:nt=rt.forceMount,...at}=et,it=usePopoverContext(CONTENT_NAME$1,et.__scopePopover);return jsxRuntimeExports.jsx(Presence,{present:nt||it.open,children:it.modal?jsxRuntimeExports.jsx(PopoverContentModal,{...at,ref:tt}):jsxRuntimeExports.jsx(PopoverContentNonModal,{...at,ref:tt})})});PopoverContent$1.displayName=CONTENT_NAME$1;var Slot=createSlot("PopoverContent.RemoveScroll"),PopoverContentModal=reactExports.forwardRef((et,tt)=>{const rt=usePopoverContext(CONTENT_NAME$1,et.__scopePopover),nt=reactExports.useRef(null),at=useComposedRefs(tt,nt),it=reactExports.useRef(!1);return reactExports.useEffect(()=>{const st=nt.current;if(st)return hideOthers(st)},[]),jsxRuntimeExports.jsx(RemoveScroll$1,{as:Slot,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(PopoverContentImpl,{...et,ref:at,trapFocus:rt.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(et.onCloseAutoFocus,st=>{var ot;st.preventDefault(),it.current||(ot=rt.triggerRef.current)==null||ot.focus()}),onPointerDownOutside:composeEventHandlers(et.onPointerDownOutside,st=>{const ot=st.detail.originalEvent,lt=ot.button===0&&ot.ctrlKey===!0,ct=ot.button===2||lt;it.current=ct},{checkForDefaultPrevented:!1}),onFocusOutside:composeEventHandlers(et.onFocusOutside,st=>st.preventDefault(),{checkForDefaultPrevented:!1})})})}),PopoverContentNonModal=reactExports.forwardRef((et,tt)=>{const rt=usePopoverContext(CONTENT_NAME$1,et.__scopePopover),nt=reactExports.useRef(!1),at=reactExports.useRef(!1);return jsxRuntimeExports.jsx(PopoverContentImpl,{...et,ref:tt,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:it=>{var st,ot;(st=et.onCloseAutoFocus)==null||st.call(et,it),it.defaultPrevented||(nt.current||(ot=rt.triggerRef.current)==null||ot.focus(),it.preventDefault()),nt.current=!1,at.current=!1},onInteractOutside:it=>{var lt,ct;(lt=et.onInteractOutside)==null||lt.call(et,it),it.defaultPrevented||(nt.current=!0,it.detail.originalEvent.type==="pointerdown"&&(at.current=!0));const st=it.target;((ct=rt.triggerRef.current)==null?void 0:ct.contains(st))&&it.preventDefault(),it.detail.originalEvent.type==="focusin"&&at.current&&it.preventDefault()}})}),PopoverContentImpl=reactExports.forwardRef((et,tt)=>{const{__scopePopover:rt,trapFocus:nt,onOpenAutoFocus:at,onCloseAutoFocus:it,disableOutsidePointerEvents:st,onEscapeKeyDown:ot,onPointerDownOutside:lt,onFocusOutside:ct,onInteractOutside:ut,...dt}=et,ft=usePopoverContext(CONTENT_NAME$1,rt),ht=usePopperScope(rt);return useFocusGuards(),jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:nt,onMountAutoFocus:at,onUnmountAutoFocus:it,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:st,onInteractOutside:ut,onEscapeKeyDown:ot,onPointerDownOutside:lt,onFocusOutside:ct,onDismiss:()=>ft.onOpenChange(!1),children:jsxRuntimeExports.jsx(Content$2,{"data-state":getState(ft.open),role:"dialog",id:ft.contentId,...ht,...dt,ref:tt,style:{...dt.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),CLOSE_NAME="PopoverClose",PopoverClose=reactExports.forwardRef((et,tt)=>{const{__scopePopover:rt,...nt}=et,at=usePopoverContext(CLOSE_NAME,rt);return jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",...nt,ref:tt,onClick:composeEventHandlers(et.onClick,()=>at.onOpenChange(!1))})});PopoverClose.displayName=CLOSE_NAME;var ARROW_NAME="PopoverArrow",PopoverArrow=reactExports.forwardRef((et,tt)=>{const{__scopePopover:rt,...nt}=et,at=usePopperScope(rt);return jsxRuntimeExports.jsx(Arrow,{...at,...nt,ref:tt})});PopoverArrow.displayName=ARROW_NAME;function getState(et){return et?"open":"closed"}var Root2$1=Popover$1,Trigger$1=PopoverTrigger$1,Portal=PopoverPortal,Content2=PopoverContent$1;const Popover=Root2$1,PopoverTrigger=Trigger$1,PopoverContent=React$1.forwardRef(({className:et,align:tt="center",sideOffset:rt=4,...nt},at)=>jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsx(Content2,{ref:at,align:tt,sideOffset:rt,className:cn("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",et),...nt})}));PopoverContent.displayName=Content2.displayName;const EmployeeCombobox=({employees:et,value:tt,onChange:rt,disabled:nt})=>{const[at,it]=reactExports.useState(!1),st=et.find(ot=>ot.id===tt);return jsxRuntimeExports.jsxs(Popover,{open:at,onOpenChange:it,children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"outline",role:"combobox","aria-expanded":at,className:"w-full justify-between",disabled:nt,children:[st?`${st.name} (${st.nik})`:"Pilih Karyawan...",jsxRuntimeExports.jsx(ChevronsUpDown,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-[--radix-popover-trigger-width] p-0",children:jsxRuntimeExports.jsxs(Command,{children:[jsxRuntimeExports.jsx(CommandInput,{placeholder:"Cari karyawan..."}),jsxRuntimeExports.jsxs(CommandList,{children:[jsxRuntimeExports.jsx(CommandEmpty,{children:"Karyawan tidak ditemukan."}),jsxRuntimeExports.jsx(CommandGroup,{children:et.map(ot=>jsxRuntimeExports.jsxs(CommandItem,{value:`${ot.name} ${ot.nik}`,onSelect:()=>{rt(ot.id),it(!1)},children:[jsxRuntimeExports.jsx(Check,{className:cn("mr-2 h-4 w-4",tt===ot.id?"opacity-100":"opacity-0")}),ot.name," (",ot.nik,")"]},ot.id))})]})]})})]})},EmployeeQuotaDialog=({isOpen:et,onOpenChange:tt,currentQuota:rt,employees:nt,onSuccess:at})=>{const[it,st]=reactExports.useState(""),[ot,lt]=reactExports.useState(new Date().getFullYear()),[ct,ut]=reactExports.useState(12),[dt,ft]=reactExports.useState(!1);reactExports.useEffect(()=>{et&&(rt?(st(rt.employee_id),lt(rt.year),ut(rt.total_quota)):(st(""),lt(new Date().getFullYear()),ut(12)))},[et,rt]);const ht=async()=>{if(!it||!ot||ct<0){toast({title:"Validasi Gagal",description:"Karyawan, tahun, dan total kuota harus diisi dengan benar.",variant:"destructive"});return}ft(!0);try{const{data:gt,error:mt}=await supabase.from("employee_leave_quotas").select("id, used_quota").eq("employee_id",it).eq("year",ot).single();if(mt&&mt.code!=="PGRST116")throw mt;const xt={employee_id:it,year:parseInt(ot),total_quota:parseInt(ct)};let vt;if(gt?(xt.total_quota<gt.used_quota&&toast({title:"Peringatan",description:"Total kuota baru lebih kecil dari kuota yang sudah terpakai. Sisa kuota akan negatif.",variant:"default"}),vt=await supabase.from("employee_leave_quotas").update(xt).eq("id",gt.id).select()):(xt.used_quota=0,vt=await supabase.from("employee_leave_quotas").insert(xt).select()),vt.error)throw vt.error;toast({title:"Sukses",description:`Kuota cuti karyawan berhasil ${gt?"diperbarui":"ditambahkan"}.`}),at(),tt(!1)}catch(gt){toast({title:"Error",description:"Gagal menyimpan kuota cuti: "+gt.message,variant:"destructive"})}finally{ft(!1)}};return jsxRuntimeExports.jsx(Dialog,{open:et,onOpenChange:tt,children:jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Atur Kuota Cuti Karyawan"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Tetapkan atau ubah kuota cuti tahunan untuk karyawan."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"quotaEmployee",children:"Karyawan"}),jsxRuntimeExports.jsx(EmployeeCombobox,{employees:nt,value:it,onChange:st,disabled:!!rt})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"quotaYear",children:"Tahun"}),jsxRuntimeExports.jsx(Input,{id:"quotaYear",type:"number",value:ot,onChange:gt=>lt(parseInt(gt.target.value)),placeholder:"YYYY",disabled:!!rt})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"totalQuota",children:"Total Kuota (hari)"}),jsxRuntimeExports.jsx(Input,{id:"totalQuota",type:"number",value:ct,onChange:gt=>ut(parseInt(gt.target.value))})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>tt(!1),disabled:dt,children:"Batal"}),jsxRuntimeExports.jsx(Button,{onClick:ht,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",disabled:dt,children:dt?"Menyimpan...":"Simpan Kuota"})]})]})})},DirectLeaveRequestDialog=({isOpen:et,onOpenChange:tt,employees:rt,leaveTypes:nt,onSuccess:at,showSuccessModal:it})=>{const{user:st}=useAuth(),[ot,lt]=reactExports.useState(""),[ct,ut]=reactExports.useState(""),[dt,ft]=reactExports.useState(""),[ht,gt]=reactExports.useState(""),[mt,xt]=reactExports.useState(""),[vt,_t]=reactExports.useState("Menunggu Persetujuan"),[yt,St]=reactExports.useState(!1),[bt,Et]=reactExports.useState(""),Tt=reactExports.useRef(null),At=[{value:"Menunggu Persetujuan",label:"Menunggu Persetujuan"},{value:"Disetujui",label:"Disetujui"},{value:"Dibatalkan",label:"Dibatalkan"}];reactExports.useEffect(()=>{et&&(lt(""),ut(""),ft(""),gt(""),xt(""),_t("Menunggu Persetujuan"),Et(""))},[et]);const Ct=async()=>{if(!ot||!ct||!dt||!ht||!vt){toast({title:"Validasi Gagal",description:"Karyawan, jenis cuti, tanggal mulai, tanggal selesai, dan status harus diisi.",variant:"destructive"});return}St(!0);try{const{data:Pt,error:Dt}=await supabase.from("leave_types").select("reduces_quota").eq("id",ct).single();if(Dt)throw Dt;const Ft=new Date(dt),Ot=new Date(ht);let It=0,Bt=new Date(Ft);for(;Bt<=Ot;){const Xt=Bt.getDay();Xt!==0&&Xt!==6&&It++,Bt.setDate(Bt.getDate()+1)}if(It<=0){toast({title:"Error",description:"Durasi cuti tidak valid.",variant:"destructive"}),St(!1);return}if(vt==="Disetujui"&&Pt.reduces_quota){const Xt=Ft.getFullYear(),{data:Lt,error:jt}=await supabase.from("employee_leave_quotas").select("*").eq("employee_id",ot).eq("year",Xt).single();if(jt||!Lt){toast({title:"Error",description:`Karyawan belum memiliki kuota cuti untuk tahun ${Xt}. Harap atur kuota terlebih dahulu.`,variant:"destructive"}),St(!1);return}if(Lt.remaining_quota<It){toast({title:"Error",description:"Sisa kuota karyawan tidak mencukupi.",variant:"destructive"}),St(!1);return}const{error:Nt}=await supabase.from("employee_leave_quotas").update({used_quota:Lt.used_quota+It}).eq("id",Lt.id);if(Nt)throw Nt}const{data:qt,error:Ut}=await supabase.rpc("generate_leave_request_number");if(Ut)throw Ut;const Ht=qt,Qt={employee_id:ot,leave_type_id:ct,start_date:dt,end_date:ht,reason:mt,status:vt,admin_notes:"Pengajuan dibuat langsung oleh Admin.",approved_at:vt==="Disetujui"?new Date().toISOString():null,approved_by:vt==="Disetujui"?st.id:null,leave_request_number:Ht},{error:ir}=await supabase.from("leave_requests").insert(Qt);if(ir)throw ir;vt==="Disetujui"?it({title:"Cuti Dibuat & Disetujui!",description:"Pengajuan cuti berhasil dibuat dan disetujui.",leaveRequestNumber:Ht}):vt==="Menunggu Persetujuan"?it({title:"Pengajuan Cuti Dibuat!",description:"Pengajuan cuti berhasil dibuat dan menunggu persetujuan.",leaveRequestNumber:Ht}):toast({title:"Sukses",description:`Pengajuan cuti berhasil dibuat dengan status: ${vt}.`}),at(),tt(!1)}catch(Pt){toast({title:"Error",description:`Gagal membuat pengajuan cuti: ${Pt.message}`,variant:"destructive"})}finally{St(!1)}},kt=(rt||[]).filter(Pt=>Pt&&Pt.id&&(Pt.name.toLowerCase().includes(bt.toLowerCase())||Pt.nik&&Pt.nik.toLowerCase().includes(bt.toLowerCase())));return jsxRuntimeExports.jsx(Dialog,{open:et,onOpenChange:tt,children:jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-md",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Buat Pengajuan Cuti Langsung"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Buat pengajuan cuti untuk karyawan dengan status yang ditentukan."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"directRequestEmployee",children:"Karyawan"}),jsxRuntimeExports.jsxs(Select,{value:ot,onValueChange:lt,children:[jsxRuntimeExports.jsx(SelectTrigger,{id:"directRequestEmployee",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Pilih Karyawan"})}),jsxRuntimeExports.jsxs(SelectContent,{onOpenAutoFocus:Pt=>Pt.preventDefault(),children:[jsxRuntimeExports.jsx("div",{className:"p-2",children:jsxRuntimeExports.jsx(Input,{ref:Tt,placeholder:"Cari nama atau NIK...",value:bt,onChange:Pt=>Et(Pt.target.value),className:"w-full"})}),jsxRuntimeExports.jsx("div",{className:"max-h-[200px] overflow-y-auto",children:kt.length>0?kt.map(Pt=>jsxRuntimeExports.jsxs(SelectItem,{value:Pt.id,children:[Pt.name," (",Pt.nik,")"]},Pt.id)):jsxRuntimeExports.jsx("div",{className:"p-2 text-center text-sm text-muted-foreground",children:"Karyawan tidak ditemukan."})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"directRequestLeaveType",children:"Jenis Cuti"}),jsxRuntimeExports.jsxs(Select,{value:ct,onValueChange:ut,children:[jsxRuntimeExports.jsx(SelectTrigger,{id:"directRequestLeaveType",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Pilih Jenis Cuti"})}),jsxRuntimeExports.jsx(SelectContent,{children:(nt||[]).filter(Pt=>Pt&&Pt.id).map(Pt=>jsxRuntimeExports.jsx(SelectItem,{value:Pt.id,children:Pt.name},Pt.id))})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"directRequestStartDate",children:"Tanggal Mulai"}),jsxRuntimeExports.jsx(Input,{id:"directRequestStartDate",type:"date",value:dt,onChange:Pt=>ft(Pt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"directRequestEndDate",children:"Tanggal Selesai"}),jsxRuntimeExports.jsx(Input,{id:"directRequestEndDate",type:"date",value:ht,onChange:Pt=>gt(Pt.target.value)})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"directRequestReason",children:"Alasan (Opsional)"}),jsxRuntimeExports.jsx(Input,{id:"directRequestReason",value:mt,onChange:Pt=>xt(Pt.target.value),placeholder:"Alasan cuti..."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"directRequestStatus",children:"Status Pengajuan"}),jsxRuntimeExports.jsxs(Select,{value:vt,onValueChange:_t,children:[jsxRuntimeExports.jsx(SelectTrigger,{id:"directRequestStatus",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Pilih Status"})}),jsxRuntimeExports.jsx(SelectContent,{children:At.map(Pt=>jsxRuntimeExports.jsx(SelectItem,{value:Pt.value,children:Pt.label},Pt.value))})]})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>tt(!1),disabled:yt,children:"Batal"}),jsxRuntimeExports.jsx(Button,{onClick:Ct,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",disabled:yt,children:yt?"Memproses...":"Buat Pengajuan"})]})]})})},AdminLeaveManagement=()=>{const{user:et}=useAuth(),{showSuccessModal:tt}=useSuccessModal(),[rt,nt]=reactExports.useState([]),[at,it]=reactExports.useState([]),[st,ot]=reactExports.useState([]),[lt,ct]=reactExports.useState([]),[ut,dt]=reactExports.useState({types:!1,requests:!1,quotas:!1,employees:!1}),[ft,ht]=reactExports.useState("requests"),[gt,mt]=reactExports.useState(!1),[xt,vt]=reactExports.useState(null),[_t,yt]=reactExports.useState(!1),[St,bt]=reactExports.useState(null),[Et,Tt]=reactExports.useState(!1),At=reactExports.useCallback(async()=>{dt(Ut=>({...Ut,types:!0}));try{const{data:Ut,error:Ht}=await supabase.from("leave_types").select("*").order("name");if(Ht)throw Ht;nt(Ut)}catch(Ut){toast({title:"Error",description:"Gagal memuat jenis cuti: "+Ut.message,variant:"destructive"})}finally{dt(Ut=>({...Ut,types:!1}))}},[]),Ct=reactExports.useCallback(async()=>{dt(Ut=>({...Ut,employees:!0}));try{const Ut=await getEmployees("name",!0);it(Ut)}catch(Ut){toast({title:"Error",description:"Gagal memuat data karyawan: "+Ut.message,variant:"destructive"})}finally{dt(Ut=>({...Ut,employees:!1}))}},[]),kt=reactExports.useCallback(async()=>{dt(Ut=>({...Ut,requests:!0}));try{const{data:Ut,error:Ht}=await supabase.from("leave_requests").select("*, employees (name, nik, division, position, address, phone), leave_types (name)").order("requested_at",{ascending:!1});if(Ht)throw Ht;ot(Ut)}catch(Ut){toast({title:"Error",description:"Gagal memuat pengajuan cuti: "+Ut.message,variant:"destructive"})}finally{dt(Ut=>({...Ut,requests:!1}))}},[]),Pt=reactExports.useCallback(async()=>{dt(Ut=>({...Ut,quotas:!0}));try{const{data:Ut,error:Ht}=await supabase.from("employee_leave_quotas").select("*, employees (name, nik)").order("year",{ascending:!1}).order("employees(name)");if(Ht)throw Ht;ct(Ut)}catch(Ut){toast({title:"Error",description:"Gagal memuat kuota cuti karyawan: "+Ut.message,variant:"destructive"})}finally{dt(Ut=>({...Ut,quotas:!1}))}},[]);reactExports.useEffect(()=>{At(),Ct(),kt(),Pt()},[At,Ct,kt,Pt]);const Dt=(Ut=null)=>{vt(Ut),mt(!0)},Ft=async(Ut,Ht)=>{const{data:Qt,error:ir}=await supabase.from("leave_requests").select("id").eq("leave_type_id",Ut).limit(1);if(ir){toast({title:"Error",description:"Gagal memeriksa penggunaan jenis cuti: "+ir.message,variant:"destructive"});return}if(Qt&&Qt.length>0){toast({title:"Tidak Dapat Menghapus",description:"Jenis cuti ini sudah digunakan dalam pengajuan cuti dan tidak dapat dihapus.",variant:"destructive"});return}if(window.confirm("Apakah Anda yakin ingin menghapus jenis cuti ini?"))try{const{error:Xt}=await supabase.from("leave_types").delete().eq("id",Ut);if(Xt)throw Xt;await addLog({userId:et.id,userName:et.name,userRole:et.role,action:"DELETE",targetType:"LEAVE_TYPE",targetId:Ut,targetName:Ht}),toast({title:"Sukses",description:"Jenis cuti berhasil dihapus."}),At()}catch(Xt){toast({title:"Error",description:"Gagal menghapus jenis cuti: "+Xt.message,variant:"destructive"})}},Ot=(Ut=null)=>{bt(Ut),yt(!0)},It=async(Ut,Ht,Qt,ir,Xt,Lt)=>{try{if(Ht==="Disetujui"){const{data:Mt,error:Vt}=await supabase.from("leave_types").select("reduces_quota").eq("id",Lt).single();if(Vt)throw Vt;if(Mt.reduces_quota){const Gt=new Date(ir),Zt=new Date(Xt);let er=0,ar=new Date(Gt);for(;ar<=Zt;){const wr=ar.getDay();wr!==0&&wr!==6&&er++,ar.setDate(ar.getDate()+1)}if(er<=0){toast({title:"Error",description:"Durasi cuti tidak valid.",variant:"destructive"});return}const Kt=Gt.getFullYear(),{data:pr,error:fr}=await supabase.from("employee_leave_quotas").select("*").eq("employee_id",Qt).eq("year",Kt).single();if(fr||!pr){toast({title:"Error",description:`Karyawan belum memiliki kuota cuti untuk tahun ${Kt}. Harap atur kuota terlebih dahulu.`,variant:"destructive"});return}if(pr.remaining_quota<er){toast({title:"Error",description:"Sisa kuota karyawan tidak mencukupi.",variant:"destructive"});return}const{error:vr}=await supabase.from("employee_leave_quotas").update({used_quota:pr.used_quota+er}).eq("id",pr.id);if(vr)throw vr;Pt()}}else if(Ht==="Ditolak"||Ht==="Dibatalkan"){const{data:Mt,error:Vt}=await supabase.from("leave_requests").select("status, start_date, end_date, leave_type_id, employee_id, leave_request_number").eq("id",Ut).single();if(Vt)throw Vt;if(Mt.status==="Disetujui"){const{data:Gt,error:Zt}=await supabase.from("leave_types").select("reduces_quota").eq("id",Mt.leave_type_id).single();if(Zt)throw Zt;if(Gt.reduces_quota){const er=new Date(Mt.start_date),ar=new Date(Mt.end_date);let Kt=0,pr=new Date(er);for(;pr<=ar;){const fr=pr.getDay();fr!==0&&fr!==6&&Kt++,pr.setDate(pr.getDate()+1)}if(Kt>0){const fr=er.getFullYear(),{data:vr,error:wr}=await supabase.from("employee_leave_quotas").select("*").eq("employee_id",Mt.employee_id).eq("year",fr).single();vr&&!wr&&(await supabase.from("employee_leave_quotas").update({used_quota:Math.max(0,vr.used_quota-Kt)}).eq("id",vr.id),Pt())}}}}const{data:jt,error:Nt}=await supabase.from("leave_requests").update({status:Ht,approved_at:Ht==="Disetujui"?new Date().toISOString():null,approved_by:Ht==="Disetujui"?et.id:null}).eq("id",Ut).select("leave_request_number, employees(name)").single();if(Nt)throw Nt;await addLog({userId:et.id,userName:et.name,userRole:et.role,action:"UPDATE",targetType:"LEAVE_REQUEST",targetId:Ut,targetName:`Cuti ${jt.employees.name} (${jt.leave_request_number})`,details:{new_status:Ht}}),Ht==="Disetujui"?tt({title:"Cuti Disetujui!",description:"Pengajuan cuti telah berhasil disetujui.",leaveRequestNumber:jt.leave_request_number}):toast({title:"Sukses",description:`Status pengajuan cuti berhasil diperbarui menjadi ${Ht}.`}),kt()}catch(jt){toast({title:"Error",description:`Gagal memperbarui status: ${jt.message}`,variant:"destructive"})}},Bt=()=>{Tt(!0)},qt=()=>{switch(ft){case"types":return jsxRuntimeExports.jsx(LeaveTypesTab,{leaveTypes:rt,loading:ut,onOpenLeaveTypeDialog:Dt,onDeleteLeaveType:Ut=>{var Ht;return Ft(Ut,(Ht=rt.find(Qt=>Qt.id===Ut))==null?void 0:Ht.name)}});case"quotas":return jsxRuntimeExports.jsx(EmployeeQuotasTab,{employeeQuotas:lt,loading:ut,onOpenQuotaDialog:Ot});case"requests":default:return jsxRuntimeExports.jsx(LeaveRequestsTab,{leaveRequests:st,loading:ut,onOpenDirectRequestDialog:Bt,onUpdateRequestStatus:It});case"calendar":return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Kalender Cuti"}),jsxRuntimeExports.jsx(CardDescription,{children:"Fitur ini belum tersedia."})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:" Kalender cuti perusahaan akan segera hadir!"})})]});case"reports":return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Laporan Cuti"}),jsxRuntimeExports.jsx(CardDescription,{children:"Fitur ini belum tersedia."})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:" Laporan histori cuti karyawan akan segera hadir!"})})]})}};return jsxRuntimeExports.jsxs(Layout,{children:[jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"space-y-2",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Manajemen Cuti Karyawan"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Kelola jenis cuti, kuota, pengajuan, dan lihat kalender serta laporan cuti."})]}),jsxRuntimeExports.jsx(LeaveManagementTabs,{currentTab:ft,setCurrentTab:ht}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:qt()},ft)]}),jsxRuntimeExports.jsx(LeaveTypeDialog,{isOpen:gt,onOpenChange:mt,currentLeaveType:xt,onSuccess:At}),jsxRuntimeExports.jsx(EmployeeQuotaDialog,{isOpen:_t,onOpenChange:yt,currentQuota:St,employees:at,onSuccess:Pt}),jsxRuntimeExports.jsx(DirectLeaveRequestDialog,{isOpen:Et,onOpenChange:Tt,employees:at,leaveTypes:rt,onSuccess:()=>{kt(),Pt()},showSuccessModal:tt})]})},EmployeeLeaveRequest=()=>{var Ct;const{user:et}=useAuth(),{showSuccessModal:tt}=useSuccessModal(),[rt,nt]=reactExports.useState([]),[at,it]=reactExports.useState([]),[st,ot]=reactExports.useState({total_quota:0,used_quota:0,remaining_quota:0}),[lt,ct]=reactExports.useState({types:!1,requests:!1,quota:!1,submit:!1}),[ut,dt]=reactExports.useState(!1),[ft,ht]=reactExports.useState(""),[gt,mt]=reactExports.useState(""),[xt,vt]=reactExports.useState(""),[_t,yt]=reactExports.useState(""),St=reactExports.useCallback(async()=>{ct(kt=>({...kt,types:!0}));try{const{data:kt,error:Pt}=await supabase.from("leave_types").select("*").order("name");if(Pt)throw Pt;nt(kt)}catch(kt){toast({title:"Error",description:"Gagal memuat jenis cuti: "+kt.message,variant:"destructive"})}finally{ct(kt=>({...kt,types:!1}))}},[]),bt=reactExports.useCallback(async()=>{if(!(!et||!et.id)){ct(kt=>({...kt,requests:!0}));try{const{data:kt,error:Pt}=await supabase.from("leave_requests").select("*, leave_types(name)").eq("employee_id",et.id).order("requested_at",{ascending:!1});if(Pt)throw Pt;it(kt)}catch(kt){toast({title:"Error",description:"Gagal memuat histori pengajuan cuti: "+kt.message,variant:"destructive"})}finally{ct(kt=>({...kt,requests:!1}))}}},[et]),Et=reactExports.useCallback(async()=>{if(!(!et||!et.id)){ct(kt=>({...kt,quota:!0}));try{const kt=new Date().getFullYear(),{data:Pt,error:Dt}=await supabase.from("employee_leave_quotas").select("total_quota, used_quota, remaining_quota").eq("employee_id",et.id).eq("year",kt).single();if(Dt&&Dt.code!=="PGRST116")throw Dt;Pt?ot(Pt):(ot({total_quota:0,used_quota:0,remaining_quota:0}),toast({title:"Informasi Kuota",description:`Anda belum memiliki kuota cuti untuk tahun ${kt}. Hubungi Admin.`,variant:"default",duration:7e3}))}catch(kt){toast({title:"Error",description:"Gagal memuat kuota cuti: "+kt.message,variant:"destructive"})}finally{ct(kt=>({...kt,quota:!1}))}}},[et]);reactExports.useEffect(()=>{St(),bt(),Et()},[St,bt,Et]);const Tt=async()=>{if(!ft||!gt||!xt){toast({title:"Validasi Gagal",description:"Jenis cuti, tanggal mulai, dan tanggal selesai harus diisi.",variant:"destructive"});return}const kt=rt.find(It=>It.id===ft);if(!kt){toast({title:"Error",description:"Jenis cuti tidak valid.",variant:"destructive"});return}const Pt=new Date(gt),Dt=new Date(xt);if(Pt>Dt){toast({title:"Validasi Gagal",description:"Tanggal mulai tidak boleh setelah tanggal selesai.",variant:"destructive"});return}let Ft=0,Ot=new Date(Pt);for(;Ot<=Dt;){const It=Ot.getDay();It!==0&&It!==6&&Ft++,Ot.setDate(Ot.getDate()+1)}if(Ft<=0){toast({title:"Validasi Gagal",description:"Durasi cuti minimal 1 hari kerja.",variant:"destructive"});return}if(kt.reduces_quota&&st.remaining_quota<Ft){toast({title:"Validasi Gagal",description:`Sisa kuota cuti Anda (${st.remaining_quota} hari) tidak mencukupi untuk ${Ft} hari.`,variant:"destructive"});return}ct(It=>({...It,submit:!0}));try{const{data:It,error:Bt}=await supabase.rpc("generate_leave_request_number");if(Bt)throw Bt;const qt=It,{data:Ut,error:Ht}=await supabase.from("leave_requests").insert({employee_id:et.id,leave_type_id:ft,start_date:gt,end_date:xt,reason:_t,status:"Menunggu Persetujuan",leave_request_number:qt}).select().single();if(Ht)throw Ht;tt({title:"Pengajuan Terkirim!",description:"Pengajuan cuti Anda berhasil dikirim dan sedang menunggu persetujuan.",leaveRequestNumber:qt}),bt(),kt.reduces_quota&&Et(),dt(!1),ht(""),mt(""),vt(""),yt("")}catch(It){toast({title:"Error",description:"Gagal mengirim pengajuan cuti: "+It.message,variant:"destructive"})}finally{ct(It=>({...It,submit:!1}))}},At=()=>{ht(""),mt(""),vt(""),yt(""),dt(!0)};return jsxRuntimeExports.jsxs(Layout,{children:[jsxRuntimeExports.jsxs("div",{className:"space-y-8 ",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"space-y-2",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-teal-600 bg-clip-text text-transparent",children:"Pengajuan Cuti Saya"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Ajukan cuti baru dan lihat histori pengajuan Anda."})]}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},children:jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-xl",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center",children:[jsxRuntimeExports.jsx(Info,{className:"mr-2 h-5 w-5 text-blue-500"}),"Informasi Kuota Cuti Tahunan (",new Date().getFullYear(),")"]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:Et,disabled:lt.quota,children:jsxRuntimeExports.jsx(RefreshCw,{className:`h-4 w-4 ${lt.quota?"animate-spin":""}`})})]}),jsxRuntimeExports.jsx(CardContent,{children:lt.quota?jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Memuat kuota..."}):jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Kuota"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold",children:[st.total_quota," hari"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Kuota Terpakai"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold",children:[st.used_quota," hari"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Sisa Kuota"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-green-500",children:[st.remaining_quota," hari"]})]})]})})]})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-xl",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex md:flex-row flex-col md:items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"Histori Pengajuan Cuti Saya"}),jsxRuntimeExports.jsx(CardDescription,{children:"Daftar semua pengajuan cuti yang pernah Anda buat."})]}),jsxRuntimeExports.jsxs(Button,{onClick:At,className:"bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white",children:[jsxRuntimeExports.jsx(PlusCircle,{className:"mr-2 h-4 w-4"})," Ajukan Cuti Baru"]})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"w-full overflow-x-auto",children:jsxRuntimeExports.jsxs(Table,{className:"min-w-[900px]",children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"No. Cuti"}),jsxRuntimeExports.jsx(TableHead,{children:"Jenis Cuti"}),jsxRuntimeExports.jsx(TableHead,{children:"Tanggal Mulai"}),jsxRuntimeExports.jsx(TableHead,{children:"Tanggal Selesai"}),jsxRuntimeExports.jsx(TableHead,{children:"Status"}),jsxRuntimeExports.jsx(TableHead,{children:"Diajukan Pada"})]})}),jsxRuntimeExports.jsx(TableBody,{children:lt.requests?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:6,className:"text-center",children:"Memuat pengajuan..."})}):at.length===0?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:6,className:"text-center text-muted-foreground",children:"Anda belum pernah mengajukan cuti."})}):at.map(kt=>{var Pt;return jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{className:"whitespace-nowrap",children:kt.leave_request_number||"-"}),jsxRuntimeExports.jsx(TableCell,{className:"whitespace-nowrap",children:((Pt=kt.leave_types)==null?void 0:Pt.name)||"N/A"}),jsxRuntimeExports.jsx(TableCell,{className:"whitespace-nowrap",children:new Date(kt.start_date).toLocaleDateString("id-ID")}),jsxRuntimeExports.jsx(TableCell,{className:"whitespace-nowrap",children:new Date(kt.end_date).toLocaleDateString("id-ID")}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${kt.status==="Disetujui"?"bg-green-100 text-green-700":kt.status==="Ditolak"?"bg-red-100 text-red-700":kt.status==="Dibatalkan"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:kt.status})}),jsxRuntimeExports.jsx(TableCell,{className:"whitespace-nowrap",children:new Date(kt.requested_at).toLocaleString("id-ID")})]},kt.id)})})]})})})]})})]}),jsxRuntimeExports.jsx(Dialog,{open:ut,onOpenChange:dt,children:jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-lg",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Formulir Pengajuan Cuti / Dinas"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Isi detail pengajuan cuti Anda. Pastikan data yang dimasukkan sudah benar."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"leaveType",children:"Jenis Cuti / Dinas"}),jsxRuntimeExports.jsxs(Select,{value:ft,onValueChange:ht,children:[jsxRuntimeExports.jsx(SelectTrigger,{id:"leaveType",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Pilih Jenis Cuti"})}),jsxRuntimeExports.jsx(SelectContent,{children:(rt||[]).filter(kt=>kt&&kt.id).map(kt=>jsxRuntimeExports.jsxs(SelectItem,{value:kt.id,children:[kt.name," (",kt.reduces_quota?"Mengurangi Kuota":"Tidak Mengurangi Kuota",")"]},kt.id))})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"startDate",children:"Tanggal Mulai Cuti"}),jsxRuntimeExports.jsx(Input,{id:"startDate",type:"date",value:gt,onChange:kt=>mt(kt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"endDate",children:"Tanggal Selesai Cuti"}),jsxRuntimeExports.jsx(Input,{id:"endDate",type:"date",value:xt,onChange:kt=>vt(kt.target.value)})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"reason",children:"Alasan Cuti (Opsional)"}),jsxRuntimeExports.jsx(Textarea,{id:"reason",value:_t,onChange:kt=>yt(kt.target.value),placeholder:"Tuliskan alasan pengajuan cuti Anda di sini..."})]}),ft&&((Ct=rt.find(kt=>kt.id===ft))==null?void 0:Ct.reduces_quota)&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-blue-600",children:["Sisa kuota Anda saat ini: ",st.remaining_quota," hari. Pengajuan ini akan mengurangi sisa kuota jika disetujui."]})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>dt(!1),disabled:lt.submit,children:"Batal"}),jsxRuntimeExports.jsxs(Button,{onClick:Tt,className:"bg-gradient-to-r from-green-500 to-teal-600 text-white",disabled:lt.submit,children:[lt.submit?jsxRuntimeExports.jsx(RefreshCw,{className:"mr-2 h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Send,{className:"mr-2 h-4 w-4"}),"Kirim Pengajuan"]})]})]})})]})};function r(et,tt){return tt||(tt=et.slice(0)),et.raw=tt,et}var n=function(){function et(rt){var nt=this;this._insertTag=function(at){nt.container.insertBefore(at,nt.tags.length===0?nt.insertionPoint?nt.insertionPoint.nextSibling:nt.prepend?nt.container.firstChild:nt.before:nt.tags[nt.tags.length-1].nextSibling),nt.tags.push(at)},this.isSpeedy=rt.speedy===void 0?!0:rt.speedy,this.tags=[],this.ctr=0,this.nonce=rt.nonce,this.key=rt.key,this.container=rt.container,this.prepend=rt.prepend,this.insertionPoint=rt.insertionPoint,this.before=null}var tt=et.prototype;return tt.hydrate=function(rt){rt.forEach(this._insertTag)},tt.insert=function(rt){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(it){var st=document.createElement("style");return st.setAttribute("data-emotion",it.key),it.nonce!==void 0&&st.setAttribute("nonce",it.nonce),st.appendChild(document.createTextNode("")),st.setAttribute("data-s",""),st}(this));var nt=this.tags[this.tags.length-1];if(this.isSpeedy){var at=function(it){if(it.sheet)return it.sheet;for(var st=0;st<document.styleSheets.length;st++)if(document.styleSheets[st].ownerNode===it)return document.styleSheets[st]}(nt);try{at.insertRule(rt,at.cssRules.length)}catch{}}else nt.appendChild(document.createTextNode(rt));this.ctr++},tt.flush=function(){this.tags.forEach(function(rt){return rt.parentNode&&rt.parentNode.removeChild(rt)}),this.tags=[],this.ctr=0},et}(),t="-ms-",o="-webkit-",a=Math.abs,i=String.fromCharCode,s=Object.assign;function c(et){return et.trim()}function l(et,tt,rt){return et.replace(tt,rt)}function u(et,tt){return et.indexOf(tt)}function d(et,tt){return 0|et.charCodeAt(tt)}function f(et,tt,rt){return et.slice(tt,rt)}function p(et){return et.length}function h(et){return et.length}function v(et,tt){return tt.push(et),et}var m=1,g=1,y=0,b=0,w=0,k="";function E(et,tt,rt,nt,at,it,st){return{value:et,root:tt,parent:rt,type:nt,props:at,children:it,line:m,column:g,length:st,return:""}}function x(et,tt){return s(E("",null,null,"",null,null,0),et,{length:-et.length},tt)}function N(){return w=b>0?d(k,--b):0,g--,w===10&&(g=1,m--),w}function O(){return w=b<y?d(k,b++):0,g++,w===10&&(g=1,m++),w}function _(){return d(k,b)}function C(){return b}function A(et,tt){return f(k,et,tt)}function $$1(et){switch(et){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function S(et){return m=g=1,y=p(k=et),b=0,[]}function D(et){return k="",et}function V(et){return c(A(b-1,z(et===91?et+2:et===40?et+1:et)))}function I(et){for(;(w=_())&&w<33;)O();return $$1(et)>2||$$1(w)>3?"":" "}function R(et,tt){for(;--tt&&O()&&!(w<48||w>102||w>57&&w<65||w>70&&w<97););return A(et,C()+(tt<6&&_()==32&&O()==32))}function z(et){for(;O();)switch(w){case et:return b;case 34:case 39:et!==34&&et!==39&&z(w);break;case 40:et===41&&z(et);break;case 92:O()}return b}function j(et,tt){for(;O()&&et+w!==57&&(et+w!==84||_()!==47););return"/*"+A(tt,b-1)+"*"+i(et===47?et:O())}function P(et){for(;!$$1(_());)O();return A(et,b)}function T(et){return D(q("",null,null,null,[""],et=S(et),0,[0],et))}function q(et,tt,rt,nt,at,it,st,ot,lt){for(var ct=0,ut=0,dt=st,ft=0,ht=0,gt=0,mt=1,xt=1,vt=1,_t=0,yt="",St=at,bt=it,Et=nt,Tt=yt;xt;)switch(gt=_t,_t=O()){case 40:if(gt!=108&&Tt.charCodeAt(dt-1)==58){u(Tt+=l(V(_t),"&","&\f"),"&\f")!=-1&&(vt=-1);break}case 34:case 39:case 91:Tt+=V(_t);break;case 9:case 10:case 13:case 32:Tt+=I(gt);break;case 92:Tt+=R(C()-1,7);continue;case 47:switch(_()){case 42:case 47:v(M(j(O(),C()),tt,rt),lt);break;default:Tt+="/"}break;case 123*mt:ot[ct++]=p(Tt)*vt;case 125*mt:case 59:case 0:switch(_t){case 0:case 125:xt=0;case 59+ut:ht>0&&p(Tt)-dt&&v(ht>32?Y(Tt+";",nt,rt,dt-1):Y(l(Tt," ","")+";",nt,rt,dt-2),lt);break;case 59:Tt+=";";default:if(v(Et=G(Tt,tt,rt,ct,ut,at,ot,yt,St=[],bt=[],dt),it),_t===123)if(ut===0)q(Tt,tt,Et,Et,St,it,dt,ot,bt);else switch(ft){case 100:case 109:case 115:q(et,Et,Et,nt&&v(G(et,Et,Et,0,0,at,ot,yt,at,St=[],dt),bt),at,bt,dt,ot,nt?St:bt);break;default:q(Tt,Et,Et,Et,[""],bt,0,ot,bt)}}ct=ut=ht=0,mt=vt=1,yt=Tt="",dt=st;break;case 58:dt=1+p(Tt),ht=gt;default:if(mt<1){if(_t==123)--mt;else if(_t==125&&mt++==0&&N()==125)continue}switch(Tt+=i(_t),_t*mt){case 38:vt=ut>0?1:(Tt+="\f",-1);break;case 44:ot[ct++]=(p(Tt)-1)*vt,vt=1;break;case 64:_()===45&&(Tt+=V(O())),ft=_(),ut=dt=p(yt=Tt+=P(C())),_t++;break;case 45:gt===45&&p(Tt)==2&&(mt=0)}}return it}function G(et,tt,rt,nt,at,it,st,ot,lt,ct,ut){for(var dt=at-1,ft=at===0?it:[""],ht=h(ft),gt=0,mt=0,xt=0;gt<nt;++gt)for(var vt=0,_t=f(et,dt+1,dt=a(mt=st[gt])),yt=et;vt<ht;++vt)(yt=c(mt>0?ft[vt]+" "+_t:l(_t,/&\f/g,ft[vt])))&&(lt[xt++]=yt);return E(et,tt,rt,at===0?"rule":ot,lt,ct,ut)}function M(et,tt,rt){return E(et,tt,rt,"comm",i(w),f(et,2,-2),0)}function Y(et,tt,rt,nt){return E(et,tt,rt,"decl",f(et,0,nt),f(et,nt+1,-1),nt)}function W(et,tt){switch(function(rt,nt){return(((nt<<2^d(rt,0))<<2^d(rt,1))<<2^d(rt,2))<<2^d(rt,3)}(et,tt)){case 5103:return o+"print-"+et+et;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return o+et+et;case 5349:case 4246:case 4810:case 6968:case 2756:return o+et+"-moz-"+et+t+et+et;case 6828:case 4268:return o+et+t+et+et;case 6165:return o+et+t+"flex-"+et+et;case 5187:return o+et+l(et,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+et;case 5443:return o+et+t+"flex-item-"+l(et,/flex-|-self/,"")+et;case 4675:return o+et+t+"flex-line-pack"+l(et,/align-content|flex-|-self/,"")+et;case 5548:return o+et+t+l(et,"shrink","negative")+et;case 5292:return o+et+t+l(et,"basis","preferred-size")+et;case 6060:return o+"box-"+l(et,"-grow","")+o+et+t+l(et,"grow","positive")+et;case 4554:return o+l(et,/([^-])(transform)/g,"$1-webkit-$2")+et;case 6187:return l(l(l(et,/(zoom-|grab)/,o+"$1"),/(image-set)/,o+"$1"),et,"")+et;case 5495:case 3959:return l(et,/(image-set\([^]*)/,o+"$1$`$1");case 4968:return l(l(et,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+o+et+et;case 4095:case 3583:case 4068:case 2532:return l(et,/(.+)-inline(.+)/,o+"$1$2")+et;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(p(et)-1-tt>6)switch(d(et,tt+1)){case 109:if(d(et,tt+4)!==45)break;case 102:return l(et,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1-moz-"+(d(et,tt+3)==108?"$3":"$2-$3"))+et;case 115:return~u(et,"stretch")?W(l(et,"stretch","fill-available"),tt)+et:et}break;case 4949:if(d(et,tt+1)!==115)break;case 6444:switch(d(et,p(et)-3-(~u(et,"!important")&&10))){case 107:return l(et,":",":"+o)+et;case 101:return l(et,/(.+:)([^;!]+)(;|!.+)?/,"$1"+o+(d(et,14)===45?"inline-":"")+"box$3$1"+o+"$2$3$1"+t+"$2box$3")+et}break;case 5936:switch(d(et,tt+11)){case 114:return o+et+t+l(et,/[svh]\w+-[tblr]{2}/,"tb")+et;case 108:return o+et+t+l(et,/[svh]\w+-[tblr]{2}/,"tb-rl")+et;case 45:return o+et+t+l(et,/[svh]\w+-[tblr]{2}/,"lr")+et}return o+et+t+et+et}return et}function L$2(et,tt){for(var rt="",nt=h(et),at=0;at<nt;at++)rt+=tt(et[at],at,et,tt)||"";return rt}function U(et,tt,rt,nt){switch(et.type){case"@import":case"decl":return et.return=et.return||et.value;case"comm":return"";case"@keyframes":return et.return=et.value+"{"+L$2(et.children,nt)+"}";case"rule":et.value=et.props.join(",")}return p(rt=L$2(et.children,nt))?et.return=et.value+"{"+rt+"}":""}function B(et){var tt=Object.create(null);return function(rt){return tt[rt]===void 0&&(tt[rt]=et(rt)),tt[rt]}}var F=function(et,tt,rt){for(var nt=0,at=0;nt=at,at=_(),nt===38&&at===12&&(tt[rt]=1),!$$1(at);)O();return A(et,b)},H=new WeakMap,J=function(et){if(et.type==="rule"&&et.parent&&!(et.length<1)){for(var tt=et.value,rt=et.parent,nt=et.column===rt.column&&et.line===rt.line;rt.type!=="rule";)if(!(rt=rt.parent))return;if((et.props.length!==1||tt.charCodeAt(0)===58||H.get(rt))&&!nt){H.set(et,!0);for(var at=[],it=function(ut,dt){return D(function(ft,ht){var gt=-1,mt=44;do switch($$1(mt)){case 0:mt===38&&_()===12&&(ht[gt]=1),ft[gt]+=F(b-1,ht,gt);break;case 2:ft[gt]+=V(mt);break;case 4:if(mt===44){ft[++gt]=_()===58?"&\f":"",ht[gt]=ft[gt].length;break}default:ft[gt]+=i(mt)}while(mt=O());return ft}(S(ut),dt))}(tt,at),st=rt.props,ot=0,lt=0;ot<it.length;ot++)for(var ct=0;ct<st.length;ct++,lt++)et.props[lt]=at[ot]?it[ot].replace(/&\f/g,st[ct]):st[ct]+" "+it[ot]}}},K=function(et){if(et.type==="decl"){var tt=et.value;tt.charCodeAt(0)===108&&tt.charCodeAt(2)===98&&(et.return="",et.value="")}},re=[function(et,tt,rt,nt){if(et.length>-1&&!et.return)switch(et.type){case"decl":et.return=W(et.value,et.length);break;case"@keyframes":return L$2([x(et,{value:l(et.value,"@","@"+o)})],nt);case"rule":if(et.length)return function(at,it){return at.map(it).join("")}(et.props,function(at){switch(function(it,st){return(it=/(::plac\w+|:read-\w+)/.exec(it))?it[0]:it}(at)){case":read-only":case":read-write":return L$2([x(et,{props:[l(at,/:(read-\w+)/,":-moz-$1")]})],nt);case"::placeholder":return L$2([x(et,{props:[l(at,/:(plac\w+)/,":-webkit-input-$1")]}),x(et,{props:[l(at,/:(plac\w+)/,":-moz-$1")]}),x(et,{props:[l(at,/:(plac\w+)/,t+"input-$1")]})],nt)}return""})}}],ne={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},oe=/[A-Z]|^ms/g,ae=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ie=function(et){return et.charCodeAt(1)===45},se=function(et){return et!=null&&typeof et!="boolean"},ce=B(function(et){return ie(et)?et:et.replace(oe,"-$&").toLowerCase()}),le=function(et,tt){switch(et){case"animation":case"animationName":if(typeof tt=="string")return tt.replace(ae,function(rt,nt,at){return be={name:nt,styles:at,next:be},nt})}return ne[et]===1||ie(et)||typeof tt!="number"||tt===0?tt:tt+"px"},me="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function ge(et,tt,rt){if(rt==null)return"";if(rt.__emotion_styles!==void 0)return rt;switch(typeof rt){case"boolean":return"";case"object":if(rt.anim===1)return be={name:rt.name,styles:rt.styles,next:be},rt.name;if(rt.styles!==void 0){var nt=rt.next;if(nt!==void 0)for(;nt!==void 0;)be={name:nt.name,styles:nt.styles,next:be},nt=nt.next;var at=rt.styles+";";return at}return function(lt,ct,ut){var dt="";if(Array.isArray(ut))for(var ft=0;ft<ut.length;ft++)dt+=ge(lt,ct,ut[ft])+";";else for(var ht in ut){var gt=ut[ht];if(typeof gt!="object")ct!=null&&ct[gt]!==void 0?dt+=ht+"{"+ct[gt]+"}":se(gt)&&(dt+=ce(ht)+":"+le(ht,gt)+";");else if(!Array.isArray(gt)||typeof gt[0]!="string"||ct!=null&&ct[gt[0]]!==void 0){var mt=ge(lt,ct,gt);switch(ht){case"animation":case"animationName":dt+=ce(ht)+":"+mt+";";break;default:dt+=ht+"{"+mt+"}"}}else for(var xt=0;xt<gt.length;xt++)se(gt[xt])&&(dt+=ce(ht)+":"+le(ht,gt[xt])+";")}return dt}(et,tt,rt);case"function":if(et!==void 0){var it=be,st=rt(et);return be=it,ge(et,tt,st)}break}if(tt==null)return rt;var ot=tt[rt];return ot!==void 0?ot:rt}var be,we=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ke=function(et,tt,rt){if(et.length===1&&typeof et[0]=="object"&&et[0]!==null&&et[0].styles!==void 0)return et[0];var nt=!0,at="";be=void 0;var it=et[0];it==null||it.raw===void 0?(nt=!1,at+=ge(rt,tt,it)):at+=it[0];for(var st=1;st<et.length;st++)at+=ge(rt,tt,et[st]),nt&&(at+=it[st]);we.lastIndex=0;for(var ot,lt="";(ot=we.exec(at))!==null;)lt+="-"+ot[1];var ct=function(ut){for(var dt,ft=0,ht=0,gt=ut.length;gt>=4;++ht,gt-=4)dt=1540483477*(65535&(dt=255&ut.charCodeAt(ht)|(255&ut.charCodeAt(++ht))<<8|(255&ut.charCodeAt(++ht))<<16|(255&ut.charCodeAt(++ht))<<24))+(59797*(dt>>>16)<<16),ft=1540483477*(65535&(dt^=dt>>>24))+(59797*(dt>>>16)<<16)^1540483477*(65535&ft)+(59797*(ft>>>16)<<16);switch(gt){case 3:ft^=(255&ut.charCodeAt(ht+2))<<16;case 2:ft^=(255&ut.charCodeAt(ht+1))<<8;case 1:ft=1540483477*(65535&(ft^=255&ut.charCodeAt(ht)))+(59797*(ft>>>16)<<16)}return(((ft=1540483477*(65535&(ft^=ft>>>13))+(59797*(ft>>>16)<<16))^ft>>>15)>>>0).toString(36)}(at)+lt;return{name:ct,styles:at,next:be}};function Ee(et,tt,rt){var nt="";return rt.split(" ").forEach(function(at){et[at]!==void 0?tt.push(et[at]+";"):nt+=at+" "}),nt}var xe=function(et,tt,rt){(function(it,st,ot){var lt=it.key+"-"+st.name;ot===!1&&it.registered[lt]===void 0&&(it.registered[lt]=st.styles)})(et,tt,rt);var nt=et.key+"-"+tt.name;if(et.inserted[tt.name]===void 0){var at=tt;do et.insert(tt===at?"."+nt:"",at,et.sheet,!0),at=at.next;while(at!==void 0)}};function Ne(et,tt){if(et.inserted[tt.name]===void 0)return et.insert("",tt,et.sheet,!0)}function Oe(et,tt,rt){var nt=[],at=Ee(et,nt,rt);return nt.length<2?rt:at+tt(nt)}var _e,Ce,Ae,$e,Se,De=function et(tt){for(var rt="",nt=0;nt<tt.length;nt++){var at=tt[nt];if(at!=null){var it=void 0;switch(typeof at){case"boolean":break;case"object":if(Array.isArray(at))it=et(at);else for(var st in it="",at)at[st]&&st&&(it&&(it+=" "),it+=st);break;default:it=at}it&&(rt&&(rt+=" "),rt+=it)}}return rt},Ve=function(et){var tt=function(nt){var at=nt.key;if(at==="css"){var it=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(it,function(vt){vt.getAttribute("data-emotion").indexOf(" ")!==-1&&(document.head.appendChild(vt),vt.setAttribute("data-s",""))})}var st=nt.stylisPlugins||re,ot,lt,ct={},ut=[];ot=nt.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+at+' "]'),function(vt){for(var _t=vt.getAttribute("data-emotion").split(" "),yt=1;yt<_t.length;yt++)ct[_t[yt]]=!0;ut.push(vt)});var dt=[J,K],ft,ht,gt=[U,(ht=function(vt){ft.insert(vt)},function(vt){vt.root||(vt=vt.return)&&ht(vt)})],mt=function(vt){var _t=h(vt);return function(yt,St,bt,Et){for(var Tt="",At=0;At<_t;At++)Tt+=vt[At](yt,St,bt,Et)||"";return Tt}}(dt.concat(st,gt));lt=function(vt,_t,yt,St){ft=yt,L$2(T(vt?vt+"{"+_t.styles+"}":_t.styles),mt),St&&(xt.inserted[_t.name]=!0)};var xt={key:at,sheet:new n({key:at,container:ot,nonce:nt.nonce,speedy:nt.speedy,prepend:nt.prepend,insertionPoint:nt.insertionPoint}),nonce:nt.nonce,inserted:ct,registered:{},insert:lt};return xt.sheet.hydrate(ut),xt}({key:"css"});tt.sheet.speedy=function(nt){this.isSpeedy=nt},tt.compat=!0;var rt=function(){for(var nt=arguments.length,at=new Array(nt),it=0;it<nt;it++)at[it]=arguments[it];var st=ke(at,tt.registered,void 0);return xe(tt,st,!1),tt.key+"-"+st.name};return{css:rt,cx:function(){for(var nt=arguments.length,at=new Array(nt),it=0;it<nt;it++)at[it]=arguments[it];return Oe(tt.registered,rt,De(at))},injectGlobal:function(){for(var nt=arguments.length,at=new Array(nt),it=0;it<nt;it++)at[it]=arguments[it];var st=ke(at,tt.registered);Ne(tt,st)},keyframes:function(){for(var nt=arguments.length,at=new Array(nt),it=0;it<nt;it++)at[it]=arguments[it];var st=ke(at,tt.registered),ot="animation-"+st.name;return Ne(tt,{name:st.name,styles:"@keyframes "+ot+"{"+st.styles+"}"}),ot},hydrate:function(nt){nt.forEach(function(at){tt.inserted[at]=!0})},flush:function(){tt.registered={},tt.inserted={},tt.sheet.flush()},sheet:tt.sheet,cache:tt,getRegisteredStyles:Ee.bind(null,tt.registered),merge:Oe.bind(null,tt.registered,rt)}}(),Ie=Ve.cx,Re=Ve.css,ze=Re(_e||(_e=r([`
  content: '';
  position: absolute;
  top: 0;
  height: var(--tree-line-height);
  box-sizing: border-box;
`]))),je=Re(Ce||(Ce=r([`
  display: flex;
  padding-inline-start: 0;
  margin: 0;
  padding-top: var(--tree-line-height);
  position: relative;

  ::before {
    `,`;
    left: calc(50% - var(--tree-line-width) / 2);
    width: 0;
    border-left: var(--tree-line-width) var(--tree-node-line-style)
      var(--tree-line-color);
  }
`])),ze),Pe=Re(Ae||(Ae=r([`
  flex: auto;
  text-align: center;
  list-style-type: none;
  position: relative;
  padding: var(--tree-line-height) var(--tree-node-padding) 0
    var(--tree-node-padding);
`]))),Te=Re($e||($e=r([`
  ::before,
  ::after {
    `,`;
    right: 50%;
    width: 50%;
    border-top: var(--tree-line-width) var(--tree-node-line-style)
      var(--tree-line-color);
  }
  ::after {
    left: 50%;
    border-left: var(--tree-line-width) var(--tree-node-line-style)
      var(--tree-line-color);
  }

  :only-of-type {
    padding: 0;
    ::after,
    :before {
      display: none;
    }
  }

  :first-of-type {
    ::before {
      border: 0 none;
    }
    ::after {
      border-radius: var(--tree-line-border-radius) 0 0 0;
    }
  }

  :last-of-type {
    ::before {
      border-right: var(--tree-line-width) var(--tree-node-line-style)
        var(--tree-line-color);
      border-radius: 0 var(--tree-line-border-radius) 0 0;
    }
    ::after {
      border: 0 none;
    }
  }
`])),ze);function qe(et){var tt=et.children,rt=et.label;return reactExports.createElement("li",{className:Ie(Pe,Te,et.className)},rt,reactExports.Children.count(tt)>0&&reactExports.createElement("ul",{className:je},tt))}function Ge(et){var tt=et.children,rt=et.label,nt=et.lineHeight,at=nt===void 0?"20px":nt,it=et.lineWidth,st=it===void 0?"1px":it,ot=et.lineColor,lt=ot===void 0?"black":ot,ct=et.nodePadding,ut=ct===void 0?"5px":ct,dt=et.lineStyle,ft=dt===void 0?"solid":dt,ht=et.lineBorderRadius,gt=ht===void 0?"5px":ht;return reactExports.createElement("ul",{className:Re(Se||(Se=r([`
        padding-inline-start: 0;
        margin: 0;
        display: flex;

        --line-height: `,`;
        --line-width: `,`;
        --line-color: `,`;
        --line-border-radius: `,`;
        --line-style: `,`;
        --node-padding: `,`;

        --tree-line-height: var(--line-height, 20px);
        --tree-line-width: var(--line-width, 1px);
        --tree-line-color: var(--line-color, black);
        --tree-line-border-radius: var(--line-border-radius, 5px);
        --tree-node-line-style: var(--line-style, solid);
        --tree-node-padding: var(--node-padding, 5px);
      `])),at,st,lt,gt,ft,ut)},reactExports.createElement(qe,{label:rt},tt))}const OrgChartNode=({node:et,onNodeClick:tt,onEditEmployee:rt})=>{var st;const nt=!!et.nik,at=nt?"bg-blue-500 dark:bg-blue-700":"bg-purple-500 dark:bg-purple-700",it="text-white";return jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3},className:`p-3 rounded-lg shadow-lg cursor-pointer hover:shadow-xl transition-shadow min-w-[200px] ${at} ${it}`,onClick:()=>tt(et),children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[nt&&jsxRuntimeExports.jsxs(Avatar,{className:"w-10 h-10 border-2 border-white",children:[jsxRuntimeExports.jsx(AvatarImage,{src:et.photo}),jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-white text-blue-600",children:((st=et.name)==null?void 0:st.charAt(0))||"K"})]}),!nt&&jsxRuntimeExports.jsx("div",{className:"p-2 bg-white/20 rounded-full",children:jsxRuntimeExports.jsx(Building,{className:"h-6 w-6"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:`font-bold ${nt?"text-base":"text-lg"}`,children:et.name}),nt&&jsxRuntimeExports.jsx("p",{className:"text-xs opacity-80",children:et.position}),!nt&&jsxRuntimeExports.jsx("p",{className:"text-xs opacity-80",children:et.workLocation||"Lokasi Tidak Diketahui"})]}),nt&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:ot=>{ot.stopPropagation(),rt(et)},children:jsxRuntimeExports.jsx(PenSquare,{className:"h-4 w-4"})})]})})},AdminOrgChart=()=>{const{user:et}=useAuth(),[tt,rt]=reactExports.useState([]),[nt,at]=reactExports.useState(!0),[it,st]=reactExports.useState(null),[ot,lt]=reactExports.useState(null),[ct,ut]=reactExports.useState(!1),[dt,ft]=reactExports.useState(null),[ht,gt]=reactExports.useState({}),[mt,xt]=reactExports.useState([]),[vt,_t]=reactExports.useState([]),yt=useNavigate(),St=reactExports.useCallback(async()=>{at(!0);try{const Pt=await getEmployees("name",!0);rt(Pt),Et(Pt)}catch(Pt){toast({title:"Error",description:"Gagal memuat data karyawan: "+Pt.message,variant:"destructive"})}finally{at(!1)}},[]),bt=reactExports.useCallback(async()=>{try{const{data:Pt,error:Dt}=await supabase.from("divisions").select("name").order("name");if(Dt)throw Dt;xt(Pt.map(It=>It.name));const{data:Ft,error:Ot}=await supabase.from("job_positions").select("name").order("name");if(Ot)throw Ot;_t(Ft.map(It=>It.name))}catch(Pt){toast({title:"Error",description:"Gagal memuat data konfigurasi: "+Pt.message,variant:"destructive"})}},[]);reactExports.useEffect(()=>{St(),bt()},[St,bt]);const Et=Pt=>{if(!Pt||Pt.length===0){st({name:"Perusahaan",children:[]});return}const Dt=new Map;Pt.forEach(Ot=>{const It=Ot.workLocation||"Lainnya";Dt.has(It)||Dt.set(It,new Map);const Bt=Dt.get(It),qt=Ot.division||"Lainnya";Bt.has(qt)||Bt.set(qt,[]),Bt.get(qt).push(Ot)});const Ft={name:"PT. Famika Tunas Mandiri",isCompany:!0,children:Array.from(Dt.entries()).map(([Ot,It])=>({name:Ot,isLocation:!0,workLocation:Ot,children:Array.from(It.entries()).map(([Bt,qt])=>({name:Bt,isDivision:!0,workLocation:Ot,employeesCount:qt.length,children:qt.map(Ut=>({...Ut,isEmployee:!0}))}))}))};st(Ft)},Tt=Pt=>{lt(Pt),Pt.isDivision&&gt(Dt=>({...Dt,[`${Pt.workLocation}-${Pt.name}`]:!Dt[`${Pt.workLocation}-${Pt.name}`]}))},At=Pt=>{ft(Pt),ut(!0)},Ct=async Pt=>{try{await updateEmployee(Pt,et,dt),toast({title:"Sukses",description:"Data karyawan berhasil diperbarui."}),ut(!1),ft(null),St()}catch(Dt){toast({title:"Error",description:`Gagal memperbarui karyawan: ${Dt.message}`,variant:"destructive"})}},kt=Pt=>{if(!Pt)return null;const Dt=Pt.isDivision?`${Pt.workLocation}-${Pt.name}`:Pt.name,Ft=Pt.isDivision?!!ht[Dt]:!0;return jsxRuntimeExports.jsx(qe,{label:jsxRuntimeExports.jsx(OrgChartNode,{node:Pt,onNodeClick:Tt,onEditEmployee:At}),children:Ft&&Pt.children&&Pt.children.map((Ot,It)=>jsxRuntimeExports.jsx(React$1.Fragment,{children:kt(Ot)},It))})};return nt?jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary"})})}):jsxRuntimeExports.jsxs(Layout,{children:[jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Struktur Organisasi"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Visualisasi hierarki perusahaan, divisi, dan karyawan. Klik node untuk detail atau edit."})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx(motion.div,{className:"md:col-span-2 overflow-x-auto p-4 glass-effect rounded-lg shadow-xl",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:it?jsxRuntimeExports.jsx(Ge,{lineWidth:"2px",lineColor:"#a1a1aa",lineBorderRadius:"10px",label:jsxRuntimeExports.jsx(OrgChartNode,{node:it,onNodeClick:Tt,onEditEmployee:At}),children:it.children&&it.children.map((Pt,Dt)=>jsxRuntimeExports.jsx(qe,{label:jsxRuntimeExports.jsx(OrgChartNode,{node:Pt,onNodeClick:Tt,onEditEmployee:At}),children:Pt.children&&Pt.children.map((Ft,Ot)=>kt(Ft))},`loc-${Dt}`))}):jsxRuntimeExports.jsx("p",{className:"text-center text-muted-foreground py-10",children:"Tidak ada data untuk ditampilkan."})}),jsxRuntimeExports.jsx(motion.div,{className:"md:col-span-1",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-xl sticky top-6",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Detail Node"}),jsxRuntimeExports.jsx(CardDescription,{children:"Informasi lebih lanjut tentang item yang dipilih."})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-3 min-h-[200px]",children:ot?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-primary",children:ot.name}),ot.isCompany&&jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[jsxRuntimeExports.jsx(Building,{className:"inline mr-2 h-4 w-4"}),"Entitas Perusahaan Utama"]}),ot.isLocation&&jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[jsxRuntimeExports.jsx(MapPin,{className:"inline mr-2 h-4 w-4"}),"Lokasi Kerja: ",ot.workLocation]}),ot.isDivision&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[jsxRuntimeExports.jsx(Briefcase,{className:"inline mr-2 h-4 w-4"}),"Divisi di ",ot.workLocation]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[jsxRuntimeExports.jsx(Users,{className:"inline mr-2 h-4 w-4"}),"Jumlah Karyawan: ",ot.employeesCount]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>Tt(ot),variant:"outline",size:"sm",className:"mt-2",children:[ht[`${ot.workLocation}-${ot.name}`]?jsxRuntimeExports.jsx(ChevronDown,{className:"mr-2 h-4 w-4"}):jsxRuntimeExports.jsx(ChevronRight,{className:"mr-2 h-4 w-4"}),ht[`${ot.workLocation}-${ot.name}`]?"Sembunyikan Karyawan":"Tampilkan Karyawan"]})]}),ot.isEmployee&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[jsxRuntimeExports.jsx(Briefcase,{className:"inline mr-2 h-4 w-4"}),"Jabatan: ",ot.position]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[jsxRuntimeExports.jsx(MapPin,{className:"inline mr-2 h-4 w-4"}),"Lokasi: ",ot.workLocation]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["NIK: ",ot.nik]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["Email: ",ot.email||"-"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["Telepon: ",ot.phone||"-"]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2 mt-3",children:[jsxRuntimeExports.jsxs(Button,{onClick:()=>At(ot),size:"sm",className:"bg-gradient-to-r from-blue-500 to-purple-600",children:[jsxRuntimeExports.jsx(PenSquare,{className:"mr-2 h-4 w-4"})," Edit Karyawan"]}),jsxRuntimeExports.jsx(Button,{onClick:()=>yt(`/admin/employees/${ot.id}`),size:"sm",variant:"outline",children:"Lihat Detail Lengkap"})]})]})]}):jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Pilih node dari struktur organisasi untuk melihat detailnya."})})]})})]})]}),dt&&jsxRuntimeExports.jsx(EmployeeFormDialog,{isOpen:ct,onOpenChange:ut,onSubmit:Ct,initialData:dt,editingEmployee:dt,divisions:mt,statuses,genders,jobPositions:vt})]})},AttendanceFilterBar=({filterDate:et,setFilterDate:tt,filterEmployee:rt,setFilterEmployee:nt,searchTerm:at,setSearchTerm:it,employees:st,onClearFilters:ot})=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4 ",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"filterDate",children:"Tanggal"}),jsxRuntimeExports.jsx(Input,{id:"filterDate",type:"date",value:et,onChange:lt=>tt(lt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"searchTermRecap",children:"Cari Karyawan (Nama/NIK)"}),jsxRuntimeExports.jsx(Input,{id:"searchTermRecap",placeholder:"Ketik untuk mencari...",value:at,onChange:lt=>it(lt.target.value),className:"pl-10"}),jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-11 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]}),typeof ot=="function"&&jsxRuntimeExports.jsx(Button,{onClick:ot,variant:"outline",children:"Reset Filter"})]}),SortableTh$1=({label:et,column:tt,sort:rt,onSortChange:nt})=>{const at=rt.key===tt,it=at?rt.direction:"asc";return jsxRuntimeExports.jsx(TableHead,{onClick:()=>nt({key:tt,direction:at&&it==="asc"?"desc":"asc"}),className:"cursor-pointer select-none hover:text-primary whitespace-nowrap",children:jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1",children:[et,jsxRuntimeExports.jsx("span",{className:`text-xs ${at?"opacity-100":"opacity-30"}`,children:it==="asc"?"":""})]})})},SkeletonRow=()=>jsxRuntimeExports.jsx(TableRow,{className:"animate-pulse",children:Array.from({length:10}).map((et,tt)=>jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx("div",{className:"h-4 w-full rounded bg-muted"})},tt))}),AttendanceTable=({records:et,loading:tt,onEdit:rt,onDelete:nt,sort:at,onSortChange:it,pageSize:st,onPageSizeChange:ot})=>{const{user:lt}=useAuth(),ut=(lt==null?void 0:lt.role)==="Super Admin";return jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-end mb-3 gap-4 flex-wrap",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 px-4 py-1",children:[jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Rows:"}),jsxRuntimeExports.jsxs(Select,{value:String(st),onValueChange:dt=>ot(Number(dt)),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[90px]",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsx(SelectContent,{children:[10,20,50,100].map(dt=>jsxRuntimeExports.jsx(SelectItem,{value:String(dt),children:dt},dt))})]})]})}),jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(SortableTh$1,{label:"Tanggal",column:"date",sort:at,onSortChange:it}),jsxRuntimeExports.jsx(SortableTh$1,{label:"Nama Karyawan",column:"name",sort:at,onSortChange:it}),jsxRuntimeExports.jsx(SortableTh$1,{label:"NIK",column:"nik",sort:at,onSortChange:it}),jsxRuntimeExports.jsx(TableHead,{children:"Direct PM"}),jsxRuntimeExports.jsx(SortableTh$1,{label:"Check In",column:"checkin",sort:at,onSortChange:it}),jsxRuntimeExports.jsx(TableHead,{children:"Check Out"}),jsxRuntimeExports.jsx(TableHead,{children:"Status"}),jsxRuntimeExports.jsx(TableHead,{children:"Catatan"}),jsxRuntimeExports.jsx(TableHead,{children:"Lokasi"}),ut&&jsxRuntimeExports.jsx(TableHead,{children:"Aksi"})]})}),jsxRuntimeExports.jsx(TableBody,{children:tt?Array.from({length:10}).map((dt,ft)=>jsxRuntimeExports.jsx(SkeletonRow,{},ft)):et.length===0?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:ut?10:9,className:"text-center py-6 text-muted-foreground",children:"Tidak ada catatan absensi untuk filter ini."})}):et.map(dt=>{var ft,ht,gt,mt;return jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:new Date(dt.attendance_date).toLocaleDateString("id-ID",{timeZone:"UTC"})}),jsxRuntimeExports.jsx(TableCell,{children:((ft=dt.employee)==null?void 0:ft.name)||"N/A"}),jsxRuntimeExports.jsx(TableCell,{children:((ht=dt.employee)==null?void 0:ht.nik)||"N/A"}),jsxRuntimeExports.jsx(TableCell,{children:((gt=dt.direct_pm)==null?void 0:gt.name)||"N/A"}),jsxRuntimeExports.jsx(TableCell,{children:dt.check_in_time?new Date(dt.check_in_time).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"-"}),jsxRuntimeExports.jsx(TableCell,{children:dt.check_out_time?new Date(dt.check_out_time).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"-"}),jsxRuntimeExports.jsx(TableCell,{children:((mt=dt.attendance_statuses)==null?void 0:mt.name)||(dt.check_in_time?"Hadir":"-")}),jsxRuntimeExports.jsx(TableCell,{children:dt.notes||"-"}),jsxRuntimeExports.jsxs(TableCell,{className:"space-y-1",children:[dt.loc_checkin&&jsxRuntimeExports.jsx("a",{href:`https://www.google.com/maps?q=${dt.loc_checkin.lat},${dt.loc_checkin.lng}`,target:"_blank",rel:"noopener noreferrer",className:"block text-green-600 hover:underline",children:"Check-In"}),dt.loc_checkout&&jsxRuntimeExports.jsx("a",{href:`https://www.google.com/maps?q=${dt.loc_checkout.lat},${dt.loc_checkout.lng}`,target:"_blank",rel:"noopener noreferrer",className:"block text-red-600 hover:underline",children:"Check-Out"}),!dt.loc_checkin&&!dt.loc_checkout&&"-"]}),ut&&jsxRuntimeExports.jsxs(TableCell,{children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>rt(dt),className:"hover:text-blue-500 mr-2",children:jsxRuntimeExports.jsx(Pen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>nt(dt.id),className:"hover:text-red-500",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]},dt.id)})})]})]})},getWorkDuration$1=(et,tt)=>{if(!et||!tt)return"-";const rt=new Date(et),nt=new Date(tt);rt.setSeconds(0,0),nt.setSeconds(0,0);const at=nt-rt;if(at<=0)return"0 jam 0 menit";const it=Math.floor(at/6e4),st=Math.floor(it/60),ot=it%60;return`${st} jam ${ot} menit`},SortableTh=({label:et,column:tt,sort:rt,onSortChange:nt})=>{const at=rt.key===tt,it=at?rt.direction:"asc";return jsxRuntimeExports.jsx(TableHead,{onClick:()=>nt({key:tt,direction:at&&it==="asc"?"desc":"asc"}),className:"cursor-pointer select-none hover:text-primary whitespace-nowrap",children:jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1",children:[et,jsxRuntimeExports.jsx("span",{className:`text-xs ${at?"opacity-100":"opacity-30"}`,children:it==="asc"?"":""})]})})},AttendanceReportTable=({records:et,loading:tt,sort:rt,onSortChange:nt,page:at,pageSize:it,totalRecords:st,onPageSizeChange:ot})=>jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[jsxRuntimeExports.jsx("div",{className:"flex my-2 p-1 items-center justify-end gap-3 mb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Rows:"}),jsxRuntimeExports.jsxs(Select,{value:String(it),onValueChange:lt=>ot(Number(lt)),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[80px] h-8",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsx(SelectContent,{children:[10,25,50,100].map(lt=>jsxRuntimeExports.jsx(SelectItem,{value:String(lt),children:lt},lt))})]})]})}),jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(SortableTh,{label:"Nama Karyawan",column:"name",sort:rt,onSortChange:nt}),jsxRuntimeExports.jsx(TableHead,{children:"NIK"}),jsxRuntimeExports.jsx(SortableTh,{label:"Direct PM",column:"direct_pm",sort:rt,onSortChange:nt}),jsxRuntimeExports.jsx(TableHead,{children:"Keterangan/Project"}),jsxRuntimeExports.jsx(TableHead,{children:"Tanggal"}),jsxRuntimeExports.jsx(SortableTh,{label:"Check In",column:"checkin",sort:rt,onSortChange:nt}),jsxRuntimeExports.jsx(SortableTh,{label:"Check Out",column:"checkout",sort:rt,onSortChange:nt}),jsxRuntimeExports.jsx(TableHead,{children:"Status"}),jsxRuntimeExports.jsx(SortableTh,{label:"Total Jam Kerja",column:"workhours",sort:rt,onSortChange:nt})]})}),jsxRuntimeExports.jsx(TableBody,{children:tt?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:8,className:"text-center",children:"Memuat..."})}):et.length===0?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:8,className:"text-center",children:"Tidak ada data."})}):et.map(lt=>{var ct,ut,dt,ft;return jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:((ct=lt.employee)==null?void 0:ct.name)||"N/A"}),jsxRuntimeExports.jsx(TableCell,{children:((ut=lt.employee)==null?void 0:ut.nik)||"N/A"}),jsxRuntimeExports.jsx(TableCell,{children:((dt=lt.direct_pm)==null?void 0:dt.name)||"N/A"}),jsxRuntimeExports.jsx(TableCell,{children:lt.project||"N/A"}),jsxRuntimeExports.jsx(TableCell,{children:lt.attendance_date&&!isNaN(new Date(lt.attendance_date).getTime())?new Date(lt.attendance_date).toLocaleDateString("id-ID"):"N/A"}),jsxRuntimeExports.jsx(TableCell,{children:lt.check_in_time?new Date(lt.check_in_time).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"belum Check-in"}),jsxRuntimeExports.jsx(TableCell,{children:lt.check_out_time?new Date(lt.check_out_time).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"-"}),jsxRuntimeExports.jsx(TableCell,{children:((ft=lt.attendance_statuses)==null?void 0:ft.name)||(lt.check_in_time?"Hadir":"-")}),jsxRuntimeExports.jsx(TableCell,{children:lt.check_in_time&&lt.check_out_time?getWorkDuration$1(lt.check_in_time,lt.check_out_time):"-"})]},lt.id)})})]})]}),ManualAttendanceDialog=({isOpen:et,onOpenChange:tt,editingRecord:rt,manualInputData:nt,handleManualInputChange:at,handleSelectChange:it,employees:st,attendanceStatuses:ot,onSubmit:lt,loadingSubmit:ct})=>jsxRuntimeExports.jsx(Dialog,{open:et,onOpenChange:tt,children:jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-md",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:rt?"Edit Absensi":"Input Absensi Manual"}),jsxRuntimeExports.jsx(DialogDescription,{children:rt?"Perbarui detail absensi karyawan.":"Catat absensi baru untuk karyawan."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 py-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"employee_id",children:"Karyawan"}),jsxRuntimeExports.jsxs(Select,{name:"employee_id",value:nt.employee_id||void 0,onValueChange:ut=>it("employee_id",ut),disabled:!!rt,children:[jsxRuntimeExports.jsx(SelectTrigger,{id:"employee_id",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Pilih Karyawan"})}),jsxRuntimeExports.jsx(SelectContent,{children:(st||[]).filter(ut=>ut&&ut.id).map(ut=>jsxRuntimeExports.jsxs(SelectItem,{value:ut.id,children:[ut.name," (",ut.nik,")"]},ut.id))})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"attendance_date",children:"Tanggal Absensi"}),jsxRuntimeExports.jsx(Input,{id:"attendance_date",name:"attendance_date",type:"date",value:nt.attendance_date,onChange:at,disabled:!!rt})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"check_in_time",children:"Jam Check-In"}),jsxRuntimeExports.jsx(Input,{id:"check_in_time",name:"check_in_time",type:"time",value:nt.check_in_time,onChange:at})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"check_out_time",children:"Jam Check-Out"}),jsxRuntimeExports.jsx(Input,{id:"check_out_time",name:"check_out_time",type:"time",value:nt.check_out_time,onChange:at})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"status_id",children:"Status Absensi (Opsional)"}),jsxRuntimeExports.jsxs(Select,{name:"status_id",value:nt.status_id||"NO_STATUS_PLACEHOLDER",onValueChange:ut=>it("status_id",ut==="NO_STATUS_PLACEHOLDER"?"":ut),children:[jsxRuntimeExports.jsx(SelectTrigger,{id:"status_id",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Pilih Status (jika perlu)"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"NO_STATUS_PLACEHOLDER",children:"Tidak Ada Status Khusus"}),(ot||[]).filter(ut=>ut&&ut.id).map(ut=>jsxRuntimeExports.jsx(SelectItem,{value:ut.id,children:ut.name},ut.id))]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"notes",children:"Catatan (Opsional)"}),jsxRuntimeExports.jsx(Input,{id:"notes",name:"notes",value:nt.notes,onChange:at,placeholder:"Contoh: Izin setengah hari"})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>tt(!1),disabled:ct,children:"Batal"}),jsxRuntimeExports.jsx(Button,{onClick:lt,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",disabled:ct,children:ct?"Menyimpan...":rt?"Perbarui Absensi":"Simpan Absensi"})]})]})});function useAttribution(et,tt){const rt=reactExports.useRef(tt);reactExports.useEffect(function(){tt!==rt.current&&et.attributionControl!=null&&(rt.current!=null&&et.attributionControl.removeAttribution(rt.current),tt!=null&&et.attributionControl.addAttribution(tt)),rt.current=tt},[et,tt])}function updateCircle(et,tt,rt){tt.center!==rt.center&&et.setLatLng(tt.center),tt.radius!=null&&tt.radius!==rt.radius&&et.setRadius(tt.radius)}const CONTEXT_VERSION=1;function createLeafletContext(et){return Object.freeze({__version:CONTEXT_VERSION,map:et})}function extendContext(et,tt){return Object.freeze({...et,...tt})}const LeafletContext=reactExports.createContext(null),LeafletProvider=LeafletContext.Provider;function useLeafletContext(){const et=reactExports.useContext(LeafletContext);if(et==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return et}function createContainerComponent(et){function tt(rt,nt){const{instance:at,context:it}=et(rt).current;return reactExports.useImperativeHandle(nt,()=>at),rt.children==null?null:React$1.createElement(LeafletProvider,{value:it},rt.children)}return reactExports.forwardRef(tt)}function createDivOverlayComponent(et){function tt(rt,nt){const[at,it]=reactExports.useState(!1),{instance:st}=et(rt,it).current;reactExports.useImperativeHandle(nt,()=>st),reactExports.useEffect(function(){at&&st.update()},[st,at,rt.children]);const ot=st._contentNode;return ot?reactDomExports.createPortal(rt.children,ot):null}return reactExports.forwardRef(tt)}function createLeafComponent(et){function tt(rt,nt){const{instance:at}=et(rt).current;return reactExports.useImperativeHandle(nt,()=>at),null}return reactExports.forwardRef(tt)}function useEventHandlers(et,tt){const rt=reactExports.useRef();reactExports.useEffect(function(){return tt!=null&&et.instance.on(tt),rt.current=tt,function(){rt.current!=null&&et.instance.off(rt.current),rt.current=null}},[et,tt])}function withPane(et,tt){const rt=et.pane??tt.pane;return rt?{...et,pane:rt}:et}function createDivOverlayHook(et,tt){return function(nt,at){const it=useLeafletContext(),st=et(withPane(nt,it),it);return useAttribution(it.map,nt.attribution),useEventHandlers(st.current,nt.eventHandlers),tt(st.current,it,nt,at),st}}var leafletSrc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(et,tt){(function(rt,nt){nt(tt)})(commonjsGlobal,function(rt){var nt="1.9.4";function at(pt){var wt,Rt,$t,Jt;for(Rt=1,$t=arguments.length;Rt<$t;Rt++){Jt=arguments[Rt];for(wt in Jt)pt[wt]=Jt[wt]}return pt}var it=Object.create||function(){function pt(){}return function(wt){return pt.prototype=wt,new pt}}();function st(pt,wt){var Rt=Array.prototype.slice;if(pt.bind)return pt.bind.apply(pt,Rt.call(arguments,1));var $t=Rt.call(arguments,2);return function(){return pt.apply(wt,$t.length?$t.concat(Rt.call(arguments)):arguments)}}var ot=0;function lt(pt){return"_leaflet_id"in pt||(pt._leaflet_id=++ot),pt._leaflet_id}function ct(pt,wt,Rt){var $t,Jt,or,xr;return xr=function(){$t=!1,Jt&&(or.apply(Rt,Jt),Jt=!1)},or=function(){$t?Jt=arguments:(pt.apply(Rt,arguments),setTimeout(xr,wt),$t=!0)},or}function ut(pt,wt,Rt){var $t=wt[1],Jt=wt[0],or=$t-Jt;return pt===$t&&Rt?pt:((pt-Jt)%or+or)%or+Jt}function dt(){return!1}function ft(pt,wt){if(wt===!1)return pt;var Rt=Math.pow(10,wt===void 0?6:wt);return Math.round(pt*Rt)/Rt}function ht(pt){return pt.trim?pt.trim():pt.replace(/^\s+|\s+$/g,"")}function gt(pt){return ht(pt).split(/\s+/)}function mt(pt,wt){Object.prototype.hasOwnProperty.call(pt,"options")||(pt.options=pt.options?it(pt.options):{});for(var Rt in wt)pt.options[Rt]=wt[Rt];return pt.options}function xt(pt,wt,Rt){var $t=[];for(var Jt in pt)$t.push(encodeURIComponent(Rt?Jt.toUpperCase():Jt)+"="+encodeURIComponent(pt[Jt]));return(!wt||wt.indexOf("?")===-1?"?":"&")+$t.join("&")}var vt=/\{ *([\w_ -]+) *\}/g;function _t(pt,wt){return pt.replace(vt,function(Rt,$t){var Jt=wt[$t];if(Jt===void 0)throw new Error("No value provided for variable "+Rt);return typeof Jt=="function"&&(Jt=Jt(wt)),Jt})}var yt=Array.isArray||function(pt){return Object.prototype.toString.call(pt)==="[object Array]"};function St(pt,wt){for(var Rt=0;Rt<pt.length;Rt++)if(pt[Rt]===wt)return Rt;return-1}var bt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Et(pt){return window["webkit"+pt]||window["moz"+pt]||window["ms"+pt]}var Tt=0;function At(pt){var wt=+new Date,Rt=Math.max(0,16-(wt-Tt));return Tt=wt+Rt,window.setTimeout(pt,Rt)}var Ct=window.requestAnimationFrame||Et("RequestAnimationFrame")||At,kt=window.cancelAnimationFrame||Et("CancelAnimationFrame")||Et("CancelRequestAnimationFrame")||function(pt){window.clearTimeout(pt)};function Pt(pt,wt,Rt){if(Rt&&Ct===At)pt.call(wt);else return Ct.call(window,st(pt,wt))}function Dt(pt){pt&&kt.call(window,pt)}var Ft={__proto__:null,extend:at,create:it,bind:st,get lastId(){return ot},stamp:lt,throttle:ct,wrapNum:ut,falseFn:dt,formatNum:ft,trim:ht,splitWords:gt,setOptions:mt,getParamString:xt,template:_t,isArray:yt,indexOf:St,emptyImageUrl:bt,requestFn:Ct,cancelFn:kt,requestAnimFrame:Pt,cancelAnimFrame:Dt};function Ot(){}Ot.extend=function(pt){var wt=function(){mt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},Rt=wt.__super__=this.prototype,$t=it(Rt);$t.constructor=wt,wt.prototype=$t;for(var Jt in this)Object.prototype.hasOwnProperty.call(this,Jt)&&Jt!=="prototype"&&Jt!=="__super__"&&(wt[Jt]=this[Jt]);return pt.statics&&at(wt,pt.statics),pt.includes&&(It(pt.includes),at.apply(null,[$t].concat(pt.includes))),at($t,pt),delete $t.statics,delete $t.includes,$t.options&&($t.options=Rt.options?it(Rt.options):{},at($t.options,pt.options)),$t._initHooks=[],$t.callInitHooks=function(){if(!this._initHooksCalled){Rt.callInitHooks&&Rt.callInitHooks.call(this),this._initHooksCalled=!0;for(var or=0,xr=$t._initHooks.length;or<xr;or++)$t._initHooks[or].call(this)}},wt},Ot.include=function(pt){var wt=this.prototype.options;return at(this.prototype,pt),pt.options&&(this.prototype.options=wt,this.mergeOptions(pt.options)),this},Ot.mergeOptions=function(pt){return at(this.prototype.options,pt),this},Ot.addInitHook=function(pt){var wt=Array.prototype.slice.call(arguments,1),Rt=typeof pt=="function"?pt:function(){this[pt].apply(this,wt)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(Rt),this};function It(pt){if(!(typeof L>"u"||!L||!L.Mixin)){pt=yt(pt)?pt:[pt];for(var wt=0;wt<pt.length;wt++)pt[wt]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Bt={on:function(pt,wt,Rt){if(typeof pt=="object")for(var $t in pt)this._on($t,pt[$t],wt);else{pt=gt(pt);for(var Jt=0,or=pt.length;Jt<or;Jt++)this._on(pt[Jt],wt,Rt)}return this},off:function(pt,wt,Rt){if(!arguments.length)delete this._events;else if(typeof pt=="object")for(var $t in pt)this._off($t,pt[$t],wt);else{pt=gt(pt);for(var Jt=arguments.length===1,or=0,xr=pt.length;or<xr;or++)Jt?this._off(pt[or]):this._off(pt[or],wt,Rt)}return this},_on:function(pt,wt,Rt,$t){if(typeof wt!="function"){console.warn("wrong listener type: "+typeof wt);return}if(this._listens(pt,wt,Rt)===!1){Rt===this&&(Rt=void 0);var Jt={fn:wt,ctx:Rt};$t&&(Jt.once=!0),this._events=this._events||{},this._events[pt]=this._events[pt]||[],this._events[pt].push(Jt)}},_off:function(pt,wt,Rt){var $t,Jt,or;if(this._events&&($t=this._events[pt],!!$t)){if(arguments.length===1){if(this._firingCount)for(Jt=0,or=$t.length;Jt<or;Jt++)$t[Jt].fn=dt;delete this._events[pt];return}if(typeof wt!="function"){console.warn("wrong listener type: "+typeof wt);return}var xr=this._listens(pt,wt,Rt);if(xr!==!1){var Nr=$t[xr];this._firingCount&&(Nr.fn=dt,this._events[pt]=$t=$t.slice()),$t.splice(xr,1)}}},fire:function(pt,wt,Rt){if(!this.listens(pt,Rt))return this;var $t=at({},wt,{type:pt,target:this,sourceTarget:wt&&wt.sourceTarget||this});if(this._events){var Jt=this._events[pt];if(Jt){this._firingCount=this._firingCount+1||1;for(var or=0,xr=Jt.length;or<xr;or++){var Nr=Jt[or],Mr=Nr.fn;Nr.once&&this.off(pt,Mr,Nr.ctx),Mr.call(Nr.ctx||this,$t)}this._firingCount--}}return Rt&&this._propagateEvent($t),this},listens:function(pt,wt,Rt,$t){typeof pt!="string"&&console.warn('"string" type argument expected');var Jt=wt;typeof wt!="function"&&($t=!!wt,Jt=void 0,Rt=void 0);var or=this._events&&this._events[pt];if(or&&or.length&&this._listens(pt,Jt,Rt)!==!1)return!0;if($t){for(var xr in this._eventParents)if(this._eventParents[xr].listens(pt,wt,Rt,$t))return!0}return!1},_listens:function(pt,wt,Rt){if(!this._events)return!1;var $t=this._events[pt]||[];if(!wt)return!!$t.length;Rt===this&&(Rt=void 0);for(var Jt=0,or=$t.length;Jt<or;Jt++)if($t[Jt].fn===wt&&$t[Jt].ctx===Rt)return Jt;return!1},once:function(pt,wt,Rt){if(typeof pt=="object")for(var $t in pt)this._on($t,pt[$t],wt,!0);else{pt=gt(pt);for(var Jt=0,or=pt.length;Jt<or;Jt++)this._on(pt[Jt],wt,Rt,!0)}return this},addEventParent:function(pt){return this._eventParents=this._eventParents||{},this._eventParents[lt(pt)]=pt,this},removeEventParent:function(pt){return this._eventParents&&delete this._eventParents[lt(pt)],this},_propagateEvent:function(pt){for(var wt in this._eventParents)this._eventParents[wt].fire(pt.type,at({layer:pt.target,propagatedFrom:pt.target},pt),!0)}};Bt.addEventListener=Bt.on,Bt.removeEventListener=Bt.clearAllEventListeners=Bt.off,Bt.addOneTimeEventListener=Bt.once,Bt.fireEvent=Bt.fire,Bt.hasEventListeners=Bt.listens;var qt=Ot.extend(Bt);function Ut(pt,wt,Rt){this.x=Rt?Math.round(pt):pt,this.y=Rt?Math.round(wt):wt}var Ht=Math.trunc||function(pt){return pt>0?Math.floor(pt):Math.ceil(pt)};Ut.prototype={clone:function(){return new Ut(this.x,this.y)},add:function(pt){return this.clone()._add(Qt(pt))},_add:function(pt){return this.x+=pt.x,this.y+=pt.y,this},subtract:function(pt){return this.clone()._subtract(Qt(pt))},_subtract:function(pt){return this.x-=pt.x,this.y-=pt.y,this},divideBy:function(pt){return this.clone()._divideBy(pt)},_divideBy:function(pt){return this.x/=pt,this.y/=pt,this},multiplyBy:function(pt){return this.clone()._multiplyBy(pt)},_multiplyBy:function(pt){return this.x*=pt,this.y*=pt,this},scaleBy:function(pt){return new Ut(this.x*pt.x,this.y*pt.y)},unscaleBy:function(pt){return new Ut(this.x/pt.x,this.y/pt.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ht(this.x),this.y=Ht(this.y),this},distanceTo:function(pt){pt=Qt(pt);var wt=pt.x-this.x,Rt=pt.y-this.y;return Math.sqrt(wt*wt+Rt*Rt)},equals:function(pt){return pt=Qt(pt),pt.x===this.x&&pt.y===this.y},contains:function(pt){return pt=Qt(pt),Math.abs(pt.x)<=Math.abs(this.x)&&Math.abs(pt.y)<=Math.abs(this.y)},toString:function(){return"Point("+ft(this.x)+", "+ft(this.y)+")"}};function Qt(pt,wt,Rt){return pt instanceof Ut?pt:yt(pt)?new Ut(pt[0],pt[1]):pt==null?pt:typeof pt=="object"&&"x"in pt&&"y"in pt?new Ut(pt.x,pt.y):new Ut(pt,wt,Rt)}function ir(pt,wt){if(pt)for(var Rt=wt?[pt,wt]:pt,$t=0,Jt=Rt.length;$t<Jt;$t++)this.extend(Rt[$t])}ir.prototype={extend:function(pt){var wt,Rt;if(!pt)return this;if(pt instanceof Ut||typeof pt[0]=="number"||"x"in pt)wt=Rt=Qt(pt);else if(pt=Xt(pt),wt=pt.min,Rt=pt.max,!wt||!Rt)return this;return!this.min&&!this.max?(this.min=wt.clone(),this.max=Rt.clone()):(this.min.x=Math.min(wt.x,this.min.x),this.max.x=Math.max(Rt.x,this.max.x),this.min.y=Math.min(wt.y,this.min.y),this.max.y=Math.max(Rt.y,this.max.y)),this},getCenter:function(pt){return Qt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,pt)},getBottomLeft:function(){return Qt(this.min.x,this.max.y)},getTopRight:function(){return Qt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(pt){var wt,Rt;return typeof pt[0]=="number"||pt instanceof Ut?pt=Qt(pt):pt=Xt(pt),pt instanceof ir?(wt=pt.min,Rt=pt.max):wt=Rt=pt,wt.x>=this.min.x&&Rt.x<=this.max.x&&wt.y>=this.min.y&&Rt.y<=this.max.y},intersects:function(pt){pt=Xt(pt);var wt=this.min,Rt=this.max,$t=pt.min,Jt=pt.max,or=Jt.x>=wt.x&&$t.x<=Rt.x,xr=Jt.y>=wt.y&&$t.y<=Rt.y;return or&&xr},overlaps:function(pt){pt=Xt(pt);var wt=this.min,Rt=this.max,$t=pt.min,Jt=pt.max,or=Jt.x>wt.x&&$t.x<Rt.x,xr=Jt.y>wt.y&&$t.y<Rt.y;return or&&xr},isValid:function(){return!!(this.min&&this.max)},pad:function(pt){var wt=this.min,Rt=this.max,$t=Math.abs(wt.x-Rt.x)*pt,Jt=Math.abs(wt.y-Rt.y)*pt;return Xt(Qt(wt.x-$t,wt.y-Jt),Qt(Rt.x+$t,Rt.y+Jt))},equals:function(pt){return pt?(pt=Xt(pt),this.min.equals(pt.getTopLeft())&&this.max.equals(pt.getBottomRight())):!1}};function Xt(pt,wt){return!pt||pt instanceof ir?pt:new ir(pt,wt)}function Lt(pt,wt){if(pt)for(var Rt=wt?[pt,wt]:pt,$t=0,Jt=Rt.length;$t<Jt;$t++)this.extend(Rt[$t])}Lt.prototype={extend:function(pt){var wt=this._southWest,Rt=this._northEast,$t,Jt;if(pt instanceof Nt)$t=pt,Jt=pt;else if(pt instanceof Lt){if($t=pt._southWest,Jt=pt._northEast,!$t||!Jt)return this}else return pt?this.extend(Mt(pt)||jt(pt)):this;return!wt&&!Rt?(this._southWest=new Nt($t.lat,$t.lng),this._northEast=new Nt(Jt.lat,Jt.lng)):(wt.lat=Math.min($t.lat,wt.lat),wt.lng=Math.min($t.lng,wt.lng),Rt.lat=Math.max(Jt.lat,Rt.lat),Rt.lng=Math.max(Jt.lng,Rt.lng)),this},pad:function(pt){var wt=this._southWest,Rt=this._northEast,$t=Math.abs(wt.lat-Rt.lat)*pt,Jt=Math.abs(wt.lng-Rt.lng)*pt;return new Lt(new Nt(wt.lat-$t,wt.lng-Jt),new Nt(Rt.lat+$t,Rt.lng+Jt))},getCenter:function(){return new Nt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Nt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Nt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(pt){typeof pt[0]=="number"||pt instanceof Nt||"lat"in pt?pt=Mt(pt):pt=jt(pt);var wt=this._southWest,Rt=this._northEast,$t,Jt;return pt instanceof Lt?($t=pt.getSouthWest(),Jt=pt.getNorthEast()):$t=Jt=pt,$t.lat>=wt.lat&&Jt.lat<=Rt.lat&&$t.lng>=wt.lng&&Jt.lng<=Rt.lng},intersects:function(pt){pt=jt(pt);var wt=this._southWest,Rt=this._northEast,$t=pt.getSouthWest(),Jt=pt.getNorthEast(),or=Jt.lat>=wt.lat&&$t.lat<=Rt.lat,xr=Jt.lng>=wt.lng&&$t.lng<=Rt.lng;return or&&xr},overlaps:function(pt){pt=jt(pt);var wt=this._southWest,Rt=this._northEast,$t=pt.getSouthWest(),Jt=pt.getNorthEast(),or=Jt.lat>wt.lat&&$t.lat<Rt.lat,xr=Jt.lng>wt.lng&&$t.lng<Rt.lng;return or&&xr},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(pt,wt){return pt?(pt=jt(pt),this._southWest.equals(pt.getSouthWest(),wt)&&this._northEast.equals(pt.getNorthEast(),wt)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function jt(pt,wt){return pt instanceof Lt?pt:new Lt(pt,wt)}function Nt(pt,wt,Rt){if(isNaN(pt)||isNaN(wt))throw new Error("Invalid LatLng object: ("+pt+", "+wt+")");this.lat=+pt,this.lng=+wt,Rt!==void 0&&(this.alt=+Rt)}Nt.prototype={equals:function(pt,wt){if(!pt)return!1;pt=Mt(pt);var Rt=Math.max(Math.abs(this.lat-pt.lat),Math.abs(this.lng-pt.lng));return Rt<=(wt===void 0?1e-9:wt)},toString:function(pt){return"LatLng("+ft(this.lat,pt)+", "+ft(this.lng,pt)+")"},distanceTo:function(pt){return Gt.distance(this,Mt(pt))},wrap:function(){return Gt.wrapLatLng(this)},toBounds:function(pt){var wt=180*pt/40075017,Rt=wt/Math.cos(Math.PI/180*this.lat);return jt([this.lat-wt,this.lng-Rt],[this.lat+wt,this.lng+Rt])},clone:function(){return new Nt(this.lat,this.lng,this.alt)}};function Mt(pt,wt,Rt){return pt instanceof Nt?pt:yt(pt)&&typeof pt[0]!="object"?pt.length===3?new Nt(pt[0],pt[1],pt[2]):pt.length===2?new Nt(pt[0],pt[1]):null:pt==null?pt:typeof pt=="object"&&"lat"in pt?new Nt(pt.lat,"lng"in pt?pt.lng:pt.lon,pt.alt):wt===void 0?null:new Nt(pt,wt,Rt)}var Vt={latLngToPoint:function(pt,wt){var Rt=this.projection.project(pt),$t=this.scale(wt);return this.transformation._transform(Rt,$t)},pointToLatLng:function(pt,wt){var Rt=this.scale(wt),$t=this.transformation.untransform(pt,Rt);return this.projection.unproject($t)},project:function(pt){return this.projection.project(pt)},unproject:function(pt){return this.projection.unproject(pt)},scale:function(pt){return 256*Math.pow(2,pt)},zoom:function(pt){return Math.log(pt/256)/Math.LN2},getProjectedBounds:function(pt){if(this.infinite)return null;var wt=this.projection.bounds,Rt=this.scale(pt),$t=this.transformation.transform(wt.min,Rt),Jt=this.transformation.transform(wt.max,Rt);return new ir($t,Jt)},infinite:!1,wrapLatLng:function(pt){var wt=this.wrapLng?ut(pt.lng,this.wrapLng,!0):pt.lng,Rt=this.wrapLat?ut(pt.lat,this.wrapLat,!0):pt.lat,$t=pt.alt;return new Nt(Rt,wt,$t)},wrapLatLngBounds:function(pt){var wt=pt.getCenter(),Rt=this.wrapLatLng(wt),$t=wt.lat-Rt.lat,Jt=wt.lng-Rt.lng;if($t===0&&Jt===0)return pt;var or=pt.getSouthWest(),xr=pt.getNorthEast(),Nr=new Nt(or.lat-$t,or.lng-Jt),Mr=new Nt(xr.lat-$t,xr.lng-Jt);return new Lt(Nr,Mr)}},Gt=at({},Vt,{wrapLng:[-180,180],R:6371e3,distance:function(pt,wt){var Rt=Math.PI/180,$t=pt.lat*Rt,Jt=wt.lat*Rt,or=Math.sin((wt.lat-pt.lat)*Rt/2),xr=Math.sin((wt.lng-pt.lng)*Rt/2),Nr=or*or+Math.cos($t)*Math.cos(Jt)*xr*xr,Mr=2*Math.atan2(Math.sqrt(Nr),Math.sqrt(1-Nr));return this.R*Mr}}),Zt=6378137,er={R:Zt,MAX_LATITUDE:85.0511287798,project:function(pt){var wt=Math.PI/180,Rt=this.MAX_LATITUDE,$t=Math.max(Math.min(Rt,pt.lat),-Rt),Jt=Math.sin($t*wt);return new Ut(this.R*pt.lng*wt,this.R*Math.log((1+Jt)/(1-Jt))/2)},unproject:function(pt){var wt=180/Math.PI;return new Nt((2*Math.atan(Math.exp(pt.y/this.R))-Math.PI/2)*wt,pt.x*wt/this.R)},bounds:function(){var pt=Zt*Math.PI;return new ir([-pt,-pt],[pt,pt])}()};function ar(pt,wt,Rt,$t){if(yt(pt)){this._a=pt[0],this._b=pt[1],this._c=pt[2],this._d=pt[3];return}this._a=pt,this._b=wt,this._c=Rt,this._d=$t}ar.prototype={transform:function(pt,wt){return this._transform(pt.clone(),wt)},_transform:function(pt,wt){return wt=wt||1,pt.x=wt*(this._a*pt.x+this._b),pt.y=wt*(this._c*pt.y+this._d),pt},untransform:function(pt,wt){return wt=wt||1,new Ut((pt.x/wt-this._b)/this._a,(pt.y/wt-this._d)/this._c)}};function Kt(pt,wt,Rt,$t){return new ar(pt,wt,Rt,$t)}var pr=at({},Gt,{code:"EPSG:3857",projection:er,transformation:function(){var pt=.5/(Math.PI*er.R);return Kt(pt,.5,-pt,.5)}()}),fr=at({},pr,{code:"EPSG:900913"});function vr(pt){return document.createElementNS("http://www.w3.org/2000/svg",pt)}function wr(pt,wt){var Rt="",$t,Jt,or,xr,Nr,Mr;for($t=0,or=pt.length;$t<or;$t++){for(Nr=pt[$t],Jt=0,xr=Nr.length;Jt<xr;Jt++)Mr=Nr[Jt],Rt+=(Jt?"L":"M")+Mr.x+" "+Mr.y;Rt+=wt?ur.svg?"z":"x":""}return Rt||"M0 0"}var hr=document.documentElement.style,Ir="ActiveXObject"in window,Jr=Ir&&!document.addEventListener,Br="msLaunchUri"in navigator&&!("documentMode"in document),Zr=lr("webkit"),Fr=lr("android"),Cr=lr("android 2")||lr("android 3"),Tr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Dr=Fr&&lr("Google")&&Tr<537&&!("AudioNode"in window),Gr=!!window.opera,qr=!Br&&lr("chrome"),sn=lr("gecko")&&!Zr&&!Gr&&!Ir,Ur=!qr&&lr("safari"),$r=lr("phantom"),Yr="OTransition"in hr,rn=navigator.platform.indexOf("Win")===0,nn=Ir&&"transition"in hr,hn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Cr,Or="MozPerspective"in hr,Rr=!window.L_DISABLE_3D&&(nn||hn||Or)&&!Yr&&!$r,yr=typeof orientation<"u"||lr("mobile"),Vr=yr&&Zr,zr=yr&&hn,Tn=!window.PointerEvent&&window.MSPointerEvent,wn=!!(window.PointerEvent||Tn),Pr="ontouchstart"in window||!!window.TouchEvent,Xr=!window.L_NO_TOUCH&&(Pr||wn),dn=yr&&Gr,en=yr&&sn,fn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,pn=function(){var pt=!1;try{var wt=Object.defineProperty({},"passive",{get:function(){pt=!0}});window.addEventListener("testPassiveEventSupport",dt,wt),window.removeEventListener("testPassiveEventSupport",dt,wt)}catch{}return pt}(),yn=function(){return!!document.createElement("canvas").getContext}(),Hr=!!(document.createElementNS&&vr("svg").createSVGRect),xn=!!Hr&&function(){var pt=document.createElement("div");return pt.innerHTML="<svg/>",(pt.firstChild&&pt.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),un=!Hr&&function(){try{var pt=document.createElement("div");pt.innerHTML='<v:shape adj="1"/>';var wt=pt.firstChild;return wt.style.behavior="url(#default#VML)",wt&&typeof wt.adj=="object"}catch{return!1}}(),dr=navigator.platform.indexOf("Mac")===0,Yt=navigator.platform.indexOf("Linux")===0;function lr(pt){return navigator.userAgent.toLowerCase().indexOf(pt)>=0}var ur={ie:Ir,ielt9:Jr,edge:Br,webkit:Zr,android:Fr,android23:Cr,androidStock:Dr,opera:Gr,chrome:qr,gecko:sn,safari:Ur,phantom:$r,opera12:Yr,win:rn,ie3d:nn,webkit3d:hn,gecko3d:Or,any3d:Rr,mobile:yr,mobileWebkit:Vr,mobileWebkit3d:zr,msPointer:Tn,pointer:wn,touch:Xr,touchNative:Pr,mobileOpera:dn,mobileGecko:en,retina:fn,passiveEvents:pn,canvas:yn,svg:Hr,vml:un,inlineSvg:xn,mac:dr,linux:Yt},Wt=ur.msPointer?"MSPointerDown":"pointerdown",rr=ur.msPointer?"MSPointerMove":"pointermove",tr=ur.msPointer?"MSPointerUp":"pointerup",nr=ur.msPointer?"MSPointerCancel":"pointercancel",sr={touchstart:Wt,touchmove:rr,touchend:tr,touchcancel:nr},cr={touchstart:on,touchmove:Wr,touchend:Wr,touchcancel:Wr},_r={},Sr=!1;function gr(pt,wt,Rt){return wt==="touchstart"&&an(),cr[wt]?(Rt=cr[wt].bind(this,Rt),pt.addEventListener(sr[wt],Rt,!1),Rt):(console.warn("wrong event specified:",wt),dt)}function br(pt,wt,Rt){if(!sr[wt]){console.warn("wrong event specified:",wt);return}pt.removeEventListener(sr[wt],Rt,!1)}function Ar(pt){_r[pt.pointerId]=pt}function Lr(pt){_r[pt.pointerId]&&(_r[pt.pointerId]=pt)}function Kr(pt){delete _r[pt.pointerId]}function an(){Sr||(document.addEventListener(Wt,Ar,!0),document.addEventListener(rr,Lr,!0),document.addEventListener(tr,Kr,!0),document.addEventListener(nr,Kr,!0),Sr=!0)}function Wr(pt,wt){if(wt.pointerType!==(wt.MSPOINTER_TYPE_MOUSE||"mouse")){wt.touches=[];for(var Rt in _r)wt.touches.push(_r[Rt]);wt.changedTouches=[wt],pt(wt)}}function on(pt,wt){wt.MSPOINTER_TYPE_TOUCH&&wt.pointerType===wt.MSPOINTER_TYPE_TOUCH&&Mn(wt),Wr(pt,wt)}function gn(pt){var wt={},Rt,$t;for($t in pt)Rt=pt[$t],wt[$t]=Rt&&Rt.bind?Rt.bind(pt):Rt;return pt=wt,wt.type="dblclick",wt.detail=2,wt.isTrusted=!1,wt._simulated=!0,wt}var Cn=200;function Pn(pt,wt){pt.addEventListener("dblclick",wt);var Rt=0,$t;function Jt(or){if(or.detail!==1){$t=or.detail;return}if(!(or.pointerType==="mouse"||or.sourceCapabilities&&!or.sourceCapabilities.firesTouchEvents)){var xr=Wl(or);if(!(xr.some(function(Mr){return Mr instanceof HTMLLabelElement&&Mr.attributes.for})&&!xr.some(function(Mr){return Mr instanceof HTMLInputElement||Mr instanceof HTMLSelectElement}))){var Nr=Date.now();Nr-Rt<=Cn?($t++,$t===2&&wt(gn(or))):$t=1,Rt=Nr}}}return pt.addEventListener("click",Jt),{dblclick:wt,simDblclick:Jt}}function Nn(pt,wt){pt.removeEventListener("dblclick",wt.dblclick),pt.removeEventListener("click",wt.simDblclick)}var Yn=Bs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Hn=Bs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ba=Hn==="webkitTransition"||Hn==="OTransition"?Hn+"End":"transitionend";function Gn(pt){return typeof pt=="string"?document.getElementById(pt):pt}function Zn(pt,wt){var Rt=pt.style[wt]||pt.currentStyle&&pt.currentStyle[wt];if((!Rt||Rt==="auto")&&document.defaultView){var $t=document.defaultView.getComputedStyle(pt,null);Rt=$t?$t[wt]:null}return Rt==="auto"?null:Rt}function _n(pt,wt,Rt){var $t=document.createElement(pt);return $t.className=wt||"",Rt&&Rt.appendChild($t),$t}function kn(pt){var wt=pt.parentNode;wt&&wt.removeChild(pt)}function $s(pt){for(;pt.firstChild;)pt.removeChild(pt.firstChild)}function os(pt){var wt=pt.parentNode;wt&&wt.lastChild!==pt&&wt.appendChild(pt)}function ls(pt){var wt=pt.parentNode;wt&&wt.firstChild!==pt&&wt.insertBefore(pt,wt.firstChild)}function go(pt,wt){if(pt.classList!==void 0)return pt.classList.contains(wt);var Rt=Ls(pt);return Rt.length>0&&new RegExp("(^|\\s)"+wt+"(\\s|$)").test(Rt)}function En(pt,wt){if(pt.classList!==void 0)for(var Rt=gt(wt),$t=0,Jt=Rt.length;$t<Jt;$t++)pt.classList.add(Rt[$t]);else if(!go(pt,wt)){var or=Ls(pt);xo(pt,(or?or+" ":"")+wt)}}function jn(pt,wt){pt.classList!==void 0?pt.classList.remove(wt):xo(pt,ht((" "+Ls(pt)+" ").replace(" "+wt+" "," ")))}function xo(pt,wt){pt.className.baseVal===void 0?pt.className=wt:pt.className.baseVal=wt}function Ls(pt){return pt.correspondingElement&&(pt=pt.correspondingElement),pt.className.baseVal===void 0?pt.className:pt.className.baseVal}function Ln(pt,wt){"opacity"in pt.style?pt.style.opacity=wt:"filter"in pt.style&&op(pt,wt)}function op(pt,wt){var Rt=!1,$t="DXImageTransform.Microsoft.Alpha";try{Rt=pt.filters.item($t)}catch{if(wt===1)return}wt=Math.round(wt*100),Rt?(Rt.Enabled=wt!==100,Rt.Opacity=wt):pt.style.filter+=" progid:"+$t+"(opacity="+wt+")"}function Bs(pt){for(var wt=document.documentElement.style,Rt=0;Rt<pt.length;Rt++)if(pt[Rt]in wt)return pt[Rt];return!1}function es(pt,wt,Rt){var $t=wt||new Ut(0,0);pt.style[Yn]=(ur.ie3d?"translate("+$t.x+"px,"+$t.y+"px)":"translate3d("+$t.x+"px,"+$t.y+"px,0)")+(Rt?" scale("+Rt+")":"")}function Dn(pt,wt){pt._leaflet_pos=wt,ur.any3d?es(pt,wt):(pt.style.left=wt.x+"px",pt.style.top=wt.y+"px")}function ts(pt){return pt._leaflet_pos||new Ut(0,0)}var _s,bs,vo;if("onselectstart"in document)_s=function(){bn(window,"selectstart",Mn)},bs=function(){Rn(window,"selectstart",Mn)};else{var Es=Bs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);_s=function(){if(Es){var pt=document.documentElement.style;vo=pt[Es],pt[Es]="none"}},bs=function(){Es&&(document.documentElement.style[Es]=vo,vo=void 0)}}function yo(){bn(window,"dragstart",Mn)}function _o(){Rn(window,"dragstart",Mn)}var Us,bo;function Eo(pt){for(;pt.tabIndex===-1;)pt=pt.parentNode;pt.style&&(Vs(),Us=pt,bo=pt.style.outlineStyle,pt.style.outlineStyle="none",bn(window,"keydown",Vs))}function Vs(){Us&&(Us.style.outlineStyle=bo,Us=void 0,bo=void 0,Rn(window,"keydown",Vs))}function Hl(pt){do pt=pt.parentNode;while((!pt.offsetWidth||!pt.offsetHeight)&&pt!==document.body);return pt}function wo(pt){var wt=pt.getBoundingClientRect();return{x:wt.width/pt.offsetWidth||1,y:wt.height/pt.offsetHeight||1,boundingClientRect:wt}}var lp={__proto__:null,TRANSFORM:Yn,TRANSITION:Hn,TRANSITION_END:ba,get:Gn,getStyle:Zn,create:_n,remove:kn,empty:$s,toFront:os,toBack:ls,hasClass:go,addClass:En,removeClass:jn,setClass:xo,getClass:Ls,setOpacity:Ln,testProp:Bs,setTransform:es,setPosition:Dn,getPosition:ts,get disableTextSelection(){return _s},get enableTextSelection(){return bs},disableImageDrag:yo,enableImageDrag:_o,preventOutline:Eo,restoreOutline:Vs,getSizedParentNode:Hl,getScale:wo};function bn(pt,wt,Rt,$t){if(wt&&typeof wt=="object")for(var Jt in wt)To(pt,Jt,wt[Jt],Rt);else{wt=gt(wt);for(var or=0,xr=wt.length;or<xr;or++)To(pt,wt[or],Rt,$t)}return this}var Kn="_leaflet_events";function Rn(pt,wt,Rt,$t){if(arguments.length===1)zl(pt),delete pt[Kn];else if(wt&&typeof wt=="object")for(var Jt in wt)Co(pt,Jt,wt[Jt],Rt);else if(wt=gt(wt),arguments.length===2)zl(pt,function(Nr){return St(wt,Nr)!==-1});else for(var or=0,xr=wt.length;or<xr;or++)Co(pt,wt[or],Rt,$t);return this}function zl(pt,wt){for(var Rt in pt[Kn]){var $t=Rt.split(/\d/)[0];(!wt||wt($t))&&Co(pt,$t,null,null,Rt)}}var So={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function To(pt,wt,Rt,$t){var Jt=wt+lt(Rt)+($t?"_"+lt($t):"");if(pt[Kn]&&pt[Kn][Jt])return this;var or=function(Nr){return Rt.call($t||pt,Nr||window.event)},xr=or;!ur.touchNative&&ur.pointer&&wt.indexOf("touch")===0?or=gr(pt,wt,or):ur.touch&&wt==="dblclick"?or=Pn(pt,or):"addEventListener"in pt?wt==="touchstart"||wt==="touchmove"||wt==="wheel"||wt==="mousewheel"?pt.addEventListener(So[wt]||wt,or,ur.passiveEvents?{passive:!1}:!1):wt==="mouseenter"||wt==="mouseleave"?(or=function(Nr){Nr=Nr||window.event,Po(pt,Nr)&&xr(Nr)},pt.addEventListener(So[wt],or,!1)):pt.addEventListener(wt,xr,!1):pt.attachEvent("on"+wt,or),pt[Kn]=pt[Kn]||{},pt[Kn][Jt]=or}function Co(pt,wt,Rt,$t,Jt){Jt=Jt||wt+lt(Rt)+($t?"_"+lt($t):"");var or=pt[Kn]&&pt[Kn][Jt];if(!or)return this;!ur.touchNative&&ur.pointer&&wt.indexOf("touch")===0?br(pt,wt,or):ur.touch&&wt==="dblclick"?Nn(pt,or):"removeEventListener"in pt?pt.removeEventListener(So[wt]||wt,or,!1):pt.detachEvent("on"+wt,or),pt[Kn][Jt]=null}function rs(pt){return pt.stopPropagation?pt.stopPropagation():pt.originalEvent?pt.originalEvent._stopped=!0:pt.cancelBubble=!0,this}function Ao(pt){return To(pt,"wheel",rs),this}function ws(pt){return bn(pt,"mousedown touchstart dblclick contextmenu",rs),pt._leaflet_disable_click=!0,this}function Mn(pt){return pt.preventDefault?pt.preventDefault():pt.returnValue=!1,this}function ns(pt){return Mn(pt),rs(pt),this}function Wl(pt){if(pt.composedPath)return pt.composedPath();for(var wt=[],Rt=pt.target;Rt;)wt.push(Rt),Rt=Rt.parentNode;return wt}function Gl(pt,wt){if(!wt)return new Ut(pt.clientX,pt.clientY);var Rt=wo(wt),$t=Rt.boundingClientRect;return new Ut((pt.clientX-$t.left)/Rt.x-wt.clientLeft,(pt.clientY-$t.top)/Rt.y-wt.clientTop)}var cp=ur.linux&&ur.chrome?window.devicePixelRatio:ur.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Kl(pt){return ur.edge?pt.wheelDeltaY/2:pt.deltaY&&pt.deltaMode===0?-pt.deltaY/cp:pt.deltaY&&pt.deltaMode===1?-pt.deltaY*20:pt.deltaY&&pt.deltaMode===2?-pt.deltaY*60:pt.deltaX||pt.deltaZ?0:pt.wheelDelta?(pt.wheelDeltaY||pt.wheelDelta)/2:pt.detail&&Math.abs(pt.detail)<32765?-pt.detail*20:pt.detail?pt.detail/-32765*60:0}function Po(pt,wt){var Rt=wt.relatedTarget;if(!Rt)return!0;try{for(;Rt&&Rt!==pt;)Rt=Rt.parentNode}catch{return!1}return Rt!==pt}var up={__proto__:null,on:bn,off:Rn,stopPropagation:rs,disableScrollPropagation:Ao,disableClickPropagation:ws,preventDefault:Mn,stop:ns,getPropagationPath:Wl,getMousePosition:Gl,getWheelDelta:Kl,isExternalTarget:Po,addListener:bn,removeListener:Rn},Xl=qt.extend({run:function(pt,wt,Rt,$t){this.stop(),this._el=pt,this._inProgress=!0,this._duration=Rt||.25,this._easeOutPower=1/Math.max($t||.5,.2),this._startPos=ts(pt),this._offset=wt.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Pt(this._animate,this),this._step()},_step:function(pt){var wt=+new Date-this._startTime,Rt=this._duration*1e3;wt<Rt?this._runFrame(this._easeOut(wt/Rt),pt):(this._runFrame(1),this._complete())},_runFrame:function(pt,wt){var Rt=this._startPos.add(this._offset.multiplyBy(pt));wt&&Rt._round(),Dn(this._el,Rt),this.fire("step")},_complete:function(){Dt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(pt){return 1-Math.pow(1-pt,this._easeOutPower)}}),An=qt.extend({options:{crs:pr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(pt,wt){wt=mt(this,wt),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(pt),this._initLayout(),this._onResize=st(this._onResize,this),this._initEvents(),wt.maxBounds&&this.setMaxBounds(wt.maxBounds),wt.zoom!==void 0&&(this._zoom=this._limitZoom(wt.zoom)),wt.center&&wt.zoom!==void 0&&this.setView(Mt(wt.center),wt.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Hn&&ur.any3d&&!ur.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),bn(this._proxy,ba,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(pt,wt,Rt){if(wt=wt===void 0?this._zoom:this._limitZoom(wt),pt=this._limitCenter(Mt(pt),wt,this.options.maxBounds),Rt=Rt||{},this._stop(),this._loaded&&!Rt.reset&&Rt!==!0){Rt.animate!==void 0&&(Rt.zoom=at({animate:Rt.animate},Rt.zoom),Rt.pan=at({animate:Rt.animate,duration:Rt.duration},Rt.pan));var $t=this._zoom!==wt?this._tryAnimatedZoom&&this._tryAnimatedZoom(pt,wt,Rt.zoom):this._tryAnimatedPan(pt,Rt.pan);if($t)return clearTimeout(this._sizeTimer),this}return this._resetView(pt,wt,Rt.pan&&Rt.pan.noMoveStart),this},setZoom:function(pt,wt){return this._loaded?this.setView(this.getCenter(),pt,{zoom:wt}):(this._zoom=pt,this)},zoomIn:function(pt,wt){return pt=pt||(ur.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+pt,wt)},zoomOut:function(pt,wt){return pt=pt||(ur.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-pt,wt)},setZoomAround:function(pt,wt,Rt){var $t=this.getZoomScale(wt),Jt=this.getSize().divideBy(2),or=pt instanceof Ut?pt:this.latLngToContainerPoint(pt),xr=or.subtract(Jt).multiplyBy(1-1/$t),Nr=this.containerPointToLatLng(Jt.add(xr));return this.setView(Nr,wt,{zoom:Rt})},_getBoundsCenterZoom:function(pt,wt){wt=wt||{},pt=pt.getBounds?pt.getBounds():jt(pt);var Rt=Qt(wt.paddingTopLeft||wt.padding||[0,0]),$t=Qt(wt.paddingBottomRight||wt.padding||[0,0]),Jt=this.getBoundsZoom(pt,!1,Rt.add($t));if(Jt=typeof wt.maxZoom=="number"?Math.min(wt.maxZoom,Jt):Jt,Jt===1/0)return{center:pt.getCenter(),zoom:Jt};var or=$t.subtract(Rt).divideBy(2),xr=this.project(pt.getSouthWest(),Jt),Nr=this.project(pt.getNorthEast(),Jt),Mr=this.unproject(xr.add(Nr).divideBy(2).add(or),Jt);return{center:Mr,zoom:Jt}},fitBounds:function(pt,wt){if(pt=jt(pt),!pt.isValid())throw new Error("Bounds are not valid.");var Rt=this._getBoundsCenterZoom(pt,wt);return this.setView(Rt.center,Rt.zoom,wt)},fitWorld:function(pt){return this.fitBounds([[-90,-180],[90,180]],pt)},panTo:function(pt,wt){return this.setView(pt,this._zoom,{pan:wt})},panBy:function(pt,wt){if(pt=Qt(pt).round(),wt=wt||{},!pt.x&&!pt.y)return this.fire("moveend");if(wt.animate!==!0&&!this.getSize().contains(pt))return this._resetView(this.unproject(this.project(this.getCenter()).add(pt)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Xl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),wt.noMoveStart||this.fire("movestart"),wt.animate!==!1){En(this._mapPane,"leaflet-pan-anim");var Rt=this._getMapPanePos().subtract(pt).round();this._panAnim.run(this._mapPane,Rt,wt.duration||.25,wt.easeLinearity)}else this._rawPanBy(pt),this.fire("move").fire("moveend");return this},flyTo:function(pt,wt,Rt){if(Rt=Rt||{},Rt.animate===!1||!ur.any3d)return this.setView(pt,wt,Rt);this._stop();var $t=this.project(this.getCenter()),Jt=this.project(pt),or=this.getSize(),xr=this._zoom;pt=Mt(pt),wt=wt===void 0?xr:wt;var Nr=Math.max(or.x,or.y),Mr=Nr*this.getZoomScale(xr,wt),Qr=Jt.distanceTo($t)||1,mn=1.42,vn=mn*mn;function Sn(On){var eo=On?-1:1,Jp=On?Mr:Nr,Qp=Mr*Mr-Nr*Nr+eo*vn*vn*Qr*Qr,em=2*Jp*vn*Qr,Lo=Qp/em,Pu=Math.sqrt(Lo*Lo+1)-Lo,tm=Pu<1e-9?-18:Math.log(Pu);return tm}function In(On){return(Math.exp(On)-Math.exp(-On))/2}function Fn(On){return(Math.exp(On)+Math.exp(-On))/2}function Un(On){return In(On)/Fn(On)}var $n=Sn(0);function ps(On){return Nr*(Fn($n)/Fn($n+mn*On))}function qp(On){return Nr*(Fn($n)*Un($n+mn*On)-In($n))/vn}function Xp(On){return 1-Math.pow(1-On,1.5)}var Yp=Date.now(),Cu=(Sn(1)-$n)/mn,Zp=Rt.duration?1e3*Rt.duration:1e3*Cu*.8;function Au(){var On=(Date.now()-Yp)/Zp,eo=Xp(On)*Cu;On<=1?(this._flyToFrame=Pt(Au,this),this._move(this.unproject($t.add(Jt.subtract($t).multiplyBy(qp(eo)/Qr)),xr),this.getScaleZoom(Nr/ps(eo),xr),{flyTo:!0})):this._move(pt,wt)._moveEnd(!0)}return this._moveStart(!0,Rt.noMoveStart),Au.call(this),this},flyToBounds:function(pt,wt){var Rt=this._getBoundsCenterZoom(pt,wt);return this.flyTo(Rt.center,Rt.zoom,wt)},setMaxBounds:function(pt){return pt=jt(pt),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),pt.isValid()?(this.options.maxBounds=pt,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(pt){var wt=this.options.minZoom;return this.options.minZoom=pt,this._loaded&&wt!==pt&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(pt):this},setMaxZoom:function(pt){var wt=this.options.maxZoom;return this.options.maxZoom=pt,this._loaded&&wt!==pt&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(pt):this},panInsideBounds:function(pt,wt){this._enforcingBounds=!0;var Rt=this.getCenter(),$t=this._limitCenter(Rt,this._zoom,jt(pt));return Rt.equals($t)||this.panTo($t,wt),this._enforcingBounds=!1,this},panInside:function(pt,wt){wt=wt||{};var Rt=Qt(wt.paddingTopLeft||wt.padding||[0,0]),$t=Qt(wt.paddingBottomRight||wt.padding||[0,0]),Jt=this.project(this.getCenter()),or=this.project(pt),xr=this.getPixelBounds(),Nr=Xt([xr.min.add(Rt),xr.max.subtract($t)]),Mr=Nr.getSize();if(!Nr.contains(or)){this._enforcingBounds=!0;var Qr=or.subtract(Nr.getCenter()),mn=Nr.extend(or).getSize().subtract(Mr);Jt.x+=Qr.x<0?-mn.x:mn.x,Jt.y+=Qr.y<0?-mn.y:mn.y,this.panTo(this.unproject(Jt),wt),this._enforcingBounds=!1}return this},invalidateSize:function(pt){if(!this._loaded)return this;pt=at({animate:!1,pan:!0},pt===!0?{animate:!0}:pt);var wt=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var Rt=this.getSize(),$t=wt.divideBy(2).round(),Jt=Rt.divideBy(2).round(),or=$t.subtract(Jt);return!or.x&&!or.y?this:(pt.animate&&pt.pan?this.panBy(or):(pt.pan&&this._rawPanBy(or),this.fire("move"),pt.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(st(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:wt,newSize:Rt}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(pt){if(pt=this._locateOptions=at({timeout:1e4,watch:!1},pt),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var wt=st(this._handleGeolocationResponse,this),Rt=st(this._handleGeolocationError,this);return pt.watch?this._locationWatchId=navigator.geolocation.watchPosition(wt,Rt,pt):navigator.geolocation.getCurrentPosition(wt,Rt,pt),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(pt){if(this._container._leaflet_id){var wt=pt.code,Rt=pt.message||(wt===1?"permission denied":wt===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:wt,message:"Geolocation error: "+Rt+"."})}},_handleGeolocationResponse:function(pt){if(this._container._leaflet_id){var wt=pt.coords.latitude,Rt=pt.coords.longitude,$t=new Nt(wt,Rt),Jt=$t.toBounds(pt.coords.accuracy*2),or=this._locateOptions;if(or.setView){var xr=this.getBoundsZoom(Jt);this.setView($t,or.maxZoom?Math.min(xr,or.maxZoom):xr)}var Nr={latlng:$t,bounds:Jt,timestamp:pt.timestamp};for(var Mr in pt.coords)typeof pt.coords[Mr]=="number"&&(Nr[Mr]=pt.coords[Mr]);this.fire("locationfound",Nr)}},addHandler:function(pt,wt){if(!wt)return this;var Rt=this[pt]=new wt(this);return this._handlers.push(Rt),this.options[pt]&&Rt.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),kn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Dt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var pt;for(pt in this._layers)this._layers[pt].remove();for(pt in this._panes)kn(this._panes[pt]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(pt,wt){var Rt="leaflet-pane"+(pt?" leaflet-"+pt.replace("Pane","")+"-pane":""),$t=_n("div",Rt,wt||this._mapPane);return pt&&(this._panes[pt]=$t),$t},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var pt=this.getPixelBounds(),wt=this.unproject(pt.getBottomLeft()),Rt=this.unproject(pt.getTopRight());return new Lt(wt,Rt)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(pt,wt,Rt){pt=jt(pt),Rt=Qt(Rt||[0,0]);var $t=this.getZoom()||0,Jt=this.getMinZoom(),or=this.getMaxZoom(),xr=pt.getNorthWest(),Nr=pt.getSouthEast(),Mr=this.getSize().subtract(Rt),Qr=Xt(this.project(Nr,$t),this.project(xr,$t)).getSize(),mn=ur.any3d?this.options.zoomSnap:1,vn=Mr.x/Qr.x,Sn=Mr.y/Qr.y,In=wt?Math.max(vn,Sn):Math.min(vn,Sn);return $t=this.getScaleZoom(In,$t),mn&&($t=Math.round($t/(mn/100))*(mn/100),$t=wt?Math.ceil($t/mn)*mn:Math.floor($t/mn)*mn),Math.max(Jt,Math.min(or,$t))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Ut(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(pt,wt){var Rt=this._getTopLeftPoint(pt,wt);return new ir(Rt,Rt.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(pt){return this.options.crs.getProjectedBounds(pt===void 0?this.getZoom():pt)},getPane:function(pt){return typeof pt=="string"?this._panes[pt]:pt},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(pt,wt){var Rt=this.options.crs;return wt=wt===void 0?this._zoom:wt,Rt.scale(pt)/Rt.scale(wt)},getScaleZoom:function(pt,wt){var Rt=this.options.crs;wt=wt===void 0?this._zoom:wt;var $t=Rt.zoom(pt*Rt.scale(wt));return isNaN($t)?1/0:$t},project:function(pt,wt){return wt=wt===void 0?this._zoom:wt,this.options.crs.latLngToPoint(Mt(pt),wt)},unproject:function(pt,wt){return wt=wt===void 0?this._zoom:wt,this.options.crs.pointToLatLng(Qt(pt),wt)},layerPointToLatLng:function(pt){var wt=Qt(pt).add(this.getPixelOrigin());return this.unproject(wt)},latLngToLayerPoint:function(pt){var wt=this.project(Mt(pt))._round();return wt._subtract(this.getPixelOrigin())},wrapLatLng:function(pt){return this.options.crs.wrapLatLng(Mt(pt))},wrapLatLngBounds:function(pt){return this.options.crs.wrapLatLngBounds(jt(pt))},distance:function(pt,wt){return this.options.crs.distance(Mt(pt),Mt(wt))},containerPointToLayerPoint:function(pt){return Qt(pt).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(pt){return Qt(pt).add(this._getMapPanePos())},containerPointToLatLng:function(pt){var wt=this.containerPointToLayerPoint(Qt(pt));return this.layerPointToLatLng(wt)},latLngToContainerPoint:function(pt){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Mt(pt)))},mouseEventToContainerPoint:function(pt){return Gl(pt,this._container)},mouseEventToLayerPoint:function(pt){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(pt))},mouseEventToLatLng:function(pt){return this.layerPointToLatLng(this.mouseEventToLayerPoint(pt))},_initContainer:function(pt){var wt=this._container=Gn(pt);if(wt){if(wt._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");bn(wt,"scroll",this._onScroll,this),this._containerId=lt(wt)},_initLayout:function(){var pt=this._container;this._fadeAnimated=this.options.fadeAnimation&&ur.any3d,En(pt,"leaflet-container"+(ur.touch?" leaflet-touch":"")+(ur.retina?" leaflet-retina":"")+(ur.ielt9?" leaflet-oldie":"")+(ur.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var wt=Zn(pt,"position");wt!=="absolute"&&wt!=="relative"&&wt!=="fixed"&&wt!=="sticky"&&(pt.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var pt=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Dn(this._mapPane,new Ut(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(En(pt.markerPane,"leaflet-zoom-hide"),En(pt.shadowPane,"leaflet-zoom-hide"))},_resetView:function(pt,wt,Rt){Dn(this._mapPane,new Ut(0,0));var $t=!this._loaded;this._loaded=!0,wt=this._limitZoom(wt),this.fire("viewprereset");var Jt=this._zoom!==wt;this._moveStart(Jt,Rt)._move(pt,wt)._moveEnd(Jt),this.fire("viewreset"),$t&&this.fire("load")},_moveStart:function(pt,wt){return pt&&this.fire("zoomstart"),wt||this.fire("movestart"),this},_move:function(pt,wt,Rt,$t){wt===void 0&&(wt=this._zoom);var Jt=this._zoom!==wt;return this._zoom=wt,this._lastCenter=pt,this._pixelOrigin=this._getNewPixelOrigin(pt),$t?Rt&&Rt.pinch&&this.fire("zoom",Rt):((Jt||Rt&&Rt.pinch)&&this.fire("zoom",Rt),this.fire("move",Rt)),this},_moveEnd:function(pt){return pt&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Dt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(pt){Dn(this._mapPane,this._getMapPanePos().subtract(pt))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(pt){this._targets={},this._targets[lt(this._container)]=this;var wt=pt?Rn:bn;wt(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&wt(window,"resize",this._onResize,this),ur.any3d&&this.options.transform3DLimit&&(pt?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Dt(this._resizeRequest),this._resizeRequest=Pt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var pt=this._getMapPanePos();Math.max(Math.abs(pt.x),Math.abs(pt.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(pt,wt){for(var Rt=[],$t,Jt=wt==="mouseout"||wt==="mouseover",or=pt.target||pt.srcElement,xr=!1;or;){if($t=this._targets[lt(or)],$t&&(wt==="click"||wt==="preclick")&&this._draggableMoved($t)){xr=!0;break}if($t&&$t.listens(wt,!0)&&(Jt&&!Po(or,pt)||(Rt.push($t),Jt))||or===this._container)break;or=or.parentNode}return!Rt.length&&!xr&&!Jt&&this.listens(wt,!0)&&(Rt=[this]),Rt},_isClickDisabled:function(pt){for(;pt&&pt!==this._container;){if(pt._leaflet_disable_click)return!0;pt=pt.parentNode}},_handleDOMEvent:function(pt){var wt=pt.target||pt.srcElement;if(!(!this._loaded||wt._leaflet_disable_events||pt.type==="click"&&this._isClickDisabled(wt))){var Rt=pt.type;Rt==="mousedown"&&Eo(wt),this._fireDOMEvent(pt,Rt)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(pt,wt,Rt){if(pt.type==="click"){var $t=at({},pt);$t.type="preclick",this._fireDOMEvent($t,$t.type,Rt)}var Jt=this._findEventTargets(pt,wt);if(Rt){for(var or=[],xr=0;xr<Rt.length;xr++)Rt[xr].listens(wt,!0)&&or.push(Rt[xr]);Jt=or.concat(Jt)}if(Jt.length){wt==="contextmenu"&&Mn(pt);var Nr=Jt[0],Mr={originalEvent:pt};if(pt.type!=="keypress"&&pt.type!=="keydown"&&pt.type!=="keyup"){var Qr=Nr.getLatLng&&(!Nr._radius||Nr._radius<=10);Mr.containerPoint=Qr?this.latLngToContainerPoint(Nr.getLatLng()):this.mouseEventToContainerPoint(pt),Mr.layerPoint=this.containerPointToLayerPoint(Mr.containerPoint),Mr.latlng=Qr?Nr.getLatLng():this.layerPointToLatLng(Mr.layerPoint)}for(xr=0;xr<Jt.length;xr++)if(Jt[xr].fire(wt,Mr,!0),Mr.originalEvent._stopped||Jt[xr].options.bubblingMouseEvents===!1&&St(this._mouseEvents,wt)!==-1)return}},_draggableMoved:function(pt){return pt=pt.dragging&&pt.dragging.enabled()?pt:this,pt.dragging&&pt.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var pt=0,wt=this._handlers.length;pt<wt;pt++)this._handlers[pt].disable()},whenReady:function(pt,wt){return this._loaded?pt.call(wt||this,{target:this}):this.on("load",pt,wt),this},_getMapPanePos:function(){return ts(this._mapPane)||new Ut(0,0)},_moved:function(){var pt=this._getMapPanePos();return pt&&!pt.equals([0,0])},_getTopLeftPoint:function(pt,wt){var Rt=pt&&wt!==void 0?this._getNewPixelOrigin(pt,wt):this.getPixelOrigin();return Rt.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(pt,wt){var Rt=this.getSize()._divideBy(2);return this.project(pt,wt)._subtract(Rt)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(pt,wt,Rt){var $t=this._getNewPixelOrigin(Rt,wt);return this.project(pt,wt)._subtract($t)},_latLngBoundsToNewLayerBounds:function(pt,wt,Rt){var $t=this._getNewPixelOrigin(Rt,wt);return Xt([this.project(pt.getSouthWest(),wt)._subtract($t),this.project(pt.getNorthWest(),wt)._subtract($t),this.project(pt.getSouthEast(),wt)._subtract($t),this.project(pt.getNorthEast(),wt)._subtract($t)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(pt){return this.latLngToLayerPoint(pt).subtract(this._getCenterLayerPoint())},_limitCenter:function(pt,wt,Rt){if(!Rt)return pt;var $t=this.project(pt,wt),Jt=this.getSize().divideBy(2),or=new ir($t.subtract(Jt),$t.add(Jt)),xr=this._getBoundsOffset(or,Rt,wt);return Math.abs(xr.x)<=1&&Math.abs(xr.y)<=1?pt:this.unproject($t.add(xr),wt)},_limitOffset:function(pt,wt){if(!wt)return pt;var Rt=this.getPixelBounds(),$t=new ir(Rt.min.add(pt),Rt.max.add(pt));return pt.add(this._getBoundsOffset($t,wt))},_getBoundsOffset:function(pt,wt,Rt){var $t=Xt(this.project(wt.getNorthEast(),Rt),this.project(wt.getSouthWest(),Rt)),Jt=$t.min.subtract(pt.min),or=$t.max.subtract(pt.max),xr=this._rebound(Jt.x,-or.x),Nr=this._rebound(Jt.y,-or.y);return new Ut(xr,Nr)},_rebound:function(pt,wt){return pt+wt>0?Math.round(pt-wt)/2:Math.max(0,Math.ceil(pt))-Math.max(0,Math.floor(wt))},_limitZoom:function(pt){var wt=this.getMinZoom(),Rt=this.getMaxZoom(),$t=ur.any3d?this.options.zoomSnap:1;return $t&&(pt=Math.round(pt/$t)*$t),Math.max(wt,Math.min(Rt,pt))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){jn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(pt,wt){var Rt=this._getCenterOffset(pt)._trunc();return(wt&&wt.animate)!==!0&&!this.getSize().contains(Rt)?!1:(this.panBy(Rt,wt),!0)},_createAnimProxy:function(){var pt=this._proxy=_n("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(pt),this.on("zoomanim",function(wt){var Rt=Yn,$t=this._proxy.style[Rt];es(this._proxy,this.project(wt.center,wt.zoom),this.getZoomScale(wt.zoom,1)),$t===this._proxy.style[Rt]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){kn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var pt=this.getCenter(),wt=this.getZoom();es(this._proxy,this.project(pt,wt),this.getZoomScale(wt,1))},_catchTransitionEnd:function(pt){this._animatingZoom&&pt.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(pt,wt,Rt){if(this._animatingZoom)return!0;if(Rt=Rt||{},!this._zoomAnimated||Rt.animate===!1||this._nothingToAnimate()||Math.abs(wt-this._zoom)>this.options.zoomAnimationThreshold)return!1;var $t=this.getZoomScale(wt),Jt=this._getCenterOffset(pt)._divideBy(1-1/$t);return Rt.animate!==!0&&!this.getSize().contains(Jt)?!1:(Pt(function(){this._moveStart(!0,Rt.noMoveStart||!1)._animateZoom(pt,wt,!0)},this),!0)},_animateZoom:function(pt,wt,Rt,$t){this._mapPane&&(Rt&&(this._animatingZoom=!0,this._animateToCenter=pt,this._animateToZoom=wt,En(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:pt,zoom:wt,noUpdate:$t}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(st(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&jn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function dp(pt,wt){return new An(pt,wt)}var zn=Ot.extend({options:{position:"topright"},initialize:function(pt){mt(this,pt)},getPosition:function(){return this.options.position},setPosition:function(pt){var wt=this._map;return wt&&wt.removeControl(this),this.options.position=pt,wt&&wt.addControl(this),this},getContainer:function(){return this._container},addTo:function(pt){this.remove(),this._map=pt;var wt=this._container=this.onAdd(pt),Rt=this.getPosition(),$t=pt._controlCorners[Rt];return En(wt,"leaflet-control"),Rt.indexOf("bottom")!==-1?$t.insertBefore(wt,$t.firstChild):$t.appendChild(wt),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(kn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(pt){this._map&&pt&&pt.screenX>0&&pt.screenY>0&&this._map.getContainer().focus()}}),Ss=function(pt){return new zn(pt)};An.include({addControl:function(pt){return pt.addTo(this),this},removeControl:function(pt){return pt.remove(),this},_initControlPos:function(){var pt=this._controlCorners={},wt="leaflet-",Rt=this._controlContainer=_n("div",wt+"control-container",this._container);function $t(Jt,or){var xr=wt+Jt+" "+wt+or;pt[Jt+or]=_n("div",xr,Rt)}$t("top","left"),$t("top","right"),$t("bottom","left"),$t("bottom","right")},_clearControlPos:function(){for(var pt in this._controlCorners)kn(this._controlCorners[pt]);kn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Yl=zn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(pt,wt,Rt,$t){return Rt<$t?-1:$t<Rt?1:0}},initialize:function(pt,wt,Rt){mt(this,Rt),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var $t in pt)this._addLayer(pt[$t],$t);for($t in wt)this._addLayer(wt[$t],$t,!0)},onAdd:function(pt){this._initLayout(),this._update(),this._map=pt,pt.on("zoomend",this._checkDisabledLayers,this);for(var wt=0;wt<this._layers.length;wt++)this._layers[wt].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(pt){return zn.prototype.addTo.call(this,pt),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var pt=0;pt<this._layers.length;pt++)this._layers[pt].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(pt,wt){return this._addLayer(pt,wt),this._map?this._update():this},addOverlay:function(pt,wt){return this._addLayer(pt,wt,!0),this._map?this._update():this},removeLayer:function(pt){pt.off("add remove",this._onLayerChange,this);var wt=this._getLayer(lt(pt));return wt&&this._layers.splice(this._layers.indexOf(wt),1),this._map?this._update():this},expand:function(){En(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var pt=this._map.getSize().y-(this._container.offsetTop+50);return pt<this._section.clientHeight?(En(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=pt+"px"):jn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return jn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var pt="leaflet-control-layers",wt=this._container=_n("div",pt),Rt=this.options.collapsed;wt.setAttribute("aria-haspopup",!0),ws(wt),Ao(wt);var $t=this._section=_n("section",pt+"-list");Rt&&(this._map.on("click",this.collapse,this),bn(wt,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var Jt=this._layersLink=_n("a",pt+"-toggle",wt);Jt.href="#",Jt.title="Layers",Jt.setAttribute("role","button"),bn(Jt,{keydown:function(or){or.keyCode===13&&this._expandSafely()},click:function(or){Mn(or),this._expandSafely()}},this),Rt||this.expand(),this._baseLayersList=_n("div",pt+"-base",$t),this._separator=_n("div",pt+"-separator",$t),this._overlaysList=_n("div",pt+"-overlays",$t),wt.appendChild($t)},_getLayer:function(pt){for(var wt=0;wt<this._layers.length;wt++)if(this._layers[wt]&&lt(this._layers[wt].layer)===pt)return this._layers[wt]},_addLayer:function(pt,wt,Rt){this._map&&pt.on("add remove",this._onLayerChange,this),this._layers.push({layer:pt,name:wt,overlay:Rt}),this.options.sortLayers&&this._layers.sort(st(function($t,Jt){return this.options.sortFunction($t.layer,Jt.layer,$t.name,Jt.name)},this)),this.options.autoZIndex&&pt.setZIndex&&(this._lastZIndex++,pt.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;$s(this._baseLayersList),$s(this._overlaysList),this._layerControlInputs=[];var pt,wt,Rt,$t,Jt=0;for(Rt=0;Rt<this._layers.length;Rt++)$t=this._layers[Rt],this._addItem($t),wt=wt||$t.overlay,pt=pt||!$t.overlay,Jt+=$t.overlay?0:1;return this.options.hideSingleBase&&(pt=pt&&Jt>1,this._baseLayersList.style.display=pt?"":"none"),this._separator.style.display=wt&&pt?"":"none",this},_onLayerChange:function(pt){this._handlingClick||this._update();var wt=this._getLayer(lt(pt.target)),Rt=wt.overlay?pt.type==="add"?"overlayadd":"overlayremove":pt.type==="add"?"baselayerchange":null;Rt&&this._map.fire(Rt,wt)},_createRadioElement:function(pt,wt){var Rt='<input type="radio" class="leaflet-control-layers-selector" name="'+pt+'"'+(wt?' checked="checked"':"")+"/>",$t=document.createElement("div");return $t.innerHTML=Rt,$t.firstChild},_addItem:function(pt){var wt=document.createElement("label"),Rt=this._map.hasLayer(pt.layer),$t;pt.overlay?($t=document.createElement("input"),$t.type="checkbox",$t.className="leaflet-control-layers-selector",$t.defaultChecked=Rt):$t=this._createRadioElement("leaflet-base-layers_"+lt(this),Rt),this._layerControlInputs.push($t),$t.layerId=lt(pt.layer),bn($t,"click",this._onInputClick,this);var Jt=document.createElement("span");Jt.innerHTML=" "+pt.name;var or=document.createElement("span");wt.appendChild(or),or.appendChild($t),or.appendChild(Jt);var xr=pt.overlay?this._overlaysList:this._baseLayersList;return xr.appendChild(wt),this._checkDisabledLayers(),wt},_onInputClick:function(){if(!this._preventClick){var pt=this._layerControlInputs,wt,Rt,$t=[],Jt=[];this._handlingClick=!0;for(var or=pt.length-1;or>=0;or--)wt=pt[or],Rt=this._getLayer(wt.layerId).layer,wt.checked?$t.push(Rt):wt.checked||Jt.push(Rt);for(or=0;or<Jt.length;or++)this._map.hasLayer(Jt[or])&&this._map.removeLayer(Jt[or]);for(or=0;or<$t.length;or++)this._map.hasLayer($t[or])||this._map.addLayer($t[or]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var pt=this._layerControlInputs,wt,Rt,$t=this._map.getZoom(),Jt=pt.length-1;Jt>=0;Jt--)wt=pt[Jt],Rt=this._getLayer(wt.layerId).layer,wt.disabled=Rt.options.minZoom!==void 0&&$t<Rt.options.minZoom||Rt.options.maxZoom!==void 0&&$t>Rt.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var pt=this._section;this._preventClick=!0,bn(pt,"click",Mn),this.expand();var wt=this;setTimeout(function(){Rn(pt,"click",Mn),wt._preventClick=!1})}}),fp=function(pt,wt,Rt){return new Yl(pt,wt,Rt)},Ro=zn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(pt){var wt="leaflet-control-zoom",Rt=_n("div",wt+" leaflet-bar"),$t=this.options;return this._zoomInButton=this._createButton($t.zoomInText,$t.zoomInTitle,wt+"-in",Rt,this._zoomIn),this._zoomOutButton=this._createButton($t.zoomOutText,$t.zoomOutTitle,wt+"-out",Rt,this._zoomOut),this._updateDisabled(),pt.on("zoomend zoomlevelschange",this._updateDisabled,this),Rt},onRemove:function(pt){pt.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(pt){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(pt.shiftKey?3:1))},_zoomOut:function(pt){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(pt.shiftKey?3:1))},_createButton:function(pt,wt,Rt,$t,Jt){var or=_n("a",Rt,$t);return or.innerHTML=pt,or.href="#",or.title=wt,or.setAttribute("role","button"),or.setAttribute("aria-label",wt),ws(or),bn(or,"click",ns),bn(or,"click",Jt,this),bn(or,"click",this._refocusOnMap,this),or},_updateDisabled:function(){var pt=this._map,wt="leaflet-disabled";jn(this._zoomInButton,wt),jn(this._zoomOutButton,wt),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||pt._zoom===pt.getMinZoom())&&(En(this._zoomOutButton,wt),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||pt._zoom===pt.getMaxZoom())&&(En(this._zoomInButton,wt),this._zoomInButton.setAttribute("aria-disabled","true"))}});An.mergeOptions({zoomControl:!0}),An.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ro,this.addControl(this.zoomControl))});var hp=function(pt){return new Ro(pt)},Zl=zn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(pt){var wt="leaflet-control-scale",Rt=_n("div",wt),$t=this.options;return this._addScales($t,wt+"-line",Rt),pt.on($t.updateWhenIdle?"moveend":"move",this._update,this),pt.whenReady(this._update,this),Rt},onRemove:function(pt){pt.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(pt,wt,Rt){pt.metric&&(this._mScale=_n("div",wt,Rt)),pt.imperial&&(this._iScale=_n("div",wt,Rt))},_update:function(){var pt=this._map,wt=pt.getSize().y/2,Rt=pt.distance(pt.containerPointToLatLng([0,wt]),pt.containerPointToLatLng([this.options.maxWidth,wt]));this._updateScales(Rt)},_updateScales:function(pt){this.options.metric&&pt&&this._updateMetric(pt),this.options.imperial&&pt&&this._updateImperial(pt)},_updateMetric:function(pt){var wt=this._getRoundNum(pt),Rt=wt<1e3?wt+" m":wt/1e3+" km";this._updateScale(this._mScale,Rt,wt/pt)},_updateImperial:function(pt){var wt=pt*3.2808399,Rt,$t,Jt;wt>5280?(Rt=wt/5280,$t=this._getRoundNum(Rt),this._updateScale(this._iScale,$t+" mi",$t/Rt)):(Jt=this._getRoundNum(wt),this._updateScale(this._iScale,Jt+" ft",Jt/wt))},_updateScale:function(pt,wt,Rt){pt.style.width=Math.round(this.options.maxWidth*Rt)+"px",pt.innerHTML=wt},_getRoundNum:function(pt){var wt=Math.pow(10,(Math.floor(pt)+"").length-1),Rt=pt/wt;return Rt=Rt>=10?10:Rt>=5?5:Rt>=3?3:Rt>=2?2:1,wt*Rt}}),pp=function(pt){return new Zl(pt)},mp='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ko=zn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ur.inlineSvg?mp+" ":"")+"Leaflet</a>"},initialize:function(pt){mt(this,pt),this._attributions={}},onAdd:function(pt){pt.attributionControl=this,this._container=_n("div","leaflet-control-attribution"),ws(this._container);for(var wt in pt._layers)pt._layers[wt].getAttribution&&this.addAttribution(pt._layers[wt].getAttribution());return this._update(),pt.on("layeradd",this._addAttribution,this),this._container},onRemove:function(pt){pt.off("layeradd",this._addAttribution,this)},_addAttribution:function(pt){pt.layer.getAttribution&&(this.addAttribution(pt.layer.getAttribution()),pt.layer.once("remove",function(){this.removeAttribution(pt.layer.getAttribution())},this))},setPrefix:function(pt){return this.options.prefix=pt,this._update(),this},addAttribution:function(pt){return pt?(this._attributions[pt]||(this._attributions[pt]=0),this._attributions[pt]++,this._update(),this):this},removeAttribution:function(pt){return pt?(this._attributions[pt]&&(this._attributions[pt]--,this._update()),this):this},_update:function(){if(this._map){var pt=[];for(var wt in this._attributions)this._attributions[wt]&&pt.push(wt);var Rt=[];this.options.prefix&&Rt.push(this.options.prefix),pt.length&&Rt.push(pt.join(", ")),this._container.innerHTML=Rt.join(' <span aria-hidden="true">|</span> ')}}});An.mergeOptions({attributionControl:!0}),An.addInitHook(function(){this.options.attributionControl&&new ko().addTo(this)});var gp=function(pt){return new ko(pt)};zn.Layers=Yl,zn.Zoom=Ro,zn.Scale=Zl,zn.Attribution=ko,Ss.layers=fp,Ss.zoom=hp,Ss.scale=pp,Ss.attribution=gp;var qn=Ot.extend({initialize:function(pt){this._map=pt},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});qn.addTo=function(pt,wt){return pt.addHandler(wt,this),this};var xp={Events:Bt},Jl=ur.touch?"touchstart mousedown":"mousedown",$a=qt.extend({options:{clickTolerance:3},initialize:function(pt,wt,Rt,$t){mt(this,$t),this._element=pt,this._dragStartTarget=wt||pt,this._preventOutline=Rt},enable:function(){this._enabled||(bn(this._dragStartTarget,Jl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&($a._dragging===this&&this.finishDrag(!0),Rn(this._dragStartTarget,Jl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(pt){if(this._enabled&&(this._moved=!1,!go(this._element,"leaflet-zoom-anim"))){if(pt.touches&&pt.touches.length!==1){$a._dragging===this&&this.finishDrag();return}if(!($a._dragging||pt.shiftKey||pt.which!==1&&pt.button!==1&&!pt.touches)&&($a._dragging=this,this._preventOutline&&Eo(this._element),yo(),_s(),!this._moving)){this.fire("down");var wt=pt.touches?pt.touches[0]:pt,Rt=Hl(this._element);this._startPoint=new Ut(wt.clientX,wt.clientY),this._startPos=ts(this._element),this._parentScale=wo(Rt);var $t=pt.type==="mousedown";bn(document,$t?"mousemove":"touchmove",this._onMove,this),bn(document,$t?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(pt){if(this._enabled){if(pt.touches&&pt.touches.length>1){this._moved=!0;return}var wt=pt.touches&&pt.touches.length===1?pt.touches[0]:pt,Rt=new Ut(wt.clientX,wt.clientY)._subtract(this._startPoint);!Rt.x&&!Rt.y||Math.abs(Rt.x)+Math.abs(Rt.y)<this.options.clickTolerance||(Rt.x/=this._parentScale.x,Rt.y/=this._parentScale.y,Mn(pt),this._moved||(this.fire("dragstart"),this._moved=!0,En(document.body,"leaflet-dragging"),this._lastTarget=pt.target||pt.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),En(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(Rt),this._moving=!0,this._lastEvent=pt,this._updatePosition())}},_updatePosition:function(){var pt={originalEvent:this._lastEvent};this.fire("predrag",pt),Dn(this._element,this._newPos),this.fire("drag",pt)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(pt){jn(document.body,"leaflet-dragging"),this._lastTarget&&(jn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Rn(document,"mousemove touchmove",this._onMove,this),Rn(document,"mouseup touchend touchcancel",this._onUp,this),_o(),bs();var wt=this._moved&&this._moving;this._moving=!1,$a._dragging=!1,wt&&this.fire("dragend",{noInertia:pt,distance:this._newPos.distanceTo(this._startPos)})}});function Ql(pt,wt,Rt){var $t,Jt=[1,4,2,8],or,xr,Nr,Mr,Qr,mn,vn,Sn;for(or=0,mn=pt.length;or<mn;or++)pt[or]._code=as(pt[or],wt);for(Nr=0;Nr<4;Nr++){for(vn=Jt[Nr],$t=[],or=0,mn=pt.length,xr=mn-1;or<mn;xr=or++)Mr=pt[or],Qr=pt[xr],Mr._code&vn?Qr._code&vn||(Sn=Hs(Qr,Mr,vn,wt,Rt),Sn._code=as(Sn,wt),$t.push(Sn)):(Qr._code&vn&&(Sn=Hs(Qr,Mr,vn,wt,Rt),Sn._code=as(Sn,wt),$t.push(Sn)),$t.push(Mr));pt=$t}return pt}function _c(pt,wt){var Rt,$t,Jt,or,xr,Nr,Mr,Qr,mn;if(!pt||pt.length===0)throw new Error("latlngs not passed");Bn(pt)||(console.warn("latlngs are not flat! Only the first ring will be used"),pt=pt[0]);var vn=Mt([0,0]),Sn=jt(pt),In=Sn.getNorthWest().distanceTo(Sn.getSouthWest())*Sn.getNorthEast().distanceTo(Sn.getNorthWest());In<1700&&(vn=jo(pt));var Fn=pt.length,Un=[];for(Rt=0;Rt<Fn;Rt++){var $n=Mt(pt[Rt]);Un.push(wt.project(Mt([$n.lat-vn.lat,$n.lng-vn.lng])))}for(Nr=Mr=Qr=0,Rt=0,$t=Fn-1;Rt<Fn;$t=Rt++)Jt=Un[Rt],or=Un[$t],xr=Jt.y*or.x-or.y*Jt.x,Mr+=(Jt.x+or.x)*xr,Qr+=(Jt.y+or.y)*xr,Nr+=xr*3;Nr===0?mn=Un[0]:mn=[Mr/Nr,Qr/Nr];var ps=wt.unproject(Qt(mn));return Mt([ps.lat+vn.lat,ps.lng+vn.lng])}function jo(pt){for(var wt=0,Rt=0,$t=0,Jt=0;Jt<pt.length;Jt++){var or=Mt(pt[Jt]);wt+=or.lat,Rt+=or.lng,$t++}return Mt([wt/$t,Rt/$t])}var vp={__proto__:null,clipPolygon:Ql,polygonCenter:_c,centroid:jo};function eu(pt,wt){if(!wt||!pt.length)return pt.slice();var Rt=wt*wt;return pt=bp(pt,Rt),pt=_p(pt,Rt),pt}function tu(pt,wt,Rt){return Math.sqrt(Ts(pt,wt,Rt,!0))}function yp(pt,wt,Rt){return Ts(pt,wt,Rt)}function _p(pt,wt){var Rt=pt.length,$t=typeof Uint8Array!=void 0+""?Uint8Array:Array,Jt=new $t(Rt);Jt[0]=Jt[Rt-1]=1,Do(pt,Jt,wt,0,Rt-1);var or,xr=[];for(or=0;or<Rt;or++)Jt[or]&&xr.push(pt[or]);return xr}function Do(pt,wt,Rt,$t,Jt){var or=0,xr,Nr,Mr;for(Nr=$t+1;Nr<=Jt-1;Nr++)Mr=Ts(pt[Nr],pt[$t],pt[Jt],!0),Mr>or&&(xr=Nr,or=Mr);or>Rt&&(wt[xr]=1,Do(pt,wt,Rt,$t,xr),Do(pt,wt,Rt,xr,Jt))}function bp(pt,wt){for(var Rt=[pt[0]],$t=1,Jt=0,or=pt.length;$t<or;$t++)Ep(pt[$t],pt[Jt])>wt&&(Rt.push(pt[$t]),Jt=$t);return Jt<or-1&&Rt.push(pt[or-1]),Rt}var ru;function nu(pt,wt,Rt,$t,Jt){var or=$t?ru:as(pt,Rt),xr=as(wt,Rt),Nr,Mr,Qr;for(ru=xr;;){if(!(or|xr))return[pt,wt];if(or&xr)return!1;Nr=or||xr,Mr=Hs(pt,wt,Nr,Rt,Jt),Qr=as(Mr,Rt),Nr===or?(pt=Mr,or=Qr):(wt=Mr,xr=Qr)}}function Hs(pt,wt,Rt,$t,Jt){var or=wt.x-pt.x,xr=wt.y-pt.y,Nr=$t.min,Mr=$t.max,Qr,mn;return Rt&8?(Qr=pt.x+or*(Mr.y-pt.y)/xr,mn=Mr.y):Rt&4?(Qr=pt.x+or*(Nr.y-pt.y)/xr,mn=Nr.y):Rt&2?(Qr=Mr.x,mn=pt.y+xr*(Mr.x-pt.x)/or):Rt&1&&(Qr=Nr.x,mn=pt.y+xr*(Nr.x-pt.x)/or),new Ut(Qr,mn,Jt)}function as(pt,wt){var Rt=0;return pt.x<wt.min.x?Rt|=1:pt.x>wt.max.x&&(Rt|=2),pt.y<wt.min.y?Rt|=4:pt.y>wt.max.y&&(Rt|=8),Rt}function Ep(pt,wt){var Rt=wt.x-pt.x,$t=wt.y-pt.y;return Rt*Rt+$t*$t}function Ts(pt,wt,Rt,$t){var Jt=wt.x,or=wt.y,xr=Rt.x-Jt,Nr=Rt.y-or,Mr=xr*xr+Nr*Nr,Qr;return Mr>0&&(Qr=((pt.x-Jt)*xr+(pt.y-or)*Nr)/Mr,Qr>1?(Jt=Rt.x,or=Rt.y):Qr>0&&(Jt+=xr*Qr,or+=Nr*Qr)),xr=pt.x-Jt,Nr=pt.y-or,$t?xr*xr+Nr*Nr:new Ut(Jt,or)}function Bn(pt){return!yt(pt[0])||typeof pt[0][0]!="object"&&typeof pt[0][0]<"u"}function au(pt){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Bn(pt)}function iu(pt,wt){var Rt,$t,Jt,or,xr,Nr,Mr,Qr;if(!pt||pt.length===0)throw new Error("latlngs not passed");Bn(pt)||(console.warn("latlngs are not flat! Only the first ring will be used"),pt=pt[0]);var mn=Mt([0,0]),vn=jt(pt),Sn=vn.getNorthWest().distanceTo(vn.getSouthWest())*vn.getNorthEast().distanceTo(vn.getNorthWest());Sn<1700&&(mn=jo(pt));var In=pt.length,Fn=[];for(Rt=0;Rt<In;Rt++){var Un=Mt(pt[Rt]);Fn.push(wt.project(Mt([Un.lat-mn.lat,Un.lng-mn.lng])))}for(Rt=0,$t=0;Rt<In-1;Rt++)$t+=Fn[Rt].distanceTo(Fn[Rt+1])/2;if($t===0)Qr=Fn[0];else for(Rt=0,or=0;Rt<In-1;Rt++)if(xr=Fn[Rt],Nr=Fn[Rt+1],Jt=xr.distanceTo(Nr),or+=Jt,or>$t){Mr=(or-$t)/Jt,Qr=[Nr.x-Mr*(Nr.x-xr.x),Nr.y-Mr*(Nr.y-xr.y)];break}var $n=wt.unproject(Qt(Qr));return Mt([$n.lat+mn.lat,$n.lng+mn.lng])}var wp={__proto__:null,simplify:eu,pointToSegmentDistance:tu,closestPointOnSegment:yp,clipSegment:nu,_getEdgeIntersection:Hs,_getBitCode:as,_sqClosestPointOnSegment:Ts,isFlat:Bn,_flat:au,polylineCenter:iu},Oo={project:function(pt){return new Ut(pt.lng,pt.lat)},unproject:function(pt){return new Nt(pt.y,pt.x)},bounds:new ir([-180,-90],[180,90])},No={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ir([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(pt){var wt=Math.PI/180,Rt=this.R,$t=pt.lat*wt,Jt=this.R_MINOR/Rt,or=Math.sqrt(1-Jt*Jt),xr=or*Math.sin($t),Nr=Math.tan(Math.PI/4-$t/2)/Math.pow((1-xr)/(1+xr),or/2);return $t=-Rt*Math.log(Math.max(Nr,1e-10)),new Ut(pt.lng*wt*Rt,$t)},unproject:function(pt){for(var wt=180/Math.PI,Rt=this.R,$t=this.R_MINOR/Rt,Jt=Math.sqrt(1-$t*$t),or=Math.exp(-pt.y/Rt),xr=Math.PI/2-2*Math.atan(or),Nr=0,Mr=.1,Qr;Nr<15&&Math.abs(Mr)>1e-7;Nr++)Qr=Jt*Math.sin(xr),Qr=Math.pow((1-Qr)/(1+Qr),Jt/2),Mr=Math.PI/2-2*Math.atan(or*Qr)-xr,xr+=Mr;return new Nt(xr*wt,pt.x*wt/Rt)}},Sp={__proto__:null,LonLat:Oo,Mercator:No,SphericalMercator:er},Tp=at({},Gt,{code:"EPSG:3395",projection:No,transformation:function(){var pt=.5/(Math.PI*No.R);return Kt(pt,.5,-pt,.5)}()}),su=at({},Gt,{code:"EPSG:4326",projection:Oo,transformation:Kt(1/180,1,-1/180,.5)}),Cp=at({},Vt,{projection:Oo,transformation:Kt(1,0,-1,0),scale:function(pt){return Math.pow(2,pt)},zoom:function(pt){return Math.log(pt)/Math.LN2},distance:function(pt,wt){var Rt=wt.lng-pt.lng,$t=wt.lat-pt.lat;return Math.sqrt(Rt*Rt+$t*$t)},infinite:!0});Vt.Earth=Gt,Vt.EPSG3395=Tp,Vt.EPSG3857=pr,Vt.EPSG900913=fr,Vt.EPSG4326=su,Vt.Simple=Cp;var Wn=qt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(pt){return pt.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(pt){return pt&&pt.removeLayer(this),this},getPane:function(pt){return this._map.getPane(pt?this.options[pt]||pt:this.options.pane)},addInteractiveTarget:function(pt){return this._map._targets[lt(pt)]=this,this},removeInteractiveTarget:function(pt){return delete this._map._targets[lt(pt)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(pt){var wt=pt.target;if(wt.hasLayer(this)){if(this._map=wt,this._zoomAnimated=wt._zoomAnimated,this.getEvents){var Rt=this.getEvents();wt.on(Rt,this),this.once("remove",function(){wt.off(Rt,this)},this)}this.onAdd(wt),this.fire("add"),wt.fire("layeradd",{layer:this})}}});An.include({addLayer:function(pt){if(!pt._layerAdd)throw new Error("The provided object is not a Layer.");var wt=lt(pt);return this._layers[wt]?this:(this._layers[wt]=pt,pt._mapToAdd=this,pt.beforeAdd&&pt.beforeAdd(this),this.whenReady(pt._layerAdd,pt),this)},removeLayer:function(pt){var wt=lt(pt);return this._layers[wt]?(this._loaded&&pt.onRemove(this),delete this._layers[wt],this._loaded&&(this.fire("layerremove",{layer:pt}),pt.fire("remove")),pt._map=pt._mapToAdd=null,this):this},hasLayer:function(pt){return lt(pt)in this._layers},eachLayer:function(pt,wt){for(var Rt in this._layers)pt.call(wt,this._layers[Rt]);return this},_addLayers:function(pt){pt=pt?yt(pt)?pt:[pt]:[];for(var wt=0,Rt=pt.length;wt<Rt;wt++)this.addLayer(pt[wt])},_addZoomLimit:function(pt){(!isNaN(pt.options.maxZoom)||!isNaN(pt.options.minZoom))&&(this._zoomBoundLayers[lt(pt)]=pt,this._updateZoomLevels())},_removeZoomLimit:function(pt){var wt=lt(pt);this._zoomBoundLayers[wt]&&(delete this._zoomBoundLayers[wt],this._updateZoomLevels())},_updateZoomLevels:function(){var pt=1/0,wt=-1/0,Rt=this._getZoomSpan();for(var $t in this._zoomBoundLayers){var Jt=this._zoomBoundLayers[$t].options;pt=Jt.minZoom===void 0?pt:Math.min(pt,Jt.minZoom),wt=Jt.maxZoom===void 0?wt:Math.max(wt,Jt.maxZoom)}this._layersMaxZoom=wt===-1/0?void 0:wt,this._layersMinZoom=pt===1/0?void 0:pt,Rt!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var cs=Wn.extend({initialize:function(pt,wt){mt(this,wt),this._layers={};var Rt,$t;if(pt)for(Rt=0,$t=pt.length;Rt<$t;Rt++)this.addLayer(pt[Rt])},addLayer:function(pt){var wt=this.getLayerId(pt);return this._layers[wt]=pt,this._map&&this._map.addLayer(pt),this},removeLayer:function(pt){var wt=pt in this._layers?pt:this.getLayerId(pt);return this._map&&this._layers[wt]&&this._map.removeLayer(this._layers[wt]),delete this._layers[wt],this},hasLayer:function(pt){var wt=typeof pt=="number"?pt:this.getLayerId(pt);return wt in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(pt){var wt=Array.prototype.slice.call(arguments,1),Rt,$t;for(Rt in this._layers)$t=this._layers[Rt],$t[pt]&&$t[pt].apply($t,wt);return this},onAdd:function(pt){this.eachLayer(pt.addLayer,pt)},onRemove:function(pt){this.eachLayer(pt.removeLayer,pt)},eachLayer:function(pt,wt){for(var Rt in this._layers)pt.call(wt,this._layers[Rt]);return this},getLayer:function(pt){return this._layers[pt]},getLayers:function(){var pt=[];return this.eachLayer(pt.push,pt),pt},setZIndex:function(pt){return this.invoke("setZIndex",pt)},getLayerId:function(pt){return lt(pt)}}),Ap=function(pt,wt){return new cs(pt,wt)},Jn=cs.extend({addLayer:function(pt){return this.hasLayer(pt)?this:(pt.addEventParent(this),cs.prototype.addLayer.call(this,pt),this.fire("layeradd",{layer:pt}))},removeLayer:function(pt){return this.hasLayer(pt)?(pt in this._layers&&(pt=this._layers[pt]),pt.removeEventParent(this),cs.prototype.removeLayer.call(this,pt),this.fire("layerremove",{layer:pt})):this},setStyle:function(pt){return this.invoke("setStyle",pt)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var pt=new Lt;for(var wt in this._layers){var Rt=this._layers[wt];pt.extend(Rt.getBounds?Rt.getBounds():Rt.getLatLng())}return pt}}),Pp=function(pt,wt){return new Jn(pt,wt)},us=Ot.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(pt){mt(this,pt)},createIcon:function(pt){return this._createIcon("icon",pt)},createShadow:function(pt){return this._createIcon("shadow",pt)},_createIcon:function(pt,wt){var Rt=this._getIconUrl(pt);if(!Rt){if(pt==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var $t=this._createImg(Rt,wt&&wt.tagName==="IMG"?wt:null);return this._setIconStyles($t,pt),(this.options.crossOrigin||this.options.crossOrigin==="")&&($t.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),$t},_setIconStyles:function(pt,wt){var Rt=this.options,$t=Rt[wt+"Size"];typeof $t=="number"&&($t=[$t,$t]);var Jt=Qt($t),or=Qt(wt==="shadow"&&Rt.shadowAnchor||Rt.iconAnchor||Jt&&Jt.divideBy(2,!0));pt.className="leaflet-marker-"+wt+" "+(Rt.className||""),or&&(pt.style.marginLeft=-or.x+"px",pt.style.marginTop=-or.y+"px"),Jt&&(pt.style.width=Jt.x+"px",pt.style.height=Jt.y+"px")},_createImg:function(pt,wt){return wt=wt||document.createElement("img"),wt.src=pt,wt},_getIconUrl:function(pt){return ur.retina&&this.options[pt+"RetinaUrl"]||this.options[pt+"Url"]}});function Rp(pt){return new us(pt)}var Cs=us.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(pt){return typeof Cs.imagePath!="string"&&(Cs.imagePath=this._detectIconPath()),(this.options.imagePath||Cs.imagePath)+us.prototype._getIconUrl.call(this,pt)},_stripUrl:function(pt){var wt=function(Rt,$t,Jt){var or=$t.exec(Rt);return or&&or[Jt]};return pt=wt(pt,/^url\((['"])?(.+)\1\)$/,2),pt&&wt(pt,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var pt=_n("div","leaflet-default-icon-path",document.body),wt=Zn(pt,"background-image")||Zn(pt,"backgroundImage");if(document.body.removeChild(pt),wt=this._stripUrl(wt),wt)return wt;var Rt=document.querySelector('link[href$="leaflet.css"]');return Rt?Rt.href.substring(0,Rt.href.length-11-1):""}}),ou=qn.extend({initialize:function(pt){this._marker=pt},addHooks:function(){var pt=this._marker._icon;this._draggable||(this._draggable=new $a(pt,pt,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),En(pt,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&jn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(pt){var wt=this._marker,Rt=wt._map,$t=this._marker.options.autoPanSpeed,Jt=this._marker.options.autoPanPadding,or=ts(wt._icon),xr=Rt.getPixelBounds(),Nr=Rt.getPixelOrigin(),Mr=Xt(xr.min._subtract(Nr).add(Jt),xr.max._subtract(Nr).subtract(Jt));if(!Mr.contains(or)){var Qr=Qt((Math.max(Mr.max.x,or.x)-Mr.max.x)/(xr.max.x-Mr.max.x)-(Math.min(Mr.min.x,or.x)-Mr.min.x)/(xr.min.x-Mr.min.x),(Math.max(Mr.max.y,or.y)-Mr.max.y)/(xr.max.y-Mr.max.y)-(Math.min(Mr.min.y,or.y)-Mr.min.y)/(xr.min.y-Mr.min.y)).multiplyBy($t);Rt.panBy(Qr,{animate:!1}),this._draggable._newPos._add(Qr),this._draggable._startPos._add(Qr),Dn(wt._icon,this._draggable._newPos),this._onDrag(pt),this._panRequest=Pt(this._adjustPan.bind(this,pt))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(pt){this._marker.options.autoPan&&(Dt(this._panRequest),this._panRequest=Pt(this._adjustPan.bind(this,pt)))},_onDrag:function(pt){var wt=this._marker,Rt=wt._shadow,$t=ts(wt._icon),Jt=wt._map.layerPointToLatLng($t);Rt&&Dn(Rt,$t),wt._latlng=Jt,pt.latlng=Jt,pt.oldLatLng=this._oldLatLng,wt.fire("move",pt).fire("drag",pt)},_onDragEnd:function(pt){Dt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",pt)}}),zs=Wn.extend({options:{icon:new Cs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(pt,wt){mt(this,wt),this._latlng=Mt(pt)},onAdd:function(pt){this._zoomAnimated=this._zoomAnimated&&pt.options.markerZoomAnimation,this._zoomAnimated&&pt.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(pt){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&pt.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(pt){var wt=this._latlng;return this._latlng=Mt(pt),this.update(),this.fire("move",{oldLatLng:wt,latlng:this._latlng})},setZIndexOffset:function(pt){return this.options.zIndexOffset=pt,this.update()},getIcon:function(){return this.options.icon},setIcon:function(pt){return this.options.icon=pt,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var pt=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(pt)}return this},_initIcon:function(){var pt=this.options,wt="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),Rt=pt.icon.createIcon(this._icon),$t=!1;Rt!==this._icon&&(this._icon&&this._removeIcon(),$t=!0,pt.title&&(Rt.title=pt.title),Rt.tagName==="IMG"&&(Rt.alt=pt.alt||"")),En(Rt,wt),pt.keyboard&&(Rt.tabIndex="0",Rt.setAttribute("role","button")),this._icon=Rt,pt.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&bn(Rt,"focus",this._panOnFocus,this);var Jt=pt.icon.createShadow(this._shadow),or=!1;Jt!==this._shadow&&(this._removeShadow(),or=!0),Jt&&(En(Jt,wt),Jt.alt=""),this._shadow=Jt,pt.opacity<1&&this._updateOpacity(),$t&&this.getPane().appendChild(this._icon),this._initInteraction(),Jt&&or&&this.getPane(pt.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Rn(this._icon,"focus",this._panOnFocus,this),kn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&kn(this._shadow),this._shadow=null},_setPos:function(pt){this._icon&&Dn(this._icon,pt),this._shadow&&Dn(this._shadow,pt),this._zIndex=pt.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(pt){this._icon&&(this._icon.style.zIndex=this._zIndex+pt)},_animateZoom:function(pt){var wt=this._map._latLngToNewLayerPoint(this._latlng,pt.zoom,pt.center).round();this._setPos(wt)},_initInteraction:function(){if(this.options.interactive&&(En(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ou)){var pt=this.options.draggable;this.dragging&&(pt=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ou(this),pt&&this.dragging.enable()}},setOpacity:function(pt){return this.options.opacity=pt,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var pt=this.options.opacity;this._icon&&Ln(this._icon,pt),this._shadow&&Ln(this._shadow,pt)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var pt=this._map;if(pt){var wt=this.options.icon.options,Rt=wt.iconSize?Qt(wt.iconSize):Qt(0,0),$t=wt.iconAnchor?Qt(wt.iconAnchor):Qt(0,0);pt.panInside(this._latlng,{paddingTopLeft:$t,paddingBottomRight:Rt.subtract($t)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function kp(pt,wt){return new zs(pt,wt)}var _i=Wn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(pt){this._renderer=pt.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(pt){return mt(this,pt),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&pt&&Object.prototype.hasOwnProperty.call(pt,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ws=_i.extend({options:{fill:!0,radius:10},initialize:function(pt,wt){mt(this,wt),this._latlng=Mt(pt),this._radius=this.options.radius},setLatLng:function(pt){var wt=this._latlng;return this._latlng=Mt(pt),this.redraw(),this.fire("move",{oldLatLng:wt,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(pt){return this.options.radius=this._radius=pt,this.redraw()},getRadius:function(){return this._radius},setStyle:function(pt){var wt=pt&&pt.radius||this._radius;return _i.prototype.setStyle.call(this,pt),this.setRadius(wt),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var pt=this._radius,wt=this._radiusY||pt,Rt=this._clickTolerance(),$t=[pt+Rt,wt+Rt];this._pxBounds=new ir(this._point.subtract($t),this._point.add($t))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(pt){return pt.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function jp(pt,wt){return new Ws(pt,wt)}var Fo=Ws.extend({initialize:function(pt,wt,Rt){if(typeof wt=="number"&&(wt=at({},Rt,{radius:wt})),mt(this,wt),this._latlng=Mt(pt),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(pt){return this._mRadius=pt,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var pt=[this._radius,this._radiusY||this._radius];return new Lt(this._map.layerPointToLatLng(this._point.subtract(pt)),this._map.layerPointToLatLng(this._point.add(pt)))},setStyle:_i.prototype.setStyle,_project:function(){var pt=this._latlng.lng,wt=this._latlng.lat,Rt=this._map,$t=Rt.options.crs;if($t.distance===Gt.distance){var Jt=Math.PI/180,or=this._mRadius/Gt.R/Jt,xr=Rt.project([wt+or,pt]),Nr=Rt.project([wt-or,pt]),Mr=xr.add(Nr).divideBy(2),Qr=Rt.unproject(Mr).lat,mn=Math.acos((Math.cos(or*Jt)-Math.sin(wt*Jt)*Math.sin(Qr*Jt))/(Math.cos(wt*Jt)*Math.cos(Qr*Jt)))/Jt;(isNaN(mn)||mn===0)&&(mn=or/Math.cos(Math.PI/180*wt)),this._point=Mr.subtract(Rt.getPixelOrigin()),this._radius=isNaN(mn)?0:Mr.x-Rt.project([Qr,pt-mn]).x,this._radiusY=Mr.y-xr.y}else{var vn=$t.unproject($t.project(this._latlng).subtract([this._mRadius,0]));this._point=Rt.latLngToLayerPoint(this._latlng),this._radius=this._point.x-Rt.latLngToLayerPoint(vn).x}this._updateBounds()}});function Dp(pt,wt,Rt){return new Fo(pt,wt,Rt)}var Qn=_i.extend({options:{smoothFactor:1,noClip:!1},initialize:function(pt,wt){mt(this,wt),this._setLatLngs(pt)},getLatLngs:function(){return this._latlngs},setLatLngs:function(pt){return this._setLatLngs(pt),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(pt){for(var wt=1/0,Rt=null,$t=Ts,Jt,or,xr=0,Nr=this._parts.length;xr<Nr;xr++)for(var Mr=this._parts[xr],Qr=1,mn=Mr.length;Qr<mn;Qr++){Jt=Mr[Qr-1],or=Mr[Qr];var vn=$t(pt,Jt,or,!0);vn<wt&&(wt=vn,Rt=$t(pt,Jt,or))}return Rt&&(Rt.distance=Math.sqrt(wt)),Rt},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return iu(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(pt,wt){return wt=wt||this._defaultShape(),pt=Mt(pt),wt.push(pt),this._bounds.extend(pt),this.redraw()},_setLatLngs:function(pt){this._bounds=new Lt,this._latlngs=this._convertLatLngs(pt)},_defaultShape:function(){return Bn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(pt){for(var wt=[],Rt=Bn(pt),$t=0,Jt=pt.length;$t<Jt;$t++)Rt?(wt[$t]=Mt(pt[$t]),this._bounds.extend(wt[$t])):wt[$t]=this._convertLatLngs(pt[$t]);return wt},_project:function(){var pt=new ir;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,pt),this._bounds.isValid()&&pt.isValid()&&(this._rawPxBounds=pt,this._updateBounds())},_updateBounds:function(){var pt=this._clickTolerance(),wt=new Ut(pt,pt);this._rawPxBounds&&(this._pxBounds=new ir([this._rawPxBounds.min.subtract(wt),this._rawPxBounds.max.add(wt)]))},_projectLatlngs:function(pt,wt,Rt){var $t=pt[0]instanceof Nt,Jt=pt.length,or,xr;if($t){for(xr=[],or=0;or<Jt;or++)xr[or]=this._map.latLngToLayerPoint(pt[or]),Rt.extend(xr[or]);wt.push(xr)}else for(or=0;or<Jt;or++)this._projectLatlngs(pt[or],wt,Rt)},_clipPoints:function(){var pt=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(pt))){if(this.options.noClip){this._parts=this._rings;return}var wt=this._parts,Rt,$t,Jt,or,xr,Nr,Mr;for(Rt=0,Jt=0,or=this._rings.length;Rt<or;Rt++)for(Mr=this._rings[Rt],$t=0,xr=Mr.length;$t<xr-1;$t++)Nr=nu(Mr[$t],Mr[$t+1],pt,$t,!0),Nr&&(wt[Jt]=wt[Jt]||[],wt[Jt].push(Nr[0]),(Nr[1]!==Mr[$t+1]||$t===xr-2)&&(wt[Jt].push(Nr[1]),Jt++))}},_simplifyPoints:function(){for(var pt=this._parts,wt=this.options.smoothFactor,Rt=0,$t=pt.length;Rt<$t;Rt++)pt[Rt]=eu(pt[Rt],wt)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(pt,wt){var Rt,$t,Jt,or,xr,Nr,Mr=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(pt))return!1;for(Rt=0,or=this._parts.length;Rt<or;Rt++)for(Nr=this._parts[Rt],$t=0,xr=Nr.length,Jt=xr-1;$t<xr;Jt=$t++)if(!(!wt&&$t===0)&&tu(pt,Nr[Jt],Nr[$t])<=Mr)return!0;return!1}});function Op(pt,wt){return new Qn(pt,wt)}Qn._flat=au;var ds=Qn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _c(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(pt){var wt=Qn.prototype._convertLatLngs.call(this,pt),Rt=wt.length;return Rt>=2&&wt[0]instanceof Nt&&wt[0].equals(wt[Rt-1])&&wt.pop(),wt},_setLatLngs:function(pt){Qn.prototype._setLatLngs.call(this,pt),Bn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Bn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var pt=this._renderer._bounds,wt=this.options.weight,Rt=new Ut(wt,wt);if(pt=new ir(pt.min.subtract(Rt),pt.max.add(Rt)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(pt))){if(this.options.noClip){this._parts=this._rings;return}for(var $t=0,Jt=this._rings.length,or;$t<Jt;$t++)or=Ql(this._rings[$t],pt,!0),or.length&&this._parts.push(or)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(pt){var wt=!1,Rt,$t,Jt,or,xr,Nr,Mr,Qr;if(!this._pxBounds||!this._pxBounds.contains(pt))return!1;for(or=0,Mr=this._parts.length;or<Mr;or++)for(Rt=this._parts[or],xr=0,Qr=Rt.length,Nr=Qr-1;xr<Qr;Nr=xr++)$t=Rt[xr],Jt=Rt[Nr],$t.y>pt.y!=Jt.y>pt.y&&pt.x<(Jt.x-$t.x)*(pt.y-$t.y)/(Jt.y-$t.y)+$t.x&&(wt=!wt);return wt||Qn.prototype._containsPoint.call(this,pt,!0)}});function Np(pt,wt){return new ds(pt,wt)}var na=Jn.extend({initialize:function(pt,wt){mt(this,wt),this._layers={},pt&&this.addData(pt)},addData:function(pt){var wt=yt(pt)?pt:pt.features,Rt,$t,Jt;if(wt){for(Rt=0,$t=wt.length;Rt<$t;Rt++)Jt=wt[Rt],(Jt.geometries||Jt.geometry||Jt.features||Jt.coordinates)&&this.addData(Jt);return this}var or=this.options;if(or.filter&&!or.filter(pt))return this;var xr=Gs(pt,or);return xr?(xr.feature=Xs(pt),xr.defaultOptions=xr.options,this.resetStyle(xr),or.onEachFeature&&or.onEachFeature(pt,xr),this.addLayer(xr)):this},resetStyle:function(pt){return pt===void 0?this.eachLayer(this.resetStyle,this):(pt.options=at({},pt.defaultOptions),this._setLayerStyle(pt,this.options.style),this)},setStyle:function(pt){return this.eachLayer(function(wt){this._setLayerStyle(wt,pt)},this)},_setLayerStyle:function(pt,wt){pt.setStyle&&(typeof wt=="function"&&(wt=wt(pt.feature)),pt.setStyle(wt))}});function Gs(pt,wt){var Rt=pt.type==="Feature"?pt.geometry:pt,$t=Rt?Rt.coordinates:null,Jt=[],or=wt&&wt.pointToLayer,xr=wt&&wt.coordsToLatLng||Mo,Nr,Mr,Qr,mn;if(!$t&&!Rt)return null;switch(Rt.type){case"Point":return Nr=xr($t),lu(or,pt,Nr,wt);case"MultiPoint":for(Qr=0,mn=$t.length;Qr<mn;Qr++)Nr=xr($t[Qr]),Jt.push(lu(or,pt,Nr,wt));return new Jn(Jt);case"LineString":case"MultiLineString":return Mr=Ks($t,Rt.type==="LineString"?0:1,xr),new Qn(Mr,wt);case"Polygon":case"MultiPolygon":return Mr=Ks($t,Rt.type==="Polygon"?1:2,xr),new ds(Mr,wt);case"GeometryCollection":for(Qr=0,mn=Rt.geometries.length;Qr<mn;Qr++){var vn=Gs({geometry:Rt.geometries[Qr],type:"Feature",properties:pt.properties},wt);vn&&Jt.push(vn)}return new Jn(Jt);case"FeatureCollection":for(Qr=0,mn=Rt.features.length;Qr<mn;Qr++){var Sn=Gs(Rt.features[Qr],wt);Sn&&Jt.push(Sn)}return new Jn(Jt);default:throw new Error("Invalid GeoJSON object.")}}function lu(pt,wt,Rt,$t){return pt?pt(wt,Rt):new zs(Rt,$t&&$t.markersInheritOptions&&$t)}function Mo(pt){return new Nt(pt[1],pt[0],pt[2])}function Ks(pt,wt,Rt){for(var $t=[],Jt=0,or=pt.length,xr;Jt<or;Jt++)xr=wt?Ks(pt[Jt],wt-1,Rt):(Rt||Mo)(pt[Jt]),$t.push(xr);return $t}function Io(pt,wt){return pt=Mt(pt),pt.alt!==void 0?[ft(pt.lng,wt),ft(pt.lat,wt),ft(pt.alt,wt)]:[ft(pt.lng,wt),ft(pt.lat,wt)]}function qs(pt,wt,Rt,$t){for(var Jt=[],or=0,xr=pt.length;or<xr;or++)Jt.push(wt?qs(pt[or],Bn(pt[or])?0:wt-1,Rt,$t):Io(pt[or],$t));return!wt&&Rt&&Jt.length>0&&Jt.push(Jt[0].slice()),Jt}function fs(pt,wt){return pt.feature?at({},pt.feature,{geometry:wt}):Xs(wt)}function Xs(pt){return pt.type==="Feature"||pt.type==="FeatureCollection"?pt:{type:"Feature",properties:{},geometry:pt}}var $o={toGeoJSON:function(pt){return fs(this,{type:"Point",coordinates:Io(this.getLatLng(),pt)})}};zs.include($o),Fo.include($o),Ws.include($o),Qn.include({toGeoJSON:function(pt){var wt=!Bn(this._latlngs),Rt=qs(this._latlngs,wt?1:0,!1,pt);return fs(this,{type:(wt?"Multi":"")+"LineString",coordinates:Rt})}}),ds.include({toGeoJSON:function(pt){var wt=!Bn(this._latlngs),Rt=wt&&!Bn(this._latlngs[0]),$t=qs(this._latlngs,Rt?2:wt?1:0,!0,pt);return wt||($t=[$t]),fs(this,{type:(Rt?"Multi":"")+"Polygon",coordinates:$t})}}),cs.include({toMultiPoint:function(pt){var wt=[];return this.eachLayer(function(Rt){wt.push(Rt.toGeoJSON(pt).geometry.coordinates)}),fs(this,{type:"MultiPoint",coordinates:wt})},toGeoJSON:function(pt){var wt=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(wt==="MultiPoint")return this.toMultiPoint(pt);var Rt=wt==="GeometryCollection",$t=[];return this.eachLayer(function(Jt){if(Jt.toGeoJSON){var or=Jt.toGeoJSON(pt);if(Rt)$t.push(or.geometry);else{var xr=Xs(or);xr.type==="FeatureCollection"?$t.push.apply($t,xr.features):$t.push(xr)}}}),Rt?fs(this,{geometries:$t,type:"GeometryCollection"}):{type:"FeatureCollection",features:$t}}});function cu(pt,wt){return new na(pt,wt)}var Fp=cu,Ys=Wn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(pt,wt,Rt){this._url=pt,this._bounds=jt(wt),mt(this,Rt)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(En(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){kn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(pt){return this.options.opacity=pt,this._image&&this._updateOpacity(),this},setStyle:function(pt){return pt.opacity&&this.setOpacity(pt.opacity),this},bringToFront:function(){return this._map&&os(this._image),this},bringToBack:function(){return this._map&&ls(this._image),this},setUrl:function(pt){return this._url=pt,this._image&&(this._image.src=pt),this},setBounds:function(pt){return this._bounds=jt(pt),this._map&&this._reset(),this},getEvents:function(){var pt={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(pt.zoomanim=this._animateZoom),pt},setZIndex:function(pt){return this.options.zIndex=pt,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var pt=this._url.tagName==="IMG",wt=this._image=pt?this._url:_n("img");if(En(wt,"leaflet-image-layer"),this._zoomAnimated&&En(wt,"leaflet-zoom-animated"),this.options.className&&En(wt,this.options.className),wt.onselectstart=dt,wt.onmousemove=dt,wt.onload=st(this.fire,this,"load"),wt.onerror=st(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(wt.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),pt){this._url=wt.src;return}wt.src=this._url,wt.alt=this.options.alt},_animateZoom:function(pt){var wt=this._map.getZoomScale(pt.zoom),Rt=this._map._latLngBoundsToNewLayerBounds(this._bounds,pt.zoom,pt.center).min;es(this._image,Rt,wt)},_reset:function(){var pt=this._image,wt=new ir(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),Rt=wt.getSize();Dn(pt,wt.min),pt.style.width=Rt.x+"px",pt.style.height=Rt.y+"px"},_updateOpacity:function(){Ln(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var pt=this.options.errorOverlayUrl;pt&&this._url!==pt&&(this._url=pt,this._image.src=pt)},getCenter:function(){return this._bounds.getCenter()}}),Mp=function(pt,wt,Rt){return new Ys(pt,wt,Rt)},uu=Ys.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var pt=this._url.tagName==="VIDEO",wt=this._image=pt?this._url:_n("video");if(En(wt,"leaflet-image-layer"),this._zoomAnimated&&En(wt,"leaflet-zoom-animated"),this.options.className&&En(wt,this.options.className),wt.onselectstart=dt,wt.onmousemove=dt,wt.onloadeddata=st(this.fire,this,"load"),pt){for(var Rt=wt.getElementsByTagName("source"),$t=[],Jt=0;Jt<Rt.length;Jt++)$t.push(Rt[Jt].src);this._url=Rt.length>0?$t:[wt.src];return}yt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(wt.style,"objectFit")&&(wt.style.objectFit="fill"),wt.autoplay=!!this.options.autoplay,wt.loop=!!this.options.loop,wt.muted=!!this.options.muted,wt.playsInline=!!this.options.playsInline;for(var or=0;or<this._url.length;or++){var xr=_n("source");xr.src=this._url[or],wt.appendChild(xr)}}});function Ip(pt,wt,Rt){return new uu(pt,wt,Rt)}var du=Ys.extend({_initImage:function(){var pt=this._image=this._url;En(pt,"leaflet-image-layer"),this._zoomAnimated&&En(pt,"leaflet-zoom-animated"),this.options.className&&En(pt,this.options.className),pt.onselectstart=dt,pt.onmousemove=dt}});function $p(pt,wt,Rt){return new du(pt,wt,Rt)}var Xn=Wn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(pt,wt){pt&&(pt instanceof Nt||yt(pt))?(this._latlng=Mt(pt),mt(this,wt)):(mt(this,pt),this._source=wt),this.options.content&&(this._content=this.options.content)},openOn:function(pt){return pt=arguments.length?pt:this._source._map,pt.hasLayer(this)||pt.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(pt){return this._map?this.close():(arguments.length?this._source=pt:pt=this._source,this._prepareOpen(),this.openOn(pt._map)),this},onAdd:function(pt){this._zoomAnimated=pt._zoomAnimated,this._container||this._initLayout(),pt._fadeAnimated&&Ln(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),pt._fadeAnimated&&Ln(this._container,1),this.bringToFront(),this.options.interactive&&(En(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(pt){pt._fadeAnimated?(Ln(this._container,0),this._removeTimeout=setTimeout(st(kn,void 0,this._container),200)):kn(this._container),this.options.interactive&&(jn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(pt){return this._latlng=Mt(pt),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(pt){return this._content=pt,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var pt={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(pt.zoomanim=this._animateZoom),pt},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&os(this._container),this},bringToBack:function(){return this._map&&ls(this._container),this},_prepareOpen:function(pt){var wt=this._source;if(!wt._map)return!1;if(wt instanceof Jn){wt=null;var Rt=this._source._layers;for(var $t in Rt)if(Rt[$t]._map){wt=Rt[$t];break}if(!wt)return!1;this._source=wt}if(!pt)if(wt.getCenter)pt=wt.getCenter();else if(wt.getLatLng)pt=wt.getLatLng();else if(wt.getBounds)pt=wt.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(pt),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var pt=this._contentNode,wt=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof wt=="string")pt.innerHTML=wt;else{for(;pt.hasChildNodes();)pt.removeChild(pt.firstChild);pt.appendChild(wt)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var pt=this._map.latLngToLayerPoint(this._latlng),wt=Qt(this.options.offset),Rt=this._getAnchor();this._zoomAnimated?Dn(this._container,pt.add(Rt)):wt=wt.add(pt).add(Rt);var $t=this._containerBottom=-wt.y,Jt=this._containerLeft=-Math.round(this._containerWidth/2)+wt.x;this._container.style.bottom=$t+"px",this._container.style.left=Jt+"px"}},_getAnchor:function(){return[0,0]}});An.include({_initOverlay:function(pt,wt,Rt,$t){var Jt=wt;return Jt instanceof pt||(Jt=new pt($t).setContent(wt)),Rt&&Jt.setLatLng(Rt),Jt}}),Wn.include({_initOverlay:function(pt,wt,Rt,$t){var Jt=Rt;return Jt instanceof pt?(mt(Jt,$t),Jt._source=this):(Jt=wt&&!$t?wt:new pt($t,this),Jt.setContent(Rt)),Jt}});var Zs=Xn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(pt){return pt=arguments.length?pt:this._source._map,!pt.hasLayer(this)&&pt._popup&&pt._popup.options.autoClose&&pt.removeLayer(pt._popup),pt._popup=this,Xn.prototype.openOn.call(this,pt)},onAdd:function(pt){Xn.prototype.onAdd.call(this,pt),pt.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof _i||this._source.on("preclick",rs))},onRemove:function(pt){Xn.prototype.onRemove.call(this,pt),pt.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof _i||this._source.off("preclick",rs))},getEvents:function(){var pt=Xn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(pt.preclick=this.close),this.options.keepInView&&(pt.moveend=this._adjustPan),pt},_initLayout:function(){var pt="leaflet-popup",wt=this._container=_n("div",pt+" "+(this.options.className||"")+" leaflet-zoom-animated"),Rt=this._wrapper=_n("div",pt+"-content-wrapper",wt);if(this._contentNode=_n("div",pt+"-content",Rt),ws(wt),Ao(this._contentNode),bn(wt,"contextmenu",rs),this._tipContainer=_n("div",pt+"-tip-container",wt),this._tip=_n("div",pt+"-tip",this._tipContainer),this.options.closeButton){var $t=this._closeButton=_n("a",pt+"-close-button",wt);$t.setAttribute("role","button"),$t.setAttribute("aria-label","Close popup"),$t.href="#close",$t.innerHTML='<span aria-hidden="true">&#215;</span>',bn($t,"click",function(Jt){Mn(Jt),this.close()},this)}},_updateLayout:function(){var pt=this._contentNode,wt=pt.style;wt.width="",wt.whiteSpace="nowrap";var Rt=pt.offsetWidth;Rt=Math.min(Rt,this.options.maxWidth),Rt=Math.max(Rt,this.options.minWidth),wt.width=Rt+1+"px",wt.whiteSpace="",wt.height="";var $t=pt.offsetHeight,Jt=this.options.maxHeight,or="leaflet-popup-scrolled";Jt&&$t>Jt?(wt.height=Jt+"px",En(pt,or)):jn(pt,or),this._containerWidth=this._container.offsetWidth},_animateZoom:function(pt){var wt=this._map._latLngToNewLayerPoint(this._latlng,pt.zoom,pt.center),Rt=this._getAnchor();Dn(this._container,wt.add(Rt))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var pt=this._map,wt=parseInt(Zn(this._container,"marginBottom"),10)||0,Rt=this._container.offsetHeight+wt,$t=this._containerWidth,Jt=new Ut(this._containerLeft,-Rt-this._containerBottom);Jt._add(ts(this._container));var or=pt.layerPointToContainerPoint(Jt),xr=Qt(this.options.autoPanPadding),Nr=Qt(this.options.autoPanPaddingTopLeft||xr),Mr=Qt(this.options.autoPanPaddingBottomRight||xr),Qr=pt.getSize(),mn=0,vn=0;or.x+$t+Mr.x>Qr.x&&(mn=or.x+$t-Qr.x+Mr.x),or.x-mn-Nr.x<0&&(mn=or.x-Nr.x),or.y+Rt+Mr.y>Qr.y&&(vn=or.y+Rt-Qr.y+Mr.y),or.y-vn-Nr.y<0&&(vn=or.y-Nr.y),(mn||vn)&&(this.options.keepInView&&(this._autopanning=!0),pt.fire("autopanstart").panBy([mn,vn]))}},_getAnchor:function(){return Qt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Lp=function(pt,wt){return new Zs(pt,wt)};An.mergeOptions({closePopupOnClick:!0}),An.include({openPopup:function(pt,wt,Rt){return this._initOverlay(Zs,pt,wt,Rt).openOn(this),this},closePopup:function(pt){return pt=arguments.length?pt:this._popup,pt&&pt.close(),this}}),Wn.include({bindPopup:function(pt,wt){return this._popup=this._initOverlay(Zs,this._popup,pt,wt),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(pt){return this._popup&&(this instanceof Jn||(this._popup._source=this),this._popup._prepareOpen(pt||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(pt){return this._popup&&this._popup.setContent(pt),this},getPopup:function(){return this._popup},_openPopup:function(pt){if(!(!this._popup||!this._map)){ns(pt);var wt=pt.layer||pt.target;if(this._popup._source===wt&&!(wt instanceof _i)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(pt.latlng);return}this._popup._source=wt,this.openPopup(pt.latlng)}},_movePopup:function(pt){this._popup.setLatLng(pt.latlng)},_onKeyPress:function(pt){pt.originalEvent.keyCode===13&&this._openPopup(pt)}});var Js=Xn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(pt){Xn.prototype.onAdd.call(this,pt),this.setOpacity(this.options.opacity),pt.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(pt){Xn.prototype.onRemove.call(this,pt),pt.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var pt=Xn.prototype.getEvents.call(this);return this.options.permanent||(pt.preclick=this.close),pt},_initLayout:function(){var pt="leaflet-tooltip",wt=pt+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=_n("div",wt),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+lt(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(pt){var wt,Rt,$t=this._map,Jt=this._container,or=$t.latLngToContainerPoint($t.getCenter()),xr=$t.layerPointToContainerPoint(pt),Nr=this.options.direction,Mr=Jt.offsetWidth,Qr=Jt.offsetHeight,mn=Qt(this.options.offset),vn=this._getAnchor();Nr==="top"?(wt=Mr/2,Rt=Qr):Nr==="bottom"?(wt=Mr/2,Rt=0):Nr==="center"?(wt=Mr/2,Rt=Qr/2):Nr==="right"?(wt=0,Rt=Qr/2):Nr==="left"?(wt=Mr,Rt=Qr/2):xr.x<or.x?(Nr="right",wt=0,Rt=Qr/2):(Nr="left",wt=Mr+(mn.x+vn.x)*2,Rt=Qr/2),pt=pt.subtract(Qt(wt,Rt,!0)).add(mn).add(vn),jn(Jt,"leaflet-tooltip-right"),jn(Jt,"leaflet-tooltip-left"),jn(Jt,"leaflet-tooltip-top"),jn(Jt,"leaflet-tooltip-bottom"),En(Jt,"leaflet-tooltip-"+Nr),Dn(Jt,pt)},_updatePosition:function(){var pt=this._map.latLngToLayerPoint(this._latlng);this._setPosition(pt)},setOpacity:function(pt){this.options.opacity=pt,this._container&&Ln(this._container,pt)},_animateZoom:function(pt){var wt=this._map._latLngToNewLayerPoint(this._latlng,pt.zoom,pt.center);this._setPosition(wt)},_getAnchor:function(){return Qt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Bp=function(pt,wt){return new Js(pt,wt)};An.include({openTooltip:function(pt,wt,Rt){return this._initOverlay(Js,pt,wt,Rt).openOn(this),this},closeTooltip:function(pt){return pt.close(),this}}),Wn.include({bindTooltip:function(pt,wt){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Js,this._tooltip,pt,wt),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(pt){if(!(!pt&&this._tooltipHandlersAdded)){var wt=pt?"off":"on",Rt={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?Rt.add=this._openTooltip:(Rt.mouseover=this._openTooltip,Rt.mouseout=this.closeTooltip,Rt.click=this._openTooltip,this._map?this._addFocusListeners():Rt.add=this._addFocusListeners),this._tooltip.options.sticky&&(Rt.mousemove=this._moveTooltip),this[wt](Rt),this._tooltipHandlersAdded=!pt}},openTooltip:function(pt){return this._tooltip&&(this instanceof Jn||(this._tooltip._source=this),this._tooltip._prepareOpen(pt)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(pt){return this._tooltip&&this._tooltip.setContent(pt),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(pt){var wt=typeof pt.getElement=="function"&&pt.getElement();wt&&(bn(wt,"focus",function(){this._tooltip._source=pt,this.openTooltip()},this),bn(wt,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(pt){var wt=typeof pt.getElement=="function"&&pt.getElement();wt&&wt.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(pt){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var wt=this;this._map.once("moveend",function(){wt._openOnceFlag=!1,wt._openTooltip(pt)});return}this._tooltip._source=pt.layer||pt.target,this.openTooltip(this._tooltip.options.sticky?pt.latlng:void 0)}},_moveTooltip:function(pt){var wt=pt.latlng,Rt,$t;this._tooltip.options.sticky&&pt.originalEvent&&(Rt=this._map.mouseEventToContainerPoint(pt.originalEvent),$t=this._map.containerPointToLayerPoint(Rt),wt=this._map.layerPointToLatLng($t)),this._tooltip.setLatLng(wt)}});var fu=us.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(pt){var wt=pt&&pt.tagName==="DIV"?pt:document.createElement("div"),Rt=this.options;if(Rt.html instanceof Element?($s(wt),wt.appendChild(Rt.html)):wt.innerHTML=Rt.html!==!1?Rt.html:"",Rt.bgPos){var $t=Qt(Rt.bgPos);wt.style.backgroundPosition=-$t.x+"px "+-$t.y+"px"}return this._setIconStyles(wt,"icon"),wt},createShadow:function(){return null}});function Up(pt){return new fu(pt)}us.Default=Cs;var As=Wn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ur.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(pt){mt(this,pt)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(pt){pt._addZoomLimit(this)},onRemove:function(pt){this._removeAllTiles(),kn(this._container),pt._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(os(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ls(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(pt){return this.options.opacity=pt,this._updateOpacity(),this},setZIndex:function(pt){return this.options.zIndex=pt,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var pt=this._clampZoom(this._map.getZoom());pt!==this._tileZoom&&(this._tileZoom=pt,this._updateLevels()),this._update()}return this},getEvents:function(){var pt={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=ct(this._onMoveEnd,this.options.updateInterval,this)),pt.move=this._onMove),this._zoomAnimated&&(pt.zoomanim=this._animateZoom),pt},createTile:function(){return document.createElement("div")},getTileSize:function(){var pt=this.options.tileSize;return pt instanceof Ut?pt:new Ut(pt,pt)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(pt){for(var wt=this.getPane().children,Rt=-pt(-1/0,1/0),$t=0,Jt=wt.length,or;$t<Jt;$t++)or=wt[$t].style.zIndex,wt[$t]!==this._container&&or&&(Rt=pt(Rt,+or));isFinite(Rt)&&(this.options.zIndex=Rt+pt(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ur.ielt9){Ln(this._container,this.options.opacity);var pt=+new Date,wt=!1,Rt=!1;for(var $t in this._tiles){var Jt=this._tiles[$t];if(!(!Jt.current||!Jt.loaded)){var or=Math.min(1,(pt-Jt.loaded)/200);Ln(Jt.el,or),or<1?wt=!0:(Jt.active?Rt=!0:this._onOpaqueTile(Jt),Jt.active=!0)}}Rt&&!this._noPrune&&this._pruneTiles(),wt&&(Dt(this._fadeFrame),this._fadeFrame=Pt(this._updateOpacity,this))}},_onOpaqueTile:dt,_initContainer:function(){this._container||(this._container=_n("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var pt=this._tileZoom,wt=this.options.maxZoom;if(pt!==void 0){for(var Rt in this._levels)Rt=Number(Rt),this._levels[Rt].el.children.length||Rt===pt?(this._levels[Rt].el.style.zIndex=wt-Math.abs(pt-Rt),this._onUpdateLevel(Rt)):(kn(this._levels[Rt].el),this._removeTilesAtZoom(Rt),this._onRemoveLevel(Rt),delete this._levels[Rt]);var $t=this._levels[pt],Jt=this._map;return $t||($t=this._levels[pt]={},$t.el=_n("div","leaflet-tile-container leaflet-zoom-animated",this._container),$t.el.style.zIndex=wt,$t.origin=Jt.project(Jt.unproject(Jt.getPixelOrigin()),pt).round(),$t.zoom=pt,this._setZoomTransform($t,Jt.getCenter(),Jt.getZoom()),dt($t.el.offsetWidth),this._onCreateLevel($t)),this._level=$t,$t}},_onUpdateLevel:dt,_onRemoveLevel:dt,_onCreateLevel:dt,_pruneTiles:function(){if(this._map){var pt,wt,Rt=this._map.getZoom();if(Rt>this.options.maxZoom||Rt<this.options.minZoom){this._removeAllTiles();return}for(pt in this._tiles)wt=this._tiles[pt],wt.retain=wt.current;for(pt in this._tiles)if(wt=this._tiles[pt],wt.current&&!wt.active){var $t=wt.coords;this._retainParent($t.x,$t.y,$t.z,$t.z-5)||this._retainChildren($t.x,$t.y,$t.z,$t.z+2)}for(pt in this._tiles)this._tiles[pt].retain||this._removeTile(pt)}},_removeTilesAtZoom:function(pt){for(var wt in this._tiles)this._tiles[wt].coords.z===pt&&this._removeTile(wt)},_removeAllTiles:function(){for(var pt in this._tiles)this._removeTile(pt)},_invalidateAll:function(){for(var pt in this._levels)kn(this._levels[pt].el),this._onRemoveLevel(Number(pt)),delete this._levels[pt];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(pt,wt,Rt,$t){var Jt=Math.floor(pt/2),or=Math.floor(wt/2),xr=Rt-1,Nr=new Ut(+Jt,+or);Nr.z=+xr;var Mr=this._tileCoordsToKey(Nr),Qr=this._tiles[Mr];return Qr&&Qr.active?(Qr.retain=!0,!0):(Qr&&Qr.loaded&&(Qr.retain=!0),xr>$t?this._retainParent(Jt,or,xr,$t):!1)},_retainChildren:function(pt,wt,Rt,$t){for(var Jt=2*pt;Jt<2*pt+2;Jt++)for(var or=2*wt;or<2*wt+2;or++){var xr=new Ut(Jt,or);xr.z=Rt+1;var Nr=this._tileCoordsToKey(xr),Mr=this._tiles[Nr];if(Mr&&Mr.active){Mr.retain=!0;continue}else Mr&&Mr.loaded&&(Mr.retain=!0);Rt+1<$t&&this._retainChildren(Jt,or,Rt+1,$t)}},_resetView:function(pt){var wt=pt&&(pt.pinch||pt.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),wt,wt)},_animateZoom:function(pt){this._setView(pt.center,pt.zoom,!0,pt.noUpdate)},_clampZoom:function(pt){var wt=this.options;return wt.minNativeZoom!==void 0&&pt<wt.minNativeZoom?wt.minNativeZoom:wt.maxNativeZoom!==void 0&&wt.maxNativeZoom<pt?wt.maxNativeZoom:pt},_setView:function(pt,wt,Rt,$t){var Jt=Math.round(wt);this.options.maxZoom!==void 0&&Jt>this.options.maxZoom||this.options.minZoom!==void 0&&Jt<this.options.minZoom?Jt=void 0:Jt=this._clampZoom(Jt);var or=this.options.updateWhenZooming&&Jt!==this._tileZoom;(!$t||or)&&(this._tileZoom=Jt,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),Jt!==void 0&&this._update(pt),Rt||this._pruneTiles(),this._noPrune=!!Rt),this._setZoomTransforms(pt,wt)},_setZoomTransforms:function(pt,wt){for(var Rt in this._levels)this._setZoomTransform(this._levels[Rt],pt,wt)},_setZoomTransform:function(pt,wt,Rt){var $t=this._map.getZoomScale(Rt,pt.zoom),Jt=pt.origin.multiplyBy($t).subtract(this._map._getNewPixelOrigin(wt,Rt)).round();ur.any3d?es(pt.el,Jt,$t):Dn(pt.el,Jt)},_resetGrid:function(){var pt=this._map,wt=pt.options.crs,Rt=this._tileSize=this.getTileSize(),$t=this._tileZoom,Jt=this._map.getPixelWorldBounds(this._tileZoom);Jt&&(this._globalTileRange=this._pxBoundsToTileRange(Jt)),this._wrapX=wt.wrapLng&&!this.options.noWrap&&[Math.floor(pt.project([0,wt.wrapLng[0]],$t).x/Rt.x),Math.ceil(pt.project([0,wt.wrapLng[1]],$t).x/Rt.y)],this._wrapY=wt.wrapLat&&!this.options.noWrap&&[Math.floor(pt.project([wt.wrapLat[0],0],$t).y/Rt.x),Math.ceil(pt.project([wt.wrapLat[1],0],$t).y/Rt.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(pt){var wt=this._map,Rt=wt._animatingZoom?Math.max(wt._animateToZoom,wt.getZoom()):wt.getZoom(),$t=wt.getZoomScale(Rt,this._tileZoom),Jt=wt.project(pt,this._tileZoom).floor(),or=wt.getSize().divideBy($t*2);return new ir(Jt.subtract(or),Jt.add(or))},_update:function(pt){var wt=this._map;if(wt){var Rt=this._clampZoom(wt.getZoom());if(pt===void 0&&(pt=wt.getCenter()),this._tileZoom!==void 0){var $t=this._getTiledPixelBounds(pt),Jt=this._pxBoundsToTileRange($t),or=Jt.getCenter(),xr=[],Nr=this.options.keepBuffer,Mr=new ir(Jt.getBottomLeft().subtract([Nr,-Nr]),Jt.getTopRight().add([Nr,-Nr]));if(!(isFinite(Jt.min.x)&&isFinite(Jt.min.y)&&isFinite(Jt.max.x)&&isFinite(Jt.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Qr in this._tiles){var mn=this._tiles[Qr].coords;(mn.z!==this._tileZoom||!Mr.contains(new Ut(mn.x,mn.y)))&&(this._tiles[Qr].current=!1)}if(Math.abs(Rt-this._tileZoom)>1){this._setView(pt,Rt);return}for(var vn=Jt.min.y;vn<=Jt.max.y;vn++)for(var Sn=Jt.min.x;Sn<=Jt.max.x;Sn++){var In=new Ut(Sn,vn);if(In.z=this._tileZoom,!!this._isValidTile(In)){var Fn=this._tiles[this._tileCoordsToKey(In)];Fn?Fn.current=!0:xr.push(In)}}if(xr.sort(function($n,ps){return $n.distanceTo(or)-ps.distanceTo(or)}),xr.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Un=document.createDocumentFragment();for(Sn=0;Sn<xr.length;Sn++)this._addTile(xr[Sn],Un);this._level.el.appendChild(Un)}}}},_isValidTile:function(pt){var wt=this._map.options.crs;if(!wt.infinite){var Rt=this._globalTileRange;if(!wt.wrapLng&&(pt.x<Rt.min.x||pt.x>Rt.max.x)||!wt.wrapLat&&(pt.y<Rt.min.y||pt.y>Rt.max.y))return!1}if(!this.options.bounds)return!0;var $t=this._tileCoordsToBounds(pt);return jt(this.options.bounds).overlaps($t)},_keyToBounds:function(pt){return this._tileCoordsToBounds(this._keyToTileCoords(pt))},_tileCoordsToNwSe:function(pt){var wt=this._map,Rt=this.getTileSize(),$t=pt.scaleBy(Rt),Jt=$t.add(Rt),or=wt.unproject($t,pt.z),xr=wt.unproject(Jt,pt.z);return[or,xr]},_tileCoordsToBounds:function(pt){var wt=this._tileCoordsToNwSe(pt),Rt=new Lt(wt[0],wt[1]);return this.options.noWrap||(Rt=this._map.wrapLatLngBounds(Rt)),Rt},_tileCoordsToKey:function(pt){return pt.x+":"+pt.y+":"+pt.z},_keyToTileCoords:function(pt){var wt=pt.split(":"),Rt=new Ut(+wt[0],+wt[1]);return Rt.z=+wt[2],Rt},_removeTile:function(pt){var wt=this._tiles[pt];wt&&(kn(wt.el),delete this._tiles[pt],this.fire("tileunload",{tile:wt.el,coords:this._keyToTileCoords(pt)}))},_initTile:function(pt){En(pt,"leaflet-tile");var wt=this.getTileSize();pt.style.width=wt.x+"px",pt.style.height=wt.y+"px",pt.onselectstart=dt,pt.onmousemove=dt,ur.ielt9&&this.options.opacity<1&&Ln(pt,this.options.opacity)},_addTile:function(pt,wt){var Rt=this._getTilePos(pt),$t=this._tileCoordsToKey(pt),Jt=this.createTile(this._wrapCoords(pt),st(this._tileReady,this,pt));this._initTile(Jt),this.createTile.length<2&&Pt(st(this._tileReady,this,pt,null,Jt)),Dn(Jt,Rt),this._tiles[$t]={el:Jt,coords:pt,current:!0},wt.appendChild(Jt),this.fire("tileloadstart",{tile:Jt,coords:pt})},_tileReady:function(pt,wt,Rt){wt&&this.fire("tileerror",{error:wt,tile:Rt,coords:pt});var $t=this._tileCoordsToKey(pt);Rt=this._tiles[$t],Rt&&(Rt.loaded=+new Date,this._map._fadeAnimated?(Ln(Rt.el,0),Dt(this._fadeFrame),this._fadeFrame=Pt(this._updateOpacity,this)):(Rt.active=!0,this._pruneTiles()),wt||(En(Rt.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:Rt.el,coords:pt})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ur.ielt9||!this._map._fadeAnimated?Pt(this._pruneTiles,this):setTimeout(st(this._pruneTiles,this),250)))},_getTilePos:function(pt){return pt.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(pt){var wt=new Ut(this._wrapX?ut(pt.x,this._wrapX):pt.x,this._wrapY?ut(pt.y,this._wrapY):pt.y);return wt.z=pt.z,wt},_pxBoundsToTileRange:function(pt){var wt=this.getTileSize();return new ir(pt.min.unscaleBy(wt).floor(),pt.max.unscaleBy(wt).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var pt in this._tiles)if(!this._tiles[pt].loaded)return!1;return!0}});function Vp(pt){return new As(pt)}var hs=As.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(pt,wt){this._url=pt,wt=mt(this,wt),wt.detectRetina&&ur.retina&&wt.maxZoom>0?(wt.tileSize=Math.floor(wt.tileSize/2),wt.zoomReverse?(wt.zoomOffset--,wt.minZoom=Math.min(wt.maxZoom,wt.minZoom+1)):(wt.zoomOffset++,wt.maxZoom=Math.max(wt.minZoom,wt.maxZoom-1)),wt.minZoom=Math.max(0,wt.minZoom)):wt.zoomReverse?wt.minZoom=Math.min(wt.maxZoom,wt.minZoom):wt.maxZoom=Math.max(wt.minZoom,wt.maxZoom),typeof wt.subdomains=="string"&&(wt.subdomains=wt.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(pt,wt){return this._url===pt&&wt===void 0&&(wt=!0),this._url=pt,wt||this.redraw(),this},createTile:function(pt,wt){var Rt=document.createElement("img");return bn(Rt,"load",st(this._tileOnLoad,this,wt,Rt)),bn(Rt,"error",st(this._tileOnError,this,wt,Rt)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Rt.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(Rt.referrerPolicy=this.options.referrerPolicy),Rt.alt="",Rt.src=this.getTileUrl(pt),Rt},getTileUrl:function(pt){var wt={r:ur.retina?"@2x":"",s:this._getSubdomain(pt),x:pt.x,y:pt.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var Rt=this._globalTileRange.max.y-pt.y;this.options.tms&&(wt.y=Rt),wt["-y"]=Rt}return _t(this._url,at(wt,this.options))},_tileOnLoad:function(pt,wt){ur.ielt9?setTimeout(st(pt,this,null,wt),0):pt(null,wt)},_tileOnError:function(pt,wt,Rt){var $t=this.options.errorTileUrl;$t&&wt.getAttribute("src")!==$t&&(wt.src=$t),pt(Rt,wt)},_onTileRemove:function(pt){pt.tile.onload=null},_getZoomForUrl:function(){var pt=this._tileZoom,wt=this.options.maxZoom,Rt=this.options.zoomReverse,$t=this.options.zoomOffset;return Rt&&(pt=wt-pt),pt+$t},_getSubdomain:function(pt){var wt=Math.abs(pt.x+pt.y)%this.options.subdomains.length;return this.options.subdomains[wt]},_abortLoading:function(){var pt,wt;for(pt in this._tiles)if(this._tiles[pt].coords.z!==this._tileZoom&&(wt=this._tiles[pt].el,wt.onload=dt,wt.onerror=dt,!wt.complete)){wt.src=bt;var Rt=this._tiles[pt].coords;kn(wt),delete this._tiles[pt],this.fire("tileabort",{tile:wt,coords:Rt})}},_removeTile:function(pt){var wt=this._tiles[pt];if(wt)return wt.el.setAttribute("src",bt),As.prototype._removeTile.call(this,pt)},_tileReady:function(pt,wt,Rt){if(!(!this._map||Rt&&Rt.getAttribute("src")===bt))return As.prototype._tileReady.call(this,pt,wt,Rt)}});function hu(pt,wt){return new hs(pt,wt)}var pu=hs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(pt,wt){this._url=pt;var Rt=at({},this.defaultWmsParams);for(var $t in wt)$t in this.options||(Rt[$t]=wt[$t]);wt=mt(this,wt);var Jt=wt.detectRetina&&ur.retina?2:1,or=this.getTileSize();Rt.width=or.x*Jt,Rt.height=or.y*Jt,this.wmsParams=Rt},onAdd:function(pt){this._crs=this.options.crs||pt.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var wt=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[wt]=this._crs.code,hs.prototype.onAdd.call(this,pt)},getTileUrl:function(pt){var wt=this._tileCoordsToNwSe(pt),Rt=this._crs,$t=Xt(Rt.project(wt[0]),Rt.project(wt[1])),Jt=$t.min,or=$t.max,xr=(this._wmsVersion>=1.3&&this._crs===su?[Jt.y,Jt.x,or.y,or.x]:[Jt.x,Jt.y,or.x,or.y]).join(","),Nr=hs.prototype.getTileUrl.call(this,pt);return Nr+xt(this.wmsParams,Nr,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+xr},setParams:function(pt,wt){return at(this.wmsParams,pt),wt||this.redraw(),this}});function Hp(pt,wt){return new pu(pt,wt)}hs.WMS=pu,hu.wms=Hp;var ga=Wn.extend({options:{padding:.1},initialize:function(pt){mt(this,pt),lt(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),En(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var pt={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(pt.zoomanim=this._onAnimZoom),pt},_onAnimZoom:function(pt){this._updateTransform(pt.center,pt.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(pt,wt){var Rt=this._map.getZoomScale(wt,this._zoom),$t=this._map.getSize().multiplyBy(.5+this.options.padding),Jt=this._map.project(this._center,wt),or=$t.multiplyBy(-Rt).add(Jt).subtract(this._map._getNewPixelOrigin(pt,wt));ur.any3d?es(this._container,or,Rt):Dn(this._container,or)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var pt in this._layers)this._layers[pt]._reset()},_onZoomEnd:function(){for(var pt in this._layers)this._layers[pt]._project()},_updatePaths:function(){for(var pt in this._layers)this._layers[pt]._update()},_update:function(){var pt=this.options.padding,wt=this._map.getSize(),Rt=this._map.containerPointToLayerPoint(wt.multiplyBy(-pt)).round();this._bounds=new ir(Rt,Rt.add(wt.multiplyBy(1+pt*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),mu=ga.extend({options:{tolerance:0},getEvents:function(){var pt=ga.prototype.getEvents.call(this);return pt.viewprereset=this._onViewPreReset,pt},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ga.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var pt=this._container=document.createElement("canvas");bn(pt,"mousemove",this._onMouseMove,this),bn(pt,"click dblclick mousedown mouseup contextmenu",this._onClick,this),bn(pt,"mouseout",this._handleMouseOut,this),pt._leaflet_disable_events=!0,this._ctx=pt.getContext("2d")},_destroyContainer:function(){Dt(this._redrawRequest),delete this._ctx,kn(this._container),Rn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var pt;this._redrawBounds=null;for(var wt in this._layers)pt=this._layers[wt],pt._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ga.prototype._update.call(this);var pt=this._bounds,wt=this._container,Rt=pt.getSize(),$t=ur.retina?2:1;Dn(wt,pt.min),wt.width=$t*Rt.x,wt.height=$t*Rt.y,wt.style.width=Rt.x+"px",wt.style.height=Rt.y+"px",ur.retina&&this._ctx.scale(2,2),this._ctx.translate(-pt.min.x,-pt.min.y),this.fire("update")}},_reset:function(){ga.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(pt){this._updateDashArray(pt),this._layers[lt(pt)]=pt;var wt=pt._order={layer:pt,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=wt),this._drawLast=wt,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(pt){this._requestRedraw(pt)},_removePath:function(pt){var wt=pt._order,Rt=wt.next,$t=wt.prev;Rt?Rt.prev=$t:this._drawLast=$t,$t?$t.next=Rt:this._drawFirst=Rt,delete pt._order,delete this._layers[lt(pt)],this._requestRedraw(pt)},_updatePath:function(pt){this._extendRedrawBounds(pt),pt._project(),pt._update(),this._requestRedraw(pt)},_updateStyle:function(pt){this._updateDashArray(pt),this._requestRedraw(pt)},_updateDashArray:function(pt){if(typeof pt.options.dashArray=="string"){var wt=pt.options.dashArray.split(/[, ]+/),Rt=[],$t,Jt;for(Jt=0;Jt<wt.length;Jt++){if($t=Number(wt[Jt]),isNaN($t))return;Rt.push($t)}pt.options._dashArray=Rt}else pt.options._dashArray=pt.options.dashArray},_requestRedraw:function(pt){this._map&&(this._extendRedrawBounds(pt),this._redrawRequest=this._redrawRequest||Pt(this._redraw,this))},_extendRedrawBounds:function(pt){if(pt._pxBounds){var wt=(pt.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ir,this._redrawBounds.extend(pt._pxBounds.min.subtract([wt,wt])),this._redrawBounds.extend(pt._pxBounds.max.add([wt,wt]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var pt=this._redrawBounds;if(pt){var wt=pt.getSize();this._ctx.clearRect(pt.min.x,pt.min.y,wt.x,wt.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var pt,wt=this._redrawBounds;if(this._ctx.save(),wt){var Rt=wt.getSize();this._ctx.beginPath(),this._ctx.rect(wt.min.x,wt.min.y,Rt.x,Rt.y),this._ctx.clip()}this._drawing=!0;for(var $t=this._drawFirst;$t;$t=$t.next)pt=$t.layer,(!wt||pt._pxBounds&&pt._pxBounds.intersects(wt))&&pt._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(pt,wt){if(this._drawing){var Rt,$t,Jt,or,xr=pt._parts,Nr=xr.length,Mr=this._ctx;if(Nr){for(Mr.beginPath(),Rt=0;Rt<Nr;Rt++){for($t=0,Jt=xr[Rt].length;$t<Jt;$t++)or=xr[Rt][$t],Mr[$t?"lineTo":"moveTo"](or.x,or.y);wt&&Mr.closePath()}this._fillStroke(Mr,pt)}}},_updateCircle:function(pt){if(!(!this._drawing||pt._empty())){var wt=pt._point,Rt=this._ctx,$t=Math.max(Math.round(pt._radius),1),Jt=(Math.max(Math.round(pt._radiusY),1)||$t)/$t;Jt!==1&&(Rt.save(),Rt.scale(1,Jt)),Rt.beginPath(),Rt.arc(wt.x,wt.y/Jt,$t,0,Math.PI*2,!1),Jt!==1&&Rt.restore(),this._fillStroke(Rt,pt)}},_fillStroke:function(pt,wt){var Rt=wt.options;Rt.fill&&(pt.globalAlpha=Rt.fillOpacity,pt.fillStyle=Rt.fillColor||Rt.color,pt.fill(Rt.fillRule||"evenodd")),Rt.stroke&&Rt.weight!==0&&(pt.setLineDash&&pt.setLineDash(wt.options&&wt.options._dashArray||[]),pt.globalAlpha=Rt.opacity,pt.lineWidth=Rt.weight,pt.strokeStyle=Rt.color,pt.lineCap=Rt.lineCap,pt.lineJoin=Rt.lineJoin,pt.stroke())},_onClick:function(pt){for(var wt=this._map.mouseEventToLayerPoint(pt),Rt,$t,Jt=this._drawFirst;Jt;Jt=Jt.next)Rt=Jt.layer,Rt.options.interactive&&Rt._containsPoint(wt)&&(!(pt.type==="click"||pt.type==="preclick")||!this._map._draggableMoved(Rt))&&($t=Rt);this._fireEvent($t?[$t]:!1,pt)},_onMouseMove:function(pt){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var wt=this._map.mouseEventToLayerPoint(pt);this._handleMouseHover(pt,wt)}},_handleMouseOut:function(pt){var wt=this._hoveredLayer;wt&&(jn(this._container,"leaflet-interactive"),this._fireEvent([wt],pt,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(pt,wt){if(!this._mouseHoverThrottled){for(var Rt,$t,Jt=this._drawFirst;Jt;Jt=Jt.next)Rt=Jt.layer,Rt.options.interactive&&Rt._containsPoint(wt)&&($t=Rt);$t!==this._hoveredLayer&&(this._handleMouseOut(pt),$t&&(En(this._container,"leaflet-interactive"),this._fireEvent([$t],pt,"mouseover"),this._hoveredLayer=$t)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,pt),this._mouseHoverThrottled=!0,setTimeout(st(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(pt,wt,Rt){this._map._fireDOMEvent(wt,Rt||wt.type,pt)},_bringToFront:function(pt){var wt=pt._order;if(wt){var Rt=wt.next,$t=wt.prev;if(Rt)Rt.prev=$t;else return;$t?$t.next=Rt:Rt&&(this._drawFirst=Rt),wt.prev=this._drawLast,this._drawLast.next=wt,wt.next=null,this._drawLast=wt,this._requestRedraw(pt)}},_bringToBack:function(pt){var wt=pt._order;if(wt){var Rt=wt.next,$t=wt.prev;if($t)$t.next=Rt;else return;Rt?Rt.prev=$t:$t&&(this._drawLast=$t),wt.prev=null,wt.next=this._drawFirst,this._drawFirst.prev=wt,this._drawFirst=wt,this._requestRedraw(pt)}}});function gu(pt){return ur.canvas?new mu(pt):null}var Ps=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(pt){return document.createElement("<lvml:"+pt+' class="lvml">')}}catch{}return function(pt){return document.createElement("<"+pt+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),zp={_initContainer:function(){this._container=_n("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ga.prototype._update.call(this),this.fire("update"))},_initPath:function(pt){var wt=pt._container=Ps("shape");En(wt,"leaflet-vml-shape "+(this.options.className||"")),wt.coordsize="1 1",pt._path=Ps("path"),wt.appendChild(pt._path),this._updateStyle(pt),this._layers[lt(pt)]=pt},_addPath:function(pt){var wt=pt._container;this._container.appendChild(wt),pt.options.interactive&&pt.addInteractiveTarget(wt)},_removePath:function(pt){var wt=pt._container;kn(wt),pt.removeInteractiveTarget(wt),delete this._layers[lt(pt)]},_updateStyle:function(pt){var wt=pt._stroke,Rt=pt._fill,$t=pt.options,Jt=pt._container;Jt.stroked=!!$t.stroke,Jt.filled=!!$t.fill,$t.stroke?(wt||(wt=pt._stroke=Ps("stroke")),Jt.appendChild(wt),wt.weight=$t.weight+"px",wt.color=$t.color,wt.opacity=$t.opacity,$t.dashArray?wt.dashStyle=yt($t.dashArray)?$t.dashArray.join(" "):$t.dashArray.replace(/( *, *)/g," "):wt.dashStyle="",wt.endcap=$t.lineCap.replace("butt","flat"),wt.joinstyle=$t.lineJoin):wt&&(Jt.removeChild(wt),pt._stroke=null),$t.fill?(Rt||(Rt=pt._fill=Ps("fill")),Jt.appendChild(Rt),Rt.color=$t.fillColor||$t.color,Rt.opacity=$t.fillOpacity):Rt&&(Jt.removeChild(Rt),pt._fill=null)},_updateCircle:function(pt){var wt=pt._point.round(),Rt=Math.round(pt._radius),$t=Math.round(pt._radiusY||Rt);this._setPath(pt,pt._empty()?"M0 0":"AL "+wt.x+","+wt.y+" "+Rt+","+$t+" 0,"+65535*360)},_setPath:function(pt,wt){pt._path.v=wt},_bringToFront:function(pt){os(pt._container)},_bringToBack:function(pt){ls(pt._container)}},Qs=ur.vml?Ps:vr,Rs=ga.extend({_initContainer:function(){this._container=Qs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Qs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){kn(this._container),Rn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ga.prototype._update.call(this);var pt=this._bounds,wt=pt.getSize(),Rt=this._container;(!this._svgSize||!this._svgSize.equals(wt))&&(this._svgSize=wt,Rt.setAttribute("width",wt.x),Rt.setAttribute("height",wt.y)),Dn(Rt,pt.min),Rt.setAttribute("viewBox",[pt.min.x,pt.min.y,wt.x,wt.y].join(" ")),this.fire("update")}},_initPath:function(pt){var wt=pt._path=Qs("path");pt.options.className&&En(wt,pt.options.className),pt.options.interactive&&En(wt,"leaflet-interactive"),this._updateStyle(pt),this._layers[lt(pt)]=pt},_addPath:function(pt){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(pt._path),pt.addInteractiveTarget(pt._path)},_removePath:function(pt){kn(pt._path),pt.removeInteractiveTarget(pt._path),delete this._layers[lt(pt)]},_updatePath:function(pt){pt._project(),pt._update()},_updateStyle:function(pt){var wt=pt._path,Rt=pt.options;wt&&(Rt.stroke?(wt.setAttribute("stroke",Rt.color),wt.setAttribute("stroke-opacity",Rt.opacity),wt.setAttribute("stroke-width",Rt.weight),wt.setAttribute("stroke-linecap",Rt.lineCap),wt.setAttribute("stroke-linejoin",Rt.lineJoin),Rt.dashArray?wt.setAttribute("stroke-dasharray",Rt.dashArray):wt.removeAttribute("stroke-dasharray"),Rt.dashOffset?wt.setAttribute("stroke-dashoffset",Rt.dashOffset):wt.removeAttribute("stroke-dashoffset")):wt.setAttribute("stroke","none"),Rt.fill?(wt.setAttribute("fill",Rt.fillColor||Rt.color),wt.setAttribute("fill-opacity",Rt.fillOpacity),wt.setAttribute("fill-rule",Rt.fillRule||"evenodd")):wt.setAttribute("fill","none"))},_updatePoly:function(pt,wt){this._setPath(pt,wr(pt._parts,wt))},_updateCircle:function(pt){var wt=pt._point,Rt=Math.max(Math.round(pt._radius),1),$t=Math.max(Math.round(pt._radiusY),1)||Rt,Jt="a"+Rt+","+$t+" 0 1,0 ",or=pt._empty()?"M0 0":"M"+(wt.x-Rt)+","+wt.y+Jt+Rt*2+",0 "+Jt+-Rt*2+",0 ";this._setPath(pt,or)},_setPath:function(pt,wt){pt._path.setAttribute("d",wt)},_bringToFront:function(pt){os(pt._path)},_bringToBack:function(pt){ls(pt._path)}});ur.vml&&Rs.include(zp);function xu(pt){return ur.svg||ur.vml?new Rs(pt):null}An.include({getRenderer:function(pt){var wt=pt.options.renderer||this._getPaneRenderer(pt.options.pane)||this.options.renderer||this._renderer;return wt||(wt=this._renderer=this._createRenderer()),this.hasLayer(wt)||this.addLayer(wt),wt},_getPaneRenderer:function(pt){if(pt==="overlayPane"||pt===void 0)return!1;var wt=this._paneRenderers[pt];return wt===void 0&&(wt=this._createRenderer({pane:pt}),this._paneRenderers[pt]=wt),wt},_createRenderer:function(pt){return this.options.preferCanvas&&gu(pt)||xu(pt)}});var vu=ds.extend({initialize:function(pt,wt){ds.prototype.initialize.call(this,this._boundsToLatLngs(pt),wt)},setBounds:function(pt){return this.setLatLngs(this._boundsToLatLngs(pt))},_boundsToLatLngs:function(pt){return pt=jt(pt),[pt.getSouthWest(),pt.getNorthWest(),pt.getNorthEast(),pt.getSouthEast()]}});function Wp(pt,wt){return new vu(pt,wt)}Rs.create=Qs,Rs.pointsToPath=wr,na.geometryToLayer=Gs,na.coordsToLatLng=Mo,na.coordsToLatLngs=Ks,na.latLngToCoords=Io,na.latLngsToCoords=qs,na.getFeature=fs,na.asFeature=Xs,An.mergeOptions({boxZoom:!0});var yu=qn.extend({initialize:function(pt){this._map=pt,this._container=pt._container,this._pane=pt._panes.overlayPane,this._resetStateTimeout=0,pt.on("unload",this._destroy,this)},addHooks:function(){bn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Rn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){kn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(pt){if(!pt.shiftKey||pt.which!==1&&pt.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),_s(),yo(),this._startPoint=this._map.mouseEventToContainerPoint(pt),bn(document,{contextmenu:ns,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(pt){this._moved||(this._moved=!0,this._box=_n("div","leaflet-zoom-box",this._container),En(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(pt);var wt=new ir(this._point,this._startPoint),Rt=wt.getSize();Dn(this._box,wt.min),this._box.style.width=Rt.x+"px",this._box.style.height=Rt.y+"px"},_finish:function(){this._moved&&(kn(this._box),jn(this._container,"leaflet-crosshair")),bs(),_o(),Rn(document,{contextmenu:ns,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(pt){if(!(pt.which!==1&&pt.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(st(this._resetState,this),0);var wt=new Lt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(wt).fire("boxzoomend",{boxZoomBounds:wt})}},_onKeyDown:function(pt){pt.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});An.addInitHook("addHandler","boxZoom",yu),An.mergeOptions({doubleClickZoom:!0});var _u=qn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(pt){var wt=this._map,Rt=wt.getZoom(),$t=wt.options.zoomDelta,Jt=pt.originalEvent.shiftKey?Rt-$t:Rt+$t;wt.options.doubleClickZoom==="center"?wt.setZoom(Jt):wt.setZoomAround(pt.containerPoint,Jt)}});An.addInitHook("addHandler","doubleClickZoom",_u),An.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var bu=qn.extend({addHooks:function(){if(!this._draggable){var pt=this._map;this._draggable=new $a(pt._mapPane,pt._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),pt.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),pt.on("zoomend",this._onZoomEnd,this),pt.whenReady(this._onZoomEnd,this))}En(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){jn(this._map._container,"leaflet-grab"),jn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var pt=this._map;if(pt._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var wt=jt(this._map.options.maxBounds);this._offsetLimit=Xt(this._map.latLngToContainerPoint(wt.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(wt.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;pt.fire("movestart").fire("dragstart"),pt.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(pt){if(this._map.options.inertia){var wt=this._lastTime=+new Date,Rt=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(Rt),this._times.push(wt),this._prunePositions(wt)}this._map.fire("move",pt).fire("drag",pt)},_prunePositions:function(pt){for(;this._positions.length>1&&pt-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var pt=this._map.getSize().divideBy(2),wt=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=wt.subtract(pt).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(pt,wt){return pt-(pt-wt)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var pt=this._draggable._newPos.subtract(this._draggable._startPos),wt=this._offsetLimit;pt.x<wt.min.x&&(pt.x=this._viscousLimit(pt.x,wt.min.x)),pt.y<wt.min.y&&(pt.y=this._viscousLimit(pt.y,wt.min.y)),pt.x>wt.max.x&&(pt.x=this._viscousLimit(pt.x,wt.max.x)),pt.y>wt.max.y&&(pt.y=this._viscousLimit(pt.y,wt.max.y)),this._draggable._newPos=this._draggable._startPos.add(pt)}},_onPreDragWrap:function(){var pt=this._worldWidth,wt=Math.round(pt/2),Rt=this._initialWorldOffset,$t=this._draggable._newPos.x,Jt=($t-wt+Rt)%pt+wt-Rt,or=($t+wt+Rt)%pt-wt-Rt,xr=Math.abs(Jt+Rt)<Math.abs(or+Rt)?Jt:or;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=xr},_onDragEnd:function(pt){var wt=this._map,Rt=wt.options,$t=!Rt.inertia||pt.noInertia||this._times.length<2;if(wt.fire("dragend",pt),$t)wt.fire("moveend");else{this._prunePositions(+new Date);var Jt=this._lastPos.subtract(this._positions[0]),or=(this._lastTime-this._times[0])/1e3,xr=Rt.easeLinearity,Nr=Jt.multiplyBy(xr/or),Mr=Nr.distanceTo([0,0]),Qr=Math.min(Rt.inertiaMaxSpeed,Mr),mn=Nr.multiplyBy(Qr/Mr),vn=Qr/(Rt.inertiaDeceleration*xr),Sn=mn.multiplyBy(-vn/2).round();!Sn.x&&!Sn.y?wt.fire("moveend"):(Sn=wt._limitOffset(Sn,wt.options.maxBounds),Pt(function(){wt.panBy(Sn,{duration:vn,easeLinearity:xr,noMoveStart:!0,animate:!0})}))}}});An.addInitHook("addHandler","dragging",bu),An.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Eu=qn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(pt){this._map=pt,this._setPanDelta(pt.options.keyboardPanDelta),this._setZoomDelta(pt.options.zoomDelta)},addHooks:function(){var pt=this._map._container;pt.tabIndex<=0&&(pt.tabIndex="0"),bn(pt,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Rn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var pt=document.body,wt=document.documentElement,Rt=pt.scrollTop||wt.scrollTop,$t=pt.scrollLeft||wt.scrollLeft;this._map._container.focus(),window.scrollTo($t,Rt)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(pt){var wt=this._panKeys={},Rt=this.keyCodes,$t,Jt;for($t=0,Jt=Rt.left.length;$t<Jt;$t++)wt[Rt.left[$t]]=[-1*pt,0];for($t=0,Jt=Rt.right.length;$t<Jt;$t++)wt[Rt.right[$t]]=[pt,0];for($t=0,Jt=Rt.down.length;$t<Jt;$t++)wt[Rt.down[$t]]=[0,pt];for($t=0,Jt=Rt.up.length;$t<Jt;$t++)wt[Rt.up[$t]]=[0,-1*pt]},_setZoomDelta:function(pt){var wt=this._zoomKeys={},Rt=this.keyCodes,$t,Jt;for($t=0,Jt=Rt.zoomIn.length;$t<Jt;$t++)wt[Rt.zoomIn[$t]]=pt;for($t=0,Jt=Rt.zoomOut.length;$t<Jt;$t++)wt[Rt.zoomOut[$t]]=-pt},_addHooks:function(){bn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Rn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(pt){if(!(pt.altKey||pt.ctrlKey||pt.metaKey)){var wt=pt.keyCode,Rt=this._map,$t;if(wt in this._panKeys){if(!Rt._panAnim||!Rt._panAnim._inProgress)if($t=this._panKeys[wt],pt.shiftKey&&($t=Qt($t).multiplyBy(3)),Rt.options.maxBounds&&($t=Rt._limitOffset(Qt($t),Rt.options.maxBounds)),Rt.options.worldCopyJump){var Jt=Rt.wrapLatLng(Rt.unproject(Rt.project(Rt.getCenter()).add($t)));Rt.panTo(Jt)}else Rt.panBy($t)}else if(wt in this._zoomKeys)Rt.setZoom(Rt.getZoom()+(pt.shiftKey?3:1)*this._zoomKeys[wt]);else if(wt===27&&Rt._popup&&Rt._popup.options.closeOnEscapeKey)Rt.closePopup();else return;ns(pt)}}});An.addInitHook("addHandler","keyboard",Eu),An.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var wu=qn.extend({addHooks:function(){bn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Rn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(pt){var wt=Kl(pt),Rt=this._map.options.wheelDebounceTime;this._delta+=wt,this._lastMousePos=this._map.mouseEventToContainerPoint(pt),this._startTime||(this._startTime=+new Date);var $t=Math.max(Rt-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(st(this._performZoom,this),$t),ns(pt)},_performZoom:function(){var pt=this._map,wt=pt.getZoom(),Rt=this._map.options.zoomSnap||0;pt._stop();var $t=this._delta/(this._map.options.wheelPxPerZoomLevel*4),Jt=4*Math.log(2/(1+Math.exp(-Math.abs($t))))/Math.LN2,or=Rt?Math.ceil(Jt/Rt)*Rt:Jt,xr=pt._limitZoom(wt+(this._delta>0?or:-or))-wt;this._delta=0,this._startTime=null,xr&&(pt.options.scrollWheelZoom==="center"?pt.setZoom(wt+xr):pt.setZoomAround(this._lastMousePos,wt+xr))}});An.addInitHook("addHandler","scrollWheelZoom",wu);var Gp=600;An.mergeOptions({tapHold:ur.touchNative&&ur.safari&&ur.mobile,tapTolerance:15});var Su=qn.extend({addHooks:function(){bn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Rn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(pt){if(clearTimeout(this._holdTimeout),pt.touches.length===1){var wt=pt.touches[0];this._startPos=this._newPos=new Ut(wt.clientX,wt.clientY),this._holdTimeout=setTimeout(st(function(){this._cancel(),this._isTapValid()&&(bn(document,"touchend",Mn),bn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",wt))},this),Gp),bn(document,"touchend touchcancel contextmenu",this._cancel,this),bn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function pt(){Rn(document,"touchend",Mn),Rn(document,"touchend touchcancel",pt)},_cancel:function(){clearTimeout(this._holdTimeout),Rn(document,"touchend touchcancel contextmenu",this._cancel,this),Rn(document,"touchmove",this._onMove,this)},_onMove:function(pt){var wt=pt.touches[0];this._newPos=new Ut(wt.clientX,wt.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(pt,wt){var Rt=new MouseEvent(pt,{bubbles:!0,cancelable:!0,view:window,screenX:wt.screenX,screenY:wt.screenY,clientX:wt.clientX,clientY:wt.clientY});Rt._simulated=!0,wt.target.dispatchEvent(Rt)}});An.addInitHook("addHandler","tapHold",Su),An.mergeOptions({touchZoom:ur.touch,bounceAtZoomLimits:!0});var Tu=qn.extend({addHooks:function(){En(this._map._container,"leaflet-touch-zoom"),bn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){jn(this._map._container,"leaflet-touch-zoom"),Rn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(pt){var wt=this._map;if(!(!pt.touches||pt.touches.length!==2||wt._animatingZoom||this._zooming)){var Rt=wt.mouseEventToContainerPoint(pt.touches[0]),$t=wt.mouseEventToContainerPoint(pt.touches[1]);this._centerPoint=wt.getSize()._divideBy(2),this._startLatLng=wt.containerPointToLatLng(this._centerPoint),wt.options.touchZoom!=="center"&&(this._pinchStartLatLng=wt.containerPointToLatLng(Rt.add($t)._divideBy(2))),this._startDist=Rt.distanceTo($t),this._startZoom=wt.getZoom(),this._moved=!1,this._zooming=!0,wt._stop(),bn(document,"touchmove",this._onTouchMove,this),bn(document,"touchend touchcancel",this._onTouchEnd,this),Mn(pt)}},_onTouchMove:function(pt){if(!(!pt.touches||pt.touches.length!==2||!this._zooming)){var wt=this._map,Rt=wt.mouseEventToContainerPoint(pt.touches[0]),$t=wt.mouseEventToContainerPoint(pt.touches[1]),Jt=Rt.distanceTo($t)/this._startDist;if(this._zoom=wt.getScaleZoom(Jt,this._startZoom),!wt.options.bounceAtZoomLimits&&(this._zoom<wt.getMinZoom()&&Jt<1||this._zoom>wt.getMaxZoom()&&Jt>1)&&(this._zoom=wt._limitZoom(this._zoom)),wt.options.touchZoom==="center"){if(this._center=this._startLatLng,Jt===1)return}else{var or=Rt._add($t)._divideBy(2)._subtract(this._centerPoint);if(Jt===1&&or.x===0&&or.y===0)return;this._center=wt.unproject(wt.project(this._pinchStartLatLng,this._zoom).subtract(or),this._zoom)}this._moved||(wt._moveStart(!0,!1),this._moved=!0),Dt(this._animRequest);var xr=st(wt._move,wt,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Pt(xr,this,!0),Mn(pt)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Dt(this._animRequest),Rn(document,"touchmove",this._onTouchMove,this),Rn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});An.addInitHook("addHandler","touchZoom",Tu),An.BoxZoom=yu,An.DoubleClickZoom=_u,An.Drag=bu,An.Keyboard=Eu,An.ScrollWheelZoom=wu,An.TapHold=Su,An.TouchZoom=Tu,rt.Bounds=ir,rt.Browser=ur,rt.CRS=Vt,rt.Canvas=mu,rt.Circle=Fo,rt.CircleMarker=Ws,rt.Class=Ot,rt.Control=zn,rt.DivIcon=fu,rt.DivOverlay=Xn,rt.DomEvent=up,rt.DomUtil=lp,rt.Draggable=$a,rt.Evented=qt,rt.FeatureGroup=Jn,rt.GeoJSON=na,rt.GridLayer=As,rt.Handler=qn,rt.Icon=us,rt.ImageOverlay=Ys,rt.LatLng=Nt,rt.LatLngBounds=Lt,rt.Layer=Wn,rt.LayerGroup=cs,rt.LineUtil=wp,rt.Map=An,rt.Marker=zs,rt.Mixin=xp,rt.Path=_i,rt.Point=Ut,rt.PolyUtil=vp,rt.Polygon=ds,rt.Polyline=Qn,rt.Popup=Zs,rt.PosAnimation=Xl,rt.Projection=Sp,rt.Rectangle=vu,rt.Renderer=ga,rt.SVG=Rs,rt.SVGOverlay=du,rt.TileLayer=hs,rt.Tooltip=Js,rt.Transformation=ar,rt.Util=Ft,rt.VideoOverlay=uu,rt.bind=st,rt.bounds=Xt,rt.canvas=gu,rt.circle=Dp,rt.circleMarker=jp,rt.control=Ss,rt.divIcon=Up,rt.extend=at,rt.featureGroup=Pp,rt.geoJSON=cu,rt.geoJson=Fp,rt.gridLayer=Vp,rt.icon=Rp,rt.imageOverlay=Mp,rt.latLng=Mt,rt.latLngBounds=jt,rt.layerGroup=Ap,rt.map=dp,rt.marker=kp,rt.point=Qt,rt.polygon=Np,rt.polyline=Op,rt.popup=Lp,rt.rectangle=Wp,rt.setOptions=mt,rt.stamp=lt,rt.svg=xu,rt.svgOverlay=$p,rt.tileLayer=hu,rt.tooltip=Bp,rt.transformation=Kt,rt.version=nt,rt.videoOverlay=Ip;var Kp=window.L;rt.noConflict=function(){return window.L=Kp,this},window.L=rt})})(leafletSrc,leafletSrc.exports);var leafletSrcExports=leafletSrc.exports;const L$1=getDefaultExportFromCjs(leafletSrcExports);function createElementObject(et,tt,rt){return Object.freeze({instance:et,context:tt,container:rt})}function createElementHook(et,tt){return tt==null?function(nt,at){const it=reactExports.useRef();return it.current||(it.current=et(nt,at)),it}:function(nt,at){const it=reactExports.useRef();it.current||(it.current=et(nt,at));const st=reactExports.useRef(nt),{instance:ot}=it.current;return reactExports.useEffect(function(){st.current!==nt&&(tt(ot,nt,st.current),st.current=nt)},[ot,nt,at]),it}}function useLayerLifecycle(et,tt){reactExports.useEffect(function(){return(tt.layerContainer??tt.map).addLayer(et.instance),function(){var it;(it=tt.layerContainer)==null||it.removeLayer(et.instance),tt.map.removeLayer(et.instance)}},[tt,et])}function createLayerHook(et){return function(rt){const nt=useLeafletContext(),at=et(withPane(rt,nt),nt);return useAttribution(nt.map,rt.attribution),useEventHandlers(at.current,rt.eventHandlers),useLayerLifecycle(at.current,nt),at}}function usePathOptions(et,tt){const rt=reactExports.useRef();reactExports.useEffect(function(){if(tt.pathOptions!==rt.current){const at=tt.pathOptions??{};et.instance.setStyle(at),rt.current=at}},[et,tt])}function createPathHook(et){return function(rt){const nt=useLeafletContext(),at=et(withPane(rt,nt),nt);return useEventHandlers(at.current,rt.eventHandlers),useLayerLifecycle(at.current,nt),usePathOptions(at.current,rt),at}}function createLayerComponent(et,tt){const rt=createElementHook(et,tt),nt=createLayerHook(rt);return createContainerComponent(nt)}function createOverlayComponent(et,tt){const rt=createElementHook(et),nt=createDivOverlayHook(rt,tt);return createDivOverlayComponent(nt)}function createPathComponent(et,tt){const rt=createElementHook(et,tt),nt=createPathHook(rt);return createContainerComponent(nt)}function createTileLayerComponent(et,tt){const rt=createElementHook(et,tt),nt=createLayerHook(rt);return createLeafComponent(nt)}function updateGridLayer(et,tt,rt){const{opacity:nt,zIndex:at}=tt;nt!=null&&nt!==rt.opacity&&et.setOpacity(nt),at!=null&&at!==rt.zIndex&&et.setZIndex(at)}function useMap(){return useLeafletContext().map}const CircleMarker=createPathComponent(function et({center:tt,children:rt,...nt},at){const it=new leafletSrcExports.CircleMarker(tt,nt);return createElementObject(it,extendContext(at,{overlayContainer:it}))},updateCircle);function _extends(){return _extends=Object.assign||function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends.apply(this,arguments)}function MapContainerComponent({bounds:et,boundsOptions:tt,center:rt,children:nt,className:at,id:it,placeholder:st,style:ot,whenReady:lt,zoom:ct,...ut},dt){const[ft]=reactExports.useState({className:at,id:it,style:ot}),[ht,gt]=reactExports.useState(null);reactExports.useImperativeHandle(dt,()=>(ht==null?void 0:ht.map)??null,[ht]);const mt=reactExports.useCallback(vt=>{if(vt!==null&&ht===null){const _t=new leafletSrcExports.Map(vt,ut);rt!=null&&ct!=null?_t.setView(rt,ct):et!=null&&_t.fitBounds(et,tt),lt!=null&&_t.whenReady(lt),gt(createLeafletContext(_t))}},[]);reactExports.useEffect(()=>()=>{ht==null||ht.map.remove()},[ht]);const xt=ht?React$1.createElement(LeafletProvider,{value:ht},nt):st??null;return React$1.createElement("div",_extends({},ft,{ref:mt}),xt)}const MapContainer=reactExports.forwardRef(MapContainerComponent),Marker=createLayerComponent(function et({position:tt,...rt},nt){const at=new leafletSrcExports.Marker(tt,rt);return createElementObject(at,extendContext(nt,{overlayContainer:at}))},function et(tt,rt,nt){rt.position!==nt.position&&tt.setLatLng(rt.position),rt.icon!=null&&rt.icon!==nt.icon&&tt.setIcon(rt.icon),rt.zIndexOffset!=null&&rt.zIndexOffset!==nt.zIndexOffset&&tt.setZIndexOffset(rt.zIndexOffset),rt.opacity!=null&&rt.opacity!==nt.opacity&&tt.setOpacity(rt.opacity),tt.dragging!=null&&rt.draggable!==nt.draggable&&(rt.draggable===!0?tt.dragging.enable():tt.dragging.disable())}),Polyline=createPathComponent(function et({positions:tt,...rt},nt){const at=new leafletSrcExports.Polyline(tt,rt);return createElementObject(at,extendContext(nt,{overlayContainer:at}))},function et(tt,rt,nt){rt.positions!==nt.positions&&tt.setLatLngs(rt.positions)}),Popup=createOverlayComponent(function et(tt,rt){const nt=new leafletSrcExports.Popup(tt,rt.overlayContainer);return createElementObject(nt,rt)},function et(tt,rt,{position:nt},at){reactExports.useEffect(function(){const{instance:st}=tt;function ot(ct){ct.popup===st&&(st.update(),at(!0))}function lt(ct){ct.popup===st&&at(!1)}return rt.map.on({popupopen:ot,popupclose:lt}),rt.overlayContainer==null?(nt!=null&&st.setLatLng(nt),st.openOn(rt.map)):rt.overlayContainer.bindPopup(st),function(){var ut;rt.map.off({popupopen:ot,popupclose:lt}),(ut=rt.overlayContainer)==null||ut.unbindPopup(),rt.map.removeLayer(st)}},[tt,rt,at,nt])}),TileLayer=createTileLayerComponent(function et({url:tt,...rt},nt){const at=new leafletSrcExports.TileLayer(tt,withPane(rt,nt));return createElementObject(at,nt)},function et(tt,rt,nt){updateGridLayer(tt,rt,nt);const{url:at}=rt;at!=null&&at!==nt.url&&tt.setUrl(at)});var leaflet_markerclusterSrc={exports:{}};(function(et,tt){(function(rt,nt){nt(tt)})(commonjsGlobal,function(rt){var nt=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(it){L.Util.setOptions(this,it),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var st=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,st?this._withAnimation:this._noAnimation),this._markerCluster=st?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(it){if(it instanceof L.LayerGroup)return this.addLayers([it]);if(!it.getLatLng)return this._nonPointGroup.addLayer(it),this.fire("layeradd",{layer:it}),this;if(!this._map)return this._needsClustering.push(it),this.fire("layeradd",{layer:it}),this;if(this.hasLayer(it))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(it,this._maxZoom),this.fire("layeradd",{layer:it}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var st=it,ot=this._zoom;if(it.__parent)for(;st.__parent._zoom>=ot;)st=st.__parent;return this._currentShownBounds.contains(st.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(it,st):this._animationAddLayerNonAnimated(it,st)),this},removeLayer:function(it){return it instanceof L.LayerGroup?this.removeLayers([it]):it.getLatLng?this._map?it.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(it)),this._removeLayer(it,!0),this.fire("layerremove",{layer:it}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),it.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(it)&&(this._featureGroup.removeLayer(it),it.clusterShow&&it.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,it)&&this.hasLayer(it)&&this._needsRemoving.push({layer:it,latlng:it._latlng}),this.fire("layerremove",{layer:it}),this):(this._nonPointGroup.removeLayer(it),this.fire("layerremove",{layer:it}),this)},addLayers:function(it,st){if(!L.Util.isArray(it))return this.addLayer(it);var ot=this._featureGroup,lt=this._nonPointGroup,ct=this.options.chunkedLoading,ut=this.options.chunkInterval,dt=this.options.chunkProgress,ft=it.length,ht=0,gt=!0,mt;if(this._map){var xt=new Date().getTime(),vt=L.bind(function(){var yt=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();ht<ft;ht++){if(ct&&ht%200===0){var St=new Date().getTime()-yt;if(St>ut)break}if(mt=it[ht],mt instanceof L.LayerGroup){gt&&(it=it.slice(),gt=!1),this._extractNonGroupLayers(mt,it),ft=it.length;continue}if(!mt.getLatLng){lt.addLayer(mt),st||this.fire("layeradd",{layer:mt});continue}if(!this.hasLayer(mt)&&(this._addLayer(mt,this._maxZoom),st||this.fire("layeradd",{layer:mt}),mt.__parent&&mt.__parent.getChildCount()===2)){var bt=mt.__parent.getAllChildMarkers(),Et=bt[0]===mt?bt[1]:bt[0];ot.removeLayer(Et)}}dt&&dt(ht,ft,new Date().getTime()-xt),ht===ft?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(vt,this.options.chunkDelay)},this);vt()}else for(var _t=this._needsClustering;ht<ft;ht++){if(mt=it[ht],mt instanceof L.LayerGroup){gt&&(it=it.slice(),gt=!1),this._extractNonGroupLayers(mt,it),ft=it.length;continue}if(!mt.getLatLng){lt.addLayer(mt);continue}this.hasLayer(mt)||_t.push(mt)}return this},removeLayers:function(it){var st,ot,lt=it.length,ct=this._featureGroup,ut=this._nonPointGroup,dt=!0;if(!this._map){for(st=0;st<lt;st++){if(ot=it[st],ot instanceof L.LayerGroup){dt&&(it=it.slice(),dt=!1),this._extractNonGroupLayers(ot,it),lt=it.length;continue}this._arraySplice(this._needsClustering,ot),ut.removeLayer(ot),this.hasLayer(ot)&&this._needsRemoving.push({layer:ot,latlng:ot._latlng}),this.fire("layerremove",{layer:ot})}return this}if(this._unspiderfy){this._unspiderfy();var ft=it.slice(),ht=lt;for(st=0;st<ht;st++){if(ot=ft[st],ot instanceof L.LayerGroup){this._extractNonGroupLayers(ot,ft),ht=ft.length;continue}this._unspiderfyLayer(ot)}}for(st=0;st<lt;st++){if(ot=it[st],ot instanceof L.LayerGroup){dt&&(it=it.slice(),dt=!1),this._extractNonGroupLayers(ot,it),lt=it.length;continue}if(!ot.__parent){ut.removeLayer(ot),this.fire("layerremove",{layer:ot});continue}this._removeLayer(ot,!0,!0),this.fire("layerremove",{layer:ot}),ct.hasLayer(ot)&&(ct.removeLayer(ot),ot.clusterShow&&ot.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(it){it.off(this._childMarkerEventHandlers,this),delete it.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var it=new L.LatLngBounds;this._topClusterLevel&&it.extend(this._topClusterLevel._bounds);for(var st=this._needsClustering.length-1;st>=0;st--)it.extend(this._needsClustering[st].getLatLng());return it.extend(this._nonPointGroup.getBounds()),it},eachLayer:function(it,st){var ot=this._needsClustering.slice(),lt=this._needsRemoving,ct,ut,dt;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(ot),ut=ot.length-1;ut>=0;ut--){for(ct=!0,dt=lt.length-1;dt>=0;dt--)if(lt[dt].layer===ot[ut]){ct=!1;break}ct&&it.call(st,ot[ut])}this._nonPointGroup.eachLayer(it,st)},getLayers:function(){var it=[];return this.eachLayer(function(st){it.push(st)}),it},getLayer:function(it){var st=null;return it=parseInt(it,10),this.eachLayer(function(ot){L.stamp(ot)===it&&(st=ot)}),st},hasLayer:function(it){if(!it)return!1;var st,ot=this._needsClustering;for(st=ot.length-1;st>=0;st--)if(ot[st]===it)return!0;for(ot=this._needsRemoving,st=ot.length-1;st>=0;st--)if(ot[st].layer===it)return!1;return!!(it.__parent&&it.__parent._group===this)||this._nonPointGroup.hasLayer(it)},zoomToShowLayer:function(it,st){var ot=this._map;typeof st!="function"&&(st=function(){});var lt=function(){(ot.hasLayer(it)||ot.hasLayer(it.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",lt,this),this.off("animationend",lt,this),ot.hasLayer(it)?st():it.__parent._icon&&(this.once("spiderfied",st,this),it.__parent.spiderfy()))};it._icon&&this._map.getBounds().contains(it.getLatLng())?st():it.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",lt,this),this._map.panTo(it.getLatLng())):(this._map.on("moveend",lt,this),this.on("animationend",lt,this),it.__parent.zoomToBounds())},onAdd:function(it){this._map=it;var st,ot,lt;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(it),this._nonPointGroup.addTo(it),this._gridClusters||this._generateInitialClusters(),this._maxLat=it.options.crs.projection.MAX_LATITUDE,st=0,ot=this._needsRemoving.length;st<ot;st++)lt=this._needsRemoving[st],lt.newlatlng=lt.layer._latlng,lt.layer._latlng=lt.latlng;for(st=0,ot=this._needsRemoving.length;st<ot;st++)lt=this._needsRemoving[st],this._removeLayer(lt.layer,!0),lt.layer._latlng=lt.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),ot=this._needsClustering,this._needsClustering=[],this.addLayers(ot,!0)},onRemove:function(it){it.off("zoomend",this._zoomEnd,this),it.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(it){for(var st=it;st&&!st._icon;)st=st.__parent;return st||null},_arraySplice:function(it,st){for(var ot=it.length-1;ot>=0;ot--)if(it[ot]===st)return it.splice(ot,1),!0},_removeFromGridUnclustered:function(it,st){for(var ot=this._map,lt=this._gridUnclustered,ct=Math.floor(this._map.getMinZoom());st>=ct&&lt[st].removeObject(it,ot.project(it.getLatLng(),st));st--);},_childMarkerDragStart:function(it){it.target.__dragStart=it.target._latlng},_childMarkerMoved:function(it){if(!this._ignoreMove&&!it.target.__dragStart){var st=it.target._popup&&it.target._popup.isOpen();this._moveChild(it.target,it.oldLatLng,it.latlng),st&&it.target.openPopup()}},_moveChild:function(it,st,ot){it._latlng=st,this.removeLayer(it),it._latlng=ot,this.addLayer(it)},_childMarkerDragEnd:function(it){var st=it.target.__dragStart;delete it.target.__dragStart,st&&this._moveChild(it.target,st,it.target._latlng)},_removeLayer:function(it,st,ot){var lt=this._gridClusters,ct=this._gridUnclustered,ut=this._featureGroup,dt=this._map,ft=Math.floor(this._map.getMinZoom());st&&this._removeFromGridUnclustered(it,this._maxZoom);var ht=it.__parent,gt=ht._markers,mt;for(this._arraySplice(gt,it);ht&&(ht._childCount--,ht._boundsNeedUpdate=!0,!(ht._zoom<ft));)st&&ht._childCount<=1?(mt=ht._markers[0]===it?ht._markers[1]:ht._markers[0],lt[ht._zoom].removeObject(ht,dt.project(ht._cLatLng,ht._zoom)),ct[ht._zoom].addObject(mt,dt.project(mt.getLatLng(),ht._zoom)),this._arraySplice(ht.__parent._childClusters,ht),ht.__parent._markers.push(mt),mt.__parent=ht.__parent,ht._icon&&(ut.removeLayer(ht),ot||ut.addLayer(mt))):ht._iconNeedsUpdate=!0,ht=ht.__parent;delete it.__parent},_isOrIsParent:function(it,st){for(;st;){if(it===st)return!0;st=st.parentNode}return!1},fire:function(it,st,ot){if(st&&st.layer instanceof L.MarkerCluster){if(st.originalEvent&&this._isOrIsParent(st.layer._icon,st.originalEvent.relatedTarget))return;it="cluster"+it}L.FeatureGroup.prototype.fire.call(this,it,st,ot)},listens:function(it,st){return L.FeatureGroup.prototype.listens.call(this,it,st)||L.FeatureGroup.prototype.listens.call(this,"cluster"+it,st)},_defaultIconCreateFunction:function(it){var st=it.getChildCount(),ot=" marker-cluster-";return st<10?ot+="small":st<100?ot+="medium":ot+="large",new L.DivIcon({html:"<div><span>"+st+"</span></div>",className:"marker-cluster"+ot,iconSize:new L.Point(40,40)})},_bindEvents:function(){var it=this._map,st=this.options.spiderfyOnMaxZoom,ot=this.options.showCoverageOnHover,lt=this.options.zoomToBoundsOnClick,ct=this.options.spiderfyOnEveryZoom;(st||lt||ct)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),ot&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),it.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(it){var st=it.layer,ot=st;if(!(it.type==="clusterkeypress"&&it.originalEvent&&it.originalEvent.keyCode!==13)){for(;ot._childClusters.length===1;)ot=ot._childClusters[0];ot._zoom===this._maxZoom&&ot._childCount===st._childCount&&this.options.spiderfyOnMaxZoom?st.spiderfy():this.options.zoomToBoundsOnClick&&st.zoomToBounds(),this.options.spiderfyOnEveryZoom&&st.spiderfy(),it.originalEvent&&it.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(it){var st=this._map;this._inZoomAnimation||(this._shownPolygon&&st.removeLayer(this._shownPolygon),it.layer.getChildCount()>2&&it.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(it.layer.getConvexHull(),this.options.polygonOptions),st.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var it=this.options.spiderfyOnMaxZoom,st=this.options.showCoverageOnHover,ot=this.options.zoomToBoundsOnClick,lt=this.options.spiderfyOnEveryZoom,ct=this._map;(it||ot||lt)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),st&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),ct.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var it=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,it),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),it),this._currentShownBounds=it}},_generateInitialClusters:function(){var it=Math.ceil(this._map.getMaxZoom()),st=Math.floor(this._map.getMinZoom()),ot=this.options.maxClusterRadius,lt=ot;typeof ot!="function"&&(lt=function(){return ot}),this.options.disableClusteringAtZoom!==null&&(it=this.options.disableClusteringAtZoom-1),this._maxZoom=it,this._gridClusters={},this._gridUnclustered={};for(var ct=it;ct>=st;ct--)this._gridClusters[ct]=new L.DistanceGrid(lt(ct)),this._gridUnclustered[ct]=new L.DistanceGrid(lt(ct));this._topClusterLevel=new this._markerCluster(this,st-1)},_addLayer:function(it,st){var ot=this._gridClusters,lt=this._gridUnclustered,ct=Math.floor(this._map.getMinZoom()),ut,dt;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(it),it.on(this._childMarkerEventHandlers,this);st>=ct;st--){ut=this._map.project(it.getLatLng(),st);var ft=ot[st].getNearObject(ut);if(ft){ft._addChild(it),it.__parent=ft;return}if(ft=lt[st].getNearObject(ut),ft){var ht=ft.__parent;ht&&this._removeLayer(ft,!1);var gt=new this._markerCluster(this,st,ft,it);ot[st].addObject(gt,this._map.project(gt._cLatLng,st)),ft.__parent=gt,it.__parent=gt;var mt=gt;for(dt=st-1;dt>ht._zoom;dt--)mt=new this._markerCluster(this,dt,mt),ot[dt].addObject(mt,this._map.project(ft.getLatLng(),dt));ht._addChild(mt),this._removeFromGridUnclustered(ft,st);return}lt[st].addObject(it,ut)}this._topClusterLevel._addChild(it),it.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(it){it instanceof L.MarkerCluster&&it._iconNeedsUpdate&&it._updateIcon()})},_enqueue:function(it){this._queue.push(it),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var it=0;it<this._queue.length;it++)this._queue[it].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var it=Math.round(this._map._zoom);this._processQueue(),this._zoom<it&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,it)):this._zoom>it?(this._animationStart(),this._animationZoomOut(this._zoom,it)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(it){var st=this._maxLat;return st!==void 0&&(it.getNorth()>=st&&(it._northEast.lat=1/0),it.getSouth()<=-st&&(it._southWest.lat=-1/0)),it},_animationAddLayerNonAnimated:function(it,st){if(st===it)this._featureGroup.addLayer(it);else if(st._childCount===2){st._addToMap();var ot=st.getAllChildMarkers();this._featureGroup.removeLayer(ot[0]),this._featureGroup.removeLayer(ot[1])}else st._updateIcon()},_extractNonGroupLayers:function(it,st){var ot=it.getLayers(),lt=0,ct;for(st=st||[];lt<ot.length;lt++){if(ct=ot[lt],ct instanceof L.LayerGroup){this._extractNonGroupLayers(ct,st);continue}st.push(ct)}return st},_overrideMarkerIcon:function(it){var st=it.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[it]}});return st}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(it,st){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),it),this._topClusterLevel._recursivelyAddChildrenToMap(null,st,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(it,st){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),it),this._topClusterLevel._recursivelyAddChildrenToMap(null,st,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(it,st){this._animationAddLayerNonAnimated(it,st)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(it,st){var ot=this._getExpandedVisibleBounds(),lt=this._featureGroup,ct=Math.floor(this._map.getMinZoom()),ut;this._ignoreMove=!0,this._topClusterLevel._recursively(ot,it,ct,function(dt){var ft=dt._latlng,ht=dt._markers,gt;for(ot.contains(ft)||(ft=null),dt._isSingleParent()&&it+1===st?(lt.removeLayer(dt),dt._recursivelyAddChildrenToMap(null,st,ot)):(dt.clusterHide(),dt._recursivelyAddChildrenToMap(ft,st,ot)),ut=ht.length-1;ut>=0;ut--)gt=ht[ut],ot.contains(gt._latlng)||lt.removeLayer(gt)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(ot,st),lt.eachLayer(function(dt){!(dt instanceof L.MarkerCluster)&&dt._icon&&dt.clusterShow()}),this._topClusterLevel._recursively(ot,it,st,function(dt){dt._recursivelyRestoreChildPositions(st)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(ot,it,ct,function(dt){lt.removeLayer(dt),dt.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(it,st){this._animationZoomOutSingle(this._topClusterLevel,it-1,st),this._topClusterLevel._recursivelyAddChildrenToMap(null,st,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),it,this._getExpandedVisibleBounds())},_animationAddLayer:function(it,st){var ot=this,lt=this._featureGroup;lt.addLayer(it),st!==it&&(st._childCount>2?(st._updateIcon(),this._forceLayout(),this._animationStart(),it._setPos(this._map.latLngToLayerPoint(st.getLatLng())),it.clusterHide(),this._enqueue(function(){lt.removeLayer(it),it.clusterShow(),ot._animationEnd()})):(this._forceLayout(),ot._animationStart(),ot._animationZoomOutSingle(st,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(it,st,ot){var lt=this._getExpandedVisibleBounds(),ct=Math.floor(this._map.getMinZoom());it._recursivelyAnimateChildrenInAndAddSelfToMap(lt,ct,st+1,ot);var ut=this;this._forceLayout(),it._recursivelyBecomeVisible(lt,ot),this._enqueue(function(){if(it._childCount===1){var dt=it._markers[0];this._ignoreMove=!0,dt.setLatLng(dt.getLatLng()),this._ignoreMove=!1,dt.clusterShow&&dt.clusterShow()}else it._recursively(lt,ot,ct,function(ft){ft._recursivelyRemoveChildrenFromMap(lt,ct,st+1)});ut._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(it){return new L.MarkerClusterGroup(it)};var at=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(it,st,ot,lt){L.Marker.prototype.initialize.call(this,ot?ot._cLatLng||ot.getLatLng():new L.LatLng(0,0),{icon:this,pane:it.options.clusterPane}),this._group=it,this._zoom=st,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,ot&&this._addChild(ot),lt&&this._addChild(lt)},getAllChildMarkers:function(it,st){it=it||[];for(var ot=this._childClusters.length-1;ot>=0;ot--)this._childClusters[ot].getAllChildMarkers(it,st);for(var lt=this._markers.length-1;lt>=0;lt--)st&&this._markers[lt].__dragStart||it.push(this._markers[lt]);return it},getChildCount:function(){return this._childCount},zoomToBounds:function(it){for(var st=this._childClusters.slice(),ot=this._group._map,lt=ot.getBoundsZoom(this._bounds),ct=this._zoom+1,ut=ot.getZoom(),dt;st.length>0&&lt>ct;){ct++;var ft=[];for(dt=0;dt<st.length;dt++)ft=ft.concat(st[dt]._childClusters);st=ft}lt>ct?this._group._map.setView(this._latlng,ct):lt<=ut?this._group._map.setView(this._latlng,ut+1):this._group._map.fitBounds(this._bounds,it)},getBounds:function(){var it=new L.LatLngBounds;return it.extend(this._bounds),it},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(it,st){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(it),it instanceof L.MarkerCluster?(st||(this._childClusters.push(it),it.__parent=this),this._childCount+=it._childCount):(st||this._markers.push(it),this._childCount++),this.__parent&&this.__parent._addChild(it,!0)},_setClusterCenter:function(it){this._cLatLng||(this._cLatLng=it._cLatLng||it._latlng)},_resetBounds:function(){var it=this._bounds;it._southWest&&(it._southWest.lat=1/0,it._southWest.lng=1/0),it._northEast&&(it._northEast.lat=-1/0,it._northEast.lng=-1/0)},_recalculateBounds:function(){var it=this._markers,st=this._childClusters,ot=0,lt=0,ct=this._childCount,ut,dt,ft,ht;if(ct!==0){for(this._resetBounds(),ut=0;ut<it.length;ut++)ft=it[ut]._latlng,this._bounds.extend(ft),ot+=ft.lat,lt+=ft.lng;for(ut=0;ut<st.length;ut++)dt=st[ut],dt._boundsNeedUpdate&&dt._recalculateBounds(),this._bounds.extend(dt._bounds),ft=dt._wLatLng,ht=dt._childCount,ot+=ft.lat*ht,lt+=ft.lng*ht;this._latlng=this._wLatLng=new L.LatLng(ot/ct,lt/ct),this._boundsNeedUpdate=!1}},_addToMap:function(it){it&&(this._backupLatlng=this._latlng,this.setLatLng(it)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(it,st,ot){this._recursively(it,this._group._map.getMinZoom(),ot-1,function(lt){var ct=lt._markers,ut,dt;for(ut=ct.length-1;ut>=0;ut--)dt=ct[ut],dt._icon&&(dt._setPos(st),dt.clusterHide())},function(lt){var ct=lt._childClusters,ut,dt;for(ut=ct.length-1;ut>=0;ut--)dt=ct[ut],dt._icon&&(dt._setPos(st),dt.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(it,st,ot,lt){this._recursively(it,lt,st,function(ct){ct._recursivelyAnimateChildrenIn(it,ct._group._map.latLngToLayerPoint(ct.getLatLng()).round(),ot),ct._isSingleParent()&&ot-1===lt?(ct.clusterShow(),ct._recursivelyRemoveChildrenFromMap(it,st,ot)):ct.clusterHide(),ct._addToMap()})},_recursivelyBecomeVisible:function(it,st){this._recursively(it,this._group._map.getMinZoom(),st,null,function(ot){ot.clusterShow()})},_recursivelyAddChildrenToMap:function(it,st,ot){this._recursively(ot,this._group._map.getMinZoom()-1,st,function(lt){if(st!==lt._zoom)for(var ct=lt._markers.length-1;ct>=0;ct--){var ut=lt._markers[ct];ot.contains(ut._latlng)&&(it&&(ut._backupLatlng=ut.getLatLng(),ut.setLatLng(it),ut.clusterHide&&ut.clusterHide()),lt._group._featureGroup.addLayer(ut))}},function(lt){lt._addToMap(it)})},_recursivelyRestoreChildPositions:function(it){for(var st=this._markers.length-1;st>=0;st--){var ot=this._markers[st];ot._backupLatlng&&(ot.setLatLng(ot._backupLatlng),delete ot._backupLatlng)}if(it-1===this._zoom)for(var lt=this._childClusters.length-1;lt>=0;lt--)this._childClusters[lt]._restorePosition();else for(var ct=this._childClusters.length-1;ct>=0;ct--)this._childClusters[ct]._recursivelyRestoreChildPositions(it)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(it,st,ot,lt){var ct,ut;this._recursively(it,st-1,ot-1,function(dt){for(ut=dt._markers.length-1;ut>=0;ut--)ct=dt._markers[ut],(!lt||!lt.contains(ct._latlng))&&(dt._group._featureGroup.removeLayer(ct),ct.clusterShow&&ct.clusterShow())},function(dt){for(ut=dt._childClusters.length-1;ut>=0;ut--)ct=dt._childClusters[ut],(!lt||!lt.contains(ct._latlng))&&(dt._group._featureGroup.removeLayer(ct),ct.clusterShow&&ct.clusterShow())})},_recursively:function(it,st,ot,lt,ct){var ut=this._childClusters,dt=this._zoom,ft,ht;if(st<=dt&&(lt&&lt(this),ct&&dt===ot&&ct(this)),dt<st||dt<ot)for(ft=ut.length-1;ft>=0;ft--)ht=ut[ft],ht._boundsNeedUpdate&&ht._recalculateBounds(),it.intersects(ht._bounds)&&ht._recursively(it,st,ot,lt,ct)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var it=this.options.opacity;return this.setOpacity(0),this.options.opacity=it,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(it){this._cellSize=it,this._sqCellSize=it*it,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(it,st){var ot=this._getCoord(st.x),lt=this._getCoord(st.y),ct=this._grid,ut=ct[lt]=ct[lt]||{},dt=ut[ot]=ut[ot]||[],ft=L.Util.stamp(it);this._objectPoint[ft]=st,dt.push(it)},updateObject:function(it,st){this.removeObject(it),this.addObject(it,st)},removeObject:function(it,st){var ot=this._getCoord(st.x),lt=this._getCoord(st.y),ct=this._grid,ut=ct[lt]=ct[lt]||{},dt=ut[ot]=ut[ot]||[],ft,ht;for(delete this._objectPoint[L.Util.stamp(it)],ft=0,ht=dt.length;ft<ht;ft++)if(dt[ft]===it)return dt.splice(ft,1),ht===1&&delete ut[ot],!0},eachObject:function(it,st){var ot,lt,ct,ut,dt,ft,ht,gt=this._grid;for(ot in gt){dt=gt[ot];for(lt in dt)for(ft=dt[lt],ct=0,ut=ft.length;ct<ut;ct++)ht=it.call(st,ft[ct]),ht&&(ct--,ut--)}},getNearObject:function(it){var st=this._getCoord(it.x),ot=this._getCoord(it.y),lt,ct,ut,dt,ft,ht,gt,mt,xt=this._objectPoint,vt=this._sqCellSize,_t=null;for(lt=ot-1;lt<=ot+1;lt++)if(dt=this._grid[lt],dt){for(ct=st-1;ct<=st+1;ct++)if(ft=dt[ct],ft)for(ut=0,ht=ft.length;ut<ht;ut++)gt=ft[ut],mt=this._sqDist(xt[L.Util.stamp(gt)],it),(mt<vt||mt<=vt&&_t===null)&&(vt=mt,_t=gt)}return _t},_getCoord:function(it){var st=Math.floor(it/this._cellSize);return isFinite(st)?st:it},_sqDist:function(it,st){var ot=st.x-it.x,lt=st.y-it.y;return ot*ot+lt*lt}},function(){L.QuickHull={getDistant:function(it,st){var ot=st[1].lat-st[0].lat,lt=st[0].lng-st[1].lng;return lt*(it.lat-st[0].lat)+ot*(it.lng-st[0].lng)},findMostDistantPointFromBaseLine:function(it,st){var ot=0,lt=null,ct=[],ut,dt,ft;for(ut=st.length-1;ut>=0;ut--){if(dt=st[ut],ft=this.getDistant(dt,it),ft>0)ct.push(dt);else continue;ft>ot&&(ot=ft,lt=dt)}return{maxPoint:lt,newPoints:ct}},buildConvexHull:function(it,st){var ot=[],lt=this.findMostDistantPointFromBaseLine(it,st);return lt.maxPoint?(ot=ot.concat(this.buildConvexHull([it[0],lt.maxPoint],lt.newPoints)),ot=ot.concat(this.buildConvexHull([lt.maxPoint,it[1]],lt.newPoints)),ot):[it[0]]},getConvexHull:function(it){var st=!1,ot=!1,lt=!1,ct=!1,ut=null,dt=null,ft=null,ht=null,gt=null,mt=null,xt;for(xt=it.length-1;xt>=0;xt--){var vt=it[xt];(st===!1||vt.lat>st)&&(ut=vt,st=vt.lat),(ot===!1||vt.lat<ot)&&(dt=vt,ot=vt.lat),(lt===!1||vt.lng>lt)&&(ft=vt,lt=vt.lng),(ct===!1||vt.lng<ct)&&(ht=vt,ct=vt.lng)}ot!==st?(mt=dt,gt=ut):(mt=ht,gt=ft);var _t=[].concat(this.buildConvexHull([mt,gt],it),this.buildConvexHull([gt,mt],it));return _t}}}(),L.MarkerCluster.include({getConvexHull:function(){var it=this.getAllChildMarkers(),st=[],ot,lt;for(lt=it.length-1;lt>=0;lt--)ot=it[lt].getLatLng(),st.push(ot);return L.QuickHull.getConvexHull(st)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var it=this.getAllChildMarkers(null,!0),st=this._group,ot=st._map,lt=ot.latLngToLayerPoint(this._latlng),ct;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?ct=this._group.options.spiderfyShapePositions(it.length,lt):it.length>=this._circleSpiralSwitchover?ct=this._generatePointsSpiral(it.length,lt):(lt.y+=10,ct=this._generatePointsCircle(it.length,lt)),this._animationSpiderfy(it,ct)}},unspiderfy:function(it){this._group._inZoomAnimation||(this._animationUnspiderfy(it),this._group._spiderfied=null)},_generatePointsCircle:function(it,st){var ot=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+it),lt=ot/this._2PI,ct=this._2PI/it,ut=[],dt,ft;for(lt=Math.max(lt,35),ut.length=it,dt=0;dt<it;dt++)ft=this._circleStartAngle+dt*ct,ut[dt]=new L.Point(st.x+lt*Math.cos(ft),st.y+lt*Math.sin(ft))._round();return ut},_generatePointsSpiral:function(it,st){var ot=this._group.options.spiderfyDistanceMultiplier,lt=ot*this._spiralLengthStart,ct=ot*this._spiralFootSeparation,ut=ot*this._spiralLengthFactor*this._2PI,dt=0,ft=[],ht;for(ft.length=it,ht=it;ht>=0;ht--)ht<it&&(ft[ht]=new L.Point(st.x+lt*Math.cos(dt),st.y+lt*Math.sin(dt))._round()),dt+=ct/lt+ht*5e-4,lt+=ut/dt;return ft},_noanimationUnspiderfy:function(){var it=this._group,st=it._map,ot=it._featureGroup,lt=this.getAllChildMarkers(null,!0),ct,ut;for(it._ignoreMove=!0,this.setOpacity(1),ut=lt.length-1;ut>=0;ut--)ct=lt[ut],ot.removeLayer(ct),ct._preSpiderfyLatlng&&(ct.setLatLng(ct._preSpiderfyLatlng),delete ct._preSpiderfyLatlng),ct.setZIndexOffset&&ct.setZIndexOffset(0),ct._spiderLeg&&(st.removeLayer(ct._spiderLeg),delete ct._spiderLeg);it.fire("unspiderfied",{cluster:this,markers:lt}),it._ignoreMove=!1,it._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(it,st){var ot=this._group,lt=ot._map,ct=ot._featureGroup,ut=this._group.options.spiderLegPolylineOptions,dt,ft,ht,gt;for(ot._ignoreMove=!0,dt=0;dt<it.length;dt++)gt=lt.layerPointToLatLng(st[dt]),ft=it[dt],ht=new L.Polyline([this._latlng,gt],ut),lt.addLayer(ht),ft._spiderLeg=ht,ft._preSpiderfyLatlng=ft._latlng,ft.setLatLng(gt),ft.setZIndexOffset&&ft.setZIndexOffset(1e6),ct.addLayer(ft);this.setOpacity(.3),ot._ignoreMove=!1,ot.fire("spiderfied",{cluster:this,markers:it})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(it,st){var ot=this,lt=this._group,ct=lt._map,ut=lt._featureGroup,dt=this._latlng,ft=ct.latLngToLayerPoint(dt),ht=L.Path.SVG,gt=L.extend({},this._group.options.spiderLegPolylineOptions),mt=gt.opacity,xt,vt,_t,yt,St,bt;for(mt===void 0&&(mt=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),ht?(gt.opacity=0,gt.className=(gt.className||"")+" leaflet-cluster-spider-leg"):gt.opacity=mt,lt._ignoreMove=!0,xt=0;xt<it.length;xt++)vt=it[xt],bt=ct.layerPointToLatLng(st[xt]),_t=new L.Polyline([dt,bt],gt),ct.addLayer(_t),vt._spiderLeg=_t,ht&&(yt=_t._path,St=yt.getTotalLength()+.1,yt.style.strokeDasharray=St,yt.style.strokeDashoffset=St),vt.setZIndexOffset&&vt.setZIndexOffset(1e6),vt.clusterHide&&vt.clusterHide(),ut.addLayer(vt),vt._setPos&&vt._setPos(ft);for(lt._forceLayout(),lt._animationStart(),xt=it.length-1;xt>=0;xt--)bt=ct.layerPointToLatLng(st[xt]),vt=it[xt],vt._preSpiderfyLatlng=vt._latlng,vt.setLatLng(bt),vt.clusterShow&&vt.clusterShow(),ht&&(_t=vt._spiderLeg,yt=_t._path,yt.style.strokeDashoffset=0,_t.setStyle({opacity:mt}));this.setOpacity(.3),lt._ignoreMove=!1,setTimeout(function(){lt._animationEnd(),lt.fire("spiderfied",{cluster:ot,markers:it})},200)},_animationUnspiderfy:function(it){var st=this,ot=this._group,lt=ot._map,ct=ot._featureGroup,ut=it?lt._latLngToNewLayerPoint(this._latlng,it.zoom,it.center):lt.latLngToLayerPoint(this._latlng),dt=this.getAllChildMarkers(null,!0),ft=L.Path.SVG,ht,gt,mt,xt,vt,_t;for(ot._ignoreMove=!0,ot._animationStart(),this.setOpacity(1),gt=dt.length-1;gt>=0;gt--)ht=dt[gt],ht._preSpiderfyLatlng&&(ht.closePopup(),ht.setLatLng(ht._preSpiderfyLatlng),delete ht._preSpiderfyLatlng,_t=!0,ht._setPos&&(ht._setPos(ut),_t=!1),ht.clusterHide&&(ht.clusterHide(),_t=!1),_t&&ct.removeLayer(ht),ft&&(mt=ht._spiderLeg,xt=mt._path,vt=xt.getTotalLength()+.1,xt.style.strokeDashoffset=vt,mt.setStyle({opacity:0})));ot._ignoreMove=!1,setTimeout(function(){var yt=0;for(gt=dt.length-1;gt>=0;gt--)ht=dt[gt],ht._spiderLeg&&yt++;for(gt=dt.length-1;gt>=0;gt--)ht=dt[gt],ht._spiderLeg&&(ht.clusterShow&&ht.clusterShow(),ht.setZIndexOffset&&ht.setZIndexOffset(0),yt>1&&ct.removeLayer(ht),lt.removeLayer(ht._spiderLeg),delete ht._spiderLeg);ot._animationEnd(),ot.fire("unspiderfied",{cluster:st,markers:dt})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(it){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(it))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(it){this._spiderfied&&this._spiderfied.unspiderfy(it)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(it){it._spiderLeg&&(this._featureGroup.removeLayer(it),it.clusterShow&&it.clusterShow(),it.setZIndexOffset&&it.setZIndexOffset(0),this._map.removeLayer(it._spiderLeg),delete it._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(it){return it?it instanceof L.MarkerClusterGroup?it=it._topClusterLevel.getAllChildMarkers():it instanceof L.LayerGroup?it=it._layers:it instanceof L.MarkerCluster?it=it.getAllChildMarkers():it instanceof L.Marker&&(it=[it]):it=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(it),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(it),this},_flagParentsIconsNeedUpdate:function(it){var st,ot;for(st in it)for(ot=it[st].__parent;ot;)ot._iconNeedsUpdate=!0,ot=ot.__parent},_refreshSingleMarkerModeMarkers:function(it){var st,ot;for(st in it)ot=it[st],this.hasLayer(ot)&&ot.setIcon(this._overrideMarkerIcon(ot))}}),L.Marker.include({refreshIconOptions:function(it,st){var ot=this.options.icon;return L.setOptions(ot,it),this.setIcon(ot),st&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),rt.MarkerClusterGroup=nt,rt.MarkerCluster=at,Object.defineProperty(rt,"__esModule",{value:!0})})})(leaflet_markerclusterSrc,leaflet_markerclusterSrc.exports);delete L$1.Icon.Default.prototype._getIconUrl;L$1.Icon.Default.mergeOptions({iconRetinaUrl:new URL("./assets/marker-icon-2x.png",self.location).href,iconUrl:new URL("./assets/marker-icon.png",self.location).href,shadowUrl:new URL("./assets/marker-shadow.png",self.location).href});function getPropsAndEvents(et){let tt={},rt={};const{children:nt,...at}=et;return Object.entries(at).forEach(([it,st])=>{it.startsWith("on")?rt={...rt,[it]:st}:tt={...tt,[it]:st}}),{clusterProps:tt,clusterEvents:rt}}function createMarkerClusterGroup(et,tt){const{clusterProps:rt,clusterEvents:nt}=getPropsAndEvents(et),at=new L$1.MarkerClusterGroup(rt);return Object.entries(nt).forEach(([it,st])=>{const ot=`cluster${it.substring(2).toLowerCase()}`;at.on(ot,st)}),createElementObject(at,extendContext(tt,{layerContainer:at}))}const updateMarkerCluster=(et,tt,rt)=>{},MarkerClusterGroup=createPathComponent(createMarkerClusterGroup,updateMarkerCluster),leaflet="",MarkerCluster="",MarkerCluster_Default="",markerIcon2x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",markerIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",markerShadow="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";delete L$1.Icon.Default.prototype._getIconUrl;L$1.Icon.Default.mergeOptions({iconRetinaUrl:markerIcon2x,iconUrl:markerIcon,shadowUrl:markerShadow});const checkInIcon=new L$1.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-blue.png",shadowUrl:markerShadow,iconSize:[25,41],iconAnchor:[12,41]}),checkOutIcon=new L$1.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png",shadowUrl:markerShadow,iconSize:[25,41],iconAnchor:[12,41]}),FitBounds=({points:et})=>{const tt=useMap();return et.length&&tt.fitBounds(L$1.latLngBounds(et),{padding:[80,80],maxZoom:16}),null},FlyToButton=({lat:et,lng:tt})=>{const rt=useMap();return jsxRuntimeExports.jsx("button",{onClick:()=>rt.flyTo([et,tt],17,{duration:.6}),style:{marginTop:4,fontSize:11,color:"#2563eb",textDecoration:"underline"},children:"Lihat lokasi"})},TimelinePopup=({record:et})=>{var rt;const tt=et.attendance_location_logs||[];return jsxRuntimeExports.jsxs("div",{style:{minWidth:240,overflowY:"auto",maxHeight:400},children:[jsxRuntimeExports.jsx("strong",{children:(rt=et.employee)==null?void 0:rt.name}),jsxRuntimeExports.jsx("hr",{style:{margin:"6px 0"}}),et.loc_checkin&&jsxRuntimeExports.jsxs("div",{style:{fontSize:12,padding:6,backgroundColor:"#f3f4f6",borderRadius:4},children:[jsxRuntimeExports.jsx("b",{style:{color:"#08CB00"},children:"Check-in"})," "," ",et.check_in_time?new Date(et.check_in_time).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"-"," ",jsxRuntimeExports.jsx("br",{}),et.loc_checkin&&jsxRuntimeExports.jsx("div",{style:{fontSize:11,color:"#555"},children:et.loc_checkin.address}),jsxRuntimeExports.jsx(FlyToButton,{lat:et.loc_checkin.lat,lng:et.loc_checkin.lng})]}),tt.map((nt,at)=>jsxRuntimeExports.jsxs("div",{style:{fontSize:12,marginTop:6,padding:6,backgroundColor:"#f3f4f6",borderRadius:4},children:[jsxRuntimeExports.jsx("b",{children:"Update Lokasi Kerja"})," "," ",new Date(nt.recorded_at).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),jsxRuntimeExports.jsx("div",{style:{fontSize:11,color:"#555"},children:jsxRuntimeExports.jsx("b",{children:nt.activity||"Progres"})}),jsxRuntimeExports.jsx("div",{style:{fontSize:11,color:"#555"},children:nt.address||"-"}),jsxRuntimeExports.jsx(FlyToButton,{lat:nt.latitude,lng:nt.longitude})]},at)),et.loc_checkout&&jsxRuntimeExports.jsxs("div",{style:{fontSize:12,padding:6,backgroundColor:"#f3f4f6",borderRadius:4,marginTop:6},children:[jsxRuntimeExports.jsx("b",{style:{color:"#dc2626"},children:"Check-out"})," "," ",et.check_out_time?new Date(et.check_out_time).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"-",jsxRuntimeExports.jsx("br",{}),et.loc_checkout&&jsxRuntimeExports.jsx("div",{style:{fontSize:11,color:"#555"},children:et.loc_checkout.address}),jsxRuntimeExports.jsx(FlyToButton,{lat:et.loc_checkout.lat,lng:et.loc_checkout.lng})]})]})},AttendanceMap=({records:et=[]})=>{const tt=[];return et.forEach(rt=>{var nt,at,it,st;(nt=rt.loc_checkin)!=null&&nt.lat&&((at=rt.loc_checkin)!=null&&at.lng)&&tt.push([rt.loc_checkin.lat,rt.loc_checkin.lng]),(rt.attendance_location_logs||[]).forEach(ot=>{tt.push([ot.latitude,ot.longitude])}),(it=rt.loc_checkout)!=null&&it.lat&&((st=rt.loc_checkout)!=null&&st.lng)&&tt.push([rt.loc_checkout.lat,rt.loc_checkout.lng])}),jsxRuntimeExports.jsxs(MapContainer,{center:[-6.2,106.816666],zoom:5,scrollWheelZoom:!0,className:"h-[520px] w-full rounded-xl border",children:[jsxRuntimeExports.jsx(TileLayer,{url:document.documentElement.classList.contains("dark")?"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png":"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:" OpenStreetMap  CARTO"}),jsxRuntimeExports.jsx(FitBounds,{points:tt}),jsxRuntimeExports.jsx(MarkerClusterGroup,{chunkedLoading:!0,maxClusterRadius:50,spiderfyOnMaxZoom:!0,showCoverageOnHover:!1,children:et.map(rt=>{const nt=rt.loc_checkin,at=rt.loc_checkout,it=[];return nt!=null&&nt.lat&&(nt!=null&&nt.lng)&&it.push([nt.lat,nt.lng]),(rt.attendance_location_logs||[]).forEach(st=>it.push([st.latitude,st.longitude])),at!=null&&at.lat&&(at!=null&&at.lng)&&it.push([at.lat,at.lng]),jsxRuntimeExports.jsxs("div",{children:[it.length>1&&jsxRuntimeExports.jsx(Polyline,{positions:it,pathOptions:{color:"#7c3aed",weight:2,opacity:.6}}),(nt==null?void 0:nt.lat)&&(nt==null?void 0:nt.lng)&&jsxRuntimeExports.jsx(Marker,{position:[nt.lat,nt.lng],icon:checkInIcon,children:jsxRuntimeExports.jsx(Popup,{children:jsxRuntimeExports.jsx(TimelinePopup,{record:rt})})}),(rt.attendance_location_logs||[]).map((st,ot)=>jsxRuntimeExports.jsx(CircleMarker,{center:[st.latitude,st.longitude],radius:6,pathOptions:{color:"#f59e0b"},children:jsxRuntimeExports.jsx(Popup,{children:jsxRuntimeExports.jsx(TimelinePopup,{record:rt})})},ot)),(at==null?void 0:at.lat)&&(at==null?void 0:at.lng)&&jsxRuntimeExports.jsx(Marker,{position:[at.lat,at.lng],icon:checkOutIcon,children:jsxRuntimeExports.jsx(Popup,{children:jsxRuntimeExports.jsx(TimelinePopup,{record:rt})})})]},rt.id)})})]})},AttendanceMapTab=({records:et,employees:tt,filterDate:rt,setFilterDate:nt,filterEmployee:at,setFilterEmployee:it})=>{const st=tt.find(ut=>ut.id===at),ot=reactExports.useMemo(()=>{let ut=et.length,dt=0,ft=0;return et.forEach(ht=>{var gt,mt,xt,vt;(gt=ht.loc_checkin)!=null&&gt.lat&&((mt=ht.loc_checkin)!=null&&mt.lng)&&dt++,(xt=ht.loc_checkout)!=null&&xt.lat&&((vt=ht.loc_checkout)!=null&&vt.lng)&&ft++}),{total:ut,checkInCount:dt,checkOutCount:ft}},[et]),[lt,ct]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{if(!et||et.length===0){ct([]);return}const dt=et.map(xt=>xt.id),{data:ft,error:ht}=await supabase.from("attendance_location_logs").select(`
        attendance_id,
        latitude,
        longitude,
        activity,
        recorded_at,
        address
      `).in("attendance_id",dt).order("recorded_at",{ascending:!0});if(ht){console.error("Failed fetch location logs:",ht),ct(et);return}const gt=ft.reduce((xt,vt)=>(xt[vt.attendance_id]||(xt[vt.attendance_id]=[]),xt[vt.attendance_id].push(vt),xt),{}),mt=et.map(xt=>({...xt,attendance_location_logs:gt[xt.id]||[]}));ct(mt)})()},[et]),jsxRuntimeExports.jsxs(Card,{className:"relative",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Peta Absensi"}),jsxRuntimeExports.jsx(CardDescription,{children:"Lokasi check-in dan check-out karyawan"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$3,{children:"Tanggal"}),jsxRuntimeExports.jsx(Input,{type:"date",value:rt,onChange:ut=>nt(ut.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$3,{children:"Karyawan"}),jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[st?st.name:"Semua Karyawan",jsxRuntimeExports.jsx(ChevronsUpDown,{className:"ml-2 h-4 w-4 opacity-50"})]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-[300px] p-0 z-[9999]",align:"start",children:jsxRuntimeExports.jsxs(Command,{children:[jsxRuntimeExports.jsx(CommandInput,{placeholder:"Cari karyawan..."}),jsxRuntimeExports.jsxs(CommandList,{children:[jsxRuntimeExports.jsx(CommandEmpty,{children:"Karyawan tidak ditemukan"}),jsxRuntimeExports.jsxs(CommandItem,{value:"ALL",onSelect:()=>it(""),children:["Semua Karyawan",!at&&jsxRuntimeExports.jsx(Check,{className:"ml-auto h-4 w-4"})]}),tt.map(ut=>jsxRuntimeExports.jsxs(CommandItem,{value:ut.name,onSelect:()=>it(ut.id),children:[ut.name,at===ut.id&&jsxRuntimeExports.jsx(Check,{className:"ml-auto h-4 w-4"})]},ut.id))]})]})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"rounded-md md:flex justify-center items-center gap-4 px-4 py-2 text-sm",children:[jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["Peta absensi",rt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ","tanggal"," ",new Date(rt).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})]})," ,"]}),jsxRuntimeExports.jsxs("div",{className:" flex flex-wrap gap-x-4 gap-y-1 text-muted-foreground",children:[jsxRuntimeExports.jsxs("span",{className:"text-blue-500",children:["Check-in: ",jsxRuntimeExports.jsx("b",{children:ot.checkInCount})," lokasi"]}),jsxRuntimeExports.jsxs("span",{className:"text-red-500",children:["Check-out: ",jsxRuntimeExports.jsx("b",{children:ot.checkOutCount})," lokasi"]})]})]}),jsxRuntimeExports.jsx("div",{className:"relative z-0",children:jsxRuntimeExports.jsx(AttendanceMap,{records:lt})})]})]})},exportAttendanceToExcel=({records:et,startDate:tt,endDate:rt,mode:nt})=>{if(!et||et.length===0)throw new Error("Tidak ada data absensi untuk diekspor");const at=et.map((lt,ct)=>{var ut,dt,ft,ht;return{No:ct+1,Tanggal:lt.isUnchecked?`${tt} s/d ${rt}`:lt.attendance_date,"Nama Karyawan":((ut=lt.employee)==null?void 0:ut.name)||"-",NIK:((dt=lt.employee)==null?void 0:dt.nik)||"-","Nama PM":((ft=lt.direct_pm)==null?void 0:ft.name)||"-","Keterangan/Project":lt.project||"-","Check In":lt.isUnchecked?"-":formatTime(lt.check_in_time),"Check Out":lt.isUnchecked?"-":formatTime(lt.check_out_time),"Total Jam Kerja":lt.isUnchecked?"-":getWorkDuration(lt.check_in_time,lt.check_out_time),Status:lt.isUnchecked?"Belum Check-in":((ht=lt.attendance_statuses)==null?void 0:ht.name)||"-",Catatan:lt.notes||""}}),it=utils$7.json_to_sheet(at);it["!cols"]=[{wch:5},{wch:12},{wch:25},{wch:15},{wch:25},{wch:12},{wch:12},{wch:12},{wch:18},{wch:15},{wch:30}];const st=utils$7.book_new();utils$7.book_append_sheet(st,it,"Laporan Absensi"),writeFileSync(st,`laporan-absensi-${nt==="unchecked"?"belum-checkin":""}-${tt}-sd-${rt}.xlsx`)},formatTime=et=>et?new Date(et).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"-",getWorkDuration=(et,tt)=>{if(!et||!tt)return"-";const rt=new Date(et),nt=new Date(tt);rt.setSeconds(0,0),nt.setSeconds(0,0);const at=nt-rt;if(at<=0)return"0 jam 0 menit";const it=Math.floor(at/6e4),st=Math.floor(it/60),ot=it%60;return`${st} jam ${ot} menit`},Pagination=({page:et,pageSize:tt,totalRecords:rt,onPageChange:nt,className:at=""})=>{const it=Math.ceil(rt/tt);return it<=1?null:jsxRuntimeExports.jsxs("div",{className:`flex items-center justify-end gap-2 ${at}`,children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",disabled:et===1,onClick:()=>nt(et-1),children:"Prev"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",jsxRuntimeExports.jsx("strong",{children:et})," of ",jsxRuntimeExports.jsx("strong",{children:it})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",disabled:et===it,onClick:()=>nt(et+1),children:"Next"})]})},AttendanceSetting=({employees:et,setEmployees:tt,loading:rt})=>{const[nt,at]=reactExports.useState(""),[it,st]=reactExports.useState(""),[ot,lt]=reactExports.useState(1),[ct,ut]=reactExports.useState(10);reactExports.useState(null);const[dt,ft]=reactExports.useState(!1),[ht,gt]=reactExports.useState(!1),[mt,xt]=reactExports.useState([]),[vt,_t]=reactExports.useState(null);reactExports.useEffect(()=>{const Et=setTimeout(()=>{st(nt),lt(1)},400);return()=>clearTimeout(Et)},[nt]);const yt=reactExports.useMemo(()=>{const Et=it.toLowerCase(),Tt=et.filter(At=>{var Ct,kt;return((Ct=At.name)==null?void 0:Ct.toLowerCase().includes(Et))||((kt=At.nik)==null?void 0:kt.toLowerCase().includes(Et))});return Tt.sort((At,Ct)=>At.is_direct_pm===Ct.is_direct_pm?0:At.is_direct_pm?-1:1),Tt},[et,it]),St=reactExports.useMemo(()=>{const Et=(ot-1)*ct;return yt.slice(Et,Et+ct)},[yt,ot,ct]),bt=async()=>{if(mt.length===0)return;gt(!0);const Et=vt==="enable";try{const{error:Tt}=await supabase.from("employees").update({is_direct_pm:Et}).in("id",mt);if(Tt)throw Tt;tt(At=>At.map(Ct=>mt.includes(Ct.id)?{...Ct,is_direct_pm:Et}:Ct)),toast({title:"Berhasil",description:`${mt.length} karyawan berhasil ${Et?"ditetapkan sebagai":"dinonaktifkan dari"} Direct PM`}),xt([]),_t(null),ft(!1)}catch(Tt){toast({title:"Gagal",description:Tt.message,variant:"destructive"})}finally{gt(!1)}};return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Pengaturan Direct PM"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Tentukan karyawan yang berperan sebagai Direct PM untuk Absensi"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3 justify-between",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Cari nama / NIK...",value:nt,onChange:Et=>at(Et.target.value),className:"max-w-sm"}),jsxRuntimeExports.jsx("select",{value:ct,onChange:Et=>{ut(Number(Et.target.value)),lt(1)},className:"border rounded dark:bg-background dark:text-white px-3 py-2 text-sm",children:[10,20,50].map(Et=>jsxRuntimeExports.jsxs("option",{value:Et,children:[Et," rows"]},Et))})]}),mt.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{onClick:()=>{_t("enable"),ft(!0)},children:"Jadikan Direct PM"}),jsxRuntimeExports.jsx(Button,{variant:"destructive",onClick:()=>{_t("disable"),ft(!0)},children:"Nonaktifkan Direct PM"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground self-center",children:[mt.length," dipilih"]})]}),jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{className:"w-10 text-center",children:jsxRuntimeExports.jsx("input",{type:"checkbox",checked:St.length>0&&St.every(Et=>mt.includes(Et.id)),onChange:Et=>{Et.target.checked?xt(St.map(Tt=>Tt.id)):xt([])}})}),jsxRuntimeExports.jsx(TableHead,{children:"Nama"}),jsxRuntimeExports.jsx(TableHead,{children:"NIK"}),jsxRuntimeExports.jsx(TableHead,{className:"text-center",children:"Status"}),jsxRuntimeExports.jsx(TableHead,{className:"text-center",children:"Aksi"})]})}),jsxRuntimeExports.jsx(TableBody,{children:rt?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:3,className:"text-center",children:"Loading..."})}):St.length===0?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:3,className:"text-center text-muted-foreground py-6",children:"Tidak ada data"})}):St.map(Et=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{className:"text-center",children:jsxRuntimeExports.jsx("input",{type:"checkbox",checked:mt.includes(Et.id),onChange:Tt=>{xt(At=>Tt.target.checked?[...At,Et.id]:At.filter(Ct=>Ct!==Et.id))}})}),jsxRuntimeExports.jsx(TableCell,{children:Et.name}),jsxRuntimeExports.jsx(TableCell,{children:Et.nik}),jsxRuntimeExports.jsx(TableCell,{className:"text-center",children:Et.is_direct_pm?jsxRuntimeExports.jsx("span",{className:"px-2 py-1 text-xs rounded bg-green-100 dark:bg-green-700 text-green-700 dark:text-green-200",children:"Direct PM"}):jsxRuntimeExports.jsx("span",{className:"px-2 py-1 text-xs rounded bg-red-100 dark:bg-red-700 text-red-500 dark:text-red-200",children:"Bukan Direct PM"})}),jsxRuntimeExports.jsx(TableCell,{className:"text-center",children:jsxRuntimeExports.jsx(Dialog,{open:dt,onOpenChange:ft,children:jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Konfirmasi"}),jsxRuntimeExports.jsx(DialogDescription,{children:vt==="enable"?`Jadikan ${mt.length} karyawan sebagai Direct PM?`:`Nonaktifkan Direct PM dari ${mt.length} karyawan?`})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(DialogClose,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{variant:"outline",children:"Batal"})}),jsxRuntimeExports.jsx(Button,{onClick:bt,disabled:ht,children:ht?"Menyimpan...":"Ya, Lanjutkan"})]})]})})})]},Et.id))})]}),jsxRuntimeExports.jsx(Pagination,{page:ot,pageSize:ct,totalRecords:yt.length,onPageChange:lt})]})]})},AttendanceSummaryCards=({summary:et,mode:tt})=>{const rt=React$1.useMemo(()=>tt==="unchecked"?{checkInTitle:"Belum Check-in",checkOutTitle:"Total Check-out",hadirTitle:"Tidak Hadir",hadirSub:"belum melakukan check-in"}:{checkInTitle:"Total Check-in",checkOutTitle:"Total Check-out",hadirTitle:"Data Kehadiran",hadirSub:"berdasarkan check-in"},[tt]);return jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:rt.checkInTitle}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:et.totalCheckIn}),jsxRuntimeExports.jsx("p",{className:"text-xs",children:"employee"})]}),jsxRuntimeExports.jsx(Fingerprint,{className:"h-8 w-8 text-blue-500"})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:rt.checkOutTitle}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:et.totalCheckOut})]}),jsxRuntimeExports.jsx(CalendarDays,{className:"h-8 w-8 text-green-500"})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:rt.hadirTitle}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:et.hadirByCheckIn}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:rt.hadirSub})]}),jsxRuntimeExports.jsx(UserPlus,{className:"h-8 w-8 text-purple-500"})]})})]})},DailyRecapTab=()=>{const[et,tt]=reactExports.useState([]),[rt,nt]=reactExports.useState([]),[at,it]=reactExports.useState(new Date().toISOString().split("T")[0]),[st,ot]=reactExports.useState(""),[lt,ct]=reactExports.useState(""),[ut,dt]=reactExports.useState(1),[ft,ht]=reactExports.useState(10),[gt,mt]=reactExports.useState({key:"attendance_date",direction:"desc"}),[xt,vt]=reactExports.useState({records:!1,employees:!1}),_t=reactExports.useCallback(async()=>{vt(Tt=>({...Tt,employees:!0}));try{let Tt=[],At=0;const Ct=1e3;for(;;){const{data:kt,error:Pt}=await supabase.from("employees").select("id, name, nik, is_direct_pm").order("name").range(At,At+Ct-1);if(Pt)throw Pt;if(!kt||kt.length===0)break;Tt=Tt.concat(kt),At+=Ct}nt(Tt)}catch(Tt){toast({title:"Error",description:"Gagal memuat data karyawan: "+Tt.message,variant:"destructive"})}finally{vt(Tt=>({...Tt,employees:!1}))}},[]);reactExports.useEffect(()=>{_t()},[_t]);const yt=reactExports.useCallback(async()=>{vt(Tt=>({...Tt,records:!0}));try{let Tt=[],At=0;const Ct=1e3;for(;;){let kt=supabase.from("attendance_records").select(`
  *,
  employee:employees!attendance_records_employee_id_fkey (
    name,
    nik
  ),
  direct_pm:employees!attendance_records_direct_pm_id_fkey (
    name
  ),
  attendance_statuses (name)
`).eq("attendance_date",at).order("attendance_date",{ascending:!1}).range(At,At+Ct-1);st&&(kt=kt.eq("employee_id",st));const{data:Pt,error:Dt}=await kt;if(Dt)throw Dt;if(!Pt||Pt.length===0)break;Tt=Tt.concat(Pt),At+=Ct}tt(Tt)}catch(Tt){toast({title:"Error",description:"Gagal memuat catatan absensi: "+Tt.message,variant:"destructive"})}finally{vt(Tt=>({...Tt,records:!1}))}},[at,st]);reactExports.useEffect(()=>{yt(),dt(1)},[at,st,yt]);const St=et.filter(Tt=>{var Pt,Dt,Ft,Ot;const At=((Dt=(Pt=Tt.employee)==null?void 0:Pt.name)==null?void 0:Dt.toLowerCase())||"",Ct=((Ot=(Ft=Tt.employee)==null?void 0:Ft.nik)==null?void 0:Ot.toLowerCase())||"",kt=lt.toLowerCase();return At.includes(kt)||Ct.includes(kt)}),bt=React$1.useMemo(()=>{const Tt=[...St];return Tt.sort((At,Ct)=>{var Dt,Ft,Ot,It;let kt,Pt;switch(gt.key){case"name":kt=((Dt=At.employee)==null?void 0:Dt.name)||"",Pt=((Ft=Ct.employee)==null?void 0:Ft.name)||"";break;case"nik":kt=((Ot=At.employee)==null?void 0:Ot.nik)||"",Pt=((It=Ct.employee)==null?void 0:It.nik)||"";break;default:return 0}return kt<Pt?gt.direction==="asc"?-1:1:kt>Pt?gt.direction==="asc"?1:-1:0}),Tt},[St,gt]),Et=React$1.useMemo(()=>{const Tt=(ut-1)*ft;return bt.slice(Tt,Tt+ft)},[bt,ut,ft]);return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Rekap Absensi Harian"}),jsxRuntimeExports.jsx(CardDescription,{children:"Lihat catatan absensi karyawan untuk tanggal yang dipilih."})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx(AttendanceFilterBar,{filterDate:at,setFilterDate:it,filterEmployee:st,setFilterEmployee:ot,searchTerm:lt,setSearchTerm:ct,employees:rt}),jsxRuntimeExports.jsx(AttendanceTable,{records:Et,loading:xt.records,sort:gt,onSortChange:mt,page:ut,pageSize:ft,totalRecords:bt.length,onPageSizeChange:Tt=>{ht(Tt),dt(1)}}),jsxRuntimeExports.jsx(Pagination,{page:ut,pageSize:ft,totalRecords:bt.length,onPageChange:dt,className:"mt-4"})]})})]})},MapAttendanceTab=()=>{const[et,tt]=reactExports.useState([]),[rt,nt]=reactExports.useState([]),[at,it]=reactExports.useState(new Date().toISOString().split("T")[0]),[st,ot]=reactExports.useState(""),[lt,ct]=reactExports.useState(!1),ut=reactExports.useCallback(async()=>{try{let ft=[],ht=0;const gt=1e3;for(;;){const{data:mt,error:xt}=await supabase.from("employees").select("id, name, nik").order("name").range(ht,ht+gt-1);if(xt)throw xt;if(!mt||mt.length===0)break;ft=ft.concat(mt),ht+=gt}nt(ft)}catch(ft){toast({title:"Error",description:"Gagal memuat data karyawan: "+ft.message,variant:"destructive"})}},[]),dt=reactExports.useCallback(async()=>{ct(!0);try{let ft=[],ht=0;const gt=1e3;for(;;){let mt=supabase.from("attendance_records").select(`
          *,
          employee:employees!attendance_records_employee_id_fkey (
            id,
            name
          ),
          attendance_location_logs (*)
        `).eq("attendance_date",at).order("attendance_date",{ascending:!1}).range(ht,ht+gt-1);st&&(mt=mt.eq("employee_id",st));const{data:xt,error:vt}=await mt;if(vt)throw vt;if(!xt||xt.length===0)break;ft=ft.concat(xt),ht+=gt}tt(ft)}catch(ft){toast({title:"Error",description:ft.message,variant:"destructive"})}finally{ct(!1)}},[at,st]);return reactExports.useEffect(()=>{dt()},[at,st,dt]),reactExports.useEffect(()=>{ut()},[ut]),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Peta Absensi"}),jsxRuntimeExports.jsx(CardDescription,{children:"Lihat lokasi check-in karyawan berdasarkan tanggal dan karyawan."})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(AttendanceMapTab,{records:et,employees:rt,filterDate:at,setFilterDate:it,filterEmployee:st,setFilterEmployee:ot,loading:lt})})]})},ReportsAttendanceTab=()=>{const[et,tt]=reactExports.useState([]),[rt,nt]=reactExports.useState([]),[at,it]=reactExports.useState(new Date().toISOString().split("T")[0]),[st,ot]=reactExports.useState(new Date().toISOString().split("T")[0]),[lt,ct]=reactExports.useState(""),[ut,dt]=reactExports.useState(""),[ft,ht]=reactExports.useState("checked"),[gt,mt]=reactExports.useState(1),[xt,vt]=reactExports.useState(10),[_t,yt]=reactExports.useState({key:"attendance_date",direction:"desc"}),St=qt=>!qt.check_in_time||!qt.check_out_time?0:(new Date(qt.check_out_time)-new Date(qt.check_in_time))/6e4,[bt,Et]=reactExports.useState(!1),Tt=reactExports.useCallback(async()=>{try{let qt=[],Ut=0;const Ht=1e3;for(;;){const{data:Qt,error:ir}=await supabase.from("employees").select("id, name, nik").order("name").range(Ut,Ut+Ht-1);if(ir)throw ir;if(!Qt||Qt.length===0)break;qt=qt.concat(Qt),Ut+=Ht}nt(qt)}catch(qt){toast({title:"Error",description:"Gagal memuat data karyawan: "+qt.message,variant:"destructive"})}},[]);reactExports.useEffect(()=>{Tt()},[Tt]);const At=reactExports.useCallback(async()=>{Et(!0);try{let qt=[],Ut=0;const Ht=1e3;for(;;){let Qt=supabase.from("attendance_records").select(`
  *,
  employee:employees!attendance_records_employee_id_fkey (name, nik),
  direct_pm:employees!attendance_records_direct_pm_id_fkey (name),
  attendance_statuses (name)
`).gte("attendance_date",at).lte("attendance_date",st).order("attendance_date",{ascending:!1}).range(Ut,Ut+Ht-1);lt&&(Qt=Qt.eq("employee_id",lt));const{data:ir,error:Xt}=await Qt;if(Xt)throw Xt;if(!ir||ir.length===0)break;qt=qt.concat(ir),Ut+=Ht}tt(qt)}catch(qt){toast({title:"Error",description:"Gagal memuat laporan absensi: "+qt.message,variant:"destructive"})}finally{Et(!1)}},[at,st,lt]);reactExports.useEffect(()=>{At(),mt(1)},[at,st,lt,At]);const Ct=reactExports.useMemo(()=>new Set(et.map(qt=>qt.employee_id)),[et]),kt=reactExports.useMemo(()=>rt.filter(qt=>!Ct.has(qt.id)),[rt,Ct]),Pt=reactExports.useMemo(()=>kt.map(qt=>({id:`unchecked-${qt.id}`,employee_id:qt.id,employee:{name:qt.name,nik:qt.nik},attendance_date:`${at} - ${st}`,check_in_time:null,check_out_time:null,attendance_statuses:{name:"Belum Check-in"},isUnchecked:!0})),[kt,at,st]),Dt=reactExports.useMemo(()=>{const qt=ut.toLowerCase();return et.filter(Ut=>{var ir,Xt,Lt,jt;const Ht=((Xt=(ir=Ut.employee)==null?void 0:ir.name)==null?void 0:Xt.toLowerCase())||"",Qt=((jt=(Lt=Ut.employee)==null?void 0:Lt.nik)==null?void 0:jt.toLowerCase())||"";return Ht.includes(qt)||Qt.includes(qt)})},[et,ut]),Ft=reactExports.useMemo(()=>{const qt=[...Dt];return qt.sort((Ut,Ht)=>{var Xt,Lt,jt,Nt,Mt,Vt;let Qt,ir;switch(_t.key){case"name":Qt=((Xt=Ut.employee)==null?void 0:Xt.name)||"",ir=((Lt=Ht.employee)==null?void 0:Lt.name)||"";break;case"nik":Qt=((jt=Ut.employee)==null?void 0:jt.nik)||"",ir=((Nt=Ht.employee)==null?void 0:Nt.nik)||"";break;case"direct_pm":Qt=((Mt=Ut.direct_pm)==null?void 0:Mt.name)||"",ir=((Vt=Ht.direct_pm)==null?void 0:Vt.name)||"";break;case"date":Qt=Ut.attendance_date,ir=Ht.attendance_date;break;case"checkin":Qt=Ut.check_in_time||"",ir=Ht.check_in_time||"";break;case"checkout":Qt=Ut.check_out_time||"",ir=Ht.check_out_time||"";break;case"workhours":Qt=St(Ut),ir=St(Ht);break;default:return 0}return Qt<ir?_t.direction==="asc"?-1:1:Qt>ir?_t.direction==="asc"?1:-1:0}),qt},[Dt,_t]),Ot=reactExports.useMemo(()=>ft==="unchecked"?Pt:Ft,[ft,Pt,Ft]),It=reactExports.useMemo(()=>{if(ft==="unchecked"){const qt=Pt.length;return{totalCheckIn:qt,totalCheckOut:0,hadirByCheckIn:qt}}return{totalCheckIn:Dt.filter(qt=>qt.check_in_time).length,totalCheckOut:Dt.filter(qt=>qt.check_out_time).length,hadirByCheckIn:Dt.filter(qt=>qt.check_in_time).length}},[ft,Pt,Dt]),Bt=reactExports.useMemo(()=>{const qt=(gt-1)*xt;return Ot.slice(qt,qt+xt)},[Ot,gt,xt]);return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Laporan Absensi"}),jsxRuntimeExports.jsx(CardDescription,{children:"Lihat dan ekspor laporan absensi karyawan."})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$3,{children:"Status Kehadiran"}),jsxRuntimeExports.jsxs(Select,{value:ft,onValueChange:qt=>{ht(qt),mt(1)},children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"checked",children:"Sudah Check-in"}),jsxRuntimeExports.jsx(SelectItem,{value:"unchecked",children:"Belum Check-in"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Label$3,{children:"Cari Karyawan"}),jsxRuntimeExports.jsx(Input,{value:ut,onChange:qt=>dt(qt.target.value),className:"pl-10"}),jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-9 h-5 w-5 text-muted-foreground"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$3,{children:"Tanggal Mulai"}),jsxRuntimeExports.jsx("input",{type:"date",value:at,onChange:qt=>it(qt.target.value),className:"w-full border rounded px-3 py-2"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$3,{children:"Tanggal Akhir"}),jsxRuntimeExports.jsx("input",{type:"date",value:st,onChange:qt=>ot(qt.target.value),className:"w-full border rounded px-3 py-2"})]})]}),jsxRuntimeExports.jsx(Button,{className:"mb-4 bg-gradient-to-r from-green-700 to-green-500",onClick:()=>exportAttendanceToExcel({records:Ot,startDate:at,endDate:st,mode:ft}),children:"Export Laporan (Excel)"}),jsxRuntimeExports.jsx(AttendanceSummaryCards,{summary:It,mode:ft}),jsxRuntimeExports.jsx(AttendanceReportTable,{records:Bt,loading:bt,sort:_t,onSortChange:yt,page:gt,pageSize:xt,totalRecords:Ot.length,onPageSizeChange:qt=>{vt(qt),mt(1)}}),jsxRuntimeExports.jsx(Pagination,{page:gt,pageSize:xt,totalRecords:Ot.length,onPageChange:mt,className:"mt-4"})]})]})},AttendanceSettingTab=()=>{const[et,tt]=reactExports.useState([]),[rt,nt]=reactExports.useState(!1),at=reactExports.useCallback(async()=>{nt(!0);try{let it=[],st=0;const ot=1e3;for(;;){const{data:lt,error:ct}=await supabase.from("employees").select("id, name, nik, is_direct_pm").order("name").range(st,st+ot-1);if(ct)throw ct;if(!lt||lt.length===0)break;it=it.concat(lt),st+=ot}tt(it)}catch(it){toast({title:"Error",description:"Gagal memuat data karyawan: "+it.message,variant:"destructive"})}finally{nt(!1)}},[]);return reactExports.useEffect(()=>{at()},[at]),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Pengaturan Absensi"}),jsxRuntimeExports.jsx(CardDescription,{children:"Kelola pengaturan dan relasi karyawan pada sistem absensi."})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(AttendanceSetting,{employees:et,setEmployees:tt,loading:rt})})]})},ManualAttendanceTab=()=>{const{user:et}=useAuth(),[tt,rt]=reactExports.useState([]),[nt,at]=reactExports.useState([]),[it,st]=reactExports.useState({employees:!1,statuses:!1,submit:!1}),[ot,lt]=reactExports.useState(!1),[ct,ut]=reactExports.useState(null),[dt,ft]=reactExports.useState({employee_id:"",attendance_date:new Date().toISOString().split("T")[0],check_in_time:"",check_out_time:"",status_id:"",notes:""}),ht=reactExports.useCallback(async()=>{st(yt=>({...yt,employees:!0}));try{let yt=[],St=0;const bt=1e3;for(;;){const{data:Et,error:Tt}=await supabase.from("employees").select("id, name, nik").order("name").range(St,St+bt-1);if(Tt)throw Tt;if(!Et||Et.length===0)break;yt=yt.concat(Et),St+=bt}rt(yt)}catch(yt){toast({title:"Error",description:"Gagal memuat karyawan: "+yt.message,variant:"destructive"})}finally{st(yt=>({...yt,employees:!1}))}},[]);reactExports.useEffect(()=>{ht()},[ht]);const gt=reactExports.useCallback(async()=>{st(yt=>({...yt,statuses:!0}));try{const{data:yt,error:St}=await supabase.from("attendance_statuses").select("*").order("name");if(St)throw St;at(yt)}catch(yt){toast({title:"Error",description:"Gagal memuat status absensi: "+yt.message,variant:"destructive"})}finally{st(yt=>({...yt,statuses:!1}))}},[]);reactExports.useEffect(()=>{gt()},[gt]);const mt=yt=>{const{name:St,value:bt}=yt.target;ft(Et=>({...Et,[St]:bt}))},xt=(yt,St)=>{ft(bt=>({...bt,[yt]:St}))},vt=(yt=null)=>{if(yt){ut(yt);const St=bt=>bt?new Date(bt).toLocaleTimeString("sv-SE",{hour:"2-digit",minute:"2-digit"}):"";ft({employee_id:yt.employee_id,attendance_date:yt.attendance_date,check_in_time:St(yt.check_in_time),check_out_time:St(yt.check_out_time),status_id:yt.status_id||"",notes:yt.notes||""})}else ut(null),ft({employee_id:"",attendance_date:new Date().toISOString().split("T")[0],check_in_time:"",check_out_time:"",status_id:"",notes:""});lt(!0)},_t=async()=>{if(!dt.employee_id||!dt.attendance_date){toast({title:"Validasi Gagal",description:"Karyawan dan tanggal wajib diisi",variant:"destructive"});return}st(bt=>({...bt,submit:!0}));const yt=(bt,Et)=>{if(!Et)return null;const[Tt,At]=Et.split(":"),Ct=new Date(bt);return Ct.setHours(Tt,At,0,0),Ct.toISOString()},St={employee_id:dt.employee_id,attendance_date:dt.attendance_date,check_in_time:yt(dt.attendance_date,dt.check_in_time),check_out_time:yt(dt.attendance_date,dt.check_out_time),status_id:dt.status_id||null,notes:dt.notes,recorded_by:et.id};try{let bt,Et=ct?"UPDATE":"CREATE";if(ct?bt=await supabase.from("attendance_records").update(St).eq("id",ct.id).select().single():bt=await supabase.from("attendance_records").upsert(St,{onConflict:"employee_id,attendance_date"}).select().single(),bt.error)throw bt.error;const Tt=tt.find(At=>At.id===bt.data.employee_id);await addLog({userId:et.id,userName:et.name||et.email,userRole:et.role,action:Et,targetType:"ATTENDANCE",targetId:bt.data.id,targetName:`Absensi ${(Tt==null?void 0:Tt.name)||""} ${bt.data.attendance_date}`}),toast({title:"Sukses",description:`Absensi berhasil ${ct?"diperbarui":"dicatat"}`}),lt(!1)}catch(bt){toast({title:"Error",description:bt.message,variant:"destructive"})}finally{st(bt=>({...bt,submit:!1}))}};return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Input Absensi Manual"}),jsxRuntimeExports.jsx(CardDescription,{children:"Catat atau perbarui absensi karyawan secara manual."})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs(Button,{onClick:()=>vt(),className:"mb-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:[jsxRuntimeExports.jsx(UserPlus,{className:"mr-2 h-4 w-4"}),"Catat Absensi"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Gunakan tombol di atas untuk input atau update absensi manual."}),jsxRuntimeExports.jsx(ManualAttendanceDialog,{isOpen:ot,onOpenChange:lt,editingRecord:ct,manualInputData:dt,handleManualInputChange:mt,handleSelectChange:xt,employees:tt,attendanceStatuses:nt,onSubmit:_t,loadingSubmit:it.submit})]})]})};function AttendanceLocationTimeline({logs:et}){return!et||et.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Tidak ada data lokasi"}):jsxRuntimeExports.jsx("div",{className:"space-y-3 mt-3",children:et.map(tt=>jsxRuntimeExports.jsxs("div",{className:"flex gap-3 items-start",children:[jsxRuntimeExports.jsx("div",{className:"mt-1",children:jsxRuntimeExports.jsx(MapPin,{className:"h-4 w-4 text-primary"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"capitalize font-medium",children:tt.activity}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(tt.recorded_at).toLocaleTimeString("id-ID")})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:tt.address||`${tt.latitude}, ${tt.longitude}`})]})]},tt.id))})}function AttendanceLocationCard({record:et}){var it,st;const[tt,rt]=reactExports.useState(!1),nt=et.attendance_location_logs||[],at=nt.length;return jsxRuntimeExports.jsxs(motion.div,{layout:!0,transition:{layout:{duration:.35,type:"spring"}},className:"rounded-lg border bg-background",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>rt(ot=>!ot),className:"w-full px-4 py-3 flex items-center justify-between gap-3 text-left",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:(it=et.employee)==null?void 0:it.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:(st=et.employee)==null?void 0:st.nik})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("span",{className:`\r
              inline-flex items-center rounded-full\r
              bg-primary/10 text-primary\r
              px-2 py-0.5 text-xs font-medium\r
            `,children:[at," update"]}),jsxRuntimeExports.jsx(motion.div,{animate:{rotate:tt?180:0},transition:{duration:.25},children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 text-muted-foreground"})})]})]}),jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:tt&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.35,ease:"easeInOut"},className:"px-4 pb-4",children:jsxRuntimeExports.jsx(AttendanceLocationTimeline,{logs:nt})},"content")})]})}function AttendanceUpdateLocationTab(){const[et,tt]=reactExports.useState([]),[rt,nt]=reactExports.useState(new Date().toISOString().split("T")[0]),[at,it]=reactExports.useState(!1),[st,ot]=reactExports.useState(""),[lt,ct]=reactExports.useState(1),ut=10,dt=reactExports.useCallback(async()=>{it(!0);try{const{data:vt,error:_t}=await supabase.from("attendance_records").select(`
          id,
          attendance_date,
          employee:employees!attendance_records_employee_id_fkey (
            id, name, nik
          ),
          attendance_location_logs (
            id, activity, latitude, longitude, address, recorded_at
          )
        `).eq("attendance_date",rt).order("recorded_at",{foreignTable:"attendance_location_logs",ascending:!0});if(_t)throw _t;tt(vt||[])}catch(vt){toast({title:"Error",description:vt.message,variant:"destructive"})}finally{it(!1)}},[rt]);reactExports.useEffect(()=>{dt(),ct(1)},[dt]);const ft=reactExports.useMemo(()=>et.filter(vt=>{var _t,yt;return(yt=(_t=vt.employee)==null?void 0:_t.name)==null?void 0:yt.toLowerCase().includes(st.toLowerCase())}),[et,st]),ht=reactExports.useMemo(()=>[...ft].sort((vt,_t)=>{var yt,St;return(((yt=_t.attendance_location_logs)==null?void 0:yt.length)||0)-(((St=vt.attendance_location_logs)==null?void 0:St.length)||0)}),[ft]),gt=Math.max(1,Math.ceil(ht.length/ut)),mt=reactExports.useMemo(()=>{const vt=(lt-1)*ut;return ht.slice(vt,vt+ut)},[ht,lt]);reactExports.useEffect(()=>{ct(1)},[st]);const xt=reactExports.useMemo(()=>{const vt=et.length,_t=et.reduce((yt,St)=>{var bt;return yt+(((bt=St.attendance_location_logs)==null?void 0:bt.length)||0)},0);return{totalEmployee:vt,totalLocationUpdates:_t}},[et]);return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Riwayat Update Lokasi"}),jsxRuntimeExports.jsx(CardDescription,{children:"Aktivitas lokasi karyawan yang sudah absen"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"rounded-lg border p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Karyawan Sudah Absen"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:xt.totalEmployee})]}),jsxRuntimeExports.jsxs("div",{className:"rounded-lg border p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Update Lokasi"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:xt.totalLocationUpdates})]})]})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[jsxRuntimeExports.jsx("input",{type:"date",value:rt,onChange:vt=>nt(vt.target.value),className:"border rounded px-3 py-2 text-sm"}),jsxRuntimeExports.jsx(Input,{placeholder:"Cari nama karyawan...",value:st,onChange:vt=>ot(vt.target.value),className:"max-w-sm"})]}),at&&jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Memuat data..."}),!at&&mt.length===0&&jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Tidak ada data pada tanggal ini"}),!at&&mt.map(vt=>jsxRuntimeExports.jsx(AttendanceLocationCard,{record:vt},vt.id)),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mt-4",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",lt," dari ",gt]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",disabled:lt===1,onClick:()=>ct(vt=>vt-1),children:"Prev"}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",disabled:lt===gt,onClick:()=>ct(vt=>vt+1),children:"Next"})]})]})]})]})}function AttendancePhotoTab(){const[et,tt]=reactExports.useState([]),[rt,nt]=reactExports.useState(new Date().toISOString().split("T")[0]),[at,it]=reactExports.useState(""),[st,ot]=reactExports.useState(!1),[lt,ct]=reactExports.useState(1),[ut,dt]=reactExports.useState(100),[ft,ht]=reactExports.useState(0),gt=reactExports.useCallback(async()=>{ot(!0);const vt=(lt-1)*ut,_t=vt+ut-1;let yt=supabase.from("attendance_records").select(`
      id,
      attachment,
      employee:employees!attendance_records_employee_id_fkey (
        name,
        nik
      )
    `,{count:"exact"}).eq("attendance_date",rt).not("attachment","is",null);at&&(yt=yt.ilike("attachment",`%${at}%`),yt=yt.or(`name.ilike.%${at}%`,{foreignTable:"employees"}));const{data:St,error:bt,count:Et}=await yt.range(vt,_t);if(bt){console.error(bt),ot(!1);return}tt(St||[]),ht(Et||0),ot(!1)},[rt,lt,ut,at]);reactExports.useEffect(()=>{gt()},[gt]),reactExports.useEffect(()=>{ct(1)},[rt,ut,at]);const mt=Math.ceil(ft/ut),xt=vt=>{const{data:_t}=supabase.storage.from("photo.attendance").getPublicUrl(vt);return _t.publicUrl};return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Foto Absensi"}),jsxRuntimeExports.jsx(CardDescription,{children:"Galeri foto check-in karyawan berdasarkan tanggal"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[jsxRuntimeExports.jsx("input",{type:"date",value:rt,onChange:vt=>nt(vt.target.value),className:"border rounded px-3 py-2 text-sm"}),jsxRuntimeExports.jsx(Input,{placeholder:"Cari nama karyawan / file...",value:at,onChange:vt=>it(vt.target.value),className:"max-w-sm"}),jsxRuntimeExports.jsxs("select",{value:ut,onChange:vt=>dt(Number(vt.target.value)),className:"border rounded px-3 py-2 text-sm",children:[jsxRuntimeExports.jsx("option",{value:50,children:"50"}),jsxRuntimeExports.jsx("option",{value:100,children:"100"})]})]}),st&&jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Memuat foto..."}),!st&&et.length===0&&jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Tidak ada foto pada tanggal ini"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:et.map(vt=>{var _t;return jsxRuntimeExports.jsxs("div",{className:"rounded-lg border overflow-hidden bg-muted",children:[jsxRuntimeExports.jsx("img",{src:xt(vt.attachment),alt:"attendance",loading:"lazy",className:"w-full h-40 object-cover"}),jsxRuntimeExports.jsxs("div",{className:"p-2",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium truncate",children:(_t=vt.employee)==null?void 0:_t.name}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-muted-foreground truncate",children:vt.attachment.split("/")[1]})]})]},vt.id)})}),!at&&mt>1&&jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center gap-3 pt-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",disabled:lt===1,onClick:()=>ct(vt=>vt-1),children:"Prev"}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:["Page ",lt," / ",mt]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",disabled:lt===mt,onClick:()=>ct(vt=>vt+1),children:"Next"})]})]})]})}const AdminAttendanceManagement=()=>{const{user:et}=useAuth(),[tt,rt]=reactExports.useState("daily_recap"),nt=et==null?void 0:et.role,at=[{id:"daily_recap",label:"Rekap Harian",icon:CalendarDays},{id:"map",label:"Peta Absensi",icon:MapPin},{id:"map_update",label:"Update Lokasi Absensi",icon:Map$5},{id:"photo",label:"Photo Attendance",icon:Camera,onlyFor:"Super Admin"},{id:"manual_input",label:"Input Manual",icon:UserPlus,onlyFor:"Super Admin"},{id:"setting",label:"Pengaturan",icon:Settings,onlyFor:"Super Admin"},{id:"requests",label:"Pengajuan Izin",icon:FileText,onlyFor:"Super Admin"},{id:"reports",label:"Laporan Absensi",icon:FileText}],it=()=>{switch(tt){case"daily_recap":return jsxRuntimeExports.jsx(DailyRecapTab,{});case"manual_input":return jsxRuntimeExports.jsx(ManualAttendanceTab,{});case"photo":return jsxRuntimeExports.jsx(AttendancePhotoTab,{});case"reports":return jsxRuntimeExports.jsx(ReportsAttendanceTab,{});case"map_update":return jsxRuntimeExports.jsx(AttendanceUpdateLocationTab,{});case"requests":return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Pengajuan Izin/Sakit"}),jsxRuntimeExports.jsx(CardDescription,{children:"Fitur ini belum tersedia."})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:" Pengelolaan pengajuan izin atau sakit dari karyawan akan segera hadir!"})})]});case"map":return jsxRuntimeExports.jsx(MapAttendanceTab,{});case"setting":return jsxRuntimeExports.jsx(AttendanceSettingTab,{});default:return null}};return jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"space-y-2",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-pink-600 bg-clip-text text-transparent",children:"Manajemen Absensi Karyawan"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Kelola catatan kehadiran, input manual, dan lihat laporan absensi."})]}),jsxRuntimeExports.jsx("div",{className:"flex border-b mb-6 overflow-x-auto",children:at.filter(st=>!(st.onlyFor&&nt!==st.onlyFor)).map(st=>jsxRuntimeExports.jsxs("button",{onClick:()=>rt(st.id),className:`flex items-center space-x-2 px-4 py-3 text-sm font-medium focus:outline-none whitespace-nowrap
          ${tt===st.id?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"}
        `,children:[jsxRuntimeExports.jsx(st.icon,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:st.label})]},st.id))}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:it()},tt)]})})},SuccessModal=({isOpen:et,onClose:tt,title:rt,description:nt,leaveRequestNumber:at})=>et?jsxRuntimeExports.jsx(Dialog,{open:et,onOpenChange:tt,children:jsxRuntimeExports.jsx(DialogContent,{className:"sm:max-w-md p-0 overflow-hidden",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.7},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.7},transition:{duration:.3,ease:"easeOut"},className:"bg-gradient-to-br from-green-500 to-teal-600 text-white p-8 rounded-lg shadow-2xl text-center relative",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:tt,className:"absolute top-4 right-4 text-white hover:bg-white/20",children:jsxRuntimeExports.jsx(X$1,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},animate:{scale:1,rotate:[0,10,-10,0]},transition:{type:"spring",stiffness:260,damping:20,delay:.1},className:"mx-auto mb-6 w-24 h-24 flex items-center justify-center rounded-full bg-white/30 backdrop-blur-sm",children:jsxRuntimeExports.jsx(CheckCircle,{className:"h-16 w-16 text-white",strokeWidth:1.5})}),jsxRuntimeExports.jsxs(DialogHeader,{className:"space-y-2",children:[jsxRuntimeExports.jsx(DialogTitle,{className:"text-3xl font-bold",children:rt}),nt&&jsxRuntimeExports.jsx(DialogDescription,{className:"text-green-100 text-base",children:nt})]}),at&&jsxRuntimeExports.jsxs("div",{className:"mt-6 bg-white/20 p-4 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-green-50",children:"Nomor Cuti Anda:"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-mono font-bold tracking-wider",children:at})]}),jsxRuntimeExports.jsx(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"mt-8",children:jsxRuntimeExports.jsx(Button,{onClick:tt,className:"bg-white text-green-600 hover:bg-gray-100 w-full sm:w-auto px-8 py-3 text-lg font-semibold rounded-lg shadow-md transition-transform transform hover:scale-105",children:"Tutup"})})]})})}):null;var TABS_NAME="Tabs",[createTabsContext,createTabsScope]=createContextScope$1(TABS_NAME,[createRovingFocusGroupScope]),useRovingFocusGroupScope=createRovingFocusGroupScope(),[TabsProvider,useTabsContext]=createTabsContext(TABS_NAME),Tabs$1=reactExports.forwardRef((et,tt)=>{const{__scopeTabs:rt,value:nt,onValueChange:at,defaultValue:it,orientation:st="horizontal",dir:ot,activationMode:lt="automatic",...ct}=et,ut=useDirection(ot),[dt,ft]=useControllableState({prop:nt,onChange:at,defaultProp:it??"",caller:TABS_NAME});return jsxRuntimeExports.jsx(TabsProvider,{scope:rt,baseId:useId(),value:dt,onValueChange:ft,orientation:st,dir:ut,activationMode:lt,children:jsxRuntimeExports.jsx(Primitive$2.div,{dir:ut,"data-orientation":st,...ct,ref:tt})})});Tabs$1.displayName=TABS_NAME;var TAB_LIST_NAME="TabsList",TabsList$1=reactExports.forwardRef((et,tt)=>{const{__scopeTabs:rt,loop:nt=!0,...at}=et,it=useTabsContext(TAB_LIST_NAME,rt),st=useRovingFocusGroupScope(rt);return jsxRuntimeExports.jsx(Root$3,{asChild:!0,...st,orientation:it.orientation,dir:it.dir,loop:nt,children:jsxRuntimeExports.jsx(Primitive$2.div,{role:"tablist","aria-orientation":it.orientation,...at,ref:tt})})});TabsList$1.displayName=TAB_LIST_NAME;var TRIGGER_NAME="TabsTrigger",TabsTrigger$1=reactExports.forwardRef((et,tt)=>{const{__scopeTabs:rt,value:nt,disabled:at=!1,...it}=et,st=useTabsContext(TRIGGER_NAME,rt),ot=useRovingFocusGroupScope(rt),lt=makeTriggerId(st.baseId,nt),ct=makeContentId(st.baseId,nt),ut=nt===st.value;return jsxRuntimeExports.jsx(Item$1,{asChild:!0,...ot,focusable:!at,active:ut,children:jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",role:"tab","aria-selected":ut,"aria-controls":ct,"data-state":ut?"active":"inactive","data-disabled":at?"":void 0,disabled:at,id:lt,...it,ref:tt,onMouseDown:composeEventHandlers(et.onMouseDown,dt=>{!at&&dt.button===0&&dt.ctrlKey===!1?st.onValueChange(nt):dt.preventDefault()}),onKeyDown:composeEventHandlers(et.onKeyDown,dt=>{[" ","Enter"].includes(dt.key)&&st.onValueChange(nt)}),onFocus:composeEventHandlers(et.onFocus,()=>{const dt=st.activationMode!=="manual";!ut&&!at&&dt&&st.onValueChange(nt)})})})});TabsTrigger$1.displayName=TRIGGER_NAME;var CONTENT_NAME="TabsContent",TabsContent$1=reactExports.forwardRef((et,tt)=>{const{__scopeTabs:rt,value:nt,forceMount:at,children:it,...st}=et,ot=useTabsContext(CONTENT_NAME,rt),lt=makeTriggerId(ot.baseId,nt),ct=makeContentId(ot.baseId,nt),ut=nt===ot.value,dt=reactExports.useRef(ut);return reactExports.useEffect(()=>{const ft=requestAnimationFrame(()=>dt.current=!1);return()=>cancelAnimationFrame(ft)},[]),jsxRuntimeExports.jsx(Presence,{present:at||ut,children:({present:ft})=>jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":ut?"active":"inactive","data-orientation":ot.orientation,role:"tabpanel","aria-labelledby":lt,hidden:!ft,id:ct,tabIndex:0,...st,ref:tt,style:{...et.style,animationDuration:dt.current?"0s":void 0},children:ft&&it})})});TabsContent$1.displayName=CONTENT_NAME;function makeTriggerId(et,tt){return`${et}-trigger-${tt}`}function makeContentId(et,tt){return`${et}-content-${tt}`}var Root2=Tabs$1,List=TabsList$1,Trigger=TabsTrigger$1,Content=TabsContent$1;const Tabs=Root2,TabsList=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(List,{ref:rt,className:cn("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",et),...tt}));TabsList.displayName=List.displayName;const TabsTrigger=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(Trigger,{ref:rt,className:cn("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",et),...tt}));TabsTrigger.displayName=Trigger.displayName;const TabsContent=React$1.forwardRef(({className:et,...tt},rt)=>jsxRuntimeExports.jsx(Content,{ref:rt,className:cn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",et),...tt}));TabsContent.displayName=Content.displayName;const SettingsManagementTab=({title:et,description:tt,items:rt,onAdd:nt,onEdit:at,onDelete:it,loading:st})=>jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:et}),jsxRuntimeExports.jsx(CardDescription,{children:tt})]}),jsxRuntimeExports.jsxs(Button,{onClick:nt,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:[jsxRuntimeExports.jsx(Plus,{className:"mr-2 h-4 w-4"})," Tambah Baru"]})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Nama"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right",children:"Aksi"})]})}),jsxRuntimeExports.jsx(TableBody,{children:st?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:"2",className:"text-center",children:"Memuat..."})}):rt.length===0?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:"2",className:"text-center",children:"Tidak ada data."})}):rt.map(ot=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{className:"font-medium",children:ot.name}),jsxRuntimeExports.jsxs(TableCell,{className:"text-right",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>at(ot),className:"hover:text-blue-500 mr-2",title:"Edit",children:jsxRuntimeExports.jsx(PenSquare,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>it(ot.id),className:"hover:text-red-500",title:"Hapus",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]},ot.id))})]})})})]}),SettingsFormDialog=({isOpen:et,onOpenChange:tt,onSubmit:rt,initialData:nt,itemType:at,loading:it})=>{const[st,ot]=reactExports.useState("");reactExports.useEffect(()=>{et&&ot(nt?nt.name:"")},[et,nt]);const lt=ct=>{ct.preventDefault(),st.trim()&&rt({...nt,name:st.trim()})};return jsxRuntimeExports.jsx(Dialog,{open:et,onOpenChange:tt,children:jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-md",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:nt?`Edit ${at}`:`Tambah ${at} Baru`}),jsxRuntimeExports.jsx(DialogDescription,{children:nt?`Perbarui nama ${at.toLowerCase()}.`:`Masukkan nama untuk ${at.toLowerCase()} baru.`})]}),jsxRuntimeExports.jsxs("form",{onSubmit:lt,children:[jsxRuntimeExports.jsx("div",{className:"space-y-4 py-4",children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs(Label$3,{htmlFor:"name",children:["Nama ",at]}),jsxRuntimeExports.jsx(Input,{id:"name",value:st,onChange:ct=>ot(ct.target.value),required:!0})]})}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>tt(!1),disabled:it,children:"Batal"}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",disabled:it,children:it?"Menyimpan...":nt?"Perbarui":"Simpan"})]})]})]})})};function CreateAccountForm({onSuccess:et}){const[tt,rt]=reactExports.useState({email:"",password:"",role:""}),[nt,at]=reactExports.useState([]),[it,st]=reactExports.useState(null),[ot,lt]=reactExports.useState(!1),[ct,ut]=reactExports.useState(!1),dt=async()=>{let ht=0;const gt=1e3,{data:mt,error:xt}=await supabase.from("employees").select("id, name, nik").is("email",null).order("name").range(ht,ht+gt-1);if(xt){toast({title:"Error",description:xt.message,variant:"destructive"});return}at(mt)};reactExports.useEffect(()=>{dt()},[]);const ft=async ht=>{if(ht.preventDefault(),!it||!tt.email||!tt.role){toast({title:"Validasi gagal",description:"Lengkapi karyawan, email, password, dan role",variant:"destructive"});return}ut(!0);try{const{data:gt,error:mt}=await supabase.auth.signUp({email:tt.email,password:tt.password||"karyawan123"});if(mt)throw mt;await new Promise(_t=>setTimeout(_t,300));const{error:xt}=await supabase.from("profiles").update({role:tt.role,employee_id:it.id}).eq("id",gt.user.id);if(xt)throw xt;const{error:vt}=await supabase.from("employees").update({email:tt.email,migrated:!0}).eq("id",it.id);if(vt)throw vt;toast({title:"Akun berhasil dibuat",description:`${it.name} berhasil dimigrasi`}),st(null),rt({email:"",password:"",role:""}),dt(),et==null||et()}catch(gt){toast({title:"Gagal membuat akun",description:gt.message,variant:"destructive"})}finally{ut(!1)}};return jsxRuntimeExports.jsxs("form",{onSubmit:ft,className:"w-full rounded-lg border bg-background p-6 space-y-5",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold",children:"BUAT AKUN BARU"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2 ",children:[jsxRuntimeExports.jsx(Label$3,{children:"Pilih Karyawan"}),jsxRuntimeExports.jsxs(Popover,{open:ot,onOpenChange:lt,children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[it?`${it.name} - ${it.nik}`:"Pilih karyawan",jsxRuntimeExports.jsx(ChevronsUpDown,{className:"ml-2 h-4 w-4 opacity-50"})]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-full p-0",children:jsxRuntimeExports.jsxs(Command,{children:[jsxRuntimeExports.jsx(CommandInput,{placeholder:"Cari karyawan..."}),jsxRuntimeExports.jsx(CommandEmpty,{children:"Karyawan tidak ditemukan"}),jsxRuntimeExports.jsx(CommandList,{children:nt.map(ht=>jsxRuntimeExports.jsxs(CommandItem,{value:ht.name,onSelect:()=>{st(ht),lt(!1)},children:[ht.name," - ",ht.nik,(it==null?void 0:it.id)===ht.id&&jsxRuntimeExports.jsx(Check,{className:"ml-auto h-4 w-4"})]},ht.id))})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{children:"Role"}),jsxRuntimeExports.jsxs("select",{value:tt.role,onChange:ht=>rt({...tt,role:ht.target.value}),disabled:ct,className:"w-full rounded-md dark:bg-background dark:text-muted-foreground border px-3 py-2 text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"-- Pilih Role --"}),jsxRuntimeExports.jsxs("option",{value:"admin",children:["Admin"," ",jsxRuntimeExports.jsx("b",{className:" font-bold",children:"(Akses Management Absensi)"})," "]}),jsxRuntimeExports.jsxs("option",{value:"super_admin",children:["Super Admin ",jsxRuntimeExports.jsx("b",{className:" font-bold",children:" (All Access)"})]}),jsxRuntimeExports.jsxs("option",{value:"pm",children:["PM ",jsxRuntimeExports.jsx("b",{className:" font-bold",children:"(Sebagai PM Absensi Employee)"})]}),jsxRuntimeExports.jsx("option",{value:"employee",children:"Employee"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{children:"Email"}),jsxRuntimeExports.jsx(Input,{type:"email",name:"email_dummy",autoComplete:"new-email",inputMode:"email",placeholder:"user@email.com",value:tt.email,onChange:ht=>rt({...tt,email:ht.target.value}),disabled:ct})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{children:"Password"}),jsxRuntimeExports.jsx(Input,{type:"password",name:"password_dummy",autoComplete:"new-password",placeholder:"",value:tt.password,onChange:ht=>rt({...tt,password:ht.target.value}),disabled:ct}),jsxRuntimeExports.jsxs(Label$3,{className:"text-xs text-muted-foreground",children:[" ","default password: karyawan123"]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-2",children:jsxRuntimeExports.jsx(Button,{type:"submit",disabled:ct||!it||!tt.email||!tt.role,children:ct?"Creating...":"Create Account"})})]})}function AssignEmployeeAccount(){const[et,tt]=reactExports.useState([]);reactExports.useState(null),reactExports.useState(""),reactExports.useState("");const rt=async()=>{const{data:nt}=await supabase.from("employees").select("id, name").is("email",null).order("name");tt(nt||[])};return reactExports.useEffect(()=>{rt()},[]),jsxRuntimeExports.jsx("div",{className:"space-y-4 max-w-md",children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Fitur ini sedang dalam pengembangan."})})}const ROLE_OPTIONS=[{value:"Super Admin",label:"Super Admin"},{value:"Admin",label:"Admin"},{value:"employee",label:"Employee"}];function ProfilesTable(){const[et,tt]=reactExports.useState([]),[rt,nt]=reactExports.useState(""),[at,it]=reactExports.useState(null),[st,ot]=reactExports.useState({}),[lt,ct]=reactExports.useState(1),[ut,dt]=reactExports.useState(10),[ft,ht]=reactExports.useState([]),gt=async()=>{const{data:St,error:bt}=await supabase.from("profiles").select(`
      email,
      role,
      is_active,
      created_at,
      employees (
        name
      )
    `).order("role",{ascending:!1});if(bt){console.error(bt);return}tt(St||[])};reactExports.useEffect(()=>{gt()},[]),reactExports.useEffect(()=>{const St=supabase.channel("profiles-realtime").on("postgres_changes",{event:"*",schema:"public",table:"profiles"},gt).subscribe();return()=>{supabase.removeChannel(St)}},[]);const mt=reactExports.useMemo(()=>et.filter(St=>St.email.toLowerCase().includes(rt.toLowerCase())),[et,rt]),xt=Math.ceil(mt.length/ut),vt=reactExports.useMemo(()=>{const St=(lt-1)*ut;return mt.slice(St,St+ut)},[mt,lt,ut]);reactExports.useEffect(()=>{ct(1),ht([])},[rt,ut]);const _t=async St=>{const bt=st[St];if(!bt)return;it(St);const{error:Et}=await supabase.from("profiles").update({role:bt}).eq("email",St);Et?toast({title:"Error",description:"Gagal ",variant:"destructive"}):(ot(Tt=>{const At={...Tt};return delete At[St],At}),toast({title:"Berhasil",description:"Berhasil update role",variant:"success"})),it(null)},yt=St=>{if(!St)return"";const bt=St.trim().toLowerCase();return bt==="super admin"||bt==="super_admin"||bt==="superadmin"?"Super Admin":bt==="admin"?"Admin":"employee"};return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.25},className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Search email...",value:rt,onChange:St=>nt(St.target.value),className:"max-w-sm"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:"Rows:"}),jsxRuntimeExports.jsxs("select",{value:ut,onChange:St=>dt(Number(St.target.value)),className:"border rounded px-2 py-1 text-sm bg-background",children:[jsxRuntimeExports.jsx("option",{value:5,children:"5"}),jsxRuntimeExports.jsx("option",{value:10,children:"10"}),jsxRuntimeExports.jsx("option",{value:20,children:"20"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"rounded-lg border bg-background shadow-sm overflow-hidden",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{className:"bg-muted/50",children:[jsxRuntimeExports.jsx(TableHead,{children:"Email"}),jsxRuntimeExports.jsx(TableHead,{children:"Nama"}),jsxRuntimeExports.jsx(TableHead,{className:"text-center",children:"Role"}),jsxRuntimeExports.jsx(TableHead,{className:"text-center",children:"Status"}),jsxRuntimeExports.jsx(TableHead,{className:"text-center",children:"Update"})]})}),jsxRuntimeExports.jsxs(TableBody,{children:[vt.length===0&&jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:4,className:"text-center py-6 text-muted-foreground",children:"Tidak ada data"})}),vt.map((St,bt)=>{var Et;return jsxRuntimeExports.jsxs(motion.tr,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:bt*.03},className:"border-b last:border-b-0",children:[jsxRuntimeExports.jsx(TableCell,{className:"font-medium",children:St.email}),jsxRuntimeExports.jsx(TableCell,{className:"font-medium",children:((Et=St.employees)==null?void 0:Et.name)??"-"}),jsxRuntimeExports.jsx(TableCell,{className:"text-center",children:jsxRuntimeExports.jsx("select",{value:st[St.email]??yt(St.role),onChange:Tt=>ot(At=>({...At,[St.email]:Tt.target.value})),className:"border rounded px-2 py-1 text-sm bg-background",children:ROLE_OPTIONS.map(Tt=>jsxRuntimeExports.jsx("option",{value:Tt.value,children:Tt.label},Tt.value))})}),jsxRuntimeExports.jsx(TableCell,{className:"text-center",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${St.is_active?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:St.is_active?"Aktif":"Nonaktif"})}),jsxRuntimeExports.jsx(TableCell,{className:"text-center",children:jsxRuntimeExports.jsx(Button,{size:"sm",disabled:at===St.email||(st[St.email]??St.role)===St.role,onClick:()=>_t(St.email),children:at===St.email?"Updating...":"Save"})})]},St.email)})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",lt," dari ",xt||1]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",disabled:lt===1,onClick:()=>ct(St=>Math.max(1,St-1)),children:"Prev"}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",disabled:lt===xt||xt===0,onClick:()=>ct(St=>Math.min(xt,St+1)),children:"Next"})]})]})]})}function AccountSettingsTab(){return jsxRuntimeExports.jsx("div",{className:"space-y-6",children:jsxRuntimeExports.jsxs(Tabs,{defaultValue:"create",children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"create",children:"Create Account"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"assign",children:"Assign Employee"})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"create",children:[jsxRuntimeExports.jsx(CreateAccountForm,{}),jsxRuntimeExports.jsx(ProfilesTable,{})]}),jsxRuntimeExports.jsx(TabsContent,{value:"assign",children:jsxRuntimeExports.jsx(AssignEmployeeAccount,{})})]})})}const AdminSettings=()=>{const{user:et}=useAuth(),[tt,rt]=reactExports.useState([]),[nt,at]=reactExports.useState([]),[it,st]=reactExports.useState({divisions:!1,jobPositions:!1,submit:!1}),[ot,lt]=reactExports.useState(!1),[ct,ut]=reactExports.useState(null),[dt,ft]=reactExports.useState(""),ht=reactExports.useCallback(async(vt,_t,yt)=>{st(St=>({...St,[yt]:!0}));try{const{data:St,error:bt}=await supabase.from(vt).select("*").order("name");if(bt)throw bt;_t(St)}catch(St){toast({title:"Error",description:`Gagal memuat data ${yt}: ${St.message}`,variant:"destructive"})}finally{st(St=>({...St,[yt]:!1}))}},[]);reactExports.useEffect(()=>{ht("divisions",rt,"divisions"),ht("job_positions",at,"jobPositions")},[ht]);const gt=(vt=null,_t)=>{ut(vt),ft(_t),lt(!0)},mt=async vt=>{st(Et=>({...Et,submit:!0}));const _t=dt==="Divisi"?"divisions":"job_positions",yt=dt==="Divisi"?"DIVISION":"JOB_POSITION",St=dt==="Divisi"?rt:at,bt=dt==="Divisi"?"divisions":"jobPositions";try{let Et,Tt=vt.id?"UPDATE":"CREATE";if(vt.id?Et=await supabase.from(_t).update({name:vt.name}).eq("id",vt.id).select().single():Et=await supabase.from(_t).insert({name:vt.name}).select().single(),Et.error)throw Et.error;await addLog({userId:et.id,userName:et.name,userRole:et.role,action:Tt,targetType:yt,targetId:Et.data.id,targetName:Et.data.name}),toast({title:"Sukses",description:`${dt} berhasil ${vt.id?"diperbarui":"ditambahkan"}.`}),lt(!1),ht(_t,St,bt)}catch(Et){toast({title:"Error",description:`Gagal menyimpan ${dt.toLowerCase()}: ${Et.message}`,variant:"destructive"})}finally{st(Et=>({...Et,submit:!1}))}},xt=async(vt,_t)=>{var At;const yt=(At=(_t==="Divisi"?tt:nt).find(Ct=>Ct.id===vt))==null?void 0:At.name;if(!window.confirm(`Apakah Anda yakin ingin menghapus ${_t.toLowerCase()} "${yt}"?`))return;const St=_t==="Divisi"?"divisions":"job_positions",bt=_t==="Divisi"?"DIVISION":"JOB_POSITION",Et=_t==="Divisi"?rt:at,Tt=_t==="Divisi"?"divisions":"jobPositions";try{const{error:Ct}=await supabase.from(St).delete().eq("id",vt);if(Ct)throw Ct;await addLog({userId:et.id,userName:et.name,userRole:et.role,action:"DELETE",targetType:bt,targetId:vt,targetName:yt}),toast({title:"Sukses",description:`${_t} berhasil dihapus.`}),ht(St,Et,Tt)}catch(Ct){toast({title:"Error",description:`Gagal menghapus ${_t.toLowerCase()}: ${Ct.message}`,variant:"destructive"})}};return jsxRuntimeExports.jsxs(Layout,{children:[jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"space-y-2",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-cyan-600 bg-clip-text text-transparent",children:"Pengaturan Data Master"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Kelola data master seperti Divisi dan Jabatan untuk digunakan di seluruh sistem."})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"divisions",children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"divisions",children:"Divisi"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"job_positions",children:"Jabatan"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"accounts",children:"Account"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"divisions",children:jsxRuntimeExports.jsx(SettingsManagementTab,{title:"Manajemen Divisi",description:"Tambah, edit, atau hapus data divisi perusahaan.",items:tt,onAdd:()=>gt(null,"Divisi"),onEdit:vt=>gt(vt,"Divisi"),onDelete:vt=>xt(vt,"Divisi"),loading:it.divisions})}),jsxRuntimeExports.jsx(TabsContent,{value:"job_positions",children:jsxRuntimeExports.jsx(SettingsManagementTab,{title:"Manajemen Jabatan",description:"Tambah, edit, atau hapus data jabatan yang tersedia.",items:nt,onAdd:()=>gt(null,"Jabatan"),onEdit:vt=>gt(vt,"Jabatan"),onDelete:vt=>xt(vt,"Jabatan"),loading:it.jobPositions})}),jsxRuntimeExports.jsx(TabsContent,{value:"accounts",children:jsxRuntimeExports.jsx(AccountSettingsTab,{})})]})]}),jsxRuntimeExports.jsx(SettingsFormDialog,{isOpen:ot,onOpenChange:lt,onSubmit:mt,initialData:ct,itemType:dt,loading:it.submit})]})},AdminActivityLog=()=>{const[et,tt]=reactExports.useState([]),[rt,nt]=reactExports.useState(!0),[at,it]=reactExports.useState(""),[st,ot]=reactExports.useState({user:"",action:"",startDate:"",endDate:""}),[lt,ct]=reactExports.useState([]),[ut,dt]=reactExports.useState(1),[ft,ht]=reactExports.useState(!0),[gt,mt]=reactExports.useState(null),xt=20,vt=reactExports.useCallback(async()=>{try{const{data:Tt,error:At}=await supabase.from("activity_logs").select("user_id, user_name").order("user_name");if(At)throw At;if(Tt){const Ct=Array.from(new Map(Tt.filter(kt=>kt.user_id).map(kt=>[kt.user_id,kt])).values());ct(Ct)}}catch{toast({title:"Error",description:"Gagal memuat daftar pengguna.",variant:"destructive"})}},[]),_t=reactExports.useCallback(async(Tt=1)=>{nt(!0);try{let At=supabase.from("activity_logs").select("*").order("created_at",{ascending:!1});at&&(At=At.or(`action.ilike.%${at}%,target_type.ilike.%${at}%,target_name.ilike.%${at}%,user_name.ilike.%${at}%`)),st.user&&(At=At.eq("user_id",st.user)),st.action&&(At=At.eq("action",st.action)),st.startDate&&(At=At.gte("created_at",st.startDate)),st.endDate&&(At=At.lte("created_at",new Date(st.endDate).toISOString().replace("T00:00:00.000Z","T23:59:59.999Z")));const Ct=(Tt-1)*xt,kt=Ct+xt-1;At=At.range(Ct,kt);const{data:Pt,error:Dt}=await At;if(Dt)throw Dt;tt(Ft=>Tt===1?Pt:[...Ft,...Pt]),ht(Pt.length===xt)}catch(At){toast({title:"Error",description:"Gagal memuat log aktivitas: "+At.message,variant:"destructive"})}finally{nt(!1)}},[at,st]);reactExports.useEffect(()=>{vt()},[vt]),reactExports.useEffect(()=>{_t(1)},[at,st,_t]);const yt=(Tt,At)=>{const Ct=At==="all"?"":At;ot(kt=>({...kt,[Tt]:Ct})),dt(1),tt([])},St=()=>{it(""),ot({user:"",action:"",startDate:"",endDate:""}),dt(1),tt([])},bt=()=>{const Tt=ut+1;dt(Tt),_t(Tt)},Et=["LOGIN","LOGOUT","CREATE","UPDATE","DELETE"];return jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"space-y-2",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:"Log Aktivitas Admin"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Lacak semua tindakan penting yang dilakukan di dalam sistem."})]}),jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-lg",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center",children:[jsxRuntimeExports.jsx(SlidersHorizontal,{className:"mr-2"})," Filter & Pencarian"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"Cari berdasarkan aksi, target, atau nama pengguna...",value:at,onChange:Tt=>it(Tt.target.value),className:"pl-10"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[jsxRuntimeExports.jsxs(Select,{value:st.user||"all",onValueChange:Tt=>yt("user",Tt),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Semua Pengguna"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"Semua Pengguna"}),lt.map(Tt=>Tt.user_id&&jsxRuntimeExports.jsx(SelectItem,{value:Tt.user_id,children:Tt.user_name||"Tanpa Nama"},Tt.user_id))]})]}),jsxRuntimeExports.jsxs(Select,{value:st.action||"all",onValueChange:Tt=>yt("action",Tt),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Semua Aksi"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"Semua Aksi"}),Et.map(Tt=>jsxRuntimeExports.jsx(SelectItem,{value:Tt,children:Tt},Tt))]})]}),jsxRuntimeExports.jsx(Input,{type:"date",value:st.startDate,onChange:Tt=>yt("startDate",Tt.target.value)}),jsxRuntimeExports.jsx(Input,{type:"date",value:st.endDate,onChange:Tt=>yt("endDate",Tt.target.value)}),jsxRuntimeExports.jsx(Button,{onClick:St,variant:"outline",children:"Reset"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-2",children:jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-lg",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center",children:[jsxRuntimeExports.jsx(History,{className:"mr-2"})," Daftar Log"]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Waktu"}),jsxRuntimeExports.jsx(TableHead,{children:"Pengguna"}),jsxRuntimeExports.jsx(TableHead,{children:"Aksi"}),jsxRuntimeExports.jsx(TableHead,{children:"Target"})]})}),jsxRuntimeExports.jsx(TableBody,{children:rt&&et.length===0?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:"4",className:"text-center h-24",children:"Memuat..."})}):et.length===0?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:"4",className:"text-center h-24",children:"Tidak ada log yang cocok."})}):et.map(Tt=>jsxRuntimeExports.jsxs(TableRow,{onClick:()=>mt(Tt),className:"cursor-pointer hover:bg-muted/50",children:[jsxRuntimeExports.jsx(TableCell,{className:"text-xs",children:new Date(Tt.created_at).toLocaleString("id-ID")}),jsxRuntimeExports.jsx(TableCell,{children:Tt.user_name||"N/A"}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:Tt.action==="DELETE"?"destructive":"secondary",children:Tt.action})}),jsxRuntimeExports.jsx(TableCell,{children:Tt.target_type?`${Tt.target_type}: ${Tt.target_name||Tt.target_id}`:"-"})]},Tt.id))})]})}),ft&&!rt&&jsxRuntimeExports.jsx("div",{className:"text-center mt-4",children:jsxRuntimeExports.jsx(Button,{onClick:bt,variant:"outline",children:"Muat Lebih Banyak"})})]})]})}),jsxRuntimeExports.jsx("div",{className:"lg:col-span-1",children:jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-lg sticky top-24",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center",children:[jsxRuntimeExports.jsx(Info,{className:"mr-2"})," Detail Log"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Informasi rinci dari log yang dipilih."})]}),jsxRuntimeExports.jsx(CardContent,{className:"min-h-[300px] max-h-[60vh] overflow-y-auto",children:gt?jsxRuntimeExports.jsxs("div",{className:"space-y-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:"ID Log:"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground break-all",children:gt.id})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:"Waktu:"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:new Date(gt.created_at).toLocaleString("id-ID",{dateStyle:"full",timeStyle:"long"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:"Pengguna:"}),jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground",children:[gt.user_name," (",gt.user_role,")"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:"Aksi:"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:gt.action})]}),gt.target_type&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:"Tipe Target:"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:gt.target_type})]}),gt.target_name&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:"Nama Target:"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:gt.target_name})]}),gt.target_id&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:"ID Target:"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground break-all",children:gt.target_id})]}),gt.details&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:"Detail Tambahan:"}),jsxRuntimeExports.jsx("pre",{className:"mt-1 p-2 bg-muted/50 rounded-md whitespace-pre-wrap break-all",children:JSON.stringify(gt.details,null,2)})]})]}):jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:jsxRuntimeExports.jsx("p",{children:"Pilih log dari tabel untuk melihat detail."})})})]})})]})]})})},DirectManagerView=()=>{const[et,tt]=reactExports.useState({}),[rt,nt]=reactExports.useState(!0),[at,it]=reactExports.useState(""),[st,ot]=reactExports.useState({}),lt=useNavigate(),[ct,ut]=reactExports.useState([]),[dt,ft]=reactExports.useState([]),[ht,gt]=reactExports.useState("all"),[mt,xt]=reactExports.useState("all"),vt=Tt=>{const At=new Map,Ct=new Set,kt=new Set;Tt.forEach(Ot=>{Ot.work_location&&Ct.add(Ot.work_location),Ot.area&&kt.add(Ot.area)}),ut(["all",...Array.from(Ct).sort()]),ft(["all",...Array.from(kt).sort()]),new Set(Tt.map(Ot=>Ot.direct_manager_id).filter(Boolean)).forEach(Ot=>{const It=Tt.find(Bt=>Bt.id===Ot);It&&At.set(Ot,{...It,subordinates:Tt.filter(Bt=>Bt.direct_manager_id===Ot)})});const Dt=Array.from(At.values()),Ft={};Dt.forEach(Ot=>{const It=Ot.work_location||"Tanpa Lokasi Kerja",Bt=Ot.area||"Tanpa Area";Ft[It]||(Ft[It]={}),Ft[It][Bt]||(Ft[It][Bt]=[]),Ft[It][Bt].push(Ot)});for(const Ot in Ft)for(const It in Ft[Ot])Ft[Ot][It].sort((Bt,qt)=>Bt.name.localeCompare(qt.name));tt(Ft)},_t=async()=>{let Tt=[],At=0;const Ct=1e3;let kt=!0;for(;kt;){const{data:Pt,error:Dt}=await supabase.from("employees").select(`
          id,
          name,
          photo,
          position,
          division,
          direct_manager_id,
          work_location,
          area
        `).range(At,At+Ct-1);if(Dt)throw console.error("Error fetching employees in range:",Dt),Dt;Pt&&Tt.push(...Pt),(!Pt||Pt.length<Ct)&&(kt=!1),At+=Ct}return Tt},yt=reactExports.useCallback(async()=>{nt(!0);try{const Tt=await _t();vt(Tt)}catch(Tt){console.error("Error fetching managers:",Tt)}finally{nt(!1)}},[]);reactExports.useEffect(()=>{yt();const Tt=supabase.channel("employees-direct-manager-view").on("postgres_changes",{event:"*",schema:"public",table:"employees"},At=>{yt()}).subscribe();return()=>{supabase.removeChannel(Tt)}},[yt]);const St=Tt=>{ot(At=>({...At,[Tt]:!At[Tt]}))},bt=reactExports.useMemo(()=>{const Tt={};return(ht==="all"?Object.keys(et):et[ht]?[ht]:[]).forEach(Ct=>{(mt==="all"?Object.keys(et[Ct]):et[Ct][mt]?[mt]:[]).forEach(Pt=>{const Dt=et[Ct][Pt].filter(Ft=>at===""||Ft.name.toLowerCase().includes(at.toLowerCase())||Ft.subordinates.some(Ot=>Ot.name.toLowerCase().includes(at.toLowerCase())));Dt.length>0&&(Tt[Ct]||(Tt[Ct]={}),Tt[Ct][Pt]=Dt)})}),Tt},[et,ht,mt,at]),Et=Object.keys(bt).length===0;return jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Tampilan Manajer Langsung"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Lihat hierarki tim berdasarkan lokasi dan area."})]}),jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-lg",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Users,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:"Daftar Manajer"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 w-full sm:w-auto",children:[jsxRuntimeExports.jsxs(Select,{value:ht,onValueChange:gt,children:[jsxRuntimeExports.jsxs(SelectTrigger,{className:"w-full sm:w-[180px]",children:[jsxRuntimeExports.jsx(Building,{className:"h-4 w-4 mr-2"}),jsxRuntimeExports.jsx(SelectValue,{placeholder:"Lokasi Kerja"})]}),jsxRuntimeExports.jsx(SelectContent,{children:ct.map(Tt=>jsxRuntimeExports.jsx(SelectItem,{value:Tt,children:Tt==="all"?"Semua Lokasi":Tt},Tt))})]}),jsxRuntimeExports.jsxs(Select,{value:mt,onValueChange:xt,children:[jsxRuntimeExports.jsxs(SelectTrigger,{className:"w-full sm:w-[180px]",children:[jsxRuntimeExports.jsx(MapPin,{className:"h-4 w-4 mr-2"}),jsxRuntimeExports.jsx(SelectValue,{placeholder:"Area"})]}),jsxRuntimeExports.jsx(SelectContent,{children:dt.map(Tt=>jsxRuntimeExports.jsx(SelectItem,{value:Tt,children:Tt==="all"?"Semua Area":Tt},Tt))})]}),jsxRuntimeExports.jsx(Input,{placeholder:"Cari manajer atau bawahan...",value:at,onChange:Tt=>it(Tt.target.value),className:"w-full sm:w-auto"})]})]})}),jsxRuntimeExports.jsx(CardContent,{children:rt?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx(Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):Et?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(User,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Tidak Ada Manajer Ditemukan"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:at||ht!=="all"||mt!=="all"?"Tidak ada hasil yang cocok dengan filter atau pencarian Anda.":"Tidak ada karyawan yang ditugaskan sebagai manajer."})]}):jsxRuntimeExports.jsx("div",{className:"space-y-6",children:Object.entries(bt).map(([Tt,At])=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold flex items-center mb-3 text-primary",children:[jsxRuntimeExports.jsx(Building,{className:"h-5 w-5 mr-2"})," ",Tt]}),jsxRuntimeExports.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-primary/20",children:Object.entries(At).map(([Ct,kt])=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-md font-medium flex items-center mb-2 text-muted-foreground",children:[jsxRuntimeExports.jsx(MapPin,{className:"h-4 w-4 mr-2"})," ",Ct]}),jsxRuntimeExports.jsx("div",{className:"space-y-3 pl-4",children:kt.map(Pt=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},layout:!0,children:jsxRuntimeExports.jsxs(Card,{className:"overflow-hidden bg-card/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-muted/50",onClick:()=>St(Pt.id),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Avatar,{className:"h-9 w-9",children:[jsxRuntimeExports.jsx(AvatarImage,{src:Pt.photo}),jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:Pt.name.charAt(0)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-sm",children:Pt.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:Pt.position})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Badge,{variant:"outline",children:[Pt.subordinates.length," Bawahan"]}),st[Pt.id]?jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})]})]}),jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:st[Pt.id]&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},layout:!0,className:"bg-muted/20 p-3 border-t overflow-hidden",children:[jsxRuntimeExports.jsxs("h4",{className:"font-semibold mb-2 text-xs",children:["Tim ",Pt.name,":"]}),Pt.subordinates.length>0?jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:Pt.subordinates.map(Dt=>jsxRuntimeExports.jsxs(motion.li,{layout:!0,className:"flex items-center justify-between p-2 rounded-md hover:bg-background cursor-pointer",onClick:()=>lt(`/admin/employees/${Dt.id}`),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Avatar,{className:"h-8 w-8",children:[jsxRuntimeExports.jsx(AvatarImage,{src:Dt.photo}),jsxRuntimeExports.jsx(AvatarFallback,{children:Dt.name.charAt(0)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:Dt.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:Dt.position})]})]}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:Dt.division})]},Dt.id))}):jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Manajer ini tidak memiliki bawahan langsung."})]},"subordinates")})]})},Pt.id))})]},Ct))})]},Tt))})})]})]})})},ContractFormDialog=({isOpen:et,onOpenChange:tt,currentContract:rt,employees:nt,onSuccess:at})=>{useAuth();const[it,st]=reactExports.useState({employee_id:"",contract_type:"PKWT",start_date:"",end_date:"",contract_number:""}),[ot,lt]=reactExports.useState(!1),[ct,ut]=reactExports.useState(""),dt=reactExports.useRef(null);reactExports.useEffect(()=>{et&&st(rt?{employee_id:rt.employee_id,contract_type:rt.contract_type,start_date:rt.start_date?format$1(new Date(rt.start_date),"yyyy-MM-dd"):"",end_date:rt.end_date?format$1(new Date(rt.end_date),"yyyy-MM-dd"):"",contract_number:rt.contract_number||""}:{employee_id:"",contract_type:"PKWT",start_date:"",end_date:"",contract_number:""})},[et,rt]);const ft=xt=>{const{id:vt,value:_t}=xt.target;st(yt=>({...yt,[vt]:_t}))},ht=(xt,vt)=>{st(_t=>({..._t,[xt]:vt}))},gt=async xt=>{if(xt.preventDefault(),!it.employee_id||!it.start_date){toast({title:"Validasi Gagal",description:"Karyawan dan tanggal mulai harus diisi.",variant:"destructive"});return}lt(!0);try{const vt={...it,end_date:it.end_date||null};let _t;if(rt?_t=await supabase.from("employee_contracts").update(vt).eq("id",rt.id).select():_t=await supabase.from("employee_contracts").insert(vt).select(),_t.error)throw _t.error;toast({title:"Sukses",description:`Kontrak berhasil ${rt?"diperbarui":"ditambahkan"}.`}),at(),tt(!1)}catch(vt){toast({title:"Error",description:`Gagal menyimpan kontrak: ${vt.message}`,variant:"destructive"})}finally{lt(!1)}},mt=nt.filter(xt=>xt.name.toLowerCase().includes(ct.toLowerCase())||xt.nik&&xt.nik.includes(ct));return jsxRuntimeExports.jsx(Dialog,{open:et,onOpenChange:tt,children:jsxRuntimeExports.jsxs(DialogContent,{onOpenAutoFocus:xt=>xt.preventDefault(),children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:rt?"Edit Kontrak Kerja":"Tambah Kontrak Kerja"}),jsxRuntimeExports.jsx(DialogDescription,{children:rt?"Perbarui detail kontrak kerja karyawan.":"Tambahkan data kontrak kerja baru untuk karyawan."})]}),jsxRuntimeExports.jsxs("form",{onSubmit:gt,className:"space-y-4 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"employee_id",children:"Karyawan"}),jsxRuntimeExports.jsxs(Select,{value:it.employee_id,onValueChange:xt=>ht("employee_id",xt),disabled:!!rt,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Pilih Karyawan"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx("div",{className:"p-2",children:jsxRuntimeExports.jsx(Input,{ref:dt,placeholder:"Cari nama atau NIK...",value:ct,onChange:xt=>ut(xt.target.value)})}),mt.map(xt=>jsxRuntimeExports.jsxs(SelectItem,{value:xt.id,children:[xt.name," (",xt.nik,")"]},xt.id))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"contract_type",children:"Jenis Kontrak"}),jsxRuntimeExports.jsxs(Select,{value:it.contract_type,onValueChange:xt=>ht("contract_type",xt),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Pilih Jenis Kontrak"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"PKWT",children:"PKWT (Perjanjian Kerja Waktu Tertentu)"}),jsxRuntimeExports.jsx(SelectItem,{value:"PKWTT",children:"PKWTT (Perjanjian Kerja Waktu Tidak Tertentu)"}),jsxRuntimeExports.jsx(SelectItem,{value:"Magang",children:"Magang"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"start_date",children:"Tanggal Mulai"}),jsxRuntimeExports.jsx(Input,{id:"start_date",type:"date",value:it.start_date,onChange:ft})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"end_date",children:"Tanggal Berakhir"}),jsxRuntimeExports.jsx(Input,{id:"end_date",type:"date",value:it.end_date,onChange:ft})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$3,{htmlFor:"contract_number",children:"Nomor Kontrak (Opsional)"}),jsxRuntimeExports.jsx(Input,{id:"contract_number",value:it.contract_number,onChange:ft})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>tt(!1),disabled:ot,children:"Batal"}),jsxRuntimeExports.jsxs(Button,{type:"submit",disabled:ot,children:[ot?jsxRuntimeExports.jsx(Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,ot?"Menyimpan...":"Simpan"]})]})]})]})})},AdminContractManagement=()=>{const[et,tt]=reactExports.useState([]),[rt,nt]=reactExports.useState([]),[at,it]=reactExports.useState(!0),[st,ot]=reactExports.useState(!1),[lt,ct]=reactExports.useState(null),ut=reactExports.useCallback(async()=>{it(!0);try{const[gt,{data:mt,error:xt}]=await Promise.all([getEmployees("name",!0),supabase.from("employee_contracts").select("*, employees(name, nik)").order("start_date",{ascending:!1})]);if(xt)throw xt;nt(gt),tt(mt||[])}catch(gt){toast({title:"Error",description:`Gagal memuat data: ${gt.message}`,variant:"destructive"})}finally{it(!1)}},[]);reactExports.useEffect(()=>{ut()},[ut]);const dt=()=>{ct(null),ot(!0)},ft=gt=>{ct(gt),ot(!0)},ht=async gt=>{if(window.confirm("Apakah Anda yakin ingin menghapus data kontrak ini?"))try{const{error:mt}=await supabase.from("employee_contracts").delete().eq("id",gt);if(mt)throw mt;toast({title:"Sukses",description:"Kontrak berhasil dihapus."}),ut()}catch(mt){toast({title:"Error",description:`Gagal menghapus kontrak: ${mt.message}`,variant:"destructive"})}};return jsxRuntimeExports.jsxs(Layout,{children:[jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Manajemen Kontrak Kerja"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Kelola riwayat kontrak kerja seluruh karyawan."})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Daftar Kontrak Karyawan"}),jsxRuntimeExports.jsx(CardDescription,{children:"Lihat, tambah, edit, atau hapus data kontrak kerja."})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs(Button,{onClick:dt,className:"mb-4",children:[jsxRuntimeExports.jsx(PlusCircle,{className:"mr-2 h-4 w-4"})," Tambah Kontrak"]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Nama Karyawan"}),jsxRuntimeExports.jsx(TableHead,{children:"Jenis Kontrak"}),jsxRuntimeExports.jsx(TableHead,{children:"Tanggal Mulai"}),jsxRuntimeExports.jsx(TableHead,{children:"Tanggal Berakhir"}),jsxRuntimeExports.jsx(TableHead,{children:"Nomor Kontrak"}),jsxRuntimeExports.jsx(TableHead,{children:"Tanggal Dibuat"}),jsxRuntimeExports.jsx(TableHead,{children:"Aksi"})]})}),jsxRuntimeExports.jsx(TableBody,{children:at?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:"7",className:"text-center",children:jsxRuntimeExports.jsx(Loader2,{className:"mx-auto h-6 w-6 animate-spin"})})}):et.length===0?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:"7",className:"text-center",children:"Tidak ada data kontrak."})}):et.map(gt=>{var mt,xt;return jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsxs(TableCell,{children:[((mt=gt.employees)==null?void 0:mt.name)||"N/A"," (",((xt=gt.employees)==null?void 0:xt.nik)||"N/A",")"]}),jsxRuntimeExports.jsx(TableCell,{children:gt.contract_type}),jsxRuntimeExports.jsx(TableCell,{children:format$1(new Date(gt.start_date),"dd MMMM yyyy")}),jsxRuntimeExports.jsx(TableCell,{children:gt.end_date?format$1(new Date(gt.end_date),"dd MMMM yyyy"):" - "}),jsxRuntimeExports.jsx(TableCell,{children:gt.contract_number||"-"}),jsxRuntimeExports.jsx(TableCell,{children:gt.created_at?format$1(new Date(gt.created_at),"dd MMM yyyy, HH:mm"):"-"}),jsxRuntimeExports.jsxs(TableCell,{children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>ft(gt),children:jsxRuntimeExports.jsx(PenSquare,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>ht(gt.id),className:"text-red-500 hover:text-red-600",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]},gt.id)})})]})})]})]})]}),jsxRuntimeExports.jsx(ContractFormDialog,{isOpen:st,onOpenChange:ot,currentContract:lt,employees:rt,onSuccess:ut})]})},compressImage=async(et,{maxSizeKB:tt=15,maxWidth:rt=480,maxHeight:nt=480,initialQuality:at=.7,minQuality:it=.35}={})=>{const st=new Image,ot=URL.createObjectURL(et);st.src=ot,await new Promise(mt=>st.onload=mt);let{width:lt,height:ct}=st;const ut=Math.min(rt/lt,nt/ct,1);lt=Math.round(lt*ut),ct=Math.round(ct*ut);const dt=document.createElement("canvas"),ft=dt.getContext("2d");dt.width=lt,dt.height=ct,ft.drawImage(st,0,0,lt,ct),URL.revokeObjectURL(ot);let ht=at,gt;for(;ht>=it&&(gt=await new Promise(mt=>dt.toBlob(mt,"image/jpeg",ht)),!!gt);){if(gt.size/1024<=tt)return gt;ht-=.05}return dt.width=Math.floor(lt*.8),dt.height=Math.floor(ct*.8),ft.drawImage(st,0,0,dt.width,dt.height),gt=await new Promise(mt=>dt.toBlob(mt,"image/jpeg",it)),gt},LocationPermissionDialog=({open:et,loading:tt,onAllow:rt})=>et?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Izin Lokasi"}),jsxRuntimeExports.jsx(CardDescription,{children:"Aplikasi membutuhkan akses lokasi untuk mencatat absensi Anda"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(Button,{onClick:rt,disabled:tt,className:"w-full",children:tt?"Mengambil lokasi...":"Izinkan Lokasi"})})]})}):null,CameraCapture=({onConfirm:et})=>{const tt=reactExports.useRef(null),rt=reactExports.useRef(null),nt=reactExports.useRef(null),[at,it]=reactExports.useState(),[st,ot]=reactExports.useState(),[lt,ct]=reactExports.useState(!1),[ut,dt]=reactExports.useState(null),ft=mt=>{var yt;if(!mt)return!1;const xt=((yt=mt.label)==null?void 0:yt.toLowerCase())||"",_t=["obs","virtual","screen","ndi"].some(St=>xt.includes(St));return mt.kind==="video"&&mt.readyState==="live"&&mt.enabled===!0&&!_t};reactExports.useEffect(()=>{let mt=!0;return(async()=>{try{const vt=await navigator.mediaDevices.getUserMedia({video:!0});if(!mt)return;const _t=vt.getVideoTracks()[0];if(!ft(_t)){vt.getTracks().forEach(yt=>yt.stop()),dt("Kamera tidak tersedia"),ct(!1);return}nt.current=vt,tt.current.srcObject=vt,await tt.current.play(),dt(null)}catch(vt){if(console.error(vt),!mt)return;vt.name==="NotAllowedError"?dt("Akses kamera ditolak"):vt.name==="NotFoundError"?dt("Kamera tidak ditemukan"):dt("Kamera tidak dapat digunakan"),ct(!1)}})(),()=>{var vt;mt=!1,(vt=nt.current)==null||vt.getTracks().forEach(_t=>_t.stop())}},[]);const ht=()=>{const mt=tt.current;if(!mt||mt.videoWidth===0)return;const xt=rt.current;xt.width=mt.videoWidth,xt.height=mt.videoHeight;const vt=xt.getContext("2d");vt.setTransform(-1,0,0,1,xt.width,0),vt.drawImage(mt,0,0,xt.width,xt.height),vt.setTransform(1,0,0,1,0,0),it(xt.toDataURL("image/jpeg",.9)),xt.toBlob(_t=>ot(_t),"image/jpeg",.9)},gt=()=>{it(null),ot(null)};return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("video",{ref:tt,autoPlay:!0,playsInline:!0,muted:!0,onLoadedMetadata:()=>{tt.current.videoWidth>0?ct(!0):ct(!1)},className:`rounded-md w-full ${at?"hidden":"block"} -scale-x-100`}),at&&jsxRuntimeExports.jsx("img",{src:at,alt:"Preview",className:"rounded-md w-full"}),at?jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:gt,className:"flex-1",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"mr-2"}),"Ambil Ulang"]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>st&&et(st),className:"flex-1",children:[jsxRuntimeExports.jsx(Check,{className:"mr-2"}),"Lanjut"]})]}):jsxRuntimeExports.jsxs(Button,{onClick:ht,disabled:!lt||ut,className:"w-full",children:[jsxRuntimeExports.jsx(Camera,{className:"mr-2"}),ut||(lt?"Ambil Foto":"Menyiapkan Kamera...")]}),jsxRuntimeExports.jsx("canvas",{ref:rt,className:"hidden"})]})},dropdownVariants={hidden:{opacity:0,y:-6,scale:.98},visible:{opacity:1,y:0,scale:1,transition:{duration:.18,ease:"easeOut"}},exit:{opacity:0,y:-4,scale:.98,transition:{duration:.12,ease:"easeIn"}}},itemVariants={hidden:{opacity:0,y:-4},visible:{opacity:1,y:0,transition:{duration:.12}},exit:{opacity:0,y:4,transition:{duration:.08}}},PMSelect=({pmList:et,value:tt,onChange:rt,onSearch:nt,loading:at})=>{const it=reactExports.useRef(null),[st,ot]=reactExports.useState(""),[lt,ct]=reactExports.useState(!1);return reactExports.useEffect(()=>{if(!lt)return;const ut=setTimeout(()=>{nt(st)},300);return()=>clearTimeout(ut)},[st,lt]),reactExports.useEffect(()=>{if(!lt)return;const ut=dt=>{it.current&&!it.current.contains(dt.target)&&ct(!1)};return document.addEventListener("mousedown",ut),()=>{document.removeEventListener("mousedown",ut)}},[lt]),jsxRuntimeExports.jsxs("div",{className:"relative mb-5",ref:it,children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Pilih PM"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ct(ut=>!ut),className:"w-full rounded-md border px-3 py-2 text-left bg-background",children:tt?tt.name:"Pilih Direct PM"}),jsxRuntimeExports.jsx(AnimatePresence,{children:lt&&jsxRuntimeExports.jsxs(motion.div,{variants:dropdownVariants,initial:"hidden",animate:"visible",exit:"exit",className:"absolute z-50 mt-1 w-full rounded-md border bg-white dark:bg-background origin-top shadow-lg",children:[jsxRuntimeExports.jsx("input",{type:"text",value:st,placeholder:"Cari nama PM...",onChange:ut=>ot(ut.target.value),className:"w-full px-3 py-2 border-b text-sm dark:bg-background",autoFocus:!0}),jsxRuntimeExports.jsx("ul",{className:"max-h-48 overflow-auto",children:jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:at?jsxRuntimeExports.jsx(motion.li,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"px-3 py-2 text-sm text-gray-400",children:"Mencari..."},"loading"):et.length===0?jsxRuntimeExports.jsx(motion.li,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"px-3 py-2 text-sm text-gray-400",children:"Data tidak ditemukan"},"empty"):et.map(ut=>jsxRuntimeExports.jsx(motion.li,{variants:itemVariants,initial:"hidden",animate:"visible",exit:"exit",onMouseDown:dt=>{dt.preventDefault(),rt(ut),ct(!1),ot("")},className:"cursor-pointer px-3 py-2 text-sm dark:hover:bg-gray-700 hover:bg-gray-100",children:ut.name},ut.id))})})]})})]})},CheckInDialog=({open:et,onClose:tt,selfieTaken:rt,setSelfieTaken:nt,setSelfieBlob:at,pmList:it,pmLoading:st,selectedPM:ot,setSelectedPM:lt,projectText:ct,setProjectText:ut,onConfirm:dt,onSearchPM:ft})=>et?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 flex items-center justify-center",onClick:tt,children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md relative",onClick:ht=>ht.stopPropagation(),children:[jsxRuntimeExports.jsx("button",{onClick:tt,className:"absolute right-3 top-3 text-gray-500 hover:text-red-500",children:""}),jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Check-In"}),jsxRuntimeExports.jsx(CardDescription,{children:"Ambil selfie lalu isi data Project"})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-3",children:rt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(PMSelect,{pmList:it,value:ot,onChange:lt,onSearch:ft,loading:st}),jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",children:"Project"}),jsxRuntimeExports.jsx("textarea",{className:"w-full rounded-md border p-2 text-sm dark:bg-background",value:ct,onChange:ht=>ut(ht.target.value)}),jsxRuntimeExports.jsx(Button,{variant:"secondary",size:"sm",className:"w-full",onClick:()=>{nt(!1),lt(null),ut("")},children:" Kembali"}),jsxRuntimeExports.jsx(Button,{disabled:!ot||!ct,onClick:dt,className:"w-full",children:"Konfirmasi Check-In"})]}):jsxRuntimeExports.jsx(CameraCapture,{onConfirm:ht=>{at(ht),nt(!0)}})})]})}):null,ConfirmCheckoutDialog=({open:et,onCancel:tt,onConfirm:rt,loading:nt})=>et?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Konfirmasi Check-Out"}),jsxRuntimeExports.jsx(CardDescription,{children:"Yakin ingin melakukan check-out sekarang?"})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",className:"flex-1",onClick:tt,children:"Batal"}),jsxRuntimeExports.jsx(Button,{className:"flex-1 bg-blue-600 text-white",onClick:rt,disabled:nt,children:"Ya, Check-Out"})]})})]})}):null,UpdateLocationDialog=({open:et,onClose:tt,attendanceId:rt,employeeId:nt,liveLocation:at,liveAddress:it})=>{const[st,ot]=reactExports.useState(""),[lt,ct]=reactExports.useState(!1),ut=async()=>{if(!at){toast({title:"Lokasi belum siap",variant:"destructive"});return}if(!st){toast({title:"Keterangan aktivitas tidak boleh kosong",variant:"destructive"});return}ct(!0);try{const{error:dt}=await supabase.from("attendance_location_logs").insert({attendance_id:rt,employee_id:nt,latitude:at.latitude,longitude:at.longitude,activity:st||"Lokasi kerja diperbarui",source:"gps",address:it||null});if(dt)throw dt;toast({title:"Lokasi berhasil diperbarui",description:"Progres lokasi kerja tersimpan",className:"bg-green-600 text-white"}),ot(""),tt()}catch(dt){toast({title:"Gagal menyimpan lokasi",description:dt.message,variant:"destructive"})}finally{ct(!1)}};return jsxRuntimeExports.jsx(Dialog,{open:et,onOpenChange:tt,children:jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(MapPin,{className:"h-5 w-5 text-primary"}),"Update Lokasi Kerja"]}),jsxRuntimeExports.jsx(DialogDescription,{children:"Simpan progres lokasi kerja Anda saat ini"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"text-sm",children:jsxRuntimeExports.jsxs("div",{children:["lokasi: ",it||"-"]})}),jsxRuntimeExports.jsx(Textarea,{placeholder:"Keterangan aktivitas pekerjaan, opsional jika anda berpindah lokasi kerja",value:st,required:!0,onChange:dt=>ot(dt.target.value)})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:tt,disabled:lt,children:"Batal"}),jsxRuntimeExports.jsxs(Button,{onClick:ut,disabled:lt,children:[lt&&jsxRuntimeExports.jsx(Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Simpan Update"]})]})]})})},LocationLogsTable=({attendanceId:et})=>{const[tt,rt]=reactExports.useState([]),[nt,at]=reactExports.useState(!1),it=()=>{const lt=new Date,ct=new Date(lt.setHours(0,0,0,0)),ut=new Date(lt.setHours(23,59,59,999));return{start:ct.toISOString(),end:ut.toISOString()}},st=async()=>{if(!et)return;at(!0);const{start:lt,end:ct}=it(),{data:ut,error:dt}=await supabase.from("attendance_location_logs").select("id, activity, recorded_at").eq("attendance_id",et).gte("recorded_at",lt).lte("recorded_at",ct).order("recorded_at",{ascending:!1});dt||rt(ut||[]),at(!1)},ot=lt=>lt?new Date(lt).toLocaleString("id-ID",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return reactExports.useEffect(()=>{st()},[et]),jsxRuntimeExports.jsxs(Card,{className:"border-0 shadow-md",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2 text-lg",children:[jsxRuntimeExports.jsx(MapPin,{className:"h-5 w-5 text-orange-600"}),"Riwayat Lokasi Kerja Hari ini"]})}),jsxRuntimeExports.jsx(CardContent,{children:nt?jsxRuntimeExports.jsx("p",{className:"text-center text-muted-foreground",children:"Memuat data lokasi..."}):tt.length===0?jsxRuntimeExports.jsx("p",{className:"text-center text-muted-foreground",children:"Belum ada update lokasi."}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Waktu"}),jsxRuntimeExports.jsx(TableHead,{children:"Keterangan"})]})}),jsxRuntimeExports.jsx(TableBody,{children:tt.map(lt=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{className:"",children:ot(lt.recorded_at)}),jsxRuntimeExports.jsx(TableCell,{children:lt.activity})]},lt.id))})]})})})]})},CheckoutBlockedDialog=({open:et,onClose:tt})=>jsxRuntimeExports.jsx(Dialog,{open:et,onOpenChange:tt,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-xl",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{className:"flex items-center justify-center gap-2 text-orange-500",children:jsxRuntimeExports.jsx(AlertTriangle,{className:"h-20 w-20"})}),jsxRuntimeExports.jsxs(DialogDescription,{className:"space-y-2 mt-7 text-center",children:[jsxRuntimeExports.jsxs("p",{className:"mt-5",children:[jsxRuntimeExports.jsx("b",{className:"text-green-500",children:"Checkout"})," dan  ",jsxRuntimeExports.jsx("b",{className:"text-green-500",children:"Update Lokasi Kerja"})," hanya dapat dilakukan hingga pukul ",jsxRuntimeExports.jsx("b",{children:"23.59"})]}),jsxRuntimeExports.jsx("p",{children:"Data absensi anda hari ini sudah disimpan."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Silakan hubungi Team HRD jika memerlukan bantuan."})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end mt-4",children:jsxRuntimeExports.jsx(Button,{onClick:tt,children:"Saya Mengerti"})})]})}),WorkHourWarningDialog=({open:et,onClose:tt,onProceed:rt,hours:nt})=>jsxRuntimeExports.jsx(Dialog,{open:et,onOpenChange:tt,children:jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-2",children:jsxRuntimeExports.jsx(AlertTriangle,{className:"h-20 w-20 text-red-700"})}),jsxRuntimeExports.jsxs(DialogTitle,{children:[" ",jsxRuntimeExports.jsxs("h1",{className:" text-center text-gray-600",children:["Anda Bekerja Kurang Dari 8 Jam ",jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsx("h1",{className:" text-gray-600",children:"Apakah Anda yakin ingin melakukan check-out sekarang?"})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{className:"mt-4",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:tt,children:"Batal"}),jsxRuntimeExports.jsx(Button,{variant:"destructive",onClick:rt,children:"Tetap Check-Out"})]})]})}),EmployeeAttendancePage=()=>{var sn;const{user:et}=useAuth(),[tt,rt]=reactExports.useState(null),[nt,at]=reactExports.useState([]),[it,st]=reactExports.useState({checkInOut:!1,history:!1,today:!1}),[ot,lt]=reactExports.useState(new Date),[ct,ut]=reactExports.useState(!1),[dt,ft]=reactExports.useState(!1),[ht,gt]=reactExports.useState(!1),[mt,xt]=reactExports.useState(null),vt=()=>{ft(!1),gt(!1),Tt(null),Ct("")},[_t,yt]=reactExports.useState([]),[St,bt]=reactExports.useState(!1),[Et,Tt]=reactExports.useState(null),[At,Ct]=reactExports.useState(""),[kt,Pt]=reactExports.useState(null),[Dt,Ft]=reactExports.useState(!1),[Ot,It]=reactExports.useState(!1),[Bt,qt]=reactExports.useState(!1),[Ut,Ht]=reactExports.useState(!1),[Qt,ir]=reactExports.useState(0);reactExports.useEffect(()=>{const Ur=setInterval(()=>lt(new Date),1e3);return()=>clearInterval(Ur)},[]);const Xt=async(Ur="")=>{bt(!0);const{data:$r,error:Yr}=await supabase.from("employees").select("id, name").eq("is_direct_pm",!0).ilike("name",`%${Ur}%`).order("name").limit(20);Yr||yt($r??[]),bt(!1)};reactExports.useEffect(()=>{Xt()},[]);const Lt=reactExports.useCallback(async()=>{var Ur;if((Ur=et==null?void 0:et.employeeData)!=null&&Ur.id){st($r=>({...$r,today:!0}));try{const $r=new Date().toISOString().split("T")[0],{data:Yr,error:rn}=await supabase.from("attendance_records").select("*, attendance_statuses(name)").eq("employee_id",et.employeeData.id).eq("attendance_date",$r).single();if(rn&&rn.code!=="PGRST116")throw rn;rt(Yr)}catch($r){toast({title:"Error",description:"Gagal memuat absensi hari ini: "+$r.message,variant:"destructive"})}finally{ut(!0),st($r=>({...$r,today:!1}))}}},[et]),jt=reactExports.useCallback(async()=>{var Ur;if((Ur=et==null?void 0:et.employeeData)!=null&&Ur.id){st($r=>({...$r,history:!0}));try{const{data:$r,error:Yr}=await supabase.from("attendance_records").select("*, attendance_statuses(name)").eq("employee_id",et.employeeData.id).order("attendance_date",{ascending:!1}).limit(30);if(Yr)throw Yr;at($r)}catch($r){toast({title:"Error",description:"Gagal memuat histori absensi: "+$r.message,variant:"destructive"})}finally{st($r=>({...$r,history:!1}))}}},[et]);reactExports.useEffect(()=>{Lt(),jt()},[Lt,jt]);const Nt=()=>kt?{lat:kt.latitude,lng:kt.longitude,address:Fr||null,captured_at:new Date().toISOString(),source:"watchPosition"}:null,Mt=Ur=>Ur.trim().toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"-"),Vt=()=>{const Ur=new Date,$r=String(Ur.getHours()).padStart(2,"0"),Yr=String(Ur.getMinutes()).padStart(2,"0");return`${$r}.${Yr}`},Gt=async Ur=>{if(!(et!=null&&et.name))throw new Error("Nama user tidak ada");if(!(Ur instanceof Blob))throw new Error("Selfie bukan Blob");const $r=await compressImage(Ur),Yr=new Date().toISOString().split("T")[0],rn=Mt(et.name),nn=Vt(),hn=`${Yr}/${rn}-${nn}.jpg`,{error:Or}=await supabase.storage.from("photo.attendance").upload(hn,$r,{contentType:"image/jpeg",upsert:!1});if(Or)throw console.error("Upload error:",Or),Or;return hn},Zt=async({direct_pm_id:Ur=null,project:$r=null}={})=>{if(et!=null&&et.id){if(!mt||!kt){toast({title:"Data belum lengkap",variant:"destructive"});return}st(Yr=>({...Yr,checkInOut:!0}));try{const Yr=await Gt(mt),rn=Nt(),{data:nn}=await supabase.from("attendance_statuses").select("id").eq("code","H").single(),{data:hn,error:Or}=await supabase.rpc("check_in_employee",{p_employee_id:et.employeeData.id,p_status_id:nn.id,p_loc:rn,p_direct_pm:Ur,p_project:$r,p_attachment:Yr});if(Or)throw Or;rt(hn),jt(),toast({title:"Check-In Berhasil",description:"Jam diambil dari server (WIB)",className:"bg-green-500 text-white"})}catch(Yr){toast({title:"Gagal Check-In",description:Yr.message})}finally{st(Yr=>({...Yr,checkInOut:!1}))}}},er=async()=>{if(!(!(tt!=null&&tt.id)||!kt)){st(Ur=>({...Ur,checkInOut:!0}));try{const Ur=Nt(),{data:$r,error:Yr}=await supabase.rpc("check_out_employee_with_time",{p_attendance_id:tt.id,p_loc:Ur});if(Yr)throw Yr;rt($r),jt(),Ft(!1),toast({variant:"success",title:"Check-Out Berhasil",description:"Anda telah menyelesaikan absensi hari ini."})}catch(Ur){qt(!0),Ft(!1),toast({variant:"destructive",title:"Check-Out Gagal",description:Ur.message||"Checkout sudah melewati batas waktu (17:00 UTC)"})}finally{st(Ur=>({...Ur,checkInOut:!1}))}}},ar=!tt||!tt.check_in_time,Kt=tt&&tt.check_in_time&&!tt.check_out_time,pr=()=>new Date().getUTCHours()<17,fr=tt&&tt.check_in_time&&!tt.check_out_time&&pr(),[vr,wr]=reactExports.useState(!1);reactExports.useState(null);const[hr,Ir]=reactExports.useState(!1);reactExports.useState({}),reactExports.useEffect(()=>{ct&&((!tt||!tt.check_in_time)&&!kt?Ir(!0):Ir(!1))},[ct,tt,kt]);const[Jr,Br]=reactExports.useState(!1),Zr=()=>{Br(!0),navigator.geolocation.getCurrentPosition(Ur=>{Pt({latitude:Ur.coords.latitude,longitude:Ur.coords.longitude}),wr(!0),Ir(!1),Br(!1)},Ur=>{Br(!1),toast({title:"Izin Lokasi Diperlukan",description:Ur.code===1?"Izin lokasi ditolak browser":"GPS tidak tersedia",variant:"destructive"})},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},[Fr,Cr]=reactExports.useState("-"),[Tr,Dr]=reactExports.useState(null);reactExports.useEffect(()=>{if(!navigator.geolocation)return;const Ur=navigator.geolocation.watchPosition(async $r=>{const Yr=$r.coords.latitude,rn=$r.coords.longitude;Pt({latitude:Yr,longitude:rn}),wr(!0),Ir(!1);try{const hn=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Yr}&lon=${rn}`)).json();Cr(hn.display_name||"-")}catch{Cr("-")}},$r=>{console.error("Live location error:",$r)},{enableHighAccuracy:!0,maximumAge:1e4,timeout:5e3});return Dr(Ur),()=>{Ur&&navigator.geolocation.clearWatch(Ur)}},[vr]);const Gr=nt.reduce((Ur,$r)=>{const rn=new Date($r.attendance_date).toLocaleDateString("id-ID",{month:"long",year:"numeric"});return Ur[rn]||(Ur[rn]={month:rn,checkin:0,checkout:0}),$r.check_in_time&&(Ur[rn].checkin+=1),$r.check_out_time&&(Ur[rn].checkout+=1),Ur},{}),qr=Object.values(Gr);return jsxRuntimeExports.jsxs(Layout,{children:[jsxRuntimeExports.jsx(CheckoutBlockedDialog,{open:Bt,onClose:()=>qt(!1)}),hr&&jsxRuntimeExports.jsx(LocationPermissionDialog,{open:hr,loading:Jr,onAllow:Zr}),jsxRuntimeExports.jsx(CheckInDialog,{open:dt,onClose:vt,selfieTaken:ht,setSelfieTaken:gt,setSelfieBlob:xt,pmList:_t,pmLoading:St,selectedPM:Et,setSelectedPM:Tt,projectText:At,setProjectText:Ct,onSearchPM:Xt,onConfirm:async()=>{await Zt({direct_pm_id:(Et==null?void 0:Et.id)??null,project:At}),vt()}}),Dt&&jsxRuntimeExports.jsx(ConfirmCheckoutDialog,{open:Dt,onCancel:()=>Ft(!1),onConfirm:er,loading:it.checkInOut}),jsxRuntimeExports.jsx(UpdateLocationDialog,{open:Ot,onClose:()=>It(!1),attendanceId:tt==null?void 0:tt.id,employeeId:(sn=et==null?void 0:et.employeeData)==null?void 0:sn.id,liveLocation:kt,liveAddress:Fr}),jsxRuntimeExports.jsx(WorkHourWarningDialog,{open:Ut,hours:Qt,onClose:()=>Ht(!1),onProceed:()=>{Ht(!1),Ft(!0)}}),jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"space-y-2",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",children:"Absensi Saya"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Lakukan absensi harian dan lihat riwayat kehadiran Anda."})]}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},children:jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-xl",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center",children:[jsxRuntimeExports.jsx(CalendarClock,{className:"mr-2 h-5 w-5 text-primary"}),"Absensi Hari Ini"]}),jsxRuntimeExports.jsx(CardDescription,{children:new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"text-center text-5xl font-bold text-gray-700 dark:text-gray-300 p-4 rounded-lg bg-gray-100 dark:bg-gray-800",children:ot.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}),it.today?jsxRuntimeExports.jsx("p",{className:"text-center text-muted-foreground",children:"Memeriksa status absensi..."}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[(tt==null?void 0:tt.check_in_time)&&jsxRuntimeExports.jsxs("p",{className:"text-center text-green-600",children:["Check-In pada:"," ",new Date(tt.check_in_time).toLocaleTimeString("id-ID"),tt.attendance_statuses&&` (${tt.attendance_statuses.name})`]}),(tt==null?void 0:tt.check_out_time)&&jsxRuntimeExports.jsxs("p",{className:"text-center text-blue-600",children:["Check-Out pada:"," ",new Date(tt.check_out_time).toLocaleTimeString("id-ID")]}),(tt==null?void 0:tt.check_in_time)&&!(tt!=null&&tt.check_out_time)&&fr&&jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>{if(!fr){qt(!0);return}It(!0)},className:"w-full py-4",children:[jsxRuntimeExports.jsx(MapPin,{className:"mr-2 h-5 w-5"}),"Update Lokasi Kerja"]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[jsxRuntimeExports.jsxs(Button,{onClick:()=>ft(!0),disabled:!ar||it.checkInOut,className:"flex-1 bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white text-lg py-6",children:[jsxRuntimeExports.jsx(LogIn,{className:"mr-2 h-5 w-5"})," ",it.checkInOut&&ar?"Memproses...":"Check In"]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>{if(!fr){qt(!0);return}Ft(!0)},disabled:!Kt||it.checkInOut,className:"flex-1 bg-gradient-to-r from-blue-500 to-indigo-600 text-white text-lg py-6",children:[jsxRuntimeExports.jsx(LogOut,{className:"mr-2 h-5 w-5"}),"Check Out"]})]}),!ar&&!Kt&&tt&&jsxRuntimeExports.jsx("p",{className:"text-center text-muted-foreground mt-2",children:"Anda sudah menyelesaikan absensi hari ini."})]})]})]})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:jsxRuntimeExports.jsxs(Card,{className:"border-0 shadow-md bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg bg-gradient-to-r from-blue-500 to-cyan-500 bg-clip-text text-transparent",children:"Lokasi Anda Saat Ini"}),jsxRuntimeExports.jsx(CardDescription,{children:"Menampilkan lokasi aktif selama halaman ini dibuka ( gunakan perangkat mobile untuk hasil lebih akurat )"})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-2 text-sm",children:kt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Latitude:"})," ",kt.latitude]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Longitude:"})," ",kt.longitude]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Alamat:"})," ",Fr]})]}):jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Menunggu lokasi aktif..."})})]})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:jsxRuntimeExports.jsx(LocationLogsTable,{attendanceId:tt==null?void 0:tt.id})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-0 shadow-xl",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center",children:[jsxRuntimeExports.jsx(History,{className:"mr-2 h-5 w-5 text-purple-500"}),"Rekap Absesnsi Bulanan Anda"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Catatan kehadiran Anda"})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:jt,disabled:it.history,children:jsxRuntimeExports.jsx(RefreshCw,{className:`h-4 w-4 ${it.history?"animate-spin":""}`})})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"space-y-3 md:hidden max-h-60 overflow-auto",children:it.history?jsxRuntimeExports.jsx("p",{className:"text-center text-muted-foreground",children:"Memuat data..."}):qr.length===0?jsxRuntimeExports.jsx("p",{className:"text-center text-muted-foreground",children:"Tidak ada data absensi."}):qr.map(Ur=>jsxRuntimeExports.jsxs("div",{className:"rounded-xl border bg-background p-4 shadow-sm space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-sm text-muted-foreground",children:Ur.month}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Check-In"}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-green-600",children:Ur.checkin})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Check-Out"}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-blue-600",children:Ur.checkout})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm border-t pt-2",children:[jsxRuntimeExports.jsx("span",{children:"Kehadiran"}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-purple-600",children:Ur.checkin})]})]},Ur.month))}),jsxRuntimeExports.jsx("div",{className:"hidden md:block overflow-x-auto",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Bulan"}),jsxRuntimeExports.jsx(TableHead,{className:"text-center",children:"Check-In"}),jsxRuntimeExports.jsx(TableHead,{className:"text-center",children:"Check-Out"}),jsxRuntimeExports.jsx(TableHead,{className:"text-center",children:"Kehadiran"})]})}),jsxRuntimeExports.jsx(TableBody,{children:it.history?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:4,className:"text-center",children:"Memuat data..."})}):qr.length===0?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:4,className:"text-center text-muted-foreground",children:"Tidak ada data absensi."})}):qr.map(Ur=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{className:"font-medium",children:Ur.month}),jsxRuntimeExports.jsx(TableCell,{className:"text-center text-green-600 font-semibold",children:Ur.checkin}),jsxRuntimeExports.jsx(TableCell,{className:"text-center text-blue-600 font-semibold",children:Ur.checkout}),jsxRuntimeExports.jsx(TableCell,{className:"text-center text-purple-600 font-semibold",children:Ur.checkin})]},Ur.month))})]})})]})]})})]})]})},todayISO=()=>new Date().toISOString().split("T")[0],TeamAttendancePage=()=>{const{user:et}=useAuth(),[tt,rt]=reactExports.useState([]),[nt,at]=reactExports.useState(!0),[it,st]=reactExports.useState(""),[ot,lt]=reactExports.useState(""),[ct,ut]=reactExports.useState(todayISO()),[dt,ft]=reactExports.useState(todayISO()),[ht,gt]=reactExports.useState(1),[mt,xt]=reactExports.useState(10);reactExports.useEffect(()=>{const Et=setTimeout(()=>{lt(it)},500);return()=>clearTimeout(Et)},[it]),reactExports.useEffect(()=>{var Et;(Et=et==null?void 0:et.employeeData)!=null&&Et.id&&vt()},[et,ot,ct,dt]),reactExports.useEffect(()=>{gt(1)},[ot,ct,dt,mt]);const vt=async()=>{at(!0);let Et=supabase.from("attendance_records").select(`
      id,
      attendance_date,
      check_in_time,
      check_out_time,
      notes,
      loc_checkin,
      loc_checkout,
      employees:employee_id (
        name,
        nik
      ),
      direct_pm:direct_pm_id (
        name
      ),
      attendance_statuses (
        name
      )
    `).eq("direct_pm_id",et.employeeData.id).order("attendance_date",{ascending:!1});ct&&(Et=Et.gte("attendance_date",ct)),dt&&(Et=Et.lte("attendance_date",dt));const{data:Tt,error:At}=await Et;if(At)console.error("Fetch attendance error:",At),rt([]);else{let Ct=Tt||[];if(ot){const kt=ot.toLowerCase();Ct=Ct.filter(Pt=>{var Dt,Ft;return(Ft=(Dt=Pt.employees)==null?void 0:Dt.name)==null?void 0:Ft.toLowerCase().includes(kt)})}rt(Ct)}at(!1)},_t=Math.ceil(tt.length/mt),yt=tt.slice((ht-1)*mt,ht*mt),St=(Et,Tt)=>{if(!Et||!Tt)return"-";const At=new Date(Et),kt=new Date(Tt)-At;if(kt<=0)return"-";const Pt=Math.floor(kt/1e3/60),Dt=Math.floor(Pt/60),Ft=Pt%60;return`${Dt} jam ${Ft} menit`},bt=Et=>new Date(Et).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"});return jsxRuntimeExports.jsxs(Layout,{children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"space-y-2 mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",children:"Absensi Tim Saya"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Pantau riwayat kehadiran team Anda."})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"space-y-4",children:[jsxRuntimeExports.jsx(CardTitle,{children:"Absensi Tim"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["Absensi"," ",ct===dt?bt(ct):`${bt(ct)}  ${bt(dt)}`," ","sebanyak ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:tt.length})," data"]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$3,{children:"Cari Nama Karyawan"}),jsxRuntimeExports.jsx(Input,{placeholder:"",value:it,onChange:Et=>st(Et.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$3,{children:"Dari Tanggal"}),jsxRuntimeExports.jsx(Input,{type:"date",value:ct,onChange:Et=>ut(Et.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$3,{children:"Sampai Tanggal"}),jsxRuntimeExports.jsx(Input,{type:"date",value:dt,onChange:Et=>ft(Et.target.value)})]})]})]}),jsxRuntimeExports.jsxs(CardContent,{className:"overflow-x-auto",children:[jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Tanggal"}),jsxRuntimeExports.jsx(TableHead,{children:"Nama Karyawan"}),jsxRuntimeExports.jsx(TableHead,{children:"NIK"}),jsxRuntimeExports.jsx(TableHead,{children:"Direct PM"}),jsxRuntimeExports.jsx(TableHead,{children:"Check In"}),jsxRuntimeExports.jsx(TableHead,{children:"Check Out"}),jsxRuntimeExports.jsx(TableHead,{children:"Status"}),jsxRuntimeExports.jsx(TableHead,{children:"Catatan"}),jsxRuntimeExports.jsx(TableHead,{children:"Lokasi"}),jsxRuntimeExports.jsx(TableHead,{children:"Total Jam Kerja"})]})}),jsxRuntimeExports.jsx(TableBody,{children:nt?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:10,className:"text-center",children:"Memuat data..."})}):tt.length===0?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:10,className:"text-center text-muted-foreground",children:"Tidak ada catatan absensi."})}):yt.map(Et=>{var Tt,At,Ct,kt;return jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:new Date(Et.attendance_date).toLocaleDateString("id-ID",{timeZone:"UTC"})}),jsxRuntimeExports.jsx(TableCell,{children:((Tt=Et.employees)==null?void 0:Tt.name)||"N/A"}),jsxRuntimeExports.jsx(TableCell,{children:((At=Et.employees)==null?void 0:At.nik)||"N/A"}),jsxRuntimeExports.jsx(TableCell,{children:((Ct=Et.direct_pm)==null?void 0:Ct.name)||"N/A"}),jsxRuntimeExports.jsx(TableCell,{children:Et.check_in_time?new Date(Et.check_in_time).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"-"}),jsxRuntimeExports.jsx(TableCell,{children:Et.check_out_time?new Date(Et.check_out_time).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"-"}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:((kt=Et.attendance_statuses)==null?void 0:kt.name)||(Et.check_in_time?"Hadir":"-")})}),jsxRuntimeExports.jsx(TableCell,{children:Et.notes||"-"}),jsxRuntimeExports.jsxs(TableCell,{className:"space-y-1",children:[Et.loc_checkin&&jsxRuntimeExports.jsx("a",{href:`https://www.google.com/maps?q=${Et.loc_checkin.lat},${Et.loc_checkin.lng}`,target:"_blank",rel:"noopener noreferrer",className:"block text-green-600 hover:underline",children:"Check-In"}),Et.loc_checkout&&jsxRuntimeExports.jsx("a",{href:`https://www.google.com/maps?q=${Et.loc_checkout.lat},${Et.loc_checkout.lng}`,target:"_blank",rel:"noopener noreferrer",className:"block text-red-600 hover:underline",children:"Check-Out"}),!Et.loc_checkin&&!Et.loc_checkout&&"-"]}),jsxRuntimeExports.jsx(TableCell,{className:"font-medium text-center",children:St(Et.check_in_time,Et.check_out_time)})]},Et.id)})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:["Menampilkan ",(ht-1)*mt+1,"",Math.min(ht*mt,tt.length)," dari ",tt.length," ","data"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("select",{value:mt,onChange:Et=>xt(Number(Et.target.value)),className:"rounded-md border px-2 py-1 text-sm",children:[jsxRuntimeExports.jsx("option",{value:10,children:"10"}),jsxRuntimeExports.jsx("option",{value:25,children:"25"}),jsxRuntimeExports.jsx("option",{value:50,children:"50"})]}),jsxRuntimeExports.jsx("button",{disabled:ht===1,onClick:()=>gt(Et=>Et-1),className:"px-3 py-1 border rounded disabled:opacity-50",children:"Prev"}),jsxRuntimeExports.jsx("button",{disabled:ht===_t||_t===0,onClick:()=>gt(Et=>Et+1),className:"px-3 py-1 border rounded disabled:opacity-50",children:"Next"})]})]})]})]})]})},fetchMySubordinates=async et=>{const{data:tt,error:rt}=await supabase.rpc("get_my_subordinates",{manager_uuid:et});if(rt)throw rt;return tt??[]},Skeleton=({className:et=""})=>jsxRuntimeExports.jsx("div",{className:`animate-pulse rounded-md bg-muted/60 ${et}`}),TableSkeleton=({rows:et=5})=>jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"No"}),jsxRuntimeExports.jsx(TableHead,{children:"Nama Karyawan"}),jsxRuntimeExports.jsx(TableHead,{children:"Jabatan"}),jsxRuntimeExports.jsx(TableHead,{children:"Divisi"}),jsxRuntimeExports.jsx(TableHead,{children:"Email"}),jsxRuntimeExports.jsx(TableHead,{children:"Telepon"})]})}),jsxRuntimeExports.jsx(TableBody,{children:Array.from({length:et}).map((tt,rt)=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Skeleton,{className:"h-4 w-6"})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Skeleton,{className:"h-4 w-40"})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Skeleton,{className:"h-4 w-28"})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Skeleton,{className:"h-6 w-24 rounded-full"})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Skeleton,{className:"h-4 w-48"})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Skeleton,{className:"h-4 w-28"})})]},rt))})]}),EmployeeTeamPage=()=>{var mt;const{user:et}=useAuth(),[tt,rt]=reactExports.useState([]),[nt,at]=reactExports.useState(!0),[it,st]=reactExports.useState(""),[ot,lt]=reactExports.useState(1),[ct,ut]=reactExports.useState(10);reactExports.useEffect(()=>{var xt;(xt=et==null?void 0:et.employeeData)!=null&&xt.id&&dt()},[(mt=et==null?void 0:et.employeeData)==null?void 0:mt.id]);const dt=async()=>{at(!0);const xt=await fetchMySubordinates(et.employeeData.id);rt(xt),at(!1)},ft=tt.filter(xt=>{var vt;return(vt=xt.name)==null?void 0:vt.toLowerCase().includes(it.toLowerCase())}),ht=Math.ceil(ft.length/ct),gt=ft.slice((ot-1)*ct,ot*ct);return reactExports.useEffect(()=>{lt(1)},[it,ct]),jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"space-y-2 mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",children:"Data Tim Saya"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Data karyawan bawahan langsung Anda."})]}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col mt-5 md:flex-row md:items-center md:justify-between gap-4 mb-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Cari nama karyawan...",value:it,onChange:xt=>st(xt.target.value),className:"w-full md:w-64 rounded-md border px-3 py-2 text-sm"}),jsxRuntimeExports.jsxs("select",{value:ct,onChange:xt=>ut(Number(xt.target.value)),className:"w-32 rounded-md border px-2 py-2 text-sm",children:[jsxRuntimeExports.jsx("option",{value:10,children:"10 baris"}),jsxRuntimeExports.jsx("option",{value:25,children:"25 baris"}),jsxRuntimeExports.jsx("option",{value:50,children:"50 baris"})]})]}),nt?jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},children:jsxRuntimeExports.jsx(TableSkeleton,{rows:5})}):tt.length===0?jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Anda tidak memiliki bawahan"}):jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"No"}),jsxRuntimeExports.jsx(TableHead,{children:"Nama Karyawan"}),jsxRuntimeExports.jsx(TableHead,{children:"Jabatan"}),jsxRuntimeExports.jsx(TableHead,{children:"Divisi"}),jsxRuntimeExports.jsx(TableHead,{children:"Email"}),jsxRuntimeExports.jsx(TableHead,{children:"Telepon"})]})}),jsxRuntimeExports.jsx(TableBody,{children:gt.map((xt,vt)=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:(ot-1)*ct+vt+1}),jsxRuntimeExports.jsx(TableCell,{children:xt.name}),jsxRuntimeExports.jsx(TableCell,{children:xt.position}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"primary",children:xt.division})}),jsxRuntimeExports.jsx(TableCell,{children:xt.email||"-"}),jsxRuntimeExports.jsx(TableCell,{children:xt.phone||"-"})]},xt.id))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:["Menampilkan ",(ot-1)*ct+1,"",Math.min(ot*ct,ft.length)," dari"," ",ft.length," data"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",disabled:ot===1,onClick:()=>lt(xt=>xt-1),children:"Prev"}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",disabled:ot===ht||ht===0,onClick:()=>lt(xt=>xt+1),children:"Next"})]})]})]})})]})})},ForbiddenPage=()=>{const et=useNavigate();return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-6xl font-bold text-red-500",children:"403"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:"Anda tidak memiliki akses ke halaman ini"}),jsxRuntimeExports.jsx("button",{onClick:()=>et(-1),className:"mt-6 px-4 py-2 rounded bg-primary text-primary-foreground",children:"Kembali"})]})};function AppContent(){const{successModalProps:et,showSuccessModal:tt,hideSuccessModal:rt}=useSuccessModal();return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(LoginPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(LoginPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/admin/dashboard",element:jsxRuntimeExports.jsx(ProtectedRoute,{requiredRoles:["Super Admin"],children:jsxRuntimeExports.jsx(AdminDashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/admin/employees",element:jsxRuntimeExports.jsx(ProtectedRoute,{requiredRoles:["Super Admin"],children:jsxRuntimeExports.jsx(EmployeeManagement,{})})}),jsxRuntimeExports.jsx(Route,{path:"/admin/employees/:id",element:jsxRuntimeExports.jsx(ProtectedRoute,{requiredRoles:["Super Admin"],children:jsxRuntimeExports.jsx(EmployeeDetail,{})})}),jsxRuntimeExports.jsx(Route,{path:"/admin/announcements",element:jsxRuntimeExports.jsx(ProtectedRoute,{requiredRoles:["Super Admin"],children:jsxRuntimeExports.jsx(AdminAnnouncements,{})})}),jsxRuntimeExports.jsx(Route,{path:"/admin/leave-management",element:jsxRuntimeExports.jsx(ProtectedRoute,{requiredRoles:["Super Admin"],children:jsxRuntimeExports.jsx(AdminLeaveManagement,{showSuccessModal:tt})})}),jsxRuntimeExports.jsx(Route,{path:"/admin/contract-management",element:jsxRuntimeExports.jsx(ProtectedRoute,{requiredRoles:["Super Admin"],children:jsxRuntimeExports.jsx(AdminContractManagement,{})})}),jsxRuntimeExports.jsx(Route,{path:"/admin/organization-chart",element:jsxRuntimeExports.jsx(ProtectedRoute,{requiredRoles:["Super Admin"],children:jsxRuntimeExports.jsx(AdminOrgChart,{})})}),jsxRuntimeExports.jsx(Route,{path:"/admin/direct-manager",element:jsxRuntimeExports.jsx(ProtectedRoute,{requiredRoles:["Super Admin"],children:jsxRuntimeExports.jsx(DirectManagerView,{})})}),jsxRuntimeExports.jsx(Route,{path:"/admin/attendance-management",element:jsxRuntimeExports.jsx(ProtectedRoute,{requiredRoles:["Admin","Super Admin"],children:jsxRuntimeExports.jsx(AdminAttendanceManagement,{})})}),jsxRuntimeExports.jsx(Route,{path:"/admin/settings",element:jsxRuntimeExports.jsx(ProtectedRoute,{requiredRoles:["Super Admin"],children:jsxRuntimeExports.jsx(AdminSettings,{})})}),jsxRuntimeExports.jsx(Route,{path:"/admin/activity-log",element:jsxRuntimeExports.jsx(ProtectedRoute,{requiredRoles:["Super Admin"],children:jsxRuntimeExports.jsx(AdminActivityLog,{})})}),jsxRuntimeExports.jsx(Route,{path:"/employee/dashboard",element:jsxRuntimeExports.jsx(ProtectedRoute,{requiredRoles:["employee","Admin","Super Admin","PM"],children:jsxRuntimeExports.jsx(EmployeeDashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/employee/profile",element:jsxRuntimeExports.jsx(ProtectedRoute,{requiredRoles:["employee","Admin","Super Admin","PM"],children:jsxRuntimeExports.jsx(EmployeeProfile,{})})}),jsxRuntimeExports.jsx(Route,{path:"/employee/leave-request",element:jsxRuntimeExports.jsx(ProtectedRoute,{requiredRoles:["employee","Admin","Super Admin","PM"],children:jsxRuntimeExports.jsx(EmployeeLeaveRequest,{showSuccessModal:tt})})}),jsxRuntimeExports.jsx(Route,{path:"/employee/attendance",element:jsxRuntimeExports.jsx(ProtectedRoute,{requiredRoles:["employee","Admin","Super Admin","PM"],children:jsxRuntimeExports.jsx(EmployeeAttendancePage,{})})}),jsxRuntimeExports.jsx(Route,{path:"/employee/pm-attendance",element:jsxRuntimeExports.jsx(ProtectedRoute,{requiredRoles:["employee","Admin","Super Admin","PM"],children:jsxRuntimeExports.jsx(TeamAttendancePage,{})})}),jsxRuntimeExports.jsx(Route,{path:"/employee/my-team",element:jsxRuntimeExports.jsx(ProtectedRoute,{requiredRoles:["employee","Admin","Super Admin","PM"],children:jsxRuntimeExports.jsx(EmployeeTeamPage,{})})}),jsxRuntimeExports.jsx(Route,{path:"/403",element:jsxRuntimeExports.jsx(ForbiddenPage,{})})]}),jsxRuntimeExports.jsx(Toaster,{}),jsxRuntimeExports.jsx(SuccessModal,{isOpen:et.isOpen,onClose:rt,title:et.title,description:et.description,leaveRequestNumber:et.leaveRequestNumber})]})})}function App(){return jsxRuntimeExports.jsx(ThemeProvider,{children:jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(SuccessModalProvider,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(AppContent,{})})})})})}const index="";client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React$1.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
